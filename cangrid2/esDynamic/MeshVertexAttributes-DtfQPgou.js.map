{"version":3,"file":"MeshVertexAttributes-DtfQPgou.js","sources":["../../node_modules/@arcgis/core/geometry/support/MeshVertexAttributes.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import e from\"../../core/Logger.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import{cast as s}from\"../../core/accessorSupport/decorators/cast.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";var i;let l=i=class extends r{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return c(t,Uint8Array,[Uint8ClampedArray],{loggerTag:\".color=\",stride:4},e.getLogger(this))}castPosition(t){t&&t instanceof Float32Array&&e.getLogger(this).warn(\".position=\",\"Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array\");return c(t,Float64Array,[Float32Array],{loggerTag:\".position=\",stride:3},e.getLogger(this))}castUv(t){return c(t,Float32Array,[Float64Array],{loggerTag:\".uv=\",stride:2},e.getLogger(this))}castNormal(t){return c(t,Float32Array,[Float64Array],{loggerTag:\".normal=\",stride:3},e.getLogger(this))}castTangent(t){return c(t,Float32Array,[Float64Array],{loggerTag:\".tangent=\",stride:4},e.getLogger(this))}clone(){const t={position:o(this.position),uv:o(this.uv),normal:o(this.normal),tangent:o(this.tangent),color:o(this.color)};return new i(t)}clonePositional(){const t={position:o(this.position),normal:o(this.normal),tangent:o(this.tangent),uv:this.uv,color:this.color};return new i(t)}get memoryUsage(){let t=0;return t+=this.position.byteLength,null!=this.uv&&(t+=this.uv.byteLength),null!=this.normal&&(t+=this.normal.byteLength),null!=this.tangent&&(t+=this.tangent.byteLength),null!=this.color&&(t+=this.color.byteLength),t}};function g(t,r,o,e){const{loggerTag:n,stride:s}=r;return t.length%s!=0?(e.error(n,`Invalid array length, expected a multiple of ${s}`),new o([])):t}function c(t,r,o,e,n){if(!t)return t;if(t instanceof r)return g(t,e,r,n);for(const s of o)if(t instanceof s)return g(new r(t),e,r,n);if(Array.isArray(t))return g(new r(t),e,r,n);{const e=o.map((t=>`'${t.name}'`));return n.error(`Failed to set property, expected one of ${e}, but got ${t.constructor.name}`),new r([])}}function p(t,r,o){r[o]=u(t)}function u(t){const r=new Array(t.length);for(let o=0;o<t.length;o++)r[o]=t[o];return r}t([n({json:{write:p}})],l.prototype,\"color\",void 0),t([s(\"color\")],l.prototype,\"castColor\",null),t([n({nonNullable:!0,json:{write:p}})],l.prototype,\"position\",void 0),t([s(\"position\")],l.prototype,\"castPosition\",null),t([n({json:{write:p}})],l.prototype,\"uv\",void 0),t([s(\"uv\")],l.prototype,\"castUv\",null),t([n({json:{write:p}})],l.prototype,\"normal\",void 0),t([s(\"normal\")],l.prototype,\"castNormal\",null),t([n({json:{write:p}})],l.prototype,\"tangent\",void 0),t([s(\"tangent\")],l.prototype,\"castTangent\",null),l=i=t([a(\"esri.geometry.support.MeshVertexAttributes\")],l);export{l as MeshVertexAttributes,c as castArray};\n"],"names":["i","l","r","c","e","o","g","n","s","t","p","u","a"],"mappings":"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","x_google_ignoreList":[0]}