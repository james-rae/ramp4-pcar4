{"version":3,"file":"FeatureLayerView2D-CqQiJTv9.js","sources":["../../node_modules/@arcgis/core/AggregateGraphic.js","../../node_modules/@arcgis/core/layers/effects/FeatureEffectView.js","../../node_modules/@arcgis/core/rest/support/AggregateFeatureSet.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/shaderGraph/techniques/FeatureInstanceStore.js","../../node_modules/@arcgis/core/views/2d/layers/features/RenderState.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureContainer.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeaturePipelineWorkerProxy.js","../../node_modules/@arcgis/core/views/2d/layers/features/FeatureSourceEventLog.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/geometryUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureReductionUtils.js","../../node_modules/@arcgis/core/views/2d/layers/support/visualVariableSimpleUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/labelingUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/SourceSchema.js","../../node_modules/@arcgis/core/views/2d/engine/webgl/color.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/symbols/SymbolSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/LabelMatcherSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/MatcherSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/SimpleProcessorSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/CatalogFootprintLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/featureServiceUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/floorFilterUtils.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/FeatureLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/InMemoryLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/KnowledgeGraphSublayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/OGCFeatureLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/OrientedImageryLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/StreamLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/features/schema/processor/SubtypeProcessorSchema.js","../../node_modules/@arcgis/core/views/2d/layers/features/layerAdapters/SubtypeGroupLayerAdapter.js","../../node_modules/@arcgis/core/views/2d/layers/support/handleNoEngineError.js","../../node_modules/@arcgis/core/views/2d/tiling/FeatureTileSubscriptionManager.js","../../node_modules/@arcgis/core/views/layers/FeatureLayerView.js","../../node_modules/@arcgis/core/views/2d/layers/FeatureLayerView2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./chunks/tslib.es6.js\";import t from\"./Graphic.js\";import{property as r}from\"./core/accessorSupport/decorators/property.js\";import\"./core/has.js\";import\"./core/Logger.js\";import\"./core/RandomLCG.js\";import{subclass as o}from\"./core/accessorSupport/decorators/subclass.js\";let p=class extends t{constructor(){super(...arguments),this.isAggregate=!0}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.sourceLayer?.featureReduction;return t&&\"popupTemplate\"in t&&t.popupEnabled?t.popupTemplate:null}getObjectId(){return this.attributes.aggregateId}};e([r({type:Boolean})],p.prototype,\"isAggregate\",void 0),p=e([o(\"esri.AggregateGraphic\")],p);const s=p;export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import has from\"../../core/has.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{EffectView as f}from\"./EffectView.js\";let c=class extends t{constructor(e){super(e),this._filter=null,this.duration=has(\"mapview-transitions-duration\"),this._excludedEffectView=new f(e),this._includedEffectView=new f(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get(\"featureEffect\")!==e&&this._transitionTo(e)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set(\"scale\",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}transitionStep(e,t){this._set(\"scale\",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransitions(){this._includedEffectView.endTransitions(),this._excludedEffectView.endTransitions(),this._filter=null}_transitionTo(e){const t=this._get(\"featureEffect\"),i=e,s=i?.includedEffect,f=i?.excludedEffect,c=this._includedEffectView.canTransitionTo(s)&&this._excludedEffectView.canTransitionTo(f);this._includedEffectView.effect=s,this._excludedEffectView.effect=f,this._set(\"featureEffect\",i),this._filter=i?.filter||t?.filter||null,c||this.endTransitions()}};e([i()],c.prototype,\"_filter\",void 0),e([i()],c.prototype,\"_excludedEffectView\",void 0),e([i()],c.prototype,\"_includedEffectView\",void 0),e([i()],c.prototype,\"duration\",void 0),e([i()],c.prototype,\"excludedEffects\",null),e([i()],c.prototype,\"featureEffect\",null),e([i()],c.prototype,\"filter\",null),e([i()],c.prototype,\"hasEffects\",null),e([i()],c.prototype,\"includedEffects\",null),e([i({value:0})],c.prototype,\"scale\",null),e([i()],c.prototype,\"transitioning\",null),c=e([s(\"esri.layers.effects.FeatureEffectView\")],c);const r=c;export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../AggregateGraphic.js\";import\"../../geometry.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as o}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"./FeatureSet.js\";import p from\"../../geometry/SpatialReference.js\";let c=class extends a{constructor(){super(...arguments),this.features=[]}readFeatures(e,t){const o=p.fromJSON(t.spatialReference),s=[];for(let a=0;a<e.length;a++){const t=e[a],p=r.fromJSON(t),c=t.geometry?.spatialReference;null==p.geometry||c||(p.geometry.spatialReference=o);const m=t.aggregateGeometries,i=p.aggregateGeometries;if(m&&null!=i)for(const e in i){const r=i[e],t=m[e],s=t?.spatialReference;null==r||s||(r.spatialReference=o)}s.push(p)}return s}};e([t({type:[r],json:{write:!0}})],c.prototype,\"features\",void 0),e([o(\"features\")],c.prototype,\"readFeatures\",null),c=e([s(\"esri.rest.support.AggregateFeatureSet\")],c);const m=c;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{numericHash as t}from\"../../../../../../core/string.js\";import{FeatureTechniqueInstance as n}from\"./TechniqueInstance.js\";import{castInstanceId as e}from\"./mesh/instanceIdUtils.js\";class s{constructor(){this._instanceById=new Map}destroy(){this._instanceById.clear()}get size(){return this._instanceById.size}entries(){return this._instanceById.entries()}updateStart(){this._instanceByIdNext=new Map}updateEnd(){if(!this._instanceByIdNext)throw new Error(\"InternalError: Found updateEnd call without corresponding updateStart\");for(const t of this._instanceById.keys())this._instanceByIdNext.has(t)||this._instanceById.delete(t);for(const[t,n]of this._instanceByIdNext.entries()){const e=this._instanceById.get(t);e?e.setInput(n.getInput()):this._instanceById.set(t,n)}this._instanceByIdNext=null}values(){return this._instanceById.values()}ensureInstance(s,i){let r;if(\"object\"==typeof i&&\"optionalAttributes\"in i&&\"uniforms\"in i){r=`${s.type}${JSON.stringify(i.optionalAttributes)}`;const t=i.uniforms;if(\"object\"==typeof t)for(const n in t)r+=`${n}.${null!=t[n]}`}else r=`${s.type}.${JSON.stringify(i)}`;const a=t(r);if(this._instanceByIdNext){const t=new n(e(a),s,i);return this._instanceByIdNext.set(a,t),t}if(!this._instanceById.has(a)){const t=new n(e(a),s,i);this._instanceById.set(a,t)}return this._instanceById.get(a)}getInstance(t){return this._instanceById.get(t)}}export{s as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/CircularArray.js\";import t from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{create as s}from\"../../../../geometry/support/aaBoundingRect.js\";import\"../../tiling/TileInfoView.js\";import o from\"../../tiling/TileKey.js\";import\"../../tiling/TileQueue.js\";import\"../../tiling/TileStrategy.js\";import{FeatureTile as n}from\"../../engine/webgl/FeatureTile.js\";import{getPow2NeighborKey as r}from\"./support/tileUtils.js\";const l=1e3;class d{constructor(t,i,s){this.getStage=t,this.version=i,this._tileInfoView=s,this._pendingUpdates=new e(l),this._locked=!1,this._tiles=new Map}destroy(){for(const e of this.tiles())e.destroy();this._pendingUpdates.clear(),this._tiles.clear()}tiles(){return this._tiles.values()}size(){return this._tiles.size}setTiles(e){this._tiles.clear();for(const t of e)this._tiles.set(t.key.id,t)}lockUploads(){this._locked=!0}unlockUploads(){this._locked=!1,this.flush()}enqueueUpdate(e){this._pendingUpdates.enqueue(e)}update(e){if(!this._locked)for(;this._pendingUpdates.size;){const t=this._pendingUpdates.peek();if(null==t||t.attributeEpoch>e)break;this._updateTile(t),this._pendingUpdates.dequeue()}}removeTile(e){const t=this._tiles.get(e);has(\"esri-2d-update-debug\")&&console.debug(`Tile[${e}] RenderState.removeTile`),t?.destroy(),this._tiles.delete(e)}isTileDone(e){const t=this._tiles.get(e.id);return!!t&&t.isReady}flush(){for(;this._pendingUpdates.size;){const e=this._pendingUpdates.dequeue();null!=e&&this._updateTile(e)}for(const e of this._tiles.values())e.upload()}_updateTile(e){if(has(\"esri-2d-update-debug\")){const t=e.debugInfo?.chunkId??\"<EnsureEnd>\";console.debug(`Version[${e.version}] Tile[${e.id}] Chunk[${t}] RenderState.updateTile [${e.type}]`,e)}const t=this._ensureTile(e.id);if(\"update\"===e.type){const[i,...s]=e.modify;t.onMessage({type:\"update\",modify:i,remove:e.remove,end:e.end,attributeEpoch:e.attributeEpoch});for(const t of s){const i=this._tiles.get(t.tileId);i&&i.onMessage({type:\"update\",modify:t,remove:e.remove,end:!1,isPixelBuffer:!0,attributeEpoch:null})}return}if(null==e.append)return void t.onMessage({type:\"append\",clear:e.clear,debugInfo:e.debugInfo,end:e.end,attributeEpoch:e.attributeEpoch});const[i,...s]=e.append;t.onMessage({type:\"append\",clear:e.clear,append:i,debugInfo:e.debugInfo,end:e.end,attributeEpoch:e.attributeEpoch});for(const o of s){const e=this._tiles.get(o.tileId);e&&e.onMessage({type:\"update\",modify:o,remove:[],sort:!1,end:!1,isPixelBuffer:!0,attributeEpoch:null})}}_ensureTile(e){if(!this._tiles.has(e)){const t=this._createTile(e);this._copyPixelBufferedEntitiesInto(t),this._tiles.set(e,t)}return this._tiles.get(e)}_createTile(e){has(\"esri-2d-update-debug\")&&console.debug(`Version[${this.version}] Tile[${e}] RenderState.createTile`);const r=new o(e),l=this._tileInfoView.getTileBounds(s(),r),d=this._tileInfoView.getTileResolution(r.level),a=new n(r,d,l[0],l[3],!0);if(a.stage=this.getStage(),!a.stage){const e=new t(\"featurelayerview:webgl\",\"Cannot create tile with empty stage\");i.getLogger(\"esri.views.2d.layers.features.RenderState\").error(e)}return a}_copyPixelBufferedEntitiesInto(e){let t=7;for(let i=-1;i<=1;i++)for(let s=-1;s<=1;s++){if(0===i&&0===s)continue;const o=this._tileInfoView.tileInfo.isWrappable,n=r(e.key,s,i,o).id,l=this._tiles.get(n);if(null!=l){const o=1<<t;e.copyPixelBufferedEntitesFrom(l,o,s,i)}t--}}}export{d as RenderState};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{throwIfAborted as e,createResolver as t}from\"../../../../core/promiseUtils.js\";import{UpdatingHandles as s}from\"../../../../core/support/UpdatingHandles.js\";import{AFeatureContainer as i}from\"../../engine/AFeatureContainer.js\";import{WGLDrawPhase as r,FeatureSelection as n,FeatureBatchingStrategy as a}from\"../../engine/webgl/enums.js\";import o from\"../../engine/webgl/shaderGraph/techniques/FeatureInstanceStore.js\";import{RenderState as h}from\"./RenderState.js\";import{renderHighlight as d}from\"../support/util.js\";class l{constructor(e,s){this.id=e,this.version=s,this._resolver=t(),this._done=!1}get done(){return this._done}get promise(){return this._resolver.promise}end(){this._resolver.resolve(),this._done=!0}destroy(){this._resolver.reject()}}class u extends i{constructor(e){super(e.view.featuresTilingScheme),this.updatingHandles=new s,this._hitTestsRequests=[],this._store=new o,this._visibleTiles=new Set,this._subscriptions=new Map,this._updateStatisticsRequests=[],this._lockStatisticUpdates=!1,this._layerView=e}renderChildren(e){if(this.attributeView.update(),this._renderState?.update(this.attributeView.currentEpoch),this._renderState){const e=Array.from(this._renderState.tiles()).filter((e=>e.needsUpload));if(e.length){e[Math.floor(Math.random()*e.length)].upload(),e.length>=2&&this.requestRender()}for(const t of this._renderState.tiles())t.tryReady(this.attributeView.currentEpoch)&&(this._subscriptions.get(t.key.id)?.end(),this._layerView.requestUpdate(),this.hasLabels&&this._layerView.view.labelManager.requestUpdate(),this.requestRender())}for(const t of this.children)t.setTransform(e.state);if(this.hasAnimation){e.painter.effects.integrate.draw(e,e.attributeView)}switch(super.renderChildren(e),e.drawPhase){case r.MAP:return this._renderMapPhase(e);case r.HIGHLIGHT:return this._renderHighlightPhase(e);case r.LABEL:return this._renderLabelPhase(e)}}subscriptions(){return this._subscriptions.values()}get _instanceStore(){return this._store}get instanceStore(){return this._store}get layerView(){return this._layerView}get hasLabels(){return this._layerView.labelingCollisionInfos.length>0}get hasHighlight(){return this._layerView.hasHighlight()}get _layer(){return this._layerView.layer}_getExclusivePostprocessingInstance({drawPhase:e}){if(null==this._instanceStore)return null;let t=0,s=null;for(const i of this._instanceStore.values())i.techniqueRef.drawPhase&e&&(t++,i.techniqueRef.postProcessingEnabled&&(s=i));return t>1?null:s}_getOverrideStencilRef({drawPhase:e}){if(null==this._instanceStore)return null;let t=null;for(const s of this._instanceStore.values()){if(!(s.techniqueRef.drawPhase&e))continue;const{overrideStencilRef:i}=s.techniqueRef;if(null==t)t=i;else if(t!==i){t=null;break}}return t}get children(){return this._renderState?Array.from(this._renderState.tiles()).filter((e=>this._visibleTiles.has(e.key.id))):[]}updateAttributeView(e){this.requestRender(),this.attributeView.requestUpdate(e),this.hasLabels&&this._layerView.view.labelManager.requestUpdate()}updateSubscriptions(e){for(const{tileId:t,version:s}of e.subscribe)if(this._subscriptions.has(t))this._subscriptions.get(t).version=s;else{const e=new l(t,s);this._subscriptions.set(t,e),this.updatingHandles.addPromise(e.promise)}for(const t of e.unsubscribe){const e=this._subscriptions.get(t);e?.destroy(),this._subscriptions.delete(t),this.removeTile(t)}}isDone(e){return!!this._renderState&&this._renderState.isTileDone(e)}async updateRenderState(e){has(\"esri-2d-update-debug\")&&console.debug(`Version[${e}] FeatureContainer.updateRenderState`),this._renderStateNext=new h((()=>this._stage),e,this._tileInfoView)}getDisplayStatistics(e,t){const s=this._statisticsByLevel.get(e);return s?s.get(t):null}updateStatistics(e,t){if(this._lockStatisticUpdates)return void this._updateStatisticsRequests.push({level:e,statistics:t});let s=this._statisticsByLevel.get(e);s||(s=new Map,this._statisticsByLevel.set(e,s));for(const i of t)s.set(i.fieldName,{minValue:i.minValue,maxValue:i.maxValue})}editStart(){this._renderState?.lockUploads(),this.attributeView.lockTextureUploads(),this._lockStatisticUpdates=!0}editEnd(){this._renderState?.unlockUploads(),this.attributeView.unlockTextureUploads(),this._lockStatisticUpdates=!1;for(const e of this._updateStatisticsRequests)this.updateStatistics(e.level,e.statistics);this._updateStatisticsRequests=[],this.requestRender()}swapRenderState(){this._renderStateNext&&(has(\"esri-2d-update-debug\")&&console.debug(`Version[${this._renderStateNext.version}] FeatureContainer.update.swapRenderState`),this._renderState?.destroy(),this._renderState=this._renderStateNext,this._renderStateNext=null),this._renderState&&this._renderState.flush(),this.requestRender()}setVisibleTiles(e){this._visibleTiles=e}async onMessage(t,s){e(s);const i=t.inner;if(!this._subscriptions.has(i.id))return;const r=this._subscriptions.get(i.id);if(r.version!==i.subscriptionVesrion){if(has(\"esri-2d-update-debug\")){const e=`${i.subscriptionVesrion} != ${r.version}`;console.debug(`Version[${e}] Tile[${i.id}] FeatureContainer - Dropping message, outdated version]`,i)}return}const n=this._renderStateNext??this._renderState;if(!n)throw new Error(\"InternalError: No renderState defined\");n.version!==i.version&&console.error(`InternalError: Version mismatch. [renderState: ${n.version}, message: ${i.version}]`),n.enqueueUpdate(i),this.requestRender(),this._layerView.view.labelManager.requestUpdate(),this._layerView.requestUpdate()}removeTile(e){(this._renderState||this._renderStateNext)&&(this._renderState&&this._renderState.removeTile(e),this._renderStateNext&&this._renderStateNext.removeTile(e))}hitTest(e){let s=this._hitTestsRequests.find((({x:t,y:s})=>t===e.x&&s===e.y));const i=t();return s?s.resolvers.push(i):(s={x:e.x,y:e.y,resolvers:[i]},this._hitTestsRequests.push(s)),this.requestRender(),i.promise}getSortKeys(e){const t=new Set(e),s=new Map;for(const i of this.children)if(i.getSortKeys(t).forEach(((e,t)=>s.set(t,e))),s.size===t.size)break;return s}get hasAnimation(){return this.hasLabels}updateTransitionProperties(e,t){super.updateTransitionProperties(e,t),this._layerView.featureEffectView.transitionStep(e,t),this._layerView.featureEffectView.transitioning&&this.requestRender()}doRender(e){const{minScale:t,maxScale:s}=this._layer.effectiveScaleRange,i=e.state.scale;i<=(t||1/0)&&i>=s&&super.doRender(e)}afterRender(e){super.afterRender(e),this._hitTestsRequests.length&&this.requestRender()}setStencilReference(e){const t=this._getOverrideStencilRef(e);if(null==t)super.setStencilReference(e);else for(const s of this.children)s.stencilRef=t(s)}_renderMapPhase(e){this._layerView.featureEffectView.hasEffects?(this._renderOutsideEffect(e),this._renderInsideEffect(e)):this._renderFeatures(e,n.All),this._hitTestsRequests.length>0&&this._renderHittest(e)}_renderHighlightPhase(e){this.hasHighlight&&d(e,!1,(e=>{this._renderFeatures(e,n.Highlight)}))}_renderLabelPhase(e){this._renderFeatures(e,n.All)}_renderInsideEffect(e){const t=e.painter.effects.insideEffect;t.bind(e),this._renderFeatures(e,n.InsideEffect),t.draw(e,this._layerView.featureEffectView.includedEffects),t.unbind()}_renderOutsideEffect(e){const t=e.painter.effects.outsideEffect;t.bind(e),this._renderFeatures(e,n.OutsideEffect),t.draw(e,this._layerView.featureEffectView.excludedEffects),t.unbind()}_renderHittest(e){const{context:t}=e,s=e.painter.effects.hittest,i=t.getBoundFramebufferObject(),a=t.getViewport(),o=e.passOptions,h=e.drawPhase;s.bind(e),e.passOptions=s.createOptions(e,this._hitTestsRequests),e.drawPhase=r.HITTEST;const{distance:d,smallSymbolDistance:l}=e.passOptions,u=Math.max(d,l);for(const r of this.children)r.visible&&r.containsScreenPoint(e.state,e.passOptions.position,2*u)&&this._renderTile(r,e,n.All);s.draw(e),s.unbind(),t.bindFramebuffer(i),t.restoreViewport(a),e.passOptions=o,e.drawPhase=h}_renderFeatures(e,t){for(const i of this.children)i.visible&&this._renderTile(i,e,t);const s=this._getExclusivePostprocessingInstance(e);null!=s&&s.techniqueRef.postProcess(e,s)}_renderTile(e,t,s){const i=has(\"featurelayer-force-marker-text-draw-order\")?a.STRICT_MARKERS_AND_TEXT:a.BATCHING,r=e.getDisplayList(this._instanceStore,i);t.selection=s,r?.render(t)}}export{u as FeatureContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{open as e}from\"../../../../core/workers/workers.js\";async function t(t){const o=await e(\"FeaturePipelineWorker\",{client:t,strategy:\"dedicated\"});return new n(o)}class n{constructor(e){this._connection=e,this.pipeline=this._connection.createInvokeProxy(),this.features=this._connection.createInvokeProxy(\"features\"),this.aggregates=this._connection.createInvokeProxy(\"aggregates\"),this.streamMessenger=this._connection.createInvokeProxy(\"streamMessenger\")}destroy(){this._connection.destroy()}get closed(){return this._connection.closed}}export{n as FeaturePipelineWorkerProxy,t as createFeaturePipelineWorkerProxy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import s from\"../../../../core/CircularArray.js\";import r from\"../../../../core/Evented.js\";import a from\"../../../../core/ReactiveMap.js\";import{property as o}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";const n=10;let l=class extends e{constructor(){super(...arguments),this.events=new r,this._updatingStrategy=!0,this._tileToEvent=new a,this._fetchStatus={outstanding:0,done:0}}get hasAllFeatures(){return this._hasAllData()&&(this._strategyInfo?.willQueryAllFeatures??!1)}get hasAllFeaturesInView(){return this._hasAllData()}get hasFullGeometries(){return this._hasAllData()&&(this._strategyInfo?.willQueryFullResolutionGeometry??!1)}onEvent(t){switch(t.type){case\"subscribe\":case\"unsubscribe\":case\"loaded\":case\"error\":this._handleTileEvent(t);break;case\"updateStrategyStart\":this._updatingStrategy=!0,this._fetchStatus={done:0,outstanding:0},this._strategyInfo=t.about;break;case\"updateStrategyEnd\":this._updatingStrategy=!1;break;case\"updateFieldsStart\":this._fetchStatus={done:0,outstanding:0};break;case\"updateFieldsEnd\":break;case\"updateFieldsError\":this.events.emit(\"error\",t);break;case\"fetchStart\":this._fetchStatus.outstanding+=1,this.events.emit(\"status\",this._fetchStatus);break;case\"fetchEnd\":this._fetchStatus.done+=1,this.events.emit(\"status\",this._fetchStatus),t.done&&(this._fetchStatus={done:0,outstanding:0})}}_hasAllData(){return!this._updatingStrategy&&this._hasAllTileData()}_hasAllTileData(){for(const t of this._tileToEvent.values()){const e=t.peekLast();if(\"loaded\"!==e?.type)return!1}return!0}_handleTileEvent(t){switch(t.type){case\"subscribe\":{const e=new s(n);e.enqueue(t),this._tileToEvent.set(t.tile,e);break}case\"unsubscribe\":this._tileToEvent.delete(t.tile);break;case\"loaded\":{const e=this._tileToEvent.get(t.tile);if(!e)return;e.enqueue(t),this._tileToEvent.set(t.tile,e);break}case\"error\":{const e=this._tileToEvent.get(t.tile);if(!e)return;e.enqueue(t),this._tileToEvent.set(t.tile,e),this.events.emit(\"error\",t);break}}}};t([o({readOnly:!0})],l.prototype,\"hasAllFeatures\",null),t([o({readOnly:!0})],l.prototype,\"hasAllFeaturesInView\",null),t([o({readOnly:!0})],l.prototype,\"hasFullGeometries\",null),t([o()],l.prototype,\"_updatingStrategy\",void 0),t([o()],l.prototype,\"_strategyInfo\",void 0),t([o()],l.prototype,\"_tileToEvent\",void 0),l=t([i(\"esri.views.2d.layers.features.FeatureSourceEventLog\")],l);export{l as FeatureSourceEventLog};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e){switch(e.geometryType){case\"point\":return\"esriGeometryPoint\";case\"polyline\":return\"esriGeometryPolyline\";case\"polygon\":case\"multipatch\":return\"esriGeometryPolygon\";case\"multipoint\":return\"esriGeometryMultipoint\";default:return null}}export{e as getEffectiveGeometryType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nfunction e(e,a){const c=e.featureReduction;return c&&\"selection\"!==c.type&&(!(\"maxScale\"in c)||!c.maxScale||c.maxScale<a.scale)?c:null}export{e as getEffectiveFeatureReduction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clamp as e}from\"../../../../core/mathUtils.js\";import{meterIn as t}from\"../../../../renderers/support/lengthUtils.js\";import{TransformationType as n}from\"../../../../renderers/visualVariables/support/sizeVariableUtils.js\";const r=Math.PI;function i(e,t){switch(t.transformationType){case n.Additive:return s(e,t);case n.Constant:return o(t,e);case n.ClampedLinear:return u(e,t);case n.Proportional:return l(e,t);case n.Stops:return c(e,t);case n.RealWorldSize:return m(e,t);case n.Identity:return e;case n.Unknown:return null}}function a(e,t){return\"number\"==typeof e?e:i(t,e)}function s(e,t){return e+(a(t.minSize,e)||t.minDataValue)}function o(e,t){const n=e.stops;let r=n?.length&&n[0].size;return null==r&&(r=e.minSize),a(r,t)}function u(e,t){const n=t.minDataValue,r=t.maxDataValue,i=(e-n)/(r-n),s=a(t.minSize,e),o=a(t.maxSize,e);return e<=n?s:e>=r?o:s+i*(o-s)}function l(t,n){const r=t/n.minDataValue,i=a(n.minSize,t),s=a(n.maxSize,t);let o=null;return o=r*i,e(o,i,s)}function c(e,t){const[n,r,i]=p(e,t.cache.ipData);if(n===r)return a(t.stops[n].size,e);{const s=a(t.stops[n].size,e);return s+(a(t.stops[r].size,e)-s)*i}}function m(n,i){const s=t[i.valueUnit],o=a(i.minSize,n),u=a(i.maxSize,n),{valueRepresentation:l}=i;let c=null;return c=\"area\"===l?2*Math.sqrt(n/r)/s:\"radius\"===l||\"distance\"===l?2*n/s:n/s,e(c,o,u)}function p(e,t){if(!t)return;let n=0,r=t.length-1;return t.some(((t,i)=>e<t?(r=i,!0):(n=i,!1))),[n,r,(e-t[n])/(t[r]-t[n])]}export{i as getSizeForValueSimple};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{pt2px as n}from\"../../../../../core/screenUtils.js\";import{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getSizeForValueSimple as i}from\"../../support/visualVariableSimpleUtils.js\";function l(n){return(n.labelsVisible&&n.labelingInfo?.every((n=>\"none\"!==n.deconflictionStrategy)))??!1}function r(n,i){const l=e(n,i);if(l?.labelsVisible&&l.labelingInfo?.length)return l.labelingInfo.every((n=>\"none\"!==n.deconflictionStrategy))}function t(e){return l=>n(i(l,e))}function o(n){const e=null!=n&&\"visualVariables\"in n&&n.visualVariables;if(!e)return null;for(const i of e)if(\"size\"===i.type)return t(i);return null}export{o as createLabelVVEvaluator,r as getFeatureReductionDeconflictionEnabled,l as getLayerDeconflictionEnabled};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../../../../core/sql.js\";function t(t,i,s,o){const r=null!=t.subtypeCode?`${t.subtypeField} = ${t.subtypeCode}`:null,n=e(t.definitionExpression,r),a=t.customParameters??{};return o&&(a.token=o),{type:\"feature\",mutable:{sourceRefreshVersion:s,availableFields:i.availableFields,dataFilter:{queryScaleRanges:t.queryScaleRanges??[],definitionExpression:n,gdbVersion:t.gdbVersion,historicMoment:t.historicMoment?.getTime(),timeExtent:t.timeExtent?.toJSON(),customParameters:a}}}}export{t as createFeatureSourceSchema};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{i8888to32 as n}from\"./number.js\";function r(n,r=0,t=!1){const o=n[r+3];return n[r]*=o,n[r+1]*=o,n[r+2]*=o,t||(n[r+3]*=255),n}function t(r){if(!r)return 0;const{r:t,g:o,b:u,a:i}=r;return n(t*i,o*i,u*i,255*i)}function o(r){if(!r)return 0;const[t,o,u,i]=r;return n(t*(i/255),o*(i/255),u*(i/255),i)}function u(n,r,t=0){if(null==r)return n[t]=0,n[t+1]=0,n[t+2]=0,void(n[t+3]=0);const{r:o,g:u,b:i,a:c}=r;n[t]=o*c/255,n[t+1]=u*c/255,n[t+2]=i*c/255,n[t+3]=c}export{r as premultiplyAlpha,t as premultiplyAlphaRGBA,o as premultiplyAlphaRGBAArray,u as writeColor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../../../../../symbols.js\";import e from\"../../../../../../../core/Logger.js\";import{pt2px as i}from\"../../../../../../../core/screenUtils.js\";import{generateGradient as a}from\"../../../../../../../renderers/support/heatmapUtils.js\";import{CIMSymbolHelper as l,slsDashToTemplateArray as r,capTypeToEnum as t}from\"../../../../../../../symbols/cim/CIMSymbolHelper.js\";import{Alignment as o,ExtremityPlacement as s}from\"../../../../../../../symbols/cim/enums.js\";import{getSDFInfo as n}from\"../../../../../../../symbols/cim/SDFHelper.js\";import{getAlignmentFromPlacement as u}from\"../../../../../engine/webgl/alignmentUtils.js\";import{writeColor as c}from\"../../../../../engine/webgl/color.js\";import{dotDensityMaxFields as p}from\"../../../../../engine/webgl/definitions.js\";import{Techniques as f}from\"../../../../../engine/webgl/shaderGraph/techniques/TechniqueRegistry.js\";import{premultiplyColor as b}from\"../schemaUtils.js\";import{createVisualVariableUniforms as m,getMaxSizeVVSize as S,noVisualVariables as V}from\"../VisualVariablesSchema.js\";import{createComplexSymbolInstances as y}from\"./ComplexSymbolSchema.js\";import{hasSizeVVUniform as v,hasRotationVVUniform as h}from\"./utils.js\";import z from\"../../../../../../../symbols/SimpleFillSymbol.js\";import d from\"../../../../../../../symbols/SimpleMarkerSymbol.js\";import g from\"../../../../../../../symbols/SimpleLineSymbol.js\";async function M(i,a){if(!i)return[];switch(i.type){case\"simple-fill\":return P(i,a);case\"picture-fill\":return U(i,a);case\"simple-marker\":return w(i,a);case\"picture-marker\":return A(i,a);case\"simple-line\":return B(i,a,!1);case\"text\":return R(i,a);case\"label\":return k(i,a);case\"cim\":return y(i.data,a);case\"web-style\":{const e=await i.fetchCIMSymbol();return y(e.data,a)}case\"line-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-line`),B(new g,a,!1);case\"point-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-marker`),w(new d,a);case\"polygon-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Defaulting to simple-fill`),P(new z,a);case\"mesh-3d\":case\"label-3d\":return e.getLogger(\"esri.views.layers.FeatureLayerView\").warn(\"unsupported-symbol\",`Symbol of type \"${i.type}\" unsupported in MapView. Ignoring`),[];case\"CIMSymbolReference\":throw new Error(\"InternalError: CIMSymbolReference should already be resolved\")}}async function x(e,i){const{schemaOptions:a}=i,{store:l}=a,r=new Array(p),t=new Array(p/4);for(let u=0;u<p;u++){const i=u<e.attributes.length?e.attributes[u].color:null;r[u]=[0,0,0,0],c(r[u],i)}for(let u=0;u<p/4;u++)t[u]=[0,0,0,0],t[u][0]=4*u<e.attributes.length?1:0,t[u][1]=4*u+1<e.attributes.length?1:0,t[u][2]=4*u+2<e.attributes.length?1:0,t[u][3]=4*u+3<e.attributes.length?1:0;const o={uniforms:{isActive:t,colors:r,dotValue:e.dotValue,dotScale:e.referenceScale,blending:e.dotBlendingEnabled,dotSize:e.dotSize,seed:e.seed},optionalAttributes:{}},s=l.ensureInstance(f.dotDensity,o).createMeshInfo({effects:null}),n=[];if(e.backgroundColor){const a=new z({color:e.backgroundColor,outline:null}),l=await M(a,i);n.push(...l)}if(n.push(s),e.outline){const a=B(e.outline,i,!0);n.push(...a)}return n}async function C(e,l){const{store:r}=l,{radius:t,minDensity:o,maxDensity:s,referenceScale:n,field:u,valueExpression:c,colorStops:p}=e,b=a(p);return[r.ensureInstance(f.heatmap,{uniforms:{radius:i(t),minDensity:o,maxDensity:s,referenceScale:n,isFieldActive:!(!u&&!c),gradient:b,gradientHash:b.join(\",\")},optionalAttributes:{}}).createMeshInfo({effects:null})]}function I(e,a){const{store:l}=a,r=e.outline?.width||0,t=m(e),o=l.ensureInstance(f.pieChart,{uniforms:{shader:{outlineWidth:Math.round(i(r)),defaultColor:b(e.defaultColor),outlineColor:b(e.outline?.color),othersColor:b(e.othersCategory?.color),donutRatio:e.holePercentage,sectorThreshold:e.othersCategory?.threshold||0,colors:e.attributes.map((e=>b(e.color))),visualVariableOpacity:t.visualVariableOpacity,visualVariableSizeMinMaxValue:t.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:t.visualVariableSizeScaleStops,visualVariableSizeStops:t.visualVariableSizeStops,visualVariableSizeUnitValue:t.visualVariableSizeUnitValue,hittestUniforms:null},numberOfFields:e.attributes.length},optionalAttributes:{}}).createMeshInfo({size:e.size,outlineWidth:r,effects:null,scaleInfo:null,minPixelBuffer:S(t)});return[...e.backgroundFillSymbol?P(e.backgroundFillSymbol,{schemaOptions:a,path:\"\",uniforms:V}):[],o]}function O(e){if(\"path\"===e.style){if(null==e.path)throw new Error(\"Symbol with a style of type path must define a path\");return{type:\"sprite-rasterization-param\",overrides:[],resource:{type:\"path\",path:e.path,asFill:!0}}}const i=l.fromSimpleMarker(e);if(\"outline\"in e&&e.outline&&\"none\"!==e.outline.style){if(\"solid\"!==e.outline.style){if(!i||!i.symbolLayers)throw new Error(\"Error handling marker! \");return{type:\"sprite-rasterization-param\",resource:i.symbolLayers[0],overrides:[]}}}return{type:\"sprite-rasterization-param\",resource:n(i),overrides:[]}}async function w(e,i){const{uniforms:a,schemaOptions:r}=i,{store:t}=r;if(\"path\"===e.style||e.outline&&\"solid\"!==e.outline.style&&\"none\"!==e.outline.style){const r=l.fromSimpleMarker(e);if(!r||!r.symbolLayers)throw new Error(\"Error handling marker! \");if(a.visualVariableRotation&&(r.angleAlignment=\"Map\"),\"path\"!==e.style){const e=r.symbolLayers[0];if(v(i.uniforms)){const a=S(i.uniforms,0,1);if(a>e.size){const i=a/e.size;e.size=a;const l=e.markerGraphics?.[0].symbol;(l.symbolLayers&&l.symbolLayers[0]).width*=i}}}return y({type:\"CIMSymbolReference\",symbol:r},i)}const s=t.ensureInstance(f.marker,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue,visualVariableRotation:a.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),n=O(e);let u=e.color?.toArray()??[0,0,0,0];\"CIMVectorMarker\"===n.resource.type&&(u=[255,255,255,255]);const c=\"triangle\"===e.style?124/116:1,p=e.size,b=p*c,m=null!=a.visualVariableColor&&(\"cross\"===e.style||\"x\"===e.style);return[s.createMeshInfo({type:\"simple\",color:u,height:p,width:b,offsetX:e.xoffset,offsetY:e.yoffset,angle:e.angle,alignment:h(a)?o.MAP:o.SCREEN,outlineColor:e.outline?.color?.toArray()??[0,0,0,0],outlineSize:e.outline?.width??1,referenceSize:p,sprite:n,overrideOutlineColor:m,hasSizeVV:v(a),placement:null,effects:null,transforms:null,scaleInfo:null,minPixelBuffer:S(a)})]}function A(e,i){const{uniforms:a,schemaOptions:r}=i,{store:t}=r,s=t.ensureInstance(f.marker,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue,visualVariableRotation:a.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),n=l.createPictureMarkerRasterizationParam(e);if(!n)return[];return[s.createMeshInfo({type:\"picture\",color:[255,255,255,255],height:e.height,width:e.width,offsetX:e.xoffset,offsetY:e.yoffset,angle:e.angle,alignment:h(a)?o.MAP:o.SCREEN,outlineColor:null,outlineSize:0,referenceSize:e.height,sprite:n,overrideOutlineColor:!1,hasSizeVV:v(a),placement:null,effects:null,transforms:null,scaleInfo:null,minPixelBuffer:S(a)})]}function L(e,i,a){const{uniforms:l,schemaOptions:r}=a,{store:t}=r,n=t.ensureInstance(f.marker,{uniforms:{visualVariableColor:l.visualVariableColor,visualVariableOpacity:l.visualVariableOpacity,visualVariableSizeMinMaxValue:l.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:l.visualVariableSizeScaleStops,visualVariableSizeStops:l.visualVariableSizeStops,visualVariableSizeUnitValue:l.visualVariableSizeUnitValue,visualVariableRotation:l.visualVariableRotation},optionalAttributes:{zoomRange:!1}}),u=O(e),c=6,p=c*i.width,b=p,m=e.color?.toArray()??i.color?.toArray()??[0,0,0,0],V=\"cross\"===e.style||\"x\"===e.style;let y;switch(e.placement){case\"begin-end\":y=s.Both;break;case\"begin\":y=s.JustBegin;break;case\"end\":y=s.JustEnd;break;default:y=s.None}const z={type:\"cim-marker-placement-param\",placement:{type:\"CIMMarkerPlacementAtExtremities\",angleToLine:!0,offset:0,extremityPlacement:y,offsetAlongLine:0},overrides:[]};return[n.createMeshInfo({type:\"simple\",color:m,height:b,width:p,offsetX:0,offsetY:0,angle:0,alignment:h(l)?o.MAP:o.SCREEN,outlineColor:m,outlineSize:V?i.width:0,referenceSize:b/c,sprite:u,overrideOutlineColor:V&&null!=l.visualVariableColor,hasSizeVV:v(l),placement:z,transforms:null,effects:null,scaleInfo:null,minPixelBuffer:S(l)})]}function R(e,i){const{uniforms:a,schemaOptions:r}=i,{store:t}=r;return[t.ensureInstance(f.text,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableRotation:a.visualVariableRotation,visualVariableSizeMinMaxValue:a.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:a.visualVariableSizeScaleStops,visualVariableSizeStops:a.visualVariableSizeStops,visualVariableSizeUnitValue:a.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!1,clipAngle:!1,referenceSymbol:!1}}).createMeshInfo({boxBackgroundColor:e.backgroundColor?.toArray(),boxBorderLineColor:e.borderLineColor?.toArray(),boxBorderLineSize:e.borderLineSize??0,color:e.color?.toArray()??[0,0,0,0],offsetX:e.xoffset,offsetY:e.yoffset,postAngle:e.angle,fontSize:e.font.size,decoration:e.font.decoration,haloColor:e.haloColor?.toArray()??[0,0,0,0],haloFontSize:e.haloSize??0,lineWidth:e.lineWidth,lineHeightRatio:e.lineHeight,horizontalAlignment:e.horizontalAlignment,verticalAlignment:e.verticalAlignment,useCIMAngleBehavior:!1,glyphs:{type:\"text-rasterization-param\",resource:{type:\"text\",font:e.font.toJSON(),textString:e.text,symbol:l.createCIMTextSymbolfromTextSymbol(e)},overrides:[]},referenceSize:null,effects:null,placement:null,scaleInfo:null,transforms:null,scaleFactor:1,minPixelBuffer:S(a),repeatLabel:null,repeatLabelDistance:null,allowOverrun:null,labelPosition:null,isLineLabel:!1})]}function k(e,a){const{schemaOptions:r,uniforms:t}=a,{store:o}=r,s=e.symbol,{allowOverrun:n,repeatLabel:c,repeatLabelDistance:p}=e,b={maxScale:e.maxScale??0,minScale:e.minScale??0},m=o.ensureInstance(f.label,{uniforms:{visualVariableColor:null,visualVariableOpacity:null,visualVariableRotation:t.visualVariableRotation,visualVariableSizeMinMaxValue:t.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:t.visualVariableSizeScaleStops,visualVariableSizeStops:t.visualVariableSizeStops,visualVariableSizeUnitValue:t.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!0,clipAngle:!0,referenceSymbol:!0}}),V=e.labelPlacement,[y,v]=u(V);return[m.createMeshInfo({boxBackgroundColor:s.backgroundColor?.toArray(),boxBorderLineColor:s.borderLineColor?.toArray(),boxBorderLineSize:s.borderLineSize??0,color:s.color?.toArray()??[0,0,0,0],offsetX:s.xoffset,offsetY:s.yoffset,postAngle:s.angle,fontSize:s.font.size,decoration:s.font.decoration,haloColor:s.haloColor?.toArray()??[0,0,0,0],haloFontSize:s.haloSize??0,lineWidth:s.lineWidth,lineHeightRatio:s.lineHeight,horizontalAlignment:y,verticalAlignment:v,repeatLabel:c,repeatLabelDistance:i(p),allowOverrun:n,labelPosition:e.labelPosition,scaleInfo:b,minPixelBuffer:S(t),useCIMAngleBehavior:!1,glyphs:{type:\"text-rasterization-param\",resource:{type:\"text\",font:s.font.toJSON(),textString:s.text,symbol:l.createCIMTextSymbolfromTextSymbol(s),primitiveName:\"label-override\"},useLegacyLabelEvaluationRules:null==e.labelExpressionInfo?.expression,overrides:[{type:\"CIMPrimitiveOverride\",valueExpressionInfo:{type:\"CIMExpressionInfo\",expression:e.labelExpressionInfo?.expression??e.labelExpression,returnType:\"String\"},primitiveName:\"label-override\",propertyName:\"textString\",defaultValue:\"\"}]},referenceSize:null,effects:null,placement:null,transforms:null,scaleFactor:1,isLineLabel:!1})]}function j(e,i){const a=e.width;return{outlineColor:e.color?.toArray()||[0,0,0,1],width:a,referenceWidth:a,capType:e.cap??\"round\",joinType:e.join??\"round\",miterLimit:e.miterLimit,hasSizeVV:i}}function E(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=e.color?.toArray()??[0,0,0,0],o={type:\"sprite-rasterization-param\",resource:{type:\"fill-style\",style:e.style},overrides:[]};if(\"solid\"===e.outline?.style){return[r.ensureInstance(f.patternOutlineFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeScaleStops:a.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,...j(e.outline,!!a.visualVariableSizeOutlineScaleStops),sprite:o,scaleInfo:null,effects:null})]}const s=[],n=r.ensureInstance(f.patternFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:e.color?.toArray()??[0,0,0,0],sprite:o,scaleInfo:null,effects:null});return s.push(n),e.outline&&s.push(...B(e.outline,i,!0)),s}function F(e,i){const{uniforms:a,schemaOptions:l}=i,{store:r}=l,t=e.color?.toArray()??[0,0,0,0];if(\"none\"!==e.style&&\"solid\"===e.outline?.style){return[r.ensureInstance(f.outlineFill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity,visualVariableSizeScaleStops:a.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,...j(e.outline,!!a.visualVariableSizeOutlineScaleStops),scaleInfo:null,effects:null})]}const o=[];if(\"none\"!==e.style){const e=r.ensureInstance(f.fill,{uniforms:{visualVariableColor:a.visualVariableColor,visualVariableOpacity:a.visualVariableOpacity},optionalAttributes:{zoomRange:!1}}).createMeshInfo({color:t,scaleInfo:null,effects:null});o.push(e)}return e.outline&&o.push(...B(e.outline,i,!0)),o}function P(e,i){const{style:a}=e;return a&&\"none\"!==a&&\"solid\"!==a?E(e,i):F(e,i)}function U(e,i){const{outline:a}=e,{uniforms:r,schemaOptions:t}=i,{store:o}=t,s=[],n=l.createPictureFillRasterizationParam(e);if(!n)return[];const{width:u,height:c,xoffset:p,yoffset:b,xscale:m,yscale:S}=e,V={color:[255,255,255,255],sprite:n,height:c,aspectRatio:u/c,offsetX:p,offsetY:b,scaleX:m,scaleY:S,angle:0,applyRandomOffset:!1,sampleAlphaOnly:!1,scaleProportionally:!1,effects:null,scaleInfo:null};if(\"solid\"===a?.style){return[o.ensureInstance(f.complexOutlineFill,{uniforms:{visualVariableColor:r.visualVariableColor,visualVariableOpacity:r.visualVariableOpacity,visualVariableSizeScaleStops:r.visualVariableSizeOutlineScaleStops,visualVariableSizeMinMaxValue:null,visualVariableSizeStops:null,visualVariableSizeUnitValue:null},optionalAttributes:{zoomRange:!1}}).createMeshInfo({...V,...j(a,!!r.visualVariableSizeOutlineScaleStops)})]}const y=o.ensureInstance(f.complexFill,{uniforms:{visualVariableColor:r.visualVariableColor,visualVariableOpacity:r.visualVariableOpacity},optionalAttributes:{zoomRange:!1}});return s.push(y.createMeshInfo(V)),a&&s.push(...B(a,i,!0)),s}function B(e,i,a){const{color:l,style:o,width:s,cap:n,join:u}=e,{schemaOptions:c}=i,{store:p}=c,b=[],m=a?{...V,visualVariableSizeScaleStops:i.uniforms.visualVariableSizeOutlineScaleStops}:i.uniforms,S={uniforms:{visualVariableColor:m.visualVariableColor,visualVariableOpacity:m.visualVariableOpacity,visualVariableSizeMinMaxValue:m.visualVariableSizeMinMaxValue,visualVariableSizeScaleStops:m.visualVariableSizeScaleStops,visualVariableSizeStops:m.visualVariableSizeStops,visualVariableSizeUnitValue:m.visualVariableSizeUnitValue},optionalAttributes:{zoomRange:!1}},y={color:l?.toArray()??[0,0,0,0],width:s,referenceWidth:s,capType:n,joinType:u,miterLimit:e.miterLimit,hasSizeVV:v(m),effects:null,scaleInfo:null};if(null==o||\"solid\"===o){const e=p.ensureInstance(f.line,S).createMeshInfo(y);b.push(e)}else if(\"none\"!==o){const e=p.ensureInstance(f.texturedLine,S).createMeshInfo({...y,shouldScaleDash:!0,shouldSampleAlphaOnly:!1,isSDF:!0,sprite:{type:\"sprite-rasterization-param\",resource:{type:\"dash\",dashTemplate:r(o,n),capStyle:t(n)},overrides:[]}});b.push(e)}return null!=e.marker&&b.push(...L(e.marker,e,i)),b}export{x as createDotDensityMeshSchemas,C as createHeatmapMeshSchemas,B as createLineInstance,I as createPieChartMeshSchemas,M as createSymbolMeshSchemas};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{validateLabelingInfo as e}from\"../../../../../../layers/support/labelingInfo.js\";import{getEffectiveGeometryType as s}from\"../../layerAdapters/geometryUtils.js\";import{createSymbolMeshSchemas as a}from\"./symbols/SymbolSchema.js\";async function l(a,l,r){const n=l.labelsVisible&&l.labelingInfo||[],i=s(l),m=e(n,i);return{type:\"label\",classes:await Promise.all(m.map(((e,s)=>o(a,e,s,r))))}}async function o(e,s,l,o){const r=await a(s,{path:`${l}`,schemaOptions:e,uniforms:o});return{maxScale:s.maxScale,minScale:s.minScale,expression:s.labelExpressionInfo?.expression??s.labelExpression,where:s.where,meshes:r}}export{l as createLabelMatcherSchema};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createVisualVariableUniforms as e,noVisualVariables as a}from\"./VisualVariablesSchema.js\";import{createSymbolMeshSchemas as i,createDotDensityMeshSchemas as l,createHeatmapMeshSchemas as n,createPieChartMeshSchemas as s}from\"./symbols/SymbolSchema.js\";async function r(e,a){if(!a)return{type:\"simple\",meshes:[]};switch(a.type){case\"simple\":return o(e,a);case\"dot-density\":return u(e,a);case\"class-breaks\":return m(e,a);case\"unique-value\":return c(e,a);case\"dictionary\":return p(a);case\"heatmap\":return f(e,a);case\"pie-chart\":return y(e,a)}}async function t(e,a,l){return{type:\"simple\",meshes:await i(a,{schemaOptions:e,path:l,uniforms:{visualVariableColor:null,visualVariableOpacity:null,visualVariableRotation:null,visualVariableSizeStops:null,visualVariableSizeScaleStops:null,visualVariableSizeOutlineScaleStops:null,visualVariableSizeUnitValue:null,visualVariableSizeMinMaxValue:null}})}}async function o(a,l){const n=l.getSymbols(),s=n.length?n[0]:null,r=e(l),t=\"renderer.symbol\";return{type:\"simple\",meshes:await i(s,{schemaOptions:a,uniforms:r,path:t})}}async function u(a,i){const n=e(i),s=\"renderer.symbol\";return{type:\"dot-density\",meshes:await l(i,{schemaOptions:a,uniforms:n,path:s})}}async function m(l,n){const s=e(n),r=n.backgroundFillSymbol,t=n.normalizationType,o=\"log\"===t?\"esriNormalizeByLog\":\"percent-of-total\"===t?\"esriNormalizeByPercentOfTotal\":\"field\"===t?\"esriNormalizeByField\":null,u=n.classBreakInfos.map((async e=>({meshes:await i(e.symbol,{path:`renderer-stop-${e.minValue}-${e.maxValue}`,schemaOptions:l,uniforms:s}),min:e.minValue,max:e.maxValue}))),m=(await Promise.all(u)).sort(((e,a)=>e.min-a.min)),c=await i(r,{schemaOptions:l,path:\"renderer.backgroundFill\",uniforms:{...a,visualVariableSizeOutlineScaleStops:s.visualVariableSizeOutlineScaleStops}}),p=await i(n.defaultSymbol,{schemaOptions:l,path:\"renderer.defaultSymbol\",uniforms:s});return{type:\"interval\",field:n.field,expression:n.valueExpression,backgroundFill:c,defaultSymbol:p,intervals:m,normalizationField:n.normalizationField,normalizationTotal:n.normalizationTotal,normalizationType:o,isMaxInclusive:n.isMaxInclusive}}async function c(l,n){const s=[],r=e(n),t=await i(n.backgroundFillSymbol,{schemaOptions:l,path:\"renderer.backgroundFill\",uniforms:{...a,visualVariableSizeOutlineScaleStops:r.visualVariableSizeOutlineScaleStops}}),o=await i(n.defaultSymbol,{schemaOptions:l,path:\"renderer.defaultSymbol\",uniforms:r});for(const e of n.uniqueValueInfos??[]){const a=await i(e.symbol,{path:`renderer-unique-value-${e.value}`,schemaOptions:l,uniforms:r});s.push({value:\"\"+e.value,symbol:a})}return{type:\"map\",field:n.field,expression:n.valueExpression,field2:n.field2,field3:n.field3,fieldDelimiter:n.fieldDelimiter,backgroundFill:t,defaultSymbol:o,map:s}}function p(a){const i=e(a),l=a.scaleExpression,n=null!=l&&\"1\"!==l?{valueExpressionInfo:{type:\"CIMExpressionInfo\",expression:a.scaleExpression,returnType:\"Numeric\"},defaultValue:1}:void 0;return{type:\"dictionary\",fieldMap:a.fieldMap,scaleExpression:n,visualVariableUniforms:i}}async function f(e,a){return{type:\"heatmap\",meshes:await n(a,e)}}async function y(e,a){return{type:\"pie-chart\",meshes:s(a,e)}}export{r as createMatcherSchema,t as createSimpleMatcherSchemaFromSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../../../core/screenUtils.js\";import r from\"../../../../../../layers/support/OrderByInfo.js\";import{createLabelMatcherSchema as t}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as i}from\"./MatcherSchema.js\";import{createStorageSchema as s}from\"./StorageSchema.js\";import{createVisualVariableUniforms as n}from\"./VisualVariablesSchema.js\";async function l(e,r){const s=r.renderer,l=n(s);return{symbology:await i(e,s),labels:await t(e,r,l)}}async function a(e,r,t,i){const n=t.featureReduction;if(n)switch(n.type){case\"binning\":return u(n,e,r,t,i);case\"cluster\":return f(n,e,r,t,i)}const a=d(t.orderBy,t.renderer,t.objectIdField),o=s(t.renderer,r.filters),c=await l(e,t),y=!1;return{storage:o,mesh:{properties:{sortKey:a,timeZone:r.timeZone,returnMeshObjectId:y,displayRefreshVersion:i},strategy:{type:\"feature\"},factory:c}}}function o(e,r){return e.fields.map((e=>({...e.toJSON(),type:c(e,r)})))}function c(e,r){const{onStatisticExpression:t,onStatisticField:i,statisticType:s}=e;switch(s){case\"min\":case\"max\":case\"avg\":case\"avg_angle\":case\"sum\":case\"count\":return\"esriFieldTypeDouble\";case\"mode\":{if(t){const{returnType:e}=t;return e?\"string\"===e?\"esriFieldTypeString\":\"esriFieldTypeDouble\":\"esriFieldTypeString\"}const e=r.find((e=>e.name===i));return e?e.type:\"esriFieldTypeString\"}}}async function u(r,l,a,c,u){const f=o(r,c.fields),d=r.renderer,y=await i(l,d),p=s(d,[null,null]),m=n(d),g=await t(l,{geometryType:\"polygon\",labelingInfo:r.labelingInfo,labelsVisible:r.labelsVisible},m),b=!1,h=\"geohash\"===r.binType?{type:\"geohash\",fixBinLevel:r.fixedBinLevel??3}:{type:\"grid\",size:e(r.size),fixedBinLevel:r.fixedBinLevel};return{storage:p,mesh:{properties:{sortKey:null,timeZone:a.timeZone,returnMeshObjectId:b,displayRefreshVersion:u},strategy:{type:\"binning\",fields:f,index:h,featureFilter:a.filters[0]},factory:{labels:g,symbology:y}}}}async function f(r,l,a,c,u){const f=o(r,c.fields),d={type:\"cluster\",feature:await i(l,r.effectiveFeatureRenderer),cluster:await i(l,r.effectiveClusterRenderer)},y=n(r.effectiveFeatureRenderer),p={type:\"cluster\",feature:await t(l,c,y),cluster:await t(l,{geometryType:\"point\",labelingInfo:r.labelingInfo,labelsVisible:r.labelsVisible},y)},m=!1;return{storage:s(r.effectiveFeatureRenderer,[null,null]),mesh:{properties:{sortKey:null,timeZone:a.timeZone,displayRefreshVersion:u,returnMeshObjectId:m},strategy:{type:\"cluster\",fields:f,featureFilter:a.filters[0],clusterRadius:e(r.clusterRadius/2)},factory:{labels:p,symbology:d}}}}function d(e,t,i){const s=null!=t&&\"unique-value\"===t.type&&t.orderByClassesEnabled;if(\"default\"!==e||s||(e=[new r({field:i,order:\"descending\"})]),\"default\"!==e&&e.length){e.length;const r=e[0],t=\"ascending\"===r.order?\"asc\":\"desc\";return r.field?{field:r.field,order:t}:r.valueExpression?{expression:r.valueExpression,order:t}:null}if(s){return{byRenderer:!0,order:\"asc\"}}return null}export{a as createSimpleProcessorSchema,o as getAggregateFields};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getEffectiveGeometryType as t}from\"./geometryUtils.js\";import{getLayerDeconflictionEnabled as o,createLabelVVEvaluator as s}from\"./labelingUtils.js\";import{createFeatureSourceSchema as i}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as a}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as n}from\"../support/rendererUtils.js\";class l{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const r=this.layer,t=o(r);return[{vvEvaluators:{0:s(r.renderer)},deconflictionEnabled:t}]}async createServiceOptions(o){const s=this.layer,{capabilities:i,editingInfo:a,objectIdField:n,globalIdField:l,datesInUnknownTimezone:p,orderBy:u,parsedUrl:c}=s,d=s.fieldsIndex.toJSON(),m=t(s),y=s.timeInfo?.toJSON(),f=s.spatialReference.toJSON(),g=e(c);let h=n;if(u?.length){const e=!u[0].valueExpression&&u[0].field;e&&(h=e)}return{type:\"feature-service\",source:g,isSourceHosted:r(g.path),orderByFields:h,outSpatialReference:o.spatialReference.toJSON(),metadata:{timeReferenceUnknownClient:p,globalIdField:l,fieldsIndex:d,geometryType:m,objectIdField:n,timeInfo:y,spatialReference:f,subtypeField:null,subtypes:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:i.query.maxRecordCount,supportsCompactGeometry:i.query.supportsCompactGeometry,supportsDefaultSpatialReference:i.query.supportsDefaultSpatialReference,supportsFormatPBF:i.query.supportsFormatPBF,supportsMaxRecordCountFactor:i.query.supportsMaxRecordCountFactor,supportsQuantization:i.query.supportsQuantization,lastEditDate:a?.lastEditDate?.getTime(),snapshotInfo:null}}}createSourceSchema(e,r){const{definitionExpression:t,customParameters:o,timeExtent:s,apiKey:a}=this.layer;return i({definitionExpression:t,customParameters:o,timeExtent:s},e,r,a)}createProcessorSchema(e,r,t){const{fields:o,geometryType:s,orderBy:i,objectIdField:n,renderer:l,labelingInfo:p,labelsVisible:u}=this.layer,c={featureReduction:null,fields:o.map((e=>e.toJSON())),geometryType:s,labelingInfo:p,labelsVisible:u,objectIdField:n,orderBy:i??\"default\",renderer:l?.clone()};return a(e,r,c,t)}get hasRequiredSupport(){return n(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){const r=this.layer,{definitionExpression:t,apiKey:o,renderer:s}=r,i=this.layer.labelsVisible?this.layer.labelingInfo:null,a=JSON.stringify(r.customParameters),n=JSON.stringify(r.orderBy);return{outFields:this.layer.outFields,apiKey:o,customParameters:a,definitionExpression:t,labelingInfo:i,orderBy:n,renderer:s}}setGraphicOrigin(e){e.origin={type:\"catalog\",layer:this.layer}}}export{l as CatalogFootprintLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";function t(t,e){const n=t.extent,o=e?.clone().intersection(n),i=null!=o?o.width*o.height:0,r=e?e.width*e.height:0,h=0===r?0:i/r,s=has(\"featurelayer-snapshot-point-coverage\");return!isNaN(h)&&h>=s}export{t as exceedsMinimumSnapshotCoverage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../../../../core/sql.js\";import l from\"../../../../../layers/support/FeatureFilter.js\";function o(e,l){return null!=e.floorInfo&&(e.floorInfo.viewAllLevelIds.length>0||l.floors.length>0)}function r(e,o,r){const t=n(e,o?.where,r);return t?(o??=new l,o.where=t,o):o}function n(l,o,r){if(null==l.floorInfo||!r.floors?.length)return o;let n=r.floors;const{floorField:t,viewAllLevelIds:f}=l.floorInfo;f.length&&(n=f);const s=n.filter((e=>\"\"!==e)).map((e=>\"'\"+e+\"'\"));if(s.push(\"''\"),o?.includes(t)){let e=new RegExp(\"AND \\\\(\"+t+\".*NULL\\\\)\",\"g\");o=o.replace(e,\"\"),e=new RegExp(\"\\\\(\"+t+\".*NULL\\\\)\",\"g\"),o=(o=o.replace(e,\"\")).replaceAll(/\\s+/g,\" \").trim()}let i=\"(\"+t+\" IN ({ids}) OR \"+t+\" IS NULL)\";return i=i.replace(\"{ids}\",s.join(\", \")),e(o,i)}export{r as addFloorFilter,o as hasFloorFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as t}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{exceedsMinimumSnapshotCoverage as s}from\"./featureServiceUtils.js\";import{hasFloorFilter as o,addFloorFilter as i}from\"./floorFilterUtils.js\";import{getEffectiveGeometryType as a}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as n,getLayerDeconflictionEnabled as l,createLabelVVEvaluator as p}from\"./labelingUtils.js\";import{createFeatureSourceSchema as d}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as u}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as y}from\"../support/rendererUtils.js\";class c{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const t=this.layer,r=n(t,e)??l(t);return[{vvEvaluators:{0:p(t.renderer)},deconflictionEnabled:r}]}async createServiceOptions(r){const o=this.layer,{capabilities:i,editingInfo:n,objectIdField:l,typeIdField:p,globalIdField:d,datesInUnknownTimezone:u,orderBy:y,subtypeField:c,refreshInterval:m}=o,f=o.fieldsIndex.toJSON(),h=f.fields,b=a(o),g=o.timeInfo?.toJSON(),S=o.spatialReference.toJSON(),F=o.types?.map((e=>e.toJSON())),I=e(this.layer.parsedUrl);this.layer.dynamicDataSource&&(I.query={layer:JSON.stringify({source:this.layer.dynamicDataSource})});let x=this.layer.objectIdField;if(y?.length){const e=!y[0].valueExpression&&y[0].field;e&&(x=e)}const j=!(null!=n?.lastEditDate)&&m>0,R=has(\"featurelayer-snapshot-enabled\")&&\"point\"===o.geometryType&&i?.query.supportsPagination&&!i?.operations.supportsEditing&&!j,E=R&&s(r,o.fullExtent);return{type:\"feature-service\",source:I,isSourceHosted:t(I.path),orderByFields:x,outSpatialReference:r.spatialReference.toJSON(),metadata:{typeIdField:p??void 0,types:F,timeReferenceUnknownClient:u,subtypeField:c,globalIdField:d,fields:h,fieldsIndex:f,geometryType:b,objectIdField:l,timeInfo:g,spatialReference:S,subtypes:this.layer.subtypes?.map((e=>e.toJSON()))},queryMetadata:{maxRecordCount:i.query.maxRecordCount,supportsCompactGeometry:i.query.supportsCompactGeometry,supportsDefaultSpatialReference:i.query.supportsDefaultSpatialReference,supportsFormatPBF:i.query.supportsFormatPBF,supportsMaxRecordCountFactor:i.query.supportsMaxRecordCountFactor,supportsQuantization:i.query.supportsQuantization,lastEditDate:n?.lastEditDate?.getTime(),snapshotInfo:{supportsSnapshotMinThreshold:R,supportsSnapshotMaxThreshold:E,snapshotCountThresholds:{min:has(\"featurelayer-snapshot-point-min-threshold\"),max:has(\"featurelayer-snapshot-point-max-threshold\")}}}}}createSourceSchema(e,t){const{definitionExpression:r,customParameters:s,gdbVersion:o,historicMoment:i,subtypeCode:a,subtypeField:n,timeExtent:l,apiKey:p}=this.layer;return d({definitionExpression:r,customParameters:s,gdbVersion:o,historicMoment:i,subtypeCode:a,subtypeField:n,timeExtent:l},e,t,p)}createProcessorSchema(e,t,s){const{fields:o,renderer:i,geometryType:a,labelingInfo:n,labelsVisible:l,orderBy:p,objectIdField:d}=this.layer,y={fields:o.map((e=>e.toJSON())),renderer:i?.clone(),featureReduction:r(this.layer,t),geometryType:a,labelingInfo:n,labelsVisible:l,objectIdField:d,orderBy:p??\"default\"};return u(e,t,y,s)}get hasRequiredSupport(){return y(this.layer.renderer)}get timeOptions(){return this.layer}hasFilters(e){return o(this.layer,e)}addFilters(e,t){return i(this.layer,e,t)}getUpdateHashProperties(e){const t=this.layer,{definitionExpression:s,renderer:i,gdbVersion:a,apiKey:n,subtypeCode:l}=t,p=this.layer.labelsVisible?this.layer.labelingInfo:null,d=t.historicMoment?.getTime()??void 0,u=JSON.stringify(t.customParameters),y=r(t,e),c=JSON.stringify(t.orderBy),m=o(this.layer,e)?e.floors:null;return{outFields:this.layer.outFields,apiKey:n,customParameters:u,definitionExpression:s,featureReduction:y,floors:m,gdbVersion:a,historicMoment:d,labelingInfo:p,orderBy:c,renderer:i,subtypeCode:l}}}export{c as FeatureLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../core/Error.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{getEffectiveGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as o,getLayerDeconflictionEnabled as s,createLabelVVEvaluator as i}from\"./labelingUtils.js\";import{createFeatureSourceSchema as n}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as l}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as a}from\"../support/rendererUtils.js\";function u(r){if(!(\"openPorts\"in r))throw new e(\"source-not-supported\")}class p{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const r=this.layer,t=o(r,e)??s(r);return[{vvEvaluators:{0:i(r.renderer)},deconflictionEnabled:t}]}async createServiceOptions(e){const r=this.layer,{capabilities:o,objectIdField:s}=r,i=r.fieldsIndex.toJSON(),n=t(r),l=r.timeInfo?.toJSON(),a=r.spatialReference.toJSON();u(r.source);return{type:\"memory\",source:await r.source.openPorts(),orderByFields:s,outSpatialReference:e.spatialReference.toJSON(),metadata:{fieldsIndex:i,geometryType:n,objectIdField:s,timeInfo:l,spatialReference:a,subtypes:null,subtypeField:null,globalIdField:null,typeIdField:null,types:null,timeReferenceUnknownClient:null},queryMetadata:{maxRecordCount:o.query.maxRecordCount,supportsCompactGeometry:o.query.supportsCompactGeometry,supportsDefaultSpatialReference:o.query.supportsDefaultSpatialReference,supportsFormatPBF:o.query.supportsFormatPBF,supportsMaxRecordCountFactor:o.query.supportsMaxRecordCountFactor,supportsQuantization:o.query.supportsQuantization,lastEditDate:null,snapshotInfo:null}}}createSourceSchema(e,r){const{definitionExpression:t,timeExtent:o}=this.layer;return n({definitionExpression:t,timeExtent:o,customParameters:null},e,r,null)}createProcessorSchema(e,t,o){const{fields:s,renderer:i,geometryType:n,labelingInfo:a,labelsVisible:u,orderBy:p,objectIdField:c}=this.layer,d={fields:s.map((e=>e.toJSON())),renderer:i?.clone(),featureReduction:r(this.layer,t),geometryType:n,labelingInfo:a,labelsVisible:u,objectIdField:c,orderBy:p??\"default\"};return l(e,t,d,o)}get hasRequiredSupport(){return a(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){const t=this.layer,{definitionExpression:o,renderer:s}=t,i=this.layer.labelsVisible?this.layer.labelingInfo:null,n=r(t,e);return{orderBy:JSON.stringify(t.orderBy),definitionExpression:o,renderer:s,labelingInfo:i,featureReduction:n}}}export{p as InMemoryLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getEffectiveGeometryType as r}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as t,getLayerDeconflictionEnabled as o,createLabelVVEvaluator as s}from\"./labelingUtils.js\";import{createFeatureSourceSchema as i}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as l}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as n}from\"../support/rendererUtils.js\";class a{constructor(e){this.layer=e,this.timeOptions=null}getLabelingDeconflictionInfo(e){const r=this.layer,i=t(r,e)??o(r);return[{vvEvaluators:{0:s(r.renderer)},deconflictionEnabled:i}]}async createServiceOptions(e){const t=this.layer,{capabilities:o,objectIdField:s}=t,i=t.fieldsIndex.toJSON(),l=r(t),n=t.spatialReference.toJSON();return{type:\"memory\",source:await t.source.openPorts(),orderByFields:s,outSpatialReference:e.spatialReference.toJSON(),metadata:{fieldsIndex:i,geometryType:l,objectIdField:s,spatialReference:n,globalIdField:null,subtypeField:null,subtypes:null,timeInfo:null,timeReferenceUnknownClient:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:o.query.maxRecordCount,supportsCompactGeometry:o.query.supportsCompactGeometry,supportsDefaultSpatialReference:o.query.supportsDefaultSpatialReference,supportsFormatPBF:o.query.supportsFormatPBF,supportsMaxRecordCountFactor:o.query.supportsMaxRecordCountFactor,supportsQuantization:o.query.supportsQuantization,lastEditDate:null,snapshotInfo:null}}}createSourceSchema(e,r){const{definitionExpression:t}=this.layer;return i({definitionExpression:t,customParameters:null},e,r,null)}createProcessorSchema(r,t,o){const{fields:s,renderer:i,geometryType:n,labelingInfo:a,labelsVisible:u,objectIdField:p}=this.layer,c={fields:s.map((e=>e.toJSON())),renderer:i?.clone(),featureReduction:e(this.layer,t),geometryType:n,labelingInfo:a,labelsVisible:u,objectIdField:p,orderBy:\"default\"};return l(r,t,c,o)}get hasRequiredSupport(){return n(this.layer.renderer)}getUpdateHashProperties(r){const t=this.layer,{definitionExpression:o,renderer:s}=t;return{definitionExpression:o,renderer:s,labelingInfo:this.layer.labelsVisible?this.layer.labelingInfo:null,featureReduction:e(t,r)}}}export{a as KnowledgeGraphSublayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{clone as e}from\"../../../../../core/lang.js\";import{getEffectiveFeatureReduction as r}from\"./featureReductionUtils.js\";import{getEffectiveGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as o,getLayerDeconflictionEnabled as s,createLabelVVEvaluator as a}from\"./labelingUtils.js\";import{createFeatureSourceSchema as i}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as l}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as n}from\"../support/rendererUtils.js\";class u{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const r=this.layer,t=o(r,e)??s(r);return[{vvEvaluators:{0:a(r.renderer)},deconflictionEnabled:t}]}async createServiceOptions(r){const o=this.layer,{capabilities:s,objectIdField:a}=o,i=o.fieldsIndex.toJSON(),l=t(o),n=o.timeInfo?.toJSON(),u=o.spatialReference.toJSON(),c=o.source.getSource(),p=this.layer.objectIdField,d=e(s);return d.query.maxRecordCount=c.maxRecordCount,{type:\"ogc\",source:c,orderByFields:p,outSpatialReference:r.spatialReference.toJSON(),metadata:{fieldsIndex:i,geometryType:l,objectIdField:a,timeInfo:n,spatialReference:u,globalIdField:null,subtypeField:null,subtypes:null,timeReferenceUnknownClient:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:d.query.maxRecordCount,supportsCompactGeometry:d.query.supportsCompactGeometry,supportsDefaultSpatialReference:d.query.supportsDefaultSpatialReference,supportsFormatPBF:d.query.supportsFormatPBF,supportsMaxRecordCountFactor:d.query.supportsMaxRecordCountFactor,supportsQuantization:d.query.supportsQuantization,lastEditDate:null,snapshotInfo:null}}}createSourceSchema(e,r){const{customParameters:t,timeExtent:o,apiKey:s}=this.layer;return i({customParameters:t,timeExtent:o},e,r,s)}createProcessorSchema(e,t,o){const{fields:s,renderer:a,geometryType:i,labelingInfo:n,labelsVisible:u,orderBy:c,objectIdField:p}=this.layer,d={fields:s.map((e=>e.toJSON())),renderer:a?.clone(),featureReduction:r(this.layer,t),geometryType:i,labelingInfo:n,labelsVisible:u,objectIdField:p,orderBy:c??\"default\"};return l(e,t,d,o)}get hasRequiredSupport(){return n(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(e){const t=this.layer,{renderer:o,apiKey:s}=t,a=this.layer.labelsVisible?this.layer.labelingInfo:null;return{apiKey:s,customParameters:JSON.stringify(t.customParameters),featureReduction:r(t,e),labelingInfo:a,orderBy:JSON.stringify(t.orderBy),renderer:o}}}export{u as OGCFeatureLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{clone as e}from\"../../../../../core/lang.js\";import{isHostedAgolService as r}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{getEffectiveFeatureReduction as t}from\"./featureReductionUtils.js\";import{exceedsMinimumSnapshotCoverage as o}from\"./featureServiceUtils.js\";import{hasFloorFilter as s,addFloorFilter as i}from\"./floorFilterUtils.js\";import{getEffectiveGeometryType as a}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as l,getLayerDeconflictionEnabled as n,createLabelVVEvaluator as p}from\"./labelingUtils.js\";import{createFeatureSourceSchema as u}from\"../schema/SourceSchema.js\";import{createSimpleProcessorSchema as d}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as c}from\"../support/rendererUtils.js\";class m{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const r=this.layer,t=l(r,e)??n(r);return[{vvEvaluators:{0:p(r.renderer)},deconflictionEnabled:t}]}async createServiceOptions(t){const s=this.layer,{capabilities:i,objectIdField:l,globalIdField:n,orderBy:p,refreshInterval:u}=s,d=s.fieldsIndex.toJSON(),c=d.fields,m=a(s),f=s.timeInfo?.toJSON(),y=s.spatialReference.toJSON(),h=e(this.layer.parsedUrl);let b=this.layer.objectIdField;if(p?.length){const e=!p[0].valueExpression&&p[0].field;e&&(b=e)}const g=u>0,S=has(\"featurelayer-snapshot-enabled\")&&\"point\"===s.geometryType&&i?.query.supportsPagination&&!i?.operations.supportsEditing&&!g,F=S&&o(t,s.fullExtent);return{type:\"feature-service\",source:h,isSourceHosted:r(h.path),orderByFields:b,outSpatialReference:t.spatialReference.toJSON(),metadata:{globalIdField:n,fields:c,fieldsIndex:d,geometryType:m,objectIdField:l,timeInfo:f,spatialReference:y,timeReferenceUnknownClient:!1,subtypeField:null,subtypes:null,typeIdField:null,types:null},queryMetadata:{maxRecordCount:i.query.maxRecordCount,supportsCompactGeometry:i.query.supportsCompactGeometry,supportsDefaultSpatialReference:i.query.supportsDefaultSpatialReference,supportsFormatPBF:i.query.supportsFormatPBF,supportsMaxRecordCountFactor:i.query.supportsMaxRecordCountFactor,supportsQuantization:i.query.supportsQuantization,lastEditDate:null,snapshotInfo:{supportsSnapshotMinThreshold:S,supportsSnapshotMaxThreshold:F,snapshotCountThresholds:{min:has(\"featurelayer-snapshot-point-min-threshold\"),max:has(\"featurelayer-snapshot-point-max-threshold\")}}}}}createSourceSchema(e,r){const{definitionExpression:t,customParameters:o,timeExtent:s}=this.layer;return u({definitionExpression:t,customParameters:o,timeExtent:s},e,r,null)}createProcessorSchema(e,r,o){const{fields:s,renderer:i,geometryType:a,labelingInfo:l,labelsVisible:n,orderBy:p,objectIdField:u}=this.layer,c={fields:s.map((e=>e.toJSON())),renderer:i?.clone(),featureReduction:t(this.layer,r),geometryType:a,labelingInfo:l,labelsVisible:n,objectIdField:u,orderBy:p??\"default\"};return d(e,r,c,o)}get hasRequiredSupport(){return c(this.layer.renderer)}get timeOptions(){return this.layer}hasFilters(e){return s(this.layer,e)}addFilters(e,r){return i(this.layer,e,r)}getUpdateHashProperties(e){const r=this.layer,{definitionExpression:o,renderer:i,outFields:a}=r,l=this.layer.labelsVisible?this.layer.labelingInfo:null,n=JSON.stringify(r.customParameters),p=t(r,e);return{outFields:a,orderBy:JSON.stringify(r.orderBy),definitionExpression:o,renderer:i,labelingInfo:l,featureReduction:p,customParameters:n,floors:s(this.layer,e)?e.floors:null}}}export{m as OrientedImageryLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getEffectiveFeatureReduction as e}from\"./featureReductionUtils.js\";import{getEffectiveGeometryType as t}from\"./geometryUtils.js\";import{getFeatureReductionDeconflictionEnabled as r,getLayerDeconflictionEnabled as i,createLabelVVEvaluator as n}from\"./labelingUtils.js\";import{createSimpleProcessorSchema as o}from\"../schema/processor/SimpleProcessorSchema.js\";import{isRendererSupported as s}from\"../support/rendererUtils.js\";class l{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){const t=this.layer,o=r(t,e)??i(t);return[{vvEvaluators:{0:n(t.renderer)},deconflictionEnabled:o}]}async createServiceOptions(e){const r=this.layer,{objectIdField:i}=r,n=t(r),o=r.timeInfo?.toJSON()||null,s=r.spatialReference?r.spatialReference.toJSON():null;return{type:\"stream\",source:this.layer.parsedUrl,outSpatialReference:e.spatialReference.toJSON(),metadata:{fieldsIndex:this.layer.fieldsIndex.toJSON(),geometryType:n,objectIdField:i,timeInfo:o,timeReferenceUnknownClient:null,spatialReference:s,subtypeField:null,subtypes:null,globalIdField:null,typeIdField:null,types:null}}}createSourceSchema(e,t){const{definitionExpression:r,geometryDefinition:i,customParameters:n}=this.layer;return{type:\"stream\",mutable:{sourceRefreshVersion:t,availableFields:e.availableFields,dataFilter:{geometryDefinition:i?.toJSON(),definitionExpression:r,customParameters:n??null,maxReconnectionAttempts:this.layer.maxReconnectionAttempts,maxReconnectionInterval:this.layer.maxReconnectionInterval,purgeOptions:this.layer.purgeOptions.toJSON()}}}}createProcessorSchema(t,r,i){const{fields:n,renderer:s,geometryType:l,labelingInfo:a,labelsVisible:c,objectIdField:d}=this.layer,m={fields:n.map((e=>e.toJSON())),renderer:s?.clone(),featureReduction:e(this.layer,r),geometryType:l,labelingInfo:a,labelsVisible:c,objectIdField:d,orderBy:\"default\"};return o(t,r,m,i)}get hasRequiredSupport(){return s(this.layer.renderer)}get timeOptions(){return this.layer}getUpdateHashProperties(t){const r=this.layer,{definitionExpression:i,renderer:n}=r,o=this.layer.labelsVisible?this.layer.labelingInfo:null,s=JSON.stringify(r.customParameters);return{definitionExpression:i,renderer:n,labelingInfo:o,featureReduction:e(r,t),customParameters:s,geometryDefinition:r.geometryDefinition,definitionExpressoin:r.definitionExpression}}}export{l as StreamLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{createLabelMatcherSchema as e}from\"./LabelMatcherSchema.js\";import{createMatcherSchema as r}from\"./MatcherSchema.js\";import{createVVBindings as t}from\"./StorageSchema.js\";import{createVisualVariableUniforms as s}from\"./VisualVariablesSchema.js\";import{getWebGLCapabilities as a}from\"../../../../../webgl/capabilities.js\";async function i(e,{subtypeField:t,sublayers:s}){const a=await Promise.all(s.map((({renderer:t})=>r(e,t))));return{type:\"subtype\",subtypeField:t,renderers:s.reduce(((e,{subtypeCode:r},t)=>({...e,[r]:a[t]})),{})}}function o(e,r){const s=a();return{type:\"subtype\",filters:e.filters,capabilities:{maxTextureSize:s.maxTextureSize},subtypeField:r.subtypeField,target:\"feature\",bindings:r.sublayers.reduce(((e,{renderer:r,subtypeCode:s})=>{const a=t(r);return{...e,[s]:a}}),{})}}async function u(r,{subtypeField:t,sublayers:a}){const i=await Promise.all(a.map((t=>{const a=s(t.renderer),i={...t,geometryType:t.geometryType??null};return e(r,i,a)})));return{type:\"subtype\",subtypeField:t,renderers:a.reduce(((e,{subtypeCode:r},t)=>({...e,[r]:i[t]})),{})}}async function n(e,r,t,s){return{storage:o(r,t),mesh:{properties:{timeZone:r.timeZone,displayRefreshVersion:s,returnMeshObjectId:!1,sortKey:null},strategy:{type:\"feature\"},factory:{symbology:await i(e,t),labels:await u(e,t)}}}}export{n as createSubtypeProcessorSchema};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport has from\"../../../../../core/has.js\";import{clone as e}from\"../../../../../core/lang.js\";import{floatEqualAbsolute as t}from\"../../../../../core/mathUtils.js\";import{sqlAnd as r}from\"../../../../../core/sql.js\";import{isHostedAgolService as s}from\"../../../../../layers/support/arcgisLayerUrl.js\";import i from\"../../../../../layers/support/FeatureFilter.js\";import{exceedsMinimumSnapshotCoverage as o}from\"./featureServiceUtils.js\";import{hasFloorFilter as a,addFloorFilter as l}from\"./floorFilterUtils.js\";import{getEffectiveGeometryType as n}from\"./geometryUtils.js\";import{getLayerDeconflictionEnabled as p}from\"./labelingUtils.js\";import{createFeatureSourceSchema as u}from\"../schema/SourceSchema.js\";import{createSubtypeProcessorSchema as y}from\"../schema/processor/SubtypeProcessorSchema.js\";class m{constructor(e){this.layer=e}getLabelingDeconflictionInfo(e){return[{vvEvaluators:{},deconflictionEnabled:this.layer.sublayers.every((e=>p(e)))}]}async createServiceOptions(t){const r=this.layer,{capabilities:i,datesInUnknownTimezone:a,editingInfo:l,globalIdField:p,objectIdField:u,refreshInterval:y,subtypeField:m}=r,c=r.fieldsIndex.toJSON(),d=n(r),h=r.timeInfo?.toJSON(),f=r.spatialReference.toJSON(),b=e(this.layer.parsedUrl),g=u,S=!(null!=l?.lastEditDate)&&y>0,F=has(\"featurelayer-snapshot-enabled\")&&\"point\"===r.geometryType&&i?.query.supportsPagination&&!i?.operations.supportsEditing&&!S,x=F&&o(t,r.fullExtent);return{type:\"feature-service\",source:b,isSourceHosted:s(b.path),orderByFields:g,outSpatialReference:t.spatialReference.toJSON(),metadata:{timeReferenceUnknownClient:a,subtypeField:m,globalIdField:p,fieldsIndex:c,geometryType:d,objectIdField:u,timeInfo:h,spatialReference:f,subtypes:this.layer.subtypes?.map((e=>e.toJSON())),typeIdField:null,types:null},queryMetadata:{maxRecordCount:i.query.maxRecordCount,supportsCompactGeometry:i.query.supportsCompactGeometry,supportsDefaultSpatialReference:i.query.supportsDefaultSpatialReference,supportsFormatPBF:i.query.supportsFormatPBF,supportsMaxRecordCountFactor:i.query.supportsMaxRecordCountFactor,supportsQuantization:i.query.supportsQuantization,lastEditDate:l?.lastEditDate?.getTime(),snapshotInfo:{supportsSnapshotMinThreshold:F,supportsSnapshotMaxThreshold:x,snapshotCountThresholds:{min:has(\"featurelayer-snapshot-point-min-threshold\"),max:has(\"featurelayer-snapshot-point-max-threshold\")}}}}}createSourceSchema(e,t){const{definitionExpression:r,customParameters:s,gdbVersion:i,historicMoment:o,subtypeField:a,timeExtent:l,apiKey:n}=this.layer,p={queryScaleRanges:this.layer.sublayers.items.map((e=>({subtypeCode:e.subtypeCode,minScale:e.minScale,maxScale:e.maxScale}))),definitionExpression:r,customParameters:s,gdbVersion:i,historicMoment:o,subtypeField:a,timeExtent:l};return u(p,e,t,n)}createProcessorSchema(e,t,r){const s={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers,(e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode,orderBy:null})))};return y(e,t,s,r)}hasFilters(e){return a(this.layer,e)||c(this.layer,e)}addFilters(e,t){e=l(this.layer,e,t);const s=this.layer.sublayers.filter((e=>!d(e,t))).map((e=>e.subtypeCode));if(!s.length)return e;e??=new i;const o=`NOT ${this.layer.subtypeField} IN (${s.join(\",\")})`;return e.where=r(e.where,o),e}get hasRequiredSupport(){return!0}get timeOptions(){return this.layer}getUpdateHashProperties(e){const t=this.layer,{definitionExpression:r,gdbVersion:s,apiKey:i}=t,o=t.historicMoment?.getTime()??void 0,l=JSON.stringify(t.customParameters),n=a(this.layer,e)?e.floors:null,p=this.layer.sublayers.map((({renderer:e,labelsVisible:t,labelingInfo:r,visible:s})=>({renderer:e,labelsVisible:t,labelingInfo:r,visible:s})));return{outFields:this.layer.outFields,gdbVersion:s,definitionExpression:r,historicMoment:o,customParameters:l,apiKey:i,sublayers:p,floors:n}}setGraphicOrigin(e){const t=this.layer.fieldsIndex.get(this.layer.subtypeField),r=e.attributes[t.name],s=this.layer.sublayers.find((e=>e.subtypeCode===r));e.layer=e.sourceLayer=s}}function c(e,t){return e.sublayers.some((e=>!d(e,t)))}function d(e,r){return e.visible&&(0===e.minScale||t(r.scale,e.minScale)||r.scale<e.minScale)&&(0===e.maxScale||t(r.scale,e.maxScale)||r.scale>e.maxScale)}export{m as SubtypeGroupLayerAdapter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nasync function n(n,r){try{return await n}catch(t){if(\"no-queryEngine\"!==t.name)throw t;return r}}export{n as handleNoEngineError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"./TileKey.js\";function s(e,s){const t=new Set;for(const i of e instanceof Set?e.values():e.keys())s.has(i)||t.add(i);return t}class t{constructor(e,s,t){const i=t?e.getTileCoverage(t,0,!0,\"closest\"):null,o=e.getTileCoverage(s,0,!0,\"closest\");if(this._tileKeys=new Map,i)for(const n of i.keys())this._tileKeys.set(n.id,n);if(o)for(const n of o.keys())this._tileKeys.set(n.id,n)}get coverageSet(){return new Set(this._tileKeys.keys())}keys(){return this._tileKeys.values()}}class i{constructor(e){this.version=e}}class o{constructor(e){this._subscriptions=new Map,this._visible=new Set,this._paused=new Set,this._version=0,this._config=e}destroy(){}get _coverageSet(){return this._coverage?.coverageSet??new Set}suspend(){this._suspendedOverage=this._coverage,this._coverage=null,this._updateSubscriptions()}resume(){null==this._coverage&&(this._coverage=this._suspendedOverage,this._suspendedOverage=null,this._updateSubscriptions())}update(e,s){return this._version=(this._version+1)%Number.MAX_SAFE_INTEGER,this._updateCoverage(e,s),this._updateSubscriptions(),new Set(this._visible)}_updateCoverage(e,s){this._coverage=new t(this._config.tileInfoView,e,s)}_updateSubscriptions(){const e=this._coverageSet,t=this._updateVisibility(),o=s(t,e),n=s(this._subscriptions,t),r=s(e,this._subscriptions),a=s(n,e),c=s(o,a),u=s(c,this._paused);this._visible=t;for(const s of r.values())this._subscriptions.set(s,new i(this._version));for(const s of u.values())this._paused.add(s);for(const s of a.values())this._subscriptions.delete(s),this._paused.delete(s);(r.size||a.size||u.size)&&this._sendUpdateSubscriptions(r,a,u)}_sendUpdateSubscriptions(e,s,t){const i=Array.from(e.values()).map((e=>({tileId:e,version:this._subscriptions.get(e).version})));this._config.updateSubscriptions({subscribe:i,unsubscribe:Array.from(s.values()),pause:Array.from(t.values())})}_updateVisibility(){const s=new Set,t=new Set;if(!this._coverage)return s;for(const e of this._coverage.keys()){if(this._config.isDone(e)){s.add(e.id);continue}if(this._addVisibleParent(s,t,e))continue;this._addVisibleChildren(s,e)||s.add(e.id)}const i=new e(0,0,0,0),o=new e(0,0,0,0);for(const e of t){i.id=e;for(const e of s)o.id=e,i.containsChild(o)&&s.delete(e)}return s}_addVisibleParent(s,t,i){let o=!1;for(const n of this._visible.values()){new e(n).containsChild(i)&&(s.add(n),t.add(n),o=!0)}return o}_addVisibleChildren(s,t){let i=!1;for(const o of this._visible.values()){const n=new e(o);t.containsChild(n)&&(s.add(o),i=!0)}return i}}export{o as FeatureTileSubscriptionManager};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as o,syncAndInitial as s,on as n}from\"../../core/reactiveUtils.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import u from\"../../layers/support/FeatureEffect.js\";import p from\"../../layers/support/FeatureFilter.js\";import{fixFields as d,unpackFieldNames as f,collectLabelingFields as c,collectElevationFields as m,collectFilterFields as y,collectFeatureReductionFields as h,collectOrderByInfos as F,collectFields as g,collectField as w,featureHasFields as E}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as I}from\"../../layers/support/floorFilterUtils.js\";import b from\"../../rest/support/Query.js\";import{loadArcade as x}from\"../../support/arcadeOnDemand.js\";import{getFetchPopupTemplate as v,getRequiredFields as R}from\"./support/popupUtils.js\";const _=_=>{let q=class extends _{constructor(...e){super(...e),this._updatingRequiredFieldsPromise=null,this.dataUpdating=!1,this.filter=null,this.layer=null,this.requiredFields=[],this.view=null}initialize(){this.addHandles([o((()=>{const e=this.layer;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,this.filter,this.featureEffect,this.timeExtent]}),(()=>this._handleRequiredFieldsChange()),s),n((()=>this.view?.floors),\"change\",(()=>this._handleRequiredFieldsChange())),n((()=>{const e=this.layer;return e&&\"sublayers\"in e?e.sublayers:null}),\"change\",(()=>this._handleRequiredFieldsChange()))])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?d(t,[...f(t,e.outFields),...r]):d(t,r)}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){r.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}highlight(e){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new b(e);if(\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=I(this);null!=e&&(t.where=t.where?`(${t.where}) AND (${e})`:e)}return null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new b(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){return this._validateFetchPopupFeatures(e,t),this._fetchPopupFeatures(e,t)}_loadArcadeModules(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?x():Promise.resolve()}_handleRequiredFieldsChange(){const e=this._updateRequiredFields();this._set(\"_updatingRequiredFieldsPromise\",e),e.then((()=>{this._updatingRequiredFieldsPromise===e&&this._set(\"_updatingRequiredFieldsPromise\",null)}))}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:i,objectIdField:o}}=this,s=\"renderer\"in t&&t.renderer,n=\"orderBy\"in t&&t.orderBy,l=\"featureReduction\"in t?t.featureReduction:null,a=new Set,u=await Promise.allSettled([s?s.collectRequiredFields(a,i):null,c(a,t),e&&\"elevationInfo\"in t?m(a,t):null,null!=this.filter?y(a,t,this.filter):null,e||null==this.featureEffect?null:y(a,t,this.featureEffect.filter),!e&&l?h(a,t,l):null,!e&&n?F(a,t,n):null]);if(\"timeInfo\"in t&&t.timeInfo&&this.timeExtent&&g(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"floorInfo\"in t&&t.floorInfo&&g(a,t.fieldsIndex,[t.floorInfo.floorField]),\"feature\"===t.type&&e&&null!=t.infoFor3D&&(null==t.globalIdField&&r.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),g(a,t.fieldsIndex,[t.globalIdField])),\"subtype-group\"===t.type){w(a,i,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,i),c(a,e)])));await Promise.allSettled(e)}if(\"catalog-footprint\"===t.type&&t.parent){const e=t.parent;g(a,i,[e.itemNameField,e.itemSourceField,e.itemTypeField,e.maxScaleField,e.minScaleField])}for(const d of u)\"rejected\"===d.status&&r.getLogger(this).error(d.reason);w(a,i,o),e&&\"displayField\"in t&&t.displayField&&w(a,i,t.displayField);const p=Array.from(a).sort();this._set(\"requiredFields\",p)}_validateFetchPopupFeatures(e,r){if(null!=r)for(const i of e){const e=i.origin&&\"layer\"in i.origin?i.origin.layer:i.layer;if(\"popupEnabled\"in e&&!e.popupEnabled)throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e});if(i.isAggregate){const r=\"featureReduction\"in e?e.featureReduction:null;if(!(r&&\"popupTemplate\"in r&&r.popupEnabled&&r.popupTemplate))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e})}else if(\"popupTemplate\"in e){if(!v(e,r))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:e})}}}_popupFeatureHasRequiredFields(e,t){return E(t,e)}async _fetchPopupFeatures(e,t){const r=new Array(e.length),o=new Map,s=await this._createPopupQuery(e.map((e=>e.origin?.layer??e.layer)),t);for(let n=0;n<e.length;n++){const l=e[n];if(l.isAggregate){r[n]=l;continue}const a=l.origin?.layer??l.layer;if(!a||!(\"popupEnabled\"in a))continue;const u=f(this.layer.fieldsIndex,s.outFields),p=v(a,t);if(null==p)continue;const d=await this._loadArcadeModules(p);i(t);d&&d.arcadeUtils.hasGeometryOperations(p)||!this._popupFeatureHasRequiredFields(l,u)?o.set(l.getObjectId(),{graphic:l,index:n}):r[n]=l}if(\"stream\"===this.layer.type||0===o.size)return r.filter(Boolean);s.objectIds=Array.from(o.keys());try{const e=await this.layer.queryFeatures(s,t);for(const t of e.features){const{graphic:{geometry:e,origin:i},index:s}=o.get(t.getObjectId());t.geometry||=e,t.origin=i,r[s]=t}}catch{}return r.filter(Boolean)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),o=new Set;let s=!1;const n=e??[this.layer];for(const l of n){if(!(\"popupEnabled\"in l))continue;const e=v(l,t);if(null==e)continue;const r=await this._loadArcadeModules(e);i(t);const n=r&&r.arcadeUtils.hasGeometryOperations(e);s=!(\"point\"!==this.layer.geometryType&&!n);const a=await R(this.layer,e);i(t);for(const t of a)o.add(t)}if(r.returnGeometry=s,r.returnZ=s,r.returnM=s,r.outFields=Array.from(o),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=I(this);null!=e&&(r.where=r.where?`(${r.where}) AND (${e})`:e)}return r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){}get test(){}};return e([l()],q.prototype,\"_updatingRequiredFieldsPromise\",void 0),e([l({readOnly:!0})],q.prototype,\"availableFields\",null),e([l({readOnly:!0})],q.prototype,\"dataUpdating\",void 0),e([l({type:u})],q.prototype,\"featureEffect\",null),e([l({type:p})],q.prototype,\"filter\",void 0),e([l()],q.prototype,\"layer\",void 0),e([l({type:Number})],q.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0,type:Boolean})],q.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l({readOnly:!0})],q.prototype,\"requiredFields\",void 0),e([l()],q.prototype,\"suspended\",void 0),e([l()],q.prototype,\"view\",void 0),q=e([a(\"esri.views.layers.FeatureLayerView\")],q),q};export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../AggregateGraphic.js\";import\"../../../geometry.js\";import r from\"../../../Graphic.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Collection.js\";import{neverReached as a}from\"../../../core/compilerUtils.js\";import o from\"../../../core/Error.js\";import{makeHandle as n}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import u from\"../../../core/Logger.js\";import{destroyMaybe as l}from\"../../../core/maybe.js\";import{notDeepEqual as h}from\"../../../core/object.js\";import{createAbortError as c,createResolver as p,ignoreAbortErrors as d,throwIfNotAbortError as y,isAbortError as g}from\"../../../core/promiseUtils.js\";import{watch as f,initial as m}from\"../../../core/reactiveUtils.js\";import{property as w}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import v from\"../../../layers/effects/FeatureEffectView.js\";import{convertFromFeature as b}from\"../../../layers/graphics/featureConversionUtils.js\";import F from\"../../../layers/support/FeatureFilter.js\";import{packFields as S}from\"../../../layers/support/fieldUtils.js\";import{getEffectiveLayerCapabilities as A}from\"../../../layers/support/layerUtils.js\";import{combineTimeExtent as E}from\"../../../layers/support/timeSupport.js\";import x from\"../../../rest/support/AggregateFeatureSet.js\";import j from\"../../../rest/support/FeatureSet.js\";import C from\"../../../rest/support/Query.js\";import{getHighlightBits as V}from\"../engine/highlightReasons.js\";import{LayerView2DMixin as R}from\"./LayerView2D.js\";import{FeatureContainer as k}from\"./features/FeatureContainer.js\";import{createFeaturePipelineWorkerProxy as U}from\"./features/FeaturePipelineWorkerProxy.js\";import{FeatureSourceEventLog as q}from\"./features/FeatureSourceEventLog.js\";import{CatalogFootprintLayerAdapter as Q}from\"./features/layerAdapters/CatalogFootprintLayerAdapter.js\";import{FeatureLayerAdapter as I}from\"./features/layerAdapters/FeatureLayerAdapter.js\";import{InMemoryLayerAdapter as O}from\"./features/layerAdapters/InMemoryLayerAdapter.js\";import{KnowledgeGraphSublayerAdapter as L}from\"./features/layerAdapters/KnowledgeGraphSublayerAdapter.js\";import{OGCFeatureLayerAdapter as T}from\"./features/layerAdapters/OGCFeatureLayerAdapter.js\";import{OrientedImageryLayerAdapter as H}from\"./features/layerAdapters/OrientedImageryLayerAdapter.js\";import{StreamLayerAdapter as P}from\"./features/layerAdapters/StreamLayerAdapter.js\";import{SubtypeGroupLayerAdapter as W}from\"./features/layerAdapters/SubtypeGroupLayerAdapter.js\";import{createComplexSymbolInstances as D}from\"./features/schema/processor/symbols/ComplexSymbolSchema.js\";import M from\"./support/FeatureCommandQueue.js\";import{handleNoEngineError as N}from\"./support/handleNoEngineError.js\";import{HighlightCounter as J}from\"./support/HighlightCounter.js\";import{toJSONGeometryType as $}from\"./support/util.js\";import{FeatureTileSubscriptionManager as G}from\"../tiling/FeatureTileSubscriptionManager.js\";import z from\"../../layers/FeatureLayerView.js\";import B from\"../../layers/LayerView.js\";import Z from\"../../layers/RefreshableLayerView.js\";import K from\"../../../geometry/Extent.js\";function X(e,t){const r=new Set;return e&&e.forEach((e=>r.add(e))),t&&t.forEach((e=>r.add(e))),r.has(\"*\")?[\"*\"]:Array.from(r)}const Y=4294967294;let ee=class extends(z(Z(R(B)))){constructor(){super(...arguments),this._commandsQueue=new M({process:e=>{switch(e.type){case\"edit-by-feature\":case\"edit-by-id\":return this._doEdit(e);case\"update\":return this._doUpdate();case\"highlight\":return this._updateHighlights()}}}),this._visibilityOverrides=new Set,this._highlightCounter=new J,this._lastAvailableFields=[],this._lastTargetState=null,this.eventLog=new q,this._sourceRefreshVersion=1,this._displayRefreshVersion=1,this._pipelineUpdating=!1,this._fields=null,this.featureEffectView=new v}destroy(){this._workerProxy?.destroy(),this._workerAttached.reject(c()),this._commandsQueue.destroy()}initialize(){this._workerAttached=p(),d(this._workerAttached.promise),this.addResolvingPromise(this._initProxy()),this.featureEffectView.featureEffect=this.featureEffect,this.featureEffectView.endTransitions()}async _initProxy(){const e=this.layer;if(\"isTable\"in e&&e.isTable)throw new o(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e});if(\"mesh\"===e.geometryType)throw new o(\"featurelayerview:geometry-type-not-supported\",`Geometry type of ${e.geometryType} is not supported`,{layer:e});if((\"feature\"===e.type||\"subtype-group\"===e.type)&&!1===A(e)?.operations.supportsQuery)throw new o(\"featurelayerview:query-not-supported\",\"layer view requires a layer with query capability\",{layer:e});this._workerProxy&&this._workerProxy.destroy();const t=this._createClientOptions();this._workerProxy=await U(t)}async _attachProxy(){const e={service:await this.layerAdapter.createServiceOptions(this.view),tileInfoJSON:this.view.featuresTilingScheme.tileInfo.toJSON()};let t=[];Array.isArray(e.service.source)&&(t=e.service.source);try{await this._workerProxy.pipeline.onAttach(e,{transferList:t}),this._workerAttached.resolve()}catch(r){this._workerAttached.reject(c()),y(r)}}async _detachProxy(){return this._workerProxy.pipeline.onDetach()}async getWorker(){return await this._workerAttached.promise,this._workerProxy}get hasAllFeatures(){return this.layer.visible&&this.eventLog.hasAllFeatures}get hasAllFeaturesInView(){return this.layer.visible&&this.eventLog.hasAllFeaturesInView}get hasFullGeometries(){return this.layer.visible&&this.eventLog.hasFullGeometries}get labelingCollisionInfos(){const e=this.layerAdapter.getLabelingDeconflictionInfo(this.view),t=this.layer.geometryType,r=!this.suspended;return e.map((({vvEvaluators:e,deconflictionEnabled:i})=>({container:this.featureContainer,vvEvaluators:e,deconflictionEnabled:i,geometryType:t,visible:r})))}get layerAdapter(){switch(this.layer.type){case\"feature\":return\"memory\"===this.layer.source.type?new O(this.layer):new I(this.layer);case\"geojson\":case\"csv\":case\"wfs\":return new O(this.layer);case\"subtype-group\":return new W(this.layer);case\"ogc-feature\":return new T(this.layer);case\"stream\":return new P(this.layer);case\"oriented-imagery\":return new H(this.layer);case\"knowledge-graph-sublayer\":return new L(this.layer);case\"catalog-footprint\":return new Q(this.layer);default:a(this.layer)}return null}get timeExtent(){return E(this.layerAdapter.timeOptions,this.view?.timeExtent,this._get(\"timeExtent\"))}getDisplayStatistics(e,t){return this.featureContainer?.getDisplayStatistics(e,t)}async queryHeatmapStatistics(e){return(await this.getWorker()).pipeline.queryHeatmapStatistics(e)}highlight(e,t=\"highlight\"){let a;e instanceof r?a=[e.getObjectId()]:\"number\"==typeof e||\"string\"==typeof e?a=[e]:s.isCollection(e)&&e.length>0?a=e.map((e=>e?.getObjectId())).toArray():Array.isArray(e)&&e.length>0&&(a=\"number\"==typeof e[0]||\"string\"==typeof e[0]?e:e.map((e=>e?.getObjectId())));const o=a?.filter(i);return o?.length?(this._addHighlights(o,t),n((()=>this._removeHighlights(o,t)))):n()}getHighlightIds(){return Array.from(this._highlightCounter.ids())}hasHighlight(){return!this._highlightCounter.empty}async hitTest(e,i){const s=await this.featureContainer.hitTest(i);if(0===s.length)return null;const a=await this.getWorker(),{features:o,aggregates:n}=await a.pipeline.getDisplayFeatures(s),u=this.featureContainer.getSortKeys(s),l=({displayId:e},{displayId:t})=>u.has(e)&&u.has(t)?u.get(e)-u.get(t):e-t;return o.sort(l).reverse(),n.sort(l).reverse(),[...n.map((r=>this._createGraphicHit(e,t.fromJSON(r)))),...o.map((t=>this._createGraphicHit(e,r.fromJSON(t))))]}async queryStatistics(){const e=await this.getWorker();return N(e.pipeline.queryStatistics(),{featureCount:0,ringCount:0,vertexCount:0})}async querySummaryStatistics(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForSummaryStatistics(this._cleanUpQuery(e),s,r);return N(a,{})}async queryAggregateSummaryStatistics(e,t,r){const i={...t,scale:this.view.scale},s=(await this.getWorker()).aggregates.executeQueryForSummaryStatistics(this._cleanUpAggregateQuery(e),i,r);return N(s,{})}async queryUniqueValues(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForUniqueValues(this._cleanUpQuery(e),s,r);return N(a,{uniqueValueInfos:[]})}async queryAggregateUniqueValues(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForUniqueValues(this._cleanUpAggregateQuery(e),s,r);return N(a,{uniqueValueInfos:[]})}async queryClassBreaks(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForClassBreaks(this._cleanUpQuery(e),s,r);return N(a,{classBreakInfos:[]})}async queryAggregateClassBreaks(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForClassBreaks(this._cleanUpAggregateQuery(e),s,r);return N(a,{classBreakInfos:[]})}async queryHistogram(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.features.executeQueryForHistogram(this._cleanUpQuery(e),s,r);return N(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}async queryAggregateHistogram(e,t,r){const i=await this.getWorker(),s={...t,scale:this.view.scale},a=i.aggregates.executeQueryForHistogram(this._cleanUpAggregateQuery(e),s,r);return N(a,{bins:[],maxValue:null,minValue:null,normalizationTotal:null})}queryFeatures(e,t){return this.queryFeaturesJSON(e,t).then((e=>{const t=j.fromJSON(e);return t.features.forEach((e=>this._setLayersForFeature(e))),t}))}async queryVisibleFeatures(e,t){const r=(await this.getWorker()).pipeline.queryVisibleFeatures(this._cleanUpQuery(e),t),i=await N(r,{features:[]}),s=j.fromJSON(i);return s.features.forEach((e=>this._setLayersForFeature(e))),s}async queryAggregates(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t),i=await N(r,{features:[]}),s=x.fromJSON(i);return s.features.forEach((e=>this._setLayersForFeature(e))),s}async queryAggregateIds(e,t){const r=(await this.getWorker()).aggregates.executeQueryForIds(this._cleanUpAggregateQuery(e),t);return N(r,[])}async queryAggregateCount(e,t){const r=(await this.getWorker()).aggregates.executeQueryForCount(this._cleanUpAggregateQuery(e),t);return N(r,0)}async queryAggregateJSON(e,t){const r=(await this.getWorker()).aggregates.executeQuery(this._cleanUpAggregateQuery(e),t);return N(r,{features:[]})}async queryFeaturesJSON(e,t){const r=(await this.getWorker()).features.executeQuery(this._cleanUpQuery(e),t);return N(r,{features:[]})}async queryObjectIds(e,t){const r=(await this.getWorker()).features.executeQueryForIds(this._cleanUpQuery(e),t);return N(r,[])}async queryFeatureCount(e,t){const r=(await this.getWorker()).features.executeQueryForCount(this._cleanUpQuery(e),t);return N(r,0)}async queryExtent(e,t){const r=(await this.getWorker()).features.executeQueryForExtent(this._cleanUpQuery(e),t),i=await N(r,{count:0,extent:null});return{count:i.count,extent:K.fromJSON(i.extent)}}async getSampleFeatures(e){return(await this.getWorker()).pipeline.getSampleFeatures(e)}setVisibility(e,t){t?this._visibilityOverrides.delete(e):this._visibilityOverrides.add(e),this._update()}update(e){if(!this._subscriptionManager)return;this.view.animation&&!this._lastTargetState&&(this._lastTargetState=e.state.clone()),!this.view.animation&&this._lastTargetState&&(this._lastTargetState=null);const t=this._subscriptionManager.update(e.targetState,this._lastTargetState);this.featureContainer.setVisibleTiles(t)}attach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.attach\"),d(this._updatingHandles.addPromise(this._workerAttached.promise)),d(this._attachProxy()),this.featureContainer=new k(this),this.container.addChild(this.featureContainer),this.view.timeline.record(`${this.layer.title} (FeatureLayer) Attach`),this._subscriptionManager=new G({tileInfoView:this.view.featuresTilingScheme,updateSubscriptions:e=>{this.featureContainer.updateSubscriptions(e),d(this._updatingHandles.addPromise(this.getWorker().then((t=>t.pipeline.updateSubscriptions(e)))))},isDone:e=>this.featureContainer.isDone(e)}),this.requestUpdate(),this.addAttachHandles([f((()=>JSON.stringify({displayRefreshVersion:this._displayRefreshVersion,timeExtent:this.timeExtent,clips:this.clips,filter:this.filter,featureEffect:this.featureEffect,sourceRefreshVersion:this._sourceRefreshVersion,timeZone:this.view.timeZone,effect:this.featureEffect,...this.layerAdapter.getUpdateHashProperties(this.view)})),(()=>this._update()),m),f((()=>this.updateSuspended),(e=>{e||(this._subscriptionManager.resume(),this.view.labelManager.requestUpdate())}))]),\"stream\"!==this.layer.type&&\"catalog-footprint\"!==this.layer.type&&this.addAttachHandles(this.layer.on(\"edits\",(e=>this._edit(e))))}detach(){has(\"esri-2d-update-debug\")&&console.debug(\"FeatureLayerView2D.detach\"),this._detachProxy(),this._fields=null,this.featureContainer.destroy(),this.featureContainer=null,this._commandsQueue.clear(),this.container.removeAllChildren(),this._subscriptionManager=l(this._subscriptionManager),this._workerProxy.pipeline.onDetach(),this._workerAttached=p(),d(this._workerAttached.promise),this._lastAvailableFields=[],this._lastSchema=null}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}isUpdating(){const e=\"renderer\"in this.layer&&null!=this.layer.renderer,t=this._commandsQueue.updateTracking.updating,r=null!=this._updatingRequiredFieldsPromise,i=this.featureContainer.updatingHandles.updating,s=this.updateRequested||e&&(t||r)||i||this._pipelineUpdating||this.dataUpdating;if(has(\"esri-2d-log-updating\")){console.log(`Updating FLV2D (${this.layer.id}): ${s}\\n  -> updateRequested ${this.updateRequested}\\n  -> hasRenderer ${e}\\n  -> updatingRequiredFields ${r}\\n  -> hasPendingCommand ${t}\\n  -> dataUpdating ${this.dataUpdating}\\n  -> processing ${this._pipelineUpdating}\\n  -> updatingContainer ${i}\\n`);for(const e of this.featureContainer.subscriptions())console.log(`    -> Tile[${e.id}] Done: ${e.done}`)}return s}_createClientOptions(){const e=this;return{get container(){return e.featureContainer},setUpdating:e=>{this._set(\"_pipelineUpdating\",e.pipeline),this._set(\"dataUpdating\",e.data)},emitEvent:e=>{this.emit(e.name,e.event)},get eventLog(){return e.eventLog},fetch:t=>Promise.all(t.map((t=>e.view.stage.painter.textureManager.rasterizeItem(t)))),fetchDictionary:e=>Promise.all(e.map((e=>this._fetchDictionaryRequest(e))))}}async _fetchDictionaryRequest(e){try{if(\"subtype-group\"===this.layer.type)throw new Error(\"InternalError: SubtypeGroupLayer does not support dictionary renderer\");const t=this.layer.renderer;if(!t||\"dictionary\"!==t.type)throw new Error(\"InternalError: Expected layer to have a DictionaryRenderer\");const r=this._lastSchema.processor.mesh.factory.symbology;if(\"dictionary\"!==r.type)throw new Error(\"InternalError: Expected schema to be of type 'dictionary'\");const i={cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,store:this.featureContainer.instanceStore,scaleExpression:r.scaleExpression};this._fields||(this._fields=this.layer.fields.map((e=>e.toJSON())));const s=r.visualVariableUniforms,a=await t.getSymbolAsync(e.feature,{fields:this._fields});if(!a||!a.data)return{type:\"dictionary-response\",meshes:[]};return{type:\"dictionary-response\",meshes:await D(a.data,{uniforms:s,path:\"renderer\",schemaOptions:i})}}catch(t){return{type:\"dictionary-response\",meshes:[]}}}_cleanUpQuery(e){const t=C.from(e)||this.createQuery();return t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference),t.toJSON()}_cleanUpAggregateQuery(e){const t=C.from(e)||this.createAggregateQuery();t.outSpatialReference||(t.outSpatialReference=this.view.spatialReference);const r=t.objectIds??[];for(const i of t.aggregateIds??[])r.push(i);return t.objectIds=r,t.aggregateIds=[],t.toJSON()}async _update(){return this._commandsQueue.push({type:\"update\"})}async _edit(e){if(this.updateSuspended)return void this._subscriptionManager.suspend();const t=this._getEffectiveEdit(e);return t?this._commandsQueue.push(t).catch(y):void 0}async doRefresh(e){this.attached&&(this.updateSuspended&&e||(e?this.incrementSourceRefreshVersion():this.incrementDisplayRefreshVersion()))}incrementSourceRefreshVersion(){this._sourceRefreshVersion=(this._sourceRefreshVersion+1)%Y+1}incrementDisplayRefreshVersion(){this._displayRefreshVersion=(this._displayRefreshVersion+1)%Y+1}_getEffectiveEdit(e){const t=\"globalIdField\"in this.layer&&this.layer.globalIdField,r=e.deletedFeatures.some((e=>-1===e.objectId||!e.objectId)),i=t&&this.availableFields.includes(t);if(r&&!i)return u.getLogger(this).error(new o(\"mapview-apply-edits\",`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected on the map`)),null;const s=this.layer,a=e.historicMoment?.getTime()??null,n=\"layerId\"in s&&e.editedFeatures?.find((e=>e.layerId===s.layerId));if(n&&this._canEditByFeature(n)){const e=!1,r=!1,i=$(this.layer.geometryType),{adds:s,deletes:o,updates:u}=n.editedFeatures,l=this.layer.objectIdField,h=s.map((t=>b(t,i,e,r))),c=u.map((t=>b(t.current,i,e,r)));return{type:\"edit-by-feature\",added:h,removed:o.map((e=>\"attributes\"in e?{globalId:t?e.attributes[t]:null,objectId:l?e.attributes[l]:null}:e)),updated:c,historicMoment:a}}return{type:\"edit-by-id\",added:e.addedFeatures,updated:e.updatedFeatures,removed:e.deletedFeatures,historicMoment:a}}_canEditByFeature(e){const{adds:t,updates:r}=e.editedFeatures;return t.every((e=>this.view.spatialReference.equals(e.geometry?.spatialReference)))&&r.every((e=>this.view.spatialReference.equals(e.current.geometry?.spatialReference)))}async _doUpdate(){\"featureReduction\"in this.layer&&this.layer.featureReduction&&this.layer.featureReduction!==this._lastFeatureReduction&&(this.layer.featureReduction=this.layer.featureReduction?.clone(),this._lastFeatureReduction=this.layer.featureReduction);try{if(await this._updateRequiredFields(),this.destroyed||!this.layerAdapter?.hasRequiredSupport||!this._subscriptionManager)return;const e=this.featureContainer.instanceStore;this.featureContainer.attributeView.lockTextureUploads(),e.updateStart();const t=this.featureEffect,r={store:e,cimAnalyzer:this.view.stage.cimAnalyzer,cimResourceManager:this.view.stage.painter.textureManager.resourceManager,scaleExpression:void 0},i=this._createViewSchemaConfig(),s={source:this.layerAdapter.createSourceSchema(i,this._sourceRefreshVersion),processor:await this.layerAdapter.createProcessorSchema(r,i,this._displayRefreshVersion)},a=h(this._lastSchema?.source.mutable,s.source.mutable)||h(this._lastSchema?.processor,s.processor);if(!a)return this.featureContainer.requestRender(),this.featureContainer.attributeView.unlockTextureUploads(),e.updateEnd(),void(this.featureEffectView.featureEffect=t);this._lastSchema=s,this._fields=null;const o=Math.round(performance.now());has(\"esri-2d-update-debug\")&&console.debug(`Id[${this.layer.uid}] Version[${o}] FeatureLayerView2D._doUpdate`,{changes:a});const n=await this.getWorker();await n.pipeline.updateSchema(s,o),e.updateEnd(),this.featureEffectView.featureEffect=t,this.featureEffectView.endTransitions(),this.featureContainer.attributeView.unlockTextureUploads(),this.featureContainer.swapRenderState(),this.featureContainer.requestRender(),has(\"esri-2d-update-debug\")&&console.debug(`Version[${o}] FeatureLayerView2D.updateEnd`),this.requestUpdate()}catch(e){has(\"esri-2d-update-debug\")&&console.error(\"Encountered an error during update\",e)}}async _doEdit(e){const t=await this.getWorker();try{this.featureContainer.editStart(),await t.pipeline.onEdits(e),this.featureContainer.editEnd()}catch(r){g(r),0}}get hasFilter(){const e=this.layerAdapter.hasFilters?.(this.view)??!1;return null!=this.filter||null!=this.timeExtent||this._visibilityOverrides.size>0||e}_getEffectiveAvailableFields(e){const t=X(this._lastAvailableFields,e);return this._lastAvailableFields=t,S(this.layer.fieldsIndex,t)}_createViewSchemaConfig(){const e=[te(this.view,this.layerAdapter,this.timeExtent,this._visibilityOverrides,this.filter),this.featureEffect?.filter?.toJSON()??null];return{availableFields:this._getEffectiveAvailableFields(this.availableFields),filters:e,scale:this.view.scale,timeZone:this.view.timeZone}}_addHighlights(e,t){this._highlightCounter.addReason(e,t),this._commandsQueue.push({type:\"highlight\"})}_removeHighlights(e,t){this._highlightCounter.deleteReason(e,t),this._commandsQueue.push({type:\"highlight\"})}async _updateHighlights(){const e=[];for(const i of this._highlightCounter.ids()){const t=this._highlightCounter.getHighlightReason(i),r=V(t);e.push({objectId:i,highlightFlags:r})}const t=await this.getWorker();if(this.destroyed)return;const r=t.pipeline.updateHighlight({highlights:e}).catch((e=>{g(e)||u.getLogger(this).error(e)}));this._updatingHandles.addPromise(r)}_setLayersForFeature(e){e.layer=e.sourceLayer=this.layer,this.layerAdapter.setGraphicOrigin&&this.layerAdapter.setGraphicOrigin(e)}_createGraphicHit(e,t){return this._setLayersForFeature(t),null!=t.geometry&&(t.geometry.spatialReference=this.view.spatialReference),{type:\"graphic\",graphic:t,layer:this.layer,mapPoint:e}}};function te(e,t,r,i,s){s&&(s=s.clone());const a=null!=s?s.timeExtent:null,o=null!=r&&null!=a?r.intersection(a):r||a;o&&(s??=new F,s.timeExtent=o),s=t.addFilters?.(s,e)??s;let n=s?.toJSON()??null;return i.size&&(n??=(new F).toJSON(),n.hiddenIds=Array.from(i)),n}e([w()],ee.prototype,\"_commandsQueue\",void 0),e([w()],ee.prototype,\"_sourceRefreshVersion\",void 0),e([w()],ee.prototype,\"_displayRefreshVersion\",void 0),e([w({readOnly:!0})],ee.prototype,\"_pipelineUpdating\",void 0),e([w({readOnly:!0})],ee.prototype,\"hasAllFeatures\",null),e([w({readOnly:!0})],ee.prototype,\"hasAllFeaturesInView\",null),e([w({readOnly:!0})],ee.prototype,\"hasFullGeometries\",null),e([w()],ee.prototype,\"featureEffectView\",void 0),e([w()],ee.prototype,\"labelingCollisionInfos\",null),e([w()],ee.prototype,\"layerAdapter\",null),e([w({readOnly:!0})],ee.prototype,\"timeExtent\",null),e([w()],ee.prototype,\"updating\",void 0),ee=e([_(\"esri.views.2d.layers.FeatureLayerView2D\")],ee);const re=ee;export{re as default};\n"],"names":["p","t","e","r","o","s","c","has","f","i","a","m","s$2","n","l","d$2","d","l$7","h","u","n$4","M","P","U","w","A","B","R","k","y","g","z","x","C","b","I","S","V","O","v","L","j","E","F","l$1","u$1","m$1","_","q","X","Y","ee","Z","J","W","T","H","Q","N","K","G","D","$","te","re"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]}