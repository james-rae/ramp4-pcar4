{"version":3,"file":"LinkChartLayer-Db_Zknbh.js","sources":["../../node_modules/@arcgis/core/layers/knowledgeGraph/IdealEdgeLengthTypeOptions.js","../../node_modules/@arcgis/core/libs/linkchartlayout/LinkChartLayout.js","../../node_modules/@arcgis/core/layers/LinkChartLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nvar e;!function(e){e.MULTIPLIER=\"multiplier\",e.ABSOLUTE=\"absoluteValue\"}(e||(e={}));export{e as IdealEdgeLengthTypeOptions};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as t}from\"../../assets.js\";let e,r=null;function a(){return!!r}function n(){return e||(e=import(\"../../chunks/lclayout.js\").then((t=>t.l)).then((({default:e})=>e({locateFile:e=>t(`esri/libs/linkchartlayout/${e}`)}))).then((t=>{s(t)})),e)}function s(t){r=t}var u,o;function l(t,e,a,n,s,u){const o=a.length,l=s.length,y=Float64Array.BYTES_PER_ELEMENT,i=Uint32Array.BYTES_PER_ELEMENT,c=Uint8Array.BYTES_PER_ELEMENT,E=16,f=E+o*(c+2*y)+l*(2*i),p=r._malloc(f);try{const c=p+E-p%E,f=c+o*y,A=f+o*y,_=A+l*i,P=_+l*i,b=()=>[r.HEAPF64.subarray(c>>3,(c>>3)+o),r.HEAPF64.subarray(f>>3,(f>>3)+o),r.HEAPU32.subarray(A>>2,(A>>2)+l),r.HEAPU32.subarray(_>>2,(_>>2)+l),r.HEAPU8.subarray(P,P+o)],[g,H,L,h,d]=b();g.set(a),H.set(n),L.set(s),h.set(u),d.set(e);let C=t(o,P,c,f,l,A,_),F=null,m=null;if(C){const t=r.getLayoutLinksTypes(),e=r.getLayoutLinksVerticesEndIndices(),a=r.getLayoutLinksVertices(),n=r.countLayoutLinksVertices();!l||t&&e?n&&!a?C=!1:(F={types:new Uint8Array(r.HEAPU8.subarray(t,t+l)),vertexEndIndex:new Uint32Array(r.HEAPU32.subarray(e>>2,(e>>2)+l)),vertices:new Float64Array(r.HEAPF64.subarray(a>>3,(a>>3)+2*n))},m=r.getAuxiliaryGraphicElements()):C=!1}const[R,T,U,B,v]=b();return a.set(R),n.set(T),s.set(U),u.set(B),e.set(v),{success:C,links:F,graphics:m}}finally{r._free(p),r.cleanupLayout()}}!function(t){t[t.None=0]=\"None\",t[t.IsMovable=1]=\"IsMovable\",t[t.IsGeographic=2]=\"IsGeographic\",t[t.IsRoot=4]=\"IsRoot\"}(u||(u={})),function(t){t[t.Regular=0]=\"Regular\",t[t.Orthogonal=1]=\"Orthogonal\",t[t.Curved=2]=\"Curved\",t[t.Recursive=3]=\"Recursive\"}(o||(o={}));const y=2,i=1,c=-1;var E,f,p,A,_,P,b,g,H;function L(t,e,a,n,s,u,o,l,y,i,c,E,f,p,A){const _=e.length,P=Float64Array.BYTES_PER_ELEMENT,b=Uint32Array.BYTES_PER_ELEMENT,g=16,H=g+t*(8*P)+_*(3*b),L=r._malloc(H);try{const H=L+g-L%g,h=H+t*P,d=h+t*P,C=d+t*P,F=C+t*P,m=F+t*P,R=m+t*P,T=R+t*P,U=T+t*P,B=U+_*b,v=B+_*b,N=()=>[r.HEAPF64.subarray(H>>3,(H>>3)+t),r.HEAPF64.subarray(h>>3,(h>>3)+t),r.HEAPF64.subarray(d>>3,(d>>3)+t),r.HEAPF64.subarray(C>>3,(C>>3)+t),r.HEAPF64.subarray(F>>3,(F>>3)+t),r.HEAPF64.subarray(m>>3,(m>>3)+t),r.HEAPF64.subarray(R>>3,(R>>3)+t),r.HEAPF64.subarray(T>>3,(T>>3)+t),r.HEAPU32.subarray(U>>2,(U>>2)+_),r.HEAPU32.subarray(B>>2,(B>>2)+_),r.HEAPU32.subarray(v>>2,(v>>2)+_)],[I,M,S,k,Y,w,G,x,z,D,V]=N();I.set(l),M.set(y),S.set(i),k.set(c),Y.set(E),w.set(f),G.set(p),x.set(A),z.set(e),D.set(a),V.set(n);const j=r.computeCentrality(t,_,U,B,v,s,u,o,H,h,d,C,F,m,R,T),[O,$,q,J,K,Q,W,X,Z,tt,et]=N();return l.set(O),y.set($),i.set(q),c.set(J),E.set(K),f.set(Q),p.set(W),A.set(X),e.set(Z),a.set(tt),n.set(et),j}finally{r._free(L)}}!function(t){function e(){return r.getMinIdealEdgeLength()}function a(t,e,a,n,s,u=y,o=i,E=c){return l(((t,e,a,n,s,l,y)=>r.applyForceDirectedLayout(t,e,a,n,s,l,y,u,o,E)),t,e,a,n,s)}t.getMinIdealEdgeLength=e,t.apply=a}(E||(E={})),function(t){function e(t,e,a,n,s,u=y,o=i,E=c){return l(((t,e,a,n,s,l,y)=>r.applyCommunityLayout(t,e,a,n,s,l,y,u,o,E)),t,e,a,n,s)}t.apply=e}(f||(f={})),function(t){function e(t,e,a,n,s){return l(r.applySimpleLayout,t,e,a,n,s)}t.apply=e}(p||(p={})),function(t){function e(t,e,a,n,s){return l(r.applyHierarchicalLayout,t,e,a,n,s)}t.apply=e}(A||(A={})),function(t){function e(t,e,a,n,s){return l(r.applyRadialTreeLayout,t,e,a,n,s)}t.apply=e}(_||(_={})),function(t){function e(t,e,a,n,s){return l(r.applySmartTreeLayout,t,e,a,n,s)}t.apply=e}(P||(P={})),function(t){function e(t,e,a,n,s,u,o,y,i){return l(((t,e,a,u,o,l,c)=>{if(n.length!==t)return!1;if(s.length!==t)return!1;if(y.length!==o)return!1;if(i.length!==o)return!1;const E=Float64Array.BYTES_PER_ELEMENT,f=16,p=r._malloc(f+t*E),A=r._malloc(f+t*E),_=r._malloc(f+o*E),P=r._malloc(f+o*E),b=p+f-p%f,g=A+f-A%f,H=_+f-_%f,L=P+f-P%f;try{return r.HEAPF64.subarray(b>>3,(b>>3)+t).set(n),r.HEAPF64.subarray(g>>3,(g>>3)+t).set(s),r.HEAPF64.subarray(H>>3,(H>>3)+o).set(y),r.HEAPF64.subarray(L>>3,(L>>3)+o).set(i),r.applyChronologicalLayout(t,e,a,u,b,g,o,l,c,H,L)}finally{r._free(p),r._free(A),r._free(_),r._free(P)}}),t,e,a,u,o)}t.apply=e}(b||(b={})),function(t){t[t.Undirected=0]=\"Undirected\",t[t.Directed=1]=\"Directed\",t[t.Reversed=2]=\"Reversed\"}(g||(g={})),function(t){t[t.ByCC_Raw=0]=\"ByCC_Raw\",t[t.ByCC_NormalizeGlobally=1]=\"ByCC_NormalizeGlobally\",t[t.ByCC_NormalizeByCC=2]=\"ByCC_NormalizeByCC\"}(H||(H={}));export{H as CentralityMode,b as LCChronologicalLayout,f as LCCommunityLayout,E as LCForceDirectedLayout,A as LCHierarchicalLayout,_ as LCRadialTreeLayout,p as LCSimpleLayout,P as LCSmartTreeLayout,o as LinkType,u as NodeFlag,g as RelationshipInterpretation,r as _lclib,L as computeCentrality,y as defaultBudgetTheoreticalSeconds,i as defaultIdealEdgeLengthMultiplier,c as defaultRepulsionRadiusMultiplier,a as isLoaded,n as load};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import\"../geometry.js\";import t from\"../core/Collection.js\";import a from\"../core/Error.js\";import i from\"../core/Logger.js\";import{getOrCreateMapValue as n}from\"../core/MapUtils.js\";import{throwIfAborted as s}from\"../core/promiseUtils.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as r}from\"../core/accessorSupport/decorators/subclass.js\";import h from\"./Layer.js\";import{convertFromGeometry as l}from\"./graphics/featureConversionUtils.js\";import d from\"./graphics/OptimizedGeometry.js\";import{IdealEdgeLengthTypeOptions as p}from\"./knowledgeGraph/IdealEdgeLengthTypeOptions.js\";import{KnowledgeGraphLayerDataManager as u,mockOidFieldName as c,mockOriginIdFieldName as y,mockDestinationIdFieldName as g,mockLayoutGeometryFieldName as m,mockAggregationCountFieldName as f}from\"./knowledgeGraph/KnowledgeGraphLayerDataManager.js\";import L from\"./knowledgeGraph/KnowledgeGraphSublayer.js\";import{getRelationshipEndNodeIds as C}from\"./knowledgeGraph/supportUtils.js\";import{BlendLayer as k}from\"./mixins/BlendLayer.js\";import{ScaleRangeLayer as M}from\"./mixins/ScaleRangeLayer.js\";import{LCSimpleLayout as w,LCSmartTreeLayout as b,LCRadialTreeLayout as E,LCHierarchicalLayout as D,LCCommunityLayout as T,LCForceDirectedLayout as x,NodeFlag as N,load as v,LinkType as R}from\"../libs/linkchartlayout/LinkChartLayout.js\";import{fetchKnowledgeGraph as I}from\"../rest/knowledgeGraphService.js\";import A from\"../geometry/Extent.js\";import G from\"../geometry/Point.js\";import _ from\"../geometry/Polyline.js\";let j=class extends(k(M(h))){constructor(e){if(super(e),this.dataPreloadedInLocalCache=!1,this.defaultLinkChartConfig=null,this._currentLinkChartConfig={layoutMode:\"RADIAL_TREE\"},this._graphTypeLookup=new Map,this.dataManager=null,this.knowledgeGraph=null,this.layers=new t,this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map,this.linkChartExtent=new A({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7}),this.memberEntityTypes=null,this.memberRelationshipTypes=null,this.sublayerIdsCache=new Map,this.tables=new t,this.type=\"link-chart\",this._originalInclusionList=e.inclusionModeDefinition,e.dataPreloadedInLocalCache&&!e.inclusionModeDefinition)throw new a(\"knowledge-graph:linkchart-layer-constructor\",\"If creating a link chart composite layer and configured that data is already loaded in the cache, you must specify an inclusion list so the Composite Layer knows what records belong to it\")}normalizeCtorArgs(e){return{url:e.url,title:e.title,dataPreloadedInLocalCache:e.dataPreloadedInLocalCache,defaultLinkChartConfig:e.defaultLinkChartConfig}}_initializeLayerProperties(e){if(!this.title&&this.url){const e=this.url.split(\"/\");this.title=e[e.length-2]}const t=new Set;let n=[],s=[];if(e.inclusionModeDefinition&&(!e.inclusionModeDefinition.namedTypeDefinitions||e.inclusionModeDefinition.namedTypeDefinitions.size<1))throw new a(\"knowledge-graph:composite-layer-constructor\",\"If an explicit inclusion definition is defined, at least one namedTypeDefinition must also be defined\");e.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)})),e.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&this._graphTypeLookup.set(e.name,e)})),e.inclusionModeDefinition?.generateAllSublayers?(n=e.knowledgeGraph.dataModel.entityTypes??[],s=e.knowledgeGraph.dataModel.relationshipTypes??[]):e.inclusionModeDefinition?.namedTypeDefinitions&&e.inclusionModeDefinition?.namedTypeDefinitions.size>0?e.inclusionModeDefinition?.namedTypeDefinitions.forEach(((a,o)=>{const r=this._graphTypeLookup.get(o);if(!r)return i.getLogger(this).warn(`A named type, ${o}, was in the inclusion list that wasn't in the data model and will be removed`),void e.inclusionModeDefinition?.namedTypeDefinitions.delete(o);\"relationship\"===r.type?t.has(o)||(t.add(o),s.push(r)):\"entity\"===r.type?t.has(o)||(t.add(o),n.push(r)):(i.getLogger(this).warn(`A named type, ${o}, was in the inclusion list that wasn't properly modeled and will be removed`),e.inclusionModeDefinition?.namedTypeDefinitions.delete(o))})):(n=e.knowledgeGraph.dataModel.entityTypes??[],s=e.knowledgeGraph.dataModel.relationshipTypes??[]);const o=new u({knowledgeGraph:e.knowledgeGraph,inclusionModeDefinition:e.inclusionModeDefinition});this.knowledgeGraph=e.knowledgeGraph,this.memberEntityTypes=n,this.memberRelationshipTypes=s,this.dataManager=o}load(e){return this.addResolvingPromise(new Promise((t=>{I(this.url).then((a=>{if(this._initializeLayerProperties({knowledgeGraph:a,inclusionModeDefinition:this._originalInclusionList}),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.size||(this.dataManager.inclusionModeDefinition={generateAllSublayers:!1,namedTypeDefinitions:new Map},this.dataManager.knowledgeGraph.dataModel.entityTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})})),this.dataManager.knowledgeGraph.dataModel.relationshipTypes?.forEach((e=>{e.name&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.set(e.name,{useAllData:!0})}))),this.dataPreloadedInLocalCache)this.loadLayerAssumingLocalCache(),this.dataManager.inclusionModeDefinition&&(this.dataManager.inclusionModeDefinition.generateAllSublayers=!1),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach((e=>{e.useAllData=!1,e.members?.forEach((e=>{let t;t=e.linkChartLocation instanceof d?e.linkChartLocation:e.linkChartLocation?l(e.linkChartLocation):null,t&&2===t.coords.length&&0===t.lengths.length?this.entityLinkChartDiagramLookup.set(e.id,t):this.relationshipLinkChartDiagramLookup.set(e.id,t)})),this.addResolvingPromise(this._initializeDiagram().then((async()=>{this.layers.forEach((async e=>{await e.refreshCachedQueryEngine()})),this.tables.forEach((async e=>{await e.refreshCachedQueryEngine()}))})))}));else{const t=\"GEOGRAPHIC\"===this.defaultLinkChartConfig?.layoutMode;this.addResolvingPromise(this.dataManager.refreshCacheContent(void 0,!1,t,!0).then((async()=>{s(e);const t=[],a=[];this.loadLayerAssumingLocalCache(),this.dataManager.inclusionModeDefinition&&(this.dataManager.inclusionModeDefinition.generateAllSublayers=!1,this.dataManager.inclusionModeDefinition.namedTypeDefinitions.forEach((e=>{e.useAllData=!1}))),await this._initializeDiagram(),this.layers.forEach((e=>{a.push(e.refreshCachedQueryEngine()),t.push(new Promise((t=>{e.on(\"layerview-create\",(()=>{t(null)}))})))})),this.tables.forEach((e=>{a.push(e.refreshCachedQueryEngine())})),await Promise.all(a)})))}t(null)}))}))),Promise.resolve(this)}async addRecords(e,t){let a=[];t?.cascadeAddRelationshipEndNodes&&this.dataManager.knowledgeGraph.dataModel&&(a=await C(e,this.dataManager.knowledgeGraph));const i=e.concat(a).filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id)));await this._handleNewRecords(i)}async removeRecords(e,{cascadeRemoveRelationships:t=!0,recalculateLayout:a=!1}={cascadeRemoveRelationships:!0,recalculateLayout:!1}){let i=[];for(const s of e)!1===this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(s.typeName)?.useAllData&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(s.typeName)?.members?.has(s.id)&&i.push(s);if(t){const e=new Set,t=[];for(const a of i)if(this.dataManager.nodeConnectionsLookup.has(a.id))for(const t of this.dataManager.nodeConnectionsLookup.get(a.id))e.add(t);for(const a of e)if(this.dataManager.memberIdTypeLookup.has(a))for(const e of this.dataManager.memberIdTypeLookup.get(a))this.dataManager.relationshipTypeNames.has(e)&&t.push({id:a,typeName:e});i=i.concat(t)}this.dataManager.removeFromLayer(i);for(const s of i)this.sublayerIdsCache.get(s.typeName)?.delete(s.id),this.dataManager.relationshipTypeNames.has(s.typeName)?this.relationshipLinkChartDiagramLookup.delete(s.id):this.entityLinkChartDiagramLookup.delete(s.id);a&&await this.calculateLinkChartLayout(this._currentLinkChartConfig.layoutMode,this._currentLinkChartConfig.layoutOptions);const n=[];return this.layers.forEach((e=>{n.push(e.refreshCachedQueryEngine())})),await Promise.all(n),this._refreshNamedTypes(),i}async expand(e,t){const a=await this.dataManager.getConnectedRecordIds(e,t),i=a.filter((e=>!this.sublayerIdsCache.get(e.typeName)?.has(e.id)));return await this._handleNewRecords(a),{records:i}}loadLayerAssumingLocalCache(){this.memberRelationshipTypes.forEach((e=>{const t=new L({objectType:e,parentCompositeLayer:this,graphType:\"relationship\",title:e.name});t.geometryType?this.layers.push(t):this.tables.push(t),this.dataManager.sublayerCaches.has(e.name)||this.dataManager.sublayerCaches.set(e.name,new Map)})),this.memberEntityTypes.forEach((e=>{const t=new L({objectType:e,parentCompositeLayer:this,graphType:\"entity\",title:e.name});t.geometryType?this.layers.push(t):this.tables.push(t),this.dataManager.sublayerCaches.has(e.name)||this.dataManager.sublayerCaches.set(e.name,new Map)})),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach(((e,t)=>{const a=n(this.sublayerIdsCache,t,(()=>new Set));e.members?.forEach((e=>{if(a.add(e.id),e.linkChartLocation)if(e.linkChartLocation instanceof d)this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(e.id,e.linkChartLocation):this.entityLinkChartDiagramLookup.set(e.id,e.linkChartLocation);else{const a=l(e.linkChartLocation);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(e.id,e.linkChartLocation?a:null):this.entityLinkChartDiagramLookup.set(e.id,e.linkChartLocation?a:null)}}))}))}async calculateLinkChartLayout(e=\"RADIAL_TREE\",t){const n=[],s=[],o=[];this.dataManager.sublayerCaches.forEach(((e,t)=>{this.dataManager.entityTypeNames.has(t)?e.forEach((e=>{n.push({typeName:t,feature:e})})):this.dataManager.relationshipTypeNames.has(t)&&e.forEach((e=>{s.push({typeName:t,feature:e})}))})),this.entityLinkChartDiagramLookup=new Map,this.relationshipLinkChartDiagramLookup=new Map;const r=new Map,h=new Map,d=new Map,p=new Map,u=new Uint8Array(n.length),L=new Float64Array(n.length),C=new Float64Array(n.length),k=new Uint32Array(s.length),M=new Uint32Array(s.length),I=[],j=\"FORCE_DIRECTED\",P=new A({xmin:-1e-7,ymin:-1e-7,xmax:1e-7,ymax:1e-7});let S,O=\"FORCE_DIRECTED\",z=0,U=0;switch(O=\"GEOGRAPHIC\"===e?j:e,O){case\"FORCE_DIRECTED\":S=x.apply;break;case\"COMMUNITY\":S=T.apply;break;case\"HIERARCHICAL\":S=D.apply;break;case\"RADIAL_TREE\":S=E.apply;break;case\"SMART_TREE\":S=b.apply;break;default:S=w.apply}n.forEach((({typeName:a,feature:i})=>{if(t?.lockedNodeLocations?.has(i.attributes[c])){\"GEOGRAPHIC\"===e&&this.dataManager.geographicLookup.has(a)?u[z]=N.IsGeographic:u[z]=N.None;const n=t.lockedNodeLocations.get(i.attributes[c]);L[z]=n.x,C[z]=n.y}else if(\"GEOGRAPHIC\"===e&&this.dataManager.geographicLookup.has(a)){u[z]=N.IsGeographic;let e=null;const t=i.attributes[this.dataManager.geographicLookup.get(a).name],n=this.dataManager.geographicLookup.get(a)?.geometryType;switch(n){case\"esriGeometryPoint\":L[z]=t?.x,C[z]=t?.y;break;case\"esriGeometryPolygon\":e=t?.centroid,null!=e?.x&&null!=e?.y?(L[z]=e.x,C[z]=e.y):u[z]=N.IsMovable;break;case\"esriGeometryPolyline\":case\"esriGeometryMultipoint\":e=t?.extent?.center,null!=e?.x&&null!=e?.y?(L[z]=e.x,C[z]=e.y):u[z]=N.IsMovable;break;default:u[z]=N.IsMovable}(null==L[z]||null==C[z]||Number.isNaN(L[z])||Number.isNaN(C[z]))&&(u[z]=N.IsMovable,L[z]=0,C[z]=0)}else u[z]=N.IsMovable,L[z]=0,C[z]=0;p.set(i.attributes[c],z),I[z]={feature:i,typeName:a},z++}));let H=!1;const B=new Map;s.forEach((e=>{const t=e.feature.attributes[y],a=e.feature.attributes[g],i=p.get(t),n=p.get(a);if(void 0!==i&&void 0!==n){const s=t+\"-\"+a,r=B.get(s),h=r?.has(e.typeName);h||(k[U]=i,M[U]=n,void 0===r?B.set(s,new Map([[e.typeName,U]])):r.set(e.typeName,U),U++),o.push(e)}else H=!0,this.relationshipLinkChartDiagramLookup.set(t,null)})),H&&i.getLogger(this).warn(\"A relationship is a member of this layer that has either origin or destination entity nodes that are not members. The diagram geometry will be set to null\");const F=this._validateLayoutSettings(e,t),Q=this._convertLayoutSettingsToCalculationSettings(F);await v();const{success:K,links:Y}=S(u,L,C,k.subarray(0,U),M.subarray(0,U),Q.computationBudgetTime,Q.idealEdgeLengthMultiplier,Q.repulsionRadiusMultiplier);if(!K)throw new a(\"knowledge-graph:layout-failed\",\"Attempting to arrange the records in the specified layout failed\");for(let a=0;a<I.length;a++){if(C[a]>84.9999?C[a]=84.9999:C[a]<-84.9999&&(C[a]=-84.9999),L[a]>179.9999?L[a]=179.9999:L[a]<-179.9999&&(L[a]=-179.9999),I[a].feature.attributes[m]=new G(L[a],C[a]),r.has(I[a].typeName)){const e=r.get(I[a].typeName);e?.set(I[a].feature.attributes[c],I[a].feature)}else{const e=new Map;e.set(I[a].feature.attributes[c],I[a].feature),r.set(I[a].typeName,e)}d.set(I[a].feature.attributes[c],I[a].feature);const e=l(I[a].feature.attributes[m]);this.entityLinkChartDiagramLookup.set(I[a].feature.attributes[c],I[a].feature.attributes[m]?e:null),I[a].feature.attributes[m].x<P.xmin&&(P.xmin=I[a].feature.attributes[m].x),I[a].feature.attributes[m].x>P.xmax&&(P.xmax=I[a].feature.attributes[m].x),I[a].feature.attributes[m].y<P.ymin&&(P.ymin=I[a].feature.attributes[m].y),I[a].feature.attributes[m].y>P.ymax&&(P.ymax=I[a].feature.attributes[m].y)}if(this.linkChartExtent.xmin=P.xmin,this.linkChartExtent.xmax=P.xmax,this.linkChartExtent.ymin=P.ymin,this.linkChartExtent.ymax=P.ymax,!Y)throw new a(\"knowledge-graph:layout-failed\",\"Attempting to retrieve link geometry from diagram engine failed\");const $=new Map,W=new Map,q=new Map,J=new Set;for(let a=0;a<o.length;a++){const e=[],t=o[a],n=t.feature.attributes[y],s=t.feature.attributes[g],r=n+\"-\"+s,u=B.get(r).get(t.typeName),f=0===u?0:Y?.vertexEndIndex[u-1];if(!J.has(u)){if(J.add(u),Y.types[u]===R.Recursive){const t=[Y.vertices[2*f],Y.vertices[2*f+1]],a=[Y.vertices[2*(f+1)],Y.vertices[2*(f+1)+1]],i=[.5*(t[0]+a[0]),.5*(t[1]+a[1])],n=[i[0]-t[0],i[1]-t[1]],s=[i[0]+n[1],i[1]-n[0]],o=[i[0]-n[1],i[1]+n[0]];e.push(t),e.push(s),e.push(a),e.push(o),e.push(t)}else{if(Y.types[u]!==R.Regular){i.getLogger(this).warn(\"A relationship generated an unsupported link geometry type.  It will not be rendered\");continue}for(let t=f;t<Y.vertexEndIndex[u];t++)e.push([Y.vertices[2*t],Y.vertices[2*t+1]])}const t=I[p.get(n)]?.feature.attributes[m],a=I[p.get(s)]?.feature.attributes[m];e[0][0]===t.x&&e[0][1]===t.y||(e[0]=[t.x,t.y]),e[e.length-1][0]===a.x&&e[e.length-1][1]===a.y||(e[e.length-1]=[a.x,a.y]);for(let i=1;i<e.length-1;i++)e[i][1]>85.5?e[i][1]=85.5:e[i][1]<-85.5&&(e[i][1]=-85.5),e[i][0]>179.9999?e[i][0]=179.9999:e[i][0]<-179.9999&&(e[i][0]=-179.9999);$.has(r)?$.get(r).push(e):$.set(r,[e])}const L=$.get(r);W.has(r)||(W.set(r,new Map),q.set(r,new Map));const C=W.get(r),k=q.get(r);C.has(t.typeName)||(C.set(t.typeName,L.shift()),k.set(t.typeName,0));const M=C.get(t.typeName);k.set(t.typeName,k.get(t.typeName)+1);const w=new _({paths:M});if(t.feature.attributes[m]=w,h.has(t.typeName)){const e=h.get(t.typeName);e?.set(t.feature.attributes[c],t.feature)}else{const e=new Map;e.set(t.feature.attributes[c],t.feature),h.set(t.typeName,e)}d.set(t.feature.attributes[c],t.feature);const b=l(t.feature.attributes[m]);this.relationshipLinkChartDiagramLookup.set(t.feature.attributes[c],t.feature.attributes[m]?b:null)}for(const a of o)a.feature.attributes[f]=q.get(a.feature.attributes[y]+\"-\"+a.feature.attributes[g])?.get(a.typeName)??null;return this._currentLinkChartConfig={layoutMode:e,layoutOptions:F},{nodes:r,links:h,idMap:d}}async applyNewLinkChartLayout(e=\"RADIAL_TREE\",t){const a=[];await this.calculateLinkChartLayout(e,t),this.layers.forEach((e=>{a.push(e.refreshCachedQueryEngine())})),await Promise.all(a),this._refreshNamedTypes()}getCurrentNodeLocations(){const e=new Map;return this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach((t=>{t?.members?.forEach((t=>{const a=t.linkChartLocation;let i;const n=t.id;a&&(i=\"x\"in a?{x:a.x,y:a.y}:{x:a.coords[0],y:a.coords[1]},e.set(n,new G({x:i.x,y:i.y})))}))})),e}async synchronizeInclusionListWithCache(){return new Promise((e=>{this.dataManager.inclusionModeDefinition?.namedTypeDefinitions.forEach(((e,t)=>{if(e.useAllData=!1,e.members&&e.members.size>0){if(!this.dataManager.sublayerCaches.get(t))return;const a=new Set(Array.from(this.dataManager.sublayerCaches.get(t).keys()));Array.from(e.members.keys()).filter((e=>!a.has(e))).forEach((t=>{e.members?.delete(t)}))}})),e()}))}async refreshLinkChartCache(e){await this.dataManager.refreshCacheContent(e);const t=[];this.layers.forEach((e=>{t.push(e.refreshCachedQueryEngine())})),await Promise.all(t),this._refreshNamedTypes()}async connectEntities(e){let t=[];for(const i of this.dataManager.relationshipTypeNames){const e=this.sublayerIdsCache.get(i);e&&(t=t.concat(Array.from(e.keys())))}const a=await this.dataManager.getAttachedRelationships(e,t);return await this._handleNewRecords(a),{records:a}}async _handleNewRecords(e){const t=[];this.dataManager.addToLayer(e);for(const i of e)this.sublayerIdsCache.has(i.typeName)||(this.sublayerIdsCache.set(i.typeName,new Set),t.push(i.typeName)),this.sublayerIdsCache.get(i.typeName).add(i.id);for(const i of t){const e=this._graphTypeLookup.get(i);if(e){const t=new L({objectType:e,parentCompositeLayer:this,graphType:e.type,title:i});\"entity\"===e.type?this.dataManager.entityTypeNames.add(i):this.dataManager.relationshipTypeNames.add(i),t.geometryType?this.layers.push(t):this.tables.push(t),this.dataManager.sublayerCaches.set(i,new Map)}}await this.dataManager.refreshCacheContent(e.map((e=>e.id)));const a=Object.assign({},this._currentLinkChartConfig.layoutOptions);a.lockedNodeLocations=this.getCurrentNodeLocations(),await this.applyNewLinkChartLayout(this._currentLinkChartConfig.layoutMode,a)}async _initializeDiagram(){this.defaultLinkChartConfig?this.defaultLinkChartConfig.doNotRecalculateLayout?(this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach(((e,t)=>{e?.members?.forEach((e=>{const a=e.linkChartLocation;let i;const n=e.id;if(!a)return;i=\"x\"in a?{x:a.x,y:a.y}:{x:a.coords[0],y:a.coords[1]};const s=l(i);this.dataManager.relationshipTypeNames.has(t)?this.relationshipLinkChartDiagramLookup.set(n,s):this.entityLinkChartDiagramLookup.set(n,s),this.linkChartExtent.xmin>i.x&&(this.linkChartExtent.xmin=i.x),this.linkChartExtent.xmax<i.x&&(this.linkChartExtent.xmax=i.x),this.linkChartExtent.ymin>i.y&&(this.linkChartExtent.ymin=i.y),this.linkChartExtent.ymax<i.y&&(this.linkChartExtent.ymax=i.y)}))})),this.memberRelationshipTypes.forEach((e=>{e.name&&this.dataManager.sublayerCaches.get(e.name)?.forEach((e=>{const t=this.relationshipLinkChartDiagramLookup.get(e.attributes[y]),a=this.relationshipLinkChartDiagramLookup.get(e.attributes[g]);if(t&&a){const i=l(new _({paths:[[t.coords[0],t.coords[1]],[a.coords[0],a.coords[1]]]}));this.relationshipLinkChartDiagramLookup.set(e.attributes[c],i)}else this.relationshipLinkChartDiagramLookup.set(e.attributes[c],null)}))}))):await this.calculateLinkChartLayout(this.defaultLinkChartConfig.layoutMode,{lockedNodeLocations:this.getCurrentNodeLocations(),...this.defaultLinkChartConfig.layoutOptions||{}}):await this.calculateLinkChartLayout(\"RADIAL_TREE\",{lockedNodeLocations:this.getCurrentNodeLocations()})}_refreshNamedTypes(){for(const e of this.layers)e.emit(\"refresh\",{dataChanged:!0});for(const e of this.tables)e.emit(\"refresh\",{dataChanged:!0})}_validateLayoutSettings(e,t){const a=e=>\"number\"==typeof e&&!isNaN(e),n=e=>a(e)&&e>=1,s=e=>a(e)&&e>=1,o=e=>Object.values(p).includes(e),r=e=>a(e)&&e>=0,h=new Set([\"FORCE_DIRECTED\",\"COMMUNITY\",\"GEOGRAPHIC\"]),l={};if(!h.has(e)||!t)return!h.has(e)&&t&&i.getLogger(this).warn(\"Layout mode options were given for a layout mode that does not utilize them, settings will be ignored\"),l;const{computationBudgetTime:d,repulsionRadiusMultiplier:u,idealEdgeLength:c,idealEdgeLengthType:y}=t;s(d)?l.computationBudgetTime=d:void 0!==d&&i.getLogger(this).warn(\"Invalid layout computationBudgetTime setting, will revert to default setting\"),n(u)?l.repulsionRadiusMultiplier=u:void 0!==u&&i.getLogger(this).warn(\"Invalid layout repulsionRadiusMultiplier setting, will revert to default setting\");const g=void 0!==c||void 0!==y;return\"GEOGRAPHIC\"!==e&&g?i.getLogger(this).warn(\"Ideal edge length settings were specified for an incompatible layout mode, and will be ignored\"):\"GEOGRAPHIC\"===e&&g&&(o(y)?l.idealEdgeLengthType=y:void 0!==y&&i.getLogger(this).warn('Invalid layout idealEdgeLengthType setting, will revert to \"multiplier\" setting'),r(c)?l.idealEdgeLength=c:void 0!==c&&i.getLogger(this).warn(\"Invalid layout idealEdgeLength setting, will revert to default setting\")),l}_convertLayoutSettingsToCalculationSettings(e){let t=e.idealEdgeLength;return e.idealEdgeLengthType===p.ABSOLUTE&&(void 0===t?t=-1:t*=-1),{computationBudgetTime:e.computationBudgetTime,repulsionRadiusMultiplier:e.repulsionRadiusMultiplier,idealEdgeLengthMultiplier:t}}};e([o()],j.prototype,\"dataPreloadedInLocalCache\",void 0),e([o()],j.prototype,\"defaultLinkChartConfig\",void 0),e([o()],j.prototype,\"dataManager\",void 0),e([o()],j.prototype,\"knowledgeGraph\",void 0),e([o()],j.prototype,\"layers\",void 0),e([o()],j.prototype,\"entityLinkChartDiagramLookup\",void 0),e([o()],j.prototype,\"relationshipLinkChartDiagramLookup\",void 0),e([o()],j.prototype,\"linkChartExtent\",void 0),e([o()],j.prototype,\"memberEntityTypes\",void 0),e([o()],j.prototype,\"memberRelationshipTypes\",void 0),e([o()],j.prototype,\"sublayerIdsCache\",void 0),e([o()],j.prototype,\"tables\",void 0),e([o({json:{read:!1}})],j.prototype,\"type\",void 0),j=e([r(\"esri.layers.LinkChartLayer\")],j);const P=j;export{P as default};\n"],"names":["e","r","n","t","s","u","o","l","a","y","i","c","E","f","p","A","_","P","b","g","H","L","h","d","C","F","m","R","T","U","B","v","j","k","M","I","S","O","z","x","D","w","N","Q","K","Y","G","$","W","q"],"mappings":"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","x_google_ignoreList":[0,1,2]}