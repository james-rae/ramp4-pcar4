var ao=(t=>(t.BLOB="blob",t.DATE="date",t.DOUBLE="double",t.GEOMETRY="geometry",t.GLOBAL_ID="global-id",t.GUID="guid",t.INTEGER="integer",t.LONG="long",t.OID="oid",t.RASTER="raster",t.SINGLE="single",t.SMALL_INTEGER="small-integer",t.STRING="string",t.XML="xml",t))(ao||{}),lo=(t=>(t.CIRCLE="circle",t.CROSS="cross",t.DIAMOND="diamond",t.ICON="icon",t.PATH="path",t.SQUARE="square",t.TRIANGLE="triangle",t.X="x",t))(lo||{}),er=(t=>(t.DASH="dash",t.DASHDOT="dash-dot",t.DASHDOTDOT="short-dash-dot-dot",t.DOT="dot",t.LONGDASH="long-dash",t.LONGDASHDOT="long-dash-dot",t.LONGDASHDOTDOT="long-dash-dot-dot",t.NONE="none",t.NULL="none",t.SHORTDASH="short-dash",t.SHORTDASHDOT="short-dash-dot",t.SHORTDASHDOTDOT="short-dash-dot-dot",t.SHORTDOT="short-dot",t.SOLID="solid",t))(er||{}),aM=(t=>(t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t))(aM||{}),lM=(t=>(t.ROUND="round",t.BUTT="butt",t.SQUARE="square",t))(lM||{}),cM=(t=>(t.BDIAG="backward-diagonal",t.CROSS="cross",t.DIAG_CROSS="diagonal-cross",t.FDIAG="forward-diagonal",t.HORIZONTAL="horizontal",t.NONE="none",t.NULL="none",t.SOLID="solid",t.VERTICAL="vertical",t))(cM||{}),Ut=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t.LINEARRING="LinearRing",t.EXTENT="Extent",t.NONE="None",t.UNKNOWN="Unknown",t))(Ut||{}),K0=(t=>(t.Simple="simple",t.Unique="uniqueValue",t.ClassBreaks="classBreaks",t.Unknown="unknown",t))(K0||{}),xt=(t=>(t.FEATURE="esri-feature",t.MAPIMAGE="esri-map-image",t.TILE="esri-tile",t.VECTORTILE="esri-vector-tile",t.IMAGERY="esri-imagery",t.IMAGERYTILE="esri-imagery-tile",t.GRAPHIC="esri-graphic",t.WMS="ogc-wms",t.WFS="ogc-wfs",t.GEOJSON="file-geojson",t.GEOJSONZIPPED="file-zip-geojson",t.CSV="file-csv",t.SHAPEFILE="file-shape",t.FLATGEOBUF="file-fgb",t.FLATGEOBUFZIPPED="file-zip-fgb",t.OSM="osm-tile",t.DATACSV="data-csv",t.DATAJSON="data-json",t.DATATABLE="data-esri-table",t.UNKNOWN="unknown",t.SUBLAYER="sublayer",t))(xt||{}),Fi=(t=>(t.FEATURE="feature",t.GRAPHIC="graphic",t.IMAGERY="imagery",t.IMAGERYTILE="imagery-tile",t.MAPIMAGE="map-image",t.NOLAYER="no-layer",t.OSM="osm-tile",t.TILE="tile",t.UNKNOWN="unknown",t.VECTORTILE="vector-tile",t.WMS="wms",t))(Fi||{}),Kn=(t=>(t.ESRI_FEATURE="esriFeature",t.ESRI_RASTER="esriRaster",t.ESRI_TILE="esriTile",t.OSM_TILE="osmTile",t.OGC_RASTER="ogcRaster",t.UNKNOWN="unknown",t))(Kn||{}),ln=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t))(ln||{}),zn=(t=>(t.GEOMETRIC="geometric",t.SYMBOLIC="symbolic",t.HYBRID="hybrid",t.NONE="none",t))(zn||{}),$e=(t=>(t.NEW="new",t.INITIATING="initiating",t.INITIATED="initiated",t.TERMINATING="terminating",t.TERMINATED="terminated",t))($e||{}),en=(t=>(t.NEW="new",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(en||{}),ji=(t=>(t.NOT_LOADED="not-loaded",t.NOT_VISUAL="not-visual",t.REFRESH="refresh",t.UP_TO_DATE="up-to-date",t))(ji||{}),dc=(t=>(t.ESRI="esri",t.TEXT="text",t.IMAGE="image",t.HTML="html",t.XML="xml",t.JSON="json",t.UNKNOWN="unknown",t))(dc||{}),ri=(t=>(t.SYMBOL="symbol",t.GRID="grid",t.EXTENT="extent",t.INITIAL="initial",t.API="api",t.PERMANENT="permanent",t))(ri||{}),cn=(t=>(t.BoundaryZoom="boundaryZoom",t.Datatable="datatable",t.Identify="identify",t.Metadata="metadata",t.Opacity="opacity",t.Refresh="refresh",t.Reload="reload",t.Remove="remove",t.Settings="settings",t.Symbology="symbology",t.Visibility="visibility",t))(cn||{});class Wr{attributes;geometry;style;id;constructor(e,n,i){this.geometry=e,n?this.id=n:this.id=uc.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}const ty={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function uM(t){return!!ty[t]||!!ty[t.toLowerCase()]}function e_(t){return ty[t]??ty[t.toLowerCase()]}function fB(t){return[...e_(t)]}function n_(t,e,n){n<0&&++n,n>1&&--n;const i=6*n;return i<1?t+(e-t)*i:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function hM(t,e,n,i=1){const r=(t%360+360)%360/360,s=n<=.5?n*(e+1):n+e-n*e,o=2*n-s;return[Math.round(255*n_(o,s,r+1/3)),Math.round(255*n_(o,s,r)),Math.round(255*n_(o,s,r-1/3)),i]}function mB(t){const e=t.length>5,n=e?8:4,i=(1<<n)-1,r=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=n,a[3]=r*l/255),l=o&i,o>>=n,a[2]=r*l,l=o&i,o>>=n,a[1]=r*l,l=o&i,o>>=n,a[0]=r*l,a}function pM(t){if(!t.startsWith("#")||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),i=parseInt(t.slice(3,4),16),r=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,n+16*n,i+16*i,(r+16*r)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function dM(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const n=e[2].split(/\s*,\s*/),i=e[1];if(i==="rgb"&&n.length===3||i==="rgba"&&n.length===4){if(n[0].endsWith("%")){const r=n.map(s=>2.56*parseFloat(s));return n.length===4&&(r[3]=parseFloat(n[3])),fM(r)}return fM(n.map(r=>parseFloat(r)))}if(i==="hsl"&&n.length===3||i==="hsla"&&n.length===4)return hM(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3]??"1"))}return null}function fM(t){return t[0]=Yu(t[0]),t[1]=Yu(t[1]),t[2]=Yu(t[2]),t[3]=t.length===4?yM(t[3]):1,t}function mM(t){let e=uM(t)?e_(t):null;return e??=dM(t),e??=pM(t),e}function yB(t){const e=mM(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function yM(t){return gM(t,0,1)}function Yu(t){return Math.round(gM(t,0,255))}function gM(t,e,n){return t=Number(t),isNaN(t)?n:t<e?e:t>n?n:t}const i_=2.2,gB=1/i_;function vB(t){return t**i_}function bB(t){return t**gB}const vM=new Float32Array(1);function _B(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Ju(t,e,n){return Math.min(Math.max(t,e),n)}function wB(t){return!(t&t-1)}function xB(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function bM(t,e,n){return t+(e-t)*n}function EB(t,e,n,i,r){return bM(i,r,(t-e)/(n-e))}function SB(t){return t*Math.PI/180}function AB(t){return 180*t/Math.PI}function TB(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function MB(t){return Math.acos(Ju(t,-1,1))}function IB(t){return Math.asin(Ju(t,-1,1))}function qo(t,e,n=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=n}function OB(t,e,n=1e-6){return!qo(t,e,n)&&t>e}function NB(t,e,n=1e-6){return!qo(t,e,n)&&t<e}function CB(t,e,n=1e-6){return qo(t,e,n)||t>e}const ey=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function r_(t){return ey.setFloat64(0,t),ey.getBigInt64(0)}function kB(t){return ey.setBigInt64(0,t),ey.getFloat64(0)}const ny=1000000n,PB=_M(1);function _M(t){const e=r_(t=Math.abs(t)),n=kB(e<=ny?ny:e-ny);return Math.abs(t-n)}function LB(t,e,n=PB){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(n!=null&&_M(Math.min(Math.abs(t),Math.abs(e)))<n)return Math.abs(t-e)<=n;const i=r_(t),r=r_(e);return i<0!=r<0?!1:!((i<r?r-i:i-r)>ny)}function wM(t,e,n=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const i=Math.abs(t-e),r=Math.abs(t),s=Math.abs(e);if(t===0||e===0||r<1e-12&&s<1e-12){if(i>.01*n)return!1}else if(i/(r+s)>n)return!1;return!0}function RB(t){return xM(Math.max(-s_,Math.min(t,s_)))}function xM(t){return vM[0]=t,vM[0]}function DB(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],i=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(qo(e,1)&&qo(n,1)&&qo(i,1))}function FB(t,e){return(t%e+e)%e}const s_=xM(34028234663852886e22);function jB(t,e,n){if(n===void 0||+n==0)return Math[t](e);if(e=+e,n=+n,isNaN(e)||typeof n!="number"||n%1!=0)return NaN;let i=e.toString().split("e");return i=(e=Math[t](+(i[0]+"e"+(i[1]?+i[1]-n:-n)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+n:n))}let qa;const si=globalThis;function Q(t){return typeof qa[t]=="function"?qa[t]=qa[t](si):qa[t]}qa=si.dojoConfig?.has||si.esriConfig?.has?{...si.dojoConfig?.has,...si.esriConfig?.has}:{},Q.add=(t,e,n,i)=>{(i||qa[t]===void 0)&&(qa[t]=e),n&&Q(t)},Q.cache=qa,Q.add("big-integer-warning-enabled",!0),Q.add("esri-deprecation-warnings",!0),Q.add("esri-tests-disable-screenshots",!1),Q.add("esri-tests-use-full-window",!1),Q.add("esri-tests-post-to-influx",!0),Q.add("esri-cim-animations-enable-status","enabled"),Q.add("esri-cim-animations-spotlight",!1),Q.add("esri-cim-animations-freeze-time",!1),(()=>{Q.add("host-webworker",si.WorkerGlobalScope!==void 0&&self instanceof si.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(Q.add("host-browser",t),Q.add("host-node",!(typeof si.process!="object"||!si.process.versions?.node||!si.process.versions.v8)),Q.add("dom",t),Q("host-browser")){const e=navigator,n=e.userAgent,i=e.appVersion,r=parseFloat(i);if(Q.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),Q.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),Q.add("khtml",i.includes("Konqueror")?r:void 0),Q.add("edge",parseFloat(n.split("Edge/")[1])||void 0),Q.add("opr",parseFloat(n.split("OPR/")[1])||void 0),Q.add("webkit",!Q("wp")&&!Q("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),Q.add("chrome",!Q("edge")&&!Q("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),Q.add("android",!Q("wp")&&parseFloat(n.split("Android ")[1])||void 0),Q.add("safari",!i.includes("Safari")||Q("wp")||Q("chrome")||Q("android")||Q("edge")||Q("opr")?void 0:parseFloat(i.split("Version/")[1])),Q.add("mac",i.includes("Macintosh")),!Q("wp")&&/(iPhone|iPod|iPad)/.test(n)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));Q.add(s,a),Q.add("ios",a)}Q("webkit")||(!n.includes("Gecko")||Q("wp")||Q("khtml")||Q("edge")||Q.add("mozilla",r),Q("mozilla")&&Q.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(si.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),n=/iPhone/i.test(t);e&&Q.add("esri-mobile",e),n&&Q.add("esri-iPhone",n),Q.add("esri-geolocation",!!navigator.geolocation)}Q.add("esri-wasm","WebAssembly"in si),Q.add("esri-performance-mode-frames-between-render",20),Q.add("esri-force-performance-mode",!1),Q.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in si,e=si.crossOriginIsolated===!1;return t&&!e}),Q.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),Q.add("esri-atomics","Atomics"in si),Q.add("esri-workers","Worker"in si),Q.add("web-feat:cache","caches"in si),Q.add("esri-workers-arraybuffer-transfer",!Q("safari")||Number(Q("safari"))>=12),Q.add("workers-pool-size",8),Q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Q.add("featurelayer-fast-triangulation-enabled",!0),Q.add("featurelayer-animation-enabled",!0),Q.add("featurelayer-snapshot-enabled",!0),Q.add("featurelayer-snapshot-initial-tolerance",0),Q.add("featurelayer-snapshot-point-min-threshold",8e4),Q.add("featurelayer-snapshot-point-max-threshold",4e5),Q.add("featurelayer-snapshot-multipoint-min-threshold",2e4),Q.add("featurelayer-snapshot-multipoint-max-threshold",1e5),Q.add("featurelayer-snapshot-polygon-min-threshold",2e3),Q.add("featurelayer-snapshot-polygon-max-threshold",2e3),Q.add("featurelayer-snapshot-polyline-min-threshold",2e3),Q.add("featurelayer-snapshot-polyline-max-threshold",2e3),Q.add("featurelayer-snapshot-max-vertex-count",25e4),Q.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),Q.add("featurelayer-snapshot-concurrency",4),Q.add("featurelayer-snapshot-coverage",.1),Q.add("featurelayer-query-max-depth",4),Q.add("featurelayer-query-pausing-enabled",!1),Q.add("featurelayer-query-tile-concurrency",4),Q.add("featurelayer-query-tile-max-features",6e5),Q.add("featurelayer-advanced-symbols",!1),Q.add("featurelayer-pbf",!0),Q.add("featurelayer-pbf-statistics",!1),Q.add("feature-layers-workers",!0),Q.add("feature-polyline-generalization-factor",1),Q.add("parquetlayer-full-query-feature-count",2e4),Q.add("parquetlayer-hittest-max-feature-count",1),Q.add("parquetlayer-persistence-enabled",!1),Q.add("mapview-transitions-duration",200),Q.add("mapview-essential-goto-duration",200),Q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Q.add("mapserver-pbf-version-support",10.81),Q.add("mapservice-popup-identify-max-tolerance",20),Q.add("request-queue-concurrency-hosted",16),Q.add("request-queue-concurrency-non-hosted",4),Q.add("curve-densification-coarse-segments",128),Q.add("curve-densification-max-segments",2e3),Q.add("curve-densification-min-segments",3),Q.add("curve-densification-pixel-deviation",.5),Q.add("view-readyState-waiting-delay",1e3),Q.add("gradient-depth-bias",.01),Q.add("gradient-depth-epsilon",1e-8),Q.add("enable-feature:esri-compress-textures",!0),Q("host-webworker")||Q("host-browser")&&(Q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),Q.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function GB(t){}function $B(t){return()=>t}function UB(t){return t}let EM=class Wu{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Wu._m}getInt(){return this._seed=(Wu._a*this._seed+Wu._c)%Wu._m,this._seed}getFloat(){return this.getInt()/(Wu._m-1)}getIntRange(e,n){return Math.round(this.getFloatRange(e,n))}getFloatRange(e,n){const i=n-e;return e+this.getInt()/Wu._m*i}};const SM=1.5,VB=1/SM,zB=.5;function BB(t,e){if(!e)return t;for(const n of e)t.push(n);return t}function AM(t){return t}function WB(t,e=AM){if(!t||t.length===0)return;let n=t[0],i=e(n);for(let r=1;r<t.length;++r){const s=t[r],o=Number(e(s));o>i&&(i=o,n=s)}return n}function qB(t,e=AM){return WB(t,n=>-e(n))}function HB(t,e){return e?t.filter((n,i,r)=>r.findIndex(e.bind(null,n))===i):Array.from(new Set(t))}function TM(t,e,n,i,r,s,o){if(t==null&&i==null)return!0;e=Math.max(0,e),r=Math.max(0,r),n=Math.max(0,n<0?(t?.length??0)+n:n),s=Math.max(0,s<0?(i?.length??0)+s:s);const a=n-e;if(t==null||i==null||a!==s-r)return!1;if(o){for(let l=0;l<a;l++)if(!o(t[e+l],i[r+l]))return!1}else for(let l=0;l<a;l++)if(t[e+l]!==i[r+l])return!1;return!0}function Ed(t,e,n){return TM(t,0,t?.length??0,e,0,e?.length??0,n)}function ZB(){return(t,e)=>{if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}}function YB(t,e,n){let i,r;return n?(i=e.filter(s=>!t.some(o=>n(o,s))),r=t.filter(s=>!e.some(o=>n(o,s)))):(i=e.filter(s=>!t.includes(s)),r=t.filter(s=>!e.includes(s))),{added:i,removed:r}}function JB(t){return t&&typeof t.length=="number"}function XB(t,e){const n=t.length;if(n===0)return[];const i=[];for(let r=0;r<n;r+=e)i.push(t.slice(r,r+e));return i}let o_=class{constructor(){this.last=0}};const MM=new o_;function iy(t,e,n,i){i=i||MM;const r=Math.max(0,i.last-10);for(let o=r;o<n;++o)if(t[o]===e)return i.last=o,o;const s=Math.min(r,n);for(let o=0;o<s;++o)if(t[o]===e)return i.last=o,o;return-1}function QB(t,e,n,i){const r=t.length,s=iy(t,e,r,i);if(s!==-1)return t[s]=t[r-1],t.pop(),e}const Ns=new Set;function KB(t,e,n=t.length,i=e.length,r,s){if(i===0||n===0)return n;Ns.clear();for(let a=0;a<i;++a)Ns.add(e[a]);r=r||MM;const o=Math.max(0,r.last-10);for(let a=o;a<n;++a)if(Ns.has(t[a])&&(s?.push(t[a]),Ns.delete(t[a]),t[a]=t[n-1],--n,--a,Ns.size===0||n===0))return Ns.clear(),n;for(let a=0;a<o;++a)if(Ns.has(t[a])&&(s?.push(t[a]),Ns.delete(t[a]),t[a]=t[n-1],--n,--a,Ns.size===0||n===0))return Ns.clear(),n;return Ns.clear(),n}function tW(t,e){let n=0;for(let i=0;i<t.length;++i){const r=t[i];e(r,i)&&(t[n]=r,n++)}return t.length=n,t}function eW(t,e,n){const i=t.length;if(e>=i)return t.slice();const r=a_(n),s=new Set,o=[];for(;o.length<e;){const a=Math.floor(r()*i);s.has(a)||(s.add(a),o.push(t[a]))}return o}function a_(t){return t?(IM.seed=t,()=>IM.getFloat()):Math.random}const IM=new EM;function nW(t,e){if(!t)return t;const n=a_(e);for(let i=t.length-1;i>0;i--){const r=Math.floor(n()*(i+1)),s=t[i];t[i]=t[r],t[r]=s}return t}function OM(t,e){const n=t.indexOf(e);return n!==-1?(t.splice(n,1),e):null}function NM(t,e){return t!=null}const iW=[];function rW(t){return t instanceof ArrayBuffer}function l_(t){return t?.constructor?.name==="Int8Array"}function c_(t){return t?.constructor?.name==="Uint8Array"}function u_(t){return t?.constructor?.name==="Uint8ClampedArray"}function ry(t){return t?.constructor?.name==="Int16Array"}function h_(t){return t?.constructor?.name==="Uint16Array"}function sy(t){return t?.constructor?.name==="Int32Array"}function p_(t){return t?.constructor?.name==="Uint32Array"}function CM(t){return t?.constructor?.name==="Float16Array"}function Sd(t){return t?.constructor?.name==="Float32Array"}function Ad(t){return t?.constructor?.name==="Float64Array"}function kM(t){return"buffer"in t}const d_=1024;function sW(t){return Ad(t)||Sd(t)||sy(t)||ry(t)||l_(t)}function oW(t){return Ad(t)||Sd(t)}function aW(t){return Ad(t)?179769e303:CM(t)?65504:Sd(t)?3402823e32:p_(t)?4294967295:h_(t)?65535:c_(t)||u_(t)?255:sy(t)?2147483647:ry(t)?32767:l_(t)?127:256}const lW=-32768,cW=-2147483648;function uW(t){return t}function hW(t,e){let n;for(n in t)t.hasOwnProperty(n)&&t[n]===void 0&&delete t[n];return t}function ht(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=DM(t);if(e!=null)return e;if(m_(t))return t.clone();if(PM(t))return t.map(ht);if(LM(t))throw new Error("Trying to clone an unclonable Accessor instance");const n={};for(const i of Object.getOwnPropertyNames(t))n[i]=ht(t[i]);return n}function f_(t,e){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const n=DM(t);if(n!=null)return n;if(PM(t)){let r=!0;const s=t.map(o=>{const a=f_(o,e);return o!=null&&a==null&&(r=!1),a});return r?s:null}if(m_(t))return t.clone(e);if(t instanceof File||t instanceof Blob)return t;if(LM(t))return null;const i=new(Object.getPrototypeOf(t)).constructor;for(const r of Object.getOwnPropertyNames(t)){const s=t[r],o=f_(s);if(s!=null&&o==null)return null;i[r]=o}return i}function m_(t){return typeof t.clone=="function"}function PM(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function LM(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function RM(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function DM(t){if(l_(t)||c_(t)||u_(t)||ry(t)||h_(t)||sy(t)||p_(t)||Sd(t)||Ad(t))return t.slice();if(t instanceof Date)return new Date(t);if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[n,i]of t)e.set(n,ht(i));return e}if(t instanceof Set){const e=new Set;for(const n of t)e.add(ht(n));return e}return null}function y_(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function FM(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&Ed(t,e):t instanceof Set?e instanceof Set&&dW(t,e):t instanceof Map?e instanceof Map&&fW(t,e):!!RM(t)&&RM(e)&&pW(t,e))}function pW(t,e){if(t===null||e===null)return!1;const n=Object.keys(t);if(e===null||Object.keys(e).length!==n.length)return!1;for(const i of n)if(t[i]!==e[i]||!Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}function dW(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function fW(t,e){if(t.size!==e.size)return!1;for(const[n,i]of t){const r=e.get(n);if(r!==i||r===void 0&&!e.has(n))return!1}return!0}function jM(t,e,n=!1){return $M(t,e,n)}function oy(t,e){if(e!=null)return e[t]||GM(t.split("."),!1,e)}function Ha(t,e,n){const i=t.split("."),r=i.pop(),s=GM(i,!0,n);s&&r&&(s[r]=e)}function g_(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const n=e;if(t.length!==n.length)return!0;for(let i=0;i<t.length;i++)if(g_(t[i],n[i]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in t)if(g_(t[n],e[n]))return!0;return!1}return t!==e}function GM(t,e,n){let i=n;for(const r of t){if(i==null)return;if(!(r in i)){if(!e)return;i[r]={}}i=i[r]}return i}function $M(t,e,n){return e?Object.keys(e).reduce((i,r)=>{if(r==="__proto__")return i;let s=i[r],o=e[r];return s===o?i:s===void 0?(i[r]=ht(o),i):(Array.isArray(o)||Array.isArray(i)?(s=s?Array.isArray(s)?i[r]=s.slice():i[r]=[s]:i[r]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach(a=>{s.includes(a)||s.push(a)}):i[r]=o.slice())):o&&typeof o=="object"?i[r]=$M(s,o,n):i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[r]=o),i)},t||{}):t}function mW(t,e){for(const n of Object.entries(t))if(e===n[1])return n[0]}function yW(t,e){return Object.values(t).includes(e)}const oe={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(jM(oe,globalThis.esriConfig,!0),delete oe.has),!oe.assetsPath){{const t="4.34";oe.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}oe.defaultAssetsPath=oe.assetsPath}const gW=/\{([^}]+)\}/g;function UM(t){return t??""}function v_(t,e){return e?t.replaceAll(gW,typeof e=="object"?(n,i)=>UM(oy(i,e)):(n,i)=>UM(e(i))):t}function vW(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,n=>e?.includes(n)?n:`\\${n}`)}function b_(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}let VM;function bW(t){return VM??=new DOMParser,VM.parseFromString(t||"","text/html").body.innerText||""}function _W(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function wW(t,...e){let n=t[0];for(let i=0;i<e.length;++i)n+=e[i]+t[i+1];return n}const zM={info:0,warn:1,error:2,none:3};let Oe=class zr{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,zr._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");n!==-1&&(this._parent=zr.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,zr._loggers.get(e)||new zr({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(e,n,...i){if(this._matchLevel(e)){if(n!=="always"&&!zr._throttlingDisabled){const r=EW(i),s=this._loggedMessages[e].get(r);if(n==="once"&&s!=null||n==="oncePerTick"&&s&&s>=zr._tickCounter)return;this._loggedMessages[e].set(r,zr._tickCounter),zr._scheduleTickCounterIncrement()}for(const r of oe.log.interceptors)if(r(e,this.module,...i))return;this._inheritedWriter()(e,this.module,...i)}}_parentWithMember(e,n){let i=this;for(;i!=null;){const r=i[e];if(r!=null)return r;i=i.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",xW)}_matchLevel(e){const n=oe.log.level||"warn";return zM[this._parentWithMember("level",n)]<=zM[e]}static _scheduleTickCounterIncrement(){zr._tickCounterScheduled||(zr._tickCounterScheduled=!0,Promise.resolve().then(()=>{zr._tickCounter++,zr._tickCounterScheduled=!1}))}};function xW(t,e,...n){console[t](`[${e}]`,...n)}function EW(...t){return b_(JSON.stringify(t,(e,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}function SW(t,e){for(const n of t.values())if(e(n))return!0;return!1}function AW(t,e){for(const n of t.values())if(!e(n))return!1;return!0}function TW(t,e){for(const n of t.values())if(e(n))return n;return null}function __(t,e,n){const i=t.get(e);if(i!==void 0)return i;const r=n();return t.set(e,r),r}function MW(t){const e=new Map;return n=>(e.has(n)||e.set(n,t(n)),e.get(n))}const fc=()=>Oe.getLogger("esri.core.accessorSupport.ensureTypes");function IW(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(fc().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function OW(t){return t==null?t:!!t}function BM(t){return t==null?t:t.toString()}function Td(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function ay(t){return t==null?t:Math.round(parseFloat(t))}function NW(t){return null}function WM(t,e){return n=>{let i=t(n);return e.step!=null&&(i=Math.round(i/e.step)*e.step),e.min!=null&&(i=Math.max(e.min,i)),e.max!=null&&(i=Math.min(e.max,i)),i}}function qM(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function ly(t,e){return e!=null&&t&&!(e instanceof t)}function HM(t){return t&&"isCollection"in t}function ZM(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function CW(t,e){if(!e?.constructor||!HM(e.constructor))return w_(t,e)?e:new t(e);const n=ZM(t.prototype.itemType),i=ZM(e.constructor.prototype.itemType);return n?i?n===i?e:n.prototype.isPrototypeOf(i.prototype)?new t(e):(w_(t,e),e):new t(e):e}function w_(t,e){return!!qM(e)&&(fc().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+cy(t)+"'"),!0)}function YM(t,e){return e==null?e:HM(t)?CW(t,e):ly(t,e)?w_(t,e)?e:new t(e):e}function cy(t){return t?.prototype?.declaredClass||"unknown"}const kW=new WeakMap;function PW(t){switch(t){case Number:return e=>Td(e);case nn:return ay;case Boolean:return OW;case String:return BM;case Date:return IW;case hy:return NW;default:return __(kW,t,()=>YM.bind(null,t))}}function qr(t,e){const n=PW(t);return arguments.length===1?n:n(e)}function Md(t,e,n){return arguments.length===1?Md.bind(null,t):e&&(Array.isArray(e)?e.map(i=>t(i,n)):[t(e,n)])}function LW(t,e){return arguments.length===1?Md(n=>qr(t,n)):Md(n=>qr(t,n),e)}function JM(t,e,n){return e!==0&&Array.isArray(n)?n.map(i=>JM(t,e-1,i)):t(n)}function uy(t,e,n){if(arguments.length===2)return s=>uy(t,e,s);if(!n)return n;n=JM(t,e,n);let i=e,r=n;for(;i>0&&Array.isArray(r);)i--,r=r[0];if(r!==void 0)for(let s=0;s<i;s++)n=[n];return n}function RW(t,e,n){return arguments.length===2?uy(i=>qr(t,i),e):uy(i=>qr(t,i),e,n)}function XM(t){return!!Array.isArray(t)&&!t.some(e=>{const n=typeof e;return!(n==="string"||n==="number"||n==="function"&&t.length>1)})}function x_(t,e){if(arguments.length===2)return x_(t).call(null,e);const n=new Set,i=t.filter(a=>typeof a!="function"),r=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||n.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,p=c==="string"||c==="number";return p&&(n.has(a)||r.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&r.some(d=>!ly(d,a))?a:(p&&i.length?(s||(s=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),fc().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&r.length?(o||(o=r.map(d=>cy(d)).join(", ")),fc().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):fc().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function mc(t,e){if(arguments.length===2)return mc(t).call(null,e);const n={},i=[],r=[];for(const l in t.typeMap){const c=t.typeMap[l];n[l]=qr(c),i.push(cy(c)),r.push(l)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${r.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!ly(t.base,l)||l==null)return l;const c=a(l)||t.defaultKeyValue,p=n[c];if(!p)return fc().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!ly(t.typeMap[c],l))return l;if(typeof t.key=="string"&&!qM(l)){const d={};for(const f in l)f!==t.key&&(d[f]=l[f]);return p(d)}return p(l)}}let nn=class{},hy=class{};const DW={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function FW(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function QM(t){switch(t.type){case"native":return qr(t.value);case"array":return Md(QM(t.value));case"one-of":return jW(t);default:return null}}function jW(t){let e=null;return(n,i)=>S_(n,t)?n:(e==null&&(e=E_(t)),fc().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),i&&(i.valid=!1),null)}function E_(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case nn:return"integer";case Date:return"date";case hy:return"null";default:return cy(t.value)}case"array":return`array of ${E_(t.value)}`;case"one-of":{const e=t.values.map(n=>E_(n));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function S_(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case nn:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case hy:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(n=>!S_(n,e.value));case"one-of":return e.values.some(n=>S_(t,n))}}function py(t){return Ju(ay(t),0,255)}function dy(t,e){const n=t.toString(16).padStart(2,"0");return e?n.slice(0,1):n}let he=class Is{static blendColors(e,n,i,r=new Is){return r.r=Math.round(e.r+(n.r-e.r)*i),r.g=Math.round(e.g+(n.g-e.g)*i),r.b=Math.round(e.b+(n.b-e.b)*i),r.a=e.a+(n.a-e.a)*i,r._sanitize()}static fromRgb(e,n){const i=dM(e);return i?Is.fromArray(i,n):null}static fromHex(e,n=new Is){const i=pM(e);return i?Is.fromArray(i,n):null}static fromArray(e,n=new Is){return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(e,n){const i=mM(e);return i?Is.fromArray(i,n):null}static fromJSON(e){return e!=null?new Is([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e,n){return e==null?null:(n??=[0,0,0,0],n[0]=e.r/255,n[1]=e.g/255,n[2]=e.b/255,n[3]=e.a!=null?e.a:1,n)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Is.fromString(e,this):Array.isArray(e)?Is.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Is||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const n=e?.capitalize??!1,i=e?.digits??6,r=i===3||i===4,s=i===4||i===8,o=`#${dy(this.r,r)}${dy(this.g,r)}${dy(this.b,r)}${s?dy(Math.round(255*this.a),r):""}`;return n?o.toUpperCase():o}toCss(e=!1){const n=this.r+", "+this.g+", "+this.b;return e?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const n=py(this.r),i=py(this.g),r=py(this.b);return e===0||this.a!==1?[n,i,r,py(255*this.a)]:[n,i,r]}clone(){return new Is(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Yu(this.r),this.g=Yu(this.g),this.b=Yu(this.b),this.a=yM(this.a),this}_set(e,n,i,r){this.r=e,this.g=n,this.b=i,this.a=r}};he.prototype.declaredClass="esri.Color";const GW={remove:()=>{}};function un(t){return t?{remove(){t&&(t(),t=void 0)}}:GW}function A_(t){t.forEach(e=>e?.remove())}function $W(t){A_(t),t.length=0}function fy(t){return un(()=>A_(t))}function UW(t){return un(()=>t()?.remove())}function KM(t){return un(()=>t?.abort())}function VW(t){return un(t!=null?()=>t.destroy():void 0)}function zW(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function BW(t){zW(t)&&t.remove()}function WW(t){return{[Symbol.dispose](){t.remove()}}}function my(t){return qW(t)||tI(t)}function qW(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function tI(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function T_(t,e,n){if(!my(t))throw new TypeError("target is not a Evented or EventTarget object");return tI(t)?HW(t,e,n):t.on(e,n)}function HW(t,e,n,i){if(Array.isArray(e)){const r=e.slice();for(const s of r)t.addEventListener(s,n,i);return un(()=>{for(const s of r)t.removeEventListener(s,n,i)})}return t.addEventListener(e,n,i),un(()=>t.removeEventListener(e,n,i))}function M_(t,e,n){if(!my(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,n);const i=T_(t,e,r=>{i.remove(),n.call(t,r)});return i}function eI(t,e){if(t==null)throw new Error(e??"value is None")}function Id(t){return t?.destroy(),null}function ZW(t){return t?.dispose(),null}function Xu(t){return t?.remove(),null}function nI(t){return t?.abort(),null}function YW(t){return t?.release(),null}function JW(t,e,n){return t!=null&&e!=null?n!=null?n(t,e):t.equals(e):t===e}function XW(t,e){let n;return t.some((i,r)=>(n=e(i,r),n!=null)),n??void 0}function QW(t){return{setTimeout:(e,n)=>{const i=t.setTimeout(e,n);return un(()=>t.clearTimeout(i))}}}const iI=QW(globalThis);function KW(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,i)=>i===""?"$":(oy(i,e)??"").toString())}let rI=class{constructor(t,e,n=void 0){this.name=t,this.details=n,this.message=(e&&KW(e,n))??""}toString(){return"["+this.name+"]: "+this.message}},ie=class cB extends rI{constructor(e,n,i){super(e,n,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,n)=>{if(n&&typeof n=="object"&&typeof n.toJSON=="function")return n;try{return ht(n)}catch{return"[object]"}}))}}catch(e){throw Oe.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new cB(e.name,e.message,e.details)}};ie.prototype.type="error";function Gi(t="Aborted"){return new ie("AbortError",t)}function Qu(t,e="Aborted"){if(Ho(t))throw Gi(e)}function Od(t){return t instanceof AbortSignal?t:t?.signal??void 0}function Ho(t){const e=Od(t);return e!=null&&e.aborted}function sI(t){if(gc(t))throw t}function tq(t){if(!gc(t))throw t}function yc(t,e){const n=Od(t);if(n!=null){if(!n.aborted)return M_(n,"abort",()=>e());e()}}function oI(t,e){const n=Od(t);if(n!=null)return Qu(n),M_(n,"abort",()=>e(Gi()))}function eq(t,e){return Od(e)==null?t:new Promise((n,i)=>{let r=yc(e,()=>i(Gi()));const s=()=>{r=Xu(r)};t.then(s,s),t.then(n,i)})}function gc(t){return t?.name==="AbortError"}async function nq(t){try{return await t}catch(e){if(!gc(e))throw e;return}}async function aI(t){if(!t)return;if(typeof t.forEach!="function"){const n=Object.keys(t),i=n.map(o=>t[o]),r=await aI(i),s={};return n.map((o,a)=>s[o]=r[a]),s}const e=t;return Promise.allSettled(e).then(n=>Array.from(e,(i,r)=>{const s=n[r];return s.status==="fulfilled"?{promise:i,value:s.value}:{promise:i,error:s.reason}}))}async function iq(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function rq(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function lI(t,e=void 0,n){const i=new AbortController;return yc(n,()=>i.abort()),new Promise((r,s)=>{let o=setTimeout(()=>{o=0,r(e)},t);yc(i,()=>{o&&(clearTimeout(o),s(Gi()))})})}function sq(t,e,n,i){const r=n&&"abort"in n?n:null;i!=null||r||(i=n);let s=setTimeout(()=>{s=0,r?.abort()},e);const o=()=>i||new ie("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(a=>{if(s===0)throw o();return clearTimeout(s),a},a=>{throw clearTimeout(s),s===0?o():a})}function oq(t,e){const n=new AbortController,i=setTimeout(()=>n.abort(),e);return yc(t,()=>{n.abort(),clearTimeout(i)}),{...t,signal:n.signal}}function I_(t){return t&&typeof t.then=="function"}function O_(t){return I_(t)?t:Promise.resolve(t)}function aq(t,e=-1){let n,i,r,s,o=null;const a=(...l)=>{if(n){i=l,s&&s.reject(Gi()),s=Ku();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(r=s||Ku(),s=null,e>0){const f=new AbortController;n=O_(t(...l,f.signal));const y=n;lI(e).then(()=>{n===y&&(s?f.abort():o=f)})}else n=1,n=O_(t(...l));const c=()=>{const f=i;i=r=n=o=null,f!=null&&a(...f)},p=n,d=r;return p.then(c,c),p.then(d.resolve,d.reject),d.promise};return a}function Ku(){let t,e;const n=new Promise((r,s)=>{t=r,e=s}),i=r=>{t(r)};return i.resolve=r=>t(r),i.reject=r=>e(r),i.timeout=(r,s)=>iI.setTimeout(()=>i.reject(s),r),i.promise=n,i}function lq(t,e){e.then(t.resolve,t.reject)}async function cq(t){await Promise.resolve(),Qu(t)}function uq(t){return t?.release&&typeof t.release=="function"}function hq(t){return t?.acquire&&typeof t.acquire=="function"}let Nd=class oM{constructor(e,n,i,r=1,s=0){this._creator=e,this._acquireFunction=n,this._releaseFunction=i,this.allocationSize=r,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(r,1)}destroy(){this.prune(0)}acquire(...e){let n;if(oM.test.disabled)n=this._creator();else{if(this._pool.length===0){const i=this.allocationSize;for(let r=0;r<i;r++)this._pool[r]=this._creator()}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...e):hq(n)&&n.acquire(...e),n}release(e){e&&!oM.test.disabled&&(this._releaseFunction?this._releaseFunction(e):uq(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let n=e;n<this._pool.length;++n){const i=this._pool[n];this._dispose(i)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}static{this.test={disabled:!!Q("esri-tests-disable-memory-pools")}}};function pq(t){t.length=0}let Zo=class{constructor(t=50,e=50){this._pool=new Nd(()=>[],void 0,pq,e,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return N_.acquire()}static release(t){return N_.release(t)}static prune(){N_.prune()}};const N_=new Zo(100);let cI=class extends Nd{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const e=super.acquire(...t);return this._set.delete(e),e}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const yy=[];function C_(t){yy.push(t),yy.length===1&&queueMicrotask(()=>{const e=yy.slice();yy.length=0;for(const n of e)n()})}let k_=class{constructor(t,e=30){this.name=t,this._counter=0,this._samples=new Array(e)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,e)=>t-e)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,e)=>t+e,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const gy=(t,e,n,i)=>{let r=e,s=e;const o=n>>>1,a=t[r-1];for(;s<=o;){s=r<<1,s<n&&i(t[s-1],t[s])<0&&++s;const l=t[s-1];if(i(l,a)<=0)break;t[r-1]=l,r=s}t[r-1]=a},uI=(t,e)=>t<e?-1:t>e?1:0;function dq(t,e,n,i){n===void 0&&(n=t.length),i===void 0&&(i=uI);for(let s=n>>>1;s>e;s--)gy(t,s,n,i);const r=e+1;for(let s=n-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,gy(t,r,s,i)}}function*fq(t,e,n,i){n===void 0&&(n=t.length),i===void 0&&(i=uI);for(let s=n>>>1;s>e;s--)gy(t,s,n,i),yield;const r=e+1;for(let s=n-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,gy(t,r,s,i),yield}}const mq=1.5,yq=1.1;let P_=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new o_,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>hI(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const e=new Array;for(let n=0;n<this._length;n++){const i=this.data[n];t(i)&&e.push(i)}return e}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,e){const n=this.data.indexOf(t,e);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let e=t;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,e=t.length){for(let n=0;n<e;n++)this.data[this._length++]=t[n]}fill(t,e){for(let n=0;n<e;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,hI(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const e=iy(this.data,t,this.length,this._hint);if(e!==-1)return this.data.splice(e,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(iy(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,e=t.length,n){this.length=KB(this.data,t,this.length,e,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,e){if(t>=this.length||e>=this.length||t===e)return;const n=this.data[t];this.data[t]=this.data[e],this.data[e]=n}sort(t){dq(this.data,0,this.length,t)}iterableSort(t){return fq(this.data,0,this.length,t)}some(t,e){for(let n=0;n<this.length;++n)if(t.call(e,this.data[n],n,this.data))return!0;return!1}find(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)if(t.call(e,n[r]))return n[r]}filterInPlace(t,e){let n=0;for(let i=0;i<this._length;++i){const r=this.data[i];t.call(e,r,i,this.data)&&(this.data[i]=this.data[n],this.data[n]=r,n++)}if(this._deallocator)for(let i=n;i<this._length;i++)this.data[i]=this._deallocator(this.data[i]);return this._length=n,this._shrink(),this}forAll(t,e){const{data:n,length:i}=this;for(let r=0;r<i;++r)t.call(e,n[r],r,n)}forEach(t,e){this.data.slice(0,this.length).forEach(t,e)}map(t,e){const n=new Array(this.length);for(let i=0;i<this.length;++i)n[i]=t.call(e,this.data[i],i,this.data);return n}reduce(t,e){let n=e;for(let i=0;i<this.length;++i)n=t(n,this.data[i],i,this.data);return n}has(t){const e=this.length,n=this.data;for(let i=0;i<e;++i)if(n[i]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function hI(t){t.data.length>mq*t.length&&(t.data.length=Math.floor(t.length*yq))}function gq(t){return t}function vq(t){return 1e3*t}function bq(t){return t}function _q(t){return .001*t}let wq=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},xq=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},L_=0;const Cd={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},R_=["prepare","preRender","render","postRender","update","finish"],D_=[],vc=new P_;let Eq=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,pI()}};function Sq(){bc!=null&&(cancelAnimationFrame(bc),bc=requestAnimationFrame(j_))}function pI(){bc==null&&(L_=performance.now(),bc=requestAnimationFrame(j_))}const vy={frameTasks:vc,willDispatch:!1,clearFrameTasks:Tq,dispatch:fI,executeFrameTasks:Mq,reschedule:Sq};function F_(t){const e=new xq(t);return D_.push(e),vy.willDispatch||(vy.willDispatch=!0,C_(fI)),e}function Aq(t){const e=new wq(t);return vc.push(e),pI(),new Eq(e)}let bc=null;function Tq(t=!1){vc.forAll(e=>{e.removed=!0}),t&&dI()}function j_(){const t=performance.now();bc=null,bc=vc.some(e=>!e.paused&&!e.removed)?requestAnimationFrame(j_):null,vy.executeFrameTasks(t)}function Mq(t){const e=t-L_;L_=t;const n=1e3/60,i=Math.max(0,e-n);Cd.time=t,Cd.frameDuration=n-i;for(let r=0;r<R_.length;r++){const s=performance.now(),o=R_[r];vc.forAll(a=>{a.paused||a.removed||(r===0&&a.ticks++,a.phases[o]&&(Cd.elapsedFrameTime=performance.now()-t,Cd.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,Cd)))}),Oq[r].push(performance.now()-s)}dI(),Nq.push(performance.now()-t)}const by=new P_;function dI(){vc.forAll(t=>{t.removed&&by.push(t)}),vc.removeUnorderedMany(by.data,by.length),by.clear()}function fI(){for(;D_.length;){const t=D_.shift();t.isActive&&t.callback()}vy.willDispatch=!1}function mI(t=1,e){const n=Ku(),i=()=>{Ho(e)?n.reject(Gi()):t===0?n():(--t,C_(()=>i()))};return i(),n.promise}function yI(t){return mI(1,t)}async function Iq(t){await yI(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const Oq=R_.map(t=>new k_(t)),Nq=new k_("total");function gI(t,e){for(const n of t.values())if(e(n))return!0;return!1}function G_(t,e){if(!e)return t;for(const n of e)n!=null&&t.add(n);return t}function Cq(t,e){return e!=null&&t.add(e),t}function _y(t,e){const n=new Set;return G_(n,t),G_(n,e),n}function vI(t,e){const n=new Set;for(const i of e)t.has(i)&&n.add(i);return n}function kq(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const n of t)if(!e.has(n))return!1;return!0}function Pq(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function bI(t,e){const n=new Set(t);for(const i of e)n.delete(i);return n}function Lq(t,e){return bI(_y(t,e),vI(t,e))}let Rq=0;function kd(){return++Rq}function Yo(t){return t.__accessor__??null}function Dq(t,e){return t?.metadata?.[e]!=null}function wy(t,e,n){return n?xy(t,e,{policy:n,path:""}):xy(t,e,null)}function xy(t,e,n){return e?Object.keys(e).reduce((i,r)=>{const s=r;if(s==="__proto__")return i;let o=null,a="merge";if(n&&(o=n.path?`${n.path}.${r}`:r,a=n.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[s]))return i[s]=e[s],i;if(i[s]===void 0)return i[s]=ht(e[s]),i;let l=i[s],c=e[s];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[s]=l.slice():i[s]=[l]:i[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(p=>{l.includes(p)||l.push(p)}));else if(c&&typeof c=="object")if(n){const p=n.path;n.path=o,i[s]=xy(l,c,n),n.path=p}else i[s]=xy(l,c,null);else i.hasOwnProperty(r)&&!e.hasOwnProperty(r)||(i[s]=c);return i},t||{}):t}function _I(t){return Array.isArray(t)?t:t.split(".")}function wI(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function Fq(t){if(Array.isArray(t)){const e=[];for(const n of t)e.push(...wI(n));return e}return wI(t)}function xI(t,e,n,i){const r=Fq(e);if(r.length!==1){const s=r.map(o=>i(t,o,n));return fy(s)}return i(t,r[0],n)}function EI(t,e){const n=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const r=parseInt(n,10);if(!isNaN(r))return Array.isArray(e)?e[r]:e.at(r)}const i=Yo(e);return Dq(i,n)?i.get(n):e[n]}function SI(t,e,n){if(t==null)return t;const i=EI(e[n],t);return!i&&n<e.length-1?void 0:n===e.length-1?i:SI(i,e,n+1)}function Pd(t,e,n=0){return typeof e!="string"||e.includes(".")?SI(t,_I(e),n):EI(e,t)}function _c(t,e){return Pd(t,e)}function AI(t,e){return Pd(e,t)!==void 0}const Tr={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},Ue={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let Ey=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const Sy=new Ey,Ld=[];let Rd=Sy;function Ft(t){Rd.onAccessed(t)}let Ay=!1,Ty=!1;function co(t,e,n){if(Ay)return $_(t,e,n);let i=null;return TI(t),i=e.call(n),MI(),i}function jq(t,e){return co(Sy,t,e)}function $_(t,e,n){const i=Ay;Ay=!0,TI(t);let r=null;try{r=e.call(n)}catch(s){Ty&&Oe.getLogger("esri.core.accessorSupport.tracking").error(s)}return MI(),Ay=i,r}function TI(t){Rd=t,Ld.push(t)}function MI(){const t=Ld.length;if(t>1){const e=Ld.pop();Rd=Ld[t-2],e.onTrackingEnd()}else if(t===1){const e=Ld.pop();Rd=Sy,e.onTrackingEnd()}else Rd=Sy}function II(t,e){if(e.flags&Ue.DepTrackingInitialized)return;e.flags|=Ue.DepTrackingInitialized;const n=Ty;Ty=!1,e.flags&Ue.AutoTracked?$_(e.trackingTarget,e.metadata.get,t):OI(t,e),Ty=n}const Gq=[];function OI(t,e){e.flags&Ue.ExplicitlyTracking||(e.flags|=Ue.ExplicitlyTracking,$_(e.trackingTarget,()=>{const n=e.metadata.dependsOn||Gq;for(const i of n)if(typeof i!="string"||i.includes(".")){const r=_I(i);for(let s=0,o=t;s<r.length&&o!=null&&typeof o=="object";++s)o=NI(o,r[s],s!==r.length-1)}else NI(t,i,!1)}),e.flags&=-129)}function NI(t,e,n){const i=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const r=Yo(t);if(r){const s=r.propertiesByName.get(i);s&&(Ft(s),II(t,s))}return n?t[i]:void 0}let Dd=class extends Ey{constructor(t){super(new $q(t)),this._observer&&CI.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&CI.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},$q=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=Uq}};const CI=new FinalizationRegistry(t=>{t.deref()?.destroy()});function Uq(){}let th=!1;const My=[];function kI(t,e){let n=new Dd(s),i=null,r=!1;function s(){if(!n||r)return;if(th)return void LI(s);const a=i;n.clear(),th=!0,r=!0,i=co(n,t),r=!1,th=!1,e(i,a),RI()}function o(){n&&(n.destroy(),n=null,i=null)}return r=!0,i=co(n,t),r=!1,un(o)}function PI(t,e){let n=new Dd(r),i=null;function r(){e(i,o)}function s(){n&&(n.destroy(),n=null),i=null}function o(){return n?(n.clear(),i=co(n,t),i):null}return o(),un(s)}function Vq(t,e){let n=!1,i=!1;const r=!!e?.sync;let s=new Dd(()=>{n||i||(i=!0,r?o():queueMicrotask(o))});function o(){i=!1,s&&!n&&(th?LI(o):(s.clear(),th=!0,n=!0,co(s,t),n=!1,th=!1,RI()))}function a(){s&&(s.destroy(),s=null)}return n=!0,co(s,t),n=!1,un(a)}function LI(t){My.includes(t)||My.unshift(t)}function RI(){for(;My.length;)My.pop()()}let U_=class uB{constructor(){this.uid=kd(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new cI(()=>new uB)}static acquireUntracked(e,n,i,r,s){return this.pool.acquire(0,e,n,i,r,s,y_)}static acquireTracked(e,n,i,r){return this.pool.acquire(1,e,n,i,null,null,r)}notify(e,n){this.type===0?this.callback.call(this.target,e,n,this.path,this.target):this.callback.call(null,e,n,void 0,void 0)}acquire(e,n,i,r,s,o,a){this.uid=kd(),this.removed=!1,this.type=e,this.oldValue=n,this.callback=i,this.getValue=r,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=kd(),this.removed=!0}};const Iy=new Zo,Jo=new Set;let Oy;function Ny(t){Jo.delete(t),Jo.add(t),DI()}function DI(){Oy||(Oy=F_(Wq))}function zq(t){if(t.removed)return;const e=t.oldValue,n=t.getValue();t.equals(e,n)||(t.oldValue=n,t.notify(n,e))}function Bq(t){for(const e of Jo.values())e.target===t&&(e.removed=!0)}function Wq(){let t=10;for(;Oy&&t--;){Oy=null;const e=qq(),n=Iy.acquire();for(const i of e){const r=i.uid;zq(i),r===i.uid&&i.removed&&n.push(i)}for(const i of Jo)i.removed&&(n.push(i),Jo.delete(i));for(const i of n)U_.pool.release(i);Iy.release(n),Iy.release(e),V_.forEach(i=>i())}}function qq(){const t=Iy.acquire();t.length=Jo.size;let e=0;for(const n of Jo)t[e]=n,++e;return Jo.clear(),t}const V_=new Set;function Hq(t){return V_.add(t),un(()=>V_.delete(t))}function Zq(t,e,n){let i=xI(t,e,n,(r,s,o)=>{let a,l,c=PI(()=>Pd(r,s),(p,d)=>{r.__accessor__?.lifecycle===Tr.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=U_.acquireUntracked(p,o,d,r,s),l=a.uid),Ny(a))});return un(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,Ny(a)),a=null),i=c=null})});return i}function Yq(t,e,n){const i=xI(t,e,n,(r,s,o)=>{let a=!1;return kI(()=>Pd(r,s),(l,c)=>{r.__accessor__.lifecycle!==Tr.DESTROYED?a||(a=!0,y_(c,l)||o.call(r,l,c,s,r),a=!1):i.remove()})});return i}function Jq(t,e,n,i=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Tr.DESTROYED?i?Yq(t,e,n):Zq(t,e,n):un()}function Xq(t,e,n){let i,r,s=PI(t,(o,a)=>{i&&i.uid!==r?s.remove():(i||(i=U_.acquireTracked(o,e,a,n),r=i.uid),Ny(i))});return un(()=>{s.remove(),i&&(i.uid!==r||i.removed||(i.removed=!0,Ny(i)),i=null),s=null})}function Qq(t,e,n){let i=!1;return kI(t,(r,s)=>{i||(i=!0,n(s,r)||e(r,s),i=!1)})}function Kq(t,e,n=!1,i=FM){return n?Qq(t,e,i):Xq(t,e,i)}function tH(t){return gI(Jo,e=>e.oldValue===t)}function Fn(t,e,n={}){return z_(t,e,n,FI)}function Cy(t,e,n={}){return z_(t,e,n,jI)}function z_(t,e,n={},i){let r=null;const s=n.once?(o,a)=>{i(o)&&(Xu(r),e(o,a))}:(o,a)=>{i(o)&&e(o,a)};if(r=Kq(t,s,n.sync,n.equals),n.initial){const o=t();s(o,o)}return r}function B_(t,e,n,i={}){let r=null,s=null,o=null;function a(){r&&s&&(s.remove(),i.onListenerRemove?.(r),r=null,s=null)}function l(p){i.once&&i.once&&Xu(o),n(p)}const c=Fn(t,(p,d)=>{a(),my(p)&&(r=p,s=T_(p,e,l),i.onListenerAdd?.(p))},{sync:i.sync,initial:!0});return o=un(()=>{c.remove(),a()}),o}function eH(t,e){return nH(t,jI,e)}function nH(t,e,n){if(Ho(n))return Promise.reject(Gi());const i=t();if(e?.(i))return Promise.resolve(i);let r=null;function s(){r=Xu(r)}return new Promise((o,a)=>{r=fy([yc(n,()=>{s(),a(Gi())}),z_(t,l=>{s(),o(l)},{sync:!1,once:!0},e??FI)])})}function FI(t){return!0}function jI(t){return!!t}function iH(t,e,n={}){let i=!1;const r=Fn(t,(s,o)=>{i||e(s,o)},n);return{remove(){r.remove()},pause(){i=!0},resume(){i=!1}}}const GI={sync:!0},ky={initial:!0},rH={sync:!0,initial:!0};function v(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function sH(t,e){return function(n,i){e(n,i,t)}}function oH(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{c(i.next(p))}catch(d){o(d)}}function l(p){try{c(i.throw(p))}catch(d){o(d)}}function c(p){p.done?s(p.value):r(p.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function aH(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(r=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");r&&(i=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:i,async:n})}else n&&t.stack.push({async:!0});return e}var lH=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=t,i.suppressed=e,i};function cH(t){function e(s){t.error=t.hasError?new lH(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,i=0;function r(){for(;n=t.stack.pop();)try{if(!n.async&&i===1)return i=0,t.stack.push(n),Promise.resolve().then(r);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(r,function(o){return e(o),r()})}else i|=1}catch(o){e(o)}if(i===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function eh(t){let e=t.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!n){e=Object.create(e);for(const i in e)e[i]=ht(e[i]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Fd(t,e){const n=eh(t);let i=n[e];return i||(i=n[e]={}),i}function uH(t,e){return wy(t,e,pH)}const hH=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function pH(t){return hH.test(t)?"replace":"merge"}function Py(t,e,n){if(t&&e)if(typeof e=="object")for(const i of Object.getOwnPropertyNames(e))Py(t,i,e[i]);else{if(e.includes(".")){const r=e.split("."),s=r.splice(-1,1)[0];return void Py(_c(t,r),s,n)}const i=t.__accessor__;i!=null&&dH(e,i),t[e]=n}}function dH(t,e){if(Q("esri-unknown-property-errors")&&!fH(t,e))throw new ie("set:unknown-property",mH(t,e))}function fH(t,e){return e.metadata[t]!=null}function mH(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function E(t={}){return(e,n)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${n}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(e,n),r=Fd(e,n);i&&(i.get||i.set?(r.get=i.get||r.get,r.set=i.set||r.set):"value"in i&&("value"in t&&Oe.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${e.constructor.name}" already defined in the metadata`,t),r.value=t.value=i.value)),t.readOnly!=null&&(r.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let p;r.dependsOn=[l],r.get=function(){let d=_c(this,l);if(typeof d=="function"){p||(p=l.split(".").slice(0,-1).join("."));const f=_c(this,p);f&&(d=d.bind(f))}return d},r.readOnly||(r.set=c?function(d){this._override(n,d)}:function(d){Py(this,l,d)})}const o=t.type,a=t.types;if(!r.cast){let l;o?l=yH(o):a&&(l=Array.isArray(a)?Md(mc(a[0])):mc(a)),t.cast=gH(t.cast,l)}uH(r,t),t.range&&(r.cast=WM(r.cast,t.range))}}function W_(t,e,n){const i=Fd(t,n);i.json||(i.json={});let r=i.json;return e!==void 0&&(r.origins||(r.origins={}),r.origins[e]||(r.origins[e]={}),r=r.origins[e]),r}function yH(t){let e=0,n=t;if(FW(t))return QM(t);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!="string"&&typeof n[0]!="number";)n=n[0],e++;const i=n;if(XM(i))return e===0?x_(i):uy(x_(i),e);if(e===1)return LW(i);if(e>1)return RW(i,e);const r=t;return r.from?r.from:qr(r)}function gH(t,e){if(t||e)return t?e?(n,i)=>e(t(n,i),i):t:e}const $I=Symbol("Accessor-beforeDestroy");function vH(t){if(t.json&&t.json.origins){const e=t.json.origins,n={"web-document":["web-scene","web-map"]};for(const i in n)if(e[i]){const r=e[i];n[i].forEach(s=>{e[s]=r}),delete e[i]}}}let nh=class extends rI{constructor(t,e,n){super(t,e,n)}};nh.prototype.type="warning";function UI(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}function bH(t,e){return q_(t,"any",e?.origin)}function Ly(t,e){return q_(t,"read",e?.origin)}function VI(t,e){return q_(t,"write",e?.origin)}function q_(t,e,n){let i=t?.json;if(i?.origins&&n){let r;r=n==="link-chart"?i.origins[n]&&(e==="any"||e in i.origins[n])?i.origins[n]:i.origins["web-map"]:i.origins[n],r&&(e==="any"||e in r)&&(i=r)}return i}const H_=()=>Oe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function zI(t,e,n){t&&(!n&&!e.read||e.read?.reader||e.read?.enabled===!1||xH(t)&&Ha("read.reader",Z_(t),e))}function Z_(t){const e=t.ndimArray??0;if(e>1)return wH(t);if(e===1)return WI(t);if("type"in t&&qI(t.type)){const n=t.type.prototype?.itemType?.Type,i=WI(typeof n=="function"?{type:n}:{types:n});return(r,s,o)=>{const a=i(r,s,o);return a&&new t.type(a)}}return Y_(t)}function Y_(t){return"type"in t?_H(t.type):EH(t.types)}function _H(t){return t.prototype.read?(e,n,i)=>{if(e==null)return e;const r=typeof e;if(r!=="object")return void H_().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${r}'`);const s=new t;return s.read(e,i),s}:t.fromJSON}function BI(t,e,n,i){return i!==0&&Array.isArray(e)?e.map(r=>BI(t,r,n,i-1)):t(e,void 0,n)}function wH(t){const e=Y_(t),n=BI.bind(null,e),i=t.ndimArray??0;return(r,s,o)=>{if(r==null)return r;r=n(r,o,i);let a=i,l=r;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)r=[r];return r}}function WI(t){const e=Y_(t);return(n,i,r)=>{if(n==null)return n;if(Array.isArray(n)){const o=[];for(const a of n){const l=e(a,void 0,r);l!==void 0&&o.push(l)}return o}const s=e(n,void 0,r);return s!==void 0?[s]:void 0}}function qI(t){if(!UI(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?J_(e.Type):HI(e.Type))}function xH(t){return"types"in t?HI(t.types):J_(t.type)}function J_(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||qI(t))}function HI(t){for(const e in t.typeMap)if(!J_(t.typeMap[e]))return!1;return!0}function EH(t){let e=null;const n=t.errorContext??"type",i=t.validate;return(r,s,o)=>{if(r==null)return r;const a=typeof r;if(a!=="object")return void H_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=AH(t));const l=t.key;if(typeof l!="string")return;const c=r[SH(l,e,o)],p=c?e[c]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!p){const f=`Type '${c||"unknown"}' is not supported`;return o?.messages&&r&&o.messages.push(new nh(`${n}:unsupported`,f,{definition:r,context:o})),void H_().error(f)}const d=new p;return d.read(r,o),i?i(d):d}}function SH(t,e,n){const i=Object.values(e)[0],r=eh(i.prototype)[t],s=Ly(r,n),o=s?.read?.source;return o&&typeof o=="string"?o:t}function AH(t){const e={};for(const n in t.typeMap){const i=t.typeMap[n],r=eh(i.prototype);if(typeof t.key=="function")continue;const s=r[t.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){e[s.json.type[0]]=i;continue}const o=s.json?.write;if(!o?.writer){e[n]=i;continue}const a=o.target,l=typeof a=="string"?a:t.key,c={};o.writer(n,c,l),c[l]&&(e[c[l]]=i)}return e}function TH(t){if(t.json||(t.json={}),YI(t.json),JI(t.json),ZI(t.json),t.json.origins)for(const e in t.json.origins)YI(t.json.origins[e]),JI(t.json.origins[e]),ZI(t.json.origins[e]);return!0}function ZI(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function YI(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function JI(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function XI(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const n=t?.ndimArray??0;t&&(n===1||"type"in t&&UI(t.type))?e.write.writer=OH:n>1?e.write.writer=NH(n):e.types?Array.isArray(e.types)?e.write.writer=IH(e.types[0]):e.write.writer=MH(e.types):e.write.writer=jd}function MH(t){return(e,n,i,r)=>e?QI(e,t,r)?jd(e,n,i,r):void 0:jd(e,n,i,r)}function QI(t,e,n){for(const i in e.typeMap)if(t instanceof e.typeMap[i])return!0;if(n?.messages){const i=e.errorContext??"type",r=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&t&&n.messages.push(new ie(`${i}:unsupported`,r,{definition:t,context:n})),Oe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(r)}return!1}function IH(t){return(e,n,i,r)=>!e||!Array.isArray(e)?jd(e,n,i,r):jd(e.filter(s=>QI(s,t,r)),n,i,r)}function jd(t,e,n,i){Ha(n,Ry(t,i),e)}function Ry(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?KI(t):t}function KI(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function OH(t,e,n,i){let r;t===null?r=null:t&&typeof t.map=="function"?(r=t.map(s=>Ry(s,i)),typeof r.toArray=="function"&&(r=r.toArray())):r=[Ry(t,i)],Ha(n,r,e)}function t6(t,e,n){return n!==0&&Array.isArray(t)?t.map(i=>t6(i,e,n-1)):Ry(t,e)}function NH(t){return(e,n,i,r)=>{let s;if(e===null)s=null;else{s=t6(e,r,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Ha(i,s,n)}}function CH(t){const e=kH(t);if(t.json.origins)for(const n in t.json.origins){const i=t.json.origins[n],r=i.types?PH(i):e;zI(r,i,!1),i.types&&!i.write&&t.json.write?.enabled&&(i.write={...t.json.write}),XI(r,i)}zI(e,t.json,!0),XI(e,t.json)}function kH(t){return t.json.types?X_(t.json):t.type?e6(t):X_(t)}function PH(t){return t.type?e6(t):X_(t)}function e6(t){if(!t.type)return;let e=0,n=t.type;for(;Array.isArray(n)&&!XM(n);)n=n[0],e++;return{type:n,ndimArray:e}}function X_(t){if(!t.types)return;let e=0,n=t.types;for(;Array.isArray(n);)n=n[0],e++;return{types:n,ndimArray:e}}function LH(t){TH(t)&&(vH(t),CH(t))}const Q_=new Set,K_=new Set;function tt(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,DH(e);const n=[],i=[];let r=e.prototype;for(;r;)r.hasOwnProperty("initialize")&&!Q_.has(r.initialize)&&(Q_.add(r.initialize),n.push(r.initialize)),r.hasOwnProperty("destroy")&&!K_.has(r.destroy)&&(K_.add(r.destroy),i.push(r.destroy)),r=Object.getPrototypeOf(r);Q_.clear(),K_.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=n.length-1;l>=0;l--)n[l].call(this)}}),i.length){let l=!1;const c=this[$I];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=Tr.DESTROYING,l=!0,c.call(this);for(let p=0;p<i.length;p++)i[p].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=eh(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function RH(t,e){return e.get==null?function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i===void 0)return;n.mutable&&Ft(i);const r=n.store;return r.has(t)?r.get(t):i.metadata.value}:function(){const n=this.__accessor__,i=n.propertiesByName.get(t);if(i!==void 0)return i.getComputed(n)}}function DH(t){const e=t.prototype,n=eh(e),i={};for(const r of Object.getOwnPropertyNames(n)){const s=n[r];LH(s),i[r]={enumerable:!0,configurable:!0,get:RH(r,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?n6("read-only",r):a.lifecycle===Tr.CONSTRUCTED&&s.constructOnly?n6("construct-only",r):void a.set(r,o)}else Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,i)}const n6=(t,e)=>{Oe.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)},i6=new WeakMap;function FH(t,e,n=!1){const i=`\u{1F6D1} DEPRECATED - ${e}`;if(!n)return void t.warn(i);let r=i6.get(t);r||(r=new Set,i6.set(t,r)),r.has(e)||(r.add(e),t.warn(i))}const Dy="https://www.esriurl.com/";function jH(t,e,n,i={}){Q("esri-deprecation-warnings")&&Xo(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${Dy}${n}/`,`Esri's move to web components: ${Dy}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function GH(t,e,n,i={}){Q("esri-deprecation-warnings")&&Xo(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${Dy}${n}/`,`Esri's move to web components: ${Dy}components-transition-plan/`],replacement:`<${n}></${n}>`,warnOnce:!0,...i})}function $H(t,e,n={}){Q("esri-deprecation-warnings")&&Xo(t,`Module: ${e}`,n)}function tw(t,e,n={}){if(Q("esri-deprecation-warnings")){const{moduleName:i}=n;Xo(t,`Function: ${(i?i+"::":"")+e+"()"}`,n)}}function ew(t,e,n={}){if(Q("esri-deprecation-warnings")){const{moduleName:i}=n;Xo(t,`Property: ${(i?i+"::":"")+e}`,n)}}function UH(t,e,n={}){Q("esri-deprecation-warnings")&&Xo(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...n})}function Xo(t,e,n={}){if(Q("esri-deprecation-warnings")){const{replacement:i,version:r,see:s,warnOnce:o}=n;let a=e;if(i&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${i}`),r&&(a+=`
	\u2699\uFE0F Version: ${r}`),s)if(Array.isArray(s)){a+=`
	\u{1F517} See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	\u{1F517} See ${s} for more details.`;FH(t,a,o)}}function VH(t){const e=[];return function*(){yield*e;let n,i=e.length;for(;!(n=t.next()).done;)for(e.push(n.value),yield n.value;++i<e.length;)yield e[i]}}function zH(t,e){for(const n of t)if(n!=null&&e(n))return n}function nw(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Fy=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(e=>{t+=e.length}),t}add(t,e){if(nw(t)){const n=this._getOrCreateGroup(e);for(const i of t)s6(i)&&n.push(i)}else s6(t)&&this._getOrCreateGroup(e).push(t);return this}forEach(t,e){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&e&&n.forEach(e)}}has(t){return this._groups.has(jy(t))}remove(t){if(typeof t!="string"&&nw(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(r6(this._getGroup(t)),this._groups.delete(jy(t)),this):this}removeAll(){return this._groups.forEach(r6),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(jy(t),e),e}_getGroup(t){return this._groups.get(jy(t))}};function jy(t){return t||"_default_"}function r6(t){for(const e of t)e instanceof Fy?e.removeAll():e.remove()}function s6(t){return t!=null&&(!!t.remove||t instanceof Fy)}let BH=class{constructor(t,e){this._observers=t,this._observer=e}remove(){OM(this._observers,this._observer)}},o6=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return WH;this._observers==null&&(this._observers=[]);const e=this._observers;let n=!1,i=!1;const r=e.length;for(let s=0;s<r;++s){const o=e[s];if(o.destroyed)i=!0;else if(o===t){n=!0;break}}return n||(e.push(t),i&&this._removeDestroyedObservers()),new BH(e,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const e=t.length;let n=0;for(let i=0;i<e;++i){for(;i+n<e&&t[i+n].destroyed;)++n;if(n>0){if(!(i+n<e))break;t[i]=t[i+n]}}t.length=e-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const e of t)e.onCommitted();this._observers=null}}};const WH=un();let a6=class extends o6{constructor(t,e){super(),this.propertyName=t,this.metadata=e,this.trackingTarget=new Ey(this),this.flags=0,this.flags=Ue.Dirty|(e.nonNullable?Ue.NonNullable:0)|(e.hasOwnProperty("value")?Ue.HasDefaultValue:0)|(e.get===void 0?Ue.DepTrackingInitialized:0)|(e.dependsOn===void 0?Ue.AutoTracked:0)}destroy(){this.flags&Ue.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Ft(this);const e=t.store,n=this.propertyName,i=this.flags,r=e.get(n);if(i&Ue.Computing||~i&Ue.Dirty&&e.has(n))return r;this.flags|=Ue.Computing;const s=t.host;let o;i&Ue.AutoTracked?o=co(this.trackingTarget,this.metadata.get,s):(OI(s,this),o=this.metadata.get.call(s)),this.flags|=Ue.DepTrackingInitialized,e.set(n,o,1);const a=e.get(n);return a===r?this.flags&=-2:jq(this.commit,this),this.flags&=-5,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&Ue.Overridden&&(this.flags|=Ue.Dirty);const t=this._observers;if(t&&t.length>0)for(const e of t)e.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onCommitted()}}};const qH=8;function iw(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function Gy(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function HH(t){return Gy(t)}let ZH=class hB{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new hB;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,ht(i))}),n}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,n){this._values.set(e,n)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,n){return this.has(e)}isBelowOrigin(e,n){return!this.has(e)}forEach(e){this._values.forEach(e)}};function ih(t,e,n){return t!==void 0}function l6(t,e,n,i){return t!==void 0&&(!(n==null&&t.flags&Ue.NonNullable)||(i.lifecycle,!1))}let YH=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Tr.INITIALIZING,this.store=new ZH,this.mutable=!0,this._origin=7;const e=this.host.constructor.__accessorMetadata__;for(const n in e){const i=new a6(n,e[n]);this.propertiesByName.set(n,i)}this.metadata=e}initialize(){this.lifecycle=Tr.CONSTRUCTING}constructed(){this.lifecycle=Tr.CONSTRUCTED}destroy(){this.lifecycle=Tr.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Tr.INITIALIZING}get(t){const e=this.propertiesByName.get(t);if(!ih(e))return;if(e.metadata.get)return e.getComputed(this);this.mutable&&Ft(e);const n=this.store;return n.has(t)?n.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(e===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&Ue.HasDefaultValue)return"defaults"}return Gy(e)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const e=this.propertiesByName.get(t);if(ih(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const n=this.propertiesByName.get(t);ih(n)&&this._internalSet(n,e)}getDependsInfo(t,e,n){const i=this.propertiesByName.get(e);if(!ih(i))return"";const r=new Ey,s=co(r,()=>i.metadata.get?.call(t));let o=`${n}${t.declaredClass.split(".").pop()}.${e}: ${s}
`;const a=r.accessed??new Set;if(a.size===0)return o;n+="  ";for(const l of a)l instanceof a6&&(o+=`${n}${l.propertyName}: undefined
`);return o}setAtOrigin(t,e,n){const i=this.propertiesByName.get(t);if(ih(i))return this._setAtOrigin(i,e,n)}isOverridden(t){const e=this.propertiesByName.get(t);return e!==void 0&&!!(e.flags&Ue.Overridden)}clearOrigin(t,e){const n=this.store,i=this.propertiesByName.get(t);if(!ih(i))return;const r=n.isAtOrigin(t,e)&&!(i.flags&Ue.Overridden);n.delete(t,e),r&&i.notifyChange()}clearOverride(t){const e=this.propertiesByName.get(t);e&&e.flags&Ue.Overridden&&(e.flags&=-3,e.notifyChange())}override(t,e){const n=this.propertiesByName.get(t);if(!l6(n,t,e,this))return;const i=n.metadata.cast;if(i){const r=this._cast(i,e),{valid:s,value:o}=r;if(rw.release(r),!s)return;e=o}n.flags|=Ue.Overridden,this._internalSet(n,e)}set(t,e){const n=this.propertiesByName.get(t);if(!l6(n,t,e,this))return;const i=n.metadata.cast;if(i){const s=this._cast(i,e),{valid:o,value:a}=s;if(rw.release(s),!o)return;e=a}const r=n.metadata.set;r?r.call(this.host,e):this._internalSet(n,e)}setDefaultOrigin(t){this._origin=iw(t)}getDefaultOrigin(){return Gy(this._origin)}notifyChange(t){const e=this.propertiesByName.get(t);e!==void 0&&e.notifyChange()}invalidate(t){const e=this.propertiesByName.get(t);e!==void 0&&e.invalidate()}commit(t){const e=this.propertiesByName.get(t);e!==void 0&&e.commit()}_internalSet(t,e){const n=this.lifecycle!==Tr.INITIALIZING?this._origin:0;this._setAtOrigin(t,e,n)}_setAtOrigin(t,e,n){const i=this.store,r=t.propertyName;if(i.isAtOrigin(r,n)&&y_(e,i.get(r))&&~t.flags&Ue.Overridden)return;const s=i.isBelowOrigin(r,n)||i.isAtOrigin(r,n);s&&t.invalidate(),i.set(r,e,n),s&&t.commit(),II(this.host,t)}_cast(t,e){const n=rw.acquire();return n.valid=!0,n.value=e,t&&(n.value=t.call(this.host,e,n)),n}},JH=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const rw=new Nd(()=>new JH);let XH;function QH(){return XH}var c6,u6;function KH(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Za=Symbol("Accessor-Handles"),sw=Symbol("Accessor-Initialized");let Bn=class Zb{static{c6=Za,u6=sw}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:i,constructor:r}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,r&&r.apply(this,l)}}eh(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...c){const p=this.inherited;let d;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{d=l.apply(this,c)}catch(f){throw this.inherited=p,f}return this.inherited=p,d}:e[a]}for(const a in n){const l=KH(n[a]);E(l)(o.prototype,a)}return tt(i)(o)}static freeze(e){return e instanceof Zb?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Zb?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[c6]=null,this[u6]=!1,this.constructor===Zb)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new YH(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),e.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,n=e.ctorArgs;e.initialize(),n&&(this.set(n),e.ctorArgs=null),e.constructed(),this.initialize(),this[sw]=!0}initialize(){}[$I](){this[Za]=Id(this[Za])}destroy(){this.destroyed||(Bq(this),this.__accessor__.destroy(),QH()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[sw]}get destroyed(){return this.__accessor__?.lifecycle===Tr.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===Tr.DESTROYING||!1}commitProperty(e){_c(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,n){return Py(this,e,n),this}watch(e,n,i){return tw(Oe.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Jq(this,e,n,i)}addHandles(e,n){if(this.destroyed){const i=Array.isArray(e)?e:[e];for(const r of i)r.remove();return}(this[Za]??=new Fy).add(e,n)}removeHandles(e){this[Za]?.remove(e)}removeAllHandles(){this[Za]?.removeAll()}removeHandlesReference(e){this[Za]?.removeReference(e)}hasHandles(e){return this[Za]?.has(e)===!0}_override(e,n){n===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,n){n==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,n){return this.__accessor__.internalSet(e,n),this}},tZ=class pB{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new pB;return this._values.forEach((i,r)=>{e&&e.has(r)||n.set(r,ht(i.value),i.origin)}),n}get(e,n){n=this._normalizeOrigin(n);const i=this._values.get(e);return n==null||i?.origin===n?i?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const n=[...this._values.keys()];return e==null?n:n.filter(i=>this._values.get(i)?.origin===e)}set(e,n,i){if((i=this._normalizeOrigin(i))===0){const r=this._values.get(e);if(r?.origin!=null&&r.origin>i)return}this._values.set(e,new eZ(n,i))}delete(e,n){(n=this._normalizeOrigin(n))!=null&&this._values.get(e)?.origin!==n||this._values.delete(e)}has(e,n){return(n=this._normalizeOrigin(n))!=null?this._values.get(e)?.origin===n:this._values.has(e)}isAtOrigin(e,n){return n=this._normalizeOrigin(n),this.has(e,n)&&this.originOf(e)===n}isBelowOrigin(e,n){return n=this._normalizeOrigin(n),!this.has(e)||this.originOf(e)<n}forEach(e){this._values.forEach(({value:n},i)=>e(n,i))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},eZ=class{constructor(t,e){this.value=t,this.origin=e}};function h6(t,e,n){e.keys().forEach(r=>{n.set(r,e.get(r),0)});const i=t.metadata;Object.keys(i).forEach(r=>{t.internalGet(r)&&n.set(r,t.internalGet(r),0)})}function nZ(t,e,n){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const i=t.read.source;if(typeof i=="string"){if(i===e||i.includes(".")&&i.startsWith(e)&&AI(i,n))return!0}else for(const r of i)if(r===e||r.includes(".")&&r.startsWith(e)&&AI(r,n))return!0;return!1}function iZ(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function rZ(t,e,n,i,r){let s=Ly(e[n],r);iZ(s)&&(t[n]=!0);for(const o of Object.getOwnPropertyNames(e))s=Ly(e[o],r),nZ(s,n,i)&&(t[o]=!0)}function sZ(t,e,n,i){const r=n.metadata,s=bH(r[e],i),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,i):o;a!==void 0&&n.set(e,a)}const p6={origin:"service"};function d6(t,e,n=p6){if(!e||typeof e!="object")return;const i=Yo(t),r=i.metadata,s={};for(const o of Object.getOwnPropertyNames(e))rZ(s,r,o,e,n);i.setDefaultOrigin(n.origin);for(const o of Object.getOwnPropertyNames(s)){const a=Ly(r[o],n).read,l=a?.source;let c;c=l&&typeof l=="string"?Pd(e,l):e[o],a?.reader&&(c=a.reader.call(t,c,e,n)),c!==void 0&&i.set(o,c)}if(!n||!n.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(r))s[o]||sZ(t,o,i,n)}i.setDefaultOrigin("user")}function oZ(t,e,n,i=p6){const r={...i,messages:[]};n(r),r.messages?.forEach(s=>{s.type!=="warning"||t.loaded?i?.messages&&i.messages.push(s):t.loadWarnings.push(s)})}function aZ(t,e,n,i,r){const s={};return e.write?.writer?.call(t,i,s,n,r),s}function f6(t,e,n,i,r,s){if(!i?.write)return!1;const o=_c(t,n);if(!r&&i.write.overridePolicy){const a=i.write.overridePolicy.call(t,o,n,s??void 0);a!==void 0&&(r=a)}if(r||(r=i.write),!r||r.enabled===!1||r.layerContainerTypes&&s?.layerContainerType&&!r.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!r.allowNull&&!r.writerEnsuresNonNull||o===void 0)&&r.isRequired){const a=new ie("web-document-write:property-required",`Missing value for required property '${n}' on '${t.declaredClass}'`,{propertyName:n,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&Oe.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!r.allowNull&&!r.writerEnsuresNonNull||!r.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(n)===0)&&lZ(t,n,s,i,o)||!r.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(n)<iw(s.origin))}function lZ(t,e,n,i,r){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(r);if(typeof s=="function"){if(Array.isArray(r)){const o=s.call(t,e,n??void 0);return Ed(o,r)}return!1}return s===r}function cZ(t,e,n,i){const r=Yo(t),s=r.metadata,o=VI(s[e],i);return!!o&&f6(t,r,e,o,n,i)}function m6(t,e,n){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return wy(e,t.toJSON(n));const i=Yo(t),r=i.metadata;for(const s in r){const o=VI(r[s],n);if(!f6(t,i,s,o,void 0,n))continue;const a=_c(t,s),l=aZ(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,n);Object.keys(l).length>0&&(e=wy(e,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>wy(e,l,()=>"replace-arrays"))),n?.writtenProperties&&n.writtenProperties.push({target:t,propName:s,oldOrigin:HH(i.store.originOf(s)),newOrigin:n.origin}))}return e}const ow=t=>{const e=t;let n=class extends e{constructor(...i){super(...i);const r=Yo(this),s=r.store,o=new tZ;r.store=o,h6(r,s,o)}read(i,r){d6(this,i,r)}write(i,r){return m6(this,i??{},r)}toJSON(i){return this.write({},i)}static fromJSON(i,r){return uZ.call(this,i,r)}};return n=v([tt("esri.core.JSONSupport")],n),n.prototype.toJSON.isDefaultToJSON=!0,n};function uZ(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(t,e),n}const Vt=ow(Bn);function hn(t,e,n){let i,r;return e===void 0||Array.isArray(e)?(r=t,n=e,i=[void 0]):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;i.forEach(l=>{const c=W_(s,l,r);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],n&&(c.read.source=(c.read.source||[]).concat(n))})}}let Cs=class{constructor(t,e={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=e,this.apiValues=[],this.jsonValues=[],this._apiToJSON=hZ(t),this.apiValues=y6(this._apiToJSON),this.jsonValues=y6(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,i,r)=>{const s=this.toJSON(n);s!==void 0&&Ha(r,s,i)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const e=this._apiToJSON[t];return this._options.useNumericKeys?+e:e}return this._options.ignoreUnknown?null:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function hZ(t){const e={};for(const n in t)e[t[n]]=n;return e}function y6(t){const e=[];for(const n in t)e.push(n);return e.sort(),e}function Hr(){return function(t,e){return new Cs(t,{ignoreUnknown:!0,...e})}}let aw=class{constructor(t,e,n,i,r,s){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=i,this.scaleHeight=r;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Zr=new aw(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),rh=new aw(3396190,1/169.8944472236118,23e4,6e4,.111),Gd=new aw(1737400,0,0,0,0);function $d(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const pZ=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,dZ={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function lw(t){const e=t?.match(pZ);if(!e)return null;const[,n,i,r]=e;if(!n)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:p}=dZ;if(i)if(s=n,r)switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=p);else switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=p);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function cw(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function uw(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):n.test(t)?t=t.replace(n,"https://devext.arcgis.com"):i.test(t)&&(t=t.replace(i,"https://qaext.arcgis.com")),t}function g6(t){const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer}function fZ(t){const e=new Uint8Array(t);let n="";for(let i=0;i<e.length;i++)n+=String.fromCharCode(e[i]);return btoa(n)}const mZ=()=>Oe.getLogger("esri.core.urlUtils"),sh=oe.request,v6="esri/config: esriConfig.request.proxyUrl is not set.",b6=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,_6=/^\s*http:/i,yZ=/^\s*https:/i,gZ=/^\s*file:/i,w6=/:\d+$/,vZ=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,bZ=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),_Z=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let wc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let e=this.uri.match(bZ);this.scheme=e[2]||(e[1]?"":null),this.authority=e[4]||(e[3]?"":null),this.path=e[5],this.query=e[7]||(e[6]?"":null),this.fragment=e[9]||(e[8]?"":null),this.authority!=null&&(e=this.authority.match(_Z),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}toString(){return this.uri}};const $y={},wZ=new wc(oe.applicationUrl);let vi=wZ;const xZ=SZ();let hw=xZ;const pw=()=>vi,EZ=()=>hw;function SZ(){const t=vi.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${vi.scheme}://${vi.host}${vi.port!=null?`:${vi.port}`:""}`}${e}`}function Yr(t){if(!t)return null;const e={path:null,query:null},n=new wc(t),i=t.indexOf("?");return n.query===null?e.path=t:(e.path=t.slice(0,i),e.query=Uy(n.query)),n.fragment&&(e.hash=n.fragment,n.query===null&&(e.path=e.path.slice(0,e.path.length-(n.fragment.length+1)))),e}function Uy(t){const e=t.split("&"),n={};for(const i of e){if(!i)continue;const r=i.indexOf("=");let s,o;r<0?(s=decodeURIComponent(i),o=""):(s=decodeURIComponent(i.slice(0,r)),o=decodeURIComponent(i.slice(r+1)));let a=n[s];typeof a=="string"&&(a=n[s]=[a]),Array.isArray(a)?a.push(o):n[s]=o}return n}function oh(t,e){return t?Object.keys(t).map(n=>{const i=t[n];if(i==null)return"";const r=encodeURIComponent(n)+"=",s=e?.[n];return s?r+encodeURIComponent(s(i)):Array.isArray(i)?i.map(o=>$d(o)?r+encodeURIComponent(JSON.stringify(o)):r+encodeURIComponent(o)).join("&"):$d(i)?r+encodeURIComponent(JSON.stringify(i)):r+encodeURIComponent(i)}).filter(n=>n).join("&"):""}function x6(t=!1){let e,n=sh.proxyUrl;if(typeof t=="string"){e=M6(t);const i=Vd(t);i&&(n=i.proxyUrl)}else e=!!t;if(!n)throw mZ().warn(v6),new ie("urlUtils:proxy-not-set",v6);return e&&vw()&&(n=By(n)),Yr(n)}function AZ(t,e=!1){const n=Vd(t);let i,r;if(n){const s=dw(n.proxyUrl);i=s.path,r=s.query?Uy(s.query):null}else if(e){const s=x6(t);i=s.path,r=s.query}if(i){const s=Yr(t);t=i+"?"+s.path;const o=oh({...r,...s.query});o&&(t=`${t}?${o}`)}return t}const Ud={path:"",query:""};function dw(t){const e=t.indexOf("?");return e!==-1?(Ud.path=t.slice(0,e),Ud.query=t.slice(e+1)):(Ud.path=t,Ud.query=null),Ud}function E6(t){return t=(t=Wy(t=I6(t=dw(t).path),!0)).toLowerCase()}function TZ(t){const e={proxyUrl:t.proxyUrl,urlPrefix:E6(t.urlPrefix)},n=sh.proxyRules,i=e.urlPrefix;let r=n.length;for(let s=0;s<n.length;s++){const o=n[s].urlPrefix;if(i.startsWith(o)){if(i.length===o.length)return-1;r=s;break}o.startsWith(i)&&(r=s+1)}return n.splice(r,0,e),r}function Vd(t){const e=sh.proxyRules,n=E6(t);for(let i=0;i<e.length;i++)if(n.startsWith(e[i].urlPrefix))return e[i]}function MZ(t,e){if(!t||!e)return!1;t=Vy(t),e=Vy(e);const n=lw(t),i=lw(e);return n!=null&&i!=null?n.portalHostname===i.portalHostname:n==null&&i==null&&Ya(t,e,!0)}function S6(t,e){return t=Vy(t),e=Vy(e),Wy(t)===Wy(e)}function Vy(t){const e=(t=Qo(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function fw(t,e=sh.interceptors){const n=i=>i instanceof RegExp?i.test(t):typeof i=="string"?t.startsWith(i):i==null;if(e){for(const i of e)if(Array.isArray(i.urls)){if(i.urls.some(n))return i}else if(n(i.urls))return i}return null}function Ya(t,e,n=!1){if(!t||!e)return!1;const i=ww(t),r=ww(e);return!(!n&&i.scheme!==r.scheme)&&i.host!=null&&r.host!=null&&i.host.toLowerCase()===r.host.toLowerCase()&&i.port===r.port}function mw(t){if(typeof t=="string"){if(!Jr(t))return!0;t=ww(t)}if(Ya(t,vi))return!0;const e=sh.trustedServers||[];for(let n=0;n<e.length;n++){const i=IZ(e[n]);for(let r=0;r<i.length;r++)if(Ya(t,i[r]))return!0}return!1}function IZ(t){return $y[t]||(gw(t)||Ko(t)?$y[t]=[new wc(ah(t))]:$y[t]=[new wc(`http://${t}`),new wc(`https://${t}`)]),$y[t]}function ah(t,e=hw,n){return Ko(t)?n?.preserveProtocolRelative?t:vi.scheme==="http"&&vi.authority===Mr(t).slice(2)?`http:${t}`:`https:${t}`:gw(t)?t:zd(t.startsWith("/")?DZ(e):e,t)}function yw(t,e=hw,n){if(t==null||!Jr(t))return t;const i=Qo(t),r=i.toLowerCase(),s=Qo(e).toLowerCase().replace(/\/+$/,""),o=n?Qo(n).toLowerCase().replace(/\/+$/,""):null;if(o&&!s.startsWith(o))return t;const a=(d,f,y)=>(y=d.indexOf(f,y))===-1?d.length:y;let l=a(r,"/",r.indexOf("//")+2),c=-1;for(;r.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==r.length);)l=a(r,"/",l+1);if(c===-1||o&&c<o.length)return t;t=i.slice(c);const p=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let d=0;d<p;d++)t=`../${t}`;else t=`./${t}`;return t}function Qo(t){return t=UZ(t=$Z(t=GZ(t=ah(t=t.trim()))))}function zd(...t){const e=t.filter(NM);if(!e?.length)return;const n=[];if(Jr(e[0])){const r=e[0],s=r.indexOf("//");s!==-1&&(n.push(r.slice(0,s+1)),LZ(e[0])&&(n[0]+="/"),e[0]=r.slice(s+2))}else e[0].startsWith("/")&&n.push("");const i=e.reduce((r,s)=>s?r.concat(s.split("/")):r,[]);for(let r=0;r<i.length;r++){const s=i[r];s===".."&&n.length>0&&n[n.length-1]!==".."?n.pop():(!s&&r===i.length-1||s&&(s!=="."||n.length===0))&&n.push(s)}return n.join("/")}function Mr(t,e=!1){if(t==null||zy(t)||xc(t))return null;let n=t.indexOf("://");if(n===-1&&Ko(t))n=2;else{if(n===-1)return null;n+=3}const i=t.indexOf("/",n);return i!==-1&&(t=t.slice(0,i)),e&&(t=Wy(t,!0)),t}function Jr(t){return Ko(t)||gw(t)}function zy(t){return t!=null&&t.startsWith("blob:")}function xc(t){return t!=null&&t.startsWith("data:")}function A6(t){const e=lh(t);return e?.isBase64?g6(e.data):null}function OZ(t){return fZ(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const NZ=/^data:(.*?)(;base64)?,(.*)$/;function lh(t){const e=t.match(NZ);if(!e)return null;const[,n,i,r]=e;return{mediaType:n,isBase64:!!i,data:r}}function T6(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function CZ(t){return(await fetch(t)).blob()}function kZ(t){const e=A6(t);if(!e)return null;const n=lh(t);return new Blob([e],{type:n.mediaType})}function Ko(t){return t!=null&&t.startsWith("/")&&t[1]==="/"}function gw(t){return t!=null&&b6.test(t)}function M6(t){return t!=null&&yZ.test(t)||vi.scheme==="https"&&Ko(t)}function PZ(t){return t!=null&&_6.test(t)||vi.scheme==="http"&&Ko(t)}function LZ(t){return t!=null&&gZ.test(t)}function By(t){return Ko(t)?`https:${t}`:t.replace(_6,"https:")}function RZ(){return vi.scheme==="http"}function vw(){return vi.scheme==="https"}function Wy(t,e=!1){return Ko(t)?t.slice(2):(t=t.replace(b6,""),e&&t.length>1&&t.startsWith("/")&&t[1]==="/"&&(t=t.slice(2)),t)}function DZ(t){const e=t.indexOf("//"),n=t.indexOf("/",e+2);return n===-1?t:t.slice(0,n)}function FZ(t){let e=0;if(Jr(t)){const i=t.indexOf("//");i!==-1&&(e=i+2)}const n=t.lastIndexOf("/");return n<e?t:t.slice(0,n+1)}function jZ(t,e){if(!t)return"";const n=Yr(t).path.replace(/\/+$/,""),i=n.slice(n.lastIndexOf("/")+1);if(!e?.length)return i;const r=new RegExp(`\\.(${e.join("|")})$`,"i");return i.replace(r,"")}function I6(t){return t.endsWith("/")?t:`${t}/`}function bw(t){return t.replace(/\/+$/,"")}function GZ(t){if(/^https?:\/\//i.test(t)){const e=dw(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function $Z(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function UZ(t){const e=sh.httpsDomains;if(!PZ(t))return t;const n=t.indexOf("/",7);let i;if(i=n===-1?t:t.slice(0,n),i=i.toLowerCase().slice(7),w6.test(i)){if(!i.endsWith(":80"))return t;i=i.slice(0,-3),t=t.replace(":80","")}return RZ()&&i===vi.authority&&!vZ.test(t)||(vw()&&i===vi.authority||e&&e.some(r=>i===r||i.endsWith(`.${r}`))||vw()&&!Vd(t))&&(t=By(t)),t}function _w(t,e,n){if(!(e&&n&&t&&Jr(t)))return t;const i=t.indexOf("//"),r=t.indexOf("/",i+2),s=t.indexOf(":",i+2),o=Math.min(r<0?t.length:r,s<0?t.length:s);return t.slice(i+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,i+2)}${n}${t.slice(o)}`}function O6(t,e){const n=new URL(t);return n.host=e,n.port&&!w6.test(e)&&(n.port=""),n.toString()}function VZ(t){return new URL(t).host}function ww(t){return typeof t=="string"?new wc(ah(t)):(t.scheme||(t.scheme=vi.scheme),t)}function zZ(t){return HZ.test(t)}function N6(t,e){const n=Yr(t),i=Object.keys(n.query||{});return i.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),n.path}function BZ(t,e,n){const i=Yr(t),r=i.query||{};return r[e]=String(n),`${i.path}?${oh(r)}`}function qy(t,e){if(!e)return t;const n=Yr(t),i=n.query||{};for(const[s,o]of Object.entries(e))o!=null&&(i[s]=o);const r=oh(i);return r?`${n.path}?${r}`:n.path}function WZ(t){if(t==null)return null;const e=t.match(k6);return e?e[2]:null}function C6(t){if(t==null)return null;const e=t.match(k6);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function qZ(t){return typeof t=="string"?lh(t)??{data:t}:new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>e(lh(i.result)),i.onerror=r=>n(r)})}const k6=/([^.]*)\.([^/]*)$/,HZ=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const P6="4.34";let Le,L6=P6;function ZZ(t){Le=t}function YZ(t){const e=Le?.findCredential(t);return e?.token?BZ(t,"token",e.token):t}L6="4.34.8",Q("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),Q("host-webworker");function ch(t,e){const n=e?.url?.path;if(t&&n&&(t=ah(t,n,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const i=yw(t,e.portalItem.itemUrl);i!=null&&i.startsWith(JZ)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(i).path)}return(t=Ew(t,e?.portal))&&Zy.test(t)?Sw(t):t}function Bd(t,e,n=0){if((t=t&&Zy.test(t)?F6(t):t)==null)return t;!Jr(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let i=ah(t);if(e){const r=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(r){const s=Ew(r,e.portal),o=Ew(i,e.portal);i=yw(o,s,s),i!=null&&i!==o&&i!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=xw(i,e?.portal),Jr(i)&&(i=Qo(i)),e?.resources&&e?.portalItem&&!Jr(i)&&!xc(i)&&n===0&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(i),compress:!1}),i}function Hy(t,e,n){return ch(t,n)}function Ec(t,e,n,i){const r=Bd(t,i);r!==void 0&&(e[n]=r)}const Zy=/\/items\/([^/]+)\/resources\/(.*)/,JZ="./resources/";function R6(t){return(t?.match(Zy)??null)?.[1]??null}function D6(t){const e=t?.match(Zy)??null;if(e==null)return null;const n=e[2],i=n.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=C6(n);return{prefix:null,filename:o,extension:a}}const{path:r,extension:s}=C6(n.slice(i+1));return{prefix:n.slice(0,i),filename:r,extension:s}}function xw(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?_w(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function Ew(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const n=`${e.urlKey}.${e.customBaseUrl}`,i=pw();return Ya(i,`${i.scheme}://${n}`)?_w(t,e.portalHostname,n):_w(t,n,e.portalHostname)}function Sw(t){if(!t)return t||null;let e=t;return e&&Le&&!Le.findCredential(e)&&(e=uw(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function F6(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&Le&&!Le.findCredential(e)&&(e=uw(e)),e}const XZ=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:xw,fromCDNUrl:F6,fromJSON:ch,itemIdFromResourceUrl:R6,prefixAndFilenameFromResourceUrl:D6,read:Hy,toCDNUrl:Sw,toJSON:Bd,write:Ec},Symbol.toStringTag,{value:"Module"})),j6={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},G6=Object.values(j6),$6=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${G6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),QZ=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${G6.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),KZ=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function tY(t){return $6.test(t)}function Wd(t){if(t==null)return null;const e=Yr(t),n=e?.path.match($6)||e?.path.match(QZ);if(!n)return null;const[,i,r,s,o]=n,a=r.indexOf("/");return{title:Aw(a!==-1?r.slice(a+1):r),serverType:j6[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:i}}}function U6(t){const e=Yr(t).path.match(KZ);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function Aw(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function eY(t,e){const n=[];if(t){const i=Wd(t);i!=null&&i.title&&n.push(i.title)}if(e){const i=Aw(e);n.push(i)}if(n.length===2){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function Tw(t){let e=Mr(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function nY(t,e){return t&&bw(N6(t,e))}function iY(t){let{url:e}=t;if(!e)return{url:e};e=N6(e,t.logger);const n=Yr(e),i=Wd(n.path);let r;if(i!=null)i.sublayer!=null&&t.layer.layerId==null&&(r=i.sublayer),e=i.url.path;else if(t.nonStandardUrlAllowed){const s=U6(n.path);s!=null&&(e=s.serviceUrl,r=s.sublayerId)}return{url:bw(e),layerId:r}}function rY(t,e,n,i,r){Ec(e,i,"url",r),i.url&&t.layerId!=null&&(i.url=zd(i.url,n,t.layerId.toString()))}function sY(t){if(!t)return!1;const e=t.toLowerCase(),n=e.includes("/services/"),i=e.includes("/mapserver/wmsserver"),r=e.includes("/imageserver/wmsserver"),s=e.includes("/wmsserver");return n&&(i||r||s)}const oY=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function Mw(t){if(!Ow(t))return null;const e=i=>i instanceof RegExp?i.test(t):typeof i=="string"&&t.startsWith(i),n=oe.apiKeys;if(Array.isArray(n.scopes)){for(const i of n.scopes)if(Array.isArray(i.urls)){if(i.urls.some(e))return i.token}else if(e(i.urls))return i.token}return n.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?n.basemapStyles:oe.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?oe.apiKey:null}function Iw(){return oe.apiKey!=null||oe.apiKeys.basemapStyles!=null}function aY(t,e){return e?Ow(t):Mw(t)!=null}function Ow(t){const e=Mr(t,!0);return!!e&&!oY.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function V6(t,e,n=!1,i){return new Promise((r,s)=>{if(Ho(i))return void s(z6());let o=()=>{c(),s(new Error(`Unable to load ${e}`))},a=async()=>{const p=t;try{await p.decode()}catch{}c(),r(p)},l=()=>{if(!t)return;const p=t;c(),p.src="",s(z6())};const c=()=>{t&&(t.removeEventListener("error",o),t.removeEventListener("load",a),o=null,a=null,t=null,i?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(e))};i?.addEventListener("abort",l),t.addEventListener("error",o),t.addEventListener("load",a)})}function z6(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const B6="Timeout exceeded";function lY(){return new Error(B6)}function cY(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===B6}function uY(t){oe.request.crossOriginNoCorsDomains||(oe.request.crossOriginNoCorsDomains={});const e=oe.request.crossOriginNoCorsDomains;for(let n of t)n=n.toLowerCase(),/^https?:\/\//.test(n)?e[Mr(n)??""]=0:(e[Mr("http://"+n)??""]=0,e[Mr("https://"+n)??""]=0)}function hY(t){const e=oe.request.crossOriginNoCorsDomains;if(e){let n=Mr(t);if(n)return n=n.toLowerCase(),!Ya(n,pw())&&e[n]<Date.now()-36e5}return!1}async function pY(t){const e=Yr(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const n=oe.request.crossOriginNoCorsDomains,i=Mr(t);n&&i&&(n[i.toLowerCase()]=Date.now())}const Nw=new Map;function dY(t,e){const n=e?.preferredHost;if(!n||Ya(t,`https://${n}`,!0))return;const i=Wd(t);if(!i||i.serverType!=="FeatureServer"||cw(t))return;const r=i.url.path.toLowerCase();Nw.has(r)||Nw.set(r,n)}function W6(t){const e=Wd(t)?.url.path.toLowerCase();if(!e)return t;const n=Nw.get(e);return n?O6(t,n):t}async function pn(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=Uy(e.query.toString().replaceAll("+"," ")));const n=xc(t),i=zy(t);i||n||(t=Qo(t));const r={url:t,requestOptions:{...e}},s=y=>({data:y,getAllHeaders:uh,getHeader:uh,httpStatus:200,requestOptions:r.requestOptions,url:r.url}),o=fw(t,Xr.internalInterceptors);if(o){const y=await J6(o,r);if(y!=null)return s(y)}let a=fw(t);if(a){const y=await J6(a,r);if(y!=null)return s(y);a.after||a.error||(a=null)}if(t=r.url,(e=r.requestOptions).responseType==="image"&&(Q("host-webworker")||Q("host-node")))throw ks("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),r);if(e.method==="head"){if(e.body)throw ks("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),r);if(n||i)throw ks("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),r)}if(await vY(),Yy)return Yy.execute(t,e);const l=new AbortController,c=yc(e,()=>l.abort()),p={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:r,redoRequest:!1,useIdentity:Xr.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=e.useRequestQueue?EY(p):kw(p),f=await d.finally(()=>c?.remove());return a?.after?.(f),f}let Yy,q6=!1;const Xr=oe.request,H6="FormData"in globalThis,fY=new Set([499,498,403,401]),mY=new Set(["COM_0056","COM_0057","SB_0008"]),yY=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],uh=()=>null,Jy=Symbol();function gY(t){const e=Mr(t);e&&!pn._corsServers.includes(e)&&pn._corsServers.push(e)}function Z6(t){const e=Mr(t);return!e||e.endsWith(".arcgis.com")||pn._corsServers.includes(e)||mw(e)}function ks(t,e,n,i){let r;const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:uh,getHeader:uh,ssl:!1};if(e instanceof ie)return e.details?(e.details=ht(e.details),e.details.url=n.url,e.details.requestOptions=n.requestOptions):e.details=s,e;if(e){const o=i&&(()=>Array.from(i.headers)),a=i&&(p=>i.headers.get(p)),l=i?.status,c=e.message;c&&(r=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?(s.messages=[e.details],r??=e.details):(s.messages=e.details,r??=s.messages?.[0]),s.raw=Jy in e?e[Jy]:e}return r??="Error",gc(e)?Gi():new ie(t,r,s)}async function vY(){Q("host-webworker")&&(!Yy&&globalThis.invokeStaticMessage?Yy=await import("./request-SyGVz67t.js"):q6=!0)}async function Cw(){Le||await import("./IdentityManager-BsWiUK-0.js")}async function bY(t){const e=t.params.url,n=t.params.requestOptions,i=t.controller.signal,r=n.body;let s=null,o=null;if(H6&&"HTMLFormElement"in globalThis&&(r instanceof FormData?s=r:r instanceof HTMLFormElement&&(s=new FormData(r))),typeof r=="string"&&(o=r),t.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},keepalive:n.keepAlive??!1,method:n.method==="head"?"HEAD":"GET",mode:"cors",priority:Xr.priority,redirect:"follow",signal:i},(s||o)&&(t.fetchOptions.body=s||o),(q6||n.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||n.query?.token||s?.get("token")),!t.hasToken){const a=Mw(e);a&&(n.query??={},n.query.token=a,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!Y6(e)&&!Ho(i)){let a;n.authMode==="immediate"?(await Cw(),a=await Le.getCredential(e,{signal:i})):n.authMode==="no-prompt"?(await Cw(),a=await Le.getCredential(e,{prompt:!1,signal:i}).catch(()=>{})):Le&&(a=Le.findCredential(e)),a&&(t.credential=a,t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function Y6(t){return yY.some(e=>e.test(t))}async function _Y(t){let e=t.params.url,n=W6(e);const i=t.params.requestOptions,r=t.fetchOptions??{},s=zy(e)||xc(e),o=i.responseType||"json",a=s?0:i.timeout!=null?i.timeout:Xr.timeout;let l=!1;if(!s){t.useSSL&&(e=By(e));let y={...i.query};t.credentialToken&&(y.token=t.credentialToken);let g=oh(y);Q("esri-url-encodes-apostrophe")&&(g=g.replaceAll("'","%27"));const b=n.length+1+g.length;let x;l=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||b>Xr.maxUrlLength;const A=i.useProxy||!!Vd(e);if(A){const T=x6(e);x=T.path,!l&&x.length+1+b>Xr.maxUrlLength&&(l=!0),T.query&&(y={...T.query,...y})}if(r.method==="HEAD"&&(l||A)){if(l)throw b>Xr.maxUrlLength?ks("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):ks("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(A)throw ks("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}l?(r.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?e=qy(e,y):(r.body=oh(y),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):e=qy(e,y),A&&(t.useProxy=!0,e=`${x}?${e}`),y.token&&H6&&r.body instanceof FormData&&!cw(e)&&r.body.set("token",y.token),i.hasOwnProperty("withCredentials")?t.withCredentials=i.withCredentials:Ya(e,pw())||(mw(e)||Le&&Le.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(r.credentials="include",hY(e)&&await pY(l?qy(e,y):e)),n=W6(e)}let c,p,d=0,f=!1;a>0&&(d=setTimeout(()=>{f=!0,t.controller.abort()},a));try{if(i.responseType==="native-request-init")p=r,p.url=n,i.signal?p.signal=i.signal:delete p.signal;else if(i.responseType!=="image"||r.cache!=="default"||r.keepalive||r.method!=="GET"||l||wY(i.headers)||!s&&!t.useProxy&&Xr.proxyUrl&&!Z6(e)){if(pn._beforeFetch&&await pn._beforeFetch(e,r),c=await fetch(n,r),pn._afterFetch&&await pn._afterFetch(c),t.useProxy||gY(e),i.responseType==="native")p=c;else if(r.method!=="HEAD")if(c.ok){switch(o){case"array-buffer":p=await c.arrayBuffer();break;case"blob":case"image":p=await c.blob();break;default:p=await c.text()}if(d&&(clearTimeout(d),d=0),o==="json"||o==="xml"||o==="document")if(p)switch(o){case"json":p=JSON.parse(p);break;case"xml":p=X6(p,"application/xml");break;case"document":p=X6(p,"text/html")}else p=null;if(p){if(o==="array-buffer"||o==="blob"){const y=c.headers.get("Content-Type");if(y&&/application\/json|text\/plain/i.test(y)&&p[o==="blob"?"size":"byteLength"]<=750)try{const g=await new Response(p).json();g.error&&(p=g)}catch{}}o==="image"&&p instanceof Blob&&(p=await Q6(URL.createObjectURL(p),t,!0))}}else{p=await c.text();try{p=JSON.parse(p)}catch{}}}else p=await Q6(n,t)}catch(y){if(y.name==="AbortError")throw f?lY():Gi("Request canceled");if(!(!c&&y instanceof TypeError&&Xr.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||t.useProxy||Z6(e))throw y;t.redoRequest=!0,TZ({proxyUrl:Xr.proxyUrl,urlPrefix:Mr(e)??""})}finally{d&&clearTimeout(d)}return[c,p]}async function J6(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let n,i;try{i=await t.before(e)}catch(r){n=ks("request:interceptor",r,e)}if((i instanceof Error||i instanceof ie)&&(n=ks("request:interceptor",i,e)),n)throw t.error&&t.error(n),n;return i}}function wY(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function X6(t,e){let n;try{n=new DOMParser().parseFromString(t,e)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}pn._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],pn._beforeFetch=void 0,pn._afterFetch=void 0;const xY=new Map;async function EY(t){const e=AY(t.params.url);if(!e)return kw(t);const{QueueProcessor:n}=await import("./QueueProcessor-BN5Tk07G.js");return __(xY,e.origin,()=>{const i=e.isHosted?Q("request-queue-concurrency-hosted"):Q("request-queue-concurrency-non-hosted");return new n({concurrency:i,process:r=>{if(Ho(r.params.requestOptions))throw ks("",Gi("Request canceled"),r.params);return kw(r)}})}).push(t)}async function kw(t){let e,n;await bY(t);try{do[e,n]=await _Y(t);while(!await SY(t,e,n))}catch(s){const o=ks("request:server",s,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const i=t.params.url;if(n)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!t.hasToken&&!t.credentialToken&&n.user?.username&&!mw(i)){const s=Mr(i,!0);s&&Xr.trustedServers.push(s)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&uY(n.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&dY(i,n);const r=t.credential;if(r&&Le){let s=Le.findServerInfo(r.server)?.owningSystemUrl;if(s){s=s.replace(/\/?$/,"/sharing");const o=Le.findCredential(s,r.userId);o&&Le._getIdenticalSvcIdx(s,o)===-1&&o.resources.unshift(s)}}return{data:n,getAllHeaders:e?()=>Array.from(e.headers):uh,getHeader:e?s=>e.headers.get(s):uh,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function SY(t,e,n){if(t.redoRequest)return t.redoRequest=!1,!1;const i=t.params.requestOptions;if(!e||i.responseType==="native"||i.responseType==="native-request-init")return!0;let r,s;if(n&&(n.error&&typeof n.error=="object"?r=n.error:n.status==="error"&&Array.isArray(n.messages)&&(r={...n},r[Jy]=n,r.details=n.messages)),!r&&!e.ok)throw r=new Error(`Unable to load ${e.url} status: ${e.status}`),r[Jy]=n,r;let o,a=null;r&&(s=Number(r.code),a=r.hasOwnProperty("subcode")?Number(r.subcode):null,o=r.messageCode,o=o?.toUpperCase());const l=i.authMode;if(s===403&&(a===4||r.message?.toLowerCase().includes("ssl")&&!r.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&fY.has(s)&&!Y6(t.params.url)&&(s!==403||(!o||!mY.has(o))&&(a==null||a===2&&t.credentialToken))){await Cw();try{const c=await Le.getCredential(t.params.url,{error:ks("request:server",r,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=c,t.credentialToken=c.token,t.useSSL=t.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;r=c}}if(r)throw r;return!0}function Q6(t,e,n=!1){const i=e.controller.signal,r=new Image;return e.withCredentials?r.crossOrigin="use-credentials":r.crossOrigin="anonymous",r.alt="",r.fetchPriority=Xr.priority,r.src=t,V6(r,t,n,i)}function AY(t){let e,n;return typeof t=="string"?(e=Mr(t,!0),n=Tw(t)):(e=t.origin,n=Tw(t.toString())),e==null?null:{origin:e,isHosted:n}}function K6(t){if(!oe.assetsPath)throw Oe.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ie("assets:path-not-set","config.assetsPath is not set");return zd(oe.assetsPath,t)}let Pw,B=null;function t8(){return!!B}function TY(){return!!Q("esri-wasm")}function e8(){return Pw||(Pw=import("./pe-wasm-BZuydchS.js").then(({default:t})=>t({locateFile:e=>K6(`esri/geometry/support/${e}`)})).then(t=>{h8(t)}),Pw)}const qd={geogToProj(t,e,n){B.ensureCache.prepare();const i=Ac(n),r=n===i,s=B.ensureFloat64(i),o=B._pe_geog_to_proj(B.getPointer(t),e,s);return o&&Ja(n,e,s,r),o},projGeog(t,e,n,i){switch(i){case Je.PE_TRANSFORM_P_TO_G:return qd.projToGeog(t,e,n);case Je.PE_TRANSFORM_G_TO_P:return qd.geogToProj(t,e,n)}return 0},projToGeog:(t,e,n)=>qd.projToGeogCenter(t,e,n,0),projToGeogCenter(t,e,n,i){B.ensureCache.prepare();const r=Ac(n),s=n===r,o=B.ensureFloat64(r),a=B._pe_proj_to_geog_center(B.getPointer(t),e,o,i);return a&&Ja(n,e,o,s),a}};let Je=class ce{static init(){ce.PE_BUFFER_MAX=B.PeDefs.prototype.PE_BUFFER_MAX,ce.PE_NAME_MAX=B.PeDefs.prototype.PE_NAME_MAX,ce.PE_MGRS_MAX=B.PeDefs.prototype.PE_MGRS_MAX,ce.PE_USNG_MAX=B.PeDefs.prototype.PE_USNG_MAX,ce.PE_DD_MAX=B.PeDefs.prototype.PE_DD_MAX,ce.PE_DDM_MAX=B.PeDefs.prototype.PE_DDM_MAX,ce.PE_DMS_MAX=B.PeDefs.prototype.PE_DMS_MAX,ce.PE_UTM_MAX=B.PeDefs.prototype.PE_UTM_MAX,ce.PE_PARM_MAX=B.PeDefs.prototype.PE_PARM_MAX,ce.PE_TYPE_NONE=B.PeDefs.prototype.PE_TYPE_NONE,ce.PE_TYPE_GEOGCS=B.PeDefs.prototype.PE_TYPE_GEOGCS,ce.PE_TYPE_PROJCS=B.PeDefs.prototype.PE_TYPE_PROJCS,ce.PE_TYPE_GEOGTRAN=B.PeDefs.prototype.PE_TYPE_GEOGTRAN,ce.PE_TYPE_COORDSYS=B.PeDefs.prototype.PE_TYPE_COORDSYS,ce.PE_TYPE_UNIT=B.PeDefs.prototype.PE_TYPE_UNIT,ce.PE_TYPE_LINUNIT=B.PeDefs.prototype.PE_TYPE_LINUNIT,ce.PE_STR_OPTS_NONE=B.PeDefs.prototype.PE_STR_OPTS_NONE,ce.PE_STR_AUTH_NONE=B.PeDefs.prototype.PE_STR_AUTH_NONE,ce.PE_STR_AUTH_TOP=B.PeDefs.prototype.PE_STR_AUTH_TOP,ce.PE_STR_NAME_CANON=B.PeDefs.prototype.PE_STR_NAME_CANON,ce.PE_STR_FMT_WKT=B.PeDefs.prototype.PE_STR_FMT_WKT,ce.PE_STR_FMT_WKT2=B.PeDefs.prototype.PE_STR_FMT_WKT2,ce.PE_PARM_X0=B.PeDefs.prototype.PE_PARM_X0,ce.PE_PARM_ND=B.PeDefs.prototype.PE_PARM_ND,ce.PE_TRANSFORM_1_TO_2=B.PeDefs.prototype.PE_TRANSFORM_1_TO_2,ce.PE_TRANSFORM_2_TO_1=B.PeDefs.prototype.PE_TRANSFORM_2_TO_1,ce.PE_TRANSFORM_P_TO_G=B.PeDefs.prototype.PE_TRANSFORM_P_TO_G,ce.PE_TRANSFORM_G_TO_P=B.PeDefs.prototype.PE_TRANSFORM_G_TO_P,ce.PE_HORIZON_RECT=B.PeDefs.prototype.PE_HORIZON_RECT,ce.PE_HORIZON_POLY=B.PeDefs.prototype.PE_HORIZON_POLY,ce.PE_HORIZON_LINE=B.PeDefs.prototype.PE_HORIZON_LINE,ce.PE_HORIZON_DELTA=B.PeDefs.prototype.PE_HORIZON_DELTA}},n8=null;const i8={},r8={},s8=t=>{const e=t.getType();switch(e){case Je.PE_TYPE_GEOGCS:t=B.castObject(t,B.PeGeogcs);break;case Je.PE_TYPE_PROJCS:t=B.castObject(t,B.PeProjcs);break;case Je.PE_TYPE_GEOGTRAN:t=B.castObject(t,B.PeGeogtran);break;default:e&Je.PE_TYPE_UNIT&&(t=B.castObject(t,B.PeUnit))}return t},Sc={initialize(){B.PeFactory.prototype.initialize(null)},coordsys:t=>Sc.factoryByType(Je.PE_TYPE_COORDSYS,t),factoryByType(t,e){let n=null,i=i8[t];if(i||(i={},i8[t]=i),i.hasOwnProperty(String(e))&&(n=i[e],B.compare(n,B.NULL)&&(n=null)),!n){const r=B.PeFactory.prototype.factoryByType(t,e);B.compare(r,B.NULL)||(n=s8(r),i[e]=n)}return n},fromString(t,e){let n=null,i=r8[t];if(i||(i={},r8[t]=i),i.hasOwnProperty(e)&&(n=i[e],B.compare(n,B.NULL)&&(n=null)),!n){const r=B.PeFactory.prototype.fromString(t,e);B.compare(r,B.NULL)||(n=s8(r),i[e]=n)}return n},geogcs:t=>Sc.factoryByType(Je.PE_TYPE_GEOGCS,t),geogtran:t=>Sc.factoryByType(Je.PE_TYPE_GEOGTRAN,t),getCode:t=>B.PeFactory.prototype.getCode(t),projcs:t=>Sc.factoryByType(Je.PE_TYPE_PROJCS,t),unit:t=>Sc.factoryByType(Je.PE_TYPE_UNIT,t)};let o8,a8=null;const Lw={PE_GTLIST_OPTS_COMMON:0,init(){Lw.PE_GTLIST_OPTS_COMMON=B.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,o8=B._pe_getPeGTlistExtendedEntrySize()},getGTlist(t,e,n,i,r,s){let o=null;const a=new B.PeInteger(s);try{const l=B.PeGTlistExtended.prototype.getGTlist(t,e,n,i,r,a);if((s=a.val)&&(o=[l],s>1)){const c=B.getPointer(l);for(let p=1;p<s;p++)o.push(B.wrapPointer(c+o8*p,B.PeGTlistExtendedEntry))}}finally{B.destroy(a)}return o}},MY={destroy(t){if(t?.length){for(const e of t)Ps(e),e.getEntries().forEach(n=>{Ps(n);const i=n.getGeogtran();Ps(i),i.getParameters().forEach(Ps),[i.getGeogcs1(),i.getGeogcs2()].forEach(r=>{Ps(r);const s=r.getDatum();Ps(s),Ps(s.getSpheroid()),Ps(r.getPrimem()),Ps(r.getUnit())})});B.PeGTlistExtendedEntry.prototype.Delete(t[0])}}},l8={geogToGeog(t,e,n,i,r){B.ensureCache.prepare();const s=Ac(n),o=n===s,a=B.ensureFloat64(s);let l=0;i&&(l=B.ensureFloat64(i));const c=B._pe_geog_to_geog(B.getPointer(t),e,a,l,r);return c&&Ja(n,e,a,o),c}},IY={geodesicCoordinate(t,e,n,i,r,s,o,a){B.PeLineType.prototype.geodesic_coordinate(t,e,n,i,r,s,o,a)},geodeticCoordinate(t,e,n,i,r,s,o,a,l){B.PeLineType.prototype.geodetic_coordinate(t,e,n,i,r,s,o,a,l)},geodeticDistance(t,e,n,i,r,s,o,a,l,c){B.PeLineType.prototype.geodetic_distance(t,e,n,i,r,s,o,a,l,c)},greatEllipticDistance(t,e,n,i,r,s,o,a,l){B.PeLineType.prototype.great_elliptic_distance(t,e,n,i,r,s,o,a,l)}},OY={phiToEta:(t,e)=>B.PeMath.prototype.phi_to_eta(t,e),etaToPhi:(t,e)=>B.PeMath.prototype.eta_to_phi(t,e),phiToPhig:(t,e)=>B.PeMath.prototype.phi_to_phig(t,e),q:(t,e,n)=>B.PeMath.prototype.q(t,e,n),q90:(t,e)=>B.PeMath.prototype.q90(t,e)},Rw=(t,e,n,i,r,s)=>{let o,a;switch(B.ensureCache.prepare(),t){case"dd":o=B._pe_geog_to_dd,a=Je.PE_DD_MAX;break;case"ddm":o=B._pe_geog_to_ddm,a=Je.PE_DDM_MAX;break;case"dms":o=B._pe_geog_to_dms,a=Je.PE_DMS_MAX}let l=0;e&&(l=B.getPointer(e));const c=Ac(i),p=B.ensureFloat64(c),d=Xy(n,a),f=o(l,n,p,r,B.ensureInt32(d));if(f)for(let y=0;y<n;y++)s[y]=B.UTF8ToString(d[y]);return f},Dw=(t,e,n,i,r)=>{let s;switch(B.ensureCache.prepare(),t){case"dd":s=B._pe_dd_to_geog;break;case"ddm":s=B._pe_ddm_to_geog;break;case"dms":s=B._pe_dms_to_geog}let o=0;e&&(o=B.getPointer(e));const a=i.map(d=>B.ensureString(d)),l=B.ensureInt32(a),c=B.ensureFloat64(new Array(2*n)),p=s(o,n,l,c);return p&&Ja(r,n,c),p},c8={geogToDms:(t,e,n,i,r)=>Rw("dms",t,e,n,i,r),dmsToGeog:(t,e,n,i)=>Dw("dms",t,e,n,i),geogToDdm:(t,e,n,i,r)=>Rw("ddm",t,e,n,i,r),ddmToGeog:(t,e,n,i)=>Dw("ddm",t,e,n,i),geogToDd:(t,e,n,i,r)=>Rw("dd",t,e,n,i,r),ddToGeog:(t,e,n,i)=>Dw("dd",t,e,n,i)};let Fw=class bd{static init(){bd.PE_MGRS_STYLE_NEW=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,bd.PE_MGRS_STYLE_OLD=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,bd.PE_MGRS_STYLE_AUTO=B.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,bd.PE_MGRS_180_ZONE_1_PLUS=B.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,bd.PE_MGRS_ADD_SPACES=B.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,n,i,r,s,o,a){B.ensureCache.prepare();let l=0;e&&(l=B.getPointer(e));const c=Ac(i),p=B.ensureFloat64(c),d=Xy(n,Je.PE_MGRS_MAX),f=B.ensureInt32(d),y=B._pe_geog_to_mgrs_extended(l,n,p,r,s,o,f);if(y)for(let g=0;g<n;g++)a[g]=B.UTF8ToString(d[g]);return y}static mgrsToGeogExtended(e,n,i,r,s){B.ensureCache.prepare();let o=0;e&&(o=B.getPointer(e));const a=i.map(d=>B.ensureString(d)),l=B.ensureInt32(a),c=B.ensureFloat64(new Array(2*n)),p=B._pe_mgrs_to_geog_extended(o,n,l,r,c);return p&&Ja(s,n,c),p}};const u8={geogToUsng(t,e,n,i,r,s,o){B.ensureCache.prepare();let a=0;t&&(a=B.getPointer(t));const l=Ac(n),c=B.ensureFloat64(l),p=Xy(e,Je.PE_MGRS_MAX),d=B.ensureInt32(p),f=B._pe_geog_to_usng(a,e,c,i,r,s,d);if(f)for(let y=0;y<e;y++)o[y]=B.UTF8ToString(p[y]);return f},usngToGeog(t,e,n,i){B.ensureCache.prepare();let r=0;t&&(r=B.getPointer(t));const s=n.map(c=>B.ensureString(c)),o=B.ensureInt32(s),a=B.ensureFloat64(new Array(2*e)),l=B._pe_usng_to_geog(r,e,o,a);return l&&Ja(i,e,a),l}};let jw=class Yb{static init(){Yb.PE_UTM_OPTS_NONE=B.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,Yb.PE_UTM_OPTS_ADD_SPACES=B.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,Yb.PE_UTM_OPTS_NS=B.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,n,i,r,s){B.ensureCache.prepare();let o=0;e&&(o=B.getPointer(e));const a=Ac(i),l=B.ensureFloat64(a),c=Xy(n,Je.PE_UTM_MAX),p=B.ensureInt32(c),d=B._pe_geog_to_utm(o,n,l,r,p);if(d)for(let f=0;f<n;f++)s[f]=B.UTF8ToString(c[f]);return d}static utmToGeog(e,n,i,r,s){B.ensureCache.prepare();let o=0;e&&(o=B.getPointer(e));const a=i.map(d=>B.ensureString(d)),l=B.ensureInt32(a),c=B.ensureFloat64(new Array(2*n)),p=B._pe_utm_to_geog(o,n,l,r,c);return p&&Ja(s,n,c),p}},Gw=class Va{static{this.cache=new Map}static init(){Va.PE_PCSINFO_OPTION_NONE=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Va.PE_PCSINFO_OPTION_DOMAIN=B.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Va.PE_POLE_OUTSIDE_BOUNDARY=B.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Va.PE_POLE_POINT=B.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,n=Va.PE_PCSINFO_OPTION_DOMAIN){let i=null,r=null;return Va.cache.has(e)&&(r=Va.cache.get(e),r[n]&&(i=r[n])),i||(i=B.PePCSInfo.prototype.generate(e,n),r||(r=[],Va.cache.set(e,r)),r[n]=i),i}};const NY={versionString:()=>B.PeVersion.prototype.version_string()};function h8(t){function e(s,o,a){s[o]=a(s[o])}B=t,Je.init(),Lw.init(),Fw.init(),jw.init(),Gw.init(),n8=class extends B.PeDouble{constructor(s=NaN){super(s)}destroy(){B.destroy(this)}[Symbol.dispose](){this.destroy()}},a8=class extends B.PeGCSExtent{destroy(){B.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[B.PeAngunit,B.PeDatum,B.PeGeogcs,B.PeGeogtran,B.PeObject,B.PeParameter,B.PePrimem,B.PeProjcs,B.PeSpheroid,B.PeUnit];for(const s of n)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(Je.PE_NAME_MAX))});for(const s of[B.PeGeogtran,B.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(Je.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const p=B.getValue(l,"*");a[c]=p?B.wrapPointer(p,B.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(B.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Ja(l,a,s.call(this),o),l}),e(B.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=B._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!B.compare(l,B.NULL)){a=[l];const c=this.getSteps();if(c>1){const p=B.getPointer(l);for(let d=1;d<c;d++)a.push(B.wrapPointer(p+o*d,B.PeGTlistExtendedGTs))}}return a}});const i=B._pe_getPeHorizonSize(),r=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!B.compare(l,B.NULL)){a=[l];const c=l.getNump();if(c>1){const p=B.getPointer(l);for(let d=1;d<c;d++)a.push(B.wrapPointer(p+i*d,B.PeHorizon))}}return o.set(s,a),a};e(B.PeProjcs.prototype,"horizonGcsGenerate",r),e(B.PeProjcs.prototype,"horizonPcsGenerate",r),B.PeObject.prototype.toString=function(s=Je.PE_STR_OPTS_NONE){B.ensureCache.prepare();const o=B.getPointer(this),a=B.ensureInt8(new Array(Je.PE_BUFFER_MAX));return B.UTF8ToString(B._pe_object_to_string_ext(o,s,a))},B.PeGeogcs.prototype.destroy=function(){this.Delete(),Ps(this),this.ptr=0},B.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},B.PeProjcs.prototype.destroy=function(){this.Delete(),Ps(this),this.ptr=0},B.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Ps(t){if(!t)return;const e=B.getClass(t);if(!e)return;const n=B.getCache(e);if(!n)return;const i=B.getPointer(t);i&&delete n[i]}function Xy(t,e){const n=[],i=new Array(e);for(let r=0;r<t;r++)n.push(B.ensureInt8(i));return n}function Ac(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function Ja(t,e,n,i=!1){if(i)for(let r=0;r<2*e;r++)t[r]=B.getValue(n+r*Float64Array.BYTES_PER_ELEMENT,"double");else{const r=t.length===0;for(let s=0;s<e;s++)r&&(t[s]=new Array(2)),t[s][0]=B.getValue(n,"double"),t[s][1]=B.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}const CY=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:qd,PeDefs:Je,get PeDouble(){return n8},PeFactory:Sc,get PeGCSExtent(){return a8},PeGTTransformations:l8,PeGTlistExtended:Lw,PeGTlistExtendedEntry:MY,PeLineType:IY,PeMath:OY,PeNotationDms:c8,PeNotationMgrs:Fw,PeNotationUsng:u8,PeNotationUtm:jw,PePCSInfo:Gw,PeVersion:NY,_init:h8,get _pe(){return B},isLoaded:t8,isSupported:TY,load:e8},Symbol.toStringTag,{value:"Module"}));let h;const O={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(h=2e3;h<=2045;h++)O[h]=0;for(h=2056;h<=2065;h++)O[h]=0;for(h=2067;h<=2135;h++)O[h]=0;for(h=2137;h<=2154;h++)O[h]=0;for(h=2161;h<=2170;h++)O[h]=0;for(h=2172;h<=2193;h++)O[h]=0;for(h=2195;h<=2198;h++)O[h]=0;for(h=2200;h<=2203;h++)O[h]=0;for(h=2205;h<=2217;h++)O[h]=0;for(h=2222;h<=2224;h++)O[h]=1;for(h=2225;h<=2250;h++)O[h]=2;for(h=2251;h<=2253;h++)O[h]=1;for(h=2257;h<=2264;h++)O[h]=2;for(h=2274;h<=2279;h++)O[h]=2;for(h=2280;h<=2282;h++)O[h]=1;for(h=2283;h<=2289;h++)O[h]=2;for(h=2290;h<=2292;h++)O[h]=0;for(h=2308;h<=2313;h++)O[h]=0;for(h=2315;h<=2491;h++)O[h]=0;for(h=2494;h<=2866;h++)O[h]=0;for(h=2867;h<=2869;h++)O[h]=1;for(h=2870;h<=2888;h++)O[h]=2;for(h=2891;h<=2895;h++)O[h]=2;for(h=2896;h<=2898;h++)O[h]=1;for(h=2902;h<=2908;h++)O[h]=2;for(h=2915;h<=2920;h++)O[h]=2;for(h=2921;h<=2923;h++)O[h]=1;for(h=2924;h<=2930;h++)O[h]=2;for(h=2931;h<=2962;h++)O[h]=0;for(h=2964;h<=2968;h++)O[h]=2;for(h=2969;h<=2973;h++)O[h]=0;for(h=2975;h<=2991;h++)O[h]=0;for(h=2995;h<=3051;h++)O[h]=0;for(h=3054;h<=3079;h++)O[h]=0;for(h=3081;h<=3088;h++)O[h]=0;for(h=3092;h<=3101;h++)O[h]=0;for(h=3106;h<=3138;h++)O[h]=0;for(h=3146;h<=3151;h++)O[h]=0;for(h=3153;h<=3166;h++)O[h]=0;for(h=3168;h<=3172;h++)O[h]=0;for(h=3174;h<=3203;h++)O[h]=0;for(h=3294;h<=3358;h++)O[h]=0;for(h=3367;h<=3403;h++)O[h]=0;for(h=3408;h<=3416;h++)O[h]=0;for(h=3417;h<=3438;h++)O[h]=2;for(h=3441;h<=3446;h++)O[h]=2;for(h=3447;h<=3450;h++)O[h]=0;for(h=3451;h<=3459;h++)O[h]=2;for(h=3460;h<=3478;h++)O[h]=0;for(h=3554;h<=3559;h++)O[h]=0;for(h=3560;h<=3570;h++)O[h]=2;for(h=3571;h<=3581;h++)O[h]=0;for(h=3594;h<=3597;h++)O[h]=0;for(h=3601;h<=3604;h++)O[h]=0;for(h=3637;h<=3639;h++)O[h]=0;for(h=3665;h<=3667;h++)O[h]=0;for(h=3693;h<=3695;h++)O[h]=0;for(h=3701;h<=3727;h++)O[h]=0;for(h=3728;h<=3739;h++)O[h]=2;for(h=3740;h<=3751;h++)O[h]=0;for(h=3753;h<=3760;h++)O[h]=2;for(h=3761;h<=3773;h++)O[h]=0;for(h=3775;h<=3777;h++)O[h]=0;for(h=3779;h<=3781;h++)O[h]=0;for(h=3783;h<=3785;h++)O[h]=0;for(h=3788;h<=3791;h++)O[h]=0;for(h=3797;h<=3802;h++)O[h]=0;for(h=3814;h<=3816;h++)O[h]=0;for(h=3825;h<=3829;h++)O[h]=0;for(h=3832;h<=3841;h++)O[h]=0;for(h=3844;h<=3852;h++)O[h]=0;for(h=3873;h<=3885;h++)O[h]=0;for(h=3890;h<=3893;h++)O[h]=0;for(h=3907;h<=3912;h++)O[h]=0;for(h=3942;h<=3950;h++)O[h]=0;for(h=3968;h<=3970;h++)O[h]=0;for(h=3973;h<=3976;h++)O[h]=0;for(h=3986;h<=3989;h++)O[h]=0;for(h=3994;h<=3997;h++)O[h]=0;for(h=4048;h<=4051;h++)O[h]=0;for(h=4056;h<=4063;h++)O[h]=0;for(h=4093;h<=4096;h++)O[h]=0;for(h=4390;h<=4398;h++)O[h]=0;for(h=4399;h<=4413;h++)O[h]=2;for(h=4418;h<=4433;h++)O[h]=2;for(h=4455;h<=4457;h++)O[h]=2;for(h=4484;h<=4489;h++)O[h]=0;for(h=4491;h<=4554;h++)O[h]=0;for(h=4568;h<=4589;h++)O[h]=0;for(h=4652;h<=4656;h++)O[h]=0;for(h=4766;h<=4800;h++)O[h]=0;for(h=5014;h<=5016;h++)O[h]=0;for(h=5069;h<=5072;h++)O[h]=0;for(h=5105;h<=5130;h++)O[h]=0;for(h=5167;h<=5188;h++)O[h]=0;for(h=5253;h<=5259;h++)O[h]=0;for(h=5269;h<=5275;h++)O[h]=0;for(h=5292;h<=5311;h++)O[h]=0;for(h=5329;h<=5331;h++)O[h]=0;for(h=5343;h<=5349;h++)O[h]=0;for(h=5355;h<=5357;h++)O[h]=0;for(h=5387;h<=5389;h++)O[h]=0;for(h=5459;h<=5463;h++)O[h]=0;for(h=5479;h<=5482;h++)O[h]=0;for(h=5518;h<=5520;h++)O[h]=0;for(h=5530;h<=5539;h++)O[h]=0;for(h=5550;h<=5552;h++)O[h]=0;for(h=5562;h<=5583;h++)O[h]=0;for(h=5623;h<=5625;h++)O[h]=2;for(h=5631;h<=5639;h++)O[h]=0;for(h=5649;h<=5653;h++)O[h]=0;for(h=5663;h<=5680;h++)O[h]=0;for(h=5682;h<=5685;h++)O[h]=0;for(h=5875;h<=5877;h++)O[h]=0;for(h=5896;h<=5899;h++)O[h]=0;for(h=5921;h<=5940;h++)O[h]=0;for(h=6050;h<=6125;h++)O[h]=0;for(h=6244;h<=6275;h++)O[h]=0;for(h=6328;h<=6348;h++)O[h]=0;for(h=6350;h<=6356;h++)O[h]=0;for(h=6366;h<=6372;h++)O[h]=0;for(h=6381;h<=6387;h++)O[h]=0;for(h=6393;h<=6404;h++)O[h]=0;for(h=6480;h<=6483;h++)O[h]=0;for(h=6511;h<=6514;h++)O[h]=0;for(h=6579;h<=6581;h++)O[h]=0;for(h=6619;h<=6624;h++)O[h]=0;for(h=6625;h<=6627;h++)O[h]=2;for(h=6628;h<=6632;h++)O[h]=0;for(h=6634;h<=6637;h++)O[h]=0;for(h=6669;h<=6692;h++)O[h]=0;for(h=6707;h<=6709;h++)O[h]=0;for(h=6720;h<=6723;h++)O[h]=0;for(h=6732;h<=6738;h++)O[h]=0;for(h=6931;h<=6933;h++)O[h]=0;for(h=6956;h<=6959;h++)O[h]=0;for(h=7005;h<=7007;h++)O[h]=0;for(h=7057;h<=7070;h++)O[h]=2;for(h=7074;h<=7082;h++)O[h]=0;for(h=7109;h<=7118;h++)O[h]=0;for(h=7119;h<=7127;h++)O[h]=1;for(h=7374;h<=7376;h++)O[h]=0;for(h=7528;h<=7586;h++)O[h]=0;for(h=7587;h<=7645;h++)O[h]=2;for(h=7692;h<=7696;h++)O[h]=0;for(h=7755;h<=7787;h++)O[h]=0;for(h=7791;h<=7795;h++)O[h]=0;for(h=7799;h<=7801;h++)O[h]=0;for(h=7803;h<=7805;h++)O[h]=0;for(h=7825;h<=7831;h++)O[h]=0;for(h=7845;h<=7859;h++)O[h]=0;for(h=8013;h<=8032;h++)O[h]=0;for(h=8065;h<=8068;h++)O[h]=1;for(h=8518;h<=8529;h++)O[h]=2;for(h=8533;h<=8536;h++)O[h]=2;for(h=8538;h<=8540;h++)O[h]=2;for(h=8677;h<=8679;h++)O[h]=0;for(h=8836;h<=8840;h++)O[h]=0;for(h=8857;h<=8859;h++)O[h]=0;for(h=8908;h<=8910;h++)O[h]=0;for(h=9154;h<=9159;h++)O[h]=0;for(h=9205;h<=9218;h++)O[h]=0;for(h=9271;h<=9273;h++)O[h]=0;for(h=9295;h<=9297;h++)O[h]=0;for(h=9356;h<=9360;h++)O[h]=0;for(h=9404;h<=9407;h++)O[h]=0;for(h=9476;h<=9482;h++)O[h]=0;for(h=9487;h<=9494;h++)O[h]=0;for(h=9697;h<=9699;h++)O[h]=0;for(h=9821;h<=9865;h++)O[h]=0;for(h=10285;h<=10291;h++)O[h]=0;for(h=10314;h<=10317;h++)O[h]=0;for(h=10448;h<=10465;h++)O[h]=0;for(h=10726;h<=10729;h++)O[h]=0;for(h=10731;h<=10733;h++)O[h]=0;for(h=11114;h<=11118;h++)O[h]=0;for(h=20004;h<=20032;h++)O[h]=0;for(h=20047;h<=20049;h++)O[h]=0;for(h=20062;h<=20092;h++)O[h]=0;for(h=20135;h<=20138;h++)O[h]=0;for(h=20248;h<=20258;h++)O[h]=0;for(h=20348;h<=20358;h++)O[h]=0;for(h=20436;h<=20440;h++)O[h]=0;for(h=20822;h<=20824;h++)O[h]=0;for(h=20904;h<=20932;h++)O[h]=0;for(h=20934;h<=20936;h++)O[h]=0;for(h=21004;h<=21032;h++)O[h]=0;for(h=21035;h<=21037;h++)O[h]=0;for(h=21095;h<=21097;h++)O[h]=0;for(h=21148;h<=21150;h++)O[h]=0;for(h=21207;h<=21264;h++)O[h]=0;for(h=21307;h<=21364;h++)O[h]=0;for(h=21413;h<=21423;h++)O[h]=0;for(h=21453;h<=21463;h++)O[h]=0;for(h=21473;h<=21483;h++)O[h]=0;for(h=21780;h<=21782;h++)O[h]=0;for(h=21891;h<=21894;h++)O[h]=0;for(h=21896;h<=21899;h++)O[h]=0;for(h=22171;h<=22177;h++)O[h]=0;for(h=22181;h<=22187;h++)O[h]=0;for(h=22191;h<=22197;h++)O[h]=0;for(h=22207;h<=22222;h++)O[h]=0;for(h=22229;h<=22232;h++)O[h]=0;for(h=22234;h<=22236;h++)O[h]=0;for(h=22243;h<=22250;h++)O[h]=0;for(h=22262;h<=22265;h++)O[h]=0;for(h=22307;h<=22322;h++)O[h]=0;for(h=22348;h<=22357;h++)O[h]=0;for(h=22407;h<=22422;h++)O[h]=0;for(h=22462;h<=22465;h++)O[h]=0;for(h=22521;h<=22525;h++)O[h]=0;for(h=22607;h<=22622;h++)O[h]=0;for(h=22641;h<=22646;h++)O[h]=0;for(h=22648;h<=22657;h++)O[h]=0;for(h=22707;h<=22722;h++)O[h]=0;for(h=22762;h<=22765;h++)O[h]=0;for(h=22807;h<=22822;h++)O[h]=0;for(h=22991;h<=22994;h++)O[h]=0;for(h=23028;h<=23038;h++)O[h]=0;for(h=23301;h<=23333;h++)O[h]=2;for(h=23830;h<=23853;h++)O[h]=0;for(h=23866;h<=23872;h++)O[h]=0;for(h=23877;h<=23884;h++)O[h]=0;for(h=23886;h<=23894;h++)O[h]=0;for(h=23946;h<=23948;h++)O[h]=0;for(h=24311;h<=24313;h++)O[h]=0;for(h=24342;h<=24347;h++)O[h]=0;for(h=24370;h<=24374;h++)O[h]=10;for(h=24375;h<=24381;h++)O[h]=0;for(h=24718;h<=24721;h++)O[h]=0;for(h=24817;h<=24821;h++)O[h]=0;for(h=24877;h<=24882;h++)O[h]=0;for(h=24891;h<=24893;h++)O[h]=0;for(h=25391;h<=25395;h++)O[h]=0;for(h=25828;h<=25838;h++)O[h]=0;for(h=26191;h<=26195;h++)O[h]=0;for(h=26391;h<=26393;h++)O[h]=0;for(h=26701;h<=26722;h++)O[h]=0;for(h=26729;h<=26799;h++)O[h]=2;for(h=26801;h<=26803;h++)O[h]=2;for(h=26811;h<=26813;h++)O[h]=2;for(h=26847;h<=26870;h++)O[h]=2;for(h=26891;h<=26899;h++)O[h]=0;for(h=26901;h<=26923;h++)O[h]=0;for(h=26929;h<=26946;h++)O[h]=0;for(h=26948;h<=26998;h++)O[h]=0;for(h=27037;h<=27040;h++)O[h]=0;for(h=27205;h<=27232;h++)O[h]=0;for(h=27258;h<=27260;h++)O[h]=0;for(h=27391;h<=27398;h++)O[h]=0;for(h=27561;h<=27564;h++)O[h]=0;for(h=27571;h<=27574;h++)O[h]=0;for(h=27581;h<=27584;h++)O[h]=0;for(h=27591;h<=27594;h++)O[h]=0;for(h=27700;h<=27707;h++)O[h]=0;for(h=28191;h<=28193;h++)O[h]=0;for(h=28348;h<=28358;h++)O[h]=0;for(h=28402;h<=28432;h++)O[h]=0;for(h=28462;h<=28492;h++)O[h]=0;for(h=29118;h<=29122;h++)O[h]=0;for(h=29168;h<=29172;h++)O[h]=0;for(h=29177;h<=29185;h++)O[h]=0;for(h=29187;h<=29195;h++)O[h]=0;for(h=29900;h<=29903;h++)O[h]=0;for(h=30161;h<=30179;h++)O[h]=0;for(h=30491;h<=30494;h++)O[h]=0;for(h=30729;h<=30732;h++)O[h]=0;for(h=31251;h<=31259;h++)O[h]=0;for(h=31265;h<=31268;h++)O[h]=0;for(h=31275;h<=31279;h++)O[h]=0;for(h=31281;h<=31297;h++)O[h]=0;for(h=31461;h<=31469;h++)O[h]=0;for(h=31491;h<=31495;h++)O[h]=0;for(h=31917;h<=31922;h++)O[h]=0;for(h=31965;h<=32e3;h++)O[h]=0;for(h=32001;h<=32003;h++)O[h]=2;for(h=32005;h<=32031;h++)O[h]=2;for(h=32033;h<=32060;h++)O[h]=2;for(h=32064;h<=32067;h++)O[h]=2;for(h=32074;h<=32077;h++)O[h]=2;for(h=32081;h<=32086;h++)O[h]=0;for(h=32107;h<=32130;h++)O[h]=0;for(h=32133;h<=32159;h++)O[h]=0;for(h=32164;h<=32167;h++)O[h]=2;for(h=32180;h<=32199;h++)O[h]=0;for(h=32201;h<=32260;h++)O[h]=0;for(h=32301;h<=32360;h++)O[h]=0;for(h=32401;h<=32460;h++)O[h]=0;for(h=32501;h<=32560;h++)O[h]=0;for(h=32601;h<=32662;h++)O[h]=0;for(h=32664;h<=32667;h++)O[h]=2;for(h=32701;h<=32761;h++)O[h]=0;for(h=53001;h<=53004;h++)O[h]=0;for(h=53008;h<=53019;h++)O[h]=0;for(h=53021;h<=53032;h++)O[h]=0;for(h=53034;h<=53037;h++)O[h]=0;for(h=53042;h<=53046;h++)O[h]=0;for(h=53074;h<=53080;h++)O[h]=0;for(h=54001;h<=54004;h++)O[h]=0;for(h=54008;h<=54019;h++)O[h]=0;for(h=54021;h<=54032;h++)O[h]=0;for(h=54034;h<=54037;h++)O[h]=0;for(h=54042;h<=54046;h++)O[h]=0;for(h=54048;h<=54053;h++)O[h]=0;for(h=54074;h<=54080;h++)O[h]=0;for(h=54090;h<=54096;h++)O[h]=0;for(h=54098;h<=54101;h++)O[h]=0;for(h=65161;h<=65163;h++)O[h]=0;for(h=102001;h<=102040;h++)O[h]=0;for(h=102042;h<=102063;h++)O[h]=0;for(h=102065;h<=102067;h++)O[h]=0;for(h=102070;h<=102117;h++)O[h]=0;for(h=102122;h<=102216;h++)O[h]=0;for(h=102221;h<=102377;h++)O[h]=0;for(h=102382;h<=102388;h++)O[h]=0;for(h=102389;h<=102398;h++)O[h]=2;for(h=102399;h<=102444;h++)O[h]=0;for(h=102445;h<=102447;h++)O[h]=2;for(h=102448;h<=102458;h++)O[h]=0;for(h=102459;h<=102468;h++)O[h]=2;for(h=102469;h<=102499;h++)O[h]=0;for(h=102500;h<=102519;h++)O[h]=1;for(h=102520;h<=102524;h++)O[h]=0;for(h=102525;h<=102529;h++)O[h]=2;for(h=102530;h<=102588;h++)O[h]=0;for(h=102590;h<=102598;h++)O[h]=0;for(h=102601;h<=102603;h++)O[h]=0;for(h=102605;h<=102628;h++)O[h]=0;for(h=102629;h<=102646;h++)O[h]=2;for(h=102648;h<=102700;h++)O[h]=2;for(h=102701;h<=102703;h++)O[h]=0;for(h=102707;h<=102730;h++)O[h]=2;for(h=102733;h<=102758;h++)O[h]=2;for(h=102767;h<=102900;h++)O[h]=0;for(h=102901;h<=102933;h++)O[h]=2;for(h=102934;h<=102950;h++)O[h]=13;for(h=102951;h<=102963;h++)O[h]=0;for(h=102965;h<=102969;h++)O[h]=0;for(h=102971;h<=102973;h++)O[h]=0;for(h=102975;h<=102989;h++)O[h]=0;for(h=102990;h<=102992;h++)O[h]=1;for(h=102997;h<=103002;h++)O[h]=0;for(h=103003;h<=103008;h++)O[h]=2;for(h=103009;h<=103011;h++)O[h]=0;for(h=103012;h<=103014;h++)O[h]=2;for(h=103019;h<=103021;h++)O[h]=0;for(h=103022;h<=103024;h++)O[h]=2;for(h=103029;h<=103031;h++)O[h]=0;for(h=103032;h<=103034;h++)O[h]=2;for(h=103065;h<=103068;h++)O[h]=0;for(h=103074;h<=103076;h++)O[h]=0;for(h=103077;h<=103079;h++)O[h]=1;for(h=103080;h<=103082;h++)O[h]=0;for(h=103083;h<=103085;h++)O[h]=2;for(h=103090;h<=103093;h++)O[h]=0;for(h=103097;h<=103099;h++)O[h]=0;for(h=103100;h<=103102;h++)O[h]=2;for(h=103107;h<=103109;h++)O[h]=0;for(h=103110;h<=103112;h++)O[h]=2;for(h=103113;h<=103116;h++)O[h]=0;for(h=103117;h<=103120;h++)O[h]=2;for(h=103153;h<=103157;h++)O[h]=0;for(h=103158;h<=103162;h++)O[h]=2;for(h=103163;h<=103165;h++)O[h]=0;for(h=103166;h<=103168;h++)O[h]=1;for(h=103169;h<=103171;h++)O[h]=2;for(h=103186;h<=103188;h++)O[h]=0;for(h=103189;h<=103191;h++)O[h]=2;for(h=103192;h<=103195;h++)O[h]=0;for(h=103196;h<=103199;h++)O[h]=2;for(h=103200;h<=103224;h++)O[h]=0;for(h=103225;h<=103227;h++)O[h]=1;for(h=103232;h<=103237;h++)O[h]=0;for(h=103238;h<=103243;h++)O[h]=2;for(h=103244;h<=103246;h++)O[h]=0;for(h=103247;h<=103249;h++)O[h]=2;for(h=103254;h<=103256;h++)O[h]=0;for(h=103257;h<=103259;h++)O[h]=2;for(h=103264;h<=103266;h++)O[h]=0;for(h=103267;h<=103269;h++)O[h]=2;for(h=103300;h<=103375;h++)O[h]=0;for(h=103381;h<=103383;h++)O[h]=0;for(h=103384;h<=103386;h++)O[h]=1;for(h=103387;h<=103389;h++)O[h]=0;for(h=103390;h<=103392;h++)O[h]=2;for(h=103397;h<=103399;h++)O[h]=0;for(h=103400;h<=103471;h++)O[h]=2;for(h=103476;h<=103478;h++)O[h]=0;for(h=103479;h<=103481;h++)O[h]=2;for(h=103486;h<=103488;h++)O[h]=0;for(h=103489;h<=103491;h++)O[h]=2;for(h=103492;h<=103495;h++)O[h]=0;for(h=103496;h<=103499;h++)O[h]=2;for(h=103528;h<=103543;h++)O[h]=0;for(h=103544;h<=103548;h++)O[h]=2;for(h=103549;h<=103551;h++)O[h]=0;for(h=103552;h<=103554;h++)O[h]=1;for(h=103555;h<=103557;h++)O[h]=2;for(h=103558;h<=103560;h++)O[h]=0;for(h=103571;h<=103573;h++)O[h]=0;for(h=103574;h<=103576;h++)O[h]=2;for(h=103577;h<=103580;h++)O[h]=0;for(h=103581;h<=103583;h++)O[h]=2;for(h=103595;h<=103694;h++)O[h]=0;for(h=103696;h<=103699;h++)O[h]=0;for(h=103700;h<=103793;h++)O[h]=2;for(h=103794;h<=103890;h++)O[h]=0;for(h=103891;h<=103896;h++)O[h]=2;for(h=103900;h<=103971;h++)O[h]=2;for(h=103972;h<=103977;h++)O[h]=0;for(h=112e3;h<=112101;h++)O[h]=0;const p8=[102100,102113,3857,3785,900913],kY=[104905,104971],PY=[104903],LY=[4326,...p8,...kY,...PY],Hd=[-20037508342788905e-9,20037508342788905e-9],$w=[-20037508342787e-6,20037508342787e-6],Uw={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Hd,origin:$w,dx:1e-5},d8={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Hd,origin:$w,dx:1e-5},102100:Uw,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Hd,origin:$w,dx:1e-5},3857:Uw,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:Uw,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Xa(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const n=t.wkid,i=e.wkid;if(n!=null||i!=null){if(n===i||Qa(t)&&Qa(e))return!0;const o=t.latestWkid;if(o!=null&&i===o)return!0;const a=e.latestWkid;return a!=null&&n===a}let r,s;return t.wkt2&&e.wkt2?(r=t.wkt2,s=e.wkt2):t.wkt&&e.wkt&&(r=t.wkt,s=e.wkt),!(!r||!s)&&r.toUpperCase()===s.toUpperCase()}function hh(t){const e=t?.wkid;return e!=null&&e>=2e3&&d8[e]||null}function RY(t){if(!t)return;const{wkid:e,vcsWkid:n}=t;if(e)return n?JSON.stringify({wkid:e,vcsWkid:n}):String(e);const i=t.wkt||t.wkt2;return JSON.stringify(i?n?{wkt:i,vcsWkid:n}:{wkt:i}:{})}function ph(t){if(!Vw(t))return!1;const{wkid:e}=t;if(e)return O[e]==null;const n=t.wkt2||t.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function f8(t){return!(m8(t)||y8(t))}function Zd(t){return t?.wkid===4326}function DY(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function FY(t){return t?.wkid===4490}function Qa(t){const e=t?.wkid;return e!=null&&e>=2e3&&p8.includes(e)}function jY(t){return t?.wkid===32662}function Yd(t){return t===104971||t===104905}function m8(t){return Yd(t?.wkid)}function Jd(t){return t===104903}function y8(t){return Jd(t?.wkid)}function g8(t){const e=t?.wkid;return e!=null&&e>=2e3&&LY.includes(e)}function Vw(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const zw={wkid:4326,wkt:v_(d8[4326].wkTemplate,{Central_Meridian:"0.0"})},Bw={wkid:102100,latestWkid:3857},GY={wkid:32662};function Ww(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const v8=Ww(Zr),qw=Ww(rh),Hw=Ww(Gd),$Y={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Zr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},UY=qw.wkt.toUpperCase(),VY=Hw.wkt.toUpperCase();function b8(t){if(t!=null&&Vw(t)){const e=t.wkid,n=t.wkt2??t.wkt;if(Yd(e))return rh;const i=n?.toUpperCase();if(n&&i===UY)return rh;if(Jd(e)||i&&i===VY)return Gd}return Zr}function zY(t){return Yd(t)?rh:Jd(t)?Gd:Zr}function _8(t){return Xa(t,v8)}function BY(t){return _8(t)||Xa(t,qw)||Xa(t,Hw)}const WY=39.37,qY=Zr.radius*Math.PI/200,w8=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,dh=O,x8=/UNIT\[([^\]]+)]/i,E8=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),HY=Hr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Ls=t=>t*t,Ka=t=>t*t*t,Xd={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Ls(.001)},"square-centimeters":{inBaseUnits:Ls(.01)},"square-decimeters":{inBaseUnits:Ls(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Ls(1e3)},"square-inches":{inBaseUnits:Ls(.0254)},"square-feet":{inBaseUnits:Ls(.3048)},"square-yards":{inBaseUnits:Ls(.9144)},"square-miles":{inBaseUnits:Ls(1609.344)},"square-nautical-miles":{inBaseUnits:Ls(1852)},"square-us-feet":{inBaseUnits:Ls(1200/3937)},acres:{inBaseUnits:.0015625*Ls(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Ka(.001)},"cubic-centimeters":{inBaseUnits:1e3*Ka(.01)},"cubic-decimeters":{inBaseUnits:1e3*Ka(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Ka(1e3)},"cubic-inches":{inBaseUnits:1e3*Ka(.0254)},"cubic-feet":{inBaseUnits:1e3*Ka(.3048)},"cubic-yards":{inBaseUnits:1e3*Ka(.9144)},"cubic-miles":{inBaseUnits:1e3*Ka(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},ZY=(()=>{const t={};for(const e in Xd)for(const n in Xd[e].units)t[n]=e;return t})();function YY(t,e,n){return t*Xd[n].units[e].inBaseUnits}function JY(t,e,n){return t/Xd[n].units[e].inBaseUnits}const XY=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],QY=["metric","imperial"],S8=[...QY,...XY],KY=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Qy(t){const e=ZY[t];if(!e)throw new Error("unknown type");return e}function A8(t,e=null){return e=e||Qy(t),Xd[e].baseUnit===t}function Qr(t,e,n){if(e===n)return t;const i=Qy(e);if(i!==Qy(n))throw new Error("incompatible units");const r=A8(e,i)?t:YY(t,e,i);return A8(n,i)?r:JY(r,n,i)}function tJ(t,e,n,i=!1){if(!i&&ph(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const r=tl(e);return r!==n&&(t=r?Qr(t,r,n):Qr(t*=Tc(e),"meters",n)),t}function eJ(t,e,n,i=!1){if(!i&&ph(n))throw new Error("Unable to convert from a linear unit to an angular unit.");const r=tl(n);return e!==r&&(t=r?Qr(t,e,r):Qr(t,e,"meters")/Tc(n)),t}function T8(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function nJ(t){return T8(t)}function iJ(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function rJ(t,e,n){switch(n){case"metric":return M8(t,e);case"imperial":return O8(t,e);default:return n}}function sJ(t,e,n){switch(n){case"metric":return I8(t,e);case"imperial":return N8(t,e);default:return n}}function M8(t,e){const n=Qr(t,e,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function I8(t,e){const n=Qr(t,e,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function O8(t,e){const n=Qr(t,e,"feet");return Math.abs(n)<1e3?"feet":"miles"}function N8(t,e){const n=Qr(t,e,"feet");return Math.abs(n)<1e5?"feet":"miles"}function oJ(t,e){const n=Qr(t,e,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function aJ(t,e){const n=Qr(t,e,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function lJ(t,e,n){return Qr(t,e,"meters")/(n*Math.PI/180)}function Zw(t){return HY.fromJSON(t.toLowerCase())||null}function cJ(t){if(t!=null&&!f8(t))return 1;const e=Tc(t);return e>1e5?1:e}function C8(t){return Tc(t)>=b8(t).metersPerDegree?"meters":tl(t)}function Tc(t,e=Zr.metersPerDegree){return k8(t,!0)??e}function k8(t,e=!1){const n=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let r=null;if(n){if(Yd(n))return rh.metersPerDegree;if(Jd(n))return Gd.metersPerDegree;r=dh.values[dh[n]],!r&&e&&E8.has(n)&&(r=qY)}else i&&(Yw(i)?r=P8(w8.exec(i),r):R8(i)&&(r=P8(x8.exec(i),r)));return r}function uJ(t){return ph(t)?1:Tc(t)}function P8(t,e){return t?.[1]?L8(t[1]):e}function L8(t){return parseFloat(t.split(",")[1])}function tl(t){const e=t?.wkid??null,n=t?.wkt2??t?.wkt??null;let i=null;if(e)i=dh.units[dh[e]];else if(n){const r=Yw(n)?w8:R8(n)?x8:null;if(r){const s=r.exec(n);s?.[1]&&(i=mJ(s[1]))}}return i!=null?Zw(i):null}function hJ(t){const e=tl(t);return e!=null&&S8.includes(e)?e:null}function pJ(t){const e=C8(t);return e!=null&&S8.includes(e)?e:null}function dJ(t){const e=tl(t);return e==null?null:KY.get(e)}function R8(t){return/^GEOCCS/i.test(t)}function Yw(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const fJ=1e-7;function mJ(t){let e=/[\\"']([^\\"']+)/.exec(t)?.[1];if(!e||!Zw(e)){const n=L8(t);e=null;const i=dh.values;for(let r=0;r<i.length;++r)if(Math.abs(n-i[r])<fJ){e=dh.units[r];break}}return e}function yJ(t){const e=tl(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const gJ={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},vJ={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},bJ={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},_J=Hr()(gJ),wJ=Hr()(vJ),xJ=Hr()(bJ);function Ce(t,e,n){let i,r;return e===void 0?(r=t,i=[void 0]):typeof e!="string"?(r=t,i=[void 0],n=e):(r=e,i=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of i){const c=W_(s,l,r);c.write&&typeof c.write=="object"||(c.write={}),n&&(c.write.target=n),c.write.writer=a[o]}}}var uo;let Rt=class extends Vt{static{uo=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return uo.WebMercator;if(t?.wkid===4326)return uo.WGS84;const e=new uo;return e.read(t),e}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Zd(this)}get isWebMercator(){return Qa(this)}get isGeographic(){return ph(this)}get isWrappable(){return g8(this)}get metersPerUnit(){return Tc(this)}get unit(){return tl(this)||(this.isGeographic?"degrees":null)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===uo.WGS84)return new uo(zw);if(this===uo.WebMercator)return new uo(Bw);const t=new uo;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=ht(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:e,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:i}=t.imageCoordinateSystem,r=this.imageCoordinateSystem;return e==null||i?JSON.stringify(r)===JSON.stringify(t.imageCoordinateSystem):n?r.id===e&&r.referenceServiceName===n:r.id===e}return Xa(this,t)}toJSON(t){return this.write(void 0,t)}};v([E({readOnly:!0})],Rt.prototype,"isWGS84",null),v([E({readOnly:!0})],Rt.prototype,"isWebMercator",null),v([E({readOnly:!0})],Rt.prototype,"isGeographic",null),v([E({readOnly:!0})],Rt.prototype,"isWrappable",null),v([E({type:nn,json:{write:!0}})],Rt.prototype,"latestWkid",void 0),v([E({readOnly:!0})],Rt.prototype,"metersPerUnit",null),v([E({readOnly:!0})],Rt.prototype,"unit",null),v([E({type:nn,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Rt.prototype,"wkid",void 0),v([E({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Rt.prototype,"wkt",void 0),v([Ce("wkt"),Ce("web-scene","wkt")],Rt.prototype,"writeWkt",null),v([E({type:String,json:{write:!1}})],Rt.prototype,"wkt2",void 0),v([E({type:nn,json:{write:!0}})],Rt.prototype,"vcsWkid",void 0),v([E({type:nn,json:{write:!0}})],Rt.prototype,"latestVcsWkid",void 0),v([E()],Rt.prototype,"imageCoordinateSystem",void 0),Rt=uo=v([tt("esri.geometry.SpatialReference")],Rt),Rt.prototype.toJSON.isDefaultToJSON=!0,Rt.GCS_NAD_1927=Bn.freeze(new Rt({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Rt.WGS84=Bn.freeze(new Rt(zw)),Rt.WebMercator=Bn.freeze(new Rt(Bw)),Rt.PlateCarree=Bn.freeze(new Rt(GY));let oi=class extends Vt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Rt.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof Rt)return t;if(t!=null){const n=new Rt;return n.read(t,e),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};v([E()],oi.prototype,"type",void 0),v([E({readOnly:!0})],oi.prototype,"cache",null),v([E({readOnly:!0})],oi.prototype,"extent",null),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],oi.prototype,"hasM",void 0),v([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],oi.prototype,"hasZ",void 0),v([E({type:Rt,json:{write:!0},value:Rt.WGS84})],oi.prototype,"spatialReference",void 0),v([hn("spatialReference")],oi.prototype,"readSpatialReference",null),oi=v([tt("esri.geometry.Geometry")],oi);const EJ=Object.prototype.toString;function SJ(t){const e="__accessorMetadata__"in t?qr(t):t;return function(...n){if(n.push(e),typeof n[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return AJ.apply(this,n)}}function AJ(t,e,n,i){Fd(t,e).cast=i}function TJ(t){return(e,n)=>{Fd(e,t).cast=e[n]}}function fh(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&EJ.call(t[0])==="[object Function]"?SJ(t[0]):t.length===1&&typeof t[0]=="string"?TJ(t[0]):void 0}function mh(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new ie("internal:mesh","Mesh geometries are not supported for this operation")}function MJ(t){t.forEach(mh)}const IJ=57.29577951308232,OJ=.017453292519943;function D8(t){return t*IJ}function F8(t){return t*OJ}function NJ(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Zr.radius))}function Jw(t){return t.wkid!=null||t.wkt!=null}const Xw=[0,0];function Ky(t,e,n,i,r){const s=t,o=r;if(o.spatialReference=n,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,Xw,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,Xw,i),[o.xmax,o.ymax]=e(s.xmax,s.ymax,Xw,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let p=0;p<a.length;p++){const d=a[p];c=[],l.push(c);for(let f=0;f<d.length;f++)c.push(e(d[f][0],d[f][1],[0,0],i)),d[f].length>2&&c[f].push(d[f][2]),d[f].length>3&&c[f].push(d[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=e(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return r}function Qd(t,e){const n=t&&(Jw(t)?t:t.spatialReference),i=e&&(Jw(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!n||!i)&&(!!Xa(i,n)||Qa(i)&&Zd(n)||Qa(n)&&Zd(i))}function Qw(t,e){if(t==null)return null;const n=t.spatialReference,i=e&&(Jw(e)?e:e.spatialReference);return Qd(n,i)?Xa(n,i)?ht(t):Qa(i)?Ky(t,Mc,Rt.WebMercator,!1,ht(t)):Zd(i)?Ky(t,Kd,Rt.WGS84,!1,ht(t)):null:null}function Mc(t,e,n=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const i=F8(e);return n[0]=F8(t)*Zr.radius,n[1]=Zr.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),n}function Kd(t,e,n=[0,0],i=!1){if(t===Hd[0])n[0]=-180;else if(t===Hd[1])n[0]=180;else{const r=D8(t/Zr.radius);n[0]=i?r:r-360*Math.floor((r+180)/360)}return n[1]=D8(Math.PI/2-2*Math.atan(Math.exp(-e/Zr.radius))),n}function tg(t,e=!1,n=ht(t)){return mh(t),mh(n),Ky(t,Mc,Rt.WebMercator,e,n)}function tf(t,e=!1,n=ht(t)){return mh(t),mh(n),Ky(t,Kd,Rt.WGS84,e,n)}function j8(t,e){const n=t.x-e.x,i=t.y-e.y,r=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(n*n+i*i+r*r)}function CJ(t){return Kw(t,G8)?.[0]??null}function kJ(t){return Kw(t,G8)?.[1]??null}function Kw({x:t,y:e,spatialReference:n},i=[0,0]){if(n){if(Qa(n))return Kd(t,e,i);if(ph(n))return i[0]=t,i[1]=e,i}return null}const G8=[0,0];var eg;const t4=[0,0];function $8(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let re=eg=class extends oi{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const n=t._get("spatialReference");e._set("spatialReference",Bn.isFrozen(n)?n:n.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,n,i,r){let s;if(Array.isArray(t))s=t,r=e,t=s[0],e=s[1],n=s[2],i=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,n=s.z,i=s.m,(r=s.spatialReference)&&r.declaredClass!=="esri.geometry.SpatialReference"&&(r=new Rt(r)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Oe.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Oe.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&r?.isWebMercator){const a=Mc(s.longitude,s.latitude,t4);t=a[0],e=a[1]}}}else $8(n)?(r=n,n=null):$8(i)&&(r=i,i=null);const o={x:t,y:e};return o.x==null&&o.y!=null?Oe.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Oe.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),r!=null&&(o.spatialReference=r),n!=null&&(o.z=n),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return kJ(this)}set latitude(t){const{spatialReference:e,x:n}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Mc(n,t,t4)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return CJ(this)}set longitude(t){const{y:e,spatialReference:n}=this;t!=null&&n&&(n.isWebMercator?this._set("x",Mc(t,e,t4)[0]):n.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,n){e[n]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new eg;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return eg.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:n,z:i,m:r,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:c,spatialReference:p}=t;if(!s.equals(p))if(s.isWebMercator&&p.isWGS84)[l,c]=Mc(l,c),p=s;else{if(!s.isWGS84||!p.isWebMercator)return!1;[l,c]=Kd(l,c),p=s}return e===l&&n===c&&i===o&&r===a&&s.wkid===p.wkid}offset(t,e,n){return this.x+=t,this.y+=e,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const t=hh(this.spatialReference);if(!t)return this;let e=this.x;const[n,i]=t.valid,r=2*i;let s;return e>i?(s=Math.ceil(Math.abs(e-i)/r),e-=s*r):e<n&&(s=Math.ceil(Math.abs(e-n)/r),e+=s*r),this._set("x",e),this}distance(t){return j8(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],re.prototype,"cache",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],re.prototype,"hasM",null),v([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],re.prototype,"hasZ",null),v([E({type:Number})],re.prototype,"latitude",null),v([E({type:Number})],re.prototype,"longitude",null),v([E({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),fh(t=>isNaN(t)?t:Td(t))],re.prototype,"x",void 0),v([Ce("x")],re.prototype,"writeX",null),v([hn("x")],re.prototype,"readX",null),v([E({type:Number,json:{write:!0}})],re.prototype,"y",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],re.prototype,"z",void 0),v([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],re.prototype,"m",void 0),re=eg=v([tt("esri.geometry.Point")],re),re.prototype.toJSON.isDefaultToJSON=!0;const e4=[0,0];function n4(t,e){return e!=null&&$i(t,e.x,e.y,e.z)}function PJ(t,e){if(!e.points?.length)return!1;for(const n of e.points)if(!yh(t,n))return!1;return!0}function LJ(t,e){const{xmin:n,ymin:i,zmin:r,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?$i(t,n,i,r)&&$i(t,n,o,r)&&$i(t,s,o,r)&&$i(t,s,i,r)&&$i(t,n,i,a)&&$i(t,n,o,a)&&$i(t,s,o,a)&&$i(t,s,i,a):$i(t,n,i)&&$i(t,n,o)&&$i(t,s,o)&&$i(t,s,i)}function yh(t,e){return $i(t,e[0],e[1])}function RJ(t,e){return $i(t,e[0],e[1],e[2])}function $i(t,e,n,i){return e>=t.xmin&&e<=t.xmax&&n>=t.ymin&&n<=t.ymax&&(i==null||!t.hasZ||i>=t.zmin&&i<=t.zmax)}function U8(t,e){return e4[1]=e.y,e4[0]=e.x,DJ(t,e4)}function DJ(t,e){return i4(t.rings,e)}function i4(t,e){if(!t||t.length<1)return!1;if(FJ(t))return V8(!1,t,e);let n=!1;for(let i=0,r=t.length;i<r;i++)n=V8(n,t[i],e);return n}function FJ(t){return!Array.isArray(t[0][0])}function V8(t,e,n){const[i,r]=n;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[c,p]=e[a],[d,f]=e[o];(p<r&&f>=r||f<r&&p>=r)&&c+(r-p)/(f-p)*(d-c)<i&&(s=!s)}return s}function jJ(t,e){return n4(t,e)}function z8(t,e){const n=t.hasZ&&e.hasZ;let i,r,s;if(t.xmin<=e.xmin){if(i=e.xmin,t.xmax<i)return!1}else if(i=t.xmin,e.xmax<i)return!1;if(t.ymin<=e.ymin){if(r=e.ymin,t.ymax<r)return!1}else if(r=t.ymin,e.ymax<r)return!1;if(n&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function GJ(t,e){const{points:n,hasZ:i}=e,r=i?RJ:yh;for(const s of n)if(r(t,s))return!0;return!1}const Ic=[0,0],Oc=[0,0],Nc=[0,0],Cc=[0,0],$J=[Ic,Oc,Nc,Cc],B8=[[Nc,Ic],[Ic,Oc],[Oc,Cc],[Cc,Nc]];function W8(t,e){return UJ(t,e.rings)}function UJ(t,e){Ic[0]=t.xmin,Ic[1]=t.ymax,Oc[0]=t.xmax,Oc[1]=t.ymax,Nc[0]=t.xmin,Nc[1]=t.ymin,Cc[0]=t.xmax,Cc[1]=t.ymin;for(const n of $J)if(i4(e,n))return!0;for(const n of e){if(!n.length)continue;let i=n[0];if(yh(t,i))return!0;for(let r=1;r<n.length;r++){const s=n[r];if(yh(t,s)||q8(i,s,B8))return!0;i=s}}return!1}function VJ(t,e){Ic[0]=t.xmin,Ic[1]=t.ymax,Oc[0]=t.xmax,Oc[1]=t.ymax,Nc[0]=t.xmin,Nc[1]=t.ymin,Cc[0]=t.xmax,Cc[1]=t.ymin;const n=e.paths;for(const i of n){if(!n.length)continue;let r=i[0];if(yh(t,r))return!0;for(let s=1;s<i.length;s++){const o=i[s];if(yh(t,o)||q8(r,o,B8))return!0;r=o}}return!1}const ti=[0,0];function zJ(t){for(let e=0;e<t.length;e++){const n=t[e];for(let r=0;r<n.length-1;r++){const s=n[r],o=n[r+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const c=t[a][l],p=t[a][l+1];if(ng(s,o,c,p,ti)&&!(ti[0]===s[0]&&ti[1]===s[1]||ti[0]===c[0]&&ti[1]===c[1]||ti[0]===o[0]&&ti[1]===o[1]||ti[0]===p[0]&&ti[1]===p[1]))return!0}}const i=n.length;if(!(i<=4))for(let r=0;r<i-3;r++){let s=i-1;r===0&&(s=i-2);const o=n[r],a=n[r+1];for(let l=r+2;l<s;l++){const c=n[l],p=n[l+1];if(ng(o,a,c,p,ti)&&!(ti[0]===o[0]&&ti[1]===o[1]||ti[0]===c[0]&&ti[1]===c[1]||ti[0]===a[0]&&ti[1]===a[1]||ti[0]===p[0]&&ti[1]===p[1]))return!0}}}return!1}function q8(t,e,n){for(let i=0;i<n.length;i++)if(ng(t,e,n[i][0],n[i][1]))return!0;return!1}function ng(t,e,n,i,r){const[s,o]=t,[a,l]=e,[c,p]=n,[d,f]=i,y=d-c,g=s-c,b=a-s,x=f-p,A=o-p,T=l-o,w=x*b-y*T;if(w===0)return!1;const _=(y*A-x*g)/w,M=(b*A-T*g)/w;return _>=0&&_<=1&&M>=0&&M<=1&&(r&&(r[0]=s+_*(a-s),r[1]=o+_*(l-o)),!0)}function H8(t){switch(t){case"esriGeometryEnvelope":case"extent":return z8;case"esriGeometryMultipoint":case"multipoint":return GJ;case"esriGeometryPoint":case"point":return jJ;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return W8;case"esriGeometryPolyline":case"polyline":return VJ}}var Rs;function BJ(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function el(t,e,n){return e==null?n:n==null?e:t(e,n)}let ae=Rs=class extends oi{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,n,i,r){return BJ(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Rt.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:n,ymax:i,spatialReference:r??Rt.WGS84}}static fromPoint(t){return new Rs({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new re({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Rs;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&Qd(e,n)&&(t=e.isWebMercator?tg(t):tf(t,!0)),t.type==="point"?n4(this,t):t.type==="extent"&&LJ(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&Qd(e,n)&&(t=e.isWebMercator?tg(t):tf(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),n=this.width*e,i=this.height*e;if(this.xmin+=n,this.ymin+=i,this.xmax-=n,this.ymax-=i,this.hasZ){const r=(this.zmax-this.zmin)*e;this.zmin+=r,this.zmax-=r}if(this.hasM){const r=(this.mmax-this.mmin)*e;this.mmin+=r,this.mmax-=r}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,n=t.spatialReference;return e&&n&&!Xa(e,n)&&Qd(e,n)&&(t=e.isWebMercator?tg(t):tf(t,!0)),H8(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,n){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=el(Math.min,this.zmin,t.zmin),this.zmax=el(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=el(Math.min,this.mmin,t.mmin),this.mmax=el(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=el(Math.max,this.zmin,t.zmin),this.zmax=el(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=el(Math.max,this.mmin,t.mmin),this.mmax=el(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=hh(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,n=this._getCM(t);if(n){const i=e.isWebMercator?tf(n):n;this.xmin-=n.x,this.xmax-=n.x,e.isWebMercator||(i.x=r4(i.x,t).x),this.spatialReference=new Rt(v_((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(t){let e=null;const[n,i]=t.valid,r=this.xmin,s=this.xmax;return r>=n&&r<=i&&s>=n&&s<=i||(e=this.center),e}_normalize(t,e,n){const i=this.spatialReference;if(!i)return this;const r=n??hh(i);if(r==null)return this;const s=this._getParts(r).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(r):this.set({xmin:r.valid[0],xmax:r.valid[1]});if(t)return this._shiftCM(r);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const p=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:r,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let p;t=t||hh(o);const[d,f]=t.valid;p=r4(this.xmin,t);const y=p.x,g=p.frameId;p=r4(this.xmax,t);const b=p.x,x=p.frameId,A=y===b&&a>0;if(a>2*f){const T=new Rs(l<c?y:b,r,f,s,o),w=new Rs(d,r,l<c?b:y,s,o),_=new Rs(0,r,f,s,o),M=new Rs(d,r,0,s,o),I=[],N=[];T.contains(_)&&I.push(g),T.contains(M)&&N.push(g),w.contains(_)&&I.push(x),w.contains(M)&&N.push(x);for(let C=g+1;C<x;C++)I.push(C),N.push(C);e.push({extent:T,frameIds:[g]},{extent:w,frameIds:[x]},{extent:_,frameIds:I},{extent:M,frameIds:N})}else y>b||A?e.push({extent:new Rs(y,r,f,s,o),frameIds:[g]},{extent:new Rs(d,r,b,s,o),frameIds:[x]}):e.push({extent:new Rs(y,r,b,s,o),frameIds:[g]});this.cache._parts=e}const n=this.hasZ,i=this.hasM;if(n||i){const r={};n&&(r.zmin=this.zmin,r.zmax=this.zmax),i&&(r.mmin=this.mmin,r.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(r)}return e}};function r4(t,e){const[n,i]=e.valid,r=2*i;let s,o=0;return t>i?(s=Math.ceil(Math.abs(t-i)/r),t-=s*r,o=s):t<n&&(s=Math.ceil(Math.abs(t-n)/r),t+=s*r,o=-s),{x:t,frameId:o}}v([E({readOnly:!0})],ae.prototype,"cache",null),v([E({readOnly:!0})],ae.prototype,"center",null),v([E({readOnly:!0})],ae.prototype,"extent",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ae.prototype,"hasM",null),v([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],ae.prototype,"hasZ",null),v([E({readOnly:!0})],ae.prototype,"height",null),v([E({readOnly:!0})],ae.prototype,"width",null),v([E({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],ae.prototype,"xmin",void 0),v([E({type:Number,json:{write:!0}})],ae.prototype,"ymin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],ae.prototype,"mmin",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ae.prototype,"zmin",void 0),v([E({type:Number,json:{write:!0}})],ae.prototype,"xmax",void 0),v([E({type:Number,json:{write:!0}})],ae.prototype,"ymax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],ae.prototype,"mmax",void 0),v([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ae.prototype,"zmax",void 0),ae=Rs=v([tt("esri.geometry.Extent")],ae),ae.prototype.toJSON.isDefaultToJSON=!0;function kc(t=cX){return[t[0],t[1],t[2],t[3]]}function s4(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function Z8(t,e,n,i,r=kc()){return r[0]=t,r[1]=e,r[2]=n,r[3]=i,r}function WJ(t,e=kc()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function qJ(t,e,n=new ae){return n.xmin=t[0],n.ymin=t[1],n.xmax=t[2],n.ymax=t[3],n.spatialReference=e,n}function Ir(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function HJ(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function ZJ(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function YJ(t,e,n){if(e!=null)if("length"in e)l4(e)?(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[0]),n[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":n[0]=Math.min(t[0],e.xmin),n[1]=Math.min(t[1],e.ymin),n[2]=Math.max(t[2],e.xmax),n[3]=Math.max(t[3],e.ymax);break;case"point":n[0]=Math.min(t[0],e.x),n[1]=Math.min(t[1],e.y),n[2]=Math.max(t[2],e.x),n[3]=Math.max(t[3],e.y)}else s4(n,t)}function JJ(t,e,n=t){const i=e.length;let r=t[0],s=t[1],o=t[2],a=t[3];for(let l=0;l<i;l++){const c=e[l];r=Math.min(r,c[0]),s=Math.min(s,c[1]),o=Math.max(o,c[0]),a=Math.max(a,c[1])}return n[0]=r,n[1]=s,n[2]=o,n[3]=a,n}function XJ(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function o4(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function a4(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function QJ(t){return o4(t)*a4(t)}function KJ(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function tX(t){const e=o4(t),n=a4(t);return Math.sqrt(e*e+n*n)}function eX(t,e){return!!t&&ig(t,e.x,e.y)}function ig(t,e,n){return e>=t[0]&&n>=t[1]&&e<=t[2]&&n<=t[3]}function nX(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function iX(t,e,n){return Math.max(e[0],t[0])-n<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-n<=Math.min(e[3],t[3])}function rX(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function sX(t,e,n,i){return i??=t,i[0]=t[0]+e,i[1]=t[1]+n,i[2]=t[2]+e,i[3]=t[3]+n,i}function oX(t,e,n=t){return n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n}function aX(t){return t?s4(t,c4):kc(c4)}function l4(t){return t!=null&&t.length===4}function lX(t,e){return l4(t)&&l4(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const c4=[1/0,1/0,-1/0,-1/0],cX=[0,0,0,0];let u4=1e-6;function ef(){return u4}function uX(t){u4=t}const h4=Math.random,hX=Math.PI/180,pX=180/Math.PI;function Y8(t){return t*hX}function J8(t){return t*pX}function dX(t,e){return Math.abs(t-e)<=u4*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:h4,equals:dX,getEpsilon:ef,setEpsilon:uX,toDegree:J8,toRadian:Y8},Symbol.toStringTag,{value:"Module"}));function X8(t,e){return t[0]=e[0],t[1]=e[1],t}function Q8(t,e,n){return t[0]=e,t[1]=n,t}function K8(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function p4(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function tO(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function eO(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function fX(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function mX(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function nO(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function iO(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function yX(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function rO(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function sO(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function d4(t,e){const n=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(n*n+i*i)}function rg(t,e){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function f4(t){const e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function m4(t){const e=t[0],n=t[1];return e*e+n*n}function oO(t,e){return t[0]=-e[0],t[1]=-e[1],t}function gX(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function aO(t,e){const n=e[0],i=e[1];let r=n*n+i*i;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t}function lO(t,e){return t[0]*e[0]+t[1]*e[1]}function cO(t,e,n){const i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t}function uO(t,e,n,i){const r=e[0],s=e[1];return t[0]=r+i*(n[0]-r),t[1]=s+i*(n[1]-s),t}function vX(t,e=1){const n=2*h4()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function hO(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t}function pO(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function nf(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t}function bX(t,e,n){const i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t}function dO(t,e,n,i){const r=e[0]-n[0],s=e[1]-n[1],o=Math.sin(i),a=Math.cos(i);return t[0]=r*a-s*o+n[0],t[1]=r*o+s*a+n[1],t}function fO(t,e){const n=t[0],i=t[1],r=e[0],s=e[1];let o=n*n+i*i;o>0&&(o=1/Math.sqrt(o));let a=r*r+s*s;a>0&&(a=1/Math.sqrt(a));const l=(n*r+i*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function _X(t){return"vec2("+t[0]+", "+t[1]+")"}function mO(t,e){return t[0]===e[0]&&t[1]===e[1]}function yO(t,e){const n=t[0],i=t[1],r=e[0],s=e[1],o=ef();return Math.abs(n-r)<=o*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-s)<=o*Math.max(1,Math.abs(i),Math.abs(s))}function gO(t,e,n,i,r){let s=e[0]-n[0],o=e[1]-n[1];const a=(i[0]*s+i[1]*o)*(r-1);return s=i[0]*a,o=i[1]*a,t[0]=e[0]+s,t[1]=e[1]+o,t}const wX=f4,vO=p4,xX=tO,EX=eO,bO=d4,SX=rg,AX=m4;Object.freeze(Object.defineProperty({__proto__:null,add:K8,angle:fO,ceil:fX,copy:X8,cross:cO,dist:bO,distance:d4,div:EX,divide:eO,dot:lO,equals:yO,exactEquals:mO,floor:mX,inverse:gX,len:wX,length:f4,lerp:uO,max:iO,min:nO,mul:xX,multiply:tO,negate:oO,normalize:aO,projectAndScale:gO,random:vX,rotate:dO,round:yX,scale:rO,scaleAndAdd:sO,set:Q8,sqrDist:SX,sqrLen:AX,squaredDistance:rg,squaredLength:m4,str:_X,sub:vO,subtract:p4,transformMat2:hO,transformMat2d:pO,transformMat3:nf,transformMat4:bX},Symbol.toStringTag,{value:"Module"}));function ho(t,e,n,i){return t[0]=e[0]*(1-i)+n[0]*i,t[1]=e[1]*(1-i)+n[1]*i,t}function bi(t,e){return rg(t,e)}function TX(t,e,n){const i=bi(e,n);if(i===0)return bi(e,t);const r=(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0]);return r*r/i}function MX(t,e,n,i,r){const[s,o]=e,[a,l]=n,[c,p]=i,[d,f]=r,y=(s-a)*(p-f)-(o-l)*(c-d);if(y===0)return null;const g=(s*l-o*a)*(c-d)-(s-a)*(c*f-p*d),b=(s*l-o*a)*(p-f)-(o-l)*(c*f-p*d);return t[0]=g/y,t[1]=b/y,t}const Ds=2*Math.PI;function nl(t,e){const n=Math.atan2(t,e);return n<0?n+Ds:n}function _O(t){return Math.abs(t)%Ds}function wO(t){const e=_O(t);return e<Math.PI?e:Ds-e}function sg(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function xO(t,e,n,i){if(qo(_O(t-e),0))return n?[t,t]:[t,i?t-Ds:t+Ds];const[r,s]=i?[t-Ds,t]:[t,t+Ds];return[t,rf({min:r,max:s},e)]}function rf({min:t,max:e},n){let i;return i=e-n,i>=Ds?(i-=i%Ds,n+i):(i=n-t,i>=Ds?(i-=i%Ds,n-i):n)}function IX(t,e){const n=rf(t,e);return n>t.min&&n<t.max?n:wO(n-t.min)<wO(n-t.max)?t.min:t.max}function EO(t,e,n,i=10){return e.map(r=>{let s=r;for(let o=0;o<i;o++){const[a,l,c,p,d,f]=n(s),y=t[0]-a,g=t[1]-l,b=-c,x=-p;s+=-(2*y*b+2*g*x)/(2*b*b+2*y*-d+2*x*x+2*g*-f||1e-6)}return s})}const OX=[0,0];function SO(t){const e=1-t,n=e*e,i=t*t;return[n*e,3*t*n,3*i*e,i*t]}function og(t,e,n,i,r){const[s,o,a,l]=SO(r);return[t[0]*s+e[0]*o+n[0]*a+i[0]*l,t[1]*s+e[1]*o+n[1]*a+i[1]*l]}function AO(t,e,n,i,r){const[s,o,a,l]=SO(r);return t*s+e*o+n*a+i*l}function NX(t,e,n){const i=t,[r,s,o]=e.b;return og(i,s,o,r,n)}function TO(t,e,n){const i=t,[r,s,o]=e.b,a=ho([0,0],i,s,n),l=ho(OX,s,o,n),c=ho([0,0],o,r,n),p=ho([0,0],a,l,n),d=ho([0,0],l,c,n);return[{b:[ho([],p,d,n),a,p]},{b:[[...r],d,c]}]}function CX(t,e,n){const i=t,[r,s,o]=e.b,a=EO(n,[.1,.5,.9],d=>{const f=1-d,[y,g]=og(i,s,o,r,d);return[y,g,3*f*f*(s[0]-i[0])+6*f*d*(o[0]-s[0])+3*d*d*(r[0]-o[0]),3*f*f*(s[1]-i[1])+6*f*d*(o[1]-s[1])+3*d*d*(r[1]-o[1]),6*f*(o[0]-2*s[0]+i[0])+6*d*(r[0]-2*o[0]+s[0]),6*f*(o[1]-2*s[1]+i[1])+6*d*(r[1]-2*o[1]+s[1])]}).map(d=>Math.min(1,Math.max(0,d)));a.push(0,1);let l=1/0;const c=a.map(d=>{const f=og(i,s,o,r,d),[y,g]=f,b=n[0]-y,x=n[1]-g,A=Math.sqrt(b*b+x*x);return l=Math.min(A,l),{t:d,curvePoint:f,distance:A}}),p=[];for(const d of c){const{t:f,distance:y}=d;wM(y,l)&&!p.some(({t:g})=>qo(g,f))&&p.push(d)}return p}function kX(t,e,n){const i=e,[r,s,o]=n.b;if(Ir(t,i),Ir(t,r),ig(t,s[0],s[1])&&ig(t,o[0],o[1]))return t;for(const a of MO(i[0],s[0],o[0],r[0]))a>0&&a<1&&HJ(t,AO(i[0],s[0],o[0],r[0],a));for(const a of MO(i[1],s[1],o[1],r[1]))a>0&&a<1&&ZJ(t,AO(i[1],s[1],o[1],r[1],a));return t}function MO(t,e,n,i){const r=3*(3*(e-n)-t+i),s=6*(t-2*e+n),o=3*(e-t);if(r===0)return s!==0?[-o/s]:[];const a=Math.sqrt(s*s-4*r*o);return[(-s+a)/(2*r),(-s-a)/(2*r)]}function PX(t,e,n){let i=0,r=[e];for(let s=0;s<16;s++){let o=t;const a=[];for(const c of r)a.push(...TO(o,c,.5)),o=c.b[0];r=a,o=t,i=0;let l=0;for(const c of r){const[p,d,f]=c.b,y=Math.sqrt(bi(o,p));i+=(y+(Math.sqrt(bi(o,d))+Math.sqrt(bi(d,f))+Math.sqrt(bi(f,p))))/2,l+=y,o=p}if(i-l<n)return i}return i}function IO(t,e,n){const[i,r]=t,[s,o]=e,[a,l]=n,[c,p]=[s-i,o-r];let d=c*(a-i)+p*(l-r);d/=c**2+p**2,d=Ju(d,0,1);const f=ho([0,0],t,e,d);return{t:d,curvePoint:f,distance:Math.sqrt(bi(f,n))}}let OO=class{constructor(t,e,n,i,r,s){this.cx=t,this.cy=e,this.radius=n,this.thetaStart=i,this.thetaEnd=r,this.isInvalid=s}get startPoint(){const{cx:t,cy:e,radius:n,thetaStart:i}=this;return[t+n*Math.cos(i),e+n*Math.sin(i)]}get endPoint(){const{cx:t,cy:e,radius:n,thetaEnd:i}=this;return[t+n*Math.cos(i),e+n*Math.sin(i)]}};function ag(t,e){const{cx:n,cy:i,radius:r}=t;return[n+r*Math.cos(e),i+r*Math.sin(e)]}function sf(t,e){if(t.isInvalid)return ho([0,0],t.startPoint,t.endPoint,e);const{thetaStart:n,thetaEnd:i}=t;return ag(t,n*(1-e)+i*e)}function LX(t,e){if(t.isInvalid)return IO(t.startPoint,t.endPoint,e);const{cx:n,cy:i,thetaStart:r,thetaEnd:s}=t,[o,a]=e,l=IX(sg(r,s),Math.atan2(a-i,o-n)),c=ag(t,l);return{t:(l-r)/(s-r),curvePoint:c,distance:Math.sqrt(bi(e,c))}}function NO(t,e){if(e.isInvalid)return Ir(t,e.startPoint),Ir(t,e.endPoint),t;const{cx:n,cy:i,radius:r,thetaStart:s,thetaEnd:o}=e;Ir(t,ag(e,s)),Ir(t,ag(e,o));const a=sg(s,o),l=Math.PI/2;let c=0;for(const p of[[n+r,i],[n,i+r],[n-r,i],[n,i-r]])c=rf(a,c),c>a.min&&c<a.max&&Ir(t,p),c+=l;return t}function RX(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:n,thetaEnd:i}=t;return e*Math.abs(i-n)}function CO(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function DX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function gh(t,e,n,i,r,s,o,a,l,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=c,t}function kO(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function y4(t,e){if(t===e){const n=e[1],i=e[2],r=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function g4(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],d=p*o-a*c,f=-p*s+a*l,y=c*s-o*l;let g=n*d+i*f+r*y;return g?(g=1/g,t[0]=d*g,t[1]=(-p*i+r*c)*g,t[2]=(a*i-r*o)*g,t[3]=f*g,t[4]=(p*n-r*l)*g,t[5]=(-a*n+r*s)*g,t[6]=y*g,t[7]=(-c*n+i*l)*g,t[8]=(o*n-i*s)*g,t):null}function PO(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8];return t[0]=o*p-a*c,t[1]=r*c-i*p,t[2]=i*a-r*o,t[3]=a*l-s*p,t[4]=n*p-r*l,t[5]=r*s-n*a,t[6]=s*c-o*l,t[7]=i*l-n*c,t[8]=n*o-i*s,t}function lg(t){const e=t[0],n=t[1],i=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8];return e*(c*s-o*l)+n*(-c*r+o*a)+i*(l*r-s*a)}function of(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=n[0],y=n[1],g=n[2],b=n[3],x=n[4],A=n[5],T=n[6],w=n[7],_=n[8];return t[0]=f*i+y*o+g*c,t[1]=f*r+y*a+g*p,t[2]=f*s+y*l+g*d,t[3]=b*i+x*o+A*c,t[4]=b*r+x*a+A*p,t[5]=b*s+x*l+A*d,t[6]=T*i+w*o+_*c,t[7]=T*r+w*a+_*p,t[8]=T*s+w*l+_*d,t}function LO(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=n[0],y=n[1];return t[0]=i,t[1]=r,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=f*i+y*o+c,t[7]=f*r+y*a+p,t[8]=f*s+y*l+d,t}function RO(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5],c=e[6],p=e[7],d=e[8],f=Math.sin(n),y=Math.cos(n);return t[0]=y*i+f*o,t[1]=y*r+f*a,t[2]=y*s+f*l,t[3]=y*o-f*i,t[4]=y*a-f*r,t[5]=y*l-f*s,t[6]=c,t[7]=p,t[8]=d,t}function DO(t,e,n){const i=n[0],r=n[1],s=n[2];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function FO(t,e,n){const i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t}function jO(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function GO(t,e){const n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function FX(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function jX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function $O(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=n+n,a=i+i,l=r+r,c=n*o,p=i*o,d=i*a,f=r*o,y=r*a,g=r*l,b=s*o,x=s*a,A=s*l;return t[0]=1-d-g,t[3]=p-A,t[6]=f+x,t[1]=p+A,t[4]=1-c-g,t[7]=y-b,t[2]=f-x,t[5]=y+b,t[8]=1-c-d,t}function UO(t,e){const n=e[0],i=e[1],r=e[2],s=e[4],o=e[5],a=e[6],l=e[8],c=e[9],p=e[10],d=p*o-a*c,f=-p*s+a*l,y=c*s-o*l,g=n*d+i*f+r*y;if(!g)return null;const b=1/g;return t[0]=d*b,t[1]=(-p*i+r*c)*b,t[2]=(a*i-r*o)*b,t[3]=f*b,t[4]=(p*n-r*l)*b,t[5]=(-a*n+r*s)*b,t[6]=y*b,t[7]=(-c*n+i*l)*b,t[8]=(o*n-i*s)*b,t}function VO(t,e){const n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],p=e[8],d=e[9],f=e[10],y=e[11],g=e[12],b=e[13],x=e[14],A=e[15],T=n*a-i*o,w=n*l-r*o,_=n*c-s*o,M=i*l-r*a,I=i*c-s*a,N=r*c-s*l,C=p*b-d*g,P=p*x-f*g,D=p*A-y*g,U=d*x-f*b,j=d*A-y*b,G=f*A-y*x;let Z=T*G-w*j+_*U+M*D-I*P+N*C;return Z?(Z=1/Z,t[0]=(a*G-l*j+c*U)*Z,t[1]=(l*D-o*G-c*P)*Z,t[2]=(o*j-a*D+c*C)*Z,t[3]=(r*j-i*G-s*U)*Z,t[4]=(n*G-r*D+s*P)*Z,t[5]=(i*D-n*j-s*C)*Z,t[6]=(b*N-x*I+A*M)*Z,t[7]=(x*_-g*N-A*w)*Z,t[8]=(g*I-b*_+A*T)*Z,t):null}function GX(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function $X(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function UX(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function VX(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function zO(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function zX(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function BX(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t}function WX(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function qX(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],p=t[8],d=e[0],f=e[1],y=e[2],g=e[3],b=e[4],x=e[5],A=e[6],T=e[7],w=e[8],_=ef();return Math.abs(n-d)<=_*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-f)<=_*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(r-y)<=_*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(s-g)<=_*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-b)<=_*Math.max(1,Math.abs(o),Math.abs(b))&&Math.abs(a-x)<=_*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(l-A)<=_*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-T)<=_*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(p-w)<=_*Math.max(1,Math.abs(p),Math.abs(w))}function HX(t){const e=ef(),n=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],p=t[8];return Math.abs(1-(n*n+s*s+l*l))<=e&&Math.abs(1-(i*i+o*o+c*c))<=e&&Math.abs(1-(r*r+a*a+p*p))<=e}const BO=of,ZX=zO;Object.freeze(Object.defineProperty({__proto__:null,add:VX,adjoint:PO,copy:DX,determinant:lg,equals:qX,exactEquals:WX,frob:UX,fromMat2d:jX,fromMat4:CO,fromQuat:$O,fromRotation:GO,fromScaling:FX,fromTranslation:jO,identity:kO,invert:g4,isOrthoNormal:HX,mul:BO,multiply:of,multiplyScalar:zX,multiplyScalarAndAdd:BX,normalFromMat4:VO,normalFromMat4Legacy:UO,projection:GX,rotate:RO,scale:DO,scaleByVec2:FO,set:gh,str:$X,sub:ZX,subtract:zO,translate:LO,transpose:y4},Symbol.toStringTag,{value:"Module"}));function il(){return[1,0,0,0,1,0,0,0,1]}function YX(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function WO(t,e,n,i,r,s,o,a,l){return[t,e,n,i,r,s,o,a,l]}const qO=il();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:qO,clone:YX,create:il,fromValues:WO},Symbol.toStringTag,{value:"Module"}));const vh=il();function JX(t,e,n){const[i,r]=t,[s,o]=e,[a,l]=n;gh(vh,i,s,a,r,o,l,1,1,1);const c=lg(vh),p=4*c/(bi(t,e)+bi(e,n)+bi(n,t));if(!isFinite(p)||Math.abs(p)<1e-8)return null;const d=i**2+r**2,f=s**2+o**2,y=a**2+l**2;gh(vh,d,f,y,r,o,l,1,1,1);const g=lg(vh);return gh(vh,d,f,y,i,s,a,1,1,1),[g/c*.5,lg(vh)/c*-.5]}function v4(t,e){const[n,i]=e.c,r=JX(t,i,n),s=r==null,o=r??ho([],t,n,.5),[a,l]=t,[c,p]=i,[d,f]=n,[y,g]=o,b=a-y,x=l-g,A=Math.sqrt(b*b+x*x),T=nl(l-g,a-y),w=nl(p-g,c-y);let _=nl(f-g,d-y);return(w-T)*(_-w)<0&&(_+=2*Math.sign(T-_)*Math.PI),new OO(y,g,A,T,_,s)}function XX(t,e,n){const i=sf(t,n/2),r=sf(t,n),s=sf(t,(n+1)/2);return[{c:[r,i]},{c:[[...e.c[0]],s]}]}function QX(t,e){const[n]=e.c,{cx:i,cy:r,thetaStart:s,thetaEnd:o,radius:a,isInvalid:l}=v4(t,e);return{a:[n,[i,r],Math.abs(o-s)<Math.PI?1:0,s>o?1:0,l?s:0,a,l?0:1]}}function KX(t){return"curveRings"in t&&!!t.curveRings?.length||"curvePaths"in t&&!!t.curvePaths?.length}function tQ(t){return"curveRings"in t?t.curveRings:t.curvePaths}function cg(t){return"b"in t}function ug(t){return"c"in t}function af(t){return Array.isArray(t)}function eQ(t){return"a"in t}function b4(t){return"a"in t&&t.a.length===4}function HO(t){return"a"in t&&t.a.length===7}function hg(t){return af(t)?t:cg(t)?t.b[0]:ug(t)?t.c[0]:t.a[0]}function ZO(t){if(cg(t)){const[e,n,i]=t.b;return{b:[[...e],[...n],[...i]]}}if(ug(t)){const[e,n]=t.c;return{c:[[...e],[...n]]}}if(af(t))return[...t];if(b4(t)){const[e,n,i,r]=t.a;return{a:[[...e],[...n],i,r]}}if(HO(t)){const[e,n,i,r,s,o,a]=t.a;return{a:[[...e],[...n],i,r,s,o,a]}}return t}function YO(t,e){const[n,i,r,s]=e.a,[o,a]=t,[l,c]=n,[p,d]=i,f=o-p,y=a-d,g=Math.sqrt(f*f+y*y),b=l-p,x=c-d,A=Math.sqrt(b*b+x*x),T=g===0||A===0||!wM(g,A),w=g,[_,M]=xO(nl(a-d,o-p),Math.atan2(c-d,l-p),r,s);return new OO(p,d,w,_,M,T)}function nQ(t,e,n){const{cx:i,cy:r,thetaStart:s,thetaEnd:o}=t,[a,l,c,p]=e.a,d=s*(1-n)+o*n;return[{a:[sf(t,n),[i,r],Math.abs(d-s)<Math.PI?1:0,p]},{a:[[...a],[i,r],Math.abs(o-d)<Math.PI?1:0,p]}]}let iQ=class{constructor(t,e,n,i,r,s,o,a,l){this.cx=t,this.cy=e,this.a=n,this.b=i,this.cosR=r,this.sinR=s,this.u1=o,this.u2=a,this.isInvalid=l}};function pg(t,e){const[n,i,r,s,o,a,l]=e.a,[c,p]=t,[d,f]=n,[y,g]=i,b=a*l,x=Math.cos(o),A=Math.sin(o),[T,w]=xO(nl(1/b*(p-g)*x-1/b*(c-y)*A,1/a*(p-g)*A+1/a*(c-y)*x),Math.atan2(1/b*(f-g)*x-1/b*(d-y)*A,1/a*(f-g)*A+1/a*(d-y)*x),r,s);return new iQ(y,g,a,b,x,A,T,w,a===0||b===0)}function lf(t,e){const{a:n,b:i,cosR:r,sinR:s,cx:o,cy:a}=t,l=Math.cos(e),c=Math.sin(e);return[n*l*r-i*c*s+o,n*l*s+i*c*r+a]}function Pc(t,e){const{u1:n,u2:i}=t;return lf(t,n*(1-e)+i*e)}function rQ(t,e,n){if(n<0||n>1)return[];if(n===0||n===1)return[ZO(e)];const[i,[r,s],o,a,l,c,p]=e.a,{u1:d,u2:f}=t,y=d*(1-n)+f*n;return[{a:[[...Pc(t,n)],[r,s],Math.abs(y-d)<Math.PI?1:0,a,l,c,p]},{a:[[...i],[r,s],Math.abs(f-y)<Math.PI?1:0,a,l,c,p]}]}function sQ(t,e){const{a:n,b:i,cosR:r,sinR:s,u1:o,u2:a}=t,l=Math.PI/6,c=EO(e,[1*l,2*l,4*l,5*l,7*l,8*l,10*l,11*l],b=>{const x=Math.cos(b),A=Math.sin(b),[T,w]=lf(t,b);return[T,w,-n*r*A-i*s*x,-n*s*A+i*r*x,-n*r*x+i*s*A,-n*s*x-i*r*A]}),p=sg(o,a),d=new Set(c.map(b=>rf(p,b)).filter(b=>b>p.min&&b<p.max));d.add(o),d.add(a);let f,y,g=1/0;for(const b of d){const x=lf(t,b),[A,T]=x,w=e[0]-A,_=e[1]-T,M=w*w+_*_;M<g&&(f=(b-o)/(a-o),y=x,g=M)}return{t:f,curvePoint:y,distance:Math.sqrt(g)}}function oQ(t,e,n){const i=pg(e,n),{a:r,b:s,u1:o,u2:a,cosR:l,sinR:c,isInvalid:p}=i,d=n.a[0];if(Ir(t,e),Ir(t,d),p)return t;const f=Math.atan2(-s*c,r*l),y=f+Math.PI,g=Math.atan2(s*l,r*c),b=g+Math.PI,x=sg(o,a);for(const A of[f,y,g,b].map(T=>rf(x,T)))A>x.min&&A<x.max&&Ir(t,lf(i,A));return t}function aQ(t,e,n){const[i,r,s,o,a,l,c]=e.a,p=pg(t,e),{u1:d,u2:f,isInvalid:y}=p,g=f-d;if(y)return Math.sqrt(bi(t,i));const b=14,x=[0,0];let A=0,T=[Pc(p,0),Pc(p,.25),Pc(p,.5),Pc(p,.75),Pc(p,1)];for(let w=0;w<b;w++){const _=T.length-1,M=g/(2*_),I=[];for(let C=0;C<_;C++)I.push(T[C]),I.push(lf(p,d+(2*C+1)*M));I.push(T[T.length-1]),T=I,A=0;let N=0;for(let C=1;C<T.length;C++){const P=T[C-1],D=T[C];if(A+=Math.sqrt(bi(P,D)),C>1){const U=T[C-2],j=MX(x,U,P,r,D);N+=j?Math.sqrt(bi(P,j)):Math.abs(D[0]-P[0])+Math.abs(D[1]-P[1])}else N+=A}if(N-A<n)return A}return A}const JO=il(),dg=il(),XO=il(),rl=il();function lQ(t,e,n){const[i,r,s,o,a,l,c]=e.a,p=pg(t,e),{cosR:d,sinR:f,a:y,b:g,cx:b,cy:x}=p,A=nf([0,0],i,n),T=nf([0,0],r,n),w=n[0]*n[4]<0?1-o:o;{const _=y*y*f*f+g*g*d*d,M=2*(g*g-y*y)*f*d,I=y*y*d*d+g*g*f*f,N=-2*_*b-M*x,C=-M*b-2*I*x;gh(JO,_,M/2,N/2,M/2,I,C/2,N/2,C/2,_*b*b+M*b*x+I*x*x-y*y*g*g)}if(g4(dg,n),dg==null){const _=nf([0,0],t,n);return{a:[A,T,s,o,nl(A[1],A[0]),Math.sqrt(bi(A,_))/2,0]}}y4(XO,dg),of(rl,of(rl,XO,JO),dg);{const _=rl[0],M=2*rl[1],I=rl[4],N=2*rl[2],C=2*rl[5],P=M*M-4*_*I,D=2*(_*C*C+I*N*N-M*N*C+P*rl[8]),U=Math.sqrt((_-I)**2+M*M),j=-Math.sqrt(D*(_+I+U))/P,G=-Math.sqrt(D*(_+I-U))/P;return{a:[A,T,s,w,.5*nl(-M,I-_),j,G/j]}}}function cQ(t,e,n){if(af(n))return Ir(t,e),Ir(t,n),t;if(cg(n))return kX(t,e,n);if(ug(n)){const i=v4(e,n);return NO(t,i)}if(b4(n)){const i=YO(e,n);return NO(t,i)}return oQ(t,e,n)}function QO(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function KO(t){return t.points!==void 0}function tN(t){return t.x!==void 0&&t.y!==void 0}function eN(t){return t.paths!==void 0}function nN(t){return t.rings!==void 0}function iN(t){function e(n,i){return n==null?i:i==null?n:t(n,i)}return e}const sl=iN(Math.min),ol=iN(Math.max);function uQ(t,e){return eN(e)?Lc(t,e.curvePaths??e.paths,!1,!1)??t:nN(e)?Lc(t,e.curveRings??e.rings,!1,!1)??t:KO(e)?_4(t,e.points,!1,!1,!1,!1):QO(e)?sN(t,e):(tN(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function hQ(t){let e,n,i,r;for(t.reset(),e=i=1/0,n=r=-1/0;t.nextPath();){const s=rN(t);e=Math.min(s[0],e),i=Math.min(s[1],i),n=Math.max(s[2],n),r=Math.max(s[3],r)}return kc([e,i,n,r])}function rN(t){let e,n,i,r;for(e=i=1/0,n=r=-1/0;t.nextPoint();)e=Math.min(t.x,e),i=Math.min(t.y,i),n=Math.max(t.x,n),r=Math.max(t.y,r);return kc([e,i,n,r])}function pQ(t,e){return eN(e)?Lc(t,e.curvePaths??e.paths,!0,!1)??t:nN(e)?Lc(t,e.curveRings??e.rings,!0,!1)??t:KO(e)?_4(t,e.points,!0,!1,!0,!1):QO(e)?sN(t,e,!0,!1,!0,!1):(tN(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Lc(t,e,n,i){const r=n?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[c,p]=hg(e[0][0]),d=c,f=p;for(let y=0;y<e.length;y++){const g=e[y];for(let b=0;b<g.length;b++){const x=hg(g[b]),[A,T]=x;if(c=sl(c,A),p=sl(p,T),d=ol(d,A),f=ol(f,T),n&&x.length>2){const I=x[2];s=sl(s,I),o=ol(o,I)}if(i&&x.length>r){const I=x[r];a=sl(s,I),l=ol(o,I)}const w=g[b];if(af(w)||b<1)continue;const _=hg(g[b-1]),M=Z8(c,p,d,f);[c,p,d,f]=cQ(M,_,w)}}return n?i?(t[0]=c,t[1]=p,t[2]=s,t[3]=a,t[4]=d,t[5]=f,t[6]=o,t[7]=l,t.length=8,t):(t[0]=c,t[1]=p,t[2]=s,t[3]=d,t[4]=f,t[5]=o,t.length=6,t):i?(t[0]=c,t[1]=p,t[2]=a,t[3]=d,t[4]=f,t[5]=l,t.length=6,t):(t[0]=c,t[1]=p,t[2]=d,t[3]=f,t.length=4,t)}function sN(t,e,n,i,r,s){const o=e.xmin,a=e.xmax,l=e.ymin,c=e.ymax;let p=e.zmin,d=e.zmax,f=e.mmin,y=e.mmax;return r?(p=p||0,d=d||0,s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=p,t[3]=f,t[4]=a,t[5]=c,t[6]=d,t[7]=y,t):(t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=c,t[5]=d,t)):s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=c,t[5]=y,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=c,t)}function _4(t,e,n,i,r,s){const o=n?3:2,a=i&&s,l=n&&r;if(!e.length||!e[0].length)return null;let c,p,d,f,[y,g]=e[0],[b,x]=e[0];for(let A=0;A<e.length;A++){const T=e[A],[w,_]=T;if(y=sl(y,w),g=sl(g,_),b=ol(b,w),x=ol(x,_),l&&T.length>2){const M=T[2];c=sl(c,M),p=ol(p,M)}if(a&&T.length>o){const M=T[o];d=sl(c,M),f=ol(p,M)}}return r?(c=c||0,p=p||0,s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=c,t[3]=d,t[4]=b,t[5]=x,t[6]=p,t[7]=f,t):(t[0]=y,t[1]=g,t[2]=c,t[3]=b,t[4]=x,t[5]=p,t)):s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=d,t[3]=b,t[4]=x,t[5]=f,t):(t[0]=y,t[1]=g,t[2]=b,t[3]=x,t)}function dQ(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function fQ(t){return t.points!==void 0}function mQ(t){return t.x!==void 0&&t.y!==void 0}function yQ(t){return t.paths!==void 0}function gQ(t){return t.rings!==void 0}const w4=[];function oN(t,e,n,i){return{xmin:t,ymin:e,xmax:n,ymax:i}}function aN(t,e,n,i,r,s){return{xmin:t,ymin:e,zmin:n,xmax:i,ymax:r,zmax:s}}function lN(t,e,n,i,r,s){return{xmin:t,ymin:e,mmin:n,xmax:i,ymax:r,mmax:s}}function cN(t,e,n,i,r,s,o,a){return{xmin:t,ymin:e,zmin:n,mmin:i,xmax:r,ymax:s,zmax:o,mmax:a}}function x4(t,e=!1,n=!1){return e?n?cN(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):aN(t[0],t[1],t[2],t[3],t[4],t[5]):n?lN(t[0],t[1],t[2],t[3],t[4],t[5]):oN(t[0],t[1],t[2],t[3])}function vQ(t){return t?dQ(t)?t:mQ(t)?bQ(t):gQ(t)?E4(t):yQ(t)?hN(t):fQ(t)?uN(t):null:null}function uN(t){const{hasZ:e,hasM:n,points:i}=t,r=_4(w4,i,e??!1,n??!1,e??!1,n??!1);return r?x4(r,e,n):null}function bQ(t){const{x:e,y:n,z:i,m:r}=t,s=r!=null;return i!=null?s?cN(e,n,i,r,e,n,i,r):aN(e,n,i,e,n,i):s?lN(e,n,r,e,n,r):oN(e,n,e,n)}function E4(t){const{hasZ:e,hasM:n,rings:i,curveRings:r}=t,s=Lc(w4,r??i,e??!1,n??!1);return s?x4(s,e,n):null}function hN(t){const{hasZ:e,hasM:n,paths:i,curvePaths:r}=t,s=Lc(w4,r??i,e??!1,n??!1);return s?x4(s,e,n):null}function bh(t,e,n=!1){let{hasM:i,hasZ:r}=t;Array.isArray(e)?e.length!==4||i||r?e.length===3&&n&&!i?(r=!0,i=!1):e.length===3&&i&&r&&(i=!1,r=!1):(i=!0,r=!0):(r=!r&&e.hasZ&&(!i||e.hasM),i=!i&&e.hasM&&(!r||e.hasZ)),t.hasZ=r,t.hasM=i}var S4;function _Q(t){if(!t)return;let{points:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],e?.at(0)?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Rt.WGS84,{...t,hasM:n,hasZ:i,points:e,spatialReference:r}}let Kr=S4=class extends oi{constructor(t){super(_Q(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=uN(this);return t?new ae({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=ht(this.points)}clone(){const{points:t,spatialReference:e,hasM:n,hasZ:i}=this;return new S4({points:ht(t),spatialReference:e.clone(),hasM:n,hasZ:i})}addPoint(t){return bh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(n.z=e[2],i=3),this.hasM&&(n.m=e[i]),new re(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new re(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(bh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};v([E({readOnly:!0})],Kr.prototype,"cache",null),v([E({readOnly:!0})],Kr.prototype,"extent",null),v([E({type:[[Number]],json:{write:{isRequired:!0}}})],Kr.prototype,"points",void 0),v([Ce("points")],Kr.prototype,"writePoints",null),Kr=S4=v([tt("esri.geometry.Multipoint")],Kr),Kr.prototype.toJSON.isDefaultToJSON=!0;function wQ(t){const e=[];for(t.reset();t.nextPath();){const n=[];for(;t.nextPoint();)n.push([t.x,t.y]);e.push(n)}return t.reset(),e}function pN(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function xQ(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,n=t.hasM;if(t.type==="point")return n&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:n?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(i=>[i]);if(t.type==="extent"){const i=t.clone().normalize();if(!i)return null;let r=!1,s=!1;return i.forEach(o=>{o.hasZ&&(r=!0),o.hasM&&(s=!0)}),i.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(s&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a})}return null}function fg(t,e){const n=e[0]-t[0],i=e[1]-t[1];if(t.length>2&&e.length>2){const r=t[2]-e[2];return Math.sqrt(n*n+i*i+r*r)}return Math.sqrt(n*n+i*i)}function dN(t,e,n){const i=t[0]+n*(e[0]-t[0]),r=t[1]+n*(e[1]-t[1]);return t.length>2&&e.length>2?[i,r,t[2]+n*(e[2]-t[2])]:[i,r]}function EQ(t,e,n,i){return fN(t,e,n[i],n[i+1])}function fN(t,e,n,i){const[r,s]=e,[o,a]=n,[l,c]=i,p=l-o,d=c-a,f=p*p+d*d,y=(r-o)*p+(s-a)*d,g=Math.min(1,Math.max(0,y/f));return t[0]=o+p*g,t[1]=a+d*g,t}function SQ(t,e,n,i,r,s){let o=n,a=i,l=r-o,c=s-a;if(l!==0||c!==0){const p=((t-o)*l+(e-a)*c)/(l*l+c*c);p>1?(o=r,a=s):p>0&&(o+=l*p,a+=c*p)}return l=t-o,c=e-a,l*l+c*c}function A4(t,e){return dN(t,e,.5)}function AQ(t){const e=t.length;let n=0;for(let i=0;i<e-1;++i)n+=fg(t[i],t[i+1]);return n}function TQ(t,e){if(e<=0)return t[0];const n=t.length;let i=0;for(let r=0;r<n-1;++r){const s=fg(t[r],t[r+1]);if(e-i<s){const o=(e-i)/s;return dN(t[r],t[r+1],o)}i+=s}return t[n-1]}function T4(t,e=0,n=1){let i=0;const r=t.length;let s=t[0];for(let o=1;o<r;o++){const a=t[o];i+=(a[e]-s[e])*(a[n]+s[n]),s=a}if(mN(t)){const o=t[0];i+=(o[e]-s[e])*(o[n]+s[n])}return i>=0}function mN(t){const e=t.length;return e>0&&!Ed(t[0],t[e-1])}function MQ(t){"rings"in t&&(yN(t),IQ(t))}function yN(t){if("rings"in t)for(const e of t.rings)mN(e)&&e.push(e[0].slice())}function IQ(t){if(!("rings"in t)||t.rings.length===0||T4(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function OQ(t){return t.type!=="polygon"&&t.type!=="polyline"||gN(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function gN(t,e){const n=hh(e);if(!n)return;const i=n.valid[0],r=n.valid[1],s=r-i;for(const o of t){let a=1/0,l=-1/0;for(const p of o){const d=vN(p[0],i,r);a=Math.min(a,d),l=Math.max(l,d),p[0]=d}const c=l-a;s-c<c&&o.forEach(p=>{p[0]<0&&(p[0]+=s)})}}function vN(t,e,n){const i=n-e;return t<e?n-(e-t)%i:t>n?e+(t-e)%i:t}function NQ(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[n,i]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return n.length===i.length&&n.every((r,s)=>r.length===i[s].length)}function CQ(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function bN(t){return wN(t.rings,t.hasZ??!1)}function _N(t){const e=bN(t);if(!e)return null;const{hasZ:n,spatialReference:i}=t,[r,s,o]=e;return isNaN(r)||isNaN(s)||n&&isNaN(o)?null:{x:r,y:s,z:n?o:void 0,spatialReference:i}}function wN(t,e){if(!t?.length)return null;const n=[],i=[],r=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=xN(t[s],e,r);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),i.length&&(n[0]=i[0][0],n[1]=i[0][1],e&&(n[2]=i[0][3]),(n[0]<r[0]||n[0]>r[1]||n[1]<r[2]||n[1]>r[3]||e&&(n[2]<r[4]||n[2]>r[5]))&&(n.length=0)),!n.length){const s=t[0]&&t[0].length?PQ(t[0],e):null;if(!s)return null;n[0]=s[0],n[1]=s[1],e&&s.length>2&&(n[2]=s[2])}return n}function xN(t,e,n){let i=0,r=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,c=t.length?t[0][1]:0,p=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const y=t[f],g=t[(f+1)%t.length],[b,x,A]=y,T=b-l,w=x-c,[_,M,I]=g,N=_-l,C=M-c,P=T*C-N*w;if(o+=P,i+=(T+N)*P,r+=(w+C)*P,e&&y.length>2&&g.length>2){const D=A-p,U=I-p,j=T*U-N*D;s+=(D+U)*j,a+=j}b<n[0]&&(n[0]=b),b>n[1]&&(n[1]=b),x<n[2]&&(n[2]=x),x>n[3]&&(n[3]=x),e&&(A<n[4]&&(n[4]=A),A>n[5]&&(n[5]=A))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,r/(6*o)+c,o];return e&&(n[4]===n[5]||a===0?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=s/(6*a)+p,d[4]=a)),d}function kQ(t,e){let n=0,i=0,r=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const c=[t.x,t.y],[p,d]=l,f=p-s,y=d-o,[g,b]=c,x=g-s,A=b-o,T=f*A-x*y;r+=T,n+=(f+x)*T,i+=(y+A)*T,p<e[0]&&(e[0]=p),p>e[1]&&(e[1]=p),d<e[2]&&(e[2]=d),d>e[3]&&(e[3]=d)}return r>0&&(r*=-1),r?(r*=.5,[n/(6*r)+s,i/(6*r)+o,r]):null}function PQ(t,e){const n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;for(let l=0,c=t.length;l<c-1;l++){const p=t[l],d=t[l+1];if(p&&d){n[0]=p[0],n[1]=p[1],i[0]=d[0],i[1]=d[1],e&&p.length>2&&d.length>2&&(n[2]=p[2],i[2]=d[2]);const f=fg(n,i);if(f){r+=f;const y=A4(p,d);s+=f*y[0],o+=f*y[1],e&&y.length>2&&(a+=f*y[2])}}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.length?t[0]:null}function EN(t){const{hasZ:e,totalSize:n}=t;if(n===0)return null;const i=[],r=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=xN(pN(t),t.hasZ,s);o&&r.push(o)}if(r.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){t.reset(),t.nextPath();const o=t.pathSize?LQ(t):null;if(!o)return null;i[0]=o[0],i[1]=o[1],e&&o.length>2&&(i[2]=o[2])}return i}function LQ(t){const{hasZ:e}=t,n=e?[0,0,0]:[0,0],i=e?[0,0,0]:[0,0];let r=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,c=t.y,p=t.z;for(;t.nextPoint();){const d=t.x,f=t.y,y=t.z;n[0]=l,n[1]=c,i[0]=d,i[1]=f,e&&(n[2]=p,i[2]=y);const g=fg(n,i);if(g){r+=g;const b=A4(n,i);s+=g*b[0],o+=g*b[1],e&&b.length>2&&(a+=g*b[2])}l=d,c=f,p=y}}return r>0?e?[s/r,o/r,a/r]:[s/r,o/r]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const RQ=1e-6;function DQ(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<RQ){const r=EN(t);return r?[r[0],r[1]]:null}const n=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const i=[t.x,t.y];for(t.reset();t.nextPath();)jQ(n,i,t);return n[0]*=1/e,n[1]*=1/e,n[0]+=i[0],n[1]+=i[1],n}const FQ=1/3;function jQ(t,e,n){if(!t||!n||n.pathSize<3)return null;n.nextPoint();const i=n.x,r=n.y;n.nextPoint();let s,o=n.x-i,a=n.y-r,l=0,c=0;for(;n.nextPoint();)l=n.x-i,c=n.y-r,s=.5*FQ*(l*a-c*o),t[0]+=s*(o+l),t[1]+=s*(a+c),o=l,a=c;const p=n.getCurrentRingArea(),d=[i,r];return d[0]-=e[0],d[1]-=e[1],d[0]*=p,d[1]*=p,t[0]+=d[0],t[1]+=d[1],t}var mg;function SN(t){return!Array.isArray(t[0])}function GQ(t){return typeof t[0]?.[0]=="number"}function $Q(t){if(!t)return;let{rings:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],GQ(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Rt.WGS84,{...t,hasM:n,hasZ:i,rings:e,spatialReference:r}}let Wn=mg=class extends oi{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:n}=t;let i=!1,r=!1;for(const o of e)o.hasZ&&(i=!0),o.hasM&&(r=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(r&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:n};return i&&(s.hasZ=!0),r&&(s.hasM=!0),new mg(s)}constructor(t){super($Q(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){ew(Oe.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=_N(this);return t?re.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=ht(t)}get extent(){const t=E4(this),{spatialReference:e}=this;return t?new ae({...t,spatialReference:e}):null}get isSelfIntersecting(){return ew(Oe.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),zJ(this.rings)}writeRings(t,e){e.rings=ht(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(SN(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new mg;return t.spatialReference=this.spatialReference,t.rings=ht(this.rings),t.curveRings=ht(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;if(e!=null!=(n!=null)||e!=null&&n!=null&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const i=([r,s,o,a],[l,c,p,d])=>r===l&&s===c&&(o==null&&p==null||o===p)&&(a==null&&d==null||a===d);for(let r=0;r<this.rings.length;r++){const s=this.rings[r],o=t.rings[r];if(!Ed(s,o,i))return!1}return!0}contains(t){if(!t)return!1;const e=Qw(t,this.spatialReference);return U8(this,e??t)}isClockwise(t){const e=SN(t)?t.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):t;return T4(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new re(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new re(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new re(n[0],n[1],n[2],n[3],this.spatialReference):new re(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(bh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new re(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new re(r,n));return this.notifyChange("rings"),i}setPoint(t,e,n){return this._validateInputs(t,e)?(bh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const i=this.rings[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],Wn.prototype,"cache",null),v([E({readOnly:!0})],Wn.prototype,"centroid",null),v([E({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Wn.prototype,"curveRings",void 0),v([Ce("curveRings")],Wn.prototype,"writeCurveRings",null),v([E({readOnly:!0})],Wn.prototype,"extent",null),v([E({readOnly:!0})],Wn.prototype,"isSelfIntersecting",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],Wn.prototype,"rings",void 0),v([Ce("rings")],Wn.prototype,"writeRings",null),Wn=mg=v([tt("esri.geometry.Polygon")],Wn),Wn.prototype.toJSON.isDefaultToJSON=!0;var M4;function UQ(t){return!Array.isArray(t[0])}function VQ(t){return typeof t[0]?.[0]=="number"}function zQ(t){if(!t)return;let{paths:e,hasM:n,hasZ:i,spatialReference:r}=t;switch(e??=[],VQ(e)&&(e=[e]),e[0]?.[0]?.length){case 4:i??=!0,n??=!0;break;case 3:i??=n!==!0,n??=!i;break;default:i??=!1,n??=!1}return r??=Rt.WGS84,{...t,hasM:n,hasZ:i,paths:e,spatialReference:r}}let Ui=M4=class extends oi{constructor(t){super(zQ(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=ht(t)}get extent(){const t=hN(this),{spatialReference:e}=this;return t?new ae({...t,spatialReference:e}):null}writePaths(t,e){e.paths=ht(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(UQ(t)){const i=[];for(let r=0,s=t.length;r<s;r++)i[r]=t[r].toArray();e[n]=i}else e[n]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new M4;return t.spatialReference=this.spatialReference,t.paths=ht(this.paths),t.curvePaths=ht(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],i=this.hasZ,r=this.hasM;return i&&!r?new re(n[0],n[1],n[2],void 0,this.spatialReference):r&&!i?new re(n[0],n[1],void 0,n[2],this.spatialReference):i&&r?new re(n[0],n[1],n[2],n[3],this.spatialReference):new re(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(bh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,i=e.map(r=>new re(r,n));return this.notifyChange("paths"),i}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new re(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(bh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const i=this.paths[t];if(n&&(e<0||e>i.length)||!n&&(e<0||e>=i.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([E({readOnly:!0})],Ui.prototype,"cache",null),v([E({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Ui.prototype,"curvePaths",void 0),v([Ce("curvePaths")],Ui.prototype,"writeCurvePaths",null),v([E({readOnly:!0})],Ui.prototype,"extent",null),v([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ui.prototype,"paths",void 0),v([Ce("paths")],Ui.prototype,"writePaths",null),Ui=M4=v([tt("esri.geometry.Polyline")],Ui),Ui.prototype.toJSON.isDefaultToJSON=!0;function I4(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function O4(t){return t.points!==void 0}function N4(t){return t.x!==void 0&&t.y!==void 0}function C4(t){return t.paths!==void 0||t.curvePaths!==void 0}function k4(t){return t.rings!==void 0||t.curveRings!==void 0}function yg(t){return t==null?null:t instanceof oi?t:N4(t)?re.fromJSON(t):C4(t)?Ui.fromJSON(t):k4(t)?Wn.fromJSON(t):O4(t)?Kr.fromJSON(t):I4(t)?ae.fromJSON(t):null}function BQ(t){return t?N4(t)?"esriGeometryPoint":C4(t)?"esriGeometryPolyline":k4(t)?"esriGeometryPolygon":I4(t)?"esriGeometryEnvelope":O4(t)?"esriGeometryMultipoint":null:null}const WQ={esriGeometryPoint:re,esriGeometryPolyline:Ui,esriGeometryPolygon:Wn,esriGeometryEnvelope:ae,esriGeometryMultipoint:Kr,esriGeometryMultiPatch:Wn};function qQ(t){return t&&WQ[t]||null}const HQ=Symbol("ClonableMixin"),Vi=t=>{var e;const n=t;let i=class extends n{constructor(){super(...arguments),this[e]=!0}static{e=HQ}clone(r){const s=Yo(this);eI(s,"unable to clone instance of non-accessor class");const o=s.metadata,a=s.store,l={},c=new Map;for(const d in o){const f=o[d],y=a?.originOf(d),g=f.clonable;if(f.readOnly||g===!1||y!==7&&y!==0&&y!==5&&y!==4)continue;const b=this[d];let x=null;if(typeof g=="function")x=g(b,r);else if(g==="reference")x=b;else if(x=f_(b,r),b!=null&&x==null)continue;y===0?c.set(d,x):l[d]=x}const p=new(Object.getPrototypeOf(this)).constructor(l);if(c.size){const d=Yo(p)?.store;if(d)for(const[f,y]of c)d.set(f,y,0)}return p}};return i=v([tt("esri.core.Clonable")],i),i},ZQ=Vi(Bn),gg=t=>{const e=t;class n extends e{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(r,s){let o=this._listenersMap?.get(r);if(!o)return!1;let a=!1;for(const l of o.slice()){const c="deref"in l?l.deref():l;c?c?.call(this,s):a=!0}return a&&(o=o.filter(l=>!("deref"in l)||l.deref()!=null),this._listenersMap.set(r,o)),o.length>0}on(r,s){if(Array.isArray(r)){const a=r.map(l=>this.on(l,s));return fy(a)}if(r.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(r)||[];return o.push(s),this._listenersMap.set(r,o),un(()=>{const a=this._listenersMap?.get(r),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(r,s){const o=this.on(r,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(r){const s=this._listenersMap?.get(r);return s!=null&&s.length>0}}return n},AN=gg(class{}),YQ=AN,TN=gg(Bn);function MN(t){return(e,n)=>{e[n]=t}}let P4=class extends o6{notify(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onInvalidated(),n.onCommitted()}}};var ta;let JQ=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},XQ=class{constructor(t,e,n,i,r){this.target=t,this.added=e,this.removed=n,this.start=i,this.deleteCount=r}};const ts=new Nd(()=>new JQ,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function IN(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function L4(t){return t?t instanceof ul?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function R4(t){if(t?.length)return t[0]}function QQ(t,e,n,i){const r=Math.min(t.length-n,e.length-i);let s=0;for(;s<r&&t[n+s]===e[i+s];)s++;return s}function ON(t,e,n,i){e&&e.forEach((r,s,o)=>{t.push(r),ON(t,n.call(i,r,s,o),n,i)})}const al=new Set,ll=new Set,cl=new Set,D4=new Map;let KQ=0,ul=ta=class extends TN{static ofType(t){if(!t)return ta;if(D4.has(t))return D4.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const i in t.typeMap){const r=t.typeMap[i].prototype.declaredClass;e?e+=` | ${r}`:e=r}let n=class extends ta{};return v([MN({Type:t,ensureType:typeof t=="function"?qr(t):mc(t)})],n.prototype,"itemType",void 0),n=v([tt(`esri.core.Collection<${e}>`)],n),D4.set(t,n),n}static isCollection(t){return t!=null&&t instanceof ta}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new P4,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:KQ++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof ta?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ft(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,L4(t)),this._emitAfterChanges(1))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:super.hasEventListener(t))}on(t,e){if(this.destroyed)return un();if(t==="change"){const n=this._chgListeners,i={removed:!1,callback:e};return n.push(i),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),un(()=>{i.removed=!0,n.splice(n.indexOf(i),1)})}return super.on(t,e)}once(t,e){const n="deref"in e?()=>e.deref():()=>e,i=this.on(t,r=>{n()?.call(null,r),i.remove()});return i}add(t,e){if(Ft(this._observable),this._emitBeforeChanges(1))return this;const n=this.getNextIndex(e??null);return this._splice(n,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(Ft(this._observable),!t?.length)return this;if(this._emitBeforeChanges(1))return this;const n=this.getNextIndex(e);return this._splice(n,0,L4(t)),this._emitAfterChanges(1),this}at(t){if(Ft(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._removeAllRaw();return this._emitAfterChanges(2),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ft(this._observable),this._createNewInstance({items:this._items.map(ht)})}concat(...t){Ft(this._observable);const e=t.map(L4);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return;const n=this._splice(0,this.length),i=n.length;for(let r=0;r<i;r++)t.call(e,n[r],r,n);this._emitAfterChanges(2)}destroyAll(){this.drain(IN)}destroyMany(t){const e=this.removeMany(t);return e.forEach(IN),e}every(t,e){return Ft(this._observable),this._items.every(t,e)}filter(t,e){Ft(this._observable);const n=arguments.length===2?this._items.filter(t,e):this._items.filter(t);return this._createNewInstance({items:n})}find(t,e){return Ft(this._observable),this._items.find(t,e)}findIndex(t,e){return Ft(this._observable),this._items.findIndex(t,e)}flatten(t,e){Ft(this._observable);const n=[];return ON(n,this,t,e),new ta(n)}forEach(t,e){return Ft(this._observable),this._items.forEach(t,e)}getItemAt(t){return Ft(this._observable),this._items[t]}getNextIndex(t){Ft(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return Ft(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return Ft(this._observable),this._items.indexOf(t,e)}join(t=","){return Ft(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return Ft(this._observable),this._items.lastIndexOf(t,e)}map(t,e){Ft(this._observable);const n=this._items.map(t,e);return new ta({items:n})}reorder(t,e=this.length-1){Ft(this._observable);const n=this.indexOf(t);if(n!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),n!==e){if(this._emitBeforeChanges(4))return t;this._splice(n,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=R4(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return Ft(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){Ft(this._observable);const n=this._items;return arguments.length===2?n.reduce(t,e):n.reduce(t)}reduceRight(t,e){Ft(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(t,e):n.reduceRight(t)}remove(t){return Ft(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Ft(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=R4(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(Ft(this._observable),!t?.length||this._emitBeforeChanges(2))return[];const e=t instanceof ta?t.toArray():t,n=this._items,i=[],r=e.length;for(let s=0;s<r;s++){const o=e[s],a=n.indexOf(o);if(a>-1){const l=1+QQ(e,n,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(2),i}reverse(){if(Ft(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(Ft(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=R4(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return Ft(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return Ft(this._observable),this._items.some(t,e)}sort(t){if(Ft(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(t))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}_requiresSort(t=(e,n)=>e===n?0:e<n?-1:1){const e=this.length-1;for(let n=0;n<e;n++)if(t(this.items[n],this.items[n+1])>0)return!0;return!1}splice(t,e,...n){Ft(this._observable),arguments.length===1&&(e=this.length),e??=0;const i=(e?2:0)|(n.length?1:0);if(this._emitBeforeChanges(i))return[];const r=this._splice(t,e,n)||[];return this._emitAfterChanges(i),r}toArray(){return Ft(this._observable),this._items.slice()}toJSON(t){return Ft(this._observable),this.toArray().map(e=>$d(e)?e.toJSON(t):e)}toLocaleString(){return Ft(this._observable),this._items.toLocaleString()}toString(){return Ft(this._observable),this._items.toString()}unshift(...t){return Ft(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,n){const i=this._items,r=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=F_(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=i.splice(t,e),this.hasEventListener("before-remove")){const a=ts.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(t,0,s),t+=1,l-=1,c-=1);ts.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=ts.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);ts.release(a)}}if(n?.length){if(r){const p=[];for(const d of n){const f=r.ensureType(d);f==null&&d!=null||p.push(f)}n=p}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=t===this.length;if(a||l){const p=ts.acquire();p.target=this,p.cancellable=!0;const d=ts.acquire();d.target=this,d.cancellable=!1;for(const f of n)a?(p.reset(f),this.emit("before-add",p),p.defaultPrevented||(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),l&&(d.reset(f),this.emit("after-add",d)))):(c?i.push(f):i.splice(t++,0,f),this._set("length",i.length),d.reset(f),this.emit("after-add",d));ts.release(d),ts.release(p)}else{if(c)for(const p of n)i.push(p);else i.splice(t,0,...n);this._set("length",i.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener("after-splice")){const a=new XQ(this,n,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const n=ts.acquire();n.target=this,n.cancellable=!0,n.type=t,this.emit("before-changes",n),e=n.defaultPrevented,ts.release(n)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=ts.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),ts.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const n=e.changes;al.clear(),ll.clear(),cl.clear();for(const{added:l,removed:c}of n){if(l)if(cl.size===0&&ll.size===0)for(const p of l)al.add(p);else for(const p of l)ll.has(p)?(cl.add(p),ll.delete(p)):cl.has(p)||al.add(p);if(c)if(cl.size===0&&al.size===0)for(const p of c)ll.add(p);else for(const p of c)al.has(p)?al.delete(p):(cl.delete(p),ll.add(p))}const i=Zo.acquire();al.forEach(l=>{i.push(l)});const r=Zo.acquire();ll.forEach(l=>{r.push(l)});const s=this._items,o=e.items,a=Zo.acquire();if(cl.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(i.length||r.length||a.length)){const l={target:this,added:i,removed:r,moved:a},c=e.listeners.length;for(let p=0;p<c;p++){const d=e.listeners[p];d.removed||d.callback.call(this,l)}}Zo.release(i),Zo.release(r),Zo.release(a)}al.clear(),ll.clear(),cl.clear()}};v([E()],ul.prototype,"_updating",void 0),v([E()],ul.prototype,"length",void 0),v([E()],ul.prototype,"items",null),v([E({readOnly:!0})],ul.prototype,"updating",null),ul=ta=v([tt("esri.core.Collection")],ul);const de=ul;let F4;async function tK(){return F4==null&&(F4=import("./WhereClauseCache-BsKbP9g4.js").then(t=>new t.WhereClauseCache(500,500))),F4}async function NN(t,e){const n=await tK(),i=n.get(t,e);if(i==null)throw n.getError(t,e);return i}function eK(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function nK(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function iK(t,e){return e.length===0?null:`${t} IN (${rK(e)})`}function rK(t){return t.map(e=>typeof e=="string"?sK(e):e).join(",")}function sK(t){return`'${t.replaceAll("'","''")}'`}function oK(t){return typeof t=="number"}function aK(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function lK(t){return typeof t=="boolean"}function _h(t){return typeof t=="string"||t instanceof String}function CN(t){return t==null||_h(t)}function cK(t){return Array.isArray(t)}function uK(t){return t?.declaredClass==="esri.Graphic"}function hK(t){return t instanceof Date}class Rc extends Error{}class pK extends Rc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class dK extends Rc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class fK extends Rc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class wh extends Rc{}class kN extends Rc{constructor(e){super(`Invalid unit ${e}`)}}class _i extends Rc{}class hl extends Rc{constructor(){super("Zone is an abstract class")}}const gt="numeric",Fs="short",Or="long",vg={year:gt,month:gt,day:gt},PN={year:gt,month:Fs,day:gt},mK={year:gt,month:Fs,day:gt,weekday:Fs},LN={year:gt,month:Or,day:gt},RN={year:gt,month:Or,day:gt,weekday:Or},DN={hour:gt,minute:gt},FN={hour:gt,minute:gt,second:gt},jN={hour:gt,minute:gt,second:gt,timeZoneName:Fs},GN={hour:gt,minute:gt,second:gt,timeZoneName:Or},$N={hour:gt,minute:gt,hourCycle:"h23"},UN={hour:gt,minute:gt,second:gt,hourCycle:"h23"},VN={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:Fs},zN={hour:gt,minute:gt,second:gt,hourCycle:"h23",timeZoneName:Or},BN={year:gt,month:gt,day:gt,hour:gt,minute:gt},WN={year:gt,month:gt,day:gt,hour:gt,minute:gt,second:gt},qN={year:gt,month:Fs,day:gt,hour:gt,minute:gt},HN={year:gt,month:Fs,day:gt,hour:gt,minute:gt,second:gt},yK={year:gt,month:Fs,day:gt,weekday:Fs,hour:gt,minute:gt},ZN={year:gt,month:Or,day:gt,hour:gt,minute:gt,timeZoneName:Fs},YN={year:gt,month:Or,day:gt,hour:gt,minute:gt,second:gt,timeZoneName:Fs},JN={year:gt,month:Or,day:gt,weekday:Or,hour:gt,minute:gt,timeZoneName:Or},XN={year:gt,month:Or,day:gt,weekday:Or,hour:gt,minute:gt,second:gt,timeZoneName:Or};class xh{get type(){throw new hl}get name(){throw new hl}get ianaName(){return this.name}get isUniversal(){throw new hl}offsetName(e,n){throw new hl}formatOffset(e,n){throw new hl}offset(e){throw new hl}equals(e){throw new hl}get isValid(){throw new hl}}let j4=null;class Jb extends xh{static get instance(){return j4===null&&(j4=new Jb),j4}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return EC(e,n,i)}formatOffset(e,n){return hf(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const G4=new Map;function gK(t){let e=G4.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),G4.set(t,e)),e}const vK={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function bK(t,e){const n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,s,o,a,l,c,p]=i;return[o,r,s,a,l,c,p]}function _K(t,e){const n=t.formatToParts(e),i=[];for(let r=0;r<n.length;r++){const{type:s,value:o}=n[r],a=vK[s];s==="era"?i[a]=o:Dt(a)||(i[a]=parseInt(o,10))}return i}const $4=new Map;class Os extends xh{static create(e){let n=$4.get(e);return n===void 0&&$4.set(e,n=new Os(e)),n}static resetCache(){$4.clear(),G4.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Os.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return EC(e,n,i,this.name)}formatOffset(e,n){return hf(this.offset(e),n)}offset(e){if(!this.valid)return NaN;const n=new Date(e);if(isNaN(n))return NaN;const i=gK(this.name);let[r,s,o,a,l,c,p]=i.formatToParts?_K(i,n):bK(i,n);a==="BC"&&(r=-Math.abs(r)+1);const d=Sg({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:p,millisecond:0});let f=+n;const y=f%1e3;return f-=y>=0?y:1e3+y,(d-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let QN={};function wK(t,e={}){const n=JSON.stringify([t,e]);let i=QN[n];return i||(i=new Intl.ListFormat(t,e),QN[n]=i),i}const U4=new Map;function V4(t,e={}){const n=JSON.stringify([t,e]);let i=U4.get(n);return i===void 0&&(i=new Intl.DateTimeFormat(t,e),U4.set(n,i)),i}const z4=new Map;function xK(t,e={}){const n=JSON.stringify([t,e]);let i=z4.get(n);return i===void 0&&(i=new Intl.NumberFormat(t,e),z4.set(n,i)),i}const B4=new Map;function EK(t,e={}){const{base:n,...i}=e,r=JSON.stringify([t,i]);let s=B4.get(r);return s===void 0&&(s=new Intl.RelativeTimeFormat(t,e),B4.set(r,s)),s}let bg=null;function SK(){return bg||(bg=new Intl.DateTimeFormat().resolvedOptions().locale,bg)}const W4=new Map;function KN(t){let e=W4.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),W4.set(t,e)),e}const q4=new Map;function AK(t){let e=q4.get(t);if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in e||(e={...tC,...e}),q4.set(t,e)}return e}function TK(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let i,r;try{i=V4(t).resolvedOptions(),r=t}catch{const a=t.substring(0,n);i=V4(a).resolvedOptions(),r=a}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function MK(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function IK(t){const e=[];for(let n=1;n<=12;n++){const i=Ot.utc(2009,n,1);e.push(t(i))}return e}function OK(t){const e=[];for(let n=1;n<=7;n++){const i=Ot.utc(2016,11,13+n);e.push(t(i))}return e}function _g(t,e,n,i){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):i(e)}function NK(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||KN(t.locale).numberingSystem==="latn"}class CK{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=xK(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):e3(e,3);return jn(n,this.padTo)}}}class kK{constructor(e,n,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Os.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=V4(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:i}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class PK{constructor(e,n,i){this.opts={style:"long",...i},!n&&bC()&&(this.rtf=EK(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):ett(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const tC={firstDay:1,minimalDays:4,weekend:[6,7]};class Ae{static fromOpts(e){return Ae.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,i,r,s=!1){const o=e||dn.defaultLocale,a=o||(s?"en-US":SK()),l=n||dn.defaultNumberingSystem,c=i||dn.defaultOutputCalendar,p=K4(r)||dn.defaultWeekSettings;return new Ae(a,l,c,p,o)}static resetCache(){bg=null,U4.clear(),z4.clear(),B4.clear(),W4.clear(),q4.clear()}static fromObject({locale:e,numberingSystem:n,outputCalendar:i,weekSettings:r}={}){return Ae.create(e,n,i,r)}constructor(e,n,i,r,s){const[o,a,l]=TK(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=MK(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=NK(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ae.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,K4(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return _g(this,e,TC,()=>{const i=this.intl==="ja"||this.intl.startsWith("ja-");n&=!i;const r=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";if(!this.monthsCache[s][e]){const o=i?a=>this.dtFormatter(a,r).format():a=>this.extract(a,r,"month");this.monthsCache[s][e]=IK(o)}return this.monthsCache[s][e]})}weekdays(e,n=!1){return _g(this,e,OC,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=OK(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return _g(this,void 0,()=>NC,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ot.utc(2016,11,13,9),Ot.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return _g(this,e,CC,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ot.utc(-40,1,1),Ot.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,n,i){const r=this.dtFormatter(e,n),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new CK(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new kK(e,this.intl,n)}relFormatter(e={}){return new PK(this.intl,this.isEnglish(),e)}listFormatter(e={}){return wK(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||KN(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:_C()?AK(this.locale):tC}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let H4=null;class ki extends xh{static get utcInstance(){return H4===null&&(H4=new ki(0)),H4}static instance(e){return e===0?ki.utcInstance:new ki(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ki(Ag(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${hf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${hf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return hf(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class LK extends xh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function pl(t,e){if(Dt(t)||t===null)return e;if(t instanceof xh)return t;if($K(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Jb.instance:n==="utc"||n==="gmt"?ki.utcInstance:ki.parseSpecifier(n)||Os.create(t)}else return dl(t)?ki.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new LK(t)}const Z4={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},eC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},RK=Z4.hanidec.replace(/[\[|\]]/g,"").split("");function DK(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(t[n].search(Z4.hanidec)!==-1)e+=RK.indexOf(t[n]);else for(const r in eC){const[s,o]=eC[r];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}const Y4=new Map;function FK(){Y4.clear()}function js({numberingSystem:t},e=""){const n=t||"latn";let i=Y4.get(n);i===void 0&&(i=new Map,Y4.set(n,i));let r=i.get(e);return r===void 0&&(r=new RegExp(`${Z4[n]}${e}`),i.set(e,r)),r}let nC=()=>Date.now(),iC="system",rC=null,sC=null,oC=null,aC=60,lC,cC=null;class dn{static get now(){return nC}static set now(e){nC=e}static set defaultZone(e){iC=e}static get defaultZone(){return pl(iC,Jb.instance)}static get defaultLocale(){return rC}static set defaultLocale(e){rC=e}static get defaultNumberingSystem(){return sC}static set defaultNumberingSystem(e){sC=e}static get defaultOutputCalendar(){return oC}static set defaultOutputCalendar(e){oC=e}static get defaultWeekSettings(){return cC}static set defaultWeekSettings(e){cC=K4(e)}static get twoDigitCutoffYear(){return aC}static set twoDigitCutoffYear(e){aC=e%100}static get throwOnInvalid(){return lC}static set throwOnInvalid(e){lC=e}static resetCaches(){Ae.resetCache(),Os.resetCache(),Ot.resetCache(),FK()}}class Gs{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const uC=[0,31,59,90,120,151,181,212,243,273,304,334],hC=[0,31,60,91,121,152,182,213,244,274,305,335];function es(t,e){return new Gs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function J4(t,e,n){const i=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function pC(t,e,n){return n+(cf(t)?hC:uC)[e-1]}function dC(t,e){const n=cf(t)?hC:uC,i=n.findIndex(s=>s<e),r=e-n[i];return{month:i+1,day:r}}function X4(t,e){return(t-e+7)%7+1}function wg(t,e=4,n=1){const{year:i,month:r,day:s}=t,o=pC(i,r,s),a=X4(J4(i,r,s),n);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=i-1,l=uf(c,e,n)):l>uf(i,e,n)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...Mg(t)}}function fC(t,e=4,n=1){const{weekYear:i,weekNumber:r,weekday:s}=t,o=X4(J4(i,1,e),n),a=Sh(i);let l=r*7+s-o-7+e,c;l<1?(c=i-1,l+=Sh(c)):l>a?(c=i+1,l-=Sh(i)):c=i;const{month:p,day:d}=dC(c,l);return{year:c,month:p,day:d,...Mg(t)}}function Q4(t){const{year:e,month:n,day:i}=t,r=pC(e,n,i);return{year:e,ordinal:r,...Mg(t)}}function mC(t){const{year:e,ordinal:n}=t,{month:i,day:r}=dC(e,n);return{year:e,month:i,day:r,...Mg(t)}}function yC(t,e){if(!Dt(t.localWeekday)||!Dt(t.localWeekNumber)||!Dt(t.localWeekYear)){if(!Dt(t.weekday)||!Dt(t.weekNumber)||!Dt(t.weekYear))throw new wh("Cannot mix locale-based week fields with ISO-based week fields");return Dt(t.localWeekday)||(t.weekday=t.localWeekday),Dt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Dt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function jK(t,e=4,n=1){const i=xg(t.weekYear),r=ns(t.weekNumber,1,uf(t.weekYear,e,n)),s=ns(t.weekday,1,7);return i?r?s?!1:es("weekday",t.weekday):es("week",t.weekNumber):es("weekYear",t.weekYear)}function GK(t){const e=xg(t.year),n=ns(t.ordinal,1,Sh(t.year));return e?n?!1:es("ordinal",t.ordinal):es("year",t.year)}function gC(t){const e=xg(t.year),n=ns(t.month,1,12),i=ns(t.day,1,Eg(t.year,t.month));return e?n?i?!1:es("day",t.day):es("month",t.month):es("year",t.year)}function vC(t){const{hour:e,minute:n,second:i,millisecond:r}=t,s=ns(e,0,23)||e===24&&n===0&&i===0&&r===0,o=ns(n,0,59),a=ns(i,0,59),l=ns(r,0,999);return s?o?a?l?!1:es("millisecond",r):es("second",i):es("minute",n):es("hour",e)}function Dt(t){return typeof t>"u"}function dl(t){return typeof t=="number"}function xg(t){return typeof t=="number"&&t%1===0}function $K(t){return typeof t=="string"}function UK(t){return Object.prototype.toString.call(t)==="[object Date]"}function bC(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _C(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function VK(t){return Array.isArray(t)?t:[t]}function wC(t,e,n){if(t.length!==0)return t.reduce((i,r)=>{const s=[e(r),r];return i&&n(i[0],s[0])===i[0]?i:s},null)[1]}function zK(t,e){return e.reduce((n,i)=>(n[i]=t[i],n),{})}function Eh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function K4(t){if(t==null)return null;if(typeof t!="object")throw new _i("Week settings must be an object");if(!ns(t.firstDay,1,7)||!ns(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!ns(e,1,7)))throw new _i("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function ns(t,e,n){return xg(t)&&t>=e&&t<=n}function BK(t,e){return t-e*Math.floor(t/e)}function jn(t,e=2){const n=t<0;let i;return n?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function fl(t){if(!(Dt(t)||t===null||t===""))return parseInt(t,10)}function Dc(t){if(!(Dt(t)||t===null||t===""))return parseFloat(t)}function t3(t){if(!(Dt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function e3(t,e,n="round"){const i=10**e;switch(n){case"expand":return t>0?Math.ceil(t*i)/i:Math.floor(t*i)/i;case"trunc":return Math.trunc(t*i)/i;case"round":return Math.round(t*i)/i;case"floor":return Math.floor(t*i)/i;case"ceil":return Math.ceil(t*i)/i;default:throw new RangeError(`Value rounding ${n} is out of range`)}}function cf(t){return t%4===0&&(t%100!==0||t%400===0)}function Sh(t){return cf(t)?366:365}function Eg(t,e){const n=BK(e-1,12)+1,i=t+(e-n)/12;return n===2?cf(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Sg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function xC(t,e,n){return-X4(J4(t,1,e),n)+e-1}function uf(t,e=4,n=1){const i=xC(t,e,n),r=xC(t+1,e,n);return(Sh(t)-i+r)/7}function n3(t){return t>99?t:t>dn.twoDigitCutoffYear?1900+t:2e3+t}function EC(t,e,n,i=null){const r=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(n,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Ag(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const i=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-i:i;return n*60+r}function SC(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new _i(`Invalid unit value ${t}`);return e}function Tg(t,e){const n={};for(const i in t)if(Eh(t,i)){const r=t[i];if(r==null)continue;n[e(i)]=SC(r)}return n}function hf(t,e){const n=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${jn(n,2)}:${jn(i,2)}`;case"narrow":return`${r}${n}${i>0?`:${i}`:""}`;case"techie":return`${r}${jn(n,2)}${jn(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Mg(t){return zK(t,["hour","minute","second","millisecond"])}const WK=["January","February","March","April","May","June","July","August","September","October","November","December"],AC=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],qK=["J","F","M","A","M","J","J","A","S","O","N","D"];function TC(t){switch(t){case"narrow":return[...qK];case"short":return[...AC];case"long":return[...WK];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const MC=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],IC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],HK=["M","T","W","T","F","S","S"];function OC(t){switch(t){case"narrow":return[...HK];case"short":return[...IC];case"long":return[...MC];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const NC=["AM","PM"],ZK=["Before Christ","Anno Domini"],YK=["BC","AD"],JK=["B","A"];function CC(t){switch(t){case"narrow":return[...JK];case"short":return[...YK];case"long":return[...ZK];default:return null}}function XK(t){return NC[t.hour<12?0:1]}function QK(t,e){return OC(e)[t.weekday-1]}function KK(t,e){return TC(e)[t.month-1]}function ttt(t,e){return CC(e)[t.year<0?0:1]}function ett(t,e,n="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${r[t][0]}`;case-1:return d?"yesterday":`last ${r[t][0]}`;case 0:return d?"today":`this ${r[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[t],p=i?l?c[1]:c[2]||c[1]:l?r[t][0]:t;return o?`${a} ${p} ago`:`in ${a} ${p}`}function kC(t,e){let n="";for(const i of t)i.literal?n+=i.val:n+=e(i.val);return n}const ntt={D:vg,DD:PN,DDD:LN,DDDD:RN,t:DN,tt:FN,ttt:jN,tttt:GN,T:$N,TT:UN,TTT:VN,TTTT:zN,f:BN,ff:qN,fff:ZN,ffff:JN,F:WN,FF:HN,FFF:YN,FFFF:XN};class Pi{static create(e,n={}){return new Pi(e,n)}static parseFormat(e){let n=null,i="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?((i.length>0||r)&&s.push({literal:r||/^\s+$/.test(i),val:i===""?"'":i}),n=null,i="",r=!r):r||a===n?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,n=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return ntt[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0,i=void 0){if(this.opts.forceSimple)return jn(e,n);const r={...this.opts};return n>0&&(r.padTo=n),i&&(r.signDisplay=i),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(e,y,g),o=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",a=()=>i?XK(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>i?KK(e,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>i?QK(e,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),p=y=>{const g=Pi.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(e,g):y},d=y=>i?ttt(e,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(y)}};return kC(Pi.parseFormat(n),f)}formatDurationFromString(e,n){const i=this.opts.signMode==="negativeLargestOnly"?-1:1,r=p=>{switch(p[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},s=(p,d)=>f=>{const y=r(f);if(y){const g=d.isNegativeDuration&&y!==d.largestUnit?i:1;let b;return this.opts.signMode==="negativeLargestOnly"&&y!==d.largestUnit?b="never":this.opts.signMode==="all"?b="always":b="auto",this.num(p.get(y)*g,f.length,b)}else return f},o=Pi.parseFormat(n),a=o.reduce((p,{literal:d,val:f})=>d?p:p.concat(f),[]),l=e.shiftTo(...a.map(r).filter(p=>p)),c={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return kC(o,s(l,c))}}const PC=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ah(...t){const e=t.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function Th(...t){return e=>t.reduce(([n,i,r],s)=>{const[o,a,l]=s(e,r);return[{...n,...o},a||i,l]},[{},null,1]).slice(0,2)}function Mh(t,...e){if(t==null)return[null,null];for(const[n,i]of e){const r=n.exec(t);if(r)return i(r)}return[null,null]}function LC(...t){return(e,n)=>{const i={};let r;for(r=0;r<t.length;r++)i[t[r]]=fl(e[n+r]);return[i,null,n+r]}}const RC=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,itt=`(?:${RC.source}?(?:\\[(${PC.source})\\])?)?`,i3=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,DC=RegExp(`${i3.source}${itt}`),r3=RegExp(`(?:[Tt]${DC.source})?`),rtt=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,stt=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ott=/(\d{4})-?(\d{3})/,att=LC("weekYear","weekNumber","weekDay"),ltt=LC("year","ordinal"),ctt=/(\d{4})-(\d\d)-(\d\d)/,FC=RegExp(`${i3.source} ?(?:${RC.source}|(${PC.source}))?`),utt=RegExp(`(?: ${FC.source})?`);function Ih(t,e,n){const i=t[e];return Dt(i)?n:fl(i)}function htt(t,e){return[{year:Ih(t,e),month:Ih(t,e+1,1),day:Ih(t,e+2,1)},null,e+3]}function Oh(t,e){return[{hours:Ih(t,e,0),minutes:Ih(t,e+1,0),seconds:Ih(t,e+2,0),milliseconds:t3(t[e+3])},null,e+4]}function pf(t,e){const n=!t[e]&&!t[e+1],i=Ag(t[e+1],t[e+2]),r=n?null:ki.instance(i);return[{},r,e+3]}function df(t,e){const n=t[e]?Os.create(t[e]):null;return[{},n,e+1]}const ptt=RegExp(`^T?${i3.source}$`),dtt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ftt(t){const[e,n,i,r,s,o,a,l,c]=t,p=e[0]==="-",d=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&p)?-y:y;return[{years:f(Dc(n)),months:f(Dc(i)),weeks:f(Dc(r)),days:f(Dc(s)),hours:f(Dc(o)),minutes:f(Dc(a)),seconds:f(Dc(l),l==="-0"),milliseconds:f(t3(c),d)}]}const mtt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function s3(t,e,n,i,r,s,o){const a={year:e.length===2?n3(fl(e)):fl(e),month:AC.indexOf(n)+1,day:fl(i),hour:fl(r),minute:fl(s)};return o&&(a.second=fl(o)),t&&(a.weekday=t.length>3?MC.indexOf(t)+1:IC.indexOf(t)+1),a}const ytt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function gtt(t){const[,e,n,i,r,s,o,a,l,c,p,d]=t,f=s3(e,r,i,n,s,o,a);let y;return l?y=mtt[l]:c?y=0:y=Ag(p,d),[f,new ki(y)]}function vtt(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const btt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,_tt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,wtt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function jC(t){const[,e,n,i,r,s,o,a]=t;return[s3(e,r,i,n,s,o,a),ki.utcInstance]}function xtt(t){const[,e,n,i,r,s,o,a]=t;return[s3(e,a,n,i,r,s,o),ki.utcInstance]}const Ett=Ah(rtt,r3),Stt=Ah(stt,r3),Att=Ah(ott,r3),Ttt=Ah(DC),GC=Th(htt,Oh,pf,df),Mtt=Th(att,Oh,pf,df),Itt=Th(ltt,Oh,pf,df),Ott=Th(Oh,pf,df);function Ntt(t){return Mh(t,[Ett,GC],[Stt,Mtt],[Att,Itt],[Ttt,Ott])}function Ctt(t){return Mh(vtt(t),[ytt,gtt])}function ktt(t){return Mh(t,[btt,jC],[_tt,jC],[wtt,xtt])}function Ptt(t){return Mh(t,[dtt,ftt])}const Ltt=Th(Oh);function Rtt(t){return Mh(t,[ptt,Ltt])}const Dtt=Ah(ctt,utt),Ftt=Ah(FC),jtt=Th(Oh,pf,df);function Gtt(t){return Mh(t,[Dtt,GC],[Ftt,jtt])}const $C="Invalid Duration",UC={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},$tt={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...UC},is=146097/400,Nh=146097/4800,Utt={years:{quarters:4,months:12,weeks:is/7,days:is,hours:is*24,minutes:is*24*60,seconds:is*24*60*60,milliseconds:is*24*60*60*1e3},quarters:{months:3,weeks:is/28,days:is/4,hours:is*24/4,minutes:is*24*60/4,seconds:is*24*60*60/4,milliseconds:is*24*60*60*1e3/4},months:{weeks:Nh/7,days:Nh,hours:Nh*24,minutes:Nh*24*60,seconds:Nh*24*60*60,milliseconds:Nh*24*60*60*1e3},...UC},Fc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vtt=Fc.slice(0).reverse();function ea(t,e,n=!1){const i={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new ue(i)}function VC(t,e){let n=e.milliseconds??0;for(const i of Vtt.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function zC(t,e){const n=VC(t,e)<0?-1:1;Fc.reduceRight((i,r)=>{if(Dt(e[r]))return i;if(i){const s=e[i]*n,o=t[r][i],a=Math.floor(s/o);e[r]+=a*n,e[i]-=a*o*n}return r},null),Fc.reduce((i,r)=>{if(Dt(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*t[i][r]}return r},null)}function BC(t){const e={};for(const[n,i]of Object.entries(t))i!==0&&(e[n]=i);return e}class ue{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let i=n?Utt:$tt;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Ae.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,n){return ue.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new _i(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ue({values:Tg(e,ue.normalizeUnit),loc:Ae.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(dl(e))return ue.fromMillis(e);if(ue.isDuration(e))return e;if(typeof e=="object")return ue.fromObject(e);throw new _i(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[i]=Ptt(e);return i?ue.fromObject(i,n):ue.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[i]=Rtt(e);return i?ue.fromObject(i,n):ue.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the Duration is invalid");const i=e instanceof Gs?e:new Gs(e,n);if(dn.throwOnInvalid)throw new fK(i);return new ue({invalid:i})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new kN(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const i={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Pi.create(this.loc,i).formatDurationFromString(this,e):$C}toHuman(e={}){if(!this.isValid)return $C;const n=e.showZeros!==!1,i=Fc.map(r=>{const s=this.values[r];return Dt(s)||s===0&&!n?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(s)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=e3(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ot.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?VC(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=ue.fromDurationLike(e),i={};for(const r of Fc)(Eh(n.values,r)||Eh(this.values,r))&&(i[r]=n.get(r)+this.get(r));return ea(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const n=ue.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const i of Object.keys(this.values))n[i]=SC(e(this.values[i],i));return ea(this,{values:n},!0)}get(e){return this[ue.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Tg(e,ue.normalizeUnit)};return ea(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i,matrix:r}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:i};return ea(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return zC(this.matrix,e),ea(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=BC(this.normalize().shiftToAll().toObject());return ea(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>ue.normalizeUnit(o));const n={},i={},r=this.toObject();let s;for(const o of Fc)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;dl(r[o])&&(a+=r[o]);const l=Math.trunc(a);n[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else dl(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(n[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return zC(this.matrix,n),ea(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ea(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=BC(this.values);return ea(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of Fc)if(!n(this.values[i],e.values[i]))return!1;return!0}}const Ch="Invalid Interval";function ztt(t,e){return!t||!t.isValid?An.invalid("missing or invalid start"):!e||!e.isValid?An.invalid("missing or invalid end"):e<t?An.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class An{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the Interval is invalid");const i=e instanceof Gs?e:new Gs(e,n);if(dn.throwOnInvalid)throw new dK(i);return new An({invalid:i})}static fromDateTimes(e,n){const i=yf(e),r=yf(n);return ztt(i,r)??new An({start:i,end:r})}static after(e,n){const i=ue.fromDurationLike(n),r=yf(e);return An.fromDateTimes(r,r.plus(i))}static before(e,n){const i=ue.fromDurationLike(n),r=yf(e);return An.fromDateTimes(r.minus(i),r)}static fromISO(e,n){const[i,r]=(e||"").split("/",2);if(i&&r){let s,o;try{s=Ot.fromISO(i,n),o=s.isValid}catch{o=!1}let a,l;try{a=Ot.fromISO(r,n),l=a.isValid}catch{l=!1}if(o&&l)return An.fromDateTimes(s,a);if(o){const c=ue.fromISO(r,n);if(c.isValid)return An.after(s,c)}else if(l){const c=ue.fromISO(i,n);if(c.isValid)return An.before(a,c)}}return An.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const i=this.start.startOf(e,n);let r;return n?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,n),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?An.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(yf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=n[s]||this.e,a=+o>+this.e?this.e:o;i.push(An.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(e){const n=ue.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(An.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:An.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return An.fromDateTimes(n,i)}static merge(e){const[n,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?n=l.time:(n&&+n!=+l.time&&r.push(An.fromDateTimes(n,l.time)),n=null);return An.merge(r)}difference(...e){return An.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Ch}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=vg,n={}){return this.isValid?Pi.create(this.s.loc.clone(n),e).formatInterval(this):Ch}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ch}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ch}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ch}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Ch}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):ue.invalid(this.invalidReason)}mapEndpoints(e){return An.fromDateTimes(e(this.s),e(this.e))}}class Ig{static hasDST(e=dn.defaultZone){const n=Ot.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Os.isValidZone(e)}static normalizeZone(e){return pl(e,dn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Ae.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Ae.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Ae.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Ae.create(n,i,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||Ae.create(n,i,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ae.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Ae.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ae.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Ae.create(n,null,"gregory").eras(e)}static features(){return{relative:bC(),localeWeek:_C()}}}function WC(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(t);return Math.floor(ue.fromMillis(i).as("days"))}function Btt(t,e,n){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const p=WC(l,c);return(p-p%7)/7}],["days",WC]],r={},s=t;let o,a;for(const[l,c]of i)n.indexOf(l)>=0&&(o=l,r[l]=c(t,e),a=s.plus(r),a>e?(r[l]--,t=s.plus(r),t>e&&(a=t,r[l]--,t=s.plus(r))):t=a);return[t,r,a,o]}function Wtt(t,e,n,i){let[r,s,o,a]=Btt(t,e,n);const l=e-r,c=n.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const p=ue.fromObject(s,i);return c.length>0?ue.fromMillis(l,i).shiftTo(...c).plus(p):p}const qtt="missing Intl.DateTimeFormat.formatToParts support";function fe(t,e=n=>n){return{regex:t,deser:([n])=>e(DK(n))}}const Htt="\xA0",qC=`[ ${Htt}]`,HC=new RegExp(qC,"g");function Ztt(t){return t.replace(/\./g,"\\.?").replace(HC,qC)}function ZC(t){return t.replace(/\./g,"").replace(HC," ").toLowerCase()}function $s(t,e){return t===null?null:{regex:RegExp(t.map(Ztt).join("|")),deser:([n])=>t.findIndex(i=>ZC(n)===ZC(i))+e}}function YC(t,e){return{regex:t,deser:([,n,i])=>Ag(n,i),groups:e}}function Og(t){return{regex:t,deser:([e])=>e}}function Ytt(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Jtt(t,e){const n=js(e),i=js(e,"{2}"),r=js(e,"{3}"),s=js(e,"{4}"),o=js(e,"{6}"),a=js(e,"{1,2}"),l=js(e,"{1,3}"),c=js(e,"{1,6}"),p=js(e,"{1,9}"),d=js(e,"{2,4}"),f=js(e,"{4,6}"),y=b=>({regex:RegExp(Ytt(b.val)),deser:([x])=>x,literal:!0}),g=(b=>{if(t.literal)return y(b);switch(b.val){case"G":return $s(e.eras("short"),0);case"GG":return $s(e.eras("long"),0);case"y":return fe(c);case"yy":return fe(d,n3);case"yyyy":return fe(s);case"yyyyy":return fe(f);case"yyyyyy":return fe(o);case"M":return fe(a);case"MM":return fe(i);case"MMM":return $s(e.months("short",!0),1);case"MMMM":return $s(e.months("long",!0),1);case"L":return fe(a);case"LL":return fe(i);case"LLL":return $s(e.months("short",!1),1);case"LLLL":return $s(e.months("long",!1),1);case"d":return fe(a);case"dd":return fe(i);case"o":return fe(l);case"ooo":return fe(r);case"HH":return fe(i);case"H":return fe(a);case"hh":return fe(i);case"h":return fe(a);case"mm":return fe(i);case"m":return fe(a);case"q":return fe(a);case"qq":return fe(i);case"s":return fe(a);case"ss":return fe(i);case"S":return fe(l);case"SSS":return fe(r);case"u":return Og(p);case"uu":return Og(a);case"uuu":return fe(n);case"a":return $s(e.meridiems(),0);case"kkkk":return fe(s);case"kk":return fe(d,n3);case"W":return fe(a);case"WW":return fe(i);case"E":case"c":return fe(n);case"EEE":return $s(e.weekdays("short",!1),1);case"EEEE":return $s(e.weekdays("long",!1),1);case"ccc":return $s(e.weekdays("short",!0),1);case"cccc":return $s(e.weekdays("long",!0),1);case"Z":case"ZZ":return YC(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return YC(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return Og(/[a-z_+-/]{1,256}?/i);case" ":return Og(/[^\S\n\r]/);default:return y(b)}})(t)||{invalidReason:qtt};return g.token=t,g}const Xtt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Qtt(t,e,n){const{type:i,value:r}=t;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=Xtt[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function Ktt(t){return[`^${t.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,t]}function tet(t,e,n){const i=t.match(e);if(i){const r={};let s=1;for(const o in n)if(Eh(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function eet(t){const e=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,i;return Dt(t.z)||(n=Os.create(t.z)),Dt(t.Z)||(n||(n=new ki(t.Z)),i=t.Z),Dt(t.q)||(t.M=(t.q-1)*3+1),Dt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Dt(t.u)||(t.S=t3(t.u)),[Object.keys(t).reduce((r,s)=>{const o=e(s);return o&&(r[o]=t[s]),r},{}),n,i]}let o3=null;function net(){return o3||(o3=Ot.fromMillis(1555555555555)),o3}function iet(t,e){if(t.literal)return t;const n=Pi.macroTokenToFormatOpts(t.val),i=KC(n,e);return i==null||i.includes(void 0)?t:i}function JC(t,e){return Array.prototype.concat(...t.map(n=>iet(n,e)))}class XC{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=JC(Pi.parseFormat(n),e),this.units=this.tokens.map(i=>Jtt(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,r]=Ktt(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){const[n,i]=tet(e,this.regex,this.handlers),[r,s,o]=i?eet(i):[null,null,void 0];if(Eh(i,"a")&&Eh(i,"H"))throw new wh("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:i,result:r,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function QC(t,e,n){return new XC(t,n).explainFromTokens(e)}function ret(t,e,n){const{result:i,zone:r,specificOffset:s,invalidReason:o}=QC(t,e,n);return[i,r,s,o]}function KC(t,e){if(!t)return null;const n=Pi.create(e,t).dtFormatter(net()),i=n.formatToParts(),r=n.resolvedOptions();return i.map(s=>Qtt(s,t,r))}const a3="Invalid DateTime",tk=864e13;function ff(t){return new Gs("unsupported zone",`the zone "${t.name}" is not supported`)}function l3(t){return t.weekData===null&&(t.weekData=wg(t.c)),t.weekData}function c3(t){return t.localWeekData===null&&(t.localWeekData=wg(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function jc(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Ot({...n,...e,old:n})}function ek(t,e,n){let i=t-e*60*1e3;const r=n.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=n.offset(i);return r===s?[i,r]:[t-Math.min(r,s)*60*1e3,Math.max(r,s)]}function Ng(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Cg(t,e,n){return ek(Sg(t),e,n)}function nk(t,e){const n=t.o,i=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:i,month:r,day:Math.min(t.c.day,Eg(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=ue.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Sg(s);let[l,c]=ek(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function kh(t,e,n,i,r,s){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=Ot.fromObject(t,{...n,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Ot.invalid(new Gs("unparsable",`the input "${r}" can't be parsed as ${i}`))}function kg(t,e,n=!0){return t.isValid?Pi.create(Ae.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function u3(t,e,n){const i=t.c.year>9999||t.c.year<0;let r="";if(i&&t.c.year>=0&&(r+="+"),r+=jn(t.c.year,i?6:4),n==="year")return r;if(e){if(r+="-",r+=jn(t.c.month),n==="month")return r;r+="-"}else if(r+=jn(t.c.month),n==="month")return r;return r+=jn(t.c.day),r}function ik(t,e,n,i,r,s,o){let a=!n||t.c.millisecond!==0||t.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=jn(t.c.hour),o==="hour")break;if(e){if(l+=":",l+=jn(t.c.minute),o==="minute")break;a&&(l+=":",l+=jn(t.c.second))}else{if(l+=jn(t.c.minute),o==="minute")break;a&&(l+=jn(t.c.second))}if(o==="second")break;a&&(!i||t.c.millisecond!==0)&&(l+=".",l+=jn(t.c.millisecond,3))}return r&&(t.isOffsetFixed&&t.offset===0&&!s?l+="Z":t.o<0?(l+="-",l+=jn(Math.trunc(-t.o/60)),l+=":",l+=jn(Math.trunc(-t.o%60))):(l+="+",l+=jn(Math.trunc(t.o/60)),l+=":",l+=jn(Math.trunc(t.o%60)))),s&&(l+="["+t.zone.ianaName+"]"),l}const rk={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},set={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},oet={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Pg=["year","month","day","hour","minute","second","millisecond"],aet=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],cet=["year","ordinal","hour","minute","second","millisecond"];function Lg(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new kN(t);return e}function sk(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Lg(t)}}function uet(t){if(mf===void 0&&(mf=dn.now()),t.type!=="iana")return t.offset(mf);const e=t.name;let n=h3.get(e);return n===void 0&&(n=t.offset(mf),h3.set(e,n)),n}function ok(t,e){const n=pl(e.zone,dn.defaultZone);if(!n.isValid)return Ot.invalid(ff(n));const i=Ae.fromObject(e);let r,s;if(Dt(t.year))r=dn.now();else{for(const l of Pg)Dt(t[l])&&(t[l]=rk[l]);const o=gC(t)||vC(t);if(o)return Ot.invalid(o);const a=uet(n);[r,s]=Cg(t,a,n)}return new Ot({ts:r,zone:n,loc:i,o:s})}function ak(t,e,n){const i=Dt(n.round)?!0:n.round,r=Dt(n.rounding)?"trunc":n.rounding,s=(a,l)=>(a=e3(a,i||n.calendary?0:2,n.calendary?"round":r),e.loc.clone(n).relFormatter(n).format(a,l)),o=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return s(o(n.unit),n.unit);for(const a of n.units){const l=o(a);if(Math.abs(l)>=1)return s(l,a)}return s(t>e?-0:0,n.units[n.units.length-1])}function lk(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let mf;const h3=new Map;class Ot{constructor(e){const n=e.zone||dn.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Gs("invalid input"):null)||(n.isValid?null:ff(n));this.ts=Dt(e.ts)?dn.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,s]=[e.old.c,e.old.o];else{const o=dl(e.o)&&!e.old?e.o:n.offset(this.ts);r=Ng(this.ts,o),i=Number.isNaN(r.year)?new Gs("invalid input"):null,r=i?null:r,s=i?null:o}this._zone=n,this.loc=e.loc||Ae.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ot({})}static local(){const[e,n]=lk(arguments),[i,r,s,o,a,l,c]=n;return ok({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=lk(arguments),[i,r,s,o,a,l,c]=n;return e.zone=ki.utcInstance,ok({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const i=UK(e)?e.valueOf():NaN;if(Number.isNaN(i))return Ot.invalid("invalid input");const r=pl(n.zone,dn.defaultZone);return r.isValid?new Ot({ts:i,zone:r,loc:Ae.fromObject(n)}):Ot.invalid(ff(r))}static fromMillis(e,n={}){if(dl(e))return e<-tk||e>tk?Ot.invalid("Timestamp out of range"):new Ot({ts:e,zone:pl(n.zone,dn.defaultZone),loc:Ae.fromObject(n)});throw new _i(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(dl(e))return new Ot({ts:e*1e3,zone:pl(n.zone,dn.defaultZone),loc:Ae.fromObject(n)});throw new _i("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const i=pl(n.zone,dn.defaultZone);if(!i.isValid)return Ot.invalid(ff(i));const r=Ae.fromObject(n),s=Tg(e,sk),{minDaysInFirstWeek:o,startOfWeek:a}=yC(s,r),l=dn.now(),c=Dt(n.specificOffset)?i.offset(l):n.specificOffset,p=!Dt(s.ordinal),d=!Dt(s.year),f=!Dt(s.month)||!Dt(s.day),y=d||f,g=s.weekYear||s.weekNumber;if((y||p)&&g)throw new wh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&p)throw new wh("Can't mix ordinal dates with month/day");const b=g||s.weekday&&!y;let x,A,T=Ng(l,c);b?(x=aet,A=set,T=wg(T,o,a)):p?(x=cet,A=oet,T=Q4(T)):(x=Pg,A=rk);let w=!1;for(const D of x){const U=s[D];Dt(U)?w?s[D]=A[D]:s[D]=T[D]:w=!0}const _=b?jK(s,o,a):p?GK(s):gC(s),M=_||vC(s);if(M)return Ot.invalid(M);const I=b?fC(s,o,a):p?mC(s):s,[N,C]=Cg(I,c,i),P=new Ot({ts:N,zone:i,o:C,loc:r});return s.weekday&&y&&e.weekday!==P.weekday?Ot.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${P.toISO()}`):P.isValid?P:Ot.invalid(P.invalid)}static fromISO(e,n={}){const[i,r]=Ntt(e);return kh(i,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[i,r]=Ctt(e);return kh(i,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[i,r]=ktt(e);return kh(i,r,n,"HTTP",n)}static fromFormat(e,n,i={}){if(Dt(e)||Dt(n))throw new _i("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=Ae.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,p]=ret(o,e,n);return p?Ot.invalid(p):kh(a,l,i,`format ${n}`,e,c)}static fromString(e,n,i={}){return Ot.fromFormat(e,n,i)}static fromSQL(e,n={}){const[i,r]=Gtt(e);return kh(i,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the DateTime is invalid");const i=e instanceof Gs?e:new Gs(e,n);if(dn.throwOnInvalid)throw new pK(i);return new Ot({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const i=KC(e,Ae.fromObject(n));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return JC(Pi.parseFormat(e),Ae.fromObject(n)).map(i=>i.val).join("")}static resetCache(){mf=void 0,h3.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?l3(this).weekYear:NaN}get weekNumber(){return this.isValid?l3(this).weekNumber:NaN}get weekday(){return this.isValid?l3(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?c3(this).weekday:NaN}get localWeekNumber(){return this.isValid?c3(this).weekNumber:NaN}get localWeekYear(){return this.isValid?c3(this).weekYear:NaN}get ordinal(){return this.isValid?Q4(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ig.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ig.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ig.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ig.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,i=Sg(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-r*n),a=this.zone.offset(i-s*n);if(o===a)return[this];const l=i-o*n,c=i-a*n,p=Ng(l,o),d=Ng(c,a);return p.hour===d.hour&&p.minute===d.minute&&p.second===d.second&&p.millisecond===d.millisecond?[jc(this,{ts:l}),jc(this,{ts:c})]:[this]}get isInLeapYear(){return cf(this.year)}get daysInMonth(){return Eg(this.year,this.month)}get daysInYear(){return this.isValid?Sh(this.year):NaN}get weeksInWeekYear(){return this.isValid?uf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?uf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:i,calendar:r}=Pi.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(ki.instance(e),n)}toLocal(){return this.setZone(dn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=pl(e,dn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||i){const s=e.offset(this.ts),o=this.toObject();[r]=Cg(o,s,e)}return jc(this,{ts:r,zone:e})}else return Ot.invalid(ff(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return jc(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Tg(e,sk),{minDaysInFirstWeek:i,startOfWeek:r}=yC(n,this.loc),s=!Dt(n.weekYear)||!Dt(n.weekNumber)||!Dt(n.weekday),o=!Dt(n.ordinal),a=!Dt(n.year),l=!Dt(n.month)||!Dt(n.day),c=a||l,p=n.weekYear||n.weekNumber;if((c||o)&&p)throw new wh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new wh("Can't mix ordinal dates with month/day");let d;s?d=fC({...wg(this.c,i,r),...n},i,r):Dt(n.ordinal)?(d={...this.toObject(),...n},Dt(n.day)&&(d.day=Math.min(Eg(d.year,d.month),d.day))):d=mC({...Q4(this.c),...n});const[f,y]=Cg(d,this.o,this.zone);return jc(this,{ts:f,o:y})}plus(e){if(!this.isValid)return this;const n=ue.fromDurationLike(e);return jc(this,nk(this,n))}minus(e){if(!this.isValid)return this;const n=ue.fromDurationLike(e).negate();return jc(this,nk(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const i={},r=ue.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(r==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(r==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Pi.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):a3}toLocaleString(e=vg,n={}){return this.isValid?Pi.create(this.loc.clone(n),e).formatDateTime(this):a3}toLocaleParts(e={}){return this.isValid?Pi.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=Lg(o);const a=e==="extended";let l=u3(this,a,o);return Pg.indexOf(o)>=3&&(l+="T"),l+=ik(this,a,n,i,r,s,o),l}toISODate({format:e="extended",precision:n="day"}={}){return this.isValid?u3(this,e==="extended",Lg(n)):null}toISOWeekDate(){return kg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended",precision:a="milliseconds"}={}){return this.isValid?(a=Lg(a),(r&&Pg.indexOf(a)>=3?"T":"")+ik(this,o==="extended",n,e,i,s,a)):null}toRFC2822(){return kg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return kg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?u3(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(i&&(r+=" "),n?r+="z":e&&(r+="ZZ")),kg(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():a3}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return ue.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=VK(n).map(ue.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=Wtt(a,l,s,r);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(Ot.now(),e,n)}until(e){return this.isValid?An.fromDateTimes(this,e):this}hasSame(e,n,i){if(!this.isValid)return!1;const r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,i)<=r&&r<=s.endOf(n,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Ot.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),ak(n,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?ak(e.base||Ot.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ot.isDateTime))throw new _i("min requires all arguments be DateTimes");return wC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Ot.isDateTime))throw new _i("max requires all arguments be DateTimes");return wC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=Ae.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return QC(o,e,n)}static fromStringExplain(e,n,i={}){return Ot.fromFormatExplain(e,n,i)}static buildFormatParser(e,n={}){const{locale:i=null,numberingSystem:r=null}=n,s=Ae.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new XC(s,e)}static fromFormatParser(e,n,i={}){if(Dt(e)||Dt(n))throw new _i("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:s=null}=i,o=Ae.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new _i(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:p}=n.explainFromTokens(e);return p?Ot.invalid(p):kh(a,l,i,`format ${n.format}`,e,c)}static get DATE_SHORT(){return vg}static get DATE_MED(){return PN}static get DATE_MED_WITH_WEEKDAY(){return mK}static get DATE_FULL(){return LN}static get DATE_HUGE(){return RN}static get TIME_SIMPLE(){return DN}static get TIME_WITH_SECONDS(){return FN}static get TIME_WITH_SHORT_OFFSET(){return jN}static get TIME_WITH_LONG_OFFSET(){return GN}static get TIME_24_SIMPLE(){return $N}static get TIME_24_WITH_SECONDS(){return UN}static get TIME_24_WITH_SHORT_OFFSET(){return VN}static get TIME_24_WITH_LONG_OFFSET(){return zN}static get DATETIME_SHORT(){return BN}static get DATETIME_SHORT_WITH_SECONDS(){return WN}static get DATETIME_MED(){return qN}static get DATETIME_MED_WITH_SECONDS(){return HN}static get DATETIME_MED_WITH_WEEKDAY(){return yK}static get DATETIME_FULL(){return ZN}static get DATETIME_FULL_WITH_SECONDS(){return YN}static get DATETIME_HUGE(){return JN}static get DATETIME_HUGE_WITH_SECONDS(){return XN}}function yf(t){if(Ot.isDateTime(t))return t;if(t&&t.valueOf&&dl(t.valueOf()))return Ot.fromJSDate(t);if(t&&typeof t=="object")return Ot.fromObject(t);throw new _i(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const het="HH:mm",pet="HH:mm:ss",det="HH:mm:ss.SSS",fet=[det,pet,het,"TT"],met="yyyy-MM-dd";function ck(t){if(!t||!_h(t))return null;const e=Ot.fromFormat(t,met);return e.isValid?e:null}function uk(t){return t&&_h(t)?XW(fet,e=>{const n=Ot.fromFormat(t,e);return n.isValid?n:null})??null:null}function hk(t){if(!t||!_h(t))return null;const e=Ot.fromISO(t);return e.isValid?e:null}const pk=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function yet(t){return t!=null&&pk.has(t.type)}function dk(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function fk(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function mk(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const get=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);_y(pk,get);function vet(t,e){const n=t?.domain;if(!n||n.type!=="range")return;const i="range"in n?n.range[0]:n.minValue,r="range"in n?n.range[1]:n.maxValue,s=yet(t);return dk(t)||mk(t)||fk(t)?{...bet(t,r,i),isInteger:s}:{min:i!=null&&typeof i=="number"?i:null,max:r!=null&&typeof r=="number"?r:null,rawMin:i,rawMax:r,isInteger:s}}function bet(t,e,n){return dk(t)?{min:ck(n)?.toMillis(),max:ck(e)?.toMillis(),rawMin:n,rawMax:e}:mk(t)?{min:uk(n)?.toMillis(),max:uk(e)?.toMillis(),rawMin:n,rawMax:e}:fk(t)?{min:hk(n)?.toMillis(),max:hk(e)?.toMillis(),rawMin:n,rawMax:e}:{max:null,min:null}}function _et(t){if(!t)return;const e=t.match(wet);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const wet=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function xet(t){return t.match(Eet)?.[1]?.replaceAll("\\'","'")??null}const Eet=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let p3;function yk(){return p3||(p3=(async()=>{const[t,e,n]=await Promise.all([import("./arcadeUtils-YmTPxNlc.js"),import("./batchExec-Bv0nKhLn.js"),import("./aiServices-BHCBWYlz.js").then(i=>i.a)]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:n,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel,Pixel:t.Pixel}})()),p3}const Aet=/^([0-9_])/,Tet=/[^a-z0-9_\u0080-\uffff]+/gi;function Met(t){return t==null?null:t.trim().replaceAll(Tet,"_").replace(Aet,"F$1")||null}const Iet=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Oet=["field","normalizationField"];function Net(t,e){if(t!=null&&e!=null){for(const n of Array.isArray(t)?t:[t])if(gk(Iet,n,e),"visualVariables"in n&&n.visualVariables)for(const i of n.visualVariables)gk(Oet,i,e)}}function gk(t,e,n){if(t)for(const i of t){const r=oy(i,e),s=r&&typeof r!="function"&&n.get(r);s&&Ha(i,s.name,e)}}function Cet(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const n=e.get(t.startField),i=e.get(t.endField);t.startField=n?.name??null,t.endField=i?.name??null}else{const n=e.get(t.startTimeField),i=e.get(t.endTimeField);t.startTimeField=n?.name??null,t.endTimeField=i?.name??null}}const d3=new Set;function Rg(t,e){return t&&e?(d3.clear(),Ph(d3,t,e),Array.from(d3).sort()):[]}function Ph(t,e,n){if(n)if(e?.fields?.length)if(n.includes("*"))for(const{name:i}of e.fields)t.add(i);else for(const i of n)Lh(t,e,i);else{if(n.includes("*"))return t.clear(),void t.add("*");for(const i of n)i!=null&&t.add(i)}}function Lh(t,e,n){if(typeof n=="string")if(e){const i=e.get(n);i&&t.add(i.name)}else t.add(n)}function ket(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(n=>n.name):e}function Pet(t,e,n=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const i=Rg(t,e);return i.length/t.fields.length>=n?["*"]:i}async function ml(t,e,n,i){if(!i)return;const r=_et(i);if(r)Lh(t,e,r);else{const{arcadeUtils:s}=await yk(),o=s.extractFieldNames(i,n?.partitions??e?.fields?.map(a=>a.name));for(const a of o)Lh(t,n?.index??e,a)}}async function Dg(t,e,n){if(n&&n!=="1=1"){const i=await NN(n,e);if(!i.isStandardized)throw new ie("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});Ph(t,e,i.fieldNames)}}function Let({displayField:t,fields:e}){return t||(e?.length?Ret(e):null)}function Ret(t){return f3(t,"name-or-title")||f3(t,"unique-identifier")||f3(t,"type-or-category")||Det(t)}function Det(t){for(const e of t){if(!e?.name)continue;const n=e.name.toLowerCase();if(n.includes("name")||n.includes("title"))return e.name}return null}function f3(t,e){for(const n of t)if(n?.valueType&&n.valueType===e)return n.name;return null}async function Fet(t,e){if(!e)return;const n=e.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(t,e.fieldsIndex):void 0}function jet(t,e,n){n.onStatisticExpression?ml(t,e,null,n.onStatisticExpression.expression):t.add(n.onStatisticField)}async function Get(t,e,n){if(!e||!n||!("fields"in n))return;const i=[],r=n.popupTemplate;i.push(vk(t,e,r)),n.fields&&i.push(...n.fields.map(async s=>jet(t,e.fieldsIndex,s))),await Promise.all(i)}async function $et(t,e){const{fieldsIndex:n,trackInfo:i}=e;if(!e||!i||!n)return;const r=[i.latestObservations.renderer?.collectRequiredFields(t,n),i.previousObservations.renderer?.collectRequiredFields(t,n),i.trackLines.renderer?.collectRequiredFields(t,n)];i.popupTemplate&&r.push(vk(t,e,i.popupTemplate));for(const s of[i.latestObservations.labelingInfo,i.previousObservations.labelingInfo,i.trackLines.labelingInfo])if(s)for(const o of s)r.push(wk(t,n,o));await Promise.all(r)}async function vk(t,e,n){const i=[];n?.expressionInfos&&i.push(...n.expressionInfos.map(s=>ml(t,e.fieldsIndex,null,s.expression)));const r=n?.content;if(Array.isArray(r))for(const s of r)s.type==="expression"&&s.expressionInfo&&i.push(ml(t,e.fieldsIndex,null,s.expressionInfo.expression));await Promise.all(i)}async function Uet(t,e,n){e&&(e.timeInfo&&n?.timeExtent&&Ph(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Ph(t,e.fieldsIndex,[e.floorInfo.floorField]),n?.where!=null&&await Dg(t,e.fieldsIndex,n.where))}async function Vet(t,e,n){e&&n&&await Promise.all(n.map(i=>zet(t,e,i)))}async function zet(t,e,n){e&&n&&(n.valueExpression?await ml(t,e.fieldsIndex,null,n.valueExpression):n.field&&Lh(t,e.fieldsIndex,n.field))}function Bet(t){return t?Rg(t.fieldsIndex,bk(t)):[]}function Wet(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?Rg(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function qet(t,e,n){if(!e||!n)return;const i=e.fieldsIndex;await Promise.all(n.filters.map(r=>Dg(t,i,r.where)))}const Het=new Set(["oid","global-id","guid"]),Zet=new Set(["oid","global-id"]),Yet=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function Jet(t){const e=new Set;_k(t).forEach(i=>e.add(i)),Wet(t).forEach(i=>e.add(i.toLowerCase()));const n=t&&"infoFor3D"in t?t.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(i=>e.add(i.toLowerCase())),Object.values(n.transformFieldRoles).forEach(i=>e.add(i.toLowerCase()))),Array.from(e)}function bk(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:n,creatorField:i,editDateField:r,editorField:s}=e;return[n,i,r,s].filter(Boolean)}function _k(t){return bk(t).map(e=>e.toLowerCase())}function Xet(t,e){return t.editable&&!Het.has(t.type)&&!_k(e).includes(t.name?.toLowerCase()??"")}function Qet(t,e){const n=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&n===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&n===e.globalIdField.toLowerCase()||Jet(e).includes(n)||Zet.has(t.type)||Yet.some(i=>i.test(n)))}async function Ket(t,e){const{labelingInfo:n,fieldsIndex:i}=e;n?.length&&await Promise.all(n.map(r=>wk(t,i,r)))}async function wk(t,e,n){if(!n)return;const i=n.getLabelExpression(),r=n.where;if(i.type==="arcade")await ml(t,e,null,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{Lh(t,e,o.slice(1,-1))})}await Dg(t,e,r)}function tnt(t){const e=t.defaultValue;return e!==void 0&&Ek(t,e)?e:t.nullable?null:void 0}function ent(t){const e=typeof t=="string"?{type:t}:t;return Ak(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function xk(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function nnt(t){return t===null||xk(t)}function int(t){return t===null||Number.isInteger(t)}function rnt(){return!0}function Ek(t,e){let n;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=t.nullable?int:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=t.nullable?nnt:xk;break;case"string":case"esriFieldTypeString":n=t.nullable?CN:_h;break;default:n=rnt}return arguments.length===1?n:n(e)}const snt=["integer","small-integer","big-integer","long"],ont=["single","double"],ant=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],lnt=["esriFieldTypeSingle","esriFieldTypeDouble"],Sk=new Set([...snt,...ant]),cnt=new Set([...ont,...lnt]),unt=_y(Sk,cnt);function hnt(t){return t!=null&&Sk.has(t.type)}function m3(t){return t!=null&&unt.has(t.type)}function Ak(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function Tk(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function Mk(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function Ik(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function Ok(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function pnt(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function dnt(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function fnt(t,e){return Nk(t,e)===null}function mnt(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function Nk(t,e){return t==null||t.nullable&&e===null?null:Ek(t,e)?m3(t)&&!ynt(t.type,Number(e))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function ynt(t,e){const n=typeof t=="string"?Ck(t):t;if(!n)return!1;const i=n.min,r=n.max;return n.isInteger?Number.isInteger(e)&&e>=i&&e<=r:e>=i&&e<=r}function Ck(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return gnt;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return vnt;case"esriFieldTypeBigInteger":case"big-integer":return bnt;case"esriFieldTypeSingle":case"single":return _nt;case"esriFieldTypeDouble":case"double":return wnt}}const gnt={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},vnt={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},bnt={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Fg=(2-2**-23)*2**127,_nt={min:-Fg,max:Fg,isInteger:!1,rawMin:-Fg,rawMax:Fg},wnt={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function xnt(t,e,n){switch(t){case"domain-validation-error::invalid-coded-value":return`Value ${n} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${n} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"type-validation-error::invalid-type":return`Value ${n} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:i,max:r}=Ck(e.type);return`Value ${n} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${i} to ${r}`}}}function Ent(t,e){return!Snt(t,e,null)}function Snt(t,e,n){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let r=!1;for(const s of e)if(!i.has(s)&&(r=!0,n==null))break;return r}function Ant(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function kk(t){const e=t?.match(/{[^}]+}/g);return e?e.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}let jg=class extends Vt{constructor(t){super(t),this.type=null}};v([E({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],jg.prototype,"type",void 0),jg=v([tt("esri.popup.content.Content")],jg);const na=jg,Gg=new Cs({asc:"ascending",desc:"descending"});let gf=class extends Vi(Vt){constructor(t){super(t),this.field=null,this.order="ascending"}};v([E({type:String,json:{write:!0}})],gf.prototype,"field",void 0),v([E({type:Gg.apiValues,json:{type:Gg.jsonValues,read:Gg.read,write:Gg.write}})],gf.prototype,"order",void 0),gf=v([tt("esri.popup.support.AttachmentsOrderByInfo")],gf);const Pk=gf;let po=class extends Vi(na){constructor(t){super(t),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};v([E({type:[String],json:{write:!0}})],po.prototype,"attachmentKeywords",void 0),v([E({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],po.prototype,"attachmentTypes",void 0),v([E({type:String,json:{write:!0}})],po.prototype,"description",void 0),v([E({type:["auto","preview","list"],json:{write:!0}})],po.prototype,"displayType",void 0),v([E({type:[Pk],json:{write:!0}})],po.prototype,"orderByFields",void 0),v([E({type:String,json:{write:!0}})],po.prototype,"title",void 0),v([E({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],po.prototype,"type",void 0),po=v([tt("esri.popup.content.AttachmentsContent")],po);const Rh=po;var y3;let Gc=y3=class extends na{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new y3({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ht(this.outFields):null})}};v([E()],Gc.prototype,"creator",void 0),v([E()],Gc.prototype,"destroyer",void 0),v([E()],Gc.prototype,"outFields",void 0),v([E({type:["custom"],readOnly:!0})],Gc.prototype,"type",void 0),Gc=y3=v([tt("esri.popup.content.CustomContent")],Gc);const Tnt=Gc;var g3;let Dh=g3=class extends Vt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new g3({title:this.title,expression:this.expression})}};v([E({type:String,json:{write:!0}})],Dh.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],Dh.prototype,"expression",void 0),v([E({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Dh.prototype,"returnType",void 0),Dh=g3=v([tt("esri.popup.ElementExpressionInfo")],Dh);const Lk=Dh;var v3;let vf=v3=class extends na{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new v3({expressionInfo:this.expressionInfo?.clone()})}};v([E({type:Lk,json:{write:!0}})],vf.prototype,"expressionInfo",void 0),v([E({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],vf.prototype,"type",void 0),vf=v3=v([tt("esri.popup.content.ExpressionContent")],vf);const $g=vf;function Kt(t,e={}){const n=t instanceof Cs?t:new Cs(t,e),{alwaysWriteDefaults:i,default:r,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return E({type:s?n.apiValues:String,json:{type:n.jsonValues,default:r,name:o,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let Ug=class extends Vi(Vt){constructor(t){super(t),this.type=null}};v([E({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ug.prototype,"type",void 0),Ug=v([tt("esri.layers.support.FieldFormat")],Ug);const b3=Ug,Rk="auto";let ia=class extends b3{constructor(t){super(t),this.dateStyle=null,this.hour12=Rk,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};v([E({type:["full","long","medium","short"],json:{write:!0}})],ia.prototype,"dateStyle",void 0),v([E({type:["always","auto","never"],nonNullable:!0,json:{default:Rk,write:!0}})],ia.prototype,"hour12",void 0),v([E({type:["long","short"],json:{write:!0}})],ia.prototype,"month",void 0),v([E({type:["full","long","medium","short"],json:{write:!0}})],ia.prototype,"timeStyle",void 0),v([E({type:["date-time"]})],ia.prototype,"type",void 0),v([E({type:["numeric"],json:{write:!0}})],ia.prototype,"year",void 0),ia=v([tt("esri.layers.support.DateTimeFieldFormat")],ia);const yl=ia,Dk={min:0,max:20},Fk=2,jk=0,Gk="decimal",$k="auto";let gl=class extends b3{constructor(t){super(t),this.maximumFractionDigits=Fk,this.minimumFractionDigits=jk,this.style=Gk,this.type="number",this.useGrouping=$k}};v([E({type:nn,nonNullable:!0,range:Dk,json:{default:Fk,write:!0}})],gl.prototype,"maximumFractionDigits",void 0),v([E({type:nn,nonNullable:!0,range:Dk,json:{default:jk,write:!0}})],gl.prototype,"minimumFractionDigits",void 0),v([E({type:["decimal"],nonNullable:!0,json:{default:Gk,write:!0}})],gl.prototype,"style",void 0),v([E({type:["number"]})],gl.prototype,"type",void 0),v([E({type:["always","auto","never"],nonNullable:!0,json:{default:$k,write:!0}})],gl.prototype,"useGrouping",void 0),gl=v([tt("esri.layers.support.NumberFieldFormat")],gl);const Vg=gl;let bf;const Mnt=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,_3=globalThis.document?.documentElement;function Uk(){const t=_3?.getAttribute("lang"),e=globalThis.navigator?.language;return Mnt??t??e??"en"}function $c(){return bf===void 0&&(bf=Uk()),bf}const Int=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function Vk(t=$c()){return Bk(t)?.language}function zk(t=$c()){const e=Bk(t);return e?.language&&e?.extlang?t.replace(`${e.language}-`,""):t}function Bk(t=$c()){return Int.exec(t)?.groups}const zg=[];function Ont(t){return zg.push(t),un(()=>{zg.splice(zg.indexOf(t),1)})}const Bg=[];function Wk(t){return Bg.push(t),un(()=>Bg.splice(Bg.indexOf(t),1))}function qk(){const t=Uk();bf!==t&&([...Bg].forEach(e=>e(t)),bf=t,[...zg].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",qk),_3&&new MutationObserver(()=>{qk()}).observe(_3,{attributeFilter:["lang"]});const Uc="system",Hk="unknown",Wg="UTC",Nnt=Intl.DateTimeFormat().resolvedOptions().timeZone,Cnt={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},knt={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},Zk={timeZone:Wg},fo={year:"numeric",month:"numeric",day:"numeric"},_f={year:"numeric",month:"long",day:"numeric"},wf={year:"numeric",month:"short",day:"numeric"},xf={year:"numeric",month:"long",weekday:"long",day:"numeric"},vl={hour:"numeric",minute:"numeric"},Vc={...vl,second:"numeric"},Yk={hourCycle:"h23"},Ef={...vl,...Yk},Sf={...Vc,...Yk},Jk={"short-date":fo,"short-date-short-time":{...fo,...vl},"short-date-short-time-24":{...fo,...Ef},"short-date-long-time":{...fo,...Vc},"short-date-long-time-24":{...fo,...Sf},"short-date-le":fo,"short-date-le-short-time":{...fo,...vl},"short-date-le-short-time-24":{...fo,...Ef},"short-date-le-long-time":{...fo,...Vc},"short-date-le-long-time-24":{...fo,...Sf},"long-month-day-year":_f,"long-month-day-year-short-time":{..._f,...vl},"long-month-day-year-short-time-24":{..._f,...Ef},"long-month-day-year-long-time":{..._f,...Vc},"long-month-day-year-long-time-24":{..._f,...Sf},"day-short-month-year":wf,"day-short-month-year-short-time":{...wf,...vl},"day-short-month-year-short-time-24":{...wf,...Ef},"day-short-month-year-long-time":{...wf,...Vc},"day-short-month-year-long-time-24":{...wf,...Sf},"long-date":xf,"long-date-short-time":{...xf,...vl},"long-date-short-time-24":{...xf,...Ef},"long-date-long-time":{...xf,...Vc},"long-date-long-time-24":{...xf,...Sf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":vl,"long-time":Vc},Pnt=Hr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Xk={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},Lnt=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),Rnt=Lnt.find(({type:t})=>t==="month")?.value.toLowerCase();function Qk(){const t=Vk();return(t&&Xk[t])??zk()}Rnt!=="mart"&&(Xk.bs="sr-Latn-CS");let w3=new WeakMap;const qg=Jk["short-date-short-time"];function Dnt(t){let e=w3.get(t);if(!e){const n=Qk(),i=Zg(t.timeZone??Uc),r={...t,timeZone:i};e=new Intl.DateTimeFormat(n,r),w3.set(t,e)}return e}function Fnt(t){return Jk[t]}function jnt(t){const{dateStyle:e,timeStyle:n,hour12:i,year:r,month:s}=t,o={};return e?o.dateStyle=e:r&&(o.year=r,o.month=s||void 0),n&&!o.year&&(o.timeStyle=n,o.hour12=i==="auto"?void 0:i==="always"),o}function Hg(t,e=qg){return Dnt(e).format(t)}function Gnt(t,e=qg){return Hg(new Date(t),{...e,...Zk,...knt})}function $nt(t,e=qg){return Hg(new Date(`1970-01-01T${t}Z`),{...e,...Zk,...Cnt})}function Unt(t,e=qg){if(e.timeZone)return Hg(new Date(t),e);const n=Ot.fromISO(t,{setZone:!0}),i=n.offset===0?Wg:e.timeZone,r={...e,timeZone:i};return n.toLocaleString(r,{locale:Qk()})}function Zg(t){switch(t){case Uc:return Nnt;case Hk:return Wg;default:return t}}Wk(()=>{w3=new WeakMap});let Fh=class extends Vi(Vt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};v([Kt(Pnt)],Fh.prototype,"dateFormat",void 0),v([E({type:Boolean,json:{write:!0}})],Fh.prototype,"digitSeparator",void 0),v([E({type:nn,json:{write:!0}})],Fh.prototype,"places",void 0),Fh=v([tt("esri.popup.support.FieldInfoFormat")],Fh);const zc=Fh,Kk={base:b3,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":yl,number:Vg}};function Vnt(t,e){const{format:n}=t;return e&&Af(e)?n?t9(n,e):Tf(e,{hour12:"always",useGrouping:"always"}):null}function t9(t,e){const{dateFormat:n}=t;if(!e)return n?i9(t):n9(t);if(!Af(e))return;const i={hour12:"always"};switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return e9(t);case"single":case"double":return n9(t);case"date":case"timestamp-offset":return n?i9(t):Tf(e,i);case"date-only":return n?znt(t):Tf(e);case"time-only":return n?Bnt(t):Tf(e,i)}}function Af(t){return m3(t)||Tk(t)||Mk(t)||Ok(t)||Ik(t)}function e9(t){return new Vg({useGrouping:t.digitSeparator?"always":"never"})}function n9(t){const e=e9(t),{places:n}=t;return e.minimumFractionDigits=n??0,e.maximumFractionDigits=n??2,e}function i9(t){return new yl({dateStyle:r9(t),year:l9(t),month:o9(t),timeStyle:a9(t),hour12:s9(t)})}function znt(t){return new yl({dateStyle:r9(t),year:l9(t),month:o9(t)})}function Bnt(t){return new yl({timeStyle:a9(t),hour12:s9(t)})}function r9(t){const{dateFormat:e}=t;return e?e.startsWith("short-date")?"short":e.startsWith("day-short-month-year")?"medium":e.startsWith("long-month-day-year")?"long":e.startsWith("long-date")?"full":null:null}function s9(t){return t.dateFormat?.endsWith("-24")?"never":"always"}function o9(t){switch(t.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function a9(t){const{dateFormat:e}=t;return e?e.includes("short-time")?"short":e.includes("long-time")?"medium":null:null}function l9(t){switch(t.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function c9(t,e){const n=t.type==="number",i=t.type==="date-time";if(!e)return n?h9(t):i?p9(t):null;if(Af(e))switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return n?u9(t):null;case"single":case"double":return n?h9(t):null;case"date":case"timestamp-offset":return i?p9(t):null;case"date-only":return i?Wnt(t):null;case"time-only":return i?qnt(t):null}}function u9(t){return new zc({digitSeparator:t.useGrouping!=="never"})}function h9(t){const e=u9(t);return e.places=t.maximumFractionDigits,e}function p9(t){let e;const n=d9(t),i=f9(t),r=t.hour12==="never"?"24":null,s=t.year==="numeric"?"year":null,o=m9(t);return n&&i&&r?e=`${n}-${i}-${r}`:n&&i?e=`${n}-${i}`:n?e=n:s&&o?e=`${o}-${s}`:s&&(e=s),e?new zc({dateFormat:e}):null}function Wnt(t){let e;const n=d9(t),i=t.year==="numeric"?"year":null,r=m9(t);return n?e=n:i&&r?e=`${r}-${i}`:i&&(e=i),e?new zc({dateFormat:e}):null}function qnt(t){let e;const n=f9(t),i=t.hour12==="never"?"24":null;return n&&i?e=`short-date-${n}-${i}`:n&&(e=`short-date-${n}`),e?new zc({dateFormat:e}):null}function d9(t){switch(t.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function f9(t){return t.timeStyle&&(t.timeStyle==="short"?"short-time":"long-time")}function m9(t){switch(t.month){case"short":return"short-month";case"long":return"long-month";default:return}}function Tf(t,e){if(!Af(t))return;const n=e?.useGrouping??"auto",i=e?.hour12??"auto";switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return new Vg({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:n});case"single":case"double":return new Vg({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:n});case"date":case"timestamp-offset":return new yl({dateStyle:"short",timeStyle:"short",hour12:i});case"date-only":return new yl({dateStyle:"short"});case"time-only":return new yl({timeStyle:"short",hour12:i})}}let Nr=class extends Vi(Vt){constructor(t){super(t),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(t){this._set("fieldFormat",t),this._set("format",t?c9(t):null)}set format(t){this._set("format",t),this._set("fieldFormat",t?t9(t):null)}readFormat(t,e){if(!e.fieldFormat)return t?zc.fromJSON(t):null}clone(){const t=super.clone();return t._set("format",this.format?.clone()),t._set("fieldFormat",this.fieldFormat?.clone()),t}};v([E({value:null,clonable:!1,types:Kk,json:{write:{overridePolicy(t,e,n){const{fieldName:i}=this;return{enabled:!!i&&!i.startsWith("expression/")&&!i.startsWith("relationships/")&&!!n?.writeFieldFormat}}}}})],Nr.prototype,"fieldFormat",null),v([E({type:String,json:{write:!0}})],Nr.prototype,"fieldName",void 0),v([E({value:null,clonable:!1,type:zc,json:{write:!0}})],Nr.prototype,"format",null),v([hn("format")],Nr.prototype,"readFormat",null),v([E({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Nr.prototype,"isEditable",void 0),v([E({type:String,json:{write:!0}})],Nr.prototype,"label",void 0),v([E({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Nr.prototype,"statisticType",void 0),v([Kt(new Cs({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Nr.prototype,"stringFieldOption",void 0),v([E({type:String,json:{write:!0}})],Nr.prototype,"tooltip",void 0),v([E({type:Boolean,json:{write:!0}})],Nr.prototype,"visible",void 0),Nr=v([tt("esri.popup.FieldInfo")],Nr);const x3=Nr;var E3;let bl=E3=class extends na{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new E3(ht({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};v([E({type:Object,json:{write:!0}})],bl.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],bl.prototype,"description",void 0),v([E({type:[x3],json:{write:!0}})],bl.prototype,"fieldInfos",void 0),v([E({type:String,json:{write:!0}})],bl.prototype,"title",void 0),v([E({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],bl.prototype,"type",void 0),bl=E3=v([tt("esri.popup.content.FieldsContent")],bl);const jh=bl;let Bc=class extends Vt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};v([E({type:String,json:{write:!0}})],Bc.prototype,"altText",void 0),v([E({type:String,json:{write:!0}})],Bc.prototype,"caption",void 0),v([E({type:String,json:{write:!0}})],Bc.prototype,"title",void 0),v([E({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Bc.prototype,"type",void 0),Bc=v([tt("esri.popup.content.mixins.MediaInfo")],Bc);const S3=Bc;var A3;let Wc=A3=class extends Bn{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new A3({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};v([E()],Wc.prototype,"color",void 0),v([E()],Wc.prototype,"fieldName",void 0),v([E()],Wc.prototype,"tooltip",void 0),v([E()],Wc.prototype,"value",void 0),Wc=A3=v([tt("esri.popup.content.support.ChartMediaInfoValueSeries")],Wc);const y9=Wc;var T3;let _l=T3=class extends Vt{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new T3({colors:ht(this.colors),fields:ht(this.fields),normalizeField:this.normalizeField,series:ht(this.series),tooltipField:this.tooltipField})}};v([E({type:[he],json:{type:[[nn]],write:!0}})],_l.prototype,"colors",void 0),v([E({type:[String],json:{write:{isRequired:!0}}})],_l.prototype,"fields",void 0),v([E({type:String,json:{write:!0}})],_l.prototype,"normalizeField",void 0),v([E({type:[y9],json:{read:!1}})],_l.prototype,"series",void 0),v([E({type:String,json:{write:!0}})],_l.prototype,"tooltipField",void 0),_l=T3=v([tt("esri.popup.content.support.ChartMediaInfoValue")],_l);const Hnt=_l;let Mf=class extends S3{constructor(t){super(t),this.type=null,this.value=void 0}};v([E({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Mf.prototype,"type",void 0),v([E({type:Hnt,json:{write:{isRequired:!0}}})],Mf.prototype,"value",void 0),Mf=v([tt("esri.popup.content.mixins.ChartMediaInfo")],Mf);const Yg=Mf,Jg=Hr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var M3;let Xg=M3=class extends Yg{constructor(t){super(t),this.type="bar-chart"}clone(){return new M3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],Xg.prototype,"type",void 0),Xg=M3=v([tt("esri.popup.content.BarChartMediaInfo")],Xg);const g9=Xg;var I3;let Qg=I3=class extends Yg{constructor(t){super(t),this.type="column-chart"}clone(){return new I3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],Qg.prototype,"type",void 0),Qg=I3=v([tt("esri.popup.content.ColumnChartMediaInfo")],Qg);const v9=Qg;var O3;let If=O3=class extends Vt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new O3({linkURL:this.linkURL,sourceURL:this.sourceURL})}};v([E({type:String,json:{write:!0}})],If.prototype,"linkURL",void 0),v([E({type:String,json:{write:{isRequired:!0}}})],If.prototype,"sourceURL",void 0),If=O3=v([tt("esri.popup.content.support.ImageMediaInfoValue")],If);const Znt=If;var N3;let Gh=N3=class extends S3{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new N3({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};v([E({type:Number,json:{write:!0}})],Gh.prototype,"refreshInterval",void 0),v([E({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Gh.prototype,"type",void 0),v([E({type:Znt,json:{write:{isRequired:!0}}})],Gh.prototype,"value",void 0),Gh=N3=v([tt("esri.popup.content.ImageMediaInfo")],Gh);const b9=Gh;var C3;let Kg=C3=class extends Yg{constructor(t){super(t),this.type="line-chart"}clone(){return new C3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],Kg.prototype,"type",void 0),Kg=C3=v([tt("esri.popup.content.LineChartMediaInfo")],Kg);const _9=Kg;var k3;let t1=k3=class extends Yg{constructor(t){super(t),this.type="pie-chart"}clone(){return new k3({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([E({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:Jg.write,isRequired:!0}}})],t1.prototype,"type",void 0),t1=k3=v([tt("esri.popup.content.PieChartMediaInfo")],t1);const w9=t1,P3={base:S3,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":g9,"column-chart":v9,"line-chart":_9,"pie-chart":w9,image:b9}};var L3;let Us=L3=class extends na{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?b9.fromJSON(e):e.type==="barchart"?g9.fromJSON(e):e.type==="columnchart"?v9.fromJSON(e):e.type==="linechart"?_9.fromJSON(e):e.type==="piechart"?w9.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(n=>n.toJSON())}clone(){return new L3(ht({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};v([E()],Us.prototype,"activeMediaInfoIndex",void 0),v([E({type:Object,json:{write:!0}})],Us.prototype,"attributes",void 0),v([E({type:String,json:{write:!0}})],Us.prototype,"description",void 0),v([E({types:[P3]})],Us.prototype,"mediaInfos",void 0),v([hn("mediaInfos")],Us.prototype,"readMediaInfos",null),v([Ce("mediaInfos")],Us.prototype,"writeMediaInfos",null),v([E({type:String,json:{write:!0}})],Us.prototype,"title",void 0),v([E({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Us.prototype,"type",void 0),Us=L3=v([tt("esri.popup.content.MediaContent")],Us);const $h=Us;var R3;let Of=R3=class extends Vt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new R3({field:this.field,order:this.order})}};v([E({type:String,json:{write:!0}})],Of.prototype,"field",void 0),v([E({type:["asc","desc"],json:{write:!0}})],Of.prototype,"order",void 0),Of=R3=v([tt("esri.popup.support.RelatedRecordsInfoFieldOrder")],Of);const D3=Of;let mo=class extends Vi(na){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};v([E({type:String,json:{write:!0}})],mo.prototype,"description",void 0),v([E({type:Number,json:{type:nn,write:!0}})],mo.prototype,"displayCount",void 0),v([E({type:["list"],json:{write:{isRequired:!0}}})],mo.prototype,"displayType",void 0),v([E({type:[D3],json:{write:!0}})],mo.prototype,"orderByFields",void 0),v([E({type:Number,json:{type:nn,write:{isRequired:!0}}})],mo.prototype,"relationshipId",void 0),v([E({type:String,json:{write:!0}})],mo.prototype,"title",void 0),v([E({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],mo.prototype,"type",void 0),mo=v([tt("esri.popup.content.RelationshipContent")],mo);const Nf=mo;var F3;let Cf=F3=class extends na{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new F3({text:this.text})}};v([E({type:String,json:{write:!0}})],Cf.prototype,"text",void 0),v([E({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Cf.prototype,"type",void 0),Cf=F3=v([tt("esri.popup.content.TextContent")],Cf);const Uh=Cf;let ra=class extends Vi(Vt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};v([E({type:String,json:{write:!0}})],ra.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],ra.prototype,"description",void 0),v([E({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],ra.prototype,"type",void 0),v([E({type:Number,json:{type:nn,write:!0}})],ra.prototype,"associatedNetworkSourceId",void 0),v([E({type:Number,json:{type:nn,write:!0}})],ra.prototype,"associatedAssetGroup",void 0),v([E({type:Number,json:{type:nn,write:!0}})],ra.prototype,"associatedAssetType",void 0),ra=v([tt("esri.popup.support.UtilityNetworkAssociationType")],ra);const x9=ra;let wl=class extends Vi(na){constructor(t){super(t),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};v([E({type:String,json:{write:!0}})],wl.prototype,"description",void 0),v([E({type:Number,json:{type:nn,write:!0}})],wl.prototype,"displayCount",void 0),v([E({type:String,json:{write:!0}})],wl.prototype,"title",void 0),v([E({type:[x9],json:{write:!0}})],wl.prototype,"associationTypes",void 0),v([Kt({utilityNetworkAssociations:"utility-network-associations"})],wl.prototype,"type",void 0),wl=v([tt("esri.popup.content.UtilityNetworkAssociationsContent")],wl);const j3=wl,Ynt={base:null,key:"type",typeMap:{attachment:Rh,media:$h,text:Uh,expression:$g,field:jh,relationship:Nf,utilityNetworkAssociations:j3}},Jnt={base:null,key:"type",typeMap:{attachment:Rh,media:$h,text:Uh,expression:$g,field:jh,relationship:Nf}};var G3;let qc=G3=class extends Vt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new G3({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};v([E({type:String,json:{write:!0}})],qc.prototype,"name",void 0),v([E({type:String,json:{write:!0}})],qc.prototype,"title",void 0),v([E({type:String,json:{write:!0}})],qc.prototype,"expression",void 0),v([E({type:["string","number"],json:{write:!0}})],qc.prototype,"returnType",void 0),qc=G3=v([tt("esri.popup.ExpressionInfo")],qc);const E9=qc;var $3;let kf=$3=class extends Vt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new $3({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};v([E({type:Boolean,json:{write:!0}})],kf.prototype,"returnTopmostRaster",void 0),v([E({type:Boolean,json:{write:!0}})],kf.prototype,"showNoDataRecords",void 0),kf=$3=v([tt("esri.popup.LayerOptions")],kf);const Xnt=kf;var U3;let Pf=U3=class extends Vt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new U3({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ht(this.orderByFields):null})}};v([E({type:Boolean,json:{write:!0}})],Pf.prototype,"showRelatedRecords",void 0),v([E({type:[D3],json:{write:!0}})],Pf.prototype,"orderByFields",void 0),Pf=U3=v([tt("esri.popup.RelatedRecordsInfo")],Pf);const S9=Pf;let A9=0;const e1=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+A9++})}};return n=v([tt("esri.core.Identifiable")],n),n},Qnt=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:A9++})}};return n=v([tt("esri.core.Identifiable.NumericIdentifiable")],n),n};e1(class{});var V3;let rs=V3=class extends e1(Bn){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new V3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};v([E()],rs.prototype,"active",void 0),v([E()],rs.prototype,"className",void 0),v([E()],rs.prototype,"disabled",void 0),v([E()],rs.prototype,"icon",void 0),v([E()],rs.prototype,"id",void 0),v([E()],rs.prototype,"indicator",void 0),v([E()],rs.prototype,"title",void 0),v([E()],rs.prototype,"type",void 0),v([E()],rs.prototype,"visible",void 0),rs=V3=v([tt("esri.support.actions.ActionBase")],rs);const n1=rs;var z3;let i1=z3=class extends n1{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new z3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};v([E()],i1.prototype,"image",void 0),i1=z3=v([tt("esri.support.actions.ActionButton")],i1);const T9=i1;var B3;let Lf=B3=class extends n1{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new B3({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};v([E()],Lf.prototype,"image",void 0),v([E()],Lf.prototype,"value",void 0),Lf=B3=v([tt("esri.support.actions.ActionToggle")],Lf);const M9=Lf,Rf="relationships/",I9="expression/",Knt=de.ofType({key:"type",defaultKeyValue:"button",base:n1,typeMap:{button:T9,toggle:M9}}),tit={base:na,key:"type",typeMap:{media:$h,custom:Tnt,text:Uh,attachments:Rh,fields:jh,expression:$g,relationship:Nf,utilityNetworkAssociations:j3}},O9=new Set(["attachments","fields","media","text","expression","relationship"]),eit=new Set([...O9,"utility-network-associations"]);let Gn=class extends Vi(Vt){constructor(t){super(t),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(e=>mc(tit,e)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||I_(t)?t:(Oe.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,e){const{popupElements:n}=e;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e.description,e.mediaInfos,n):this._readPopupInfo(e)}writeWebSceneContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeWebMapContent(t,e,n,i){this._writePopupTemplateContent(t,e,i)}writeFieldInfos(t,e,n,i){const{content:r}=this,s=Array.isArray(r)?r:null,{writeFieldFormat:o,...a}=i||{};if(t){const l=s?s.filter(p=>p.type==="fields"):[],c=l.length&&l.every(p=>p.fieldInfos?.length);e.fieldInfos=t.filter(Boolean).map(p=>{const d=p.toJSON(a);return c&&(d.visible=!1),d})}if(s)for(const l of s)l.type==="fields"&&this._writeFieldsContent(l,e,a)}writeLayerOptions(t,e,n,i){e[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(i)}writeTitle(t,e){e.title=t||""}async collectRequiredFields(t,e,n){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,e,n,[...i,...this._getContentExpressionInfos(this.content,i)]),Ph(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t,e){const n=new Set;return await this.collectRequiredFields(n,t,e),[...n].sort()}_writePopupTemplateContent(t,e,n){typeof t!="string"?Array.isArray(t)&&(e.popupElements=t.filter(i=>n?.origin==="web-scene"?O9.has(i.type):eit.has(i.type)).map(i=>i?.toJSON(n)),e.popupElements.forEach(i=>{i.type==="attachments"?this._writeAttachmentContent(e):i.type==="media"?this._writeMediaContent(i,e):i.type==="text"?this._writeTextContent(i,e):i.type==="relationship"&&this._writeRelationshipContent(i,e)})):e.description=t}_writeFieldsContent(t,e,n){const i=t.fieldInfos;if(!Array.isArray(i)||!i.length)return;const r=e.fieldInfos;if(Array.isArray(r))for(const s of i){const o=r.find(a=>a.fieldName?.toLowerCase()===s.fieldName?.toLowerCase());o?o.visible=!0:r.push(s.toJSON(n))}else e.fieldInfos=i.map(s=>s.toJSON(n))}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,e){const n=t.orderByFields?.map(r=>this._toFieldOrderJSON(r,t.relationshipId))||[],i=[...e.relatedRecordsInfo?.orderByFields||[],...n];e.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=ht(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[...e.mediaInfos,...n]:e.mediaInfos=n}_readPopupInfoElements(t,e,n){const i={description:!1,mediaInfos:!1};return n.map(r=>r.type==="media"?(r.mediaInfos||!e||i.mediaInfos||(r.mediaInfos=e,i.mediaInfos=!0),$h.fromJSON(r)):r.type==="text"?(r.text||!t||i.description||(r.text=t,i.description=!0),Uh.fromJSON(r)):r.type==="attachments"?Rh.fromJSON(r):r.type==="fields"?jh.fromJSON(r):r.type==="expression"?$g.fromJSON(r):r.type==="relationship"?Nf.fromJSON(r):r.type==="utilityNetworkAssociations"?j3.fromJSON(r):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:e,order:n}=t;if(!e?.startsWith(Rf))return null;const i=e.replace(Rf,"").split("/");if(i.length!==2)return null;const r=parseInt(i[0],10),s=i[1];return!Number.isNaN(r)&&s?Nf.fromJSON({relationshipId:r,orderByFields:[{field:s,order:n}]}):null}_toFieldOrderJSON(t,e){const{order:n,field:i}=t;return{field:`${Rf}${e}/${i}`,order:n}}_readPopupInfo({description:t,mediaInfos:e,showAttachments:n,relatedRecordsInfo:i={showRelatedRecords:!1}}){const r=[];t?r.push(new Uh({text:t})):r.push(new jh),Array.isArray(e)&&e.length&&r.push($h.fromJSON({mediaInfos:e})),n&&r.push(Rh.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=i;return s&&o?.length&&o.forEach(a=>{const l=this._toRelationshipContent(a);l&&r.push(l)}),r.length?r:t}_getContentElementFields(t){const e=t?.type;if(e==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(e==="custom")return t.outFields||[];if(e==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(e==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((i,r)=>[...i,...this._getMediaInfoFields(r)],[])]}return e==="text"?this._extractFieldNames(t.text):e==="relationship"||e==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:e,title:n,value:i}=t,r=i||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:c}=r,p=[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(l),...this._extractFieldNames(c),...s??[]];return o&&p.push(o),a&&p.push(a),p}_getContentExpressionInfos(t,e){return Array.isArray(t)?t.reduce((n,i)=>[...n,...i.type==="expression"&&i.expressionInfo?[i.expressionInfo]:[]],e):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((e,n)=>[...e,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,e,n,i){i&&await Promise.all(i.map(r=>ml(t,e,n,r.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:e,visible:n})=>!(n!==void 0&&!n||!e||e.startsWith(Rf)||e.startsWith(I9))).map(e=>e.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((e,n)=>[...e,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:e,title:n,type:i}=t,r=i==="button"||i==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(r)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return kk(t).filter(e=>!(e.startsWith(Rf)||e.startsWith(I9)))}};v([E({type:Knt})],Gn.prototype,"actions",void 0),v([E()],Gn.prototype,"content",void 0),v([fh("content")],Gn.prototype,"castContent",null),v([hn("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Gn.prototype,"readContent",null),v([Ce("web-scene","content",{popupElements:{type:de.ofType(Jnt)},showAttachments:{type:Boolean},mediaInfos:{type:de.ofType(P3)},description:{type:String},relatedRecordsInfo:{type:S9}})],Gn.prototype,"writeWebSceneContent",null),v([Ce("content",{popupElements:{type:de.ofType(Ynt)},showAttachments:{type:Boolean},mediaInfos:{type:de.ofType(P3)},description:{type:String},relatedRecordsInfo:{type:S9}})],Gn.prototype,"writeWebMapContent",null),v([E({type:[E9],json:{write:!0}})],Gn.prototype,"expressionInfos",void 0),v([E({type:[x3]})],Gn.prototype,"fieldInfos",void 0),v([Ce("fieldInfos")],Gn.prototype,"writeFieldInfos",null),v([E({type:Xnt})],Gn.prototype,"layerOptions",void 0),v([Ce("layerOptions")],Gn.prototype,"writeLayerOptions",null),v([E({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Gn.prototype,"lastEditInfoEnabled",void 0),v([E()],Gn.prototype,"outFields",void 0),v([E()],Gn.prototype,"overwriteActions",void 0),v([E()],Gn.prototype,"returnGeometry",void 0),v([E({json:{type:String}})],Gn.prototype,"title",void 0),v([Ce("title")],Gn.prototype,"writeTitle",null),Gn=v([tt("esri.PopupTemplate")],Gn);const N9=Gn,nit=Hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),iit=Hr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),C9={base:oi,key:"type",typeMap:{extent:ae,multipoint:Kr,point:re,polyline:Ui,polygon:Wn}};function rit(t){return t.type==="point"}function sit(t){return t.type==="multipoint"}function oit(t){return t.type==="polygon"}function ait(t){return t.type==="polyline"}const W3=Symbol("idFieldsProviderSymbol");function lit(t){return!!t&&W3 in t}function k9(t){return lit(t)?t[W3]:void 0}const q3=Symbol("popupProvider");function cit(t){return typeof t=="object"&&t!==null&&"popupEnabled"in t&&"popupTemplate"in t}function uit(t){return!!t&&q3 in t}function P9(t){return uit(t)?t[q3]:null}function hit(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const n=[];for(const i of e.fieldNames)n.push(t.attributes[i]??null);return JSON.stringify(n)}}}function L9(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const n=e.uniqueIdFields.map(i=>t.attributes?.[i]);return JSON.stringify(n)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const R9=new Cs({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let pit=0,fn=class extends Vt{constructor(t){super(t),this.id="sym"+pit++,this.type=null,this.color=new he([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};v([E({type:R9.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:R9.write,isRequired:!0}}})],fn.prototype,"type",void 0),v([E({type:he,json:{write:{allowNull:!0}}})],fn.prototype,"color",void 0),v([hn("color")],fn.prototype,"readColor",null),fn=v([tt("esri.symbols.Symbol")],fn);var H3;let zi=H3=class extends fn{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const i=n.map(r=>{const s=r.valueExpressionInfo;return s?ml(t,e,null,s.expression):null});await Promise.all(i)}}}clone(){return new H3({data:ht(this.data)})}hash(){return b_(JSON.stringify(this.data)).toString()}};v([E({json:{write:!1}})],zi.prototype,"color",void 0),v([E({json:{write:!0}})],zi.prototype,"data",void 0),v([hn("data",["symbol"])],zi.prototype,"readData",null),v([Ce("data",{})],zi.prototype,"writeData",null),v([Kt({CIMSymbolReference:"cim"},{readOnly:!0})],zi.prototype,"type",void 0),zi=H3=v([tt("esri.symbols.CIMSymbol")],zi);function D9(t,e,n=de){return e||(e=new n),e===t||e.destroyed||(e.removeAll(),dit(t)?e.addMany(t):t&&e.add(t)),e}function F9(t){return t}function dit(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}let fit=class{constructor(){this._resolver=Ku(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(Gi())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=Ku(),e=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(e);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},i=>{this.isFulfilled()||this._allPromise!==n||gc(i)||this._resolver.reject(i)}),t.resolve()}};const j9=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),this._promiseProps=new fit,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,r){return this._promiseProps.promise.then(()=>this).then(i,r)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}addResolvingTask(i){i&&!this._promiseProps.isFulfilled()&&(this.addHandles(KM(i)),this._promiseProps.addResolvingPromise(i.promise))}};return n=v([tt("esri.core.Promise")],n),n},G9=j9(Bn),mit="not-loaded",yit="loading",git="failed",$9="loaded",U9=t=>{const e=t;let n=class extends e{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const s=this.load.bind(this);this.load=o=>{const a=new Promise((l,c)=>{const p=oI(o,c);this.destroyed&&c(new ie("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,c).finally(()=>{p&&p.remove()})});if(this.loadStatus===mit){this._set("loadStatus",yit);const l=this._loadController=new AbortController;s({signal:l.signal})}return r(),a}})),this.when(()=>{this._set("loadStatus",$9),this._loadController=null},r=>{this.destroyed||(this._set("loadStatus",git),this._set("loadError",r),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=nI(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===$9}get loadWarnings(){return this._get("loadWarnings")}load(i){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ie("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return v([E({readOnly:!0})],n.prototype,"loaded",null),v([E({readOnly:!0})],n.prototype,"loadError",void 0),v([E({clonable:!1})],n.prototype,"loadStatus",void 0),v([E({type:[nh],readOnly:!0})],n.prototype,"loadWarnings",null),n=v([tt("esri.core.Loadable")],n),n},Z3=U9(G9);function vit(t){return!(!t||!t.load)}let r1;function bit(t){return r1&&!r1.destroyed||(r1=t()),r1}var Y3;const _it=new Cs({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let mn=Y3=class extends Bn{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new Y3({categories:this.categories?ht(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let n=[];this.categories&&(n=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=Qw(this.extent,Rt.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let r=this.query;!this.disableExtraQuery&&t.extraQuery&&(r="("+r+")"+t.extraQuery);const s={categories:n,bbox:i,q:r,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>_it.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};v([E()],mn.prototype,"categories",void 0),v([E()],mn.prototype,"disableExtraQuery",void 0),v([E({type:ae})],mn.prototype,"extent",void 0),v([E()],mn.prototype,"filter",void 0),v([E()],mn.prototype,"num",void 0),v([E()],mn.prototype,"query",void 0),v([E()],mn.prototype,"sortField",void 0),v([E()],mn.prototype,"sortOrder",null),v([E()],mn.prototype,"start",void 0),mn=Y3=v([tt("esri.portal.PortalQueryParams")],mn);var J3;let yn=J3=class extends Vt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const n=e.categorySchema||[];return n.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):n})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new ie("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new J3({sourceJSON:t});return e.read(t),e}queryItems(t,e){let n=qr(mn,t);const i=this.portal;return parseFloat(i.currentVersion)>5?(n=n||new mn,i.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",e)):(n=n?n.clone():new mn,n.query="group:"+this.id+(n.query?" "+n.query:""),i.queryItems(n,e))}_fetchCategorySchemaSet(t,e){const n=this.portal;return n.fetchSelf(n.authMode,!0,e).then(i=>{const r=i.contentCategorySetsGroupQuery;if(r){const s=new mn({disableExtraQuery:!0,num:1,query:r});return n.queryGroups(s,e)}throw new ie("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const r=i.results[0],s=new mn({num:1,query:`typekeywords:"${t}"`});return r.queryItems(s,e)}throw new ie("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",e).then(r=>{const s=r?.categorySchema;return s?.length?s:[]}):[])}};v([E()],yn.prototype,"access",void 0),v([E({type:Date})],yn.prototype,"created",void 0),v([E()],yn.prototype,"description",void 0),v([E()],yn.prototype,"id",void 0),v([E()],yn.prototype,"isInvitationOnly",void 0),v([E({type:Date})],yn.prototype,"modified",void 0),v([E()],yn.prototype,"owner",void 0),v([E()],yn.prototype,"portal",void 0),v([E()],yn.prototype,"snippet",void 0),v([E()],yn.prototype,"sortField",void 0),v([E()],yn.prototype,"sortOrder",void 0),v([E()],yn.prototype,"sourceJSON",void 0),v([E()],yn.prototype,"tags",void 0),v([E()],yn.prototype,"thumbnail",void 0),v([E({readOnly:!0})],yn.prototype,"thumbnailUrl",null),v([E()],yn.prototype,"title",void 0),v([E({readOnly:!0})],yn.prototype,"url",null),yn=J3=v([tt("esri.portal.PortalGroup")],yn);let Hc=class extends Bn{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};v([E()],Hc.prototype,"nextQueryParams",void 0),v([E()],Hc.prototype,"queryParams",void 0),v([E()],Hc.prototype,"results",void 0),v([E()],Hc.prototype,"total",void 0),Hc=v([tt("esri.portal.PortalQueryResult")],Hc);let sa=class extends Vt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ie("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};v([E({type:Date})],sa.prototype,"created",void 0),v([E()],sa.prototype,"id",void 0),v([E()],sa.prototype,"portal",void 0),v([E()],sa.prototype,"title",void 0),v([E({readOnly:!0})],sa.prototype,"url",null),v([E()],sa.prototype,"username",void 0),sa=v([tt("esri.portal.PortalFolder")],sa);var X3;let xe=X3=class extends Vt{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,n=t?.data,i=t?.folder,r={method:"post"};e&&(r.query=e.createPostQuery(),n!=null&&(typeof n=="string"?r.query.text=n:typeof n=="object"&&(r.query.text=JSON.stringify(n))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal.request(s+"/addItem",r).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let n=this.userContentUrl;t.ownerFolder&&(n+="/"+t.ownerFolder);const i=e?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${t.id}/delete`,{method:"post",query:i}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const n=this.userContentUrl+"/deleteItems",i=[],r=t.map(s=>s.id);if(r.length){const s={method:"post",query:{items:r.join(","),permanentDelete:e}},o=await this.portal.request(n,s);for(const a of o.results){const l=t.find(d=>a.itemId===d.id),c=a.success;let p=null;c?(l.id=null,l.portal=null):a.error&&(p=new ie("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:p})}}return i}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let n;return n=e&&e.folders?e.folders.map(i=>{const r=sa.fromJSON(i);return r.portal=this.portal,r}):[],n})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(n=>{const i=yn.fromJSON(n);return i.portal=this.portal,i}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:n}=await import("./PortalItem-48wtjFv4.js"),i={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},r=await this.portal.request(e,{query:i});let s;return r?.items?(s=r.items.map(o=>{const a=n.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:r.nextStart,total:r.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new yn({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new ie("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const n=this.userContentUrl,i=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(n+`/items/${t.id}/restore`,{method:"post",query:i})}toJSON(){throw new ie("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new X3({sourceJSON:t});return e.read(t),e}};v([E()],xe.prototype,"access",void 0),v([E({type:Date})],xe.prototype,"created",void 0),v([E()],xe.prototype,"culture",void 0),v([E()],xe.prototype,"description",void 0),v([E()],xe.prototype,"email",void 0),v([E()],xe.prototype,"favGroupId",void 0),v([E()],xe.prototype,"fullName",void 0),v([E()],xe.prototype,"id",void 0),v([E({type:Date})],xe.prototype,"modified",void 0),v([E()],xe.prototype,"orgId",void 0),v([E()],xe.prototype,"portal",void 0),v([E()],xe.prototype,"preferredView",void 0),v([E()],xe.prototype,"privileges",void 0),v([E()],xe.prototype,"region",void 0),v([E()],xe.prototype,"role",void 0),v([E()],xe.prototype,"roleId",void 0),v([E()],xe.prototype,"sourceJSON",void 0),v([E()],xe.prototype,"thumbnail",void 0),v([E({readOnly:!0})],xe.prototype,"thumbnailUrl",null),v([E()],xe.prototype,"units",void 0),v([E({readOnly:!0})],xe.prototype,"userContentUrl",null),v([E({readOnly:!0})],xe.prototype,"url",null),v([E()],xe.prototype,"username",void 0),v([E()],xe.prototype,"userLicenseTypeId",void 0),v([E()],xe.prototype,"userType",void 0),xe=X3=v([tt("esri.portal.PortalUser")],xe);var Cr;let Df;const V9={PortalGroup:()=>Promise.resolve({default:yn}),PortalItem:()=>import("./PortalItem-48wtjFv4.js"),PortalUser:()=>Promise.resolve({default:xe})};let lt=class extends ow(Z3){static{Cr=this}static{this.AUTH_MODE_ANONYMOUS="anonymous"}static{this.AUTH_MODE_AUTO="auto"}static{this.AUTH_MODE_IMMEDIATE="immediate"}static{this.AUTH_MODE_NO_PROMPT="no-prompt"}constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=oe.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){z9.unregister(this),this.defaultBasemap=Id(this.defaultBasemap),this.defaultDevBasemap=Id(this.defaultDevBasemap),this.defaultVectorBasemap=Id(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Xu(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)oe.request.trustedServers.includes(e)||oe.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,e=!t||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get hasAPIKey(){return aY(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.slice(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let e=null;return t&&(e=xe.fromJSON(t),e.portal=this),e}load(t){const e=import("./Basemap-cgy4fJrt.js").then(n=>n.B).then(({default:n})=>{Qu(t),Df=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(n=>{if(!this.hasAPIKey&&Le){const i=Le;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==Cr.AUTH_MODE_AUTO&&this.authMode!==Cr.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",wit(new WeakRef(this))),z9.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await import("./ElevationLayer-BCHeXJ12.js")).default;return t?t.map(n=>new e({id:n.id,url:n.url})):[]}async fetchBasemaps(t,e){const n=await this._fetchBasemaps(t,e);if(e?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(t,e);n.unshift(...i)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const e=new mn;e.query=this.default3DBasemapQuery,e.disableExtraQuery=!0;const n=(await this.queryItems(e,t)).results.find(i=>i.type==="Web Scene");return n?new Df({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(e=>e.categorySchema):Ho(t)?Promise.reject(Gi()):Promise.resolve([])}async fetchClassificationSchema(t){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",t).then(e=>e.classificationSchema):null}fetchFeaturedGroups(t){const e=this.featuredGroups,n=new mn({num:100,sortField:"title"});if(e?.length){const i=[];for(const r of e)i.push(`(title:"${r.title}" AND owner:${r.owner})`);return n.query=i.join(" OR "),this.queryGroups(n,t).then(r=>r.results)}return Ho(t)?Promise.reject(Gi()):Promise.resolve([])}fetchRegions(t){const e=this.user?.culture||this.culture||$c();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}fetchSettings(t){const e=this.user?.culture||this.culture||$c();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:e}})}static getDefault(){return bit(()=>new Cr)}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,n){const i=this.restUrl+"/portals/self",r={authMode:t,query:{culture:$c().toLowerCase()},withCredentials:!0,...n};return r.authMode==="auto"&&(r.authMode="no-prompt"),e&&(r.query.default=!0),this.request(i,r)}queryPortal(t,e,n,i){const r=qr(mn,e),s=o=>this.request(this.restUrl+t,{...r.toRequestOptions(this),...i}).then(a=>{const l=r.clone();return l.start=a.nextStart,new Hc({nextQueryParams:l,queryParams:r,total:a.total,results:Cr._resultsToTypedArray(o,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(sI(l),a)));return n&&V9[n]?V9[n]().then(({default:o})=>(Qu(i),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ie("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Cr.AUTH_MODE_ANONYMOUS||this.authMode===Cr.AUTH_MODE_NO_PROMPT&&!Le)return Promise.reject(new ie("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=e=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(e||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate"))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return Le?Le.getCredential(this.restUrl,{prompt:this.authMode!==Cr.AUTH_MODE_NO_PROMPT}).then(e=>t(e)):t(this.credential)}normalizeUrl(t){const e=this.credential?.token;return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,n){return this.request(t,e).then(i=>{const r=Cr._resultsToTypedArray(n,{portal:this},i);return Promise.all(r.map(s=>typeof s.when=="function"?s.when():i)).then(()=>r,()=>r)})}request(t,e={}){const n={f:"json",...e.query},{authMode:i=this.authMode===Cr.AUTH_MODE_ANONYMOUS||this.authMode===Cr.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:r=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=e,c={authMode:i,body:r,cacheBust:s,method:o,query:n,responseType:a,timeout:0,signal:l};return e.withCredentials&&(c.withCredentials=!0),pn(this._normalizeSSL(t),c).then(p=>p.data)}toJSON(){throw new ie("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Cr({sourceJSON:t})}_getHelperService(t){const e=this.helperServices?.[t];if(!e)throw new ie("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}async _fetchBasemaps(t,e){const n=new mn;n.query=t||(Iw()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const i=await this.queryGroups(n,e);if(!i.total)return[];const r=i.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=r.sortField||"name",n.sortOrder=r.sortOrder||"desc";const s=await r.queryItems(n,e);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new Df({portalItem:o})):[]}async _fetchBasemaps3D(t,e){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];if(Iw())return[];const i=new mn({query:n,disableExtraQuery:!0}),r=await this.queryGroups(i,e);if(!r.total)return[];const s=r.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,e);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Df({portalItem:a})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=Df.fromJSON(t);return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,n,i){let r;if(n){const s=i!=null?i.signal:null;r=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||e)&&(r=r.map(o=>{const a=Object.assign(t?t.fromJSON(o):o,e);return typeof a.load=="function"&&a.load(s),a}))}else r=[];return r}};v([E()],lt.prototype,"access",void 0),v([E()],lt.prototype,"allSSL",void 0),v([E()],lt.prototype,"authMode",void 0),v([E()],lt.prototype,"authorizedCrossOriginDomains",void 0),v([hn("authorizedCrossOriginDomains")],lt.prototype,"readAuthorizedCrossOriginDomains",null),v([E()],lt.prototype,"basemapGalleryGroupQuery",void 0),v([E({json:{name:"3DBasemapGalleryGroupQuery"}})],lt.prototype,"basemapGalleryGroupQuery3D",void 0),v([E({json:{name:"g3DTilesGalleryGroupQuery"}})],lt.prototype,"g3DTilesGalleryGroupQuery",void 0),v([E({json:{name:"g3dTilesEnabled"}})],lt.prototype,"g3dTilesEnabled",void 0),v([E()],lt.prototype,"bingKey",void 0),v([E()],lt.prototype,"canListApps",void 0),v([E()],lt.prototype,"canListData",void 0),v([E()],lt.prototype,"canListPreProvisionedItems",void 0),v([E()],lt.prototype,"canProvisionDirectPurchase",void 0),v([E()],lt.prototype,"canSearchPublic",void 0),v([E()],lt.prototype,"canShareBingPublic",void 0),v([E()],lt.prototype,"canSharePublic",void 0),v([E()],lt.prototype,"canSignInArcGIS",void 0),v([E()],lt.prototype,"canSignInIDP",void 0),v([E()],lt.prototype,"colorSetsGroupQuery",void 0),v([E()],lt.prototype,"commentsEnabled",void 0),v([E({type:Date})],lt.prototype,"created",void 0),v([E()],lt.prototype,"credential",void 0),v([E()],lt.prototype,"culture",void 0),v([E()],lt.prototype,"currentVersion",void 0),v([E()],lt.prototype,"customBaseUrl",void 0),v([E()],lt.prototype,"default3DBasemapQuery",void 0),v([E()],lt.prototype,"defaultBasemap",void 0),v([hn("defaultBasemap")],lt.prototype,"readDefaultBasemap",null),v([E()],lt.prototype,"defaultDevBasemap",void 0),v([hn("defaultDevBasemap")],lt.prototype,"readDefaultDevBasemap",null),v([E({type:ae})],lt.prototype,"defaultExtent",void 0),v([E()],lt.prototype,"defaultVectorBasemap",void 0),v([hn("defaultVectorBasemap")],lt.prototype,"readDefaultVectorBasemap",null),v([E()],lt.prototype,"description",void 0),v([E()],lt.prototype,"devBasemapGalleryGroupQuery",void 0),v([E()],lt.prototype,"eueiEnabled",void 0),v([E({readOnly:!0})],lt.prototype,"extraQuery",null),v([E()],lt.prototype,"featuredGroups",void 0),v([E()],lt.prototype,"featuredItemsGroupQuery",void 0),v([E()],lt.prototype,"galleryTemplatesGroupQuery",void 0),v([E()],lt.prototype,"layoutGroupQuery",void 0),v([E()],lt.prototype,"livingAtlasGroupQuery",void 0),v([E({readOnly:!0})],lt.prototype,"hasAPIKey",null),v([E()],lt.prototype,"hasCategorySchema",void 0),v([E()],lt.prototype,"hasClassificationSchema",void 0),v([E()],lt.prototype,"helpBase",void 0),v([E()],lt.prototype,"helperServices",void 0),v([E()],lt.prototype,"helpMap",void 0),v([E()],lt.prototype,"homePageFeaturedContent",void 0),v([E()],lt.prototype,"homePageFeaturedContentCount",void 0),v([E()],lt.prototype,"httpPort",void 0),v([E()],lt.prototype,"httpsPort",void 0),v([E()],lt.prototype,"id",void 0),v([E()],lt.prototype,"ipCntryCode",void 0),v([E({readOnly:!0})],lt.prototype,"isOrganization",null),v([E()],lt.prototype,"isPortal",void 0),v([E()],lt.prototype,"isReadOnly",void 0),v([E({readOnly:!0})],lt.prototype,"itemPageUrl",null),v([E()],lt.prototype,"layerTemplatesGroupQuery",void 0),v([E()],lt.prototype,"maxTokenExpirationMinutes",void 0),v([E({type:Date})],lt.prototype,"modified",void 0),v([E()],lt.prototype,"name",void 0),v([E()],lt.prototype,"portalHostname",void 0),v([E()],lt.prototype,"portalMode",void 0),v([E()],lt.prototype,"portalProperties",void 0),v([E()],lt.prototype,"region",void 0),v([E()],lt.prototype,"recycleBinEnabled",void 0),v([E({readOnly:!0})],lt.prototype,"restUrl",null),v([E()],lt.prototype,"rotatorPanels",void 0),v([E()],lt.prototype,"showHomePageDescription",void 0),v([E()],lt.prototype,"sourceJSON",void 0),v([E()],lt.prototype,"staticImagesUrl",void 0),v([E({json:{name:"2DStylesGroupQuery"}})],lt.prototype,"stylesGroupQuery2d",void 0),v([E({json:{name:"stylesGroupQuery"}})],lt.prototype,"stylesGroupQuery3d",void 0),v([E()],lt.prototype,"supportsHostedServices",void 0),v([E()],lt.prototype,"symbolSetsGroupQuery",void 0),v([E()],lt.prototype,"templatesGroupQuery",void 0),v([E()],lt.prototype,"thumbnail",void 0),v([E({readOnly:!0})],lt.prototype,"thumbnailUrl",null),v([E()],lt.prototype,"units",void 0),v([E()],lt.prototype,"url",void 0),v([E()],lt.prototype,"urlKey",void 0),v([hn("urlKey")],lt.prototype,"readUrlKey",null),v([E()],lt.prototype,"user",void 0),v([hn("user")],lt.prototype,"readUser",null),v([E()],lt.prototype,"use3dBasemaps",void 0),v([E()],lt.prototype,"useDefault3dBasemap",void 0),v([E()],lt.prototype,"useStandardizedQuery",void 0),v([E()],lt.prototype,"useVectorBasemaps",void 0),v([E()],lt.prototype,"vectorBasemapGalleryGroupQuery",void 0),lt=Cr=v([tt("esri.portal.Portal")],lt);const z9=new FinalizationRegistry(t=>{t.remove()});function wit(t){const e=Le;return()=>{const n=t.deref();n&&e.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}let Bi=class extends Vt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,e,n){t||(e[n]=t)}};v([E({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Bi.prototype,"enabled",void 0),v([Ce("enabled")],Bi.prototype,"writeEnabled",null),v([E({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Bi.prototype,"type",void 0),Bi=v([tt("esri.symbols.Symbol3DLayer")],Bi);const xit=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Eit="screenUtils.toPt: input not recognized!",B9=96;function Sit(t){return t?t/72*B9:0}function Vs(t){return t?72*t/B9:0}function Ve(t){if(typeof t=="string"){const e=t.match(xit);if(e){const n=Number(e[1]),i=e[3]&&e[3].toLowerCase(),r=t.startsWith("-"),s=i==="px"?Vs(n):n;return r?-s:s}return console.warn(Eit),null}return t}function W9(t=0,e=0){return{x:t,y:e}}function Ait(t){return t?W9(t.x,t.y):null}function Tit(t=0,e=0){return[t,e]}function Mit(t=0,e=0,n=0){return[t,e,n]}function Iit(t){return t}function Oit(t){return t}function Nit(t){return t}function Cit(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function q9(t){const e=ay(100*(1-t));return Math.max(0,Math.min(e,100))}function H9(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function kit(t,e){const n=e.transparency!=null?H9(e.transparency):1,i=e.color;return i&&Array.isArray(i)?new he([i[0]||0,i[1]||0,i[2]||0,n]):null}function Pit(t,e){e.color=t.toJSON().slice(0,3);const n=q9(t.a);n!==0&&(e.transparency=n)}function xl(t){return{type:he,nonNullable:t?.nonNullable,json:{type:[nn],default:null,read:{source:["color","transparency"],reader:kit},write:{target:{color:{type:[nn],isRequired:t?.colorRequiredOnWrite},transparency:{type:nn}},writer:Pit}}}}const yo={type:Number,cast:Ve,json:{write:!0}};function Lit(t){return t==="emissive"?0:1}let Zc=class extends Vt{constructor(t){super(t),this.color=new he([0,0,0,1]),this.extensionLength=0,this.size=Vs(1)}clone(){}cloneProperties(){return{color:ht(this.color),size:this.size,extensionLength:this.extensionLength}}};v([E({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Zc.prototype,"type",void 0),v([E(xl({colorRequiredOnWrite:!0}))],Zc.prototype,"color",void 0),v([E({...yo,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],Zc.prototype,"extensionLength",void 0),v([E(yo)],Zc.prototype,"size",void 0),Zc=v([tt("esri.symbols.edges.Edges3D")],Zc);const Q3=Zc;var K3;let s1=K3=class extends Q3{constructor(t){super(t),this.type="sketch"}clone(){return new K3(this.cloneProperties())}};v([Kt({sketch:"sketch"},{readOnly:!0})],s1.prototype,"type",void 0),s1=K3=v([tt("esri.symbols.edges.SketchEdges3D")],s1);const Rit=s1;var tx;let o1=tx=class extends Q3{constructor(t){super(t),this.type="solid"}clone(){return new tx(this.cloneProperties())}};v([Kt({solid:"solid"},{readOnly:!0})],o1.prototype,"type",void 0),o1=tx=v([tt("esri.symbols.edges.SolidEdges3D")],o1);const Z9=o1,ex={types:{key:"type",base:Q3,typeMap:{solid:Z9,sketch:Rit}},json:{write:!0}};var nx;let Vh=nx=class extends Vt{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new nx(t)}};v([E({json:{write:!1}})],Vh.prototype,"strength",void 0),v([E({json:{write:!1}})],Vh.prototype,"source",void 0),Vh=nx=v([tt("esri.symbols.support.Symbol3DEmissive")],Vh);var ix;let nr=ix=class extends Vt{constructor(t){super(t),this.color=null,this.emissive=new Vh({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new ix(t)}};v([E(xl())],nr.prototype,"color",void 0),v([E({type:Vh,json:{write:!1}})],nr.prototype,"emissive",void 0),nr=ix=v([tt("esri.symbols.support.Symbol3DMaterial")],nr);var rx;let oa=class extends Bi{static{rx=this}constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new rx({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};v([Kt({Extrude:"extrude"},{readOnly:!0})],oa.prototype,"type",void 0),v([E({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],oa.prototype,"size",void 0),v([E({type:nr,json:{write:!0}})],oa.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],oa.prototype,"castShadows",void 0),v([E(ex)],oa.prototype,"edges",void 0),oa=rx=v([tt("esri.symbols.ExtrudeSymbol3DLayer")],oa);let Ff=class extends Vt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ff.prototype,"type",void 0),Ff=v([tt("esri.symbols.patterns.LinePattern3D")],Ff);const Dit=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var sx;const Fit=Hr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Yc=sx=class extends Ff{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new sx(t)}};v([E({type:["style"],json:{write:{isRequired:!0}}})],Yc.prototype,"type",void 0),v([Kt(Fit),E({type:Dit,json:{write:{isRequired:!0}}})],Yc.prototype,"style",void 0),Yc=sx=v([tt("esri.symbols.patterns.LineStylePattern3D")],Yc);let jf=class extends Vt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],jf.prototype,"type",void 0),jf=v([tt("esri.symbols.patterns.Pattern3D")],jf);const jit=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var ox;let zh=ox=class extends jf{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new ox({style:this.style})}};v([E({type:["style"],json:{write:{isRequired:!0}}})],zh.prototype,"type",void 0),v([E({type:jit,json:{read:!0,write:{isRequired:!0}}})],zh.prototype,"style",void 0),zh=ox=v([tt("esri.symbols.patterns.StylePattern3D")],zh);const Git={types:{key:"type",base:jf,typeMap:{style:zh}},json:{write:!0}},Y9={types:{key:"type",base:Ff,typeMap:{style:Yc}},json:{write:!0}},Gf=new he("white"),$it=new he([255,255,255,0]);function Uit(t){return t.r===0&&t.g===0&&t.b===0}var ax;let $f=ax=class extends nr{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new ax(t)}};v([Kt({multiply:"multiply",replace:"replace",tint:"tint"})],$f.prototype,"colorMixMode",void 0),$f=ax=v([tt("esri.symbols.support.Symbol3DFillMaterial")],$f);function a1(){return[0,0,0]}function J9(t){return[t[0],t[1],t[2]]}function Jc(t,e,n){return[t,e,n]}function X9(t,e,n){return[t,e,n]}function Q9(t,e=a1()){const n=Math.min(3,t.length);for(let i=0;i<n;++i)e[i]=t[i];return e}function lx(){return a1()}function cx(){return Jc(1,1,1)}function K9(){return Jc(1,0,0)}function tP(){return Jc(0,1,0)}function eP(){return Jc(0,0,1)}const nP=lx(),iP=cx(),rP=K9(),sP=tP(),oP=eP();Object.freeze(Object.defineProperty({__proto__:null,ONES:iP,UNIT_X:rP,UNIT_Y:sP,UNIT_Z:oP,ZEROS:nP,clone:J9,create:a1,freeze:X9,fromArray:Q9,fromValues:Jc,ones:cx,unitX:K9,unitY:tP,unitZ:eP,zeros:lx},Symbol.toStringTag,{value:"Module"}));function l1(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function aP(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function lP(t,e,n,i,r,s,o,a,l,c,p,d,f,y,g,b){return[t,e,n,i,r,s,o,a,l,c,p,d,f,y,g,b]}const cP=l1();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:cP,clone:aP,create:l1,fromValues:lP},Symbol.toStringTag,{value:"Module"}));function uP(t){return t<=d_?new Array(t).fill(0):new Float64Array(t)}function Vit(t){return(kM(t)?t.byteLength/8:t.length)<=d_?Array.from(t):new Float64Array(t)}function zit(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function Bit(t){return[...t]}function Wit(t){const e=l1();for(let n=0;n<16;++n)e[n]=t[n];return e}function Bh(t=dP){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function c1(t,e,n,i,r,s,o=Bh()){return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o[4]=r,o[5]=s,o}function qit(t,e=Bh()){return hP(t,0,t.length/3,e)}function hP(t,e,n,i=Bh()){return ux(i,u1),pP(i,t,e,n),i}function Hit(t,e=uP(24)){const[n,i,r,s,o,a]=t;return e[0]=n,e[1]=i,e[2]=r,e[3]=n,e[4]=i,e[5]=a,e[6]=n,e[7]=o,e[8]=r,e[9]=n,e[10]=o,e[11]=a,e[12]=s,e[13]=i,e[14]=r,e[15]=s,e[16]=i,e[17]=a,e[18]=s,e[19]=o,e[20]=r,e[21]=s,e[22]=o,e[23]=a,e}function Zit(t,e){const n=isFinite(t[2])||isFinite(t[5]);return new ae(n?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function Yit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function Jit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function Xit(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function pP(t,e,n=0,i=e.length/3){let r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let p=0;p<i;p++)r=Math.min(r,e[n+3*p]),s=Math.min(s,e[n+3*p+1]),o=Math.min(o,e[n+3*p+2]),a=Math.max(a,e[n+3*p]),l=Math.max(l,e[n+3*p+1]),c=Math.max(c,e[n+3*p+2]);t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function Qit(t,e,n){const i=e.length;let r=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];if(n)for(let p=0;p<i;p++){const d=e[p];r=Math.min(r,d[0]),s=Math.min(s,d[1]),o=Math.min(o,d[2]),a=Math.max(a,d[0]),l=Math.max(l,d[1]),c=Math.max(c,d[2])}else for(let p=0;p<i;p++){const d=e[p];r=Math.min(r,d[0]),s=Math.min(s,d[1]),a=Math.max(a,d[0]),l=Math.max(l,d[1])}t[0]=r,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function Kit(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function Wh(t){return t[0]>=t[3]?0:t[3]-t[0]}function qh(t){return t[1]>=t[4]?0:t[4]-t[1]}function Hh(t){return t[2]>=t[5]?0:t[5]-t[2]}function trt(t){const e=Wh(t),n=Hh(t),i=qh(t);return Math.sqrt(e*e+n*n+i*i)}function ert(t,e=[0,0,0]){return e[0]=t[0]+Wh(t)/2,e[1]=t[1]+qh(t)/2,e[2]=t[2]+Hh(t)/2,e}function nrt(t,e=[0,0,0]){return e[0]=Wh(t),e[1]=qh(t),e[2]=Hh(t),e}function irt(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function rrt(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function srt(t,e){return e==null||rrt(t,e)}function ort(t,e,n,i,r=t){return r[0]=t[0]+e,r[1]=t[1]+n,r[2]=t[2]+i,r[3]=t[3]+e,r[4]=t[4]+n,r[5]=t[5]+i,r}function art(t,e,n=t){const i=t[0]+Wh(t)/2,r=t[1]+qh(t)/2,s=t[2]+Hh(t)/2;return n[0]=i+(t[0]-i)*e,n[1]=r+(t[1]-r)*e,n[2]=s+(t[2]-s)*e,n[3]=i+(t[3]-i)*e,n[4]=r+(t[4]-r)*e,n[5]=s+(t[5]-s)*e,n}function lrt(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function crt(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function urt(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function ux(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function hrt(t){return t?ux(t,u1):Bh(u1)}function prt(t,e=kc()){return e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function drt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function frt(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=Number.NEGATIVE_INFINITY,t[3]=i,t[4]=r,t[5]=Number.POSITIVE_INFINITY,t}function hx(t){return t.length===6}function mrt(t){return Wh(t)===0&&qh(t)===0&&Hh(t)===0}function yrt(t,e,n){if(t==null||e==null)return t===e;if(!hx(t)||!hx(e))return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const u1=[1/0,1/0,1/0,-1/0,-1/0,-1/0],dP=[0,0,0,0,0,0];Bh();function grt(t,{isPrimitive:e,width:n,depth:i,height:r}){const s=e?10:1;if(n==null&&r==null&&i==null)return[s*t[0],s*t[1],s*t[2]];const o=Jc(n,i,r);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const vrt=c1(-.5,-.5,-.5,.5,.5,.5),brt=c1(-.5,-.5,0,.5,.5,1),_rt=c1(-.5,-.5,0,.5,.5,.5);function wrt(t){switch(t){case"sphere":case"cube":case"diamond":return vrt;case"cylinder":case"cone":case"inverted-cone":return brt;case"tetrahedron":return _rt;default:return}}const px=["butt","square","round"],xrt=[...px,"none"],fP=["miter","bevel","round"];var dx;let Xc=dx=class extends Vt{constructor(t){super(t),this.color=new he([0,0,0,1]),this.size=Vs(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new dx(t)}};v([E(xl({colorRequiredOnWrite:!0}))],Xc.prototype,"color",void 0),v([E({...yo,json:{write:{isRequired:!0}}})],Xc.prototype,"size",void 0),v([E(Y9)],Xc.prototype,"pattern",void 0),v([E({type:px,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Xc.prototype,"patternCap",void 0),Xc=dx=v([tt("esri.symbols.support.Symbol3DOutline")],Xc);var h1;let wi=class extends Bi{static{h1=this}constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new h1(t)}static fromSimpleFillSymbol(t){const e=t.outline&&t.outline.style&&t.outline.style!=="solid"?new Yc({style:t.outline.style}):null,n={size:t.outline?.width??0,color:(t.outline?.color??Gf).clone(),pattern:e};return e&&t.outline?.cap&&(n.patternCap=t.outline.cap),new h1({material:new $f({color:(t.color??$it).clone()}),pattern:t.style&&t.style!=="solid"?new zh({style:t.style}):null,outline:n})}};v([Kt({Fill:"fill"},{readOnly:!0})],wi.prototype,"type",void 0),v([E({type:$f,json:{write:!0}})],wi.prototype,"material",void 0),v([E(Git)],wi.prototype,"pattern",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],wi.prototype,"castShadows",void 0),v([E({type:Xc,json:{write:!0}})],wi.prototype,"outline",void 0),v([E(ex)],wi.prototype,"edges",void 0),wi=h1=v([tt("esri.symbols.FillSymbol3DLayer")],wi);var fx;const Ert=Hr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Qc=fx=class extends Vt{constructor(t){super(t)}readHref(t,e,n){return t?ch(t,n):e.dataURI}writeHref(t,e,n,i){t&&(xc(t)?e.dataURI=t:(e.href=Bd(t,i),Jr(e.href)&&(e.href=Qo(e.href))))}clone(){return new fx({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};v([E({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Qc.prototype,"href",void 0),v([hn("href")],Qc.prototype,"readHref",null),v([Ce("href",{href:{type:String},dataURI:{type:String}})],Qc.prototype,"writeHref",null),v([Kt(Ert)],Qc.prototype,"primitive",void 0),Qc=fx=v([tt("esri.symbols.support.IconSymbol3DLayerResource")],Qc);const Srt="circle";let p1=class extends Vi(Vt){constructor(t){super(t),this.mode="hidden"}equals(t){return this.mode===t.mode}};v([E({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],p1.prototype,"mode",void 0),p1=v([tt("esri.symbols.support.OccludedVisibility")],p1);const mP=p1;var mx;let Kc=mx=class extends Bn{constructor(t){super(t),this.x=0,this.y=0}clone(){return new mx({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};v([E({type:Number})],Kc.prototype,"x",void 0),v([E({type:Number})],Kc.prototype,"y",void 0),Kc=mx=v([tt("esri.symbols.support.Symbol3DAnchorPosition2D")],Kc);var yx;let Uf=yx=class extends Vt{constructor(t){super(t),this.color=new he([0,0,0,1]),this.size=Vs(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new yx(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};v([E(xl({colorRequiredOnWrite:!0}))],Uf.prototype,"color",void 0),v([E({...yo,json:{write:{isRequired:!0}}})],Uf.prototype,"size",void 0),Uf=yx=v([tt("esri.symbols.support.Symbol3DIconOutline")],Uf);var Zh;let qn=class extends Bi{static{Zh=this}constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new Zh({anchor:this.anchor,anchorPosition:ht(this.anchorPosition),enabled:this.enabled,material:ht(this.material),outline:ht(this.outline),resource:ht(this.resource),angle:this.angle,size:this.size,occludedVisibility:ht(this.occludedVisibility)})}static fromSimpleMarkerSymbol(t){const e=t.color||Gf,n=yP(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Gf).clone()}:null;return new Zh({size:t.size,angle:t.angle,resource:{primitive:Trt(()=>Oe.getLogger(this.prototype),t.style)},material:{color:e},outline:i,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(t){const e=!t.color||Uit(t.color)?Gf:t.color,n=yP(t);return new Zh({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:e.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(t){return new Zh({resource:{href:T6({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function yP(t){const e="width"in t?t.width:t.size,n="height"in t?t.height:t.size,i=gP(t.xoffset),r=gP(t.yoffset);return(i||r)&&e&&n?{x:-i/e,y:r/n}:null}function gP(t){return isFinite(t)?t:0}v([E({type:nr,json:{write:!0}})],qn.prototype,"material",void 0),v([E({type:Qc,json:{write:!0}})],qn.prototype,"resource",void 0),v([Kt({Icon:"icon"},{readOnly:!0})],qn.prototype,"type",void 0),v([E({...yo,json:{write:{isRequired:!0}}})],qn.prototype,"size",void 0),v([Kt({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],qn.prototype,"anchor",void 0),v([E({type:Kc,json:{type:[Number],read:{reader:t=>new Kc({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],qn.prototype,"anchorPosition",void 0),v([E({type:Uf,json:{write:!0}})],qn.prototype,"outline",void 0),v([E({type:Number,json:{write:!0,default:0}})],qn.prototype,"angle",void 0),v([E({type:mP})],qn.prototype,"occludedVisibility",void 0),qn=Zh=v([tt("esri.symbols.IconSymbol3DLayer")],qn);const Art={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function Trt(t,e){return Art[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const Mrt=["begin","end","begin-end"],vP=["arrow","circle","square","diamond","cross","x"];let aa=class extends Vi(Vt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};v([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],aa.prototype,"type",void 0),v([E({type:Mrt,json:{default:"begin-end",write:!0}})],aa.prototype,"placement",void 0),v([E({type:vP,json:{default:"arrow",write:!0}})],aa.prototype,"style",void 0),v([E({type:he,json:{type:[nn],default:null,write:!0}})],aa.prototype,"color",void 0),aa=v([tt("esri.symbols.LineStyleMarker3D")],aa);var d1;let Wi=class extends Bi{static{d1=this}constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Vs(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new d1(t)}static fromSimpleLineSymbol(t){const e={enabled:!0,size:t.width??Vs(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new Yc({style:t.style}):null,material:new nr({color:(t.color||Gf).clone()}),marker:t.marker?new aa({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new d1(e)}};v([E({type:nr,json:{write:!0}})],Wi.prototype,"material",void 0),v([Kt({Line:"line"},{readOnly:!0})],Wi.prototype,"type",void 0),v([E({type:fP,json:{write:!0,default:"miter"}})],Wi.prototype,"join",void 0),v([E({type:px,json:{write:!0,default:"butt"}})],Wi.prototype,"cap",void 0),v([E({...yo,json:{write:{isRequired:!0}}})],Wi.prototype,"size",void 0),v([E(Y9)],Wi.prototype,"pattern",void 0),v([E({types:{key:"type",base:aa,typeMap:{style:aa}},json:{write:!0}})],Wi.prototype,"marker",void 0),Wi=d1=v([tt("esri.symbols.LineSymbol3DLayer")],Wi);var gx;const Irt=Hr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Vf=gx=class extends Vt{clone(){return new gx({href:this.href,primitive:this.primitive})}};v([E({type:String,json:{read:Hy,write:Ec}})],Vf.prototype,"href",void 0),v([Kt(Irt)],Vf.prototype,"primitive",void 0),Vf=gx=v([tt("esri.symbols.support.ObjectSymbol3DLayerResource")],Vf);const Ort="sphere";var vx;let tu=vx=class extends Bn{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new vx({x:this.x,y:this.y,z:this.z})}};v([E({type:Number})],tu.prototype,"x",void 0),v([E({type:Number})],tu.prototype,"y",void 0),v([E({type:Number})],tu.prototype,"z",void 0),tu=vx=v([tt("esri.symbols.support.Symbol3DAnchorPosition3D")],tu);var bx;let Hn=class extends Bi{static{bx=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new bx({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};v([E({type:nr,json:{write:!0}})],Hn.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Hn.prototype,"castShadows",void 0),v([E({type:Vf,json:{write:!0}})],Hn.prototype,"resource",void 0),v([Kt({Object:"object"},{readOnly:!0})],Hn.prototype,"type",void 0),v([E({type:Number,json:{write:!0}})],Hn.prototype,"width",void 0),v([E({type:Number,json:{write:!0}})],Hn.prototype,"height",void 0),v([E({type:Number,json:{write:!0}})],Hn.prototype,"depth",void 0),v([Kt({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],Hn.prototype,"anchor",void 0),v([E({type:tu,json:{type:[Number],read:{reader:t=>new tu({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],Hn.prototype,"anchorPosition",void 0),v([E({type:Number,json:{write:!0}})],Hn.prototype,"heading",void 0),v([E({type:Number,json:{write:!0}})],Hn.prototype,"tilt",void 0),v([E({type:Number,json:{write:!0}})],Hn.prototype,"roll",void 0),v([E({readOnly:!0})],Hn.prototype,"isPrimitive",null),Hn=bx=v([tt("esri.symbols.ObjectSymbol3DLayer")],Hn);var _x;let ai=class extends Bi{static{_x=this}constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new _x({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};v([E({type:nr,json:{write:!0}})],ai.prototype,"material",void 0),v([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ai.prototype,"castShadows",void 0),v([Kt({Path:"path"},{readOnly:!0})],ai.prototype,"type",void 0),v([E({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],ai.prototype,"profile",void 0),v([E({type:fP,nonNullable:!0,json:{write:!0,default:"miter"}})],ai.prototype,"join",void 0),v([E({type:xrt,nonNullable:!0,json:{write:!0,default:"butt"}})],ai.prototype,"cap",void 0),v([E({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],ai.prototype,"width",void 0),v([hn("width",["width","size","height"])],ai.prototype,"readWidth",null),v([E({type:Number,json:{write:!0}})],ai.prototype,"height",void 0),v([hn("height",["height","size","width"])],ai.prototype,"readHeight",null),v([E({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],ai.prototype,"anchor",void 0),v([E({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],ai.prototype,"profileRotation",void 0),ai=_x=v([tt("esri.symbols.PathSymbol3DLayer")],ai);const Nrt=["none","underline","line-through"],Crt=["normal","italic","oblique"],krt=["normal","lighter","bold","bolder"],bP={type:Number,cast:t=>{const e=Td(t);return e===0?1:Ju(e,.1,4)},nonNullable:!0},Prt=["left","right","center"],Lrt=["baseline","top","middle","bottom"],_P={type:Prt,nonNullable:!0},wP={type:Lrt,nonNullable:!0},Rrt=8;var wx;let kr=wx=class extends Vt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Ve(t)}clone(){return new wx({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};v([E({type:Nrt,json:{default:"none",write:!0}})],kr.prototype,"decoration",void 0),v([E({type:String,json:{write:!0}})],kr.prototype,"family",void 0),v([E({type:Number,json:{write:{overridePolicy:(t,e,n)=>({enabled:!n||!n.textSymbol3D})}}})],kr.prototype,"size",void 0),v([fh("size")],kr.prototype,"castSize",null),v([E({type:Crt,json:{default:"normal",write:!0}})],kr.prototype,"style",void 0),v([E({type:krt,json:{default:"normal",write:!0}})],kr.prototype,"weight",void 0),kr=wx=v([tt("esri.symbols.Font")],kr);var xx;let Yh=xx=class extends Vt{constructor(){super(...arguments),this.color=new he([0,0,0,1]),this.size=0}clone(){const t={color:ht(this.color),size:this.size};return new xx(t)}};v([E(xl())],Yh.prototype,"color",void 0),v([E(yo)],Yh.prototype,"size",void 0),Yh=xx=v([tt("esri.symbols.support.Symbol3DHalo")],Yh);let zf=class extends Vi(Vt){constructor(t){super(t),this.color=null}};v([E(xl())],zf.prototype,"color",void 0),zf=v([tt("esri.symbols.support.Symbol3DTextBackground")],zf);var f1;let Tn=class extends Bi{static{f1=this}constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,n,i){const r={...i,textSymbol3D:!0};e.font=t.write({},r),delete e.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new f1({enabled:this.enabled,font:ht(this.font),halo:ht(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ht(this.background),occludedVisibility:ht(this.occludedVisibility)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new f1({font:t.font!=null?t.font.clone():new kr,halo:Drt(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new nr({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new zf({color:t.backgroundColor.clone()}):null})}};function Drt(t,e){return t&&e!=null&&e>0?new Yh({color:ht(t),size:e}):null}v([E({type:kr,json:{write:!0}})],Tn.prototype,"font",null),v([Ce("font")],Tn.prototype,"writeFont",null),v([E({type:Yh,json:{write:!0}})],Tn.prototype,"halo",void 0),v([E({..._P,json:{default:"center",write:!0}})],Tn.prototype,"horizontalAlignment",void 0),v([E({...bP,json:{default:1,write:!0}})],Tn.prototype,"lineHeight",void 0),v([E({type:nr,json:{write:!0}})],Tn.prototype,"material",void 0),v([E({type:zf,json:{write:!0}})],Tn.prototype,"background",void 0),v([E(yo)],Tn.prototype,"size",null),v([E({type:String,json:{write:!0}})],Tn.prototype,"text",void 0),v([Kt({Text:"text"},{readOnly:!0})],Tn.prototype,"type",void 0),v([E({...wP,json:{default:"baseline",write:!0}})],Tn.prototype,"verticalAlignment",void 0),v([E({type:mP})],Tn.prototype,"occludedVisibility",void 0),Tn=f1=v([tt("esri.symbols.TextSymbol3DLayer")],Tn);var Ex;let la=class extends Bi{static{Ex=this}constructor(t){super(t),this.color=Sx.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Ex({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};v([E({type:he,nonNullable:!0,json:{type:[nn],write:(t,e,n)=>e[n]=t.toArray(1),default:()=>Sx.clone(),defaultEquals:t=>t.toCss(!0)===Sx.toCss(!0)}})],la.prototype,"color",void 0),v([Kt({Water:"water"},{readOnly:!0})],la.prototype,"type",void 0),v([E({type:["small","medium","large"],json:{write:!0,default:"medium"}})],la.prototype,"waterbodySize",void 0),v([E({type:Number,json:{write:!0,default:null}})],la.prototype,"waveDirection",void 0),v([E({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],la.prototype,"waveStrength",void 0),la=Ex=v([tt("esri.symbols.WaterSymbol3DLayer")],la);const Sx=new he([0,119,190]);var Ax;let go=Ax=class extends Bn{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new Ax({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};v([E({type:String})],go.prototype,"name",void 0),v([E({type:String})],go.prototype,"styleUrl",void 0),v([E({type:String})],go.prototype,"styleName",void 0),v([E({type:lt})],go.prototype,"portal",void 0),go=Ax=v([tt("esri.symbols.support.StyleOrigin")],go);var Tx;let Jh=Tx=class extends Bn{constructor(){super(...arguments),this.url=""}clone(){return new Tx({url:this.url})}};v([E({type:String})],Jh.prototype,"url",void 0),Jh=Tx=v([tt("esri.symbols.support.Thumbnail")],Jh);const xP={icon:qn,object:Hn,line:Wi,path:ai,fill:wi,extrude:oa,text:Tn,water:la},Frt=de.ofType({base:Bi,key:"type",typeMap:xP,errorContext:"symbol-layer"});let ir=class extends fn{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=e?.type,i=n||de;this._set("symbolLayers",new i)}get color(){return null}set color(t){this.constructed&&Oe.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){D9(t,this._get("symbolLayers"))}readStyleOrigin(t,e,n){if(t.styleUrl&&t.name){const i=ch(t.styleUrl,n);return new go({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new go({portal:n?.portal||lt.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new nh("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,e,n,i){if(t.styleUrl&&t.name){let r=Bd(t.styleUrl,i);Jr(r)&&(r=Qo(r)),e.styleOrigin={styleUrl:r,name:t.name}}else t.styleName&&t.name&&(t.portal&&i?.portal&&!S6(t.portal.restUrl,i.portal.restUrl)?i?.messages&&i.messages.push(new nh("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof Bi||t&&xP[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};v([E({json:{read:!1,write:!1}})],ir.prototype,"color",null),v([E({type:Frt,nonNullable:!0,json:{write:!0}}),fh(F9)],ir.prototype,"symbolLayers",null),v([E({type:go})],ir.prototype,"styleOrigin",void 0),v([hn("styleOrigin")],ir.prototype,"readStyleOrigin",null),v([Ce("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],ir.prototype,"writeStyleOrigin",null),v([E({type:Jh,json:{read:!1}})],ir.prototype,"thumbnail",void 0),v([E({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],ir.prototype,"type",void 0),ir=v([tt("esri.symbols.Symbol3D")],ir);let Xh=class extends Vt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};v([E({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Xh.prototype,"type",void 0),v([E({readOnly:!0})],Xh.prototype,"visible",void 0),Xh=v([tt("esri.symbols.callouts.Callout3D")],Xh);var Mx;let m1=Mx=class extends Vt{constructor(t){super(t),this.color=new he("white")}clone(){return new Mx({color:ht(this.color)})}};v([E(xl({colorRequiredOnWrite:!0}))],m1.prototype,"color",void 0),m1=Mx=v([tt("esri.symbols.callouts.LineCallout3DBorder")],m1);const EP=m1;var Ix;let vo=Ix=class extends Xh{constructor(t){super(t),this.type="line",this.color=new he([0,0,0,1]),this.size=Vs(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new Ix({color:ht(this.color),size:this.size,border:ht(this.border)})}};v([Kt({line:"line"})],vo.prototype,"type",void 0),v([E(xl({colorRequiredOnWrite:!0}))],vo.prototype,"color",void 0),v([E({...yo,json:{write:{isRequired:!0}}})],vo.prototype,"size",void 0),v([E({type:EP,json:{write:!0}})],vo.prototype,"border",void 0),v([E({readOnly:!0})],vo.prototype,"visible",null),vo=Ix=v([tt("esri.symbols.callouts.LineCallout3D")],vo);function Ox(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function SP(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!Ox(t)}function jrt(t){return t.type==="point-3d"||t.type==="label-3d"}function Grt(t){return t.horizontalAlignment==="center"}const AP={types:{key:"type",base:Xh,typeMap:{line:vo}},json:{write:!0}};var Nx;let ca=Nx=class extends Vt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Nx({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};v([E({...yo,json:{write:{isRequired:!0}}})],ca.prototype,"screenLength",void 0),v([E({type:Number,nonNullable:!0,json:{write:!0,default:0}})],ca.prototype,"minWorldLength",void 0),v([E({type:Number,json:{write:!0}})],ca.prototype,"maxWorldLength",void 0),ca=Nx=v([tt("esri.symbols.support.Symbol3DVerticalOffset")],ca);var y1;const TP=de.ofType({base:null,key:"type",typeMap:{text:Tn}});let ss=y1=class extends ir{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new TP,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return SP(this)}hasVisibleVerticalOffset(){return Ox(this)}clone(){return new y1({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail),callout:ht(this.callout),verticalOffset:ht(this.verticalOffset)})}static fromTextSymbol(t){return new y1({symbolLayers:new de([Tn.fromTextSymbol(t)])})}};v([E({type:ca,json:{write:!0}})],ss.prototype,"verticalOffset",void 0),v([E(AP)],ss.prototype,"callout",void 0),v([E({json:{read:!1,write:!1}})],ss.prototype,"styleOrigin",void 0),v([E({type:TP})],ss.prototype,"symbolLayers",void 0),v([Kt({LabelSymbol3D:"label-3d"},{readOnly:!0})],ss.prototype,"type",void 0),ss=y1=v([tt("esri.symbols.LabelSymbol3D")],ss);var g1;const MP=de.ofType({base:null,key:"type",typeMap:{line:Wi,path:ai}}),$rt=de.ofType({base:null,key:"type",typeMap:{line:Wi,path:ai}});let zs=g1=class extends ir{constructor(t){super(t),this.symbolLayers=new MP,this.type="line-3d"}clone(){return new g1({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleLineSymbol(t){return new g1({symbolLayers:new de([Wi.fromSimpleLineSymbol(t)])})}};v([E({type:MP,json:{type:$rt}})],zs.prototype,"symbolLayers",void 0),v([Kt({LineSymbol3D:"line-3d"},{readOnly:!0})],zs.prototype,"type",void 0),zs=g1=v([tt("esri.symbols.LineSymbol3D")],zs);var v1;const IP=de.ofType({base:null,key:"type",typeMap:{fill:wi}});let bo=v1=class extends ir{constructor(t){super(t),this.symbolLayers=new IP,this.type="mesh-3d"}clone(){return new v1({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleFillSymbol(t){return new v1({symbolLayers:new de([wi.fromSimpleFillSymbol(t)])})}};v([E({type:IP})],bo.prototype,"symbolLayers",void 0),v([Kt({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],bo.prototype,"type",void 0),bo=v1=v([tt("esri.symbols.MeshSymbol3D")],bo);let Bf=class extends fn{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};v([Kt({esriSLS:"simple-line"},{readOnly:!0})],Bf.prototype,"type",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],Bf.prototype,"width",void 0),Bf=v([tt("esri.symbols.LineSymbol")],Bf);var Cx;let _o=Cx=class extends Vt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,n,i){e[n]=i?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,n,i){i?.origin==="web-map"||(e[n]=t)}clone(){return new Cx({color:ht(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};v([E({type:["begin","end","begin-end"],json:{write:!0}})],_o.prototype,"placement",void 0),v([Kt({"line-marker":"line-marker"},{readOnly:!0}),E({json:{origins:{"web-map":{write:!1}}}})],_o.prototype,"type",void 0),v([E({type:vP})],_o.prototype,"style",void 0),v([Ce("style")],_o.prototype,"writeStyle",null),v([E({type:he,value:null,json:{write:{allowNull:!0}}})],_o.prototype,"color",null),v([hn("color")],_o.prototype,"readColor",null),v([Ce("color")],_o.prototype,"writeColor",null),_o=Cx=v([tt("esri.symbols.LineSymbolMarker")],_o);const Urt=_o;var kx;const Px=new Cs({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let $n=kx=class extends Bf{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,n,i,r,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),n!=null&&(o.width=Ve(n)),i!=null&&(o.cap=i),r!=null&&(o.join=r),s!=null&&(o.miterLimit=Ve(s)),o}clone(){return new kx({color:ht(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};v([Kt({esriSLS:"simple-line"},{readOnly:!0})],$n.prototype,"type",void 0),v([E({type:Px.apiValues,json:{read:Px.read,write:Px.write}})],$n.prototype,"style",void 0),v([E({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],$n.prototype,"cap",void 0),v([E({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],$n.prototype,"join",void 0),v([E({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Urt}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],$n.prototype,"marker",void 0),v([E({type:Number,json:{read:!1,write:!1}})],$n.prototype,"miterLimit",void 0),$n=kx=v([tt("esri.symbols.SimpleLineSymbol")],$n);let Qh=class extends fn{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":$n}},json:{default:null,write:!0}})],Qh.prototype,"outline",void 0),v([E({type:["simple-fill","picture-fill"],readOnly:!0})],Qh.prototype,"type",void 0),Qh=v([tt("esri.symbols.FillSymbol")],Qh);function Vrt(t,e,n){return e.imageData?T6({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):OP(e.url,n)}function OP(t,e){if(!Jr(t)){const n=Brt(e);if(n)return zd(n,"images",t)}return ch(t,e)}function zrt(t,e,n,i){if(xc(t)){const r=lh(t);if(!r)return;e.contentType=r.mediaType,e.imageData=r.data,n&&n.imageData===e.imageData&&n.url&&Ec(n.url,e,"url",i)}else Ec(t,e,"url",i)}const NP={json:{read:{source:["imageData","url"],reader:Vrt},write:{writer(t,e,n,i){zrt(t,e,this.source,i)}}}},CP={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,n){const i={};return e.imageData&&(i.imageData=e.imageData),e.contentType&&(i.contentType=e.contentType),e.url&&(i.url=OP(e.url,n)),i}}}};function Brt(t){if(!t)return null;const{origin:e,layer:n}=t;if(e!=="service"&&e!=="portal-item")return null;const i=n?.type;return i==="feature"||i==="stream"?n.parsedUrl?.path:i==="map-image"||i==="tile"?t.url?.path:null}var Lx;let rr=Lx=class extends Qh{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e&&(r.outline=e),n!=null&&(r.width=Ve(n)),i!=null&&(r.height=Ve(i)),r}clone(){const t=new Lx({color:ht(this.color),height:this.height,outline:ht(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",ht(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};v([Kt({esriPFS:"picture-fill"},{readOnly:!0})],rr.prototype,"type",void 0),v([E(NP)],rr.prototype,"url",void 0),v([E({type:Number,json:{write:!0}})],rr.prototype,"xscale",void 0),v([E({type:Number,json:{write:!0}})],rr.prototype,"yscale",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],rr.prototype,"width",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],rr.prototype,"height",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],rr.prototype,"xoffset",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],rr.prototype,"yoffset",void 0),v([E(CP)],rr.prototype,"source",void 0),rr=Lx=v([tt("esri.symbols.PictureFillSymbol")],rr);let ua=class extends fn{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],ua.prototype,"angle",void 0),v([E({type:["simple-marker","picture-marker"],readOnly:!0})],ua.prototype,"type",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],ua.prototype,"xoffset",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],ua.prototype,"yoffset",void 0),v([E({cast:t=>t==="auto"?t:Td(Ve(t)),json:{write:!0}})],ua.prototype,"size",void 0),ua=v([tt("esri.symbols.MarkerSymbol")],ua);var Rx;let li=Rx=class extends ua{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),e!=null&&(i.width=Ve(e)),n!=null&&(i.height=Ve(n)),i}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new Rx({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",ht(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};v([E({json:{write:!1}})],li.prototype,"color",void 0),v([Kt({esriPMS:"picture-marker"},{readOnly:!0})],li.prototype,"type",void 0),v([E(NP)],li.prototype,"url",void 0),v([E(CP)],li.prototype,"source",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],li.prototype,"height",void 0),v([hn("height",["height","size"])],li.prototype,"readHeight",null),v([E({type:Number,cast:Ve,json:{write:!0}})],li.prototype,"width",void 0),v([E({json:{write:!1}})],li.prototype,"size",void 0),li=Rx=v([tt("esri.symbols.PictureMarkerSymbol")],li);var eu;const kP=de.ofType({base:null,key:"type",typeMap:{icon:qn,object:Hn,text:Tn}});let xi=eu=class extends ir{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new kP,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return SP(this)}hasVisibleVerticalOffset(){return Ox(this)}clone(){return new eu({verticalOffset:ht(this.verticalOffset),callout:ht(this.callout),styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new eu({symbolLayers:new de([qn.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new eu({symbolLayers:new de([qn.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const e=t.data.symbol;return new eu(e?.callout?{symbolLayers:new de([qn.fromCIMSymbol(t)]),callout:new vo({size:.5,color:new he([0,0,0])}),verticalOffset:new ca({screenLength:40})}:{symbolLayers:new de([qn.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new eu({symbolLayers:new de([Tn.fromTextSymbol(t)])})}};v([E({type:ca,json:{write:!0}})],xi.prototype,"verticalOffset",void 0),v([E(AP)],xi.prototype,"callout",void 0),v([E({type:kP,json:{origins:{"web-scene":{write:!0}}}})],xi.prototype,"symbolLayers",void 0),v([Kt({PointSymbol3D:"point-3d"},{readOnly:!0})],xi.prototype,"type",void 0),xi=eu=v([tt("esri.symbols.PointSymbol3D")],xi);var Wf;const PP=de.ofType({base:null,key:"type",typeMap:{extrude:oa,fill:wi,icon:qn,line:Wi,object:Hn,text:Tn,water:la}});let os=Wf=class extends ir{constructor(t){super(t),this.symbolLayers=new PP,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Xo(Oe.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Xo(Oe.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(B_(()=>this.symbolLayers,"after-add",({item:e})=>t(e),GI))}clone(){return new Wf({styleOrigin:ht(this.styleOrigin),symbolLayers:ht(this.symbolLayers),thumbnail:ht(this.thumbnail)})}static fromJSON(t){const e=new Wf;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const n=e.symbolLayers.at(0),i=e.symbolLayers.at(1);!i.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(n.outline={size:i.size,color:i.material!=null?i.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Wf({symbolLayers:new de([wi.fromSimpleFillSymbol(t)])})}};v([E({type:PP,json:{write:!0}})],os.prototype,"symbolLayers",void 0),v([Kt({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],os.prototype,"type",void 0),os=Wf=v([tt("esri.symbols.PolygonSymbol3D")],os);var Dx;const Fx=new Cs({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let sr=Dx=class extends Qh{constructor(...t){super(...t),this.color=new he([0,0,0,.25]),this.outline=new $n,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),e&&(i.outline=e),n&&(i.color=n),i}clone(){return new Dx({color:ht(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};v([E()],sr.prototype,"color",void 0),v([E()],sr.prototype,"outline",void 0),v([Kt({esriSFS:"simple-fill"},{readOnly:!0})],sr.prototype,"type",void 0),v([E({type:Fx.apiValues,json:{read:Fx.read,write:Fx.write}})],sr.prototype,"style",void 0),sr=Dx=v([tt("esri.symbols.SimpleFillSymbol")],sr);var jx;const Gx=new Cs({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Un=jx=class extends ua{constructor(...t){super(...t),this.color=new he([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new $n}normalizeCtorArgs(t,e,n,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e!=null&&(r.size=Ve(e)),n&&(r.outline=n),i&&(r.color=i),r}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new jx({angle:this.angle,color:ht(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};v([E()],Un.prototype,"color",void 0),v([Ce("color")],Un.prototype,"writeColor",null),v([Kt({esriSMS:"simple-marker"},{readOnly:!0})],Un.prototype,"type",void 0),v([E()],Un.prototype,"size",void 0),v([E({type:Gx.apiValues,json:{read:Gx.read,write:Gx.write}})],Un.prototype,"style",void 0),v([E({type:String,json:{write:!0}})],Un.prototype,"path",null),v([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":$n}},json:{default:null,write:!0}})],Un.prototype,"outline",void 0),Un=jx=v([tt("esri.symbols.SimpleMarkerSymbol")],Un);var $x;let me=$x=class extends fn{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new kr,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),e&&(i.font=e),n&&(i.color=n),i}writeLineWidth(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}castLineWidth(t){return Ve(t)}writeLineHeight(t,e,n,i){i&&typeof i!="string"?i.origin:e[n]=t}clone(){return new $x({angle:this.angle,backgroundColor:ht(this.backgroundColor),borderLineColor:ht(this.borderLineColor),borderLineSize:this.borderLineSize,color:ht(this.color),font:this.font&&this.font.clone(),haloColor:ht(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};v([E({type:he,json:{write:!0}})],me.prototype,"backgroundColor",void 0),v([E({type:he,json:{write:!0}})],me.prototype,"borderLineColor",void 0),v([E({type:Number,json:{write:!0},cast:Ve})],me.prototype,"borderLineSize",void 0),v([E({type:kr,json:{write:!0}})],me.prototype,"font",void 0),v([E({..._P,json:{write:!0}})],me.prototype,"horizontalAlignment",void 0),v([E({type:Boolean,json:{write:!0}})],me.prototype,"kerning",void 0),v([E({type:he,json:{write:!0}})],me.prototype,"haloColor",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],me.prototype,"haloSize",void 0),v([E({type:Boolean,json:{write:!0}})],me.prototype,"rightToLeft",void 0),v([E({type:Boolean,json:{write:!0}})],me.prototype,"rotated",void 0),v([E({type:String,json:{write:!0}})],me.prototype,"text",void 0),v([Kt({esriTS:"text"},{readOnly:!0})],me.prototype,"type",void 0),v([E({...wP,json:{write:!0}})],me.prototype,"verticalAlignment",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],me.prototype,"xoffset",void 0),v([E({type:Number,cast:Ve,json:{write:!0}})],me.prototype,"yoffset",void 0),v([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],me.prototype,"angle",void 0),v([E({type:Number,json:{write:!0}})],me.prototype,"width",void 0),v([E({type:Number})],me.prototype,"lineWidth",void 0),v([Ce("lineWidth")],me.prototype,"writeLineWidth",null),v([fh("lineWidth")],me.prototype,"castLineWidth",null),v([E(bP)],me.prototype,"lineHeight",void 0),v([Ce("lineHeight")],me.prototype,"writeLineHeight",null),me=$x=v([tt("esri.symbols.TextSymbol")],me);var Ux;let ci=Ux=class extends fn{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:lt.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new Ux({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){tw(Oe.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new ie("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,n=e?this._fetchCacheKey:null;if(e!=null){const o=n&&e.get(n);if(o)return o.clone()}const{resolveWebStyleSymbol:i}=await import("./webStyleSymbolUtils-CsHiS1wi.js");Qu(t);const r=i(this,{portal:this.portal},t);r.catch(o=>{Oe.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await r;return e?.set(n,s.clone()),s}};v([E({json:{write:!1}})],ci.prototype,"color",void 0),v([E({type:String,json:{write:!0}})],ci.prototype,"styleName",void 0),v([E({type:lt,json:{write:!1}})],ci.prototype,"portal",void 0),v([E({type:String,json:{read:Hy,write:Ec}})],ci.prototype,"styleUrl",void 0),v([E({type:Jh,json:{read:!1}})],ci.prototype,"thumbnail",void 0),v([E({type:String,json:{write:!0}})],ci.prototype,"name",void 0),v([Kt({styleSymbolReference:"web-style"},{readOnly:!0})],ci.prototype,"type",void 0),v([E()],ci.prototype,"_fetchCacheKey",null),ci=Ux=v([tt("esri.symbols.WebStyleSymbol")],ci);function Wrt(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Vx(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const b1={base:fn,key:"type",typeMap:{"simple-fill":sr,"picture-fill":rr,"picture-marker":li,"simple-line":$n,"simple-marker":Un,text:me,"label-3d":ss,"line-3d":zs,"mesh-3d":bo,"point-3d":xi,"polygon-3d":os,"web-style":ci,cim:zi},errorContext:"symbol"},qrt={base:fn,key:"type",typeMap:{"picture-marker":li,"simple-marker":Un,"point-3d":xi,cim:zi},errorContext:"symbol"},Hrt={base:fn,key:"type",typeMap:{"simple-line":$n,"line-3d":zs,cim:zi},errorContext:"symbol"},Zrt={base:fn,key:"type",typeMap:{"simple-fill":sr,"picture-fill":rr,"polygon-3d":os,cim:zi},errorContext:"symbol"},Yrt={base:fn,key:"type",typeMap:{"picture-marker":li,"simple-marker":Un,text:me,"web-style":ci,cim:zi},errorContext:"symbol"},Jrt=Z_({types:b1}),Xrt={base:fn,key:"type",typeMap:{"simple-fill":sr,"picture-fill":rr,"picture-marker":li,"simple-line":$n,"simple-marker":Un,text:me,"line-3d":zs,"mesh-3d":bo,"point-3d":xi,"polygon-3d":os,"web-style":ci,cim:zi},errorContext:"symbol"},Qrt={base:fn,key:"type",typeMap:{text:me,"label-3d":ss},errorContext:"symbol"},Krt={base:fn,key:"type",typeMap:{"line-3d":zs,"mesh-3d":bo,"point-3d":xi,"polygon-3d":os,"web-style":ci,cim:zi},errorContext:"symbol"},tst={base:fn,key:"type",typeMap:{"label-3d":ss},errorContext:"symbol"},est=mc(b1);var zx;function nst(t){if(!t)return null;const e={};for(const n in t){const i=yg(t[n]);i&&(e[n]=i)}return Object.keys(e).length!==0?e:null}function ist(t){if(t==null)return null;const e={};for(const n in t){const i=t[n];i&&(e[n]=i.toJSON())}return Object.keys(e).length!==0?e:null}let qi=class extends Vi(Vt){static{zx=this}constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:kd(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&UH(Oe.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",e,t))}set popupTemplate(t){const e=this._get("popupTemplate");e!==t&&(this._set("popupTemplate",t),this._notifyLayer("popupTemplate",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}get version(){return this._version}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}cloneShallow(){return new zx({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const e=P9(this.origin);if(e)return e.popupTemplate??(t?e.defaultPopupTemplate:null)??null;const n=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[n,this.sourceLayer,this.layer])if(i&&typeof i=="object"){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(t&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,e){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",n,e,t)}else this.attributes={[t]:e}}getObjectId(){const t=k9(this.origin);if(t)return L9(this,t);const e=this.sourceLayer??this.layer;return e?L9(this,e):null}getGlobalId(){const t=k9(this.origin);if(t?.globalIdField)return this.getAttribute(t.globalIdField);const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:ist(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:$d(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:e}=this;if(e?.type==="mesh"){const n={origin:e.origin,transform:e.transform};this._notifyLayer("origin-transform",n,n,t.action)}}_notifyLayer(t,e,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:t,oldValue:e,newValue:n};t==="origin-transform"&&(r.action=i),t==="attributes"&&(r.attributeName=i),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([Cy(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:e})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===e||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=e,this.notifyMeshTransformChanged())}),Cy(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,e)=>t===e,sync:!0})])}};v([E({value:null,json:{read:nst}})],qi.prototype,"aggregateGeometries",null),v([E({value:null})],qi.prototype,"attributes",null),v([E({value:null,types:C9,json:{read:yg}})],qi.prototype,"geometry",null),v([E({type:Boolean})],qi.prototype,"isAggregate",void 0),v([E({clonable:!1})],qi.prototype,"layer",void 0),v([E({clonable:"reference"})],qi.prototype,"origin",void 0),v([E({type:N9,value:null})],qi.prototype,"popupTemplate",null),v([E({clonable:"reference"})],qi.prototype,"sourceLayer",void 0),v([E({value:null,types:b1})],qi.prototype,"symbol",null),v([E({clonable:!1,json:{read:!1,write:!1}})],qi.prototype,"_version",void 0),v([E({type:Boolean,value:!0})],qi.prototype,"visible",null),qi=zx=v([tt("esri.Graphic")],qi);async function rst(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:n}=await import("./portalLayers-DCXb1nig.js");try{return await n(e)}catch(i){const r=e?.portalItem,s=r?.id||"unset",o=r?.portal?.url||oe.portalUrl;throw Oe.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",i),i}}const Bx={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function _1(t,e,n,i=Uc){const r=new Os(Zg(i)),s=Ot.fromJSDate(t,{zone:r}),o=n==="decades"||n==="centuries"?"year":DP(n);return n==="decades"&&(e*=10),n==="centuries"&&(e*=100),s.plus({[o]:e}).toJSDate()}function sst(t,e,n="milliseconds"){const i=t.getTime(),r=RP(e,n,"milliseconds");return new Date(i+r)}function LP(t,e,n=Uc){const i=new Os(Zg(n)),r=Ot.fromJSDate(t,{zone:i});if(e==="decades"||e==="centuries"){const o=r.startOf("year"),{year:a}=o,l=a-a%(e==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=DP(e);return r.startOf(s).toJSDate()}function RP(t,e,n){return t===0?0:t*Bx[e]/Bx[n]}function ost(t,e){return t&&e?t.intersection(e):t||e}function DP(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var as;let or=class extends Vt{static{as=this}static get allTime(){return FP}static get empty(){return ast}static fromArray(t){return new as({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(as.allTime)}get isEmpty(){return this.equals(as.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new as({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,i=t.start?.getTime()??t.start,r=t.end?.getTime()??t.end;return e===i&&n===r}expandTo(t,e=Uc){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=LP(n,t,e));let i=this.end;if(i){const r=LP(i,t,e);i=i.getTime()===r.getTime()?r:_1(r,1,t,e)}return new as({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return as.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,i=t.start?.getTime()??-1/0,r=t.end?.getTime()??1/0;let s,o;return i>=e&&i<=n?s=i:e>=i&&e<=r&&(s=e),n>=i&&n<=r?o=n:r>=e&&r<=n&&(o=r),s==null||o==null||isNaN(s)||isNaN(o)?as.empty:new as({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(t,e,n=Uc){if(this.isEmpty||this.isAllTime)return this.clone();const i=new as,{start:r,end:s}=this;return r!=null&&(i.start=_1(r,t,e,n)),s!=null&&(i.end=_1(s,t,e,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return FP.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new as({start:e,end:n})}};v([E({type:Date,json:{write:{allowNull:!0}}})],or.prototype,"end",void 0),v([hn("end")],or.prototype,"readEnd",null),v([Ce("end")],or.prototype,"writeEnd",null),v([E({readOnly:!0,json:{read:!1}})],or.prototype,"isAllTime",null),v([E({readOnly:!0,json:{read:!1}})],or.prototype,"isEmpty",null),v([E({type:Date,json:{write:{allowNull:!0}}})],or.prototype,"start",void 0),v([hn("start")],or.prototype,"readStart",null),v([Ce("start")],or.prototype,"writeStart",null),or=as=v([tt("esri.time.TimeExtent")],or);const FP=new or,ast=new or({start:void 0,end:void 0});let lst=0,gn=class extends gg(e1(Z3)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new ae(-180,-90,180,90,Rt.WGS84),this.id=Date.now().toString(16)+"-layer-"+lst++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Rt.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e=typeof t=="string"?{url:t}:t;return(await import("./arcgisLayers-CJ-SpS6F.js")).fromUrl(e)}static fromPortalItem(t){return rst(t)}initialize(){this.when().catch(t=>{gc(t)||Oe.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}destroy(){const{parent:t}=this;t&&(this.parent=null,t.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:t}=this;t&&(t.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return Yr(this.url)}createLayerView(t,e){return Promise.reject(new ie("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await pn(t,{query:{f:"json"},responseType:"json"})).data;throw new ie("layer:no-attribution-data","Layer does not have attribution data")}};v([E({type:String})],gn.prototype,"attributionDataUrl",void 0),v([E({readOnly:!0})],gn.prototype,"effectiveVisible",null),v([E({type:ae})],gn.prototype,"fullExtent",void 0),v([E({readOnly:!0})],gn.prototype,"hasAttributionData",null),v([E({type:String,clonable:!1})],gn.prototype,"id",void 0),v([E({type:Boolean,nonNullable:!0})],gn.prototype,"legendEnabled",void 0),v([E({type:["show","hide","hide-children"]})],gn.prototype,"listMode",void 0),v([E({type:Number,range:{min:0,max:1},nonNullable:!0})],gn.prototype,"opacity",void 0),v([E({clonable:!1})],gn.prototype,"parent",void 0),v([E({readOnly:!0})],gn.prototype,"parsedUrl",null),v([E({type:Boolean,readOnly:!0})],gn.prototype,"persistenceEnabled",void 0),v([E({type:Boolean})],gn.prototype,"popupEnabled",void 0),v([E({type:Boolean})],gn.prototype,"attributionVisible",void 0),v([E({type:Rt})],gn.prototype,"spatialReference",void 0),v([E({type:String})],gn.prototype,"title",void 0),v([E({readOnly:!0,json:{read:!1}})],gn.prototype,"type",void 0),v([E()],gn.prototype,"url",void 0),v([E({type:or})],gn.prototype,"visibilityTimeExtent",void 0),v([E({type:Boolean,nonNullable:!0})],gn.prototype,"visible",void 0),gn=v([tt("esri.layers.Layer")],gn);function jP(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function cst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function ust(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function hst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-notes"&&"sublayers"in t}function pst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function dst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function fst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="link-chart"&&"layers"in t}function mst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function yst(t){return t?.type==="subtype-sublayer"}const gst={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Wx(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function vst(t){return t.type==="integrated-mesh"||t.type==="integrated-mesh-3dtiles"}function bst(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function _st(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}function wst(t){return t?.type==="feature"&&t.source?.type==="feature-layer"}function xst(t){return jP(t)&&wst(t)}async function Est(t,e){const n=Le?.findServerInfo(t);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const i=t.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const r=`${t.slice(0,i)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await pn(r,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function GP(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Sst(t){return GP(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function Ast(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function Tst(t){return!!Ast(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function $P(t,e){return null}function Mst(t){return null}function UP(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function Ist(t,e){!e||!UP(t)||$P(t.url)}const qx=[252,146,31,255],Ost=[153,153,153,255],VP={type:"esriSMS",style:"esriSMSCircle",size:6,color:qx,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},zP={type:"esriSLS",style:"esriSLSSolid",width:.75,color:qx},BP={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},Nst={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},Cst={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},kst={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},Pst={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},Hx=Un.fromJSON(VP),Zx=$n.fromJSON(zP),Yx=sr.fromJSON(BP),Lst=me.fromJSON(Nst);function Rst(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return Hx;case"polyline":return Zx;case"polygon":case"extent":return Yx}return null}const Dst=Un.fromJSON(Cst),Fst=$n.fromJSON(kst),jst=sr.fromJSON(Pst),Gst=xi.fromSimpleMarkerSymbol(Hx),$st=zs.fromSimpleLineSymbol(Zx),Ust=os.fromSimpleFillSymbol(Yx),Vst=new bo({symbolLayers:new de([new wi({material:{color:qx},edges:new Z9({size:Vs(1),color:new he(Ost)})})])}),zst=new zs({symbolLayers:new de([new Wi({material:{color:new he([0,0,0])},size:Vs(1)})])}),Bst=new os({symbolLayers:new de([new wi({outline:{color:new he([0,0,0]),size:Vs(1)}})])});function Wst(t){if(t==null)return null;switch(t.type){case"mesh":return Vst;case"point":case"multipoint":return Gst;case"polyline":return $st;case"polygon":case"extent":return Ust}return null}const WP="#useCIMFallbackSymbology()",nu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function qP(t,e=nu){if(!t)return{symbol:null};const{retainId:n=nu.retainId,ignoreDrivers:i=nu.ignoreDrivers,hasLabelingContext:r=nu.hasLabelingContext,retainCIM:s=nu.retainCIM,cimFallbackEnabled:o=nu.cimFallbackEnabled}=e;let a=null;if(Vx(t))a=t.clone();else if(t.type==="web-style")a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?t.clone():xi.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=zst.clone(),e?.logWarning?.(WP,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=Bst.clone(),e?.logWarning?.(WP,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ie("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof $n)a=zs.fromSimpleLineSymbol(t);else if(t instanceof Un)a=xi.fromSimpleMarkerSymbol(t);else if(t instanceof li)a=xi.fromPictureMarkerSymbol(t);else if(t instanceof sr)a=e.geometryType&&e.geometryType==="mesh"?bo.fromSimpleFillSymbol(t):os.fromSimpleFillSymbol(t);else{if(!(t instanceof me))return{error:new ie("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=r?ss.fromTextSymbol(t):xi.fromTextSymbol(t)}return n&&a&&a.type!=="cim"&&(a.id=t.id),!i||a.type==="cim"||a instanceof ci||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function qst(t,e,n,i){const r=ZP(t,{},{context:i,isLabelSymbol:!1});r!=null&&Ha(n,r,e)}function Hst(t,e,n,i){const r=ZP(t,{},{context:i,isLabelSymbol:!0});r!=null&&(e[n]=r)}function HP(t){return Vx(t)||t instanceof ci}function Zst(t){return t?.type==="polygon-3d"||t?.type==="line-3d"}function ZP(t,e,n){if(t==null)return null;const{context:i,isLabelSymbol:r}=n,s=i?.origin,o=i?.messages;if(s==="web-scene"&&!HP(t)){const a=qP(t,{retainCIM:!0,hasLabelingContext:r});return a.symbol!=null?a.symbol.write(e,i):(o?.push(new ie("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:i,error:a.error})),null)}return Wx(i?.layer)&&Zst(t)?(o?.push(new ie("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:t,context:i})),null):(s==="web-map"||s==="portal-item"&&!Wx(i?.layer))&&HP(t)?(o?.push(new ie("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:i})),null):t.write(e,i)}function w1(t,e){return Jrt(t,null,e)}const x1=globalThis,Jx=x1.ShadowRoot&&(x1.ShadyCSS===void 0||x1.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Xx=Symbol(),YP=new WeakMap;let JP=class{constructor(t,e,n){if(this._$cssResult$=!0,n!==Xx)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(Jx&&t===void 0){const n=e!==void 0&&e.length===1;n&&(t=YP.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&YP.set(e,t))}return t}toString(){return this.cssText}};const Yst=t=>new JP(typeof t=="string"?t:t+"",void 0,Xx),Qx=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((i,r,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(r)+t[s+1],t[0]);return new JP(n,t,Xx)},Jst=(t,e)=>{if(Jx)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const i=document.createElement("style"),r=x1.litNonce;r!==void 0&&i.setAttribute("nonce",r),i.textContent=n.cssText,t.appendChild(i)}},XP=Jx?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const i of e.cssRules)n+=i.cssText;return Yst(n)})(t):t,{is:Xst,defineProperty:Qst,getOwnPropertyDescriptor:Kst,getOwnPropertyNames:tot,getOwnPropertySymbols:eot,getPrototypeOf:not}=Object,E1=globalThis,QP=E1.trustedTypes,iot=QP?QP.emptyScript:"",rot=E1.reactiveElementPolyfillSupport,qf=(t,e)=>t,Kx={toAttribute(t,e){switch(e){case Boolean:t=t?iot:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},tE=(t,e)=>!Xst(t,e),KP={attribute:!0,type:String,converter:Kx,reflect:!1,useDefault:!1,hasChanged:tE};Symbol.metadata??=Symbol("metadata"),E1.litPropertyMetadata??=new WeakMap;let Kh=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=KP){if(e.state&&(e.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((e=Object.create(e)).wrapped=!0),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(t,n,e);i!==void 0&&Qst(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){const{get:i,set:r}=Kst(this.prototype,t)??{get(){return this[e]},set(s){this[e]=s}};return{get:i,set(s){const o=i?.call(this);r?.call(this,s),this.requestUpdate(t,o,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??KP}static _$Ei(){if(this.hasOwnProperty(qf("elementProperties")))return;const t=not(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(qf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(qf("properties"))){const e=this.properties,n=[...tot(e),...eot(e)];for(const i of n)this.createProperty(i,e[i])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[n,i]of e)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[e,n]of this.elementProperties){const i=this._$Eu(e,n);i!==void 0&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const i of n)e.unshift(XP(i))}else t!==void 0&&e.push(XP(t));return e}static _$Eu(t,e){const n=e.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Jst(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$ET(t,e){const n=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,n);if(i!==void 0&&n.reflect===!0){const r=(n.converter?.toAttribute!==void 0?n.converter:Kx).toAttribute(e,n.type);this._$Em=t,r==null?this.removeAttribute(i):this.setAttribute(i,r),this._$Em=null}}_$AK(t,e){const n=this.constructor,i=n._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const r=n.getPropertyOptions(i),s=typeof r.converter=="function"?{fromAttribute:r.converter}:r.converter?.fromAttribute!==void 0?r.converter:Kx;this._$Em=i;const o=s.fromAttribute(e,r.type);this[i]=o??this._$Ej?.get(i)??o,this._$Em=null}}requestUpdate(t,e,n){if(t!==void 0){const i=this.constructor,r=this[t];if(n??=i.getPropertyOptions(t),!((n.hasChanged??tE)(r,e)||n.useDefault&&n.reflect&&r===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,n))))return;this.C(t,e,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,e,{useDefault:n,reflect:i,wrapped:r},s){n&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,s??e??this[t]),r!==!0||s!==void 0)||(this._$AL.has(t)||(this.hasUpdated||n||(e=void 0),this._$AL.set(t,e)),i===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,r]of this._$Ep)this[i]=r;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,r]of n){const{wrapped:s}=r,o=this[i];s!==!0||this._$AL.has(i)||o===void 0||this.C(i,void 0,r,o)}}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(e)):this._$EM()}catch(n){throw t=!1,this._$EM(),n}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach(e=>e.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach(e=>this._$ET(e,this[e])),this._$EM()}updated(t){}firstUpdated(t){}};Kh.elementStyles=[],Kh.shadowRootOptions={mode:"open"},Kh[qf("elementProperties")]=new Map,Kh[qf("finalized")]=new Map,rot?.({ReactiveElement:Kh}),(E1.reactiveElementVersions??=[]).push("2.1.1");const eE=globalThis,S1=eE.trustedTypes,tL=S1?S1.createPolicy("lit-html",{createHTML:t=>t}):void 0,eL="$lit$",El=`lit$${Math.random().toFixed(9).slice(2)}$`,nL="?"+El,sot=`<${nL}>`,iu=document,Hf=()=>iu.createComment(""),Zf=t=>t===null||typeof t!="object"&&typeof t!="function",nE=Array.isArray,oot=t=>nE(t)||typeof t?.[Symbol.iterator]=="function",iE=`[ 	
\f\r]`,Yf=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,iL=/-->/g,rL=/>/g,ru=RegExp(`>|${iE}(?:([^\\s"'>=/]+)(${iE}*=${iE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),sL=/'/g,oL=/"/g,aL=/^(?:script|style|textarea|title)$/i,lL=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),tp=lL(1),aot=lL(2),ha=Symbol.for("lit-noChange"),ze=Symbol.for("lit-nothing"),cL=new WeakMap,su=iu.createTreeWalker(iu,129);function uL(t,e){if(!nE(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return tL!==void 0?tL.createHTML(e):e}const lot=(t,e)=>{const n=t.length-1,i=[];let r,s=e===2?"<svg>":e===3?"<math>":"",o=Yf;for(let a=0;a<n;a++){const l=t[a];let c,p,d=-1,f=0;for(;f<l.length&&(o.lastIndex=f,p=o.exec(l),p!==null);)f=o.lastIndex,o===Yf?p[1]==="!--"?o=iL:p[1]!==void 0?o=rL:p[2]!==void 0?(aL.test(p[2])&&(r=RegExp("</"+p[2],"g")),o=ru):p[3]!==void 0&&(o=ru):o===ru?p[0]===">"?(o=r??Yf,d=-1):p[1]===void 0?d=-2:(d=o.lastIndex-p[2].length,c=p[1],o=p[3]===void 0?ru:p[3]==='"'?oL:sL):o===oL||o===sL?o=ru:o===iL||o===rL?o=Yf:(o=ru,r=void 0);const y=o===ru&&t[a+1].startsWith("/>")?" ":"";s+=o===Yf?l+sot:d>=0?(i.push(c),l.slice(0,d)+eL+l.slice(d)+El+y):l+El+(d===-2?a:y)}return[uL(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class H0{constructor({strings:e,_$litType$:n},i){let r;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[c,p]=lot(e,n);if(this.el=H0.createElement(c,i),su.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(r=su.nextNode())!==null&&l.length<a;){if(r.nodeType===1){if(r.hasAttributes())for(const d of r.getAttributeNames())if(d.endsWith(eL)){const f=p[o++],y=r.getAttribute(d).split(El),g=/([.?@])?(.*)/.exec(f);l.push({type:1,index:s,name:g[2],strings:y,ctor:g[1]==="."?uot:g[1]==="?"?hot:g[1]==="@"?pot:A1}),r.removeAttribute(d)}else d.startsWith(El)&&(l.push({type:6,index:s}),r.removeAttribute(d));if(aL.test(r.tagName)){const d=r.textContent.split(El),f=d.length-1;if(f>0){r.textContent=S1?S1.emptyScript:"";for(let y=0;y<f;y++)r.append(d[y],Hf()),su.nextNode(),l.push({type:2,index:++s});r.append(d[f],Hf())}}}else if(r.nodeType===8)if(r.data===nL)l.push({type:2,index:s});else{let d=-1;for(;(d=r.data.indexOf(El,d+1))!==-1;)l.push({type:7,index:s}),d+=El.length-1}s++}}static createElement(e,n){const i=iu.createElement("template");return i.innerHTML=e,i}}function ep(t,e,n=t,i){if(e===ha)return e;let r=i!==void 0?n._$Co?.[i]:n._$Cl;const s=Zf(e)?void 0:e._$litDirective$;return r?.constructor!==s&&(r?._$AO?.(!1),s===void 0?r=void 0:(r=new s(t),r._$AT(t,n,i)),i!==void 0?(n._$Co??=[])[i]=r:n._$Cl=r),r!==void 0&&(e=ep(t,r._$AS(t,e.values),r,i)),e}let cot=class{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,i=(t?.creationScope??iu).importNode(e,!0);su.currentNode=i;let r=su.nextNode(),s=0,o=0,a=n[0];for(;a!==void 0;){if(s===a.index){let l;a.type===2?l=new _d(r,r.nextSibling,this,t):a.type===1?l=new a.ctor(r,a.name,a.strings,this,t):a.type===6&&(l=new dot(r,this,t)),this._$AV.push(l),a=n[++o]}s!==a?.index&&(r=su.nextNode(),s++)}return su.currentNode=iu,i}p(t){let e=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}};class _d{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,i,r){this.type=2,this._$AH=ze,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=i,this.options=r,this._$Cv=r?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=ep(this,e,n),Zf(e)?e===ze||e==null||e===""?(this._$AH!==ze&&this._$AR(),this._$AH=ze):e!==this._$AH&&e!==ha&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):oot(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ze&&Zf(this._$AH)?this._$AA.nextSibling.data=e:this.T(iu.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:i}=e,r=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=H0.createElement(uL(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===r)this._$AH.p(n);else{const s=new cot(r,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=cL.get(e.strings);return n===void 0&&cL.set(e.strings,n=new H0(e)),n}k(e){nE(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let i,r=0;for(const s of e)r===n.length?n.push(i=new _d(this.O(Hf()),this.O(Hf()),this,this.options)):i=n[r],i._$AI(s),r++;r<n.length&&(this._$AR(i&&i._$AB.nextSibling,r),n.length=r)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}let A1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,i,r){this.type=1,this._$AH=ze,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=ze}_$AI(t,e=this,n,i){const r=this.strings;let s=!1;if(r===void 0)t=ep(this,t,e,0),s=!Zf(t)||t!==this._$AH&&t!==ha,s&&(this._$AH=t);else{const o=t;let a,l;for(t=r[0],a=0;a<r.length-1;a++)l=ep(this,o[n+a],e,a),l===ha&&(l=this._$AH[a]),s||=!Zf(l)||l!==this._$AH[a],l===ze?t=ze:t!==ze&&(t+=(l??"")+r[a+1]),this._$AH[a]=l}s&&!i&&this.j(t)}j(t){t===ze?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},uot=class extends A1{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===ze?void 0:t}},hot=class extends A1{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==ze)}};class pot extends A1{constructor(e,n,i,r,s){super(e,n,i,r,s),this.type=5}_$AI(e,n=this){if((e=ep(this,e,n,0)??ze)===ha)return;const i=this._$AH,r=e===ze&&i!==ze||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==ze&&(i===ze||r);r&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class dot{constructor(e,n,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){ep(this,e)}}const fot={I:_d},mot=eE.litHtmlPolyfillSupport;mot?.(H0,_d),(eE.litHtmlVersions??=[]).push("3.3.1");const yot=(t,e,n)=>{const i=n?.renderBefore??e;let r=i._$litPart$;if(r===void 0){const s=n?.renderBefore??null;i._$litPart$=r=new _d(e.insertBefore(Hf(),s),s,void 0,n??{})}return r._$AI(t),r},rE=globalThis;let np=class extends Kh{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=yot(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ha}};np._$litElement$=!0,np.finalized=!0,rE.litElementHydrateSupport?.({LitElement:np});const got=rE.litElementPolyfillSupport;got?.({LitElement:np}),(rE.litElementVersions??=[]).push("4.2.1");const rn=(t,e,...n)=>{try{return t?.call(e,...n)}catch(i){console.error(i,t)}},sE=async(t,e,...n)=>{try{return await t?.call(e,...n)}catch(i){console.error(i,t)}},oE=Symbol.for("controller"),vot=t=>typeof t=="object"&&t!==null&&(oE in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),bot=t=>typeof t?.then=="function",_ot=t=>t.M.length;let Jf;const ip=t=>{Jf!==t&&(Jf=t,queueMicrotask(()=>Jf===t?Jf=void 0:0))},rp=t=>Jf;let ou=[];const hL=t=>{if(t===void 0){ou=[];return}const e=ou.indexOf(t);ou=e===-1?[...ou,t]:ou.slice(0,e+1),queueMicrotask(()=>ou=[])},pL=()=>ou;let sp;const wot=t=>{sp!==t&&(sp=t,queueMicrotask(()=>sp===t?sp=void 0:0))},xot=()=>{const t=sp;return sp=void 0,t},Eot=async(t,e)=>{const n=aE(t);if(n===void 0)return t;if(await n.ready,typeof e=="function"){const i=n.watchExports(r=>e(r,i))}return n.exports},Sot=async t=>{const e=aE(t);return await e.ready,e},aE=t=>{const e=rp().manager.X(t);if(e!==void 0)return e;if(vot(t))return t;const n=xot();if(n!==void 0)return n};let lE=!1;const Aot=t=>{lE=!0;try{return t()}finally{lE=!1}};class Xf{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}const Tot=(t,e)=>{const n=e/Mot;let i=0;const r=setInterval(()=>{i+=n,i>=e&&(clearInterval(r),t())},n);return r},Mot=4,Iot=(t,e,n)=>{const i=Object.keys(t),r=i.length;op===void 0&&queueMicrotask(T1),op??=new Map;let s=op.get(t);return s===void 0&&(s={callbacks:[],keyCount:r},op.set(t,s)),s.keyCount!==r&&(s.callbacks.forEach(o=>o(i)),s.callbacks=[],s.keyCount=r),s.callbacks.push(o=>{const a=c=>rn(e,null,c),l=o[r];l===void 0?a(void 0):t[l]===n?a(l):a(void 0)}),n};let op;const T1=()=>{op?.forEach(({callbacks:t},e)=>{const n=Object.keys(e);t.forEach(i=>i(n))}),op=void 0},cE=(t,e,n)=>{const i=t.manager;return i.V!==ze&&i.V!==n&&i.S(void 0,void 0),i.T.length===0&&queueMicrotask(()=>i.S(void 0,void 0)),i.V=n,i.T.push((r,s)=>rn(e,void 0,n===s?r:void 0)),n},uE=(t=[rp(),...pL()],e,n)=>{const i=Array.isArray(t)?t:[t];let r=i.length+1;const s=o=>{r-=1,o!==void 0&&(r=Math.min(r,0)),r===0&&e(o)};i.forEach(o=>Iot(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!1}),n));for(const o of i)if("manager"in o&&o.manager.component===o){cE(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!0}),n);break}return n},hE=(t="",e={},n=rp())=>{const i={emit:r=>{t===""&&T1();const s=new CustomEvent(t,{detail:r,cancelable:!0,bubbles:!0,composed:!0,...e});return n.el.dispatchEvent(s),s}};return t===""&&uE(void 0,r=>t=r.key,i),i},M1=hE.bind(null,"");var dL;dL=oE;class pE{constructor(e){this.#t=[],this.#e=[],this.#n=[],this.#i=[],this.#r=[],this.#l=[],this.#c=[],this.#p=[],this.#u=[],this.#h=!1,this.P=new Xf,this.connectedCalled=!1,this.loadedCalled=!1,this[dL]=!0,this.#a=[];const n=this,i=e??rp();n.#s=i,n.ready=n.P.promise,n.#o=mL(n),n.component=i,n.#s.addController(n),n.#s.manager===void 0||(hL(n),queueMicrotask(()=>n.catchUpLifecycle()))}#t;#e;#n;#i;#r;#l;#c;#p;#u;#h;#s;catchUpLifecycle(){const{manager:e}=this.#s;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#h&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#o;get exports(){return this.#o}set exports(e){const n=this.#o;n!==e&&(this.#o=e,this.#a.forEach(rn),this.connectedCalled&&this.O!==!1&&this.#s.requestUpdate(this.O,n)),this.P.resolve(e)}setProvisionalExports(e,n=!0){this.#o=n?mL(e):e,this.#a.forEach(rn)}#a;watchExports(e){const n=()=>e(this.#o);return this.#a.push(n),()=>void this.#a.splice(this.#a.indexOf(n),1)}get use(){return ip(this.#s),Eot}get useRef(){return ip(this.#s),Sot}get useRefSync(){return ip(this.#s),aE}controllerRemoved(){this.#s.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#t.push(e)}onDisconnected(e){this.#e.push(e)}onLoad(e){this.#n.push(e)}onLoaded(e){this.#i.push(e)}onUpdate(e){this.#r.push(e)}onUpdated(e){this.#l.push(e)}onDestroy(e){this.#c.push(e)}onLifecycle(e){this.#p.push(e),this.connectedCalled&&this.#s.el.isConnected&&this.#d(e)}triggerConnected(){const e=this;e.hostConnected&&rn(e.hostConnected,e),e.#t.forEach(rn),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&rn(e.hostDisconnected,e),e.#e.forEach(rn),e.#u.forEach(rn),e.#u=[]}async triggerLoad(){if(this.#h)return;this.#h=!0;const e=this;e.hostLoad&&await sE(e.hostLoad,e),this.#n.length>0&&await Promise.allSettled(this.#n.map(sE)),this.P.resolve(this.#o)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&rn(this.hostLoaded,this),this.#i.forEach(rn),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&rn(this.hostUpdate,this,e),this.#r.forEach(fL,e)}triggerUpdated(e){this.hostUpdated&&rn(this.hostUpdated,this,e),this.#l.forEach(fL,e)}triggerDestroy(){this.hostDestroy&&rn(this.hostDestroy,this),this.#c.forEach(rn)}triggerLifecycle(){this.hostLifecycle&&this.#d(()=>this.hostLifecycle()),this.#p.forEach(this.#d,this)}#d(e){ip(this.#s);const n=rn(e);(Array.isArray(n)?n:[n]).forEach(i=>{typeof i=="function"?this.#u.push(i):typeof i=="object"&&typeof i.remove=="function"&&this.#u.push(i.remove)})}}function fL(t){rn(t,void 0,this)}const dE=pE,mL=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(i,r,s){if(!((r==="exports"||r==="_exports")&&r in i&&i[r]===n)&&(r in i||r in Promise.prototype||typeof r=="symbol"))return typeof i=="function"?i[r]:Reflect.get(i,r,s)}},n=new Proxy(t,e);return n},Oot=t=>t.replace(Not,(e,n)=>`${n===0?"":"-"}${e.toLowerCase()}`),Not=/[A-Z]+(?![a-z])|[A-Z]/gu,Cot=1,kot=2,Pot=4,Lot=8,Rot=16,Dot=32,Fot=64,yL=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const n=e;return n.manager?.loadedCalled||(n.J??n._offspring).push(t),(n.I??n._postLoad).promise}return!1},gL={};function vL(){}const I1=Object.defineProperty,jot=globalThis.HTMLElement??vL;class l5t extends jot{constructor(){super(),this.#e={},this.#n=[],this.I=new Xf,this.H=new Xf,this.J=[];const e=this,n=e.constructor;e._offspring=e.J,e._postLoad=e.I,n.C?.forEach(i=>{Object.hasOwn(e,i)&&(e.#e[i]=e[i],delete e[i])}),n.A?e.#i({a:n.A}):n.B.then(async i=>{await n.K.p,e.#i(await(i.default?.then(r=>typeof r=="function"?{a:r}:r)??i))}).catch(i=>{e.H.reject(i),setTimeout(()=>{throw i})})}static{this.lumina=!0}static F(){for(const e of this.C??[])I1(this.prototype,e,{configurable:!0,enumerable:!0,get(){return this.#e[e]},set(n){this.#e[e]=n}});for(const e of this.E??[])I1(this.prototype,e,{async value(...n){return this.#t||await this.H.promise,await this.#t[e](...n)},configurable:!0});for(const e of this.D??[])I1(this.prototype,e,{value(...n){return this.#t[e](...n)},configurable:!0})}#t;#e;#n;get manager(){return this.#t?.manager}attributeChangedCallback(e,n,i){this.#t?.attributeChangedCallback(e,n,i),this.#t||this.#n.push(e)}connectedCallback(){this.#t?this.#t.connectedCallback?.():queueMicrotask(()=>this.G=yL(this))}disconnectedCallback(){this.#t?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}#i(e){const n=this.constructor,i=n.L,r=this.#e,s=Object.values(e).find(p=>p.L===i),o=`${i}--lazy`;let a=s;for(;a&&!Object.hasOwn(a,"lumina");)a=Object.getPrototypeOf(a);$ot(a),!n.A&&(n.A=s,customElements.define(o,s)),s.N=this;const l=document.createElement(o);s.N=void 0,this.#t=l,this.#e=l,this.#n.forEach(p=>l.attributeChangedCallback(p,null,this.getAttribute(p))),Object.entries(r).forEach(Got,l);const c=this.isConnected;(c||this.G)&&(l.connectedCallback?.(),c||l.disconnectedCallback())}addController(){}requestUpdate(){this.#t?.requestUpdate()}}function Got([t,e]){this[t]=e}const $ot=t=>{const e=t.prototype,n=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(i,r){n.setAttribute.call(this.el,i,r)},e.removeAttribute=function(i){n.removeAttribute.call(this.el,i)},I1(e,"isConnected",{get(){return Reflect.get(n,"isConnected",this.el)}}))},O1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},N1=t=>(...e)=>({_$litDirective$:t,values:e});let C1=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};const Uot=N1(class extends C1{constructor(t){if(super(t),t.type!==O1.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(e)}const n=t.element.classList;for(const i of this.st)i in e||(n.remove(i),this.st.delete(i));for(const i in e){const r=!!e[i];r===this.st.has(i)||this.nt?.has(i)||(r?(n.add(i),this.st.add(i)):(n.remove(i),this.st.delete(i)))}return ha}}),bL="important",Vot=" !"+bL,zot=N1(class extends C1{constructor(t){if(super(t),t.type!==O1.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return i==null?e:e+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(t,[e]){const{style:n}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?n.removeProperty(i):n[i]=null);for(const i in e){const r=e[i];if(r!=null){this.ft.add(i);const s=typeof r=="string"&&r.endsWith(Vot);i.includes("-")||s?n.setProperty(i,s?r.slice(0,-11):r,s?bL:""):n[i]=r}}return ha}}),{I:Bot}=fot,_L=t=>t.strings===void 0,wL=()=>document.createComment(""),Wot=(t,e,n)=>{const i=t._$AA.parentNode,r=e===void 0?t._$AB:e._$AA;if(n===void 0){const s=i.insertBefore(wL(),r),o=i.insertBefore(wL(),r);n=new Bot(s,o,t,t.options)}else{const s=n._$AB.nextSibling,o=n._$AM,a=o!==t;if(a){let l;n._$AQ?.(t),n._$AM=t,n._$AP!==void 0&&(l=t._$AU)!==o._$AU&&n._$AP(l)}if(s!==r||a){let l=n._$AA;for(;l!==s;){const c=l.nextSibling;i.insertBefore(l,r),l=c}}}return n},qot=(t,e,n=t)=>(t._$AI(e,n),t),Hot={},Zot=(t,e=Hot)=>t._$AH=e,Yot=t=>t._$AH,Jot=t=>{t._$AR(),t._$AA.remove()},Qf=(t,e)=>{const n=t._$AN;if(n===void 0)return!1;for(const i of n)i._$AO?.(e,!1),Qf(i,e);return!0},k1=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while(n?.size===0)},xL=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),Kot(e)}};function Xot(t){this._$AN!==void 0?(k1(this),this._$AM=t,xL(this)):this._$AM=t}function Qot(t,e=!1,n=0){const i=this._$AH,r=this._$AN;if(r!==void 0&&r.size!==0)if(e)if(Array.isArray(i))for(let s=n;s<i.length;s++)Qf(i[s],!1),k1(i[s]);else i!=null&&(Qf(i,!1),k1(i));else Qf(this,t)}const Kot=t=>{t.type==O1.CHILD&&(t._$AP??=Qot,t._$AQ??=Xot)};let tat=class extends C1{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),xL(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(Qf(this,t),k1(this))}setValue(t){if(_L(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}};const EL=()=>new eat;let eat=class{};const fE=new WeakMap,SL=N1(class extends tat{render(t){return ze}update(t,[e]){const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),ze}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=fE.get(e);n===void 0&&(n=new WeakMap,fE.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?fE.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});class nat extends dE{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=ze,this.T=[],this.#n=new WeakMap,this.#e=e,this.exports=void 0,this.hasDestroy=mE in e&&typeof e.destroy=="function",np.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const n=e.el.localName;throw e.el.remove(),new Error(`The ${n} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${mE} prop.`)}this.#t!==void 0&&clearTimeout(this.#t),T1();for(const n of e.M)"triggerConnected"in n?n.triggerConnected():rn(n.hostConnected,n)},hostDisconnected:()=>{for(const n of e.M)"triggerDisconnected"in n?n.triggerDisconnected():rn(n.hostDisconnected,n);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const n of e.M)"triggerUpdate"in n?n.triggerUpdate(this.Q):rn(n.hostUpdate,n,this.Q)},hostUpdated:()=>{for(const n of e.M)"triggerUpdated"in n?n.triggerUpdated(this.Q):rn(n.hostUpdated,n,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),ip(e)}#t;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#t=void 0,this.destroyed=!0;for(const e of this.#e.M)"triggerDestroy"in e?e.triggerDestroy():rn(e.hostDestroy,e);this.#e.M.splice(0)}}U(){if(this.#t!==void 0&&clearTimeout(this.#t),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const e=()=>void this.#e.destroy();this.#t=Tot(e,iat)}}S(e,n){const i=this.T;this.V=ze,this.T=[],i.forEach(r=>r(e,n))}#n;W(e,n){(typeof n=="object"&&n!==null||typeof n=="function")&&this.#n.set(n,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#n.get(e)}}let iat=1e3;const mE="autoDestroyDisabled";class Xb extends np{constructor(){super(),this.M=[],this.manager=new nat(this);const e=this,n=e.constructor,i=n.N,r=n.K.o,s=Xb.prototype.shouldUpdate;e.#i=i?.H??new Xf,e.I=i?.I??new Xf,e.J=i?.J??[],e._offspring=e.J,e._postLoad=e.I,e.el=i??e,e.#n=e.enableUpdating,e.enableUpdating=vL,e.shouldUpdate!==s&&(e.#e=e.shouldUpdate,e.shouldUpdate=s),r&&(e.#t=new Map,n.elementProperties.forEach((o,a)=>e.#t.set(a,r())))}static finalizeStyles(e){const n=super.finalizeStyles(e),i=this.shadowRootOptions===gL;return this.K?.commonStyles===void 0||i?n:[this.K.commonStyles,...n]}static createProperty(e,n){const i=typeof n=="number"?n:Array.isArray(n)?n[0]:0,r=Array.isArray(n)?n[1]:void 0,s=r?.hasChanged??tE,o={attribute:i&Cot&&typeof e=="string"?Oot(e):!1,reflect:!!(i&kot),type:i&Pot?Boolean:i&Lot?Number:void 0,state:!!(i&Rot),readOnly:!!(i&Dot),noAccessor:!!(i&Fot),c:!1,...r,hasChanged(a,l){const c=s(a,l);return o.c=c,c}};super.createProperty(e,o)}static getPropertyDescriptor(e,n,i){const r=this.K,s=super.getPropertyDescriptor(e,n,i);return i.d=s,{...s,get(){return r.t?.(this.#t.get(e)),s.get?.call(this)},set(o){const a=this.manager;if(i.readOnly&&!lE&&(a.R||a.connectedCalled))throw Error(`Cannot assign to read-only property "${e}" of ${this.el.localName}. Trying to assign "${o}"`);s.set.call(this,o??void 0),i.c&&this.#t?.get(e)?.notify(),a.T.length>0&&(T1(),a?.S(e,o))}}}static{this.lumina=!0}#t;#e;#n;#i;#r;connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const e=this.constructor.K.c?.(()=>this.requestUpdate());this.#r=e;const n=!this.manager.connectedCalled;super.connectedCallback(),n?queueMicrotask(()=>this.#c().catch(i=>{this.#i.reject(i),setTimeout(()=>{throw i})})):e&&this.requestUpdate()}#l(e){try{this.#r.clear(),this.constructor.K.r(this.#r,()=>super.update(e))}catch(n){throw this.#r.clear(),n}}disconnectedCallback(){super.disconnectedCallback(),this.#r?.destroy(),this.#r=void 0}createRenderRoot(){const e=this.el.shadowRoot,n=this.constructor,i=n.shadowRootOptions,r=e??(i===gL?this.el:this.el.attachShadow(i));if(this.isConnected){const s=r.getRootNode();s.adoptedStyleSheets=[...s.adoptedStyleSheets,...n.elementStyles.map(o=>"styleSheet"in o?o.styleSheet:o)]}return r}async#c(){const e=this.el.G??yL(this.el);e&&await e;const n=[];for(const r of this.M)"triggerLoad"in r?n.push(r.triggerLoad()):n.push(sE(r.hostLoad,r));await Promise.all(n),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(r=>r.has(mE)&&this.manager.U()),this.#n(!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const i=this.J.filter(r=>!r.manager?.loadedCalled);i.length&&await Promise.allSettled(i.map(async r=>await r.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const r of this.M)"triggerLoaded"in r?r.triggerLoaded():rn(r.hostLoaded,r);this.loaded?.(),this.#i.resolve()}shouldUpdate(e){return this.manager.Q=e,this.#e?.(e)??!0}update(e){this.#r?this.#l(e):super.update(e)}listen(e,n,i){const r=n?.bind(this)??n;this.manager.onLifecycle(()=>(this.el.addEventListener(e,r,i),()=>this.el.removeEventListener(e,r,i)))}listenOn(e,n,i,r){const s=i?.bind(this)??i;this.manager.onLifecycle(()=>(e.addEventListener(n,s,r),()=>e.removeEventListener(n,s,r)))}async componentOnReady(){return await this.#i.promise,this}addController(e){this.M.push(e),!(oE in e)&&this.renderRoot&&this.el.isConnected&&e.hostConnected?.()}removeController(e){this.M.splice(this.M.indexOf(e),1),e.controllerRemoved?.()}}const AL=t=>{let e;const n=r=>{e=new URL(r,globalThis.location?.href||void 0).href},i={...t,getAssetPath(r){const s=new URL(r,e);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:n,customElement(r,s){s.K=i,s.L=r,customElements.get(r)||customElements.define(r,s)}};return n(t.defaultAssetPath),i},au=t=>typeof t=="object"&&t!=null?Uot(t):t,yE=t=>typeof t=="object"&&t!=null?zot(t):t,TL=ze;function rat(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}const sat={toAttribute:t=>t===!0?"":t===!1?null:t};function ML(){return new P4}function oat(t){return new Dd(t)}function IL(t){Ft(t)}function aat(t,e){return co(t,e)}const lat=Qx`:host{display:block;box-sizing:border-box;*,*:before,*:after{box-sizing:inherit}}:host([hidden]){display:none}:host(:not(arcgis-basemap-gallery-item,arcgis-layer-list-item,arcgis-print-custom-text-elements,arcgis-print-dpi-input,arcgis-print-export-button,arcgis-print-exported-link,arcgis-print-exports-panel,arcgis-print-format-select,arcgis-print-layout-advanced-options,arcgis-print-layout-panel,arcgis-print-main-panel,arcgis-print-map-only-advanced-options,arcgis-print-map-only-panel,arcgis-print-out-spatial-reference-input,arcgis-print-preview-input,arcgis-print-scale-section,arcgis-print-template-select,arcgis-print-template-selector,arcgis-labeled-switch,arcgis-measurement-content,arcgis-version-management-service-item,arcgis-version-management-version-item,arcgis-version-management-version-list,arcgis-version-management-version-properties,arcgis-video-player-action-bar,arcgis-video-player-actions-group,arcgis-video-player-controls-group,arcgis-video-player-metadata,arcgis-video-player-settings,arcgis-video-player-slider)){font-family:var(--calcite-font-family)}`,Kf=AL({defaultAssetPath:"https://js.arcgis.com/4.34/map-components/",hydratedAttribute:"hydrated",commonStyles:lat}),{customElement:OL,getAssetPath:cat,setAssetPath:c5t}=Kf;Kf.t=IL,Kf.o=ML,Kf.c=oat,Kf.r=aat;const gE=(...t)=>{const e=[];for(let i=0;i<t.length;i++){const r=t[i];if(typeof r=="string")e.push(r);else if(Array.isArray(r))e.push.apply(e,r);else if(typeof r=="object")for(const s in r)r[s]&&e.push(s)}const n=e.join(" ");return e.length=0,n},uat=(t,e)=>{let n=t;for(;n;){if(n===e)return!0;if(!n.parentNode)return!1;n.parentNode instanceof ShadowRoot?n=n.parentNode.host:n=n.parentNode}return!1},hat=(t,e,n)=>{const i=pat(e).subscribe;return i(r=>{r.some(s=>uat(t,s.target))&&n()})},vE={},pat=t=>{const e=t.join(","),n=vE[e];if(n!==void 0)return n;const i=new Set,r=new MutationObserver(o=>i.forEach(a=>a(o)));globalThis.document&&r.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const s={subscribe:o=>(i.add(o),()=>{i.delete(o),i.size===0&&(r.disconnect(),vE[e]=void 0)})};return vE[e]=s,s},NL=(t,e)=>{let n=t;for(;n;){const i=n.closest?.(e);if(i)return i;const r=n.getRootNode?.();if(r===globalThis.document)return;n=r.host}};function dat(t){const e=NL(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e?.classList.contains("calcite-mode-dark")||e?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const fat=(t,e,n)=>NL(t,`[${e}]`)?.getAttribute(e)??n;let tm=class extends Vt{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};v([E({readOnly:!0})],tm.prototype,"version",null),tm=v([tt("esri.views.layers.support.ClipArea")],tm);var bE;let Bs=bE=class extends tm{constructor(t){super(t),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new bE({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};v([E({type:[Number,String],json:{write:!0}})],Bs.prototype,"left",void 0),v([E({type:[Number,String],json:{write:!0}})],Bs.prototype,"right",void 0),v([E({type:[Number,String],json:{write:!0}})],Bs.prototype,"top",void 0),v([E({type:[Number,String],json:{write:!0}})],Bs.prototype,"bottom",void 0),Bs=bE=v([tt("esri.views.layers.support.ClipRect")],Bs);function mat(t,e){const n=10**e;return Math.round(t*n)/n}const P1={left:0,right:0,top:0,bottom:0};let ar=class extends Bn{constructor(t){super(t),this._leadingClips=new Map,this._trailingClips=new Map,this.direction="horizontal",this.leadingLayers=new de,this.max=100,this.min=0,this.precision=4,this.step=.5,this.stepMultiplier=10,this.trailingLayers=new de,this.view=null}initialize(){this.addHandles([Fn(()=>[this.view,this.view?.ready,this.position,this.direction],()=>this._clipLayers(),ky),Fn(()=>this.leadingLayers.toArray(),()=>this._clipLeadingLayers(),ky),Fn(()=>this.trailingLayers.toArray(),()=>this._clipTrailingLayers(),ky)])}destroy(){this._removeExistingClips()}get position(){return 25}set position(t){const{precision:e,min:n,max:i}=this;this._set("position",mat(Math.max(Math.min(t,i),n),e))}get state(){return this.view?.ready?"ready":"disabled"}_clipLayers(){this._clipLeadingLayers(),this._clipTrailingLayers()}_clipLeadingLayers(){this._removeClips("leading");const{leadingLayers:t}=this;t.forEach(e=>this._clipLayer({layer:e,type:"leading"}))}_clipTrailingLayers(){this._removeClips("trailing");const{trailingLayers:t}=this;t.forEach(e=>this._clipLayer({layer:e,type:"trailing"}))}async _getLayerView(t){const{view:e}=this;if(!t||!e)return null;const n=await e.whenLayerView(t);return"clips"in n?n:null}_getVerticalClipRect(t){const{position:e}=this;return t==="leading"?new Bs({...P1,bottom:100-e+"%"}):t==="trailing"?new Bs({...P1,top:`${e}%`}):null}_getHorizontalClipRect(t){const{position:e}=this;return t==="leading"?new Bs({...P1,right:100-e+"%"}):t==="trailing"?new Bs({...P1,left:`${e}%`}):null}_getClipRect(t){const{direction:e}=this;return e==="vertical"?this._getVerticalClipRect(t):e==="horizontal"?this._getHorizontalClipRect(t):null}async _clipLayer(t){const{_leadingClips:e,_trailingClips:n}=this,{layer:i,type:r}=t,s=r==="trailing"?n:r==="leading"?e:null,o=await this._getLayerView(i);if(!(o&&"clips"in o&&s&&o.hasOwnProperty("clips")))return;const a=s.get(o);a&&o.clips.remove(a);const l=this._getClipRect(r);l&&(s.set(o,l),o.clips.add(l))}_removeClips(t){const{_leadingClips:e,_trailingClips:n}=this,i=t==="trailing"?n:t==="leading"?e:null;i&&(i.forEach((r,s)=>{s&&s.hasOwnProperty("clips")&&s.clips.remove(r)}),i.clear())}_removeExistingClips(){this._removeClips("leading"),this._removeClips("trailing")}};v([E()],ar.prototype,"direction",void 0),v([E({type:de,nonNullable:!0})],ar.prototype,"leadingLayers",void 0),v([E({readOnly:!0})],ar.prototype,"max",void 0),v([E({readOnly:!0})],ar.prototype,"min",void 0),v([E()],ar.prototype,"position",null),v([E()],ar.prototype,"precision",void 0),v([E({readOnly:!0})],ar.prototype,"state",null),v([E()],ar.prototype,"step",void 0),v([E()],ar.prototype,"stepMultiplier",void 0),v([E({type:de,nonNullable:!0})],ar.prototype,"trailingLayers",void 0),v([E()],ar.prototype,"view",void 0),ar=v([tt("esri.widgets.Swipe.SwipeViewModel")],ar);const yat=ar,_E=t=>(...e)=>{const n=pL(),i=new t(...e),r=i.exports;hL(n.at(-1));const s=i.component.manager;s.W(i,r),i.watchExports(s.W.bind(s,i)),wot(i);const o=[i.component,...n].reverse();return uE(o,a=>a===void 0?void 0:gat(i,a,r),r)},gat=(t,{host:e,key:n,isReactive:i},r)=>{const s=e,o=s[n]!==t.exports,a=s[n]!==r,l=r!==t.exports;if(o&&!a&&l&&(s[n]=t.exports),e===t.component){if(i){const p=t.component.manager;a&&p.W(t,s[n]),t.onUpdate(d=>{if(d.has(n)){const f=s[n];f!==t.exports&&p.W(t,f)}})}t.O=i?void 0:n}const c=t.component.constructor.elementProperties.get(n)?.readOnly;t.watchExports(()=>{s[n]!==t.exports&&(c?Aot(()=>{s[n]=t.exports}):s[n]=t.exports)})},vat="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),bat=new Set(vat),L1="en",_at={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},wat=async(t,e,n="")=>{const i=`${e}/${n}`,r=`${i}${t}.json`;return wE[r]??(wE[r]=CL(t,i)),await wE[r]},wE={},CL=async(t,e)=>{const n=`${e}${t}.json`;try{const i=await fetch(n);if(i.ok)return await i.json()}catch(i){return console.error(i),{}}return t===L1?{}:await CL(L1,e)},kL=t=>{const e=fat(t,"lang",globalThis.navigator?.language||L1);return{lang:e,t9nLocale:PL(e)}},PL=t=>{const[e,n]=t.split("-"),i=e.toLowerCase();let r=i;return n&&(r=`${i}-${n.toUpperCase()}`),r=_at[r]??r,bat.has(r)?r:n?PL(i):L1},xat=(t,e,n,i)=>{let r;const s=()=>Eat(t,e(),i).then(o=>{(r?.lang!==o.lang||r.t9nLocale!==o.t9nLocale||r.t9nStrings!==o.t9nStrings)&&n(o),r=o}).catch(console.error);return queueMicrotask(s),hat(t,["lang"],s)},Eat=async(t,e,n=t.localName.split("-").slice(1).join("-"))=>{const{lang:i,t9nLocale:r}=kL(t),s=`${e}/${n}/t9n`,o=n===null?{}:await wat(r,s,"messages.");return{lang:i,t9nLocale:r,t9nStrings:o}},Sat=t=>LL(void 0,t),Aat=t=>e=>LL(e,t);class Tat extends pE{constructor(e,n){super(e);const i=this.exports;try{ip(this.component);const r=n(this.component,this),s=this.exports!==i;if(bot(r)){s||this.setProvisionalExports(r);const o=r.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!s||r!==void 0)&&(this.exports=r),queueMicrotask(()=>super.catchUpLifecycle())}catch(r){this.P.reject(r),console.error(r)}}catchUpLifecycle(){}}const LL=_E(Tat),Mat=(t,e)=>new Iat(t,e);class Iat extends pE{#t;#e;#n;constructor(e,n){super(),this.#e=e,this.#n=n,this.#t=new MutationObserver(i=>{i.forEach(r=>{e.includes(r.attributeName)&&n.call(this.component,this.component.el.getAttribute(r.attributeName),r.oldValue,r.attributeName)})})}hostConnected(){this.#e.forEach(e=>{this.component.el.hasAttribute(e)&&this.#n.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#t.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#e})}hostDisconnected(){this.#t.disconnect()}}const RL=t=>(e={})=>Sat((n,i)=>{const r=kL(n.el),s={_lang:r.lang,_t9nLocale:r.t9nLocale,_loading:!0},o=n;i.onLifecycle(()=>xat(n.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:c,lang:p})=>{const d={...c,_lang:p,_t9nLocale:l,_loading:!1};i.exports=d;const f=c.componentLabel;typeof f=="string"&&"label"in n&&n.label==null&&(n.label??=f),a(o.messageOverrides)},e.name));const a=l=>{const c=i.exports,p=c._original??c,d=DL(p,l);l&&(d._original=p),i.exports=d};return"messageOverrides"in o&&i.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),e.blocking?(i.setProvisionalExports(s,!1),i.ready):s}),DL=(t,e)=>{if(!e)return t;const n={...t};return Object.entries(e).forEach(([i,r])=>{typeof r=="object"?n[i]=DL(t[i],r):n[i]=r??t[i]}),n},FL=t=>Nat,Oat="arcgisPropertyChange",Nat=(...t)=>{const e=rp(),n=hE(Oat,void 0,e);let i=!0;return e.manager.onUpdated(r=>{if(i||!e.el.isConnected){i=!1;return}for(const s of t)r.has(s)&&n.emit({name:s})}),n},Cat=RL(cat),kat=(t,e)=>{const n=rp().manager;n.onLoaded(()=>n.onLifecycle(()=>B_(t,e,i.emit)));const i=hE();return i};class jL extends dE{constructor(e,n){super(e),this.Y=new Map,this.A=void 0,this.#e=ML();const i=this;i.#n=n,i.Z(),i.setProvisionalExports(GL(e,new WeakRef(i),e.M.length-1,i.instance,i.Y),!1),cE(e,r=>{if(r){const s=Fn(()=>e[r],o=>{if(o===i.instance)return;const a=i.instance;i.exports=o,i.instance=o,i.Y.forEach((l,c)=>e.requestUpdate(l,a[c])),i.#t&&a.destroy(),i.#t=!1},{sync:!0});i.onDestroy(s.remove)}},i.exports)}#t;#e;#n;get exports(){return IL(this.#e),super.exports}set exports(e){super.exports=e,this.#e.notify()}Z(){const e=this;e.instance="prototype"in e.#n&&"declaredClass"in e.#n.prototype?new e.#n:e.#n(),e.#t=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#t&&this.instance.destroy?.()}}const GL=(t,e,n,i,r)=>new Proxy(i,{get:(s,o)=>{const a=s[o];if(typeof o=="symbol"||r.has(o))return a;const l=t.M[n];return l.A=o,uE(t,c=>{if(l.A=void 0,c!==void 0){const p=c.key;r.set(o,p);const d=t.constructor.getPropertyOptions(p),f=o!==p&&p.toLowerCase().includes("disable");Pat(e,d,o,p,f),d.i===void 0&&Lat(d,n,o,f)}},a)}}),Pat=(t,e,n,i,r,s)=>s=Fn(()=>{const o=t.deref();return o===void 0||o.component.manager.destroyed?s=s.remove():o.exports[n]},(o,a)=>{s&&(t.deref().component?.requestUpdate(i,r?!a:a),e.c=!1)},{sync:!0}),Lat=(t,e,n,i)=>{t.d.get=function(){const r=this.M[e]?.exports[n];return i?!r:r},t.d.set=function(r){const s=this.M[e];s.A!==n&&(s.exports[n]=i?!r:r)}},Rat=t=>t.Y,Dat={"top-left":"top-left","top-right":"top-right","bottom-left":"bottom-left","bottom-right":"bottom-right","bottom-leading":"bottom-start","bottom-trailing":"bottom-end","top-leading":"top-start","top-trailing":"top-end"},Fat=["manual"];function R1(t){t.el.childElem&&(t.el.childElem.ownedBy=t.el),t.position&&Fat.includes(t.position)?t.el.removeAttribute("slot"):t.position&&(t.el.slot=Dat[t.position]);const e=jat(t);if(!e){const n=Vat(t);if(!n){VL(t);return}return UL(n,t,!0),n}return Gat(e,t.el.parent)||(t.el.parent=e,e.localName==="arcgis-expand"?$at(e,t):e.localName==="arcgis-placement"?Uat(e,t):UL(e,t,!1)),e}function jat({el:t}){for(let e=t.parentElement;e;e=e?.parentElement??null){if($L.has(e.localName))return e;if("ownedBy"in e&&e.ownedBy instanceof HTMLElement&&$L.has(e.ownedBy.localName))return e.ownedBy}}const $L=new Set(["arcgis-map","arcgis-scene","arcgis-link-chart","arcgis-expand","arcgis-placement"]);function Gat(t,e){if(t!==e)return!1;const n=t.localName;return n==="arcgis-expand"||n==="arcgis-placement"}function D1(t,e,n="arcgisReady"){const i=t;if(i.view)e(i.view);else{let r=function(s){s.target===t&&(D1(t,e,n),t.removeEventListener(n,r))};t.addEventListener(n,r)}}const $at=(t,e)=>D1(t,n=>{const i=xE(e);e.el.shadowRoot?t.content=e.el:e.el.childElem&&t.content!=null&&i.append(e.el.childElem),e.el.view=n}),Uat=(t,e)=>D1(t,n=>{const i=xE(e);e.el.childElem&&i.append(e.el.childElem),e.el.view=n}),UL=(t,e,n)=>D1(t,i=>{n&&VL(e),e.el.view=i,e.referenceElement=t},"arcgisViewReadyChange");function VL(t){t.el.childElem&&xE(t).append(t.el.childElem)}function xE(t){return t.el.shadowRoot??t.el}function Vat(t,e){const n=t.referenceElement;if(typeof n!="string")return n??void 0;const i=n.includes("#")||n.includes(".")||n.includes("["),r=t.el.getRootNode();return(i?void 0:r.querySelector(`#${n}`))??r.querySelector(n)??void 0}class zL extends dE{#t;constructor(e){super(e),this.setProvisionalExports(void 0)}hostConnected(){this.component.manager.loadedCalled&&R1(this.component)}hostLoad(){this.component.manager.destroyed}hostLoaded(){const{el:e}=this.component,n=e.shadowRoot?.firstElementChild??e.firstElementChild??void 0;e.childElem??=n,this.#t=Cy(()=>this.component.view!=null,()=>{this.component.arcgisReady.emit()},{once:!0,initial:!0,sync:!0}),e.isConnected&&R1(this.component)}hostDisconnected(){typeof this.component.el.childElem=="object"&&this.component.view?.ui?.remove(this.component.el.childElem),this.#t?.remove()}hostUpdate(e){e.has("position")&&this.component.el.childElem!=null&&typeof this.component.position=="string"&&R1(this.component),e.has("referenceElement")&&R1(this.component)}}const zat=(t,e)=>n=>Wat(n,t);let Bat=class extends jL{#t=void 0;constructor(t,e){super(t,e),new zL(this.component)}hostLoad(){this.#t=Fn(()=>this.component.el.view,t=>{this.instance.view=t,this.instance.map=t?.map},{sync:!0,initial:!0})}hostDestroy(){this.#t?.remove(),super.hostDestroy()}};const Wat=_E(Bat),BL={disabled:"esri-disabled",widget:"esri-widget"},WL={dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical"},qat=Qx`:host{position:absolute;margin:0;background:transparent!important;padding:0;width:100%;height:100%;overflow:hidden;user-select:none;--arcgis-internal-swipe-handle-color-background: var(--calcite-color-background);--arcgis-internal-swipe-divider-color-background: var(--calcite-color-background)}.arcgis-swipe{width:100%;height:100%;overflow:hidden;user-select:none}.arcgis-swipe,.arcgis-ui .arcgis-swipe{pointer-events:none!important}.arcgis-swipe__container{position:absolute;z-index:1;margin:0;outline:0;border:0;padding:0;overflow:hidden;pointer-events:auto;touch-action:none;outline-color:transparent}.arcgis-swipe--horizontal .arcgis-swipe__container{margin-left:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:col-resize;height:100%}.arcgis-swipe--vertical .arcgis-swipe__container{margin-top:calc(var(--calcite-spacing-xxxl) / 2 * -1);cursor:row-resize;width:100%}.arcgis-swipe--disabled .arcgis-swipe__container{cursor:default;pointer-events:none}.arcgis-swipe__divider{position:absolute;background-color:var(--arcgis-internal-swipe-divider-color-background)}.arcgis-swipe--horizontal .arcgis-swipe__divider{top:0;left:calc(var(--calcite-spacing-xxxl) / 2);margin-left:calc(var(--calcite-border-width-lg) * .5 * -1);border-right:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-left:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:var(--calcite-border-width-lg);height:100%}.arcgis-swipe--vertical .arcgis-swipe__divider{top:calc(var(--calcite-spacing-xxxl) / 2);left:0;margin-top:calc(var(--calcite-border-width-lg) * .5 * -1);border-top:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-bottom:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);width:100%;height:var(--calcite-border-width-lg)}.arcgis-swipe__handle{display:flex;position:relative;align-items:center;justify-content:center;border:var(--calcite-border-width-sm) solid var(--calcite-color-border-1);border-radius:var(--calcite-corner-radius-round);background-color:var(--arcgis-internal-swipe-handle-color-background);width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);color:var(--calcite-color-text-3)}.arcgis-swipe__handle--hidden{visibility:hidden}.arcgis-swipe--vertical .arcgis-swipe__handle{rotate:90deg}.arcgis-swipe__handle-icon{position:relative;z-index:2}.arcgis-swipe__handle-icon:before{content:"|||";color:inherit}.arcgis-swipe--horizontal .arcgis-swipe__handle{top:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe--vertical .arcgis-swipe__handle{left:calc(50% - calc(var(--calcite-spacing-xxxl) / 2))}.arcgis-swipe__container:focus .arcgis-swipe__handle,.arcgis-swipe__container:focus .arcgis-swipe__divider{outline:inset 2px var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)))}.arcgis-swipe__container:focus .arcgis-swipe__handle{outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}`,pa="arcgis-swipe",wo={base:pa,baseDisabled:`${pa}--disabled`,vertical:`${pa}--vertical`,horizontal:`${pa}--horizontal`,container:`${pa}__container`,divider:`${pa}__divider`,handle:`${pa}__handle`,handleHidden:`${pa}__handle--hidden`,handleIcon:`${pa}__handle-icon`},Hat=zat(yat);let Zat=class extends Xb{constructor(){super(...arguments),this._container=null,this._containerRef=EL(),this._swiping=!1,this._swipePositionChanged=!1,this.messages=Cat({}),this._pointerOffset=0,this.viewModel=Hat(this),this._onContainerPointerDown=t=>{t.preventDefault();const{_container:e}=this;e&&document.activeElement!==this.el&&e.focus(),this._swiping=!0,this._calculatePointerOffset(t)},this.view=this.viewModel.view,this.autoDestroyDisabled=!1,this.direction=this.viewModel.direction,this.disabled=!1,this.hideDivider=!1,this.hideHandle=!1,this.icon="compare",this.label=this.messages.componentLabel,this.leadingLayers=this.viewModel.leadingLayers,this.swipePosition=this.viewModel.position,this.state=this.viewModel.state,this.trailingLayers=this.viewModel.trailingLayers,this.arcgisPropertyChange=FL()("state"),this.arcgisReady=M1(),this.arcgisSwipeChange=M1(),this.arcgisSwipeInput=M1()}static{this.properties={view:0,autoDestroyDisabled:5,direction:3,disabled:7,hideDivider:7,hideHandle:7,icon:1,label:1,leadingLayers:0,messageOverrides:0,position:3,swipePosition:9,referenceElement:1,state:3,trailingLayers:0}}static{this.styles=qat}async destroy(){await this.manager.destroy()}loaded(){this.listenOn(document,"pointermove",this._onContainerPointerMove),this.listenOn(document,"pointerup",this._onContainerPointerUp)}_calculatePointerOffset(t){const{direction:e}=this,n=this._containerRef.value,i=(e==="vertical"?n.clientHeight:n.clientWidth)/2,r=n.getBoundingClientRect(),s=t.clientX-r.left,o=t.clientY-r.top;this._pointerOffset=e==="vertical"?o-i:s-i}_onContainerPointerUp(t){this._swiping&&(t.preventDefault(),this._swipePositionChanged&&(this.arcgisSwipeChange.emit(),this._swipePositionChanged=!1),this._swiping=!1)}_onContainerPointerMove(t){if(!this._swiping)return;t.preventDefault();const{_pointerOffset:e,el:n,direction:i}=this,{clientX:r,clientY:s}=t,{top:o,left:a,width:l,height:c}=n.getBoundingClientRect(),p=i==="vertical"?c:l,d=(i==="vertical"?s-o-e:r-a-e)/p*100;this.swipePosition!==d&&(this.swipePosition=d,this._swipePositionChanged=!0,this.arcgisSwipeInput.emit())}_getKeyPosition(t){const{key:e}=t,{swipePosition:n}=this,{max:i,min:r,step:s,stepMultiplier:o,direction:a}=this.viewModel,l=s*o;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Home","End","PageUp","PageDown"].includes(e)&&(t.preventDefault(),t.stopPropagation()),a==="vertical"?e==="ArrowDown"||e==="ArrowRight":e==="ArrowUp"||e==="ArrowRight"){const c=t.shiftKey?l:s;return n+c}if(a==="vertical"?e==="ArrowUp"||e==="ArrowLeft":e==="ArrowDown"||e==="ArrowLeft"){const c=t.shiftKey?l:s;return n-c}return e==="Home"?r:e==="End"?i:(a==="vertical"?e==="PageDown":e==="PageUp")?n+l:(a==="vertical"?e==="PageUp":e==="PageDown")?n-l:null}_onContainerKeyDown(t){const e=this._getKeyPosition(t);typeof e=="number"&&this.swipePosition!==e&&(this.swipePosition=e,this.arcgisSwipeInput.emit(),this.arcgisSwipeChange.emit())}render(){const{state:t,direction:e}=this.viewModel,n=t==="disabled"||this.disabled,i={[BL.disabled]:n,[wo.baseDisabled]:n,[wo.vertical]:e==="vertical",[wo.horizontal]:e==="horizontal"};return tp`<div class=${au(gE(wo.base,BL.widget,i))}>${t==="disabled"?null:this._renderContainer()}</div>`}_renderHandle(){const{direction:t}=this.viewModel,{hideHandle:e}=this,n={[WL.dragHorizontal]:t==="vertical",[WL.dragVertical]:t==="horizontal"},i=gE(wo.handle,!!e&&wo.handleHidden);return tp`<div class=${au(i)} role=presentation><span aria-hidden=true class=${au(gE(wo.handleIcon,n))}></span></div>`}_renderDivider(){return this.hideDivider?null:tp`<div class=${au(wo.divider)} role=presentation></div>`}_renderContent(){return[this._renderDivider(),this._renderHandle()]}_renderContainer(){const{disabled:t,viewModel:e}=this,{max:n,min:i,direction:r,position:s}=e,o=this.label??this.messages.dragLabel??"",a=`${s}%`,l={top:r==="vertical"?a:void 0,left:r==="vertical"?void 0:a},c=this._renderContent();return t?tp`<div class=${au(wo.container)} role=presentation style=${yE(l)}>${c}</div>`:tp`<div @pointerdown=${this._onContainerPointerDown} .ariaLabel=${o} .ariaOrientation=${r} .ariaValueMax=${`${n}`} .ariaValueMin=${`${i}`} .ariaValueNow=${`${s}`} .ariaValueText=${a} class=${au(wo.container)} @keydown=${this._onContainerKeyDown} role=slider style=${yE(l)} tabindex=0 title=${o??TL} touch-action=none ${SL(this._containerRef)}>${c}</div>`}};OL("arcgis-swipe",Zat);class le{static async Basemap(e){const n=await import("./Basemap-cgy4fJrt.js").then(i=>i.B);return Reflect.construct(n.default,[e])}static async Map(e){const n=await import("./Map-CxZz2jmQ.js").then(i=>i.M);return Reflect.construct(n.default,[e])}static async MapView(e){const n=await import("./MapView-Dp1NCXhY.js").then(i=>i.M);return Reflect.construct(n.default,[e])}static async FeatureLayer(e){const n=await import("./FeatureLayer-DfxSNgrn.js");return Reflect.construct(n.default,[e])}static async GraphicsLayer(e){const n=await import("./GraphicsLayer-ClXc7mSb.js");return Reflect.construct(n.default,[e])}static async ImageryLayer(e){const n=await import("./ImageryLayer-Cs-dsfPe.js");return Reflect.construct(n.default,[e])}static async ImageryTileLayer(e){const n=await import("./ImageryTileLayer-CCymZmOP.js");return Reflect.construct(n.default,[e])}static async MapImageLayer(e){const n=await import("./MapImageLayer-BlFf9wai.js");return Reflect.construct(n.default,[e])}static async OpenStreetMapLayer(e){const n=await import("./OpenStreetMapLayer-BoPiaRXE.js");return Reflect.construct(n.default,[e])}static async TileLayer(e){const n=await import("./TileLayer-DTLAHW8P.js");return Reflect.construct(n.default,[e])}static async VectorTileLayer(e){const n=await import("./VectorTileLayer-ilrIlAdY.js");return Reflect.construct(n.default,[e])}static async WMSLayer(e){const n=await import("./WMSLayer-BAVVI1Jr.js");return Reflect.construct(n.default,[e])}static async ArcadeExecutor(e,n){const{createArcadeExecutor:i}=await import("./arcade-C4lYooub.js");return await i(e,n)}static async ColorBackground(e){const n=await import("./ColorBackground-BOoqd6Lz.js");return Reflect.construct(n.default,[e])}static async FeatureFilter(e){const n=await import("./FeatureFilter-jqXeZExx.js");return Reflect.construct(n.default,[e])}static async FieldFromJson(e){return(await import("./Field-6yANo5pN.js").then(n=>n.F)).default.fromJSON(e)}static async Query(){const e=await import("./Query-C1t-L1-R.js").then(n=>n.Q);return Reflect.construct(e.default,[])}static async QueryByIds(e,n,i){const{executeForIds:r}=await import("./query-XrU_0Jg8.js");return r(e,n,i)}static async RendererFromJson(e){const{fromJSON:n}=await import("./jsonUtils-BniGCs-6.js");return n(e)}}class Pt{wkid;latestWkid;wkt;constructor(e,n){typeof e=="string"?this.wkt=e:(this.wkid=e,this.latestWkid=n)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new Pt("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new Pt(4326)}static fromConfig(e){if(e.wkt)return new Pt(e.wkt);if(e.wkid)return new Pt(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof Pt?e.clone():typeof e=="string"&&e.startsWith("EPSG:")?new Pt(parseInt(e.substring(5).trim())):new Pt(e):Pt.latLongSR()}static fromESRI(e){if(e.wkt)return new Pt(e.wkt);{const n=e.toJSON().latestWkid,i=new Pt(e.wkid);return n&&(i.latestWkid=n),i}}toESRI(){return new Rt(this.lean())}static fromGeoJSON(e){const n=Pt.parseGeoJsonCrs(e);return n.substring(0,5)==="EPSG:"?new Pt(parseInt(n.slice(5))):new Pt(n)}static parseGeoJsonCrs(e){if(e){if(e.type==="name"){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=e.properties.name,r=i.match(n);if(r)return"EPSG:"+r[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class lu{sr;id;constructor(e,n){this.id=e?e.toString():"",this.sr=Pt.parseSR(n)}get type(){return Ut.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ut.NONE||this.type===Ut.UNKNOWN}geoJsonFactory(e,n){const i={type:e,coordinates:n};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class Sl extends lu{constructor(){super("no_geometry")}get type(){return Ut.NONE}}let ui=class q0 extends lu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=n.slice():this.rawArray=q0.parseXY(n)}get type(){return Ut.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(e){let n;if(Array.isArray(e)&&e.length===2)n=e;else{if(e instanceof q0)return e.toArray();n=[e.x,e.y]}if(isNaN(n[0])||isNaN(n[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(n[0]),parseFloat(n[1])]}static fromESRI(e,n){return new q0(n,[e.x,e.y],Pt.fromESRI(e.spatialReference),!0)}toESRI(){return new re({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new q0(n,e.coordinates,Pt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ln.POINT,this.toArray())}};class Ar extends lu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=Ar.arrayDeepCopy(n):n instanceof Ar?this.rawArray=n.toArray():this.rawArray=Ar.parsePointSet(n)}get pointArray(){return this.rawArray.map((e,n)=>new ui(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new ui(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=ui.parseXY(e)}get length(){return this.rawArray.length}toArray(){return Ar.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(e.length===0)throw new Error("no verticies provided");return e.map(n=>ui.parseXY(n))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map(n=>n.slice())}}class wd extends Ar{constructor(e,n,i,r){super(e,n,i,r)}get type(){return Ut.MULTIPOINT}static fromESRI(e,n){return new wd(n,e.points,Pt.fromESRI(e.spatialReference),!0)}toESRI(){return new Kr({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new wd(n,e.coordinates,Pt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ln.MULTIPOINT,this.toArray())}}class hc extends Ar{constructor(e,n,i,r){if(super(e,n,i,r),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ut.LINESTRING}static fromESRI(e,n){return new hc(n,e.paths[0],Pt.fromESRI(e.spatialReference),!0)}toESRI(){return new Ui({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new hc(n,e.coordinates,Pt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ln.LINESTRING,this.toArray())}}class oo extends lu{rawArray;constructor(e,n,i,r){if(super(e,n.sr||i),r)this.rawArray=oo.arrayDeepCopy(n);else if(n instanceof oo)this.rawArray=n.toArray();else if(n instanceof Ar)this.rawArray=[n.toArray()];else if(Array.isArray(n)){if(n.length===0)throw new Error("no lines provided");this.rawArray=n.map(s=>Ar.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((e,n)=>new hc(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new hc(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=Ar.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return Ut.MULTILINESTRING}toArray(){return oo.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new oo(n,e.paths,Pt.fromESRI(e.spatialReference),!0)}toESRI(){return new Ui({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new oo(n,e.coordinates,Pt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ln.MULTILINESTRING,this.toArray())}}class qu extends Ar{constructor(e,n,i,r){if(super(e,n,i,r),qu.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ut.LINEARRING}updateAt(e,n){const i=this.length-1;n===0?super.updateAt(e,i):n===i&&super.updateAt(e,0),super.updateAt(e,n)}static closeRing(e){const n=e[0],i=e[e.length-1];(n[0]!==i[0]||n[1]!==i[1])&&e.push(n.slice())}static fromESRI(e,n){return new qu(n,e.rings[0],Pt.fromESRI(e.spatialReference),!0)}toESRI(){return new Wn({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new qu(n,e.coordinates,Pt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ln.POLYGON,[this.toArray()])}}class yi extends lu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=yi.arrayDeepCopy(n):this.rawArray=yi.parsePolygon(n)}addLinearRings(e){e.forEach(n=>this.rawArray.push(n.toArray()))}get ringArray(){return this.rawArray.map((e,n)=>new qu(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Ut.POLYGON}toArray(){return yi.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let n=[];if(e instanceof yi)return e.toArray();if(e instanceof oo)n=e.toArray();else if(e instanceof Ar)n=[e.toArray()];else if(Array.isArray(e)){if(e.length===0)throw new Error("no rings provided");n=e.map(i=>Ar.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return n.forEach(i=>qu.closeRing(i)),n}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.slice()))}static fromESRI(e,n){return new yi(n,e.rings,Pt.fromESRI(e.spatialReference),!0)}toESRI(){return new Wn({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new yi(n,e.coordinates,Pt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ln.POLYGON,this.toArray())}}class za extends lu{rawArray;constructor(e,n,i,r){super(e,n.sr||i),r?this.rawArray=za.arrayDeepCopy(n):this.rawArray=za.parseMultiPolygon(n)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map((e,n)=>new yi(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Ut.MULTIPOLYGON}toArray(){return za.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof za)return e.toArray();if(e instanceof yi)return[e.toArray()];if(e instanceof oo||e instanceof Ar)return[yi.parsePolygon(e)];if(Array.isArray(e)){if(e.length===0)throw new Error("no polygons provided");return e.map(n=>yi.parsePolygon(n))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map(n=>n.map(i=>i.map(r=>r.slice())))}static fromESRI(e,n){return new za(n,[e.rings],Pt.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach(n=>{n.forEach(i=>e.push(i))}),new Wn({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new za(n,e.coordinates,Pt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(ln.MULTIPOLYGON,this.toArray())}}class Ye extends lu{rawMin;rawMax;constructor(e,n,i,r){super(e,n.sr||r),this.rawMin=ui.parseXY(n),this.rawMax=ui.parseXY(i)}get type(){return Ut.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new ui(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return Ye.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new Ye(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new yi(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,n,i,r,s,o){return new Ye(e,[n,i],[r,s],o)}static fromConfig(e,n){return new Ye(e,[n.xmin,n.ymin],[n.xmax,n.ymax],Pt.fromConfig(n.spatialReference))}isEqual(e){return e?this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax:!1}static fromESRI(e,n){return Ye.fromParams(n,e.xmin,e.ymin,e.xmax,e.ymax,Pt.fromESRI(e.spatialReference))}toESRI(){return new ae({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,n){return Ye.fromESRI(ae.fromJSON(e),n)}static fromGeoJSON(e,n){if(e.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=e.coordinates[0].slice(),r=i.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=e.coordinates[s];i[o]>a[o]&&(i[o]=a[o]),r[o]<a[o]&&(r[o]=a[o])})}),new Ye(n,i,r,Pt.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(ln.POLYGON,this.toPolygonArray())}}class Ba{c;constructor(e){if(!e){this.c=[0,0,0,1];return}if(Array.isArray(e)){const n=e.length;if(n<3||n>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=e.map((i,r)=>r===3?i:parseInt(i)),n===3&&this.c.push(1)}else if(typeof e=="string"){const n=e.substring(0,1)==="#"?e.substring(1):e;this.c=[0,2,4,6].map(i=>{const r=n.substring(i,i+2);return Ba.hexToInt(r)})}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach((n,i)=>{n<0&&(console.error("Negative value passed to colour"),this.c[i]=0),n>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=e[3]*255,`#${e.map(n=>Ba.intToHex(n)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new he(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return e.length===0?255:parseInt(e,16)}static intToHex(e){const n=e.toString(16);return n.length===1?`0${n}`:n}}class da{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u"))if(typeof e=="string"){let n;const i=e.length;if(i===0)return;const r=e.substring(i-2);return r==="px"?n=parseFloat(e.substring(0,i-2))*1.333333:r==="pt"?n=parseFloat(e.substring(0,i-2)):n=parseFloat(e),n}else return e}}class Wa extends da{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:lo.CIRCLE},super(),this._style=e.style||lo.CIRCLE,e.style===lo.ICON){const n=e;this._icon=n.icon||"",this._height=da.convToPoints(n.height)||16.5,this._width=da.convToPoints(n.width)||16.5,this._size=0,this._colour=new Ba,this._outline=new Wo,this._path=""}else{const n=e;this._size=da.convToPoints(n.size)||12,this._colour=new Ba(n.colour??"#ffffff40"),this._outline=new Wo(n.outline),this._path=this._style===lo.PATH&&n.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=da.convToPoints(e.xOffset)||0,this._yOffset=da.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===lo.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===lo.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===lo.ICON?Wa.isImageUrl(this.icon)?(e=new li,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Un,e.color=new he(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Un,e.color=new he(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const n={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if(e.type==="simple-marker"){const i=n;i.style=e.style,i.colour=e.color.toRgba(),i.size=e.size,i.path=e.path,i.outline=Wo.fromESRI(e.outline).toOptions()}else{const i=n;i.style=lo.ICON,i.width=e.width,i.height=e.height,i.icon=e.url}return new Wa(n)}static fromArcServer(e){return Wa.fromESRI(w1(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class Wo extends da{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||er.SOLID;const n=da.convToPoints(e.width);this._width=typeof n>"u"||n<0?.75:n,this._colour=new Ba(e.colour),this._miter=e.miter??2,this._cap=e.cap||lM.ROUND,this._join=e.join||aM.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new $n;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const n={width:e.width,colour:e.color.toRgba(),style:e.style};return new Wo(n)}static fromArcServer(e){return Wo.fromESRI(w1(e))}}class xd extends da{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new Ba(e.fill.colour),this._fillStyle=e.fill.style||cM.SOLID,this._outlineStyle=new Wo(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),n=new he(this.fillColour.rgba),i=new sr;return i.style=this.fillStyleType,i.color=n,i.outline=e,i}static fromESRI(e){const n={fill:{colour:e.color.toRgba(),style:e.style},outline:Wo.fromESRI(e.outline).toOptions()};return new xd(n)}static fromArcServer(e){return xd.fromESRI(w1(e))}}class Yat{Extent=Ye;Graphic=Wr;LineString=hc;LineStyle=Wo;LinearRing=qu;MultiLineString=oo;MultiPoint=wd;MultiPolygon=za;Point=ui;PointStyle=Wa;Polygon=yi;PolygonStyle=xd;SpatialReference=Pt;esriMapClickToRamp(e,n){return{mapPoint:ui.fromESRI(e.mapPoint,n),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,n){switch(e.type){case"point":return ui.fromESRI(e,n);case"polyline":{const i=e;return i.paths.length===1?hc.fromESRI(i,n):oo.fromESRI(i,n)}case"polygon":return yi.fromESRI(e,n);case"extent":return Ye.fromESRI(e,n);case"multipoint":return wd.fromESRI(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,n){switch(e.type){case ln.POINT:return ui.fromGeoJSON(e,n);case ln.LINESTRING:return hc.fromGeoJSON(e,n);case ln.POLYGON:return yi.fromGeoJSON(e,n);case ln.MULTIPOINT:return wd.fromGeoJSON(e,n);case ln.MULTILINESTRING:return oo.fromGeoJSON(e,n);case ln.MULTIPOLYGON:return za.fromGeoJSON(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const n={},i={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:n};return Object.keys(e.attributes).forEach(r=>i.properties[r]=e.attributes[r]),i}graphicGeoJsonToRamp(e,n){if(e.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(e.geometry,n),r={};return Object.keys(e.properties.forEach(s=>r[s]=e.properties[s])),new Wr(i,"",r)}graphicRampToEsri(e){const n={attributes:{},id:e.id};return n.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach(i=>n.attributes[i]=e.attributes[i]),e.style&&(n.symbol=this.styleRampToEsri(e.style)),new qi(n)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return Wa.fromESRI(e);case"simple-line":return Wo.fromESRI(e);case"simple-fill":return xd.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new Wa}}serverGeomTypeToRampGeomType(e){if(!e)return Ut.NONE;switch(e){case"esriGeometryPolygon":return Ut.POLYGON;case"esriGeometryPolyline":return Ut.LINESTRING;case"esriGeometryPoint":return Ut.POINT;case"esriGeometryMultipoint":return Ut.MULTIPOINT;case"esriGeometryEnvelope":return Ut.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),Ut.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return Ut.NONE;switch(e){case"polygon":return Ut.POLYGON;case"polyline":return Ut.LINESTRING;case"point":return Ut.POINT;case"multipoint":return Ut.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),Ut.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case ln.POINT:return"point";case ln.LINESTRING:case ln.MULTILINESTRING:return"polyline";case ln.POLYGON:case ln.MULTIPOLYGON:return"polygon";case ln.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return Wa.isImageUrl(e)}}class F1{layerIdx;name;children;uid;isRoot;constructor(e,n,i="",r=!0){this.layerIdx=e,this.name=i,this.isRoot=r,this.children=[],this.uid=n}findChildByUid(e){if(this.uid===e)return this;{let n;return this.children.some(i=>n=i.findChildByUid(e)),n}}findChildByIdx(e){if(this.layerIdx===e)return this;{let n;return this.children.some(i=>n=i.findChildByIdx(e)),n}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class qL{minScale;maxScale;constructor(e=0,n=0){this.minScale=e,this.maxScale=n}isOffScale(e){const n={offScale:!1,zoomIn:!1};return e<this.maxScale&&this.maxScale!==0?(n.offScale=!0,n.zoomIn=!1):e>this.minScale&&this.minScale!==0&&(n.offScale=!0,n.zoomIn=!0),n}}class HL{sql;cache;extent;constructor(e="",n=""){this.sql={[ri.PERMANENT]:e,[ri.INITIAL]:n},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const n=this.sql,i=Object.keys(n).filter(r=>n[r]);return e.length===0?i:i.filter(r=>e.indexOf(r)===-1)}isActive(){return this.sqlActiveFilters([ri.PERMANENT]).length>0}getCombinedSql(e=[]){const n=this.sqlActiveFilters(e),i=n.length;return i===0?"":i===1?this.sql[n[0]]:n.map(r=>`(${this.sql[r]})`).join(" AND ")}setSql(e,n){e===ri.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=n,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(ri.EXTENT))}getCacheKey(e,n){return`_cache$${e.sort().join("$")}${n?"$"+ri.EXTENT:""}$`}getCache(e,n){const i=this.getCacheKey(e,n);return this.cache[i]}setCache(e,n,i){const r=this.getCacheKey(n,i);this.cache[r]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter(n=>e[n])}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach(n=>{n.indexOf(`$${e}$`)>-1&&delete this.cache[n]})}clearAll(){this.sql={[ri.PERMANENT]:this.sql[ri.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Y0{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,n,i=void 0,r=void 0){this.id=e,this.sr=n.sr.clone(),this._defaultExtent=n.clone(),this._fullExtent=i?.clone(),this._maximumExtent=r?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),r&&!r.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${r.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new Y0(e.id,Ye.fromConfig(`${e.id}-extent-default`,e.default),e.full!==void 0?Ye.fromConfig(`${e.id}-extent-full`,e.full):void 0,e.maximum!==void 0?Ye.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new Y0(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class vn{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((e,n)=>{this.resolveMe=i=>{e(i)},this.rejectMe=n})}}var Jat=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ZL(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var r=!1;try{r=this instanceof i}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var SE,YL;function Xat(){if(YL)return SE;YL=1;var t=function(A){return e(A)&&!n(A)};function e(A){return!!A&&typeof A=="object"}function n(A){var T=Object.prototype.toString.call(A);return T==="[object RegExp]"||T==="[object Date]"||s(A)}var i=typeof Symbol=="function"&&Symbol.for,r=i?Symbol.for("react.element"):60103;function s(A){return A.$$typeof===r}function o(A){return Array.isArray(A)?[]:{}}function a(A,T){return T.clone!==!1&&T.isMergeableObject(A)?b(o(A),A,T):A}function l(A,T,w){return A.concat(T).map(function(_){return a(_,w)})}function c(A,T){if(!T.customMerge)return b;var w=T.customMerge(A);return typeof w=="function"?w:b}function p(A){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(A).filter(function(T){return Object.propertyIsEnumerable.call(A,T)}):[]}function d(A){return Object.keys(A).concat(p(A))}function f(A,T){try{return T in A}catch{return!1}}function y(A,T){return f(A,T)&&!(Object.hasOwnProperty.call(A,T)&&Object.propertyIsEnumerable.call(A,T))}function g(A,T,w){var _={};return w.isMergeableObject(A)&&d(A).forEach(function(M){_[M]=a(A[M],w)}),d(T).forEach(function(M){y(A,M)||(f(A,M)&&w.isMergeableObject(T[M])?_[M]=c(M,w)(A[M],T[M],w):_[M]=a(T[M],w))}),_}function b(A,T,w){w=w||{},w.arrayMerge=w.arrayMerge||l,w.isMergeableObject=w.isMergeableObject||t,w.cloneUnlessOtherwiseSpecified=a;var _=Array.isArray(T),M=Array.isArray(A),I=_===M;return I?_?w.arrayMerge(A,T,w):g(A,T,w):a(T,w)}b.all=function(A,T){if(!Array.isArray(A))throw new Error("first argument should be an array");return A.reduce(function(w,_){return b(w,_,T)},{})};var x=b;return SE=x,SE}var Qat=Xat();const AE=EE(Qat);class Kat{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const i=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(e,n,i=!0){const r=n??document.createElement("canvas"),s=document.createElement("img");i&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{r.width=s.width,r.height=s.height,r.getContext("2d")?.drawImage(s,0,0),a(r)}),s.addEventListener("error",c=>l(c))});return s.src=e,o}async convertImagetoDataURL(e,n="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then(i=>i.toDataURL(n)).catch(i=>(console.error("Failed to load crossorigin image",e,i),e))}parseUrlIndex(e){const n={rootUrl:e,index:0},i=/\/(\d+)\/?$/,r=e.match(i);if(r){const s=r[1];n.index=isNaN(parseInt(s))?void 0:parseInt(s),n.rootUrl=e.substr(0,e.length-r[0].length)}else console.warn("Cannot extract layer index from url "+e);return n}controlAvailable(e,n){return n?.disabledControls?.includes(e)?!1:n?.controls?n?.controls?.includes(e):!0}}class em{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce((n,i)=>{const[r,s]=i.split("=");return n[r]=s,n},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const n=AE.all([{},this.queryMap,e]);return`${this.base}${Object.entries(n).filter(([,i])=>i!==void 0).map(([i,r],s)=>`${s===0?"?":""}${i}=${r}`).join("&")}`}}var nm=6378137,tlt=57.29577951308232,elt=.017453292519943,nlt={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},TE=function(t){return t*tlt},ME=function(t){return t*elt},ilt=function(t){var e=t[0],n=t[1];return[TE(e/nm)-Math.floor((TE(e/nm)+180)/360)*360,TE(Math.PI/2-2*Math.atan(Math.exp(-1*n/nm)))]},rlt=function(t){var e=t[0],n=Math.max(Math.min(t[1],89.99999),-89.99999);return[ME(e)*nm,nm/2*Math.log((1+Math.sin(ME(n)))/(1-Math.sin(ME(n))))]};function IE(t){"@babel/helpers - typeof";return IE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IE(t)}var slt=function t(e,n){for(var i=0;i<e.length;i++)typeof e[i][0]=="number"&&(e[i]=n(e[i])),IE(e[i])==="object"&&(e[i]=t(e[i],n));return e},olt=function t(e,n,i){if(e.type==="Point")e.coordinates=n(e.coordinates);else if(e.type==="Feature")e.geometry=t(e.geometry,n,!0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length;r++)e.features[r]=t(e.features[r],n,!0);else if(e.type==="GeometryCollection")for(var s=0;s<e.geometries.length;s++)e.geometries[s]=t(e.geometries[s],n,!0);else e.coordinates=slt(e.coordinates,n);return i||n===rlt&&(e.crs=nlt),n===ilt&&delete e.crs,e};function alt(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var cu=1,uu=2,ap=3,llt=4,OE=5,JL=6378137,clt=6356752314e-3,XL=.0066943799901413165,im=484813681109536e-20,at=Math.PI/2,ult=.16666666666666666,hlt=.04722222222222222,plt=.022156084656084655,ft=1e-10,bn=.017453292519943295,lr=57.29577951308232,Ee=Math.PI/4,rm=Math.PI*2,Mn=3.14159265359,cr={};cr.greenwich=0,cr.lisbon=-9.131906111111,cr.paris=2.337229166667,cr.bogota=-74.080916666667,cr.madrid=-3.687938888889,cr.rome=12.452333333333,cr.bern=7.439583333333,cr.jakarta=106.807719444444,cr.ferro=-17.666666666667,cr.brussels=4.367975,cr.stockholm=18.058277777778,cr.athens=23.7163375,cr.oslo=10.722916666667;const dlt={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var QL=/[\s_\-\/\(\)]/g;function Al(t,e){if(t[e])return t[e];for(var n=Object.keys(t),i=e.toLowerCase().replace(QL,""),r=-1,s,o;++r<n.length;)if(s=n[r],o=s.toLowerCase().replace(QL,""),o===i)return t[s]}function NE(t){var e={},n=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,r,s,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*bn},lat_1:function(a){e.lat1=a*bn},lat_2:function(a){e.lat2=a*bn},lat_ts:function(a){e.lat_ts=a*bn},lon_0:function(a){e.long0=a*bn},lon_1:function(a){e.long1=a*bn},lon_2:function(a){e.long2=a*bn},alpha:function(a){e.alpha=parseFloat(a)*bn},gamma:function(a){e.rectified_grid_angle=parseFloat(a)*bn},lonc:function(a){e.longc=a*bn},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=Al(dlt,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*bn},pm:function(a){var l=Al(cr,a);e.from_greenwich=(l||parseFloat(a))*bn},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0},over:function(){e.over=!0}};for(i in n)r=n[i],i in o?(s=o[i],typeof s=="function"?s(r):e[s]=r):e[i]=r;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e.projStr=t,e}class KL{static getId(e){const n=e.find(i=>Array.isArray(i)&&i[0]==="ID");return n&&n.length>=3?{authority:n[1],code:parseInt(n[2],10)}:null}static convertUnit(e,n="unit"){if(!e||e.length<3)return{type:n,name:"unknown",conversion_factor:null};const i=e[1],r=parseFloat(e[2])||null,s=e.find(a=>Array.isArray(a)&&a[0]==="ID"),o=s?{authority:s[1],code:parseInt(s[2],10)}:null;return{type:n,name:i,conversion_factor:r,id:o}}static convertAxis(e){const n=e[1]||"Unknown";let i;const r=n.match(/^\((.)\)$/);if(r){const c=r[1].toUpperCase();if(c==="E")i="east";else if(c==="N")i="north";else if(c==="U")i="up";else throw new Error(`Unknown axis abbreviation: ${c}`)}else i=e[2]?e[2].toLowerCase():"unknown";const s=e.find(c=>Array.isArray(c)&&c[0]==="ORDER"),o=s?parseInt(s[1],10):null,a=e.find(c=>Array.isArray(c)&&(c[0]==="LENGTHUNIT"||c[0]==="ANGLEUNIT"||c[0]==="SCALEUNIT")),l=this.convertUnit(a);return{name:n,direction:i,unit:l,order:o}}static extractAxes(e){return e.filter(n=>Array.isArray(n)&&n[0]==="AXIS").map(n=>this.convertAxis(n)).sort((n,i)=>(n.order||0)-(i.order||0))}static convert(e,n={}){switch(e[0]){case"PROJCRS":n.type="ProjectedCRS",n.name=e[1],n.base_crs=e.find(f=>Array.isArray(f)&&f[0]==="BASEGEOGCRS")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="BASEGEOGCRS")):null,n.conversion=e.find(f=>Array.isArray(f)&&f[0]==="CONVERSION")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="CONVERSION")):null;const i=e.find(f=>Array.isArray(f)&&f[0]==="CS");i&&(n.coordinate_system={type:i[1],axis:this.extractAxes(e)});const r=e.find(f=>Array.isArray(f)&&f[0]==="LENGTHUNIT");if(r){const f=this.convertUnit(r);n.coordinate_system.unit=f}n.id=this.getId(e);break;case"BASEGEOGCRS":case"GEOGCRS":n.type="GeographicCRS",n.name=e[1];const s=e.find(f=>Array.isArray(f)&&(f[0]==="DATUM"||f[0]==="ENSEMBLE"));if(s){const f=this.convert(s);s[0]==="ENSEMBLE"?n.datum_ensemble=f:n.datum=f;const y=e.find(g=>Array.isArray(g)&&g[0]==="PRIMEM");y&&y[1]!=="Greenwich"&&(f.prime_meridian={name:y[1],longitude:parseFloat(y[2])})}n.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(e)},n.id=this.getId(e);break;case"DATUM":n.type="GeodeticReferenceFrame",n.name=e[1],n.ellipsoid=e.find(f=>Array.isArray(f)&&f[0]==="ELLIPSOID")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":n.type="DatumEnsemble",n.name=e[1],n.members=e.filter(f=>Array.isArray(f)&&f[0]==="MEMBER").map(f=>({type:"DatumEnsembleMember",name:f[1],id:this.getId(f)}));const o=e.find(f=>Array.isArray(f)&&f[0]==="ENSEMBLEACCURACY");o&&(n.accuracy=parseFloat(o[1]));const a=e.find(f=>Array.isArray(f)&&f[0]==="ELLIPSOID");a&&(n.ellipsoid=this.convert(a)),n.id=this.getId(e);break;case"ELLIPSOID":n.type="Ellipsoid",n.name=e[1],n.semi_major_axis=parseFloat(e[2]),n.inverse_flattening=parseFloat(e[3]),e.find(f=>Array.isArray(f)&&f[0]==="LENGTHUNIT")&&this.convert(e.find(f=>Array.isArray(f)&&f[0]==="LENGTHUNIT"),n);break;case"CONVERSION":n.type="Conversion",n.name=e[1],n.method=e.find(f=>Array.isArray(f)&&f[0]==="METHOD")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="METHOD")):null,n.parameters=e.filter(f=>Array.isArray(f)&&f[0]==="PARAMETER").map(f=>this.convert(f));break;case"METHOD":n.type="Method",n.name=e[1],n.id=this.getId(e);break;case"PARAMETER":n.type="Parameter",n.name=e[1],n.value=parseFloat(e[2]),n.unit=this.convertUnit(e.find(f=>Array.isArray(f)&&(f[0]==="LENGTHUNIT"||f[0]==="ANGLEUNIT"||f[0]==="SCALEUNIT"))),n.id=this.getId(e);break;case"BOUNDCRS":n.type="BoundCRS";const l=e.find(f=>Array.isArray(f)&&f[0]==="SOURCECRS");if(l){const f=l.find(y=>Array.isArray(y));n.source_crs=f?this.convert(f):null}const c=e.find(f=>Array.isArray(f)&&f[0]==="TARGETCRS");if(c){const f=c.find(y=>Array.isArray(y));n.target_crs=f?this.convert(f):null}const p=e.find(f=>Array.isArray(f)&&f[0]==="ABRIDGEDTRANSFORMATION");p?n.transformation=this.convert(p):n.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(n.type="Transformation",n.name=e[1],n.method=e.find(f=>Array.isArray(f)&&f[0]==="METHOD")?this.convert(e.find(f=>Array.isArray(f)&&f[0]==="METHOD")):null,n.parameters=e.filter(f=>Array.isArray(f)&&(f[0]==="PARAMETER"||f[0]==="PARAMETERFILE")).map(f=>{if(f[0]==="PARAMETER")return this.convert(f);if(f[0]==="PARAMETERFILE")return{name:f[1],value:f[2],id:{authority:"EPSG",code:8656}}}),n.parameters.length===7){const f=n.parameters[6];f.name==="Scale difference"&&(f.value=Math.round((f.value-1)*1e12)/1e6)}n.id=this.getId(e);break;case"AXIS":n.coordinate_system||(n.coordinate_system={type:"unspecified",axis:[]}),n.coordinate_system.axis.push(this.convertAxis(e));break;case"LENGTHUNIT":const d=this.convertUnit(e,"LinearUnit");n.coordinate_system&&n.coordinate_system.axis&&n.coordinate_system.axis.forEach(f=>{f.unit||(f.unit=d)}),d.conversion_factor&&d.conversion_factor!==1&&n.semi_major_axis&&(n.semi_major_axis={value:n.semi_major_axis,unit:d});break;default:n.keyword=e[0];break}return n}}class flt extends KL{static convert(e,n={}){return super.convert(e,n),n.coordinate_system&&n.coordinate_system.subtype==="Cartesian"&&delete n.coordinate_system,n.usage&&delete n.usage,n}}class mlt extends KL{static convert(e,n={}){super.convert(e,n);const i=e.find(s=>Array.isArray(s)&&s[0]==="CS");i&&(n.coordinate_system={subtype:i[1],axis:this.extractAxes(e)});const r=e.find(s=>Array.isArray(s)&&s[0]==="USAGE");if(r){const s=r.find(l=>Array.isArray(l)&&l[0]==="SCOPE"),o=r.find(l=>Array.isArray(l)&&l[0]==="AREA"),a=r.find(l=>Array.isArray(l)&&l[0]==="BBOX");n.usage={},s&&(n.usage.scope=s[1]),o&&(n.usage.area=o[1]),a&&(n.usage.bbox=a.slice(1))}return n}}function ylt(t){return t.find(e=>Array.isArray(e)&&e[0]==="USAGE")?"2019":(t.find(e=>Array.isArray(e)&&e[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0],"2015")}function glt(t){return(ylt(t)==="2019"?mlt:flt).convert(t)}function vlt(t){const e=t.toUpperCase();return e.includes("PROJCRS")||e.includes("GEOGCRS")||e.includes("BOUNDCRS")||e.includes("VERTCRS")||e.includes("LENGTHUNIT")||e.includes("ANGLEUNIT")||e.includes("SCALEUNIT")?"WKT2":(e.includes("PROJCS")||e.includes("GEOGCS")||e.includes("LOCAL_CS")||e.includes("VERT_CS")||e.includes("UNIT"),"WKT1")}var sm=1,t7=2,e7=3,j1=4,n7=5,CE=-1,blt=/\s/,_lt=/[A-Za-z]/,wlt=/[A-Za-z84_]/,G1=/[,\]]/,i7=/[\d\.E\-\+]/;function fa(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=sm}fa.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==j1)for(;blt.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case sm:return this.neutral(t);case t7:return this.keyword(t);case j1:return this.quoted(t);case n7:return this.afterquote(t);case e7:return this.number(t);case CE:return}},fa.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=j1;return}if(G1.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},fa.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=sm;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=sm,this.currentObject=this.stack.pop(),this.currentObject||(this.state=CE);return}},fa.prototype.number=function(t){if(i7.test(t)){this.word+=t;return}if(G1.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},fa.prototype.quoted=function(t){if(t==='"'){this.state=n7;return}this.word+=t},fa.prototype.keyword=function(t){if(wlt.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=sm;return}if(G1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},fa.prototype.neutral=function(t){if(_lt.test(t)){this.word=t,this.state=t7;return}if(t==='"'){this.word="",this.state=j1;return}if(i7.test(t)){this.word=t,this.state=e7;return}if(G1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},fa.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===CE)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function xlt(t){var e=new fa(t);return e.output()}function kE(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(s,o){return lp(o,s),s},i);e&&(t[e]=r)}function lp(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},lp(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&lp(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&lp(t[3],e[n]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],kE(e,n,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],kE(e,n,t),e[n].type=n;return;default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return lp(t,e[n]);return kE(e,n,t)}}var Elt=.017453292519943295;function Ws(t){return t*Elt}function r7(t){const e=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(e==="albers conic equal area"||e==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(e==="stereographic south pole"||e==="polar stereographic (variant b)")?(t.lat0=Ws(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(e==="polar stereographic"||e==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=Ws(t.lat0>0?90:-90),delete t.lat1)}function s7(t){let e={units:null,to_meter:void 0};return typeof t=="string"?(e.units=t.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.units==="meter"&&(e.to_meter=1)):t&&t.name&&(e.units=t.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.to_meter=t.conversion_factor),e}function o7(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function a7(t,e){t.ellipsoid.radius?(e.a=t.ellipsoid.radius,e.rf=0):(e.a=o7(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?e.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(e.rf=e.a/(e.a-o7(t.ellipsoid.semi_minor_axis))))}function $1(t,e={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?($1(t.source_crs,e),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?e.nadgrids=t.transformation.parameters[0].value:e.datum_params=t.transformation.parameters.map(n=>n.value)),e):(Object.keys(t).forEach(n=>{const i=t[n];if(i!==null)switch(n){case"name":if(e.srsCode)break;e.name=i,e.srsCode=i;break;case"type":i==="GeographicCRS"?e.projName="longlat":i==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(e.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":i.ellipsoid&&(e.ellps=i.ellipsoid.name,a7(i,e)),i.prime_meridian&&(e.from_greenwich=i.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":e.ellps=i.name,a7(i,e);break;case"prime_meridian":e.long0=(i.longitude||0)*Math.PI/180;break;case"coordinate_system":if(i.axis){if(e.axis=i.axis.map(r=>{const s=r.direction;if(s==="east")return"e";if(s==="north")return"n";if(s==="west")return"w";if(s==="south")return"s";throw new Error(`Unknown axis direction: ${s}`)}).join("")+"u",i.unit){const{units:r,to_meter:s}=s7(i.unit);e.units=r,e.to_meter=s}else if(i.axis[0]&&i.axis[0].unit){const{units:r,to_meter:s}=s7(i.axis[0].unit);e.units=r,e.to_meter=s}}break;case"id":i.authority&&i.code&&(e.title=i.authority+":"+i.code);break;case"conversion":i.method&&i.method.name&&(e.projName=i.method.name),i.parameters&&i.parameters.forEach(r=>{const s=r.name.toLowerCase().replace(/\s+/g,"_"),o=r.value;r.unit&&r.unit.conversion_factor?e[s]=o*r.unit.conversion_factor:r.unit==="degree"?e[s]=o*Math.PI/180:e[s]=o});break;case"unit":i.name&&(e.units=i.name.toLowerCase(),e.units==="metre"&&(e.units="meter")),i.conversion_factor&&(e.to_meter=i.conversion_factor);break;case"base_crs":$1(i,e),e.datumCode=i.id?i.id.authority+"_"+i.id.code:i.name;break}}),e.latitude_of_false_origin!==void 0&&(e.lat0=e.latitude_of_false_origin),e.longitude_of_false_origin!==void 0&&(e.long0=e.longitude_of_false_origin),e.latitude_of_standard_parallel!==void 0&&(e.lat0=e.latitude_of_standard_parallel,e.lat1=e.latitude_of_standard_parallel),e.latitude_of_1st_standard_parallel!==void 0&&(e.lat1=e.latitude_of_1st_standard_parallel),e.latitude_of_2nd_standard_parallel!==void 0&&(e.lat2=e.latitude_of_2nd_standard_parallel),e.latitude_of_projection_centre!==void 0&&(e.lat0=e.latitude_of_projection_centre),e.longitude_of_projection_centre!==void 0&&(e.longc=e.longitude_of_projection_centre),e.easting_at_false_origin!==void 0&&(e.x0=e.easting_at_false_origin),e.northing_at_false_origin!==void 0&&(e.y0=e.northing_at_false_origin),e.latitude_of_natural_origin!==void 0&&(e.lat0=e.latitude_of_natural_origin),e.longitude_of_natural_origin!==void 0&&(e.long0=e.longitude_of_natural_origin),e.longitude_of_origin!==void 0&&(e.long0=e.longitude_of_origin),e.false_easting!==void 0&&(e.x0=e.false_easting),e.easting_at_projection_centre&&(e.x0=e.easting_at_projection_centre),e.false_northing!==void 0&&(e.y0=e.false_northing),e.northing_at_projection_centre&&(e.y0=e.northing_at_projection_centre),e.standard_parallel_1!==void 0&&(e.lat1=e.standard_parallel_1),e.standard_parallel_2!==void 0&&(e.lat2=e.standard_parallel_2),e.scale_factor_at_natural_origin!==void 0&&(e.k0=e.scale_factor_at_natural_origin),e.scale_factor_at_projection_centre!==void 0&&(e.k0=e.scale_factor_at_projection_centre),e.scale_factor_on_pseudo_standard_parallel!==void 0&&(e.k0=e.scale_factor_on_pseudo_standard_parallel),e.azimuth!==void 0&&(e.alpha=e.azimuth),e.azimuth_at_projection_centre!==void 0&&(e.alpha=e.azimuth_at_projection_centre),e.angle_from_rectified_to_skew_grid&&(e.rectified_grid_angle=e.angle_from_rectified_to_skew_grid),r7(e),e)}var Slt=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Alt(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],e.length===3&&(t[n]=e[2](t[n])))}function l7(t){for(var e=Object.keys(t),n=0,i=e.length;n<i;++n){var r=e[n];Slt.indexOf(r)!==-1&&Tlt(t[r]),typeof t[r]=="object"&&l7(t[r])}}function Tlt(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var n="",i=0,r=t.AXIS.length;i<r;++i){var s=[t.AXIS[i][0].toLowerCase(),t.AXIS[i][1].toLowerCase()];s[0].indexOf("north")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="north"?n+="n":s[0].indexOf("south")!==-1||(s[0]==="y"||s[0]==="lat")&&s[1]==="south"?n+="s":s[0].indexOf("east")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="east"?n+="e":(s[0].indexOf("west")!==-1||(s[0]==="x"||s[0]==="lon")&&s[1]==="west")&&(n+="w")}n.length===2&&(n+="u"),n.length===3&&(t.axis=n)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var o=t.GEOGCS;t.type==="GEOGCS"&&(o=t),o&&(o.DATUM?t.datumCode=o.DATUM.name.toLowerCase():t.datumCode=o.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),o.DATUM&&o.DATUM.SPHEROID&&(t.ellps=o.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=o.DATUM.SPHEROID.a,t.rf=parseFloat(o.DATUM.SPHEROID.rf,10)),o.DATUM&&o.DATUM.TOWGS84&&(t.datum_params=o.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=Ws(t.rectified_grid_angle));function a(p){var d=t.to_meter||1;return p*d}var l=function(p){return Alt(t,p)},c=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ws],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ws],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",Ws],["lat0","latitude_of_origin",Ws],["lat0","standard_parallel_1",Ws],["lat1","standard_parallel_1",Ws],["lat2","standard_parallel_2",Ws],["azimuth","Azimuth"],["alpha","azimuth",Ws],["srsCode","name"]];c.forEach(l),r7(t)}function U1(t){if(typeof t=="object")return $1(t);const e=vlt(t);var n=xlt(t);if(e==="WKT2"){const s=glt(n);return $1(s)}var i=n[0],r={};return lp(n,r),l7(r),r[i]}function hi(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?hi[t]=NE(arguments[1]):hi[t]=U1(arguments[1]):n&&typeof n=="object"&&!("projName"in n)?hi[t]=U1(arguments[1]):(hi[t]=n,n||delete hi[t])}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(i){return Array.isArray(i)?hi.apply(e,i):hi(i)});if(typeof t=="string"){if(t in hi)return hi[t]}else"EPSG"in t?hi["EPSG:"+t.EPSG]=t:"ESRI"in t?hi["ESRI:"+t.ESRI]=t:"IAU2000"in t?hi["IAU2000:"+t.IAU2000]=t:console.log(t);return}}alt(hi);function Mlt(t){return typeof t=="string"}function Ilt(t){return t in hi}function Olt(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var Nlt=["3857","900913","3785","102113"];function Clt(t){var e=Al(t,"authority");if(e){var n=Al(e,"epsg");return n&&Nlt.indexOf(n)>-1}}function klt(t){var e=Al(t,"extension");if(e)return Al(e,"proj4")}function Plt(t){return t[0]==="+"}function Llt(t){if(Mlt(t)){if(Ilt(t))return hi[t];if(Olt(t)){var e=U1(t);if(Clt(e))return hi["EPSG:3857"];var n=klt(e);return n?NE(n):e}if(Plt(t))return NE(t)}else return"projName"in t?t:U1(t)}function c7(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)n=e[i],n!==void 0&&(t[i]=n);return t}function xo(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function om(t){return t<0?-1:1}function yt(t,e){return e||Math.abs(t)<=Mn?t:t-om(t)*rm}function qs(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(at-e))/i}function am(t,e){for(var n=.5*t,i,r,s=at-2*Math.atan(e),o=0;o<=15;o++)if(i=t*Math.sin(s),r=at-2*Math.atan(e*Math.pow((1-i)/(1+i),n))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}function Rlt(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=xo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Dlt(t){var e=t.x,n=t.y;if(n*lr>90&&n*lr<-90&&e*lr>180&&e*lr<-180)return null;var i,r;if(Math.abs(Math.abs(n)-at)<=ft)return null;if(this.sphere)i=this.x0+this.a*this.k0*yt(e-this.long0,this.over),r=this.y0+this.a*this.k0*Math.log(Math.tan(Ee+.5*n));else{var s=Math.sin(n),o=qs(this.e,n,s);i=this.x0+this.a*this.k0*yt(e-this.long0,this.over),r=this.y0-this.a*this.k0*Math.log(o)}return t.x=i,t.y=r,t}function Flt(t){var e=t.x-this.x0,n=t.y-this.y0,i,r;if(this.sphere)r=at-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(r=am(this.e,s),r===-9999)return null}return i=yt(this.long0+e/(this.a*this.k0),this.over),t.x=i,t.y=r,t}var jlt=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const Glt={init:Rlt,forward:Dlt,inverse:Flt,names:jlt};function $lt(){}function u7(t){return t}var h7=["longlat","identity"];const Ult={init:$lt,forward:u7,inverse:u7,names:h7};var Vlt=[Glt,Ult],cp={},lm=[];function p7(t,e){var n=lm.length;return t.names?(lm[n]=t,t.names.forEach(function(i){cp[i.toLowerCase()]=n}),this):(console.log(e),!0)}function d7(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function zlt(t){if(!t)return!1;var e=t.toLowerCase();if(typeof cp[e]<"u"&&lm[cp[e]]||(e=d7(e),e in cp&&lm[cp[e]]))return lm[cp[e]]}function Blt(){Vlt.forEach(p7)}const Wlt={start:Blt,add:p7,get:zlt};var f7={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const qlt=f7.WGS84;function Hlt(t,e,n,i){var r=t*t,s=e*e,o=(r-s)/r,a=0;i?(t*=1-o*(ult+o*(hlt+o*plt)),r=t*t,o=0):a=Math.sqrt(o);var l=(r-s)/s;return{es:o,e:a,ep2:l}}function Zlt(t,e,n,i,r){if(!t){var s=Al(f7,i);s||(s=qlt),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<ft)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}var V1={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var Ylt in V1){var PE=V1[Ylt];PE.datumName&&(V1[PE.datumName]=PE)}function Jlt(t,e,n,i,r,s,o){var a={};return t===void 0||t==="none"?a.datum_type=OE:a.datum_type=llt,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=cu),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=uu,a.datum_params[3]*=im,a.datum_params[4]*=im,a.datum_params[5]*=im,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=ap,a.grids=o),a.a=n,a.b=i,a.es=r,a.ep2=s,a}var LE={};function Xlt(t,e,n){return e instanceof ArrayBuffer?Qlt(t,e,n):{ready:Klt(t,e)}}function Qlt(t,e,n){var i=!0;n!==void 0&&n.includeErrorFields===!1&&(i=!1);var r=new DataView(e),s=nct(r),o=ict(r,s),a=rct(r,o,s,i),l={header:o,subgrids:a};return LE[t]=l,l}async function Klt(t,e){for(var n=[],i=await e.getImageCount(),r=i-1;r>=0;r--){var s=await e.getImage(r),o=await s.readRasters(),a=o,l=[s.getWidth(),s.getHeight()],c=s.getBoundingBox().map(m7),p=[s.fileDirectory.ModelPixelScale[0],s.fileDirectory.ModelPixelScale[1]].map(m7),d=c[0]+(l[0]-1)*p[0],f=c[3]-(l[1]-1)*p[1],y=a[0],g=a[1],b=[];for(let T=l[1]-1;T>=0;T--)for(let w=l[0]-1;w>=0;w--){var x=T*l[0]+w;b.push([-Tl(g[x]),Tl(y[x])])}n.push({del:p,lim:l,ll:[-d,f],cvs:b})}var A={header:{nSubgrids:i},subgrids:n};return LE[t]=A,A}function tct(t){if(t===void 0)return null;var e=t.split(",");return e.map(ect)}function ect(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:LE[t]||null,isNull:!1}}function m7(t){return t*Math.PI/180}function Tl(t){return t/3600*Math.PI/180}function nct(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function ict(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:RE(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function RE(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function rct(t,e,n,i){for(var r=176,s=[],o=0;o<e.nSubgrids;o++){var a=oct(t,r,n),l=act(t,r,a,n,i),c=Math.round(1+(a.upperLongitude-a.lowerLongitude)/a.longitudeInterval),p=Math.round(1+(a.upperLatitude-a.lowerLatitude)/a.latitudeInterval);s.push({ll:[Tl(a.lowerLongitude),Tl(a.lowerLatitude)],del:[Tl(a.longitudeInterval),Tl(a.latitudeInterval)],lim:[c,p],count:a.gridNodeCount,cvs:sct(l)});var d=16;i===!1&&(d=8),r+=176+a.gridNodeCount*d}return s}function sct(t){return t.map(function(e){return[Tl(e.longitudeShift),Tl(e.latitudeShift)]})}function oct(t,e,n){return{name:RE(t,e+8,e+16).trim(),parent:RE(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function act(t,e,n,i,r){var s=e+176,o=16;r===!1&&(o=8);for(var a=[],l=0;l<n.gridNodeCount;l++){var c={latitudeShift:t.getFloat32(s+l*o,i),longitudeShift:t.getFloat32(s+l*o+4,i)};r!==!1&&(c.latitudeAccuracy=t.getFloat32(s+l*o+8,i),c.longitudeAccuracy=t.getFloat32(s+l*o+12,i)),a.push(c)}return a}function ls(t,e){if(!(this instanceof ls))return new ls(t);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,e=e||function(c){if(c)throw c};var n=Llt(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var i=ls.projections.get(n.projName);if(!i){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var r=Al(V1,n.datumCode);r&&(n.datum_params=n.datum_params||(r.towgs84?r.towgs84.split(","):null),n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=Zlt(n.a,n.b,n.rf,n.ellps,n.sphere),o=Hlt(s.a,s.b,s.rf,n.R_A),a=tct(n.nadgrids),l=n.datum||Jlt(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);c7(this,n),c7(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,"init"in this&&typeof this.init=="function"&&this.init(),e(null,this)}ls.projections=Wlt,ls.projections.start();function lct(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===cu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===uu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function y7(t,e,n){var i=t.x,r=t.y,s=t.z?t.z:0,o,a,l,c;if(r<-at&&r>-1.001*at)r=-at;else if(r>at&&r<1.001*at)r=at;else{if(r<-at)return{x:-1/0,y:-1/0,z:t.z};if(r>at)return{x:1/0,y:1/0,z:t.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(r),c=Math.cos(r),l=a*a,o=n/Math.sqrt(1-e*l),{x:(o+s)*c*Math.cos(i),y:(o+s)*c*Math.sin(i),z:(o*(1-e)+s)*a}}function g7(t,e,n,i){var r=1e-12,s=r*r,o=30,a,l,c,p,d,f,y,g,b,x,A,T,w,_=t.x,M=t.y,I=t.z?t.z:0,N,C,P;if(a=Math.sqrt(_*_+M*M),l=Math.sqrt(_*_+M*M+I*I),a/n<r){if(N=0,l/n<r)return C=at,P=-i,{x:t.x,y:t.y,z:t.z}}else N=Math.atan2(M,_);c=I/l,p=a/l,d=1/Math.sqrt(1-e*(2-e)*p*p),g=p*(1-e)*d,b=c*d,w=0;do w++,y=n/Math.sqrt(1-e*b*b),P=a*g+I*b-y*(1-e*b*b),f=e*y/(y+P),d=1/Math.sqrt(1-f*(2-f)*p*p),x=p*(1-f)*d,A=c*d,T=A*g-x*b,g=x,b=A;while(T*T>s&&w<o);return C=Math.atan(A/Math.abs(x)),{x:N,y:C,z:P}}function cct(t,e,n){if(e===cu)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===uu){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+i,y:c*(l*t.x+t.y-o*t.z)+r,z:c*(-a*t.x+o*t.y+t.z)+s}}}function uct(t,e,n){if(e===cu)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===uu){var i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],p=(t.x-i)/c,d=(t.y-r)/c,f=(t.z-s)/c;return{x:p+l*d-a*f,y:-l*p+d+o*f,z:a*p-o*d+f}}}function z1(t){return t===cu||t===uu}function hct(t,e,n){if(lct(t,e)||t.datum_type===OE||e.datum_type===OE)return n;var i=t.a,r=t.es;if(t.datum_type===ap){var s=v7(t,!1,n);if(s!==0)return;i=JL,r=XL}var o=e.a,a=e.b,l=e.es;if(e.datum_type===ap&&(o=JL,a=clt,l=XL),r===l&&i===o&&!z1(t.datum_type)&&!z1(e.datum_type))return n;if(n=y7(n,r,i),z1(t.datum_type)&&(n=cct(n,t.datum_type,t.datum_params)),z1(e.datum_type)&&(n=uct(n,e.datum_type,e.datum_params)),n=g7(n,l,o,a),e.datum_type===ap){var c=v7(e,!0,n);if(c!==0)return}return n}function v7(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-n.x,y:n.y},r={x:Number.NaN,y:Number.NaN},s=[];t:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(s.push(a.name),a.isNull){r=i;break}if(a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,p=l.length;c<p;c++){var d=l[c],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-f,g=d.ll[1]-f,b=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,x=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(g>i.y||y>i.x||x<i.y||b<i.x)&&(r=pct(i,e,d),!isNaN(r.x)))break t}}return isNaN(r.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*lr+" "+i.y*lr+" tried: '"+s+"'"),-1):(n.x=-r.x,n.y=r.y,0)}function pct(t,e,n){var i={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return i;var r={x:t.x,y:t.y};r.x-=n.ll[0],r.y-=n.ll[1],r.x=yt(r.x-Math.PI)+Math.PI;var s=b7(r,n);if(e){if(isNaN(s.x))return i;s.x=r.x-s.x,s.y=r.y-s.y;var o=9,a=1e-12,l,c;do{if(c=b7(s,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:r.x-(c.x+s.x),y:r.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=yt(s.x+n.ll[0]),i.y=s.y+n.ll[1]}else isNaN(s.x)||(i.x=t.x+s.x,i.y=t.y+s.y);return i}function b7(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},i={x:Math.floor(n.x),y:Math.floor(n.y)},r={x:n.x-1*i.x,y:n.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=e.lim[0]||i.y<0||i.y>=e.lim[1])return s;o=i.y*e.lim[0]+i.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var c={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var p={x:e.cvs[o][0],y:e.cvs[o][1]},d=r.x*r.y,f=r.x*(1-r.y),y=(1-r.x)*(1-r.y),g=(1-r.x)*r.y;return s.x=y*a.x+f*l.x+g*p.x+d*c.x,s.y=y*a.y+f*l.y+g*p.y+d*c.y,s}function _7(t,e,n){var i=n.x,r=n.y,s=n.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(o=i,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=r,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),t.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":n[a]!==void 0&&(c.z=o);break;case"d":n[a]!==void 0&&(c.z=-o);break;default:return null}return c}function w7(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function dct(t){x7(t.x),x7(t.y)}function x7(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function fct(t,e){return(t.datum.datum_type===cu||t.datum.datum_type===uu||t.datum.datum_type===ap)&&e.datumCode!=="WGS84"||(e.datum.datum_type===cu||e.datum.datum_type===uu||e.datum.datum_type===ap)&&t.datumCode!=="WGS84"}function B1(t,e,n,i){var r;Array.isArray(n)?n=w7(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(dct(n),t.datum&&e.datum&&fct(t,e)&&(r=new ls("WGS84"),n=B1(t,r,n,i),t=r),i&&t.axis!=="enu"&&(n=_7(t,!1,n)),t.projName==="longlat")n={x:n.x*bn,y:n.y*bn,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=hct(t.datum,e.datum,n),!!n)return n=n,e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*lr,y:n.y*lr,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),i&&e.axis!=="enu"?_7(e,!0,n):(n&&!s&&delete n.z,n)}var E7=ls("WGS84");function DE(t,e,n,i){var r,s,o;return Array.isArray(n)?(r=B1(t,e,n,i)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof r.z=="number"?[r.x,r.y,r.z].concat(n.slice(3)):[r.x,r.y,n[2]].concat(n.slice(3)):[r.x,r.y].concat(n.slice(2)):[r.x,r.y]):(s=B1(t,e,n,i),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function W1(t){return t instanceof ls?t:typeof t=="object"&&"oProj"in t?t.oProj:ls(t)}function mct(t,e,n){var i,r,s=!1,o;return typeof e>"u"?(r=W1(t),i=E7,s=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,r=W1(t),i=E7,s=!0),i||(i=W1(t)),r||(r=W1(e)),n?DE(i,r,n):(o={forward:function(a,l){return DE(i,r,a,l)},inverse:function(a,l){return DE(r,i,a,l)}},s&&(o.oProj=r),o)}var S7=6,A7="AJSAJS",T7="AFAFAF",up=65,ur=73,cs=79,cm=86,um=90;const yct={forward:M7,inverse:gct,toPoint:I7};function M7(t,e){return e=e||5,_ct(vct({lat:t[1],lon:t[0]}),e)}function gct(t){var e=jE(C7(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function I7(t){var e=jE(C7(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function FE(t){return t*(Math.PI/180)}function O7(t){return 180*(t/Math.PI)}function vct(t){var e=t.lat,n=t.lon,i=6378137,r=.00669438,s=.9996,o,a,l,c,p,d,f,y=FE(e),g=FE(n),b,x;x=Math.floor((n+180)/6)+1,n===180&&(x=60),e>=56&&e<64&&n>=3&&n<12&&(x=32),e>=72&&e<84&&(n>=0&&n<9?x=31:n>=9&&n<21?x=33:n>=21&&n<33?x=35:n>=33&&n<42&&(x=37)),o=(x-1)*6-180+3,b=FE(o),a=r/(1-r),l=i/Math.sqrt(1-r*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),p=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(g-b),f=i*((1-r/4-3*r*r/64-5*r*r*r/256)*y-(3*r/8+3*r*r/32+45*r*r*r/1024)*Math.sin(2*y)+(15*r*r/256+45*r*r*r/1024)*Math.sin(4*y)-35*r*r*r/3072*Math.sin(6*y));var A=s*l*(d+(1-c+p)*d*d*d/6+(5-18*c+c*c+72*p-58*a)*d*d*d*d*d/120)+5e5,T=s*(f+l*Math.tan(y)*(d*d/2+(5-c+9*p+4*p*p)*d*d*d*d/24+(61-58*c+c*c+600*p-330*a)*d*d*d*d*d*d/720));return e<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(A),zoneNumber:x,zoneLetter:bct(e)}}function jE(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),p,d,f,y,g,b,x,A,T,w=n-5e5,_=e;i<"N"&&(_-=1e7),x=(r-1)*6-180+3,l=a/(1-a),b=_/s,A=b/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=A+(3*c/2-27*c*c*c/32)*Math.sin(2*A)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*A)+151*c*c*c/96*Math.sin(6*A),p=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),f=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),g=w/(p*s);var M=T-p*Math.tan(T)/y*(g*g/2-(5+3*d+10*f-4*f*f-9*l)*g*g*g*g/24+(61+90*d+298*f+45*d*d-252*l-3*f*f)*g*g*g*g*g*g/720);M=O7(M);var I=(g-(1+2*d+f)*g*g*g/6+(5-2*f+28*d-3*f*f+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(T);I=x+O7(I);var N;if(t.accuracy){var C=jE({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});N={top:C.lat,right:C.lon,bottom:M,left:I}}else N={lat:M,lon:I};return N}function bct(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function _ct(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+wct(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function wct(t,e,n){var i=N7(n),r=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return xct(r,s,i)}function N7(t){var e=t%S7;return e===0&&(e=S7),e}function xct(t,e,n){var i=n-1,r=A7.charCodeAt(i),s=T7.charCodeAt(i),o=r+t-1,a=s+e,l=!1;o>um&&(o=o-um+up-1,l=!0),(o===ur||r<ur&&o>ur||(o>ur||r<ur)&&l)&&o++,(o===cs||r<cs&&o>cs||(o>cs||r<cs)&&l)&&(o++,o===ur&&o++),o>um&&(o=o-um+up-1),a>cm?(a=a-cm+up-1,l=!0):l=!1,(a===ur||s<ur&&a>ur||(a>ur||s<ur)&&l)&&a++,(a===cs||s<cs&&a>cs||(a>cs||s<cs)&&l)&&(a++,a===ur&&a++),a>cm&&(a=a-cm+up-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function C7(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,i="",r,s=0;!/[A-Z]/.test(r=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;i+=r,s++}var o=parseInt(i,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var l=N7(o),c=Ect(n.charAt(0),l),p=Sct(n.charAt(1),l);p<Act(a);)p+=2e6;var d=e-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var f=d/2,y=0,g=0,b,x,A,T,w;return f>0&&(b=1e5/Math.pow(10,f),x=t.substring(s,s+f),y=parseFloat(x)*b,A=t.substring(s+f),g=parseFloat(A)*b),T=y+c,w=g+p,{easting:T,northing:w,zoneLetter:a,zoneNumber:o,accuracy:b}}function Ect(t,e){for(var n=A7.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===ur&&n++,n===cs&&n++,n>um){if(r)throw"Bad character: "+t;n=up,r=!0}i+=1e5}return i}function Sct(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=T7.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===ur&&n++,n===cs&&n++,n>cm){if(r)throw"Bad character: "+t;n=up,r=!0}i+=1e5}return i}function Act(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function hp(t,e,n){if(!(this instanceof hp))return new hp(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var i=t.split(",");this.x=parseFloat(i[0]),this.y=parseFloat(i[1]),this.z=parseFloat(i[2])||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}hp.fromMGRS=function(t){return new hp(I7(t))},hp.prototype.toMGRS=function(t){return M7([this.x,this.y],t)};var Tct=1,Mct=.25,k7=.046875,P7=.01953125,L7=.01068115234375,Ict=.75,Oct=.46875,Nct=.013020833333333334,Cct=.007120768229166667,kct=.3645833333333333,Pct=.005696614583333333,Lct=.3076171875;function GE(t){var e=[];e[0]=Tct-t*(Mct+t*(k7+t*(P7+t*L7))),e[1]=t*(Ict-t*(k7+t*(P7+t*L7)));var n=t*t;return e[2]=n*(Oct-t*(Nct+t*Cct)),n*=t,e[3]=n*(kct-t*Pct),e[4]=n*t*Lct,e}function pp(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}var Rct=20;function $E(t,e,n){for(var i=1/(1-e),r=t,s=Rct;s;--s){var o=Math.sin(r),a=1-e*o*o;if(a=(pp(r,o,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<ft)return r}return r}function Dct(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=GE(this.es),this.ml0=pp(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function Fct(t){var e=t.x,n=t.y,i=yt(e-this.long0,this.over),r,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*i,p=Math.pow(c,2),d=this.ep2*Math.pow(l,2),f=Math.pow(d,2),y=Math.abs(l)>ft?Math.tan(n):0,g=Math.pow(y,2),b=Math.pow(g,2);r=1-this.es*Math.pow(a,2),c=c/Math.sqrt(r);var x=pp(n,a,l,this.en);s=this.a*(this.k0*c*(1+p/6*(1-g+d+p/20*(5-18*g+b+14*d-58*g*d+p/42*(61+179*b-b*g-479*g)))))+this.x0,o=this.a*(this.k0*(x-this.ml0+a*i*c/2*(1+p/12*(5-g+9*d+4*f+p/30*(61+b-58*g+270*d-330*g*d+p/56*(1385+543*b-b*g-3111*g))))))+this.y0}else{var A=l*Math.sin(i);if(Math.abs(Math.abs(A)-1)<ft)return 93;if(s=.5*this.a*this.k0*Math.log((1+A)/(1-A))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(A,2)),A=Math.abs(o),A>=1){if(A-1>ft)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=s,t.y=o,t}function jct(t){var e,n,i,r,s=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,n=$E(e,this.es,this.en),Math.abs(n)<at){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>ft?Math.tan(n):0,p=this.ep2*Math.pow(l,2),d=Math.pow(p,2),f=Math.pow(c,2),y=Math.pow(f,2);e=1-this.es*Math.pow(a,2);var g=s*Math.sqrt(e)/this.k0,b=Math.pow(g,2);e=e*c,i=n-e*b/(1-this.es)*.5*(1-b/12*(5+3*f-9*p*f+p-4*d-b/30*(61+90*f-252*p*f+45*y+46*p-b/56*(1385+3633*f+4095*y+1574*y*f)))),r=yt(this.long0+g*(1-b/6*(1+2*f+p-b/20*(5+28*f+24*y+8*p*f+6*p-b/42*(61+662*f+1320*y+720*y*f))))/l,this.over)}else i=at*om(o),r=0;else{var x=Math.exp(s/this.k0),A=.5*(x-1/x),T=this.lat0+o/this.k0,w=Math.cos(T);e=Math.sqrt((1-Math.pow(w,2))/(1+Math.pow(A,2))),i=Math.asin(e),o<0&&(i=-i),A===0&&w===0?r=0:r=yt(Math.atan2(A,w)+this.long0,this.over)}return t.x=r,t.y=i,t}var Gct=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const q1={init:Dct,forward:Fct,inverse:jct,names:Gct};function R7(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function hr(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function $ct(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function Uct(t){var e=Math.abs(t);return e=$ct(e*(1+e/(hr(1,e)+1))),t<0?-e:e}function UE(t,e){for(var n=2*Math.cos(2*e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return e+o*Math.sin(2*e)}function Vct(t,e){for(var n=2*Math.cos(e),i=t.length-1,r=t[i],s=0,o;--i>=0;)o=-s+n*r+t[i],s=r,r=o;return Math.sin(e)*o}function zct(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function D7(t,e,n){for(var i=Math.sin(e),r=Math.cos(e),s=R7(n),o=zct(n),a=2*r*o,l=-2*i*s,c=t.length-1,p=t[c],d=0,f=0,y=0,g,b;--c>=0;)g=f,b=d,f=p,d=y,p=-g+a*f-l*d+t[c],y=-b+l*f+a*d;return a=i*o,l=r*s,[a*p-l*y,a*y+l*p]}function Bct(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(q1.init.apply(this),this.forward=q1.forward,this.inverse=q1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var i=UE(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Vct(this.gtu,2*i))}function Wct(t){var e=yt(t.x-this.long0,this.over),n=t.y;n=UE(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),s=Math.sin(e),o=Math.cos(e);n=Math.atan2(i,o*r),e=Math.atan2(s*r,hr(i,r*o)),e=Uct(Math.tan(e));var a=D7(this.gtu,2*n,2*e);n=n+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function qct(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var s=D7(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(R7(e));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(e),c=Math.cos(e);n=Math.atan2(o*c,hr(l,c*a)),e=Math.atan2(l,c*a),i=yt(e+this.long0,this.over),r=UE(this.cgb,n)}else i=1/0,r=1/0;return t.x=i,t.y=r,t}var Hct=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const H1={init:Bct,forward:Wct,inverse:qct,names:Hct};function Zct(t,e){if(t===void 0){if(t=Math.floor((yt(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var Yct="etmerc";function Jct(){var t=Zct(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*bn,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,H1.init.apply(this),this.forward=H1.forward,this.inverse=H1.inverse}var Xct=["Universal Transverse Mercator System","utm"];const Qct={init:Jct,names:Xct,dependsOn:Yct};function VE(t,e){return Math.pow((1-t)/(1+t),e)}var Kct=20;function tut(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ee)/(Math.pow(Math.tan(.5*this.lat0+Ee),this.C)*VE(this.e*t,this.ratexp))}function eut(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Ee),this.C)*VE(this.e*Math.sin(n),this.ratexp))-at,t.x=this.C*e,t}function nut(t){for(var e=1e-14,n=t.x/this.C,i=t.y,r=Math.pow(Math.tan(.5*i+Ee)/this.K,1/this.C),s=Kct;s>0&&(i=2*Math.atan(r*VE(this.e*Math.sin(t.y),-.5*this.e))-at,!(Math.abs(i-t.y)<e));--s)t.y=i;return s?(t.x=n,t.y=i,t):null}const zE={init:tut,forward:eut,inverse:nut};function iut(){zE.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function rut(t){var e,n,i,r;return t.x=yt(t.x-this.long0,this.over),zE.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function sut(t){var e,n,i,r,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=hr(t.x,t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),n=Math.cos(o),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),i=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,zE.inverse.apply(this,[t]),t.x=yt(t.x+this.long0,this.over),t}var out=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const aut={init:iut,forward:rut,inverse:sut,names:out};function BE(t,e,n){return e*=n,Math.tan(.5*(at+t))*Math.pow((1-e)/(1+e),.5*n)}function lut(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ft&&(this.k0=.5*(1+om(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ft&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ft&&Math.abs(Math.cos(this.lat_ts))>ft&&(this.k0=.5*this.cons*xo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/qs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=xo(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(BE(this.lat0,this.sinlat0,this.e))-at,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function cut(t){var e=t.x,n=t.y,i=Math.sin(n),r=Math.cos(n),s,o,a,l,c,p,d=yt(e-this.long0,this.over);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=ft&&Math.abs(n+this.lat0)<=ft?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*r*Math.cos(d)),t.x=this.a*s*r*Math.sin(d)+this.x0,t.y=this.a*s*(this.coslat0*i-this.sinlat0*r*Math.cos(d))+this.y0,t):(o=2*Math.atan(BE(n,i,this.e))-at,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=ft?(c=qs(this.e,n*this.con,this.con*i),p=2*this.a*this.k0*c/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<ft?(s=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),t.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),t.x=s*l*Math.sin(d)+this.x0,t))}function uut(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=ft?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<ft?this.lat0>0?e=yt(this.long0+Math.atan2(t.x,-1*t.y),this.over):e=yt(this.long0+Math.atan2(t.x,t.y),this.over):e=yt(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a)),this.over),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=ft){if(o<=ft)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),n=this.con*am(this.e,i),e=this.con*yt(this.con*this.long0+Math.atan2(t.x,-1*t.y),this.over)}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=ft?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o),e=yt(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)),this.over)),n=-1*am(this.e,Math.tan(.5*(at+s)));return t.x=e,t.y=n,t}var hut=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const put={init:lut,forward:cut,inverse:uut,names:hut,ssfn_:BE};function dut(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,s=2*r-Math.pow(r,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*c}function fut(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function mut(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+o/this.alpha,l=0,c=s,p=-1e3,d=0;Math.abs(c-p)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),p=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var yut=["somerc"];const gut={init:dut,forward:fut,inverse:mut,names:yut};var dp=1e-7;function vut(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1||e.indexOf(d7(n))!==-1}function but(){var t,e,n,i,r,s,o,a,l,c,p=0,d,f=0,y=0,g=0,b=0,x=0,A=0;this.no_off=vut(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var w=!1;if("rectified_grid_angle"in this&&(w=!0),T&&(A=this.alpha),w&&(p=this.rectified_grid_angle),T||w)f=this.longc;else if(y=this.long1,b=this.lat1,g=this.long2,x=this.lat2,Math.abs(b-x)<=dp||(t=Math.abs(b))<=dp||Math.abs(t-at)<=dp||Math.abs(Math.abs(this.lat0)-at)<=dp||Math.abs(Math.abs(x)-at)<=dp)throw new Error;var _=1-this.es;e=Math.sqrt(_),Math.abs(this.lat0)>ft?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/_),this.A=this.B*this.k0*e/t,i=this.B*e/(n*Math.sqrt(t)),r=i*i-1,r<=0?r=0:(r=Math.sqrt(r),this.lat0<0&&(r=-r)),this.E=r+=i,this.E*=Math.pow(qs(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=i=r=1),T||w?(T?(d=Math.asin(Math.sin(A)/i),w||(p=A)):(d=p,A=Math.asin(i*Math.sin(d))),this.lam0=f-Math.asin(.5*(r-1/r)*Math.tan(d))/this.B):(s=Math.pow(qs(this.e,b,Math.sin(b)),this.B),o=Math.pow(qs(this.e,x,Math.sin(x)),this.B),r=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),t=y-g,t<-Math.PI?g-=rm:t>Math.PI&&(g+=rm),this.lam0=yt(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B,this.over),d=Math.atan(2*Math.sin(this.B*yt(y-this.lam0,this.over))/(r-1/r)),p=A=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(A))),this.lat0<0&&(this.u_0=-this.u_0)),r=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Ee-r)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ee+r))}function _ut(t){var e={},n,i,r,s,o,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-at)>ft){if(o=this.E/Math.pow(qs(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,n=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*t.x),r=(n*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(r)-1)<ft)throw new Error;c=.5*this.ArB*Math.log((1-r)/(1+r)),a=Math.cos(this.B*t.x),Math.abs(a)<dp?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function wut(t){var e,n,i,r,s,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*n),r=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*e),a=(o*this.cosgam+r*this.singam)/s,Math.abs(Math.abs(a)-1)<ft)l.x=0,l.y=a<0?-at:at;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=am(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(r*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var xut=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const Eut={init:but,forward:_ut,inverse:wut,names:xut};function Sut(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ft)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=xo(this.e,e,n),r=qs(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=xo(this.e,s,o),l=qs(this.e,this.lat2,s),c=Math.abs(Math.abs(this.lat0)-at)<ft?0:qs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>ft?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Aut(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=ft&&(n=om(n)*(at-2*ft));var i=Math.abs(Math.abs(n)-at),r,s;if(i>ft)r=qs(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(r,this.ns);else{if(i=n*this.ns,i<=0)return null;s=0}var o=this.ns*yt(e-this.long0,this.over);return t.x=this.k0*(s*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,t}function Tut(t){var e,n,i,r,s,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),n=1):(e=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*o,n*a)),e!==0||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),r=am(this.e,i),r===-9999)return null}else r=-at;return s=yt(l/this.ns+this.long0,this.over),t.x=s,t.y=r,t}var Mut=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Iut={init:Sut,forward:Aut,inverse:Tut,names:Mut};function Out(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Nut(t){var e,n,i,r,s,o,a,l=t.x,c=t.y,p=yt(l-this.long0,this.over);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-p*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),s=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Cut(t){var e,n,i,r,s,o,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),r=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,p+=1;while(l===0&&p<15);return p>=15?null:t}var kut=["Krovak","krovak"];const Put={init:Out,forward:Nut,inverse:Cut,names:kut};function Hi(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function hm(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function pm(t){return .375*t*(1+.25*t*(1+.46875*t))}function dm(t){return .05859375*t*t*(1+.75*t)}function fm(t){return t*t*t*(35/3072)}function WE(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function Ml(t){return Math.abs(t)<at?t:t-om(t)*Math.PI}function Z1(t,e,n,i,r){var s,o;s=t/e;for(var a=0;a<15;a++)if(o=(t-(e*s-n*Math.sin(2*s)+i*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*i*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function Lut(){this.sphere||(this.e0=hm(this.es),this.e1=pm(this.es),this.e2=dm(this.es),this.e3=fm(this.es),this.ml0=this.a*Hi(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Rut(t){var e,n,i=t.x,r=t.y;if(i=yt(i-this.long0,this.over),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var s=Math.sin(r),o=Math.cos(r),a=WE(this.a,this.e,s),l=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),p=c*c,d=this.es*o*o/(1-this.es),f=this.a*Hi(this.e0,this.e1,this.e2,this.e3,r);e=a*c*(1-p*l*(1/6-(8-l+8*d)*p/120)),n=f-this.ml0+a*s/o*p*(.5+(5-l+6*d)*p/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function Dut(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r;if(this.sphere){var s=n+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(e)),r=Math.atan2(Math.tan(e),Math.cos(s))}else{var o=this.ml0/this.a+n,a=Z1(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-at)<=ft)return t.x=this.long0,t.y=at,n<0&&(t.y*=-1),t;var l=WE(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(a),2),d=e*this.a/l,f=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*p)*d*d/24),r=d*(1-f*(p/3+(1+3*p)*p*f/15))/Math.cos(a)}return t.x=yt(r+this.long0,this.over),t.y=Ml(i),t}var Fut=["Cassini","Cassini_Soldner","cass"];const jut={init:Lut,forward:Rut,inverse:Dut,names:Fut};function Il(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var qE=1,HE=2,ZE=3,Y1=4;function Gut(){var t=Math.abs(this.lat0);if(Math.abs(t-at)<ft?this.mode=this.lat0<0?qE:HE:Math.abs(t)<ft?this.mode=ZE:this.mode=Y1,this.es>0){var e;switch(this.qp=Il(this.e,1),this.mmf=.5/(1-this.es),this.apa=Zut(this.es),this.mode){case HE:this.dd=1;break;case qE:this.dd=1;break;case ZE:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Y1:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Il(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Y1&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function $ut(t){var e,n,i,r,s,o,a,l,c,p,d=t.x,f=t.y;if(d=yt(d-this.long0,this.over),this.sphere){if(s=Math.sin(f),p=Math.cos(f),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+p*i:1+this.sinph0*s+this.cosph0*p*i,n<=ft)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(d),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*p*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(f+this.lat0)<ft)return null;n=Ee-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(d),n*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),r=Math.sin(d),s=Math.sin(f),o=Il(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=at+f,o=this.qp-o;break;case this.S_POLE:c=f-at,o=this.qp+o;break}if(Math.abs(c)<ft)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):n=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,e=this.xmf*c*l*r;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(c=Math.sqrt(o))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function Uut(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,i,r,s,o,a,l,c;if(this.sphere){var p=0,d,f=0;if(d=Math.sqrt(e*e+n*n),r=d*.5,r>1)return null;switch(r=2*Math.asin(r),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(r),p=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(d)<=ft?0:Math.asin(n*f/d),e*=f,n=p*d;break;case this.OBLIQ:r=Math.abs(d)<=ft?this.lat0:Math.asin(p*this.sinph0+n*f*this.cosph0/d),e*=f*this.cosph0,n=(p-Math.sin(r)*this.sinph0)*d;break;case this.N_POLE:n=-n,r=at-r;break;case this.S_POLE:r-=at;break}i=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<ft)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*c,n=l*this.cosb1*s-n*this.sinb1*o):(c=n*o/l,a=this.qp*c,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=e*e+n*n,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(e,n),r=Yut(Math.asin(c),this.apa)}return t.x=yt(this.long0+i,this.over),t.y=r,t}var Vut=.3333333333333333,zut=.17222222222222222,But=.10257936507936508,Wut=.06388888888888888,qut=.0664021164021164,Hut=.016415012942191543;function Zut(t){var e,n=[];return n[0]=t*Vut,e=t*t,n[0]+=e*zut,n[1]=e*Wut,e*=t,n[0]+=e*But,n[1]+=e*qut,n[2]=e*Hut,n}function Yut(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var Jut=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Xut={init:Gut,forward:$ut,inverse:Uut,names:Jut,S_POLE:qE,N_POLE:HE,EQUIT:ZE,OBLIQ:Y1};function Ol(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Qut(){Math.abs(this.lat1+this.lat2)<ft||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=xo(this.e3,this.sin_po,this.cos_po),this.qs1=Il(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=xo(this.e3,this.sin_po,this.cos_po),this.qs2=Il(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Il(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>ft?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Kut(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Il(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*yt(e-this.long0,this.over),o=r*Math.sin(s)+this.x0,a=this.rh-r*Math.cos(s)+this.y0;return t.x=o,t.y=a,t}function tht(t){var e,n,i,r,s,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,e!==0&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,n)),s=yt(r/this.ns0+this.long0,this.over),t.x=s,t.y=o,t}function eht(t,e){var n,i,r,s,o,a=Ol(.5*e);if(t<ft)return a;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(a),i=Math.cos(a),r=t*n,s=1-r*r,o=.5*s*s/i*(e/(1-l)-n/s+.5/t*Math.log((1-r)/(1+r))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var nht=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const iht={init:Qut,forward:Kut,inverse:tht,names:nht,phi1z:eht};function rht(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function sht(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=yt(c-this.long0,this.over),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,o>0||Math.abs(o)<=ft?(a=this.x0+this.a*s*n*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function oht(t){var e,n,i,r,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),o=Ol(i*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),s=yt(this.long0+s,this.over)):(o=this.phic0,s=0),t.x=s,t.y=o,t}var aht=["gnom"];const lht={init:rht,forward:sht,inverse:oht,names:aht};function cht(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*at:at;for(var i=Math.asin(.5*e),r,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=t*s,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),i+=r,Math.abs(r)<=1e-10)return i;return NaN}function uht(){this.sphere||(this.k0=xo(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function hht(t){var e=t.x,n=t.y,i,r,s=yt(e-this.long0,this.over);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=Il(this.e,Math.sin(n));i=this.x0+this.a*this.k0*s,r=this.y0+this.a*o*.5/this.k0}return t.x=i,t.y=r,t}function pht(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=yt(this.long0+t.x/this.a/Math.cos(this.lat_ts),this.over),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=cht(this.e,2*t.y*this.k0/this.a),e=yt(this.long0+t.x/(this.a*this.k0),this.over)),t.x=e,t.y=n,t}var dht=["cea"];const fht={init:uht,forward:hht,inverse:pht,names:dht};function mht(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function yht(t){var e=t.x,n=t.y,i=yt(e-this.long0,this.over),r=Ml(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function ght(t){var e=t.x,n=t.y;return t.x=yt(this.long0+(e-this.x0)/(this.a*this.rc),this.over),t.y=Ml(this.lat0+(n-this.y0)/this.a),t}var vht=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const bht={init:mht,forward:yht,inverse:ght,names:vht};var F7=20;function _ht(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hm(this.es),this.e1=pm(this.es),this.e2=dm(this.es),this.e3=fm(this.es),this.ml0=this.a*Hi(this.e0,this.e1,this.e2,this.e3,this.lat0)}function wht(t){var e=t.x,n=t.y,i,r,s,o=yt(e-this.long0,this.over);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=ft?(i=this.a*o,r=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(n),r=this.a*(Ml(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=ft)i=this.a*o,r=-1*this.ml0;else{var a=WE(this.a,this.e,Math.sin(n))/Math.tan(n);i=a*Math.sin(s),r=this.a*Hi(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return t.x=i+this.x0,t.y=r+this.y0,t}function xht(t){var e,n,i,r,s,o,a,l,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=ft)e=yt(i/this.a+this.long0,this.over),n=0;else{o=this.lat0+r/this.a,a=i*i/this.a/this.a+o*o,l=o;var p;for(s=F7;s;--s)if(p=Math.tan(l),c=-1*(o*(l*p+1)-l-.5*(l*l+a)*p)/((l-o)/p-1),l+=c,Math.abs(c)<=ft){n=l;break}e=yt(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n),this.over)}else if(Math.abs(r+this.ml0)<=ft)n=0,e=yt(this.long0+i/this.a,this.over);else{o=(this.ml0+r)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,f,y,g,b;for(s=F7;s;--s)if(b=this.e*Math.sin(l),d=Math.sqrt(1-b*b)*Math.tan(l),f=this.a*Hi(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=f/this.a,c=(o*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*d)+(o-g)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=ft){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=yt(this.long0+Math.asin(i*d/this.a)/Math.sin(n),this.over)}return t.x=e,t.y=n,t}var Eht=["Polyconic","American_Polyconic","poly"];const Sht={init:_ht,forward:wht,inverse:xht,names:Eht};function Aht(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Tht(t){var e,n=t.x,i=t.y,r=i-this.lat0,s=n-this.long0,o=r/im*1e-5,a=s,l=1,c=0;for(e=1;e<=10;e++)l=l*o,c=c+this.A[e]*l;var p=c,d=a,f=1,y=0,g,b,x=0,A=0;for(e=1;e<=6;e++)g=f*p-y*d,b=y*p+f*d,f=g,y=b,x=x+this.B_re[e]*f-this.B_im[e]*y,A=A+this.B_im[e]*f+this.B_re[e]*y;return t.x=A*this.a+this.x0,t.y=x*this.a+this.y0,t}function Mht(t){var e,n=t.x,i=t.y,r=n-this.x0,s=i-this.y0,o=s/this.a,a=r/this.a,l=1,c=0,p,d,f=0,y=0;for(e=1;e<=6;e++)p=l*o-c*a,d=c*o+l*a,l=p,c=d,f=f+this.C_re[e]*l-this.C_im[e]*c,y=y+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var b=f,x=y,A,T,w=o,_=a;for(e=2;e<=6;e++)A=b*f-x*y,T=x*f+b*y,b=A,x=T,w=w+(e-1)*(this.B_re[e]*b-this.B_im[e]*x),_=_+(e-1)*(this.B_im[e]*b+this.B_re[e]*x);b=1,x=0;var M=this.B_re[1],I=this.B_im[1];for(e=2;e<=6;e++)A=b*f-x*y,T=x*f+b*y,b=A,x=T,M=M+e*(this.B_re[e]*b-this.B_im[e]*x),I=I+e*(this.B_im[e]*b+this.B_re[e]*x);var N=M*M+I*I;f=(w*M+_*I)/N,y=(_*M-w*I)/N}var C=f,P=y,D=1,U=0;for(e=1;e<=9;e++)D=D*C,U=U+this.D[e]*D;var j=this.lat0+U*im*1e5,G=this.long0+P;return t.x=G,t.y=j,t}var Iht=["New_Zealand_Map_Grid","nzmg"];const Oht={init:Aht,forward:Tht,inverse:Mht,names:Iht};function Nht(){}function Cht(t){var e=t.x,n=t.y,i=yt(e-this.long0,this.over),r=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=s,t}function kht(t){t.x-=this.x0,t.y-=this.y0;var e=yt(this.long0+t.x/this.a,this.over),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var Pht=["Miller_Cylindrical","mill"];const Lht={init:Nht,forward:Cht,inverse:kht,names:Pht};var Rht=20;function Dht(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=GE(this.es)}function Fht(t){var e,n,i=t.x,r=t.y;if(i=yt(i-this.long0,this.over),this.sphere){if(!this.m)r=this.n!==1?Math.asin(this.n*Math.sin(r)):r;else for(var s=this.n*Math.sin(r),o=Rht;o;--o){var a=(this.m*r+Math.sin(r)-s)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<ft)break}e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),c=Math.cos(r);n=this.a*pp(r,l,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function jht(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(e))),this.m?e=Ol((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Ol(Math.sin(e)/this.n)),i=yt(i+this.long0,this.over),e=Ml(e)):(e=$E(t.y/this.a,this.es,this.en),r=Math.abs(e),r<at?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=yt(n,this.over)):r-ft<at&&(i=this.long0)),t.x=i,t.y=e,t}var Ght=["Sinusoidal","sinu"];const $ht={init:Dht,forward:Fht,inverse:jht,names:Ght};function Uht(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function Vht(t){for(var e=t.x,n=t.y,i=yt(e-this.long0,this.over),r=n,s=Math.PI*Math.sin(n);;){var o=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=o,Math.abs(o)<ft)break}r/=2,Math.PI/2-Math.abs(n)<ft&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t}function zht(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=yt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)),this.over);i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}var Bht=["Mollweide","moll"];const Wht={init:Uht,forward:Vht,inverse:zht,names:Bht};function qht(){Math.abs(this.lat1+this.lat2)<ft||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hm(this.es),this.e1=pm(this.es),this.e2=dm(this.es),this.e3=fm(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=xo(this.e,this.sin_phi,this.cos_phi),this.ml1=Hi(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ft?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=xo(this.e,this.sin_phi,this.cos_phi),this.ml2=Hi(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Hi(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Hht(t){var e=t.x,n=t.y,i;if(this.sphere)i=this.a*(this.g-n);else{var r=Hi(this.e0,this.e1,this.e2,this.e3,n);i=this.a*(this.g-r)}var s=this.ns*yt(e-this.long0,this.over),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return t.x=o,t.y=a,t}function Zht(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=yt(this.long0+s/this.ns,this.over),i=Ml(this.g-n/this.a),t.x=r,t.y=i,t;var o=this.g-n/this.a;return i=Z1(o,this.e0,this.e1,this.e2,this.e3),r=yt(this.long0+s/this.ns,this.over),t.x=r,t.y=i,t}var Yht=["Equidistant_Conic","eqdc"];const Jht={init:qht,forward:Hht,inverse:Zht,names:Yht};function Xht(){this.R=this.a}function Qht(t){var e=t.x,n=t.y,i=yt(e-this.long0,this.over),r,s;Math.abs(n)<=ft&&(r=this.x0+this.R*i,s=this.y0);var o=Ol(2*Math.abs(n/Math.PI));(Math.abs(i)<=ft||Math.abs(Math.abs(n)-at)<=ft)&&(r=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),p=Math.cos(o),d=p/(c+p-1),f=d*d,y=d*(2/c-1),g=y*y,b=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(f-g)))/(g+l);i<0&&(b=-b),r=this.x0+b;var x=l+d;return b=Math.PI*this.R*(y*x-a*Math.sqrt((g+l)*(l+1)-x*x))/(g+l),n>=0?s=this.y0+b:s=this.y0-b,t.x=r,t.y=s,t}function Kht(t){var e,n,i,r,s,o,a,l,c,p,d,f,y;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,i=t.x/d,r=t.y/d,s=i*i+r*r,o=-Math.abs(r)*(1+s),a=o-2*r*r+i*i,l=-2*o+1+2*r*r+s*s,y=r*r/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,p=2*Math.sqrt(-c/3),d=3*y/c/p,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,t.y>=0?n=(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<ft?e=this.long0:e=yt(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-r*r)+s*s))/2/i,this.over),t.x=e,t.y=n,t}var tpt=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const ept={init:Xht,forward:Qht,inverse:Kht,names:tpt};function npt(t,e,n,i,r,s){const o=i-e,a=Math.atan((1-s)*Math.tan(t)),l=Math.atan((1-s)*Math.tan(n)),c=Math.sin(a),p=Math.cos(a),d=Math.sin(l),f=Math.cos(l);let y=o,g,b=100,x,A,T,w,_,M,I,N,C,P,D,U,j,G;do{if(x=Math.sin(y),A=Math.cos(y),T=Math.sqrt(f*x*(f*x)+(p*d-c*f*A)*(p*d-c*f*A)),T===0)return{azi1:0,s12:0};w=c*d+p*f*A,_=Math.atan2(T,w),M=p*f*x/T,I=1-M*M,N=I!==0?w-2*c*d/I:0,C=s/16*I*(4+s*(4-3*I)),g=y,y=o+(1-C)*s*M*(_+C*T*(N+C*w*(-1+2*N*N)))}while(Math.abs(y-g)>1e-12&&--b>0);return b===0?{azi1:NaN,s12:NaN}:(P=I*(r*r-r*(1-s)*(r*(1-s)))/(r*(1-s)*(r*(1-s))),D=1+P/16384*(4096+P*(-768+P*(320-175*P))),U=P/1024*(256+P*(-128+P*(74-47*P))),j=U*T*(N+U/4*(w*(-1+2*N*N)-U/6*N*(-3+4*T*T)*(-3+4*N*N))),G=r*(1-s)*D*(_-j),{azi1:Math.atan2(f*x,p*d-c*f*A),s12:G})}function ipt(t,e,n,i,r,s){const o=Math.atan((1-s)*Math.tan(t)),a=Math.sin(o),l=Math.cos(o),c=Math.sin(n),p=Math.cos(n),d=Math.atan2(a,l*p),f=l*c,y=1-f*f,g=y*(r*r-r*(1-s)*(r*(1-s)))/(r*(1-s)*(r*(1-s))),b=1+g/16384*(4096+g*(-768+g*(320-175*g))),x=g/1024*(256+g*(-128+g*(74-47*g)));let A=i/(r*(1-s)*b),T,w=100,_,M,I,N;do _=Math.cos(2*d+A),M=Math.sin(A),I=Math.cos(A),N=x*M*(_+x/4*(I*(-1+2*_*_)-x/6*_*(-3+4*M*M)*(-3+4*_*_))),T=A,A=i/(r*(1-s)*b)+N;while(Math.abs(A-T)>1e-12&&--w>0);if(w===0)return{lat2:NaN,lon2:NaN};const C=a*M-l*I*p,P=Math.atan2(a*I+l*M*p,(1-s)*Math.sqrt(f*f+C*C)),D=Math.atan2(M*c,l*I-a*M*p),U=s/16*y*(4+s*(4-3*y)),j=D-(1-U)*s*f*(A+U*M*(_+U*I*(-1+2*_*_))),G=e+j;return{lat2:P,lon2:G}}function rpt(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function spt(t){var e=t.x,n=t.y,i=Math.sin(t.y),r=Math.cos(t.y),s=yt(e-this.long0,this.over),o,a,l,c,p,d,f,y,g,b,x;return this.sphere?Math.abs(this.sin_p12-1)<=ft?(t.x=this.x0+this.a*(at-n)*Math.sin(s),t.y=this.y0-this.a*(at-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ft?(t.x=this.x0+this.a*(at+n)*Math.sin(s),t.y=this.y0+this.a*(at+n)*Math.cos(s),t):(g=this.sin_p12*i+this.cos_p12*r*Math.cos(s),f=Math.acos(g),y=f?f/Math.sin(f):1,t.x=this.x0+this.a*y*r*Math.sin(s),t.y=this.y0+this.a*y*(this.cos_p12*i-this.sin_p12*r*Math.cos(s)),t):(o=hm(this.es),a=pm(this.es),l=dm(this.es),c=fm(this.es),Math.abs(this.sin_p12-1)<=ft?(p=this.a*Hi(o,a,l,c,at),d=this.a*Hi(o,a,l,c,n),t.x=this.x0+(p-d)*Math.sin(s),t.y=this.y0-(p-d)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=ft?(p=this.a*Hi(o,a,l,c,at),d=this.a*Hi(o,a,l,c,n),t.x=this.x0+(p+d)*Math.sin(s),t.y=this.y0+(p+d)*Math.cos(s),t):Math.abs(e)<ft&&Math.abs(n-this.lat0)<ft?(t.x=t.y=0,t):(b=npt(this.lat0,this.long0,n,e,this.a,this.f),x=b.azi1,t.x=b.s12*Math.sin(x),t.y=b.s12*Math.cos(x),t))}function opt(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,s,o,a,l,c,p,d,f,y,g,b,x;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*at*this.a?void 0:(n=e/this.a,i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=ft?o=this.lat0:(o=Ol(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-at,Math.abs(a)<=ft?this.lat0>=0?s=yt(this.long0+Math.atan2(t.x,-t.y),this.over):s=yt(this.long0-Math.atan2(-t.x,t.y),this.over):s=yt(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i),this.over)),t.x=s,t.y=o,t)):(l=hm(this.es),c=pm(this.es),p=dm(this.es),d=fm(this.es),Math.abs(this.sin_p12-1)<=ft?(f=this.a*Hi(l,c,p,d,at),e=Math.sqrt(t.x*t.x+t.y*t.y),y=f-e,o=Z1(y/this.a,l,c,p,d),s=yt(this.long0+Math.atan2(t.x,-1*t.y),this.over),t.x=s,t.y=o,t):Math.abs(this.sin_p12+1)<=ft?(f=this.a*Hi(l,c,p,d,at),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-f,o=Z1(y/this.a,l,c,p,d),s=yt(this.long0+Math.atan2(t.x,t.y),this.over),t.x=s,t.y=o,t):(g=Math.atan2(t.x,t.y),b=Math.sqrt(t.x*t.x+t.y*t.y),x=ipt(this.lat0,this.long0,g,b,this.a,this.f),t.x=x.lon2,t.y=x.lat2,t))}var apt=["Azimuthal_Equidistant","aeqd"];const lpt={init:rpt,forward:spt,inverse:opt,names:apt};function cpt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function upt(t){var e,n,i,r,s,o,a,l,c=t.x,p=t.y;return i=yt(c-this.long0,this.over),e=Math.sin(p),n=Math.cos(p),r=Math.cos(i),o=this.sin_p14*e+this.cos_p14*n*r,s=1,(o>0||Math.abs(o)<=ft)&&(a=this.a*s*n*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function hpt(t){var e,n,i,r,s,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Ol(e/this.a),i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=ft?(a=this.lat0,t.x=o,t.y=a,t):(a=Ol(r*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.abs(this.lat0)-at,Math.abs(s)<=ft?(this.lat0>=0?o=yt(this.long0+Math.atan2(t.x,-t.y),this.over):o=yt(this.long0-Math.atan2(-t.x,t.y),this.over),t.x=o,t.y=a,t):(o=yt(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i),this.over),t.x=o,t.y=a,t))}var ppt=["ortho"];const dpt={init:cpt,forward:upt,inverse:hpt,names:ppt};var sn={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Se={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function fpt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=at-Ee/2?this.face=sn.TOP:this.lat0<=-(at-Ee/2)?this.face=sn.BOTTOM:Math.abs(this.long0)<=Ee?this.face=sn.FRONT:Math.abs(this.long0)<=at+Ee?this.face=this.long0>0?sn.RIGHT:sn.LEFT:this.face=sn.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function mpt(t){var e={x:0,y:0},n,i,r,s,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,i=t.x,this.face===sn.TOP)s=at-n,i>=Ee&&i<=at+Ee?(l.value=Se.AREA_0,r=i-at):i>at+Ee||i<=-(at+Ee)?(l.value=Se.AREA_1,r=i>0?i-Mn:i+Mn):i>-(at+Ee)&&i<=-Ee?(l.value=Se.AREA_2,r=i+at):(l.value=Se.AREA_3,r=i);else if(this.face===sn.BOTTOM)s=at+n,i>=Ee&&i<=at+Ee?(l.value=Se.AREA_0,r=-i+at):i<Ee&&i>=-Ee?(l.value=Se.AREA_1,r=-i):i<-Ee&&i>=-(at+Ee)?(l.value=Se.AREA_2,r=-i-at):(l.value=Se.AREA_3,r=i>0?-i+Mn:-i-Mn);else{var c,p,d,f,y,g,b;this.face===sn.RIGHT?i=fp(i,+at):this.face===sn.BACK?i=fp(i,+Mn):this.face===sn.LEFT&&(i=fp(i,-at)),f=Math.sin(n),y=Math.cos(n),g=Math.sin(i),b=Math.cos(i),c=y*b,p=y*g,d=f,this.face===sn.FRONT?(s=Math.acos(c),r=J1(s,d,p,l)):this.face===sn.RIGHT?(s=Math.acos(p),r=J1(s,d,-c,l)):this.face===sn.BACK?(s=Math.acos(-c),r=J1(s,d,-p,l)):this.face===sn.LEFT?(s=Math.acos(-p),r=J1(s,d,c,l)):(s=r=0,l.value=Se.AREA_0)}return a=Math.atan(12/Mn*(r+Math.acos(Math.sin(r)*Math.cos(Ee))-at)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Se.AREA_1?a+=at:l.value===Se.AREA_2?a+=Mn:l.value===Se.AREA_3&&(a+=1.5*Mn),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function ypt(t){var e={lam:0,phi:0},n,i,r,s,o,a,l,c,p,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,i=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Se.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Se.AREA_1,n-=at):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Se.AREA_2,n=n<0?n+Mn:n-Mn):(d.value=Se.AREA_3,n+=at),p=Mn/12*Math.tan(n),o=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(n),s=Math.tan(i),l=1-r*r*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===sn.TOP)c=Math.acos(l),e.phi=at-c,d.value===Se.AREA_0?e.lam=a+at:d.value===Se.AREA_1?e.lam=a<0?a+Mn:a-Mn:d.value===Se.AREA_2?e.lam=a-at:e.lam=a;else if(this.face===sn.BOTTOM)c=Math.acos(l),e.phi=c-at,d.value===Se.AREA_0?e.lam=-a+at:d.value===Se.AREA_1?e.lam=-a:d.value===Se.AREA_2?e.lam=-a-at:e.lam=a<0?-a-Mn:-a+Mn;else{var f,y,g;f=l,p=f*f,p>=1?g=0:g=Math.sqrt(1-p)*Math.sin(a),p+=g*g,p>=1?y=0:y=Math.sqrt(1-p),d.value===Se.AREA_1?(p=y,y=-g,g=p):d.value===Se.AREA_2?(y=-y,g=-g):d.value===Se.AREA_3&&(p=y,y=g,g=-p),this.face===sn.RIGHT?(p=f,f=-y,y=p):this.face===sn.BACK?(f=-f,y=-y):this.face===sn.LEFT&&(p=f,f=y,y=-p),e.phi=Math.acos(-g)-at,e.lam=Math.atan2(y,f),this.face===sn.RIGHT?e.lam=fp(e.lam,-at):this.face===sn.BACK?e.lam=fp(e.lam,-Mn):this.face===sn.LEFT&&(e.lam=fp(e.lam,+at))}if(this.es!==0){var b,x,A;b=e.phi<0?1:0,x=Math.tan(e.phi),A=this.b/Math.sqrt(x*x+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-A*A)/(this.one_minus_f*A)),b&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function J1(t,e,n,i){var r;return t<ft?(i.value=Se.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=Ee?i.value=Se.AREA_0:r>Ee&&r<=at+Ee?(i.value=Se.AREA_1,r-=at):r>at+Ee||r<=-(at+Ee)?(i.value=Se.AREA_2,r=r>=0?r-Mn:r+Mn):(i.value=Se.AREA_3,r+=at)),r}function fp(t,e){var n=t+e;return n<-Mn?n+=rm:n>+Mn&&(n-=rm),n}var gpt=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const vpt={init:fpt,forward:mpt,inverse:ypt,names:gpt};var YE=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],mm=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],j7=.8487,G7=1.3523,$7=lr/5,bpt=1/$7,mp=18,X1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},_pt=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function wpt(t,e,n,i){for(var r=e;i;--i){var s=t(r);if(r-=s,Math.abs(s)<n)break}return r}function xpt(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Ept(t){var e=yt(t.x-this.long0,this.over),n=Math.abs(t.y),i=Math.floor(n*$7);i<0?i=0:i>=mp&&(i=mp-1),n=lr*(n-bpt*i);var r={x:X1(YE[i],n)*e,y:X1(mm[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*j7+this.x0,r.y=r.y*this.a*G7+this.y0,r}function Spt(t){var e={x:(t.x-this.x0)/(this.a*j7),y:Math.abs(t.y-this.y0)/(this.a*G7)};if(e.y>=1)e.x/=YE[mp][0],e.y=t.y<0?-at:at;else{var n=Math.floor(e.y*mp);for(n<0?n=0:n>=mp&&(n=mp-1);;)if(mm[n][0]>e.y)--n;else if(mm[n+1][0]<=e.y)++n;else break;var i=mm[n],r=5*(e.y-i[0])/(mm[n+1][0]-i[0]);r=wpt(function(s){return(X1(i,s)-e.y)/_pt(i,s)},r,ft,100),e.x/=X1(YE[n],r),e.y=(5*n+r)*bn,t.y<0&&(e.y=-e.y)}return e.x=yt(e.x+this.long0,this.over),e}var Apt=["Robinson","robin"];const Tpt={init:xpt,forward:Ept,inverse:Spt,names:Apt};function Mpt(){this.name="geocent"}function Ipt(t){var e=y7(t,this.es,this.a);return e}function Opt(t){var e=g7(t,this.es,this.a,this.b);return e}var Npt=["Geocentric","geocentric","geocent","Geocent"];const Cpt={init:Mpt,forward:Ipt,inverse:Opt,names:Npt};var Ei={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},ym={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function kpt(){if(Object.keys(ym).forEach(function(n){if(typeof this[n]>"u")this[n]=ym[n].def;else{if(ym[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);ym[n].num&&(this[n]=parseFloat(this[n]))}ym[n].degrees&&(this[n]=this[n]*bn)}.bind(this)),Math.abs(Math.abs(this.lat0)-at)<ft?this.mode=this.lat0<0?Ei.S_POLE:Ei.N_POLE:Math.abs(this.lat0)<ft?this.mode=Ei.EQUIT:(this.mode=Ei.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Ppt(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r,s;switch(this.mode){case Ei.OBLIQ:s=this.sinph0*e+this.cosph0*n*i;break;case Ei.EQUIT:s=n*i;break;case Ei.S_POLE:s=-e;break;case Ei.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),r=s*n*Math.sin(t.x),this.mode){case Ei.OBLIQ:s*=this.cosph0*e-this.sinph0*n*i;break;case Ei.EQUIT:s*=e;break;case Ei.N_POLE:s*=-(n*i);break;case Ei.S_POLE:s*=n*i;break}var o,a;return o=s*this.cg+r*this.sg,a=1/(o*this.sw*this.h1+this.cw),r=(r*this.cg-s*this.sg)*this.cw*a,s=o*a,t.x=r*this.a,t.y=s*this.a,t}function Lpt(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,i,r;r=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*r,i=this.pn1*t.y*this.cw*r,t.x=n*this.cg+i*this.sg,t.y=i*this.cg-n*this.sg;var s=hr(t.x,t.y);if(Math.abs(s)<ft)e.x=0,e.y=t.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case Ei.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/s),t.y=(o-this.sinph0*Math.sin(e.y))*s,t.x*=a*this.cosph0;break;case Ei.EQUIT:e.y=Math.asin(t.y*a/s),t.y=o*s,t.x*=a;break;case Ei.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case Ei.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var Rpt=["Tilted_Perspective","tpers"];const Dpt={init:kpt,forward:Ppt,inverse:Lpt,names:Rpt};function Fpt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function jpt(t){var e=t.x,n=t.y,i,r,s,o;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/hr(this.radius_p*Math.cos(n),Math.sin(n));if(r=a*Math.cos(e)*Math.cos(n),s=a*Math.sin(e)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-r)*r-s*s-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/hr(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/hr(s,i)))}else this.shape==="sphere"&&(i=Math.cos(n),r=Math.cos(e)*i,s=Math.sin(e)*i,o=Math.sin(n),i=this.radius_g-r,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/hr(o,i)),t.y=this.radius_g_1*Math.atan(o/i)):(t.x=this.radius_g_1*Math.atan(s/i),t.y=this.radius_g_1*Math.atan(o/hr(s,i))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Gpt(t){var e=-1,n=0,i=0,r,s,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*hr(1,i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*hr(1,n));var l=i/this.radius_p;if(r=n*n+l*l+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+i*i)):(n=Math.tan(t.x/this.radius_g_1),i=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),r=n*n+i*i+e*e,s=2*this.radius_g*e,o=s*s-4*r*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*r),e=this.radius_g+a*e,n*=a,i*=a,t.x=Math.atan2(n,e),t.y=Math.atan(i*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var $pt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const Upt={init:Fpt,forward:jpt,inverse:Gpt,names:$pt};var gm=1.340264,vm=-.081106,bm=893e-6,_m=.003796,Q1=Math.sqrt(3)/2;function Vpt(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function zpt(t){var e=yt(t.x-this.long0,this.over),n=t.y,i=Math.asin(Q1*Math.sin(n)),r=i*i,s=r*r*r;return t.x=e*Math.cos(i)/(Q1*(gm+3*vm*r+s*(7*bm+9*_m*r))),t.y=i*(gm+vm*r+s*(bm+_m*r)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Bpt(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,i=t.y,r,s,o,a,l,c;for(c=0;c<n&&(r=i*i,s=r*r*r,o=i*(gm+vm*r+s*(bm+_m*r))-t.y,a=gm+3*vm*r+s*(7*bm+9*_m*r),i-=l=o/a,!(Math.abs(l)<e));++c);return r=i*i,s=r*r*r,t.x=Q1*t.x*(gm+3*vm*r+s*(7*bm+9*_m*r))/Math.cos(i),t.y=Math.asin(Math.sin(i)/Q1),t.x=yt(t.x+this.long0,this.over),t}var Wpt=["eqearth","Equal Earth","Equal_Earth"];const qpt={init:Vpt,forward:zpt,inverse:Bpt,names:Wpt};var wm=1e-10;function Hpt(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<wm)throw new Error;this.es?(this.en=GE(this.es),this.m1=pp(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Ypt,this.forward=Zpt):(Math.abs(this.phi1)+wm>=at?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Xpt,this.forward=Jpt)}function Zpt(t){var e=yt(t.x-(this.long0||0),this.over),n=t.y,i,r,s;return i=this.am1+this.m1-pp(n,r=Math.sin(n),s=Math.cos(n),this.en),r=s*e/(i*Math.sqrt(1-this.es*r*r)),t.x=i*Math.sin(r),t.y=this.am1-i*Math.cos(r),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Ypt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i,r;if(n=hr(t.x,t.y=this.am1-t.y),r=$E(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(r))<at)e=Math.sin(r),i=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(r);else if(Math.abs(e-at)<=wm)i=0;else throw new Error;return t.x=yt(i+(this.long0||0),this.over),t.y=Ml(r),t}function Jpt(t){var e=yt(t.x-(this.long0||0),this.over),n=t.y,i,r;return r=this.cphi1+this.phi1-n,Math.abs(r)>wm?(t.x=r*Math.sin(i=e*Math.cos(n)/r),t.y=this.cphi1-r*Math.cos(i)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Xpt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,i=hr(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-i,Math.abs(n)>at)throw new Error;return Math.abs(Math.abs(n)-at)<=wm?e=0:e=i*Math.atan2(t.x,t.y)/Math.cos(n),t.x=yt(e+(this.long0||0),this.over),t.y=Ml(n),t}var Qpt=["bonne","Bonne (Werner lat_1=90)"];const Kpt={init:Hpt,names:Qpt},U7={OBLIQUE:{forward:rdt,inverse:odt},TRANSVERSE:{forward:sdt,inverse:adt}},K1={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function tdt(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=h7.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const t=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),e=ls(t);if(!e)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);e.long0=0,this.obliqueProjection=e;let n;const i=Object.keys(K1),r=a=>{if(typeof this[a]>"u")return;const l=parseFloat(this[a])*bn;if(isNaN(l))throw new Error("Invalid value for "+a+": "+this[a]);return l};for(let a=0;a<i.length;a++){const l=i[a],c=K1[l],p=Object.entries(c);if(p.some(([d])=>typeof this[d]<"u")){n=c;for(let d=0;d<p.length;d++){const[f,y]=p[d],g=r(f);if(typeof g>"u")throw new Error("Missing parameter: "+f+".");this[y]=g}break}}if(!n)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:s,phip:o}=idt(this,n);this.lamp=s,Math.abs(o)>ft?(this.cphip=Math.cos(o),this.sphip=Math.sin(o),this.projectionType=U7.OBLIQUE):this.projectionType=U7.TRANSVERSE}function edt(t){return this.projectionType.forward(this,t)}function ndt(t){return this.projectionType.inverse(this,t)}function idt(t,e){let n,i;if(e===K1.ROTATE){let r=t.oLongC,s=t.oLatC,o=t.oAlpha;if(Math.abs(Math.abs(s)-at)<=ft)throw new Error("Invalid value for o_lat_c: "+t.o_lat_c+" should be < 90\xB0");i=r+Math.atan2(-1*Math.cos(o),-1*Math.sin(o)*Math.sin(s)),n=Math.asin(Math.cos(s)*Math.sin(o))}else if(e===K1.NEW_POLE)i=t.oLongP,n=t.oLatP;else{let r=t.oLong1,s=t.oLat1,o=t.oLong2,a=t.oLat2,l=Math.abs(s);if(Math.abs(s)>at-ft)throw new Error("Invalid value for o_lat_1: "+t.o_lat_1+" should be < 90\xB0");if(Math.abs(a)>at-ft)throw new Error("Invalid value for o_lat_2: "+t.o_lat_2+" should be < 90\xB0");if(Math.abs(s-a)<ft)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(l<ft)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");i=Math.atan2(Math.cos(s)*Math.sin(a)*Math.cos(r)-Math.sin(s)*Math.cos(a)*Math.cos(o),Math.sin(s)*Math.cos(a)*Math.sin(o)-Math.cos(s)*Math.sin(a)*Math.sin(r)),n=Math.atan(-1*Math.cos(i-r)/Math.tan(s))}return{lamp:i,phip:n}}function rdt(t,e){let{x:n,y:i}=e;n+=t.long0;const r=Math.cos(n),s=Math.sin(i),o=Math.cos(i);e.x=yt(Math.atan2(o*Math.sin(n),t.sphip*o*r+t.cphip*s)+t.lamp),e.y=Math.asin(t.sphip*s-t.cphip*o*r);const a=t.obliqueProjection.forward(e);return t.isIdentity&&(a.x*=lr,a.y*=lr),a}function sdt(t,e){let{x:n,y:i}=e;n+=t.long0;const r=Math.cos(i),s=Math.cos(n);e.x=yt(Math.atan2(r*Math.sin(n),Math.sin(i))+t.lamp),e.y=Math.asin(-1*r*s);const o=t.obliqueProjection.forward(e);return t.isIdentity&&(o.x*=lr,o.y*=lr),o}function odt(t,e){t.isIdentity&&(e.x*=bn,e.y*=bn);const n=t.obliqueProjection.inverse(e);let{x:i,y:r}=n;if(i<Number.MAX_VALUE){i-=t.lamp;const s=Math.cos(i),o=Math.sin(r),a=Math.cos(r);e.x=Math.atan2(a*Math.sin(i),t.sphip*a*s-t.cphip*o),e.y=Math.asin(t.sphip*o+t.cphip*a*s)}return e.x=yt(e.x+t.long0),e}function adt(t,e){t.isIdentity&&(e.x*=bn,e.y*=bn);const n=t.obliqueProjection.inverse(e);let{x:i,y:r}=n;if(i<Number.MAX_VALUE){const s=Math.cos(r);i-=t.lamp,e.x=Math.atan2(s*Math.sin(i),-1*Math.sin(r)),e.y=Math.asin(s*Math.cos(i))}return e.x=yt(e.x+t.long0),e}var ldt=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const cdt={init:tdt,forward:edt,inverse:ndt,names:ldt};function udt(t){t.Proj.projections.add(q1),t.Proj.projections.add(H1),t.Proj.projections.add(Qct),t.Proj.projections.add(aut),t.Proj.projections.add(put),t.Proj.projections.add(gut),t.Proj.projections.add(Eut),t.Proj.projections.add(Iut),t.Proj.projections.add(Put),t.Proj.projections.add(jut),t.Proj.projections.add(Xut),t.Proj.projections.add(iht),t.Proj.projections.add(lht),t.Proj.projections.add(fht),t.Proj.projections.add(bht),t.Proj.projections.add(Sht),t.Proj.projections.add(Oht),t.Proj.projections.add(Lht),t.Proj.projections.add($ht),t.Proj.projections.add(Wht),t.Proj.projections.add(Jht),t.Proj.projections.add(ept),t.Proj.projections.add(lpt),t.Proj.projections.add(dpt),t.Proj.projections.add(vpt),t.Proj.projections.add(Tpt),t.Proj.projections.add(Cpt),t.Proj.projections.add(Dpt),t.Proj.projections.add(Upt),t.Proj.projections.add(qpt),t.Proj.projections.add(Kpt),t.Proj.projections.add(cdt)}const pi=Object.assign(mct,{defaultDatum:"WGS84",Proj:ls,WGS84:new ls("WGS84"),Point:hp,toPoint:w7,defs:hi,nadgrid:Xlt,transform:B1,mgrs:yct,version:"__VERSION__"});udt(pi);const hdt="EPSG:4326";class pdt{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,pi.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),pi.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),pi.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),pi.defs("EPSG:102100",pi.defs("EPSG:3857")),pi.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),pi.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const n=e<10?`0${e}`:e;pi.defs(`EPSG:326${n}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,n){e=typeof e=="number"?`EPSG:${e}`:e,pi.defs(e,n)}defaultEpsgLookup(e){const n=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,r=String(e).match(n)||String(e).match(i)||[];if(r.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${r[1]}.proj4`;pn(a,{responseType:"text"}).then(l=>{l.data?s(l.data):o()},l=>{o(l)})})}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if(typeof e=="object"){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if(typeof e=="number")return"EPSG:"+e;if(typeof e=="string")return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let n,i="";try{n=this.normalizeProj(e)}catch{return!1}if(!n.startsWith("EPSG:"))return!0;typeof e=="object"&&e.latestWkid&&(i=this.normalizeProj(e.latestWkid));const r=(o,a)=>{o!==a&&pi.defs(a,pi.defs(o))};if(pi.defs(n))return!0;if(i&&pi.defs(i))return r(i,n),!0;const s=async o=>{try{const a=await this.epsgLookup(o);return a===null||a===""?!1:(pi.defs(o,a),!0)}catch{return!1}};return await(i?s(i):Promise.resolve(!1))?(r(i,n),!0):s(n)}async checkProjBomber(e){if(e.length>0){const n=e.pop();if(await this.checkProj(n))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",n),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,n,i){let r,s;if(n?r=this.normalizeProj(n):r=Pt.parseGeoJsonCrs(e.crs),i?s=this.normalizeProj(i):s=hdt,s===r)return e;await this.checkProjBomber([r,s]);const o=pi(r,s).forward;return olt(e,o)}async projectGeometry(e,n){if(n.type===Ut.EXTENT)return this.projectExtent(e,n);await this.checkProjBomber([e,n.sr]);const i=n.toGeoJSON(),r=await this.projectGeoJson(i,this.normalizeProj(n.sr),this.normalizeProj(e)),s=uc.geom.geomGeoJsonToRamp(r,n.id);return s.sr=Pt.parseSR(e),s}async projectExtent(e,n){const i=(b,x,A)=>{if(A===0)return[b,x];const T=[(b[0]+x[0])/2,(b[1]+x[1])/2];if(A===1)return[b,T,x];if(A>1){const w=i(b,T,A-1),_=i(T,x,A-1);return w.concat(_.slice(1))}return[[]]},r=n.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(b=>i(r[b],r[b+1],3).slice(1)).forEach(b=>s=s.concat(b));const o=new yi("warpy",[s],n.sr,!0),a=await this.projectGeometry(e,o),l=a.toArray().pop()||[],c=l.map(b=>b[0]),p=l.map(b=>b[1]),d=Math.min.apply(null,c),f=Math.max.apply(null,c),y=Math.min.apply(null,p),g=Math.max.apply(null,p);return Ye.fromParams(n.id+"_projected",d,y,f,g,a.sr)}}class ddt{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new pdt,this.geom=new Yat,this.sharedUtils=new Kat}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const n=i=>i.map(r=>({level:r[0],resolution:r[1],scale:r[2]}));if(e===this.DEFAULT_LAMBERT)return n([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return n([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class _n{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function fdt(t){return typeof t=="function"&&t.render&&typeof t.render=="function"}function mdt(t){const e=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof t=="object"&&!t.functional&&e.some(n=>t[n]!==void 0)}function V7(t){return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string")&&Object.values(t).every(e=>e instanceof HTMLElement)}function ydt(t){return typeof t=="object"&&t.default!==void 0}var tv={exports:{}},z7;function gdt(){if(z7)return tv.exports;z7=1;function t(){}return t.prototype={on:function(e,n,i){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:n,ctx:i}),this},once:function(e,n,i){var r=this;function s(){r.off(e,s),n.apply(i,arguments)}return s._=n,this.on(e,s,i)},emit:function(e){var n=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),r=0,s=i.length;for(r;r<s;r++)i[r].fn.apply(i[r].ctx,n);return this},off:function(e,n){var i=this.e||(this.e={}),r=i[e],s=[];if(r&&n)for(var o=0,a=r.length;o<a;o++)r[o].fn!==n&&r[o].fn._!==n&&s.push(r[o]);return s.length?i[e]=s:delete i[e],this}},tv.exports=t,tv.exports.TinyEmitter=t,tv.exports}var vdt=gdt();function Pr(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const te={},yp=[],ei=()=>{},xm=()=>!1,hu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),JE=t=>t.startsWith("onUpdate:"),ee=Object.assign,XE=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},bdt=Object.prototype.hasOwnProperty,ye=(t,e)=>bdt.call(t,e),_t=Array.isArray,gp=t=>vp(t)==="[object Map]",pu=t=>vp(t)==="[object Set]",B7=t=>vp(t)==="[object Date]",_dt=t=>vp(t)==="[object RegExp]",Nt=t=>typeof t=="function",jt=t=>typeof t=="string",pr=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",QE=t=>(Te(t)||Nt(t))&&Nt(t.then)&&Nt(t.catch),W7=Object.prototype.toString,vp=t=>W7.call(t),wdt=t=>vp(t).slice(8,-1),ev=t=>vp(t)==="[object Object]",KE=t=>jt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Nl=Pr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xdt=Pr("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),nv=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Edt=/-(\w)/g,Re=nv(t=>t.replace(Edt,(e,n)=>n?n.toUpperCase():"")),Sdt=/\B([A-Z])/g,dr=nv(t=>t.replace(Sdt,"-$1").toLowerCase()),Cl=nv(t=>t.charAt(0).toUpperCase()+t.slice(1)),du=nv(t=>t?`on${Cl(t)}`:""),Zi=(t,e)=>!Object.is(t,e),bp=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},q7=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},iv=t=>{const e=parseFloat(t);return isNaN(e)?t:e},rv=t=>{const e=jt(t)?Number(t):NaN;return isNaN(e)?t:e};let H7;const sv=()=>H7||(H7=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Adt(t,e){return t+JSON.stringify(e,(n,i)=>typeof i=="function"?i.toString():i)}const Tdt="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",Mdt=Pr(Tdt);function ma(t){if(_t(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=jt(i)?Z7(i):ma(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(jt(t)||Te(t))return t}const Idt=/;(?![^(]*\))/g,Odt=/:([^]+)/,Ndt=/\/\*[^]*?\*\//g;function Z7(t){const e={};return t.replace(Ndt,"").split(Idt).forEach(n=>{if(n){const i=n.split(Odt);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Xe(t){let e="";if(jt(t))e=t;else if(_t(t))for(let n=0;n<t.length;n++){const i=Xe(t[n]);i&&(e+=i+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Y7(t){if(!t)return null;let{class:e,style:n}=t;return e&&!jt(e)&&(t.class=Xe(e)),n&&(t.style=ma(n)),t}const Cdt="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",kdt="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Pdt="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Ldt="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Rdt=Pr(Cdt),Ddt=Pr(kdt),Fdt=Pr(Pdt),jdt=Pr(Ldt),Gdt="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$dt=Pr(Gdt);function J7(t){return!!t||t===""}function Udt(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=kl(t[i],e[i]);return n}function kl(t,e){if(t===e)return!0;let n=B7(t),i=B7(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=pr(t),i=pr(e),n||i)return t===e;if(n=_t(t),i=_t(e),n||i)return n&&i?Udt(t,e):!1;if(n=Te(t),i=Te(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!kl(t[o],e[o]))return!1}}return String(t)===String(e)}function ov(t,e){return t.findIndex(n=>kl(n,e))}const X7=t=>!!(t&&t.__v_isRef===!0),ge=t=>jt(t)?t:t==null?"":_t(t)||Te(t)&&(t.toString===W7||!Nt(t.toString))?X7(t)?ge(t.value):JSON.stringify(t,Q7,2):String(t),Q7=(t,e)=>X7(e)?Q7(t,e.value):gp(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],s)=>(n[tS(i,s)+" =>"]=r,n),{})}:pu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>tS(n))}:pr(e)?tS(e):Te(e)&&!_t(e)&&!ev(e)?String(e):e,tS=(t,e="")=>{var n;return pr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};var Vdt={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",USE_BAZEL_FALLBACK_VERSION:"silent:",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",GRADLE_HOME:"/usr/share/gradle-9.3.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"2029",ACTIONS_ORCHESTRATION_ID:"162849e3-e6db-4c65-8cfa-a00596526e45.build.__default",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20260209.23.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:14191",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.13/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.7/x64",GITHUB_RUN_ID:"22069120814",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"49ab97e99cb649c2e8e9725a1ceb5e464fc72fea",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_config_ignore_scripts:"true",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/deps",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9kZXBzXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzo1OGIyMzhlYS03NGI3LTRhYzYtOTE2OS1iM2JmYTc4ZWMzMTIiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUhPOTNRIiwiZXhwIjoxNzcxMjc4OTI2LCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NzEyNTY3MjYsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI5MzcwNTY1OC1kNDU1LTUxMjMtOThiOC1jNWZjN2IxMjNkY2UiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NzEyNTY0MjYsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwiamFtZXMtcmFlXCIsXCJhY3Rvcl9pZFwiOlwiNzU4NTI0NVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiY2hlY2tfcnVuX2lkXCI6XCI2Mzc2ODcxMzEwN1wiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvZGVwc1wiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiNDlhYjk3ZTk5Y2I2NDljMmU4ZTk3MjVhMWNlYjVlNDY0ZmM3MmZlYVwiLFwicmVmXCI6XCJyZWZzL2hlYWRzL2RlcHNcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJyZXBvc2l0b3J5XCI6XCJqYW1lcy1yYWUvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwicmVwb3NpdG9yeV9vd25lclwiOlwiamFtZXMtcmFlXCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI3NTg1MjQ1XCIsXCJyZXBvc2l0b3J5X3Zpc2liaWxpdHlcIjpcInB1YmxpY1wiLFwicnVuX2F0dGVtcHRcIjpcIjFcIixcInJ1bl9pZFwiOlwiMjIwNjkxMjA4MTRcIixcInJ1bl9udW1iZXJcIjpcIjI5N1wiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCIsXCJzaGFcIjpcIjQ5YWI5N2U5OWNiNjQ5YzJlOGU5NzI1YTFjZWI1ZTQ2NGZjNzJmZWFcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcIndvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvZGVwc1wiLFwid29ya2Zsb3dfc2hhXCI6XCI0OWFiOTdlOTljYjY0OWMyZThlOTcyNWExY2ViNWU0NjRmYzcyZmVhXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiMTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1LmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiVV9rZ0RPQUhPOTNRIiwicGxhbl9pZCI6IjE2Mjg0OWUzLWU2ZGItNGM2NS04Y2ZhLWEwMDU5NjUyNmU0NSIsInJlcG9zaXRvcnlfaWQiOiIyMzM5MzkyMzciLCJydW5faWQiOiIyMjA2OTEyMDgxNCIsInJ1bl9udW1iZXIiOiIyOTciLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDAwNzI5IiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6MTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1OjkzNzA1NjU4LWQ0NTUtNTEyMy05OGI4LWM1ZmM3YjEyM2RjZSBBY3Rpb25zLlJ1bm5lcjoxNjI4NDllMy1lNmRiLTRjNjUtOGNmYS1hMDA1OTY1MjZlNDU6OTM3MDU2NTgtZDQ1NS01MTIzLTk4YjgtYzVmYzdiMTIzZGNlIEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjE2Mjg0OWUzLWU2ZGItNGM2NS04Y2ZhLWEwMDU5NjUyNmU0NTo5MzcwNTY1OC1kNDU1LTUxMjMtOThiOC1jNWZjN2IxMjNkY2UgZ2VuZXJhdGVfaWRfdG9rZW46MTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1OjkzNzA1NjU4LWQ0NTUtNTEyMy05OGI4LWM1ZmM3YjEyM2RjZSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6IjQ5YWI5N2U5OWNiNjQ5YzJlOGU5NzI1YTFjZWI1ZTQ2NGZjNzJmZWEiLCJ0cnVzdF90aWVyIjoiMiJ9.1ur9GNcLMMYETV6rCFGAFeuY0ty9os84e6hiG707_G8QCr9dt1it-bnVXi1Mzq5vyAoWF6Ub6gaXZ2F0bjUiC57r4oH-CblGXfeMJnHuGjSFSYonZb9NWAk9HqxBeB4HUMTFyyuD48Ksbuib1W_2mg9QYfTmQc5V59UI3-qPYlQcXDf1uICP1lGOcx45CqrkCrC7JonqvDebJbNi1JVO_u9Mqgvpv_kzYHuwTTSlgptvFIeoC35IDzV_YtB6uh2cLfut2UWdk9hi-ALmitnVOv9UDwDXnKDT9vnV0ryfzA873ao2yM7ituVLesnr4507OvBtQBXq7AyXiiH1gCjfzQ",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f92bf740-9b1c-46d3-bf40-a654527c2614",INVOCATION_ID:"7a0a7a41ef7141a295cd518f3e91dec8",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"297",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000729",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"deps",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",npm_package_version:"4.16.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"49ab97e99cb649c2e8e9725a1ceb5e464fc72fea",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/deps",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/13//idtoken/162849e3-e6db-4c65-8cfa-a00596526e45/93705658-d455-5123-98b8-c5fc7b123dce?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",PSModulePath:"/root/.local/share/powershell/Modules:/usr/local/share/powershell/Modules:/opt/microsoft/powershell/7/Modules:/usr/share/az_14.6.0",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let Yi;class av{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Yi,!e&&Yi&&(this.index=(Yi.scopes||(Yi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Yi;try{return Yi=this,e()}finally{Yi=n}}}on(){Yi=this}off(){Yi=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Em(t){return new av(t)}function lv(){return Yi}function eS(t,e=!1){Yi&&Yi.cleanups.push(t)}let De;const nS=new WeakSet;class _p{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Yi&&Yi.active&&Yi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nS.has(this)&&(nS.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tR(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,aR(this),eR(this);const e=De,n=Hs;De=this,Hs=!0;try{return this.fn()}finally{nR(this),De=e,Hs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)oS(e);this.deps=this.depsTail=void 0,aR(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nS.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){sS(this)&&this.run()}get dirty(){return sS(this)}}let K7=0,Sm,Am;function tR(t,e=!1){if(t.flags|=8,e){t.next=Am,Am=t;return}t.next=Sm,Sm=t}function iS(){K7++}function rS(){if(--K7>0)return;if(Am){let e=Am;for(Am=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Sm;){let e=Sm;for(Sm=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function eR(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function nR(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),oS(i),zdt(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function sS(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(iR(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function iR(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Tm))return;t.globalVersion=Tm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!sS(t)){t.flags&=-3;return}const n=De,i=Hs;De=t,Hs=!0;try{eR(t);const r=t.fn(t._value);(e.version===0||Zi(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{De=n,Hs=i,nR(t),t.flags&=-3}}function oS(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)oS(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function zdt(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function rR(t,e){t.effect instanceof _p&&(t=t.effect.fn);const n=new _p(t);e&&ee(n,e);try{n.run()}catch(r){throw n.stop(),r}const i=n.run.bind(n);return i.effect=n,i}function sR(t){t.effect.stop()}let Hs=!0;const oR=[];function ya(){oR.push(Hs),Hs=!1}function ga(){const t=oR.pop();Hs=t===void 0?!0:t}function aR(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=De;De=void 0;try{e()}finally{De=n}}}let Tm=0;class Bdt{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cv{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!De||!Hs||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new Bdt(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,lR(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=i)}return n}trigger(e){this.version++,Tm++,this.notify(e)}notify(e){iS();try{Vdt.NODE_ENV;for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{rS()}}}function lR(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)lR(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const uv=new WeakMap,fu=Symbol(""),aS=Symbol(""),Mm=Symbol("");function Si(t,e,n){if(Hs&&De){let i=uv.get(t);i||uv.set(t,i=new Map);let r=i.get(n);r||(i.set(n,r=new cv),r.map=i,r.key=n),r.track()}}function va(t,e,n,i,r,s){const o=uv.get(t);if(!o){Tm++;return}const a=l=>{l&&l.trigger()};if(iS(),e==="clear")o.forEach(a);else{const l=_t(t),c=l&&KE(n);if(l&&n==="length"){const p=Number(i);o.forEach((d,f)=>{(f==="length"||f===Mm||!pr(f)&&f>=p)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Mm)),e){case"add":l?c&&a(o.get("length")):(a(o.get(fu)),gp(t)&&a(o.get(aS)));break;case"delete":l||(a(o.get(fu)),gp(t)&&a(o.get(aS)));break;case"set":gp(t)&&a(o.get(fu));break}}rS()}function Wdt(t,e){const n=uv.get(t);return n&&n.get(e)}function wp(t){const e=Ct(t);return e===t?e:(Si(e,"iterate",Mm),fr(t)?e:e.map(Ai))}function hv(t){return Si(t=Ct(t),"iterate",Mm),t}const qdt={__proto__:null,[Symbol.iterator](){return lS(this,Symbol.iterator,Ai)},concat(...t){return wp(this).concat(...t.map(e=>_t(e)?wp(e):e))},entries(){return lS(this,"entries",t=>(t[1]=Ai(t[1]),t))},every(t,e){return ba(this,"every",t,e,void 0,arguments)},filter(t,e){return ba(this,"filter",t,e,n=>n.map(Ai),arguments)},find(t,e){return ba(this,"find",t,e,Ai,arguments)},findIndex(t,e){return ba(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ba(this,"findLast",t,e,Ai,arguments)},findLastIndex(t,e){return ba(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ba(this,"forEach",t,e,void 0,arguments)},includes(...t){return cS(this,"includes",t)},indexOf(...t){return cS(this,"indexOf",t)},join(t){return wp(this).join(t)},lastIndexOf(...t){return cS(this,"lastIndexOf",t)},map(t,e){return ba(this,"map",t,e,void 0,arguments)},pop(){return Im(this,"pop")},push(...t){return Im(this,"push",t)},reduce(t,...e){return cR(this,"reduce",t,e)},reduceRight(t,...e){return cR(this,"reduceRight",t,e)},shift(){return Im(this,"shift")},some(t,e){return ba(this,"some",t,e,void 0,arguments)},splice(...t){return Im(this,"splice",t)},toReversed(){return wp(this).toReversed()},toSorted(t){return wp(this).toSorted(t)},toSpliced(...t){return wp(this).toSpliced(...t)},unshift(...t){return Im(this,"unshift",t)},values(){return lS(this,"values",Ai)}};function lS(t,e,n){const i=hv(t),r=i[e]();return i!==t&&!fr(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const Hdt=Array.prototype;function ba(t,e,n,i,r,s){const o=hv(t),a=o!==t&&!fr(t),l=o[e];if(l!==Hdt[e]){const d=l.apply(t,s);return a?Ai(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,Ai(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const p=l.call(o,c,i);return a&&r?r(p):p}function cR(t,e,n,i){const r=hv(t);let s=n;return r!==t&&(fr(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Ai(a),l,t)}),r[e](s,...i)}function cS(t,e,n){const i=Ct(t);Si(i,"iterate",Mm);const r=i[e](...n);return(r===-1||r===!1)&&Ep(n[0])?(n[0]=Ct(n[0]),i[e](...n)):r}function Im(t,e,n=[]){ya(),iS();const i=Ct(t)[e].apply(t,n);return rS(),ga(),i}const Zdt=Pr("__proto__,__v_isRef,__isVue"),uR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pr));function Ydt(t){pr(t)||(t=String(t));const e=Ct(this);return Si(e,"has",t),e.hasOwnProperty(t)}class hR{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?gR:yR:s?mR:fR).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=_t(e);if(!r){let l;if(o&&(l=qdt[n]))return l;if(n==="hasOwnProperty")return Ydt}const a=Reflect.get(e,n,ne(e)?e:i);return(pr(n)?uR.has(n):Zdt(n))||(r||Si(e,"get",n),s)?a:ne(a)?o&&KE(n)?a:a.value:Te(a)?r?mv(a):Zn(a):a}}class pR extends hR{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=_a(s);if(!fr(i)&&!_a(i)&&(s=Ct(s),i=Ct(i)),!_t(e)&&ne(s)&&!ne(i))return l?!1:(s.value=i,!0)}const o=_t(e)&&KE(n)?Number(n)<e.length:ye(e,n),a=Reflect.set(e,n,i,ne(e)?e:r);return e===Ct(r)&&(o?Zi(i,s)&&va(e,"set",n,i):va(e,"add",n,i)),a}deleteProperty(e,n){const i=ye(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&va(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!pr(n)||!uR.has(n))&&Si(e,"has",n),i}ownKeys(e){return Si(e,"iterate",_t(e)?"length":fu),Reflect.ownKeys(e)}}class dR extends hR{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Jdt=new pR,Xdt=new dR,Qdt=new pR(!0),Kdt=new dR(!0),uS=t=>t,pv=t=>Reflect.getPrototypeOf(t);function tft(t,e,n){return function(...i){const r=this.__v_raw,s=Ct(r),o=gp(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...i),p=n?uS:e?pS:Ai;return!e&&Si(s,"iterate",l?aS:fu),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[p(d[0]),p(d[1])]:p(d),done:f}},[Symbol.iterator](){return this}}}}function dv(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function eft(t,e){const n={get(i){const r=this.__v_raw,s=Ct(r),o=Ct(i);t||(Zi(i,o)&&Si(s,"get",i),Si(s,"get",o));const{has:a}=pv(s),l=e?uS:t?pS:Ai;if(a.call(s,i))return l(r.get(i));if(a.call(s,o))return l(r.get(o));r!==s&&r.get(i)},get size(){const i=this.__v_raw;return!t&&Si(Ct(i),"iterate",fu),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,s=Ct(r),o=Ct(i);return t||(Zi(i,o)&&Si(s,"has",i),Si(s,"has",o)),i===o?r.has(i):r.has(i)||r.has(o)},forEach(i,r){const s=this,o=s.__v_raw,a=Ct(o),l=e?uS:t?pS:Ai;return!t&&Si(a,"iterate",fu),o.forEach((c,p)=>i.call(r,l(c),l(p),s))}};return ee(n,t?{add:dv("add"),set:dv("set"),delete:dv("delete"),clear:dv("clear")}:{add(i){!e&&!fr(i)&&!_a(i)&&(i=Ct(i));const r=Ct(this);return pv(r).has.call(r,i)||(r.add(i),va(r,"add",i,i)),this},set(i,r){!e&&!fr(r)&&!_a(r)&&(r=Ct(r));const s=Ct(this),{has:o,get:a}=pv(s);let l=o.call(s,i);l||(i=Ct(i),l=o.call(s,i));const c=a.call(s,i);return s.set(i,r),l?Zi(r,c)&&va(s,"set",i,r):va(s,"add",i,r),this},delete(i){const r=Ct(this),{has:s,get:o}=pv(r);let a=s.call(r,i);a||(i=Ct(i),a=s.call(r,i)),o&&o.call(r,i);const l=r.delete(i);return a&&va(r,"delete",i,void 0),l},clear(){const i=Ct(this),r=i.size!==0,s=i.clear();return r&&va(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=tft(i,t,e)}),n}function fv(t,e){const n=eft(t,e);return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(ye(n,r)&&r in i?n:i,r,s)}const nft={get:fv(!1,!1)},ift={get:fv(!1,!0)},rft={get:fv(!0,!1)},sft={get:fv(!0,!0)},fR=new WeakMap,mR=new WeakMap,yR=new WeakMap,gR=new WeakMap;function oft(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function aft(t){return t.__v_skip||!Object.isExtensible(t)?0:oft(wdt(t))}function Zn(t){return _a(t)?t:yv(t,!1,Jdt,nft,fR)}function hS(t){return yv(t,!1,Qdt,ift,mR)}function mv(t){return yv(t,!0,Xdt,rft,yR)}function xp(t){return yv(t,!0,Kdt,sft,gR)}function yv(t,e,n,i,r){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=aft(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function Ji(t){return _a(t)?Ji(t.__v_raw):!!(t&&t.__v_isReactive)}function _a(t){return!!(t&&t.__v_isReadonly)}function fr(t){return!!(t&&t.__v_isShallow)}function Ep(t){return t?!!t.__v_raw:!1}function Ct(t){const e=t&&t.__v_raw;return e?Ct(e):t}function Be(t){return!ye(t,"__v_skip")&&Object.isExtensible(t)&&q7(t,"__v_skip",!0),t}const Ai=t=>Te(t)?Zn(t):t,pS=t=>Te(t)?mv(t):t;function ne(t){return t?t.__v_isRef===!0:!1}function J(t){return vR(t,!1)}function Sp(t){return vR(t,!0)}function vR(t,e){return ne(t)?t:new lft(t,e)}class lft{constructor(e,n){this.dep=new cv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ct(e),this._value=n?e:Ai(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||fr(e)||_a(e);e=i?e:Ct(e),Zi(e,n)&&(this._rawValue=e,this._value=i?e:Ai(e),this.dep.trigger())}}function bR(t){t.dep&&t.dep.trigger()}function wt(t){return ne(t)?t.value:t}function _R(t){return Nt(t)?t():wt(t)}const cft={get:(t,e,n)=>e==="__v_raw"?t:wt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return ne(r)&&!ne(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function gv(t){return Ji(t)?t:new Proxy(t,cft)}class uft{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new cv,{get:i,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function dS(t){return new uft(t)}function vv(t){const e=_t(t)?new Array(t.length):{};for(const n in t)e[n]=wR(t,n);return e}class hft{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Wdt(Ct(this._object),this._key)}}class pft{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function bv(t,e,n){return ne(t)?t:Nt(t)?new pft(t):Te(t)&&arguments.length>1?wR(t,e,n):J(t)}function wR(t,e,n){const i=t[e];return ne(i)?i:new hft(t,e,n)}class dft{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new cv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Tm-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return tR(this,!0),!0}get value(){const e=this.dep.track();return iR(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function fft(t,e,n=!1){let i,r;return Nt(t)?i=t:(i=t.get,r=t.set),new dft(i,r,n)}const xR={GET:"get",HAS:"has",ITERATE:"iterate"},ER={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},_v={},wv=new WeakMap;let Pl;function SR(){return Pl}function fS(t,e=!1,n=Pl){if(n){let i=wv.get(n);i||wv.set(n,i=[]),i.push(t)}}function mft(t,e,n=te){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,c=_=>r?_:fr(_)||r===!1||r===0?wa(_,1):wa(_);let p,d,f,y,g=!1,b=!1;if(ne(t)?(d=()=>t.value,g=fr(t)):Ji(t)?(d=()=>c(t),g=!0):_t(t)?(b=!0,g=t.some(_=>Ji(_)||fr(_)),d=()=>t.map(_=>{if(ne(_))return _.value;if(Ji(_))return c(_);if(Nt(_))return l?l(_,2):_()})):Nt(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){ya();try{f()}finally{ga()}}const _=Pl;Pl=p;try{return l?l(t,3,[y]):t(y)}finally{Pl=_}}:d=ei,e&&r){const _=d,M=r===!0?1/0:r;d=()=>wa(_(),M)}const x=lv(),A=()=>{p.stop(),x&&x.active&&XE(x.effects,p)};if(s&&e){const _=e;e=(...M)=>{_(...M),A()}}let T=b?new Array(t.length).fill(_v):_v;const w=_=>{if(!(!(p.flags&1)||!p.dirty&&!_))if(e){const M=p.run();if(r||g||(b?M.some((I,N)=>Zi(I,T[N])):Zi(M,T))){f&&f();const I=Pl;Pl=p;try{const N=[M,T===_v?void 0:b&&T[0]===_v?[]:T,y];l?l(e,3,N):e(...N),T=M}finally{Pl=I}}}else p.run()};return a&&a(w),p=new _p(d),p.scheduler=o?()=>o(w,!1):w,y=_=>fS(_,!1,p),f=p.onStop=()=>{const _=wv.get(p);if(_){if(l)l(_,4);else for(const M of _)M();wv.delete(p)}},e?i?w(!0):T=p.run():o?o(w.bind(null,!0),!0):p.run(),A.pause=p.pause.bind(p),A.resume=p.resume.bind(p),A.stop=A,A}function wa(t,e=1/0,n){if(e<=0||!Te(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,ne(t))wa(t.value,e,n);else if(_t(t))for(let i=0;i<t.length;i++)wa(t[i],e,n);else if(pu(t)||gp(t))t.forEach(i=>{wa(i,e,n)});else if(ev(t)){for(const i in t)wa(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&wa(t[i],e,n)}return t}var Ll={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",USE_BAZEL_FALLBACK_VERSION:"silent:",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",GRADLE_HOME:"/usr/share/gradle-9.3.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"2029",ACTIONS_ORCHESTRATION_ID:"162849e3-e6db-4c65-8cfa-a00596526e45.build.__default",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20260209.23.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:14191",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.13/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.7/x64",GITHUB_RUN_ID:"22069120814",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"49ab97e99cb649c2e8e9725a1ceb5e464fc72fea",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_config_ignore_scripts:"true",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/deps",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9kZXBzXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzo1OGIyMzhlYS03NGI3LTRhYzYtOTE2OS1iM2JmYTc4ZWMzMTIiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUhPOTNRIiwiZXhwIjoxNzcxMjc4OTI2LCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NzEyNTY3MjYsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI5MzcwNTY1OC1kNDU1LTUxMjMtOThiOC1jNWZjN2IxMjNkY2UiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NzEyNTY0MjYsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwiamFtZXMtcmFlXCIsXCJhY3Rvcl9pZFwiOlwiNzU4NTI0NVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiY2hlY2tfcnVuX2lkXCI6XCI2Mzc2ODcxMzEwN1wiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvZGVwc1wiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiNDlhYjk3ZTk5Y2I2NDljMmU4ZTk3MjVhMWNlYjVlNDY0ZmM3MmZlYVwiLFwicmVmXCI6XCJyZWZzL2hlYWRzL2RlcHNcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJyZXBvc2l0b3J5XCI6XCJqYW1lcy1yYWUvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwicmVwb3NpdG9yeV9vd25lclwiOlwiamFtZXMtcmFlXCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI3NTg1MjQ1XCIsXCJyZXBvc2l0b3J5X3Zpc2liaWxpdHlcIjpcInB1YmxpY1wiLFwicnVuX2F0dGVtcHRcIjpcIjFcIixcInJ1bl9pZFwiOlwiMjIwNjkxMjA4MTRcIixcInJ1bl9udW1iZXJcIjpcIjI5N1wiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCIsXCJzaGFcIjpcIjQ5YWI5N2U5OWNiNjQ5YzJlOGU5NzI1YTFjZWI1ZTQ2NGZjNzJmZWFcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcIndvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvZGVwc1wiLFwid29ya2Zsb3dfc2hhXCI6XCI0OWFiOTdlOTljYjY0OWMyZThlOTcyNWExY2ViNWU0NjRmYzcyZmVhXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiMTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1LmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiVV9rZ0RPQUhPOTNRIiwicGxhbl9pZCI6IjE2Mjg0OWUzLWU2ZGItNGM2NS04Y2ZhLWEwMDU5NjUyNmU0NSIsInJlcG9zaXRvcnlfaWQiOiIyMzM5MzkyMzciLCJydW5faWQiOiIyMjA2OTEyMDgxNCIsInJ1bl9udW1iZXIiOiIyOTciLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDAwNzI5IiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6MTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1OjkzNzA1NjU4LWQ0NTUtNTEyMy05OGI4LWM1ZmM3YjEyM2RjZSBBY3Rpb25zLlJ1bm5lcjoxNjI4NDllMy1lNmRiLTRjNjUtOGNmYS1hMDA1OTY1MjZlNDU6OTM3MDU2NTgtZDQ1NS01MTIzLTk4YjgtYzVmYzdiMTIzZGNlIEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjE2Mjg0OWUzLWU2ZGItNGM2NS04Y2ZhLWEwMDU5NjUyNmU0NTo5MzcwNTY1OC1kNDU1LTUxMjMtOThiOC1jNWZjN2IxMjNkY2UgZ2VuZXJhdGVfaWRfdG9rZW46MTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1OjkzNzA1NjU4LWQ0NTUtNTEyMy05OGI4LWM1ZmM3YjEyM2RjZSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6IjQ5YWI5N2U5OWNiNjQ5YzJlOGU5NzI1YTFjZWI1ZTQ2NGZjNzJmZWEiLCJ0cnVzdF90aWVyIjoiMiJ9.1ur9GNcLMMYETV6rCFGAFeuY0ty9os84e6hiG707_G8QCr9dt1it-bnVXi1Mzq5vyAoWF6Ub6gaXZ2F0bjUiC57r4oH-CblGXfeMJnHuGjSFSYonZb9NWAk9HqxBeB4HUMTFyyuD48Ksbuib1W_2mg9QYfTmQc5V59UI3-qPYlQcXDf1uICP1lGOcx45CqrkCrC7JonqvDebJbNi1JVO_u9Mqgvpv_kzYHuwTTSlgptvFIeoC35IDzV_YtB6uh2cLfut2UWdk9hi-ALmitnVOv9UDwDXnKDT9vnV0ryfzA873ao2yM7ituVLesnr4507OvBtQBXq7AyXiiH1gCjfzQ",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f92bf740-9b1c-46d3-bf40-a654527c2614",INVOCATION_ID:"7a0a7a41ef7141a295cd518f3e91dec8",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"297",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000729",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"deps",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",npm_package_version:"4.16.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"49ab97e99cb649c2e8e9725a1ceb5e464fc72fea",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/deps",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/13//idtoken/162849e3-e6db-4c65-8cfa-a00596526e45/93705658-d455-5123-98b8-c5fc7b123dce?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",PSModulePath:"/root/.local/share/powershell/Modules:/usr/local/share/powershell/Modules:/opt/microsoft/powershell/7/Modules:/usr/share/az_14.6.0",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const mu=[];function yft(t){mu.push(t)}function gft(){mu.pop()}let mS=!1;function vft(t,...e){if(mS)return;mS=!0,ya();const n=mu.length?mu[mu.length-1].component:null,i=n&&n.appContext.config.warnHandler,r=bft();if(i)Rl(i,n,11,[t+e.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),n&&n.proxy,r.map(({vnode:s})=>`at <${eF(n,s.type)}>`).join(`
`),r]);else{const s=[`[Vue warn]: ${t}`,...e];r.length&&s.push(`
`,..._ft(r)),console.warn(...s)}ga(),mS=!1}function bft(){let t=mu[mu.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function _ft(t){const e=[];return t.forEach((n,i)=>{e.push(...i===0?[]:[`
`],...wft(n))}),e}function wft({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,r=` at <${eF(t.component,t.type,i)}`,s=">"+n;return t.props?[r,...xft(t.props),s]:[r+s]}function xft(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(i=>{e.push(...AR(i,t[i]))}),n.length>3&&e.push(" ..."),e}function AR(t,e,n){return jt(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:ne(e)?(e=AR(t,Ct(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Nt(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Ct(e),n?e:[`${t}=`,e])}function TR(t,e){}const MR={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},Eft={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Rl(t,e,n,i){try{return i?t(...i):t()}catch(r){Dl(r,e,n)}}function Lr(t,e,n,i){if(Nt(t)){const r=Rl(t,e,n,i);return r&&QE(r)&&r.catch(s=>{Dl(s,e,n)}),r}if(_t(t)){const r=[];for(let s=0;s<t.length;s++)r.push(Lr(t[s],e,n,i));return r}}function Dl(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||te;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const p=a.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,l,c)===!1)return}a=a.parent}if(s){ya(),Rl(s,null,10,[t,l,c]),ga();return}}Sft(t,n,r,i,o)}function Sft(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}const Xi=[];let Eo=-1;const Ap=[];let Fl=null,Tp=0;const IR=Promise.resolve();let xv=null;function Rr(t){const e=xv||IR;return t?e.then(this?t.bind(this):t):e}function Aft(t){let e=Eo+1,n=Xi.length;for(;e<n;){const i=e+n>>>1,r=Xi[i],s=Om(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function yS(t){if(!(t.flags&1)){const e=Om(t),n=Xi[Xi.length-1];!n||!(t.flags&2)&&e>=Om(n)?Xi.push(t):Xi.splice(Aft(e),0,t),t.flags|=1,OR()}}function OR(){xv||(xv=IR.then(CR))}function Mp(t){_t(t)?Ap.push(...t):Fl&&t.id===-1?Fl.splice(Tp+1,0,t):t.flags&1||(Ap.push(t),t.flags|=1),OR()}function NR(t,e,n=Eo+1){for(;n<Xi.length;n++){const i=Xi[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Xi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ev(t){if(Ap.length){const e=[...new Set(Ap)].sort((n,i)=>Om(n)-Om(i));if(Ap.length=0,Fl){Fl.push(...e);return}for(Fl=e,Tp=0;Tp<Fl.length;Tp++){const n=Fl[Tp];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Fl=null,Tp=0}}const Om=t=>t.id==null?t.flags&2?-1:1/0:t.id;function CR(t){const e=ei;try{for(Eo=0;Eo<Xi.length;Eo++){const n=Xi[Eo];n&&!(n.flags&8)&&(Ll.NODE_ENV!=="production"&&e(n),n.flags&4&&(n.flags&=-2),Rl(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Eo<Xi.length;Eo++){const n=Xi[Eo];n&&(n.flags&=-2)}Eo=-1,Xi.length=0,Ev(),xv=null,(Xi.length||Ap.length)&&CR()}}let Ip,Sv=[];function kR(t,e){var n,i;Ip=t,Ip?(Ip.enabled=!0,Sv.forEach(({event:r,args:s})=>Ip.emit(r,...s)),Sv=[]):typeof window<"u"&&window.HTMLElement&&!((i=(n=window.navigator)==null?void 0:n.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{kR(r,e)}),setTimeout(()=>{Ip||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Sv=[])},3e3)):Sv=[]}let Yn=null,Av=null;function Nm(t){const e=Yn;return Yn=t,Av=t&&t.type.__scopeId||null,e}function PR(t){Av=t}function LR(){Av=null}const RR=t=>wn;function wn(t,e=Yn,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&qv(-1);const s=Nm(e);let o;try{o=t(...r)}finally{Nm(s),i._d&&qv(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function ve(t,e){if(Yn===null)return t;const n=Wm(Yn),i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=te]=e[r];s&&(Nt(s)&&(s={mounted:s,updated:s}),s.deep&&wa(o),i.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function So(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(ya(),Lr(l,n,8,[t.el,a,t,e]),ga())}}const DR=Symbol("_vte"),FR=t=>t.__isTeleport,Cm=t=>t&&(t.disabled||t.disabled===""),jR=t=>t&&(t.defer||t.defer===""),GR=t=>typeof SVGElement<"u"&&t instanceof SVGElement,$R=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,gS=(t,e)=>{const n=t&&t.to;return jt(n)?e?e(n):null:n},UR={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,s,o,a,l,c){const{mc:p,pc:d,pbc:f,o:{insert:y,querySelector:g,createText:b,createComment:x}}=c,A=Cm(e.props);let{shapeFlag:T,children:w,dynamicChildren:_}=e;if(t==null){const M=e.el=b(""),I=e.anchor=b("");y(M,n,i),y(I,n,i);const N=(P,D)=>{T&16&&(r&&r.isCE&&(r.ce._teleportTarget=P),p(w,P,D,r,s,o,a,l))},C=()=>{const P=e.target=gS(e.props,g),D=VR(P,e,b,y);P&&(o!=="svg"&&GR(P)?o="svg":o!=="mathml"&&$R(P)&&(o="mathml"),A||(N(P,D),Mv(e,!1)))};A&&(N(n,I),Mv(e,!0)),jR(e.props)?Jn(()=>{C(),e.el.__isMounted=!0},s):C()}else{if(jR(e.props)&&!t.el.__isMounted){Jn(()=>{UR.process(t,e,n,i,r,s,o,a,l,c),delete t.el.__isMounted},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,I=e.target=t.target,N=e.targetAnchor=t.targetAnchor,C=Cm(t.props),P=C?n:I,D=C?M:N;if(o==="svg"||GR(I)?o="svg":(o==="mathml"||$R(I))&&(o="mathml"),_?(f(t.dynamicChildren,_,P,r,s,o,a),HS(t,e,!0)):l||d(t,e,P,D,r,s,o,a,!1),A)C?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Tv(e,n,M,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=gS(e.props,g);U&&Tv(e,U,null,c,0)}else C&&Tv(e,I,N,c,1);Mv(e,A)}},remove(t,e,n,{um:i,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:p,target:d,props:f}=t;if(d&&(r(c),r(p)),s&&r(l),o&16){const y=s||!Cm(f);for(let g=0;g<a.length;g++){const b=a[g];i(b,e,n,y,!!b.dynamicChildren)}}},move:Tv,hydrate:Tft};function Tv(t,e,n,{o:{insert:i},m:r},s=2){s===0&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:p}=t,d=s===2;if(d&&i(o,e,n),(!d||Cm(p))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);d&&i(a,e,n)}function Tft(t,e,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:p}},d){const f=e.target=gS(e.props,l);if(f){const y=Cm(e.props),g=f._lpa||f.firstChild;if(e.shapeFlag&16)if(y)e.anchor=d(o(t),e,a(t),n,i,r,s),e.targetStart=g,e.targetAnchor=g&&o(g);else{e.anchor=o(t);let b=g;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||VR(f,e,p,c),d(g&&o(g),e,f,n,i,r,s)}Mv(e,y)}return e.anchor&&o(e.anchor)}const vS=UR;function Mv(t,e){const n=t.ctx;if(n&&n.ut){let i,r;for(e?(i=t.el,r=t.anchor):(i=t.targetStart,r=t.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function VR(t,e,n,i){const r=e.targetStart=n(""),s=e.targetAnchor=n("");return r[DR]=s,t&&(i(r,t),i(s,t)),s}const jl=Symbol("_leaveCb"),Iv=Symbol("_enterCb");function Ov(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ni(()=>{t.isMounted=!0}),hs(()=>{t.isUnmounting=!0}),t}const us=[Function,Array],Nv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:us,onEnter:us,onAfterEnter:us,onEnterCancelled:us,onBeforeLeave:us,onLeave:us,onAfterLeave:us,onLeaveCancelled:us,onBeforeAppear:us,onAppear:us,onAfterAppear:us,onAppearCancelled:us},zR=t=>{const e=t.subTree;return e.component?zR(e.component):e},Mft={name:"BaseTransition",props:Nv,setup(t,{slots:e}){const n=Cn(),i=Ov();return()=>{const r=e.default&&km(e.default(),!0);if(!r||!r.length)return;const s=BR(r),o=Ct(t),{mode:a}=o;if(i.isLeaving)return _S(s);const l=qR(s);if(!l)return _S(s);let c=yu(l,o,i,n,d=>c=d);l.type!==On&&Ao(l,c);let p=n.subTree&&qR(n.subTree);if(p&&p.type!==On&&!Ys(l,p)&&zR(n).type!==On){let d=yu(p,o,i,n);if(Ao(p,d),a==="out-in"&&l.type!==On)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,p=void 0},_S(s);a==="in-out"&&l.type!==On?d.delayLeave=(f,y,g)=>{const b=WR(i,p);b[String(p.key)]=p,f[jl]=()=>{y(),f[jl]=void 0,delete c.delayedLeave,p=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return s}}};function BR(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==On){e=n;break}}return e}const bS=Mft;function WR(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function yu(t,e,n,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:y,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:x,onAppear:A,onAfterAppear:T,onAppearCancelled:w}=e,_=String(t.key),M=WR(n,t),I=(P,D)=>{P&&Lr(P,i,9,D)},N=(P,D)=>{const U=D[1];I(P,D),_t(P)?P.every(j=>j.length<=1)&&U():P.length<=1&&U()},C={mode:o,persisted:a,beforeEnter(P){let D=l;if(!n.isMounted)if(s)D=x||l;else return;P[jl]&&P[jl](!0);const U=M[_];U&&Ys(t,U)&&U.el[jl]&&U.el[jl](),I(D,[P])},enter(P){let D=c,U=p,j=d;if(!n.isMounted)if(s)D=A||c,U=T||p,j=w||d;else return;let G=!1;const Z=P[Iv]=u=>{G||(G=!0,u?I(j,[P]):I(U,[P]),C.delayedLeave&&C.delayedLeave(),P[Iv]=void 0)};D?N(D,[P,Z]):Z()},leave(P,D){const U=String(t.key);if(P[Iv]&&P[Iv](!0),n.isUnmounting)return D();I(f,[P]);let j=!1;const G=P[jl]=Z=>{j||(j=!0,D(),Z?I(b,[P]):I(g,[P]),P[jl]=void 0,M[U]===t&&delete M[U])};M[U]=t,y?N(y,[P,G]):G()},clone(P){const D=yu(P,e,n,i,r);return r&&r(D),D}};return C}function _S(t){if(Rm(t))return t=Js(t),t.children=null,t}function qR(t){if(!Rm(t))return FR(t.type)&&t.children?BR(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Nt(n.default))return n.default()}}function Ao(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ao(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function km(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Me?(o.patchFlag&128&&r++,i=i.concat(km(o.children,e,a))):(e||o.type!==On)&&i.push(a!=null?Js(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Yt(t,e){return Nt(t)?ee({name:t.name},e,{setup:t}):t}function wS(){const t=Cn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function xS(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Pm(t){const e=Cn(),n=Sp(null);if(e){const i=e.refs===te?e.refs={}:e.refs;Object.defineProperty(i,t,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function Lm(t,e,n,i,r=!1){if(_t(t)){t.forEach((g,b)=>Lm(g,e&&(_t(e)?e[b]:e),n,i,r));return}if(Gl(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Lm(t,e,n,i.component.subTree);return}const s=i.shapeFlag&4?Wm(i.component):i.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,p=a.refs===te?a.refs={}:a.refs,d=a.setupState,f=Ct(d),y=d===te?()=>!1:g=>ye(f,g);if(c!=null&&c!==l&&(jt(c)?(p[c]=null,y(c)&&(d[c]=null)):ne(c)&&(c.value=null)),Nt(l))Rl(l,a,12,[o,p]);else{const g=jt(l),b=ne(l);if(g||b){const x=()=>{if(t.f){const A=g?y(l)?d[l]:p[l]:l.value;r?_t(A)&&XE(A,s):_t(A)?A.includes(s)||A.push(s):g?(p[l]=[s],y(l)&&(d[l]=p[l])):(l.value=[s],t.k&&(p[t.k]=l.value))}else g?(p[l]=o,y(l)&&(d[l]=o)):b&&(l.value=o,t.k&&(p[t.k]=o))};o?(x.id=-1,Jn(x,n)):x()}}}let HR=!1;const Op=()=>{HR||(console.error("Hydration completed but contains mismatches."),HR=!0)},Ift=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Oft=t=>t.namespaceURI.includes("MathML"),Cv=t=>{if(t.nodeType===1){if(Ift(t))return"svg";if(Oft(t))return"mathml"}},Np=t=>t.nodeType===8;function Nft(t){const{mt:e,p:n,o:{patchProp:i,createText:r,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=t,p=(w,_)=>{if(!_.hasChildNodes()){n(null,w,_),Ev(),_._vnode=w;return}d(_.firstChild,w,null,null,null),Ev(),_._vnode=w},d=(w,_,M,I,N,C=!1)=>{C=C||!!_.dynamicChildren;const P=Np(w)&&w.data==="[",D=()=>b(w,_,M,I,N,P),{type:U,ref:j,shapeFlag:G,patchFlag:Z}=_;let u=w.nodeType;_.el=w,Z===-2&&(C=!1,_.dynamicChildren=null);let m=null;switch(U){case To:u!==3?_.children===""?(l(_.el=r(""),o(w),w),m=w):m=D():(w.data!==_.children&&(Op(),w.data=_.children),m=s(w));break;case On:T(w)?(m=s(w),A(_.el=w.content.firstChild,w,M)):u!==8||P?m=D():m=s(w);break;case Ul:if(P&&(w=s(w),u=w.nodeType),u===1||u===3){m=w;const S=!_.children.length;for(let k=0;k<_.staticCount;k++)S&&(_.children+=m.nodeType===1?m.outerHTML:m.data),k===_.staticCount-1&&(_.anchor=m),m=s(m);return P?s(m):m}else D();break;case Me:P?m=g(w,_,M,I,N,C):m=D();break;default:if(G&1)(u!==1||_.type.toLowerCase()!==w.tagName.toLowerCase())&&!T(w)?m=D():m=f(w,_,M,I,N,C);else if(G&6){_.slotScopeIds=N;const S=o(w);if(P?m=x(w):Np(w)&&w.data==="teleport start"?m=x(w,w.data,"teleport end"):m=s(w),e(_,S,null,M,I,Cv(S),C),Gl(_)&&!_.type.__asyncResolved){let k;P?(k=zt(Me),k.anchor=m?m.previousSibling:S.lastChild):k=w.nodeType===3?Xs(""):zt("div"),k.el=w,_.component.subTree=k}}else G&64?u!==8?m=D():m=_.type.hydrate(w,_,M,I,N,C,t,y):G&128&&(m=_.type.hydrate(w,_,M,I,Cv(o(w)),N,C,t,d))}return j!=null&&Lm(j,null,I,_),m},f=(w,_,M,I,N,C)=>{C=C||!!_.dynamicChildren;const{type:P,props:D,patchFlag:U,shapeFlag:j,dirs:G,transition:Z}=_,u=P==="input"||P==="option";if(u||U!==-1){G&&So(_,null,M,"created");let m=!1;if(T(w)){m=PD(null,Z)&&M&&M.vnode.props&&M.vnode.props.appear;const k=w.content.firstChild;m&&Z.beforeEnter(k),A(k,w,M),_.el=w=k}if(j&16&&!(D&&(D.innerHTML||D.textContent))){let k=y(w.firstChild,_,w,M,I,N,C);for(;k;){kv(w,1)||Op();const z=k;k=k.nextSibling,a(z)}}else if(j&8){let k=_.children;k[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(k=k.slice(1)),w.textContent!==k&&(kv(w,0)||Op(),w.textContent=_.children)}if(D){if(u||!C||U&48){const k=w.tagName.includes("-");for(const z in D)(u&&(z.endsWith("value")||z==="indeterminate")||hu(z)&&!Nl(z)||z[0]==="."||k)&&i(w,z,null,D[z],void 0,M)}else if(D.onClick)i(w,"onClick",null,D.onClick,void 0,M);else if(U&4&&Ji(D.style))for(const k in D.style)D.style[k]}let S;(S=D&&D.onVnodeBeforeMount)&&yr(S,M,_),G&&So(_,null,M,"beforeMount"),((S=D&&D.onVnodeMounted)||G||m)&&BD(()=>{S&&yr(S,M,_),m&&Z.enter(w),G&&So(_,null,M,"mounted")},I)}return w.nextSibling},y=(w,_,M,I,N,C,P)=>{P=P||!!_.dynamicChildren;const D=_.children,U=D.length;for(let j=0;j<U;j++){const G=P?D[j]:D[j]=mr(D[j]),Z=G.type===To;w?(Z&&!P&&j+1<U&&mr(D[j+1]).type===To&&(l(r(w.data.slice(G.children.length)),M,s(w)),w.data=G.children),w=d(w,G,I,N,C,P)):Z&&!G.children?l(G.el=r(""),M):(kv(M,1)||Op(),n(null,G,M,null,I,N,Cv(M),C))}return w},g=(w,_,M,I,N,C)=>{const{slotScopeIds:P}=_;P&&(N=N?N.concat(P):P);const D=o(w),U=y(s(w),_,D,M,I,N,C);return U&&Np(U)&&U.data==="]"?s(_.anchor=U):(Op(),l(_.anchor=c("]"),D,U),U)},b=(w,_,M,I,N,C)=>{if(kv(w.parentElement,1)||Op(),_.el=null,C){const U=x(w);for(;;){const j=s(w);if(j&&j!==U)a(j);else break}}const P=s(w),D=o(w);return a(w),n(null,_,D,P,M,I,Cv(D),N),M&&(M.vnode.el=_.el,Bv(M,_.el)),P},x=(w,_="[",M="]")=>{let I=0;for(;w;)if(w=s(w),w&&Np(w)&&(w.data===_&&I++,w.data===M)){if(I===0)return s(w);I--}return w},A=(w,_,M)=>{const I=_.parentNode;I&&I.replaceChild(w,_);let N=M;for(;N;)N.vnode.el===_&&(N.vnode.el=N.subTree.el=w),N=N.parent},T=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[p,d]}const ZR="data-allow-mismatch",Cft={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function kv(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(ZR);)t=t.parentElement;const n=t&&t.getAttribute(ZR);if(n==null)return!1;if(n==="")return!0;{const i=n.split(",");return e===0&&i.includes("children")?!0:n.split(",").includes(Cft[e])}}const kft=sv().requestIdleCallback||(t=>setTimeout(t,1)),Pft=sv().cancelIdleCallback||(t=>clearTimeout(t)),YR=(t=1e4)=>e=>{const n=kft(e,{timeout:t});return()=>Pft(n)};function Lft(t){const{top:e,left:n,bottom:i,right:r}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||i>0&&i<s)&&(n>0&&n<o||r>0&&r<o)}const JR=t=>(e,n)=>{const i=new IntersectionObserver(r=>{for(const s of r)if(s.isIntersecting){i.disconnect(),e();break}},t);return n(r=>{if(r instanceof Element){if(Lft(r))return e(),i.disconnect(),!1;i.observe(r)}}),()=>i.disconnect()},XR=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},QR=(t=[])=>(e,n)=>{jt(t)&&(t=[t]);let i=!1;const r=o=>{i||(i=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,r)})};return n(o=>{for(const a of t)o.addEventListener(a,r,{once:!0})}),s};function Rft(t,e){if(Np(t)&&t.data==="["){let n=1,i=t.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(Np(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else e(t)}const Gl=t=>!!t.type.__asyncLoader;function Pv(t){Nt(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:i,delay:r=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,p,d=0;const f=()=>(d++,c=null,y()),y=()=>{let g;return c||(g=c=e().catch(b=>{if(b=b instanceof Error?b:new Error(String(b)),l)return new Promise((x,A)=>{l(b,()=>x(f()),()=>A(b),d+1)});throw b}).then(b=>g!==c&&c?c:(b&&(b.__esModule||b[Symbol.toStringTag]==="Module")&&(b=b.default),p=b,b)))};return Yt({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,b,x){const A=s?()=>{const T=s(x,w=>Rft(g,w));T&&(b.bum||(b.bum=[])).push(T)}:x;p?A():y().then(()=>!b.isUnmounted&&A())},get __asyncResolved(){return p},setup(){const g=Nn;if(xS(g),p)return()=>ES(p,g);const b=w=>{c=null,Dl(w,g,13,!i)};if(a&&g.suspense||kp)return y().then(w=>()=>ES(w,g)).catch(w=>(b(w),()=>i?zt(i,{error:w}):null));const x=J(!1),A=J(),T=J(!!r);return r&&setTimeout(()=>{T.value=!1},r),o!=null&&setTimeout(()=>{if(!x.value&&!A.value){const w=new Error(`Async component timed out after ${o}ms.`);b(w),A.value=w}},o),y().then(()=>{x.value=!0,g.parent&&Rm(g.parent.vnode)&&g.parent.update()}).catch(w=>{b(w),A.value=w}),()=>{if(x.value&&p)return ES(p,g);if(A.value&&i)return zt(i,{error:A.value});if(n&&!T.value)return zt(n)}}})}function ES(t,e){const{ref:n,props:i,children:r,ce:s}=e.vnode,o=zt(t,i,r);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const Rm=t=>t.type.__isKeepAlive,Dft={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Cn(),i=n.ctx;if(!i.renderer)return()=>{const T=e.default&&e.default();return T&&T.length===1?T[0]:T};const r=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:p,o:{createElement:d}}}=i,f=d("div");i.activate=(T,w,_,M,I)=>{const N=T.component;c(T,w,_,0,a),l(N.vnode,T,w,_,N,a,M,T.slotScopeIds,I),Jn(()=>{N.isDeactivated=!1,N.a&&bp(N.a);const C=T.props&&T.props.onVnodeMounted;C&&yr(C,N.parent,T)},a)},i.deactivate=T=>{const w=T.component;Uv(w.m),Uv(w.a),c(T,f,null,1,a),Jn(()=>{w.da&&bp(w.da);const _=T.props&&T.props.onVnodeUnmounted;_&&yr(_,w.parent,T),w.isDeactivated=!0},a)};function y(T){TS(T),p(T,n,a,!0)}function g(T){r.forEach((w,_)=>{const M=Jv(w.type);M&&!T(M)&&b(_)})}function b(T){const w=r.get(T);w&&(!o||!Ys(w,o))?y(w):o&&TS(o),r.delete(T),s.delete(T)}Vn(()=>[t.include,t.exclude],([T,w])=>{T&&g(_=>Dm(T,_)),w&&g(_=>!Dm(w,_))},{flush:"post",deep:!0});let x=null;const A=()=>{x!=null&&(Wv(n.subTree.type)?Jn(()=>{r.set(x,Lv(n.subTree))},n.subTree.suspense):r.set(x,Lv(n.subTree)))};return ni(A),gu(A),hs(()=>{r.forEach(T=>{const{subTree:w,suspense:_}=n,M=Lv(w);if(T.type===M.type&&T.key===M.key){TS(M);const I=M.component.da;I&&Jn(I,_);return}y(T)})}),()=>{if(x=null,!e.default)return o=null;const T=e.default(),w=T[0];if(T.length>1)return o=null,T;if(!Zs(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let _=Lv(w);if(_.type===On)return o=null,_;const M=_.type,I=Jv(Gl(_)?_.type.__asyncResolved||{}:M),{include:N,exclude:C,max:P}=t;if(N&&(!I||!Dm(N,I))||C&&I&&Dm(C,I))return _.shapeFlag&=-257,o=_,w;const D=_.key==null?M:_.key,U=r.get(D);return _.el&&(_=Js(_),w.shapeFlag&128&&(w.ssContent=_)),x=D,U?(_.el=U.el,_.component=U.component,_.transition&&Ao(_,_.transition),_.shapeFlag|=512,s.delete(D),s.add(D)):(s.add(D),P&&s.size>parseInt(P,10)&&b(s.values().next().value)),_.shapeFlag|=256,o=_,Wv(w.type)?w:_}}},KR=Dft;function Dm(t,e){return _t(t)?t.some(n=>Dm(n,e)):jt(t)?t.split(",").includes(e):_dt(t)?(t.lastIndex=0,t.test(e)):!1}function SS(t,e){tD(t,"a",e)}function AS(t,e){tD(t,"da",e)}function tD(t,e,n=Nn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Rv(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Rm(r.parent.vnode)&&Fft(i,e,n,r),r=r.parent}}function Fft(t,e,n,i){const r=Rv(e,t,i,!0);$l(()=>{XE(i[e],r)},n)}function TS(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Lv(t){return t.shapeFlag&128?t.ssContent:t}function Rv(t,e,n=Nn,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{ya();const a=wu(n),l=Lr(e,n,t,o);return a(),ga(),l});return i?r.unshift(s):r.push(s),s}}const xa=t=>(e,n=Nn)=>{(!kp||t==="sp")&&Rv(t,(...i)=>e(...i),n)},Fm=xa("bm"),ni=xa("m"),Dv=xa("bu"),gu=xa("u"),hs=xa("bum"),$l=xa("um"),MS=xa("sp"),IS=xa("rtg"),OS=xa("rtc");function Fv(t,e=Nn){Rv("ec",t,e)}const NS="components",jft="directives";function xn(t,e){return CS(NS,t,!0,e)||t}const eD=Symbol.for("v-ndc");function jv(t){return jt(t)?CS(NS,t,!1)||t:t||eD}function be(t){return CS(jft,t)}function CS(t,e,n=!0,i=!1){const r=Yn||Nn;if(r){const s=r.type;if(t===NS){const a=Jv(s,!1);if(a&&(a===e||a===Re(e)||a===Cl(Re(e))))return s}const o=nD(r[t]||s[t],e)||nD(r.appContext[t],e);return!o&&i?s:o}}function nD(t,e){return t&&(t[e]||t[Re(e)]||t[Cl(Re(e))])}function Ea(t,e,n,i){let r;const s=n&&n[i],o=_t(t);if(o||jt(t)){const a=o&&Ji(t);let l=!1;a&&(l=!fr(t),t=hv(t)),r=new Array(t.length);for(let c=0,p=t.length;c<p;c++)r[c]=e(l?Ai(t[c]):t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,s&&s[a])}else if(Te(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const p=a[l];r[l]=e(t[p],p,l,s&&s[l])}}else r=[];return n&&(n[i]=r),r}function iD(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(_t(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return t}function ps(t,e,n={},i,r){if(Yn.ce||Yn.parent&&Gl(Yn.parent)&&Yn.parent.ce)return e!=="default"&&(n.name=e),st(),ke(Me,null,[zt("slot",n,i&&i())],64);let s=t[e];s&&s._c&&(s._d=!1),st();const o=s&&kS(s(n)),a=n.key||o&&o.key,l=ke(Me,{key:(a&&!pr(a)?a:`_${e}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&t._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function kS(t){return t.some(e=>Zs(e)?!(e.type===On||e.type===Me&&!kS(e.children)):!0)?t:null}function rD(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:du(i)]=t[i];return n}const PS=t=>t?JD(t)?Wm(t):PS(t.parent):null,jm=ee(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>PS(t.parent),$root:t=>PS(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>GS(t),$forceUpdate:t=>t.f||(t.f=()=>{yS(t.update)}),$nextTick:t=>t.n||(t.n=Rr.bind(t.proxy)),$watch:t=>tmt.bind(t)}),LS=(t,e)=>t!==te&&!t.__isScriptSetup&&ye(t,e),RS={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(LS(i,e))return o[e]=1,i[e];if(r!==te&&ye(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ye(c,e))return o[e]=3,s[e];if(n!==te&&ye(n,e))return o[e]=4,n[e];jS&&(o[e]=0)}}const p=jm[e];let d,f;if(p)return e==="$attrs"&&Si(t.attrs,"get",""),p(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==te&&ye(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,ye(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return LS(r,e)?(r[e]=n,!0):i!==te&&ye(i,e)?(i[e]=n,!0):ye(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==te&&ye(t,o)||LS(e,o)||(a=s[0])&&ye(a,o)||ye(i,o)||ye(jm,o)||ye(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ye(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Gft=ee({},RS,{get(t,e){if(e!==Symbol.unscopables)return RS.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Mdt(e)}});function sD(){return null}function oD(){return null}function aD(t){}function lD(t){}function cD(){return null}function uD(){}function hD(t,e){return null}function pD(){return fD().slots}function dD(){return fD().attrs}function fD(){const t=Cn();return t.setupContext||(t.setupContext=tF(t))}function Gm(t){return _t(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function DS(t,e){const n=Gm(t);for(const i in e){if(i.startsWith("__skip"))continue;let r=n[i];r?_t(r)||Nt(r)?r=n[i]={type:r,default:e[i]}:r.default=e[i]:r===null&&(r=n[i]={default:e[i]}),r&&e[`__skip_${i}`]&&(r.skipFactory=!0)}return n}function FS(t,e){return!t||!e?t||e:_t(t)&&_t(e)?t.concat(e):ee({},Gm(t),Gm(e))}function mD(t,e){const n={};for(const i in t)e.includes(i)||Object.defineProperty(n,i,{enumerable:!0,get:()=>t[i]});return n}function yD(t){const e=Cn();let n=t();return iA(),QE(n)&&(n=n.catch(i=>{throw wu(e),i})),[n,()=>wu(e)]}let jS=!0;function $ft(t){const e=GS(t),n=t.proxy,i=t.ctx;jS=!1,e.beforeCreate&&gD(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:p,beforeMount:d,mounted:f,beforeUpdate:y,updated:g,activated:b,deactivated:x,beforeDestroy:A,beforeUnmount:T,destroyed:w,unmounted:_,render:M,renderTracked:I,renderTriggered:N,errorCaptured:C,serverPrefetch:P,expose:D,inheritAttrs:U,components:j,directives:G,filters:Z}=e;if(c&&Uft(c,i,null),o)for(const m in o){const S=o[m];Nt(S)&&(i[m]=S.bind(n))}if(r){const m=r.call(n,n);Te(m)&&(t.data=Zn(m))}if(jS=!0,s)for(const m in s){const S=s[m],k=Nt(S)?S.bind(n,n):Nt(S.get)?S.get.bind(n,n):ei,z=!Nt(S)&&Nt(S.set)?S.set.bind(n):ei,Y=Bt({get:k,set:z});Object.defineProperty(i,m,{enumerable:!0,configurable:!0,get:()=>Y.value,set:pt=>Y.value=pt})}if(a)for(const m in a)vD(a[m],i,n,m);if(l){const m=Nt(l)?l.call(n):l;Reflect.ownKeys(m).forEach(S=>{$v(S,m[S])})}p&&gD(p,t,"c");function u(m,S){_t(S)?S.forEach(k=>m(k.bind(n))):S&&m(S.bind(n))}if(u(Fm,d),u(ni,f),u(Dv,y),u(gu,g),u(SS,b),u(AS,x),u(Fv,C),u(OS,I),u(IS,N),u(hs,T),u($l,_),u(MS,P),_t(D))if(D.length){const m=t.exposed||(t.exposed={});D.forEach(S=>{Object.defineProperty(m,S,{get:()=>n[S],set:k=>n[S]=k})})}else t.exposed||(t.exposed={});M&&t.render===ei&&(t.render=M),U!=null&&(t.inheritAttrs=U),j&&(t.components=j),G&&(t.directives=G),P&&xS(t)}function Uft(t,e,n=ei){_t(t)&&(t=$S(t));for(const i in t){const r=t[i];let s;Te(r)?"default"in r?s=In(r.from||i,r.default,!0):s=In(r.from||i):s=In(r),ne(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function gD(t,e,n){Lr(_t(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function vD(t,e,n,i){let r=i.includes(".")?FD(n,i):()=>n[i];if(jt(t)){const s=e[t];Nt(s)&&Vn(r,s)}else if(Nt(t))Vn(r,t.bind(n));else if(Te(t))if(_t(t))t.forEach(s=>vD(s,e,n,i));else{const s=Nt(t.handler)?t.handler.bind(n):e[t.handler];Nt(s)&&Vn(r,s,t)}}function GS(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(c=>Gv(l,c,o,!0)),Gv(l,e,o)),Te(e)&&s.set(e,l),l}function Gv(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Gv(t,s,n,!0),r&&r.forEach(o=>Gv(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=Vft[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Vft={data:bD,props:_D,emits:_D,methods:$m,computed:$m,beforeCreate:Qi,created:Qi,beforeMount:Qi,mounted:Qi,beforeUpdate:Qi,updated:Qi,beforeDestroy:Qi,beforeUnmount:Qi,destroyed:Qi,unmounted:Qi,activated:Qi,deactivated:Qi,errorCaptured:Qi,serverPrefetch:Qi,components:$m,directives:$m,watch:Bft,provide:bD,inject:zft};function bD(t,e){return e?t?function(){return ee(Nt(t)?t.call(this,this):t,Nt(e)?e.call(this,this):e)}:e:t}function zft(t,e){return $m($S(t),$S(e))}function $S(t){if(_t(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Qi(t,e){return t?[...new Set([].concat(t,e))]:e}function $m(t,e){return t?ee(Object.create(null),t,e):e}function _D(t,e){return t?_t(t)&&_t(e)?[...new Set([...t,...e])]:ee(Object.create(null),Gm(t),Gm(e??{})):e}function Bft(t,e){if(!t)return e;if(!e)return t;const n=ee(Object.create(null),t);for(const i in e)n[i]=Qi(t[i],e[i]);return n}function wD(){return{app:null,config:{isNativeTag:xm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wft=0;function qft(t,e){return function(n,i=null){Nt(n)||(n=ee({},n)),i!=null&&!Te(i)&&(i=null);const r=wD(),s=new WeakSet,o=[];let a=!1;const l=r.app={_uid:Wft++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:lA,get config(){return r.config},set config(c){},use(c,...p){return s.has(c)||(c&&Nt(c.install)?(s.add(c),c.install(l,...p)):Nt(c)&&(s.add(c),c(l,...p))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,p){return p?(r.components[c]=p,l):r.components[c]},directive(c,p){return p?(r.directives[c]=p,l):r.directives[c]},mount(c,p,d){if(!a){const f=l._ceVNode||zt(n,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),p&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Wm(f.component)}},onUnmount(c){o.push(c)},unmount(){a&&(Lr(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,p){return r.provides[c]=p,l},runWithContext(c){const p=vu;vu=l;try{return c()}finally{vu=p}}};return l}}let vu=null;function $v(t,e){if(Nn){let n=Nn.provides;const i=Nn.parent&&Nn.parent.provides;i===n&&(n=Nn.provides=Object.create(i)),n[t]=e}}function In(t,e,n=!1){const i=Nn||Yn;if(i||vu){const r=vu?vu._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Nt(e)?e.call(i&&i.proxy):e}}function US(){return!!(Nn||Yn||vu)}const xD={},ED=()=>Object.create(xD),SD=t=>Object.getPrototypeOf(t)===xD;function Hft(t,e,n,i=!1){const r={},s=ED();t.propsDefaults=Object.create(null),AD(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:hS(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function Zft(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=Ct(r),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let d=0;d<p.length;d++){let f=p[d];if(Vv(t.emitsOptions,f))continue;const y=e[f];if(l)if(ye(s,f))y!==s[f]&&(s[f]=y,c=!0);else{const g=Re(f);r[g]=VS(l,a,g,y,t,!1)}else y!==s[f]&&(s[f]=y,c=!0)}}}else{AD(t,e,r,s)&&(c=!0);let p;for(const d in a)(!e||!ye(e,d)&&((p=dr(d))===d||!ye(e,p)))&&(l?n&&(n[d]!==void 0||n[p]!==void 0)&&(r[d]=VS(l,a,d,void 0,t,!0)):delete r[d]);if(s!==a)for(const d in s)(!e||!ye(e,d))&&(delete s[d],c=!0)}c&&va(t.attrs,"set","")}function AD(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Nl(l))continue;const c=e[l];let p;r&&ye(r,p=Re(l))?!s||!s.includes(p)?n[p]=c:(a||(a={}))[p]=c:Vv(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Ct(n),c=a||te;for(let p=0;p<s.length;p++){const d=s[p];n[d]=VS(r,l,d,c[d],t,!ye(c,d))}}return o}function VS(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=ye(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Nt(l)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const p=wu(r);i=c[n]=l.call(null,e),p()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===dr(n))&&(i=!0))}return i}const Yft=new WeakMap;function TD(t,e,n=!1){const i=n?Yft:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!Nt(t)){const p=d=>{l=!0;const[f,y]=TD(d,e,!0);ee(o,f),y&&a.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!l)return Te(t)&&i.set(t,yp),yp;if(_t(s))for(let p=0;p<s.length;p++){const d=Re(s[p]);MD(d)&&(o[d]=te)}else if(s)for(const p in s){const d=Re(p);if(MD(d)){const f=s[p],y=o[d]=_t(f)||Nt(f)?{type:f}:ee({},f),g=y.type;let b=!1,x=!0;if(_t(g))for(let A=0;A<g.length;++A){const T=g[A],w=Nt(T)&&T.name;if(w==="Boolean"){b=!0;break}else w==="String"&&(x=!1)}else b=Nt(g)&&g.name==="Boolean";y[0]=b,y[1]=x,(b||ye(y,"default"))&&a.push(d)}}const c=[o,a];return Te(t)&&i.set(t,c),c}function MD(t){return t[0]!=="$"&&!Nl(t)}const ID=t=>t[0]==="_"||t==="$stable",zS=t=>_t(t)?t.map(mr):[mr(t)],Jft=(t,e,n)=>{if(e._n)return e;const i=wn((...r)=>(Ll.NODE_ENV!=="production"&&Nn&&(!n||(n.root,Nn.root)),zS(e(...r))),n);return i._c=!1,i},OD=(t,e,n)=>{const i=t._ctx;for(const r in t){if(ID(r))continue;const s=t[r];if(Nt(s))e[r]=Jft(r,s,i);else if(s!=null){const o=zS(s);e[r]=()=>o}}},ND=(t,e)=>{const n=zS(e);t.slots.default=()=>n},CD=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},Xft=(t,e,n)=>{const i=t.slots=ED();if(t.vnode.shapeFlag&32){const r=e._;r?(CD(i,e,n),n&&q7(i,"_",r,!0)):OD(e,i)}else e&&ND(t,e)},Qft=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=te;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:CD(r,e,n):(s=!e.$stable,OD(e,r)),o=e}else e&&(ND(t,e),o={default:1});if(s)for(const a in r)!ID(a)&&o[a]==null&&delete r[a]},Jn=BD;function BS(t){return kD(t)}function WS(t){return kD(t,Nft)}function kD(t,e){const n=sv();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:p,parentNode:d,nextSibling:f,setScopeId:y=ei,insertStaticContent:g}=t,b=($,F,H,it=null,et=null,rt=null,dt=void 0,L=null,R=!!F.dynamicChildren)=>{if($===F)return;$&&!Ys($,F)&&(it=Pe($),ot($,et,rt,!0),$=null),F.patchFlag===-2&&(R=!1,F.dynamicChildren=null);const{type:W,ref:X,shapeFlag:V}=F;switch(W){case To:x($,F,H,it);break;case On:A($,F,H,it);break;case Ul:$==null&&T(F,H,it,dt);break;case Me:j($,F,H,it,et,rt,dt,L,R);break;default:V&1?M($,F,H,it,et,rt,dt,L,R):V&6?G($,F,H,it,et,rt,dt,L,R):(V&64||V&128)&&W.process($,F,H,it,et,rt,dt,L,R,tn)}X!=null&&et&&Lm(X,$&&$.ref,rt,F||$,!F)},x=($,F,H,it)=>{if($==null)i(F.el=a(F.children),H,it);else{const et=F.el=$.el;F.children!==$.children&&c(et,F.children)}},A=($,F,H,it)=>{$==null?i(F.el=l(F.children||""),H,it):F.el=$.el},T=($,F,H,it)=>{[$.el,$.anchor]=g($.children,F,H,it,$.el,$.anchor)},w=({el:$,anchor:F},H,it)=>{let et;for(;$&&$!==F;)et=f($),i($,H,it),$=et;i(F,H,it)},_=({el:$,anchor:F})=>{let H;for(;$&&$!==F;)H=f($),r($),$=H;r(F)},M=($,F,H,it,et,rt,dt,L,R)=>{F.type==="svg"?dt="svg":F.type==="math"&&(dt="mathml"),$==null?I(F,H,it,et,rt,dt,L,R):P($,F,et,rt,dt,L,R)},I=($,F,H,it,et,rt,dt,L)=>{let R,W;const{props:X,shapeFlag:V,transition:q,dirs:ut}=$;if(R=$.el=o($.type,rt,X&&X.is,X),V&8?p(R,$.children):V&16&&C($.children,R,null,it,et,qS($,rt),dt,L),ut&&So($,null,it,"created"),N(R,$,$.scopeId,dt,it),X){for(const qt in X)qt!=="value"&&!Nl(qt)&&s(R,qt,null,X[qt],rt,it);"value"in X&&s(R,"value",null,X.value,rt),(W=X.onVnodeBeforeMount)&&yr(W,it,$)}ut&&So($,null,it,"beforeMount");const bt=PD(et,q);bt&&q.beforeEnter(R),i(R,F,H),((W=X&&X.onVnodeMounted)||bt||ut)&&Jn(()=>{W&&yr(W,it,$),bt&&q.enter(R),ut&&So($,null,it,"mounted")},et)},N=($,F,H,it,et)=>{if(H&&y($,H),it)for(let rt=0;rt<it.length;rt++)y($,it[rt]);if(et){let rt=et.subTree;if(F===rt||Wv(rt.type)&&(rt.ssContent===F||rt.ssFallback===F)){const dt=et.vnode;N($,dt,dt.scopeId,dt.slotScopeIds,et.parent)}}},C=($,F,H,it,et,rt,dt,L,R=0)=>{for(let W=R;W<$.length;W++){const X=$[W]=L?Vl($[W]):mr($[W]);b(null,X,F,H,it,et,rt,dt,L)}},P=($,F,H,it,et,rt,dt)=>{const L=F.el=$.el;let{patchFlag:R,dynamicChildren:W,dirs:X}=F;R|=$.patchFlag&16;const V=$.props||te,q=F.props||te;let ut;if(H&&bu(H,!1),(ut=q.onVnodeBeforeUpdate)&&yr(ut,H,F,$),X&&So(F,$,H,"beforeUpdate"),H&&bu(H,!0),(V.innerHTML&&q.innerHTML==null||V.textContent&&q.textContent==null)&&p(L,""),W?D($.dynamicChildren,W,L,H,it,qS(F,et),rt):dt||k($,F,L,null,H,it,qS(F,et),rt,!1),R>0){if(R&16)U(L,V,q,H,et);else if(R&2&&V.class!==q.class&&s(L,"class",null,q.class,et),R&4&&s(L,"style",V.style,q.style,et),R&8){const bt=F.dynamicProps;for(let qt=0;qt<bt.length;qt++){const Xt=bt[qt],an=V[Xt],Dn=q[Xt];(Dn!==an||Xt==="value")&&s(L,Xt,an,Dn,et,H)}}R&1&&$.children!==F.children&&p(L,F.children)}else!dt&&W==null&&U(L,V,q,H,et);((ut=q.onVnodeUpdated)||X)&&Jn(()=>{ut&&yr(ut,H,F,$),X&&So(F,$,H,"updated")},it)},D=($,F,H,it,et,rt,dt)=>{for(let L=0;L<F.length;L++){const R=$[L],W=F[L],X=R.el&&(R.type===Me||!Ys(R,W)||R.shapeFlag&70)?d(R.el):H;b(R,W,X,null,it,et,rt,dt,!0)}},U=($,F,H,it,et)=>{if(F!==H){if(F!==te)for(const rt in F)!Nl(rt)&&!(rt in H)&&s($,rt,F[rt],null,et,it);for(const rt in H){if(Nl(rt))continue;const dt=H[rt],L=F[rt];dt!==L&&rt!=="value"&&s($,rt,L,dt,et,it)}"value"in H&&s($,"value",F.value,H.value,et)}},j=($,F,H,it,et,rt,dt,L,R)=>{const W=F.el=$?$.el:a(""),X=F.anchor=$?$.anchor:a("");let{patchFlag:V,dynamicChildren:q,slotScopeIds:ut}=F;ut&&(L=L?L.concat(ut):ut),$==null?(i(W,H,it),i(X,H,it),C(F.children||[],H,X,et,rt,dt,L,R)):V>0&&V&64&&q&&$.dynamicChildren?(D($.dynamicChildren,q,H,et,rt,dt,L),(F.key!=null||et&&F===et.subTree)&&HS($,F,!0)):k($,F,H,X,et,rt,dt,L,R)},G=($,F,H,it,et,rt,dt,L,R)=>{F.slotScopeIds=L,$==null?F.shapeFlag&512?et.ctx.activate(F,H,it,dt,R):Z(F,H,it,et,rt,dt,R):u($,F,R)},Z=($,F,H,it,et,rt,dt)=>{const L=$.component=YD($,it,et);if(Rm($)&&(L.ctx.renderer=tn),XD(L,!1,dt),L.asyncDep){if(et&&et.registerDep(L,m,dt),!$.el){const R=L.subTree=zt(On);A(null,R,F,H)}}else m(L,$,F,H,et,rt,dt)},u=($,F,H)=>{const it=F.component=$.component;if(smt($,F,H))if(it.asyncDep&&!it.asyncResolved){S(it,F,H);return}else it.next=F,it.update();else F.el=$.el,it.vnode=F},m=($,F,H,it,et,rt,dt)=>{const L=()=>{if($.isMounted){let{next:V,bu:q,u:ut,parent:bt,vnode:qt}=$;{const Ri=LD($);if(Ri){V&&(V.el=qt.el,S($,V,dt)),Ri.asyncDep.then(()=>{$.isUnmounted||L()});return}}let Xt=V,an;bu($,!1),V?(V.el=qt.el,S($,V,dt)):V=qt,q&&bp(q),(an=V.props&&V.props.onVnodeBeforeUpdate)&&yr(an,bt,V,qt),bu($,!0);const Dn=zv($),tr=$.subTree;$.subTree=Dn,b(tr,Dn,d(tr.el),Pe(tr),$,et,rt),V.el=Dn.el,Xt===null&&Bv($,Dn.el),ut&&Jn(ut,et),(an=V.props&&V.props.onVnodeUpdated)&&Jn(()=>yr(an,bt,V,qt),et)}else{let V;const{el:q,props:ut}=F,{bm:bt,m:qt,parent:Xt,root:an,type:Dn}=$,tr=Gl(F);if(bu($,!1),bt&&bp(bt),!tr&&(V=ut&&ut.onVnodeBeforeMount)&&yr(V,Xt,F),bu($,!0),q&&gi){const Ri=()=>{$.subTree=zv($),gi(q,$.subTree,$,et,null)};tr&&Dn.__asyncHydrate?Dn.__asyncHydrate(q,$,Ri):Ri()}else{an.ce&&an.ce._injectChildStyle(Dn);const Ri=$.subTree=zv($);b(null,Ri,H,it,$,et,rt),F.el=Ri.el}if(qt&&Jn(qt,et),!tr&&(V=ut&&ut.onVnodeMounted)){const Ri=F;Jn(()=>yr(V,Xt,Ri),et)}(F.shapeFlag&256||Xt&&Gl(Xt.vnode)&&Xt.vnode.shapeFlag&256)&&$.a&&Jn($.a,et),$.isMounted=!0,F=H=it=null}};$.scope.on();const R=$.effect=new _p(L);$.scope.off();const W=$.update=R.run.bind(R),X=$.job=R.runIfDirty.bind(R);X.i=$,X.id=$.uid,R.scheduler=()=>yS(X),bu($,!0),W()},S=($,F,H)=>{F.component=$;const it=$.vnode.props;$.vnode=F,$.next=null,Zft($,F.props,it,H),Qft($,F.children,H),ya(),NR($),ga()},k=($,F,H,it,et,rt,dt,L,R=!1)=>{const W=$&&$.children,X=$?$.shapeFlag:0,V=F.children,{patchFlag:q,shapeFlag:ut}=F;if(q>0){if(q&128){Y(W,V,H,it,et,rt,dt,L,R);return}else if(q&256){z(W,V,H,it,et,rt,dt,L,R);return}}ut&8?(X&16&&we(W,et,rt),V!==W&&p(H,V)):X&16?ut&16?Y(W,V,H,it,et,rt,dt,L,R):we(W,et,rt,!0):(X&8&&p(H,""),ut&16&&C(V,H,it,et,rt,dt,L,R))},z=($,F,H,it,et,rt,dt,L,R)=>{$=$||yp,F=F||yp;const W=$.length,X=F.length,V=Math.min(W,X);let q;for(q=0;q<V;q++){const ut=F[q]=R?Vl(F[q]):mr(F[q]);b($[q],ut,H,null,et,rt,dt,L,R)}W>X?we($,et,rt,!0,!1,V):C(F,H,it,et,rt,dt,L,R,V)},Y=($,F,H,it,et,rt,dt,L,R)=>{let W=0;const X=F.length;let V=$.length-1,q=X-1;for(;W<=V&&W<=q;){const ut=$[W],bt=F[W]=R?Vl(F[W]):mr(F[W]);if(Ys(ut,bt))b(ut,bt,H,null,et,rt,dt,L,R);else break;W++}for(;W<=V&&W<=q;){const ut=$[V],bt=F[q]=R?Vl(F[q]):mr(F[q]);if(Ys(ut,bt))b(ut,bt,H,null,et,rt,dt,L,R);else break;V--,q--}if(W>V){if(W<=q){const ut=q+1,bt=ut<X?F[ut].el:it;for(;W<=q;)b(null,F[W]=R?Vl(F[W]):mr(F[W]),H,bt,et,rt,dt,L,R),W++}}else if(W>q)for(;W<=V;)ot($[W],et,rt,!0),W++;else{const ut=W,bt=W,qt=new Map;for(W=bt;W<=q;W++){const At=F[W]=R?Vl(F[W]):mr(F[W]);At.key!=null&&qt.set(At.key,W)}let Xt,an=0;const Dn=q-bt+1;let tr=!1,Ri=0;const K=new Array(Dn);for(W=0;W<Dn;W++)K[W]=0;for(W=ut;W<=V;W++){const At=$[W];if(an>=Dn){ot(At,et,rt,!0);continue}let Ht;if(At.key!=null)Ht=qt.get(At.key);else for(Xt=bt;Xt<=q;Xt++)if(K[Xt-bt]===0&&Ys(At,F[Xt])){Ht=Xt;break}Ht===void 0?ot(At,et,rt,!0):(K[Ht-bt]=W+1,Ht>=Ri?Ri=Ht:tr=!0,b(At,F[Ht],H,null,et,rt,dt,L,R),an++)}const St=tr?Kft(K):yp;for(Xt=St.length-1,W=Dn-1;W>=0;W--){const At=bt+W,Ht=F[At],Qt=At+1<X?F[At+1].el:it;K[W]===0?b(null,Ht,H,Qt,et,rt,dt,L,R):tr&&(Xt<0||W!==St[Xt]?pt(Ht,H,Qt,2):Xt--)}}},pt=($,F,H,it,et=null)=>{const{el:rt,type:dt,transition:L,children:R,shapeFlag:W}=$;if(W&6){pt($.component.subTree,F,H,it);return}if(W&128){$.suspense.move(F,H,it);return}if(W&64){dt.move($,F,H,tn);return}if(dt===Me){i(rt,F,H);for(let X=0;X<R.length;X++)pt(R[X],F,H,it);i($.anchor,F,H);return}if(dt===Ul){w($,F,H);return}if(it!==2&&W&1&&L)if(it===0)L.beforeEnter(rt),i(rt,F,H),Jn(()=>L.enter(rt),et);else{const{leave:X,delayLeave:V,afterLeave:q}=L,ut=()=>i(rt,F,H),bt=()=>{X(rt,()=>{ut(),q&&q()})};V?V(rt,ut,bt):bt()}else i(rt,F,H)},ot=($,F,H,it=!1,et=!1)=>{const{type:rt,props:dt,ref:L,children:R,dynamicChildren:W,shapeFlag:X,patchFlag:V,dirs:q,cacheIndex:ut}=$;if(V===-2&&(et=!1),L!=null&&Lm(L,null,H,$,!0),ut!=null&&(F.renderCache[ut]=void 0),X&256){F.ctx.deactivate($);return}const bt=X&1&&q,qt=!Gl($);let Xt;if(qt&&(Xt=dt&&dt.onVnodeBeforeUnmount)&&yr(Xt,F,$),X&6)$t($.component,H,it);else{if(X&128){$.suspense.unmount(H,it);return}bt&&So($,null,F,"beforeUnmount"),X&64?$.type.remove($,F,H,tn,it):W&&!W.hasOnce&&(rt!==Me||V>0&&V&64)?we(W,F,H,!1,!0):(rt===Me&&V&384||!et&&X&16)&&we(R,F,H),it&&It($)}(qt&&(Xt=dt&&dt.onVnodeUnmounted)||bt)&&Jn(()=>{Xt&&yr(Xt,F,$),bt&&So($,null,F,"unmounted")},H)},It=$=>{const{type:F,el:H,anchor:it,transition:et}=$;if(F===Me){Lt(H,it);return}if(F===Ul){_($);return}const rt=()=>{r(H),et&&!et.persisted&&et.afterLeave&&et.afterLeave()};if($.shapeFlag&1&&et&&!et.persisted){const{leave:dt,delayLeave:L}=et,R=()=>dt(H,rt);L?L($.el,rt,R):R()}else rt()},Lt=($,F)=>{let H;for(;$!==F;)H=f($),r($),$=H;r(F)},$t=($,F,H)=>{const{bum:it,scope:et,job:rt,subTree:dt,um:L,m:R,a:W}=$;Uv(R),Uv(W),it&&bp(it),et.stop(),rt&&(rt.flags|=8,ot(dt,$,F,H)),L&&Jn(L,F),Jn(()=>{$.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},we=($,F,H,it=!1,et=!1,rt=0)=>{for(let dt=rt;dt<$.length;dt++)ot($[dt],F,H,it,et)},Pe=$=>{if($.shapeFlag&6)return Pe($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const F=f($.anchor||$.el),H=F&&F[DR];return H?f(H):F};let Ge=!1;const Li=($,F,H)=>{$==null?F._vnode&&ot(F._vnode,null,null,!0):b(F._vnode||null,$,F,null,null,null,H),F._vnode=$,Ge||(Ge=!0,NR(),Ev(),Ge=!1)},tn={p:b,um:ot,m:pt,r:It,mt:Z,mc:C,pc:k,pbc:D,n:Pe,o:t};let Rn,gi;return e&&([Rn,gi]=e(tn)),{render:Li,hydrate:Rn,createApp:qft(Li,Rn)}}function qS({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function bu({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function PD(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function HS(t,e,n=!1){const i=t.children,r=e.children;if(_t(i)&&_t(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Vl(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&HS(o,a)),a.type===To&&(a.el=o.el)}}function Kft(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function LD(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:LD(e)}function Uv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ZS=Symbol.for("v-scx"),YS=()=>In(ZS);function RD(t,e){return Um(t,null,e)}function DD(t,e){return Um(t,null,{flush:"post"})}function JS(t,e){return Um(t,null,{flush:"sync"})}function Vn(t,e,n){return Um(t,e,n)}function Um(t,e,n=te){const{immediate:i,deep:r,flush:s,once:o}=n,a=ee({},n),l=e&&i||!e&&s!=="post";let c;if(kp){if(s==="sync"){const y=YS();c=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=ei,y.resume=ei,y.pause=ei,y}}const p=Nn;a.call=(y,g,b)=>Lr(y,p,g,b);let d=!1;s==="post"?a.scheduler=y=>{Jn(y,p&&p.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(y,g)=>{g?y():yS(y)}),a.augmentJob=y=>{e&&(y.flags|=4),d&&(y.flags|=2,p&&(y.id=p.uid,y.i=p))};const f=mft(t,e,a);return kp&&(c?c.push(f):l&&f()),f}function tmt(t,e,n){const i=this.proxy,r=jt(t)?t.includes(".")?FD(i,t):()=>i[t]:t.bind(i,i);let s;Nt(e)?s=e:(s=e.handler,n=e);const o=wu(this),a=Um(r,s.bind(i),n);return o(),a}function FD(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function XS(t,e,n=te){const i=Cn(),r=Re(e),s=dr(e),o=jD(t,r),a=dS((l,c)=>{let p,d=te,f;return JS(()=>{const y=t[r];Zi(p,y)&&(p=y,c())}),{get(){return l(),n.get?n.get(p):p},set(y){const g=n.set?n.set(y):y;if(!Zi(g,p)&&!(d!==te&&Zi(y,d)))return;const b=i.vnode.props;b&&(e in b||r in b||s in b)&&(`onUpdate:${e}`in b||`onUpdate:${r}`in b||`onUpdate:${s}`in b)||(p=y,c()),i.emit(`update:${e}`,g),Zi(y,g)&&Zi(y,d)&&!Zi(g,f)&&c(),d=y,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||te:a,done:!1}:{done:!0}}}},a}const jD=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Re(e)}Modifiers`]||t[`${dr(e)}Modifiers`];function emt(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||te;let r=n;const s=e.startsWith("update:"),o=s&&jD(i,e.slice(7));o&&(o.trim&&(r=n.map(p=>jt(p)?p.trim():p)),o.number&&(r=n.map(iv)));let a,l=i[a=du(e)]||i[a=du(Re(e))];!l&&s&&(l=i[a=du(dr(e))]),l&&Lr(l,t,6,r);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Lr(c,t,6,r)}}function GD(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!Nt(t)){const l=c=>{const p=GD(c,e,!0);p&&(a=!0,ee(o,p))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Te(t)&&i.set(t,null),null):(_t(s)?s.forEach(l=>o[l]=null):ee(o,s),Te(t)&&i.set(t,o),o)}function Vv(t,e){return!t||!hu(e)?!1:(e=e.slice(2).replace(/Once$/,""),ye(t,e[0].toLowerCase()+e.slice(1))||ye(t,dr(e))||ye(t,e))}function zv(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:p,props:d,data:f,setupState:y,ctx:g,inheritAttrs:b}=t,x=Nm(t);let A,T;try{if(n.shapeFlag&4){const _=r||i,M=Ll.NODE_ENV!=="production"&&y.__isScriptSetup?new Proxy(_,{get(I,N,C){return vft(`Property '${String(N)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(I,N,C)}}):_;A=mr(c.call(M,_,p,Ll.NODE_ENV!=="production"?xp(d):d,y,f,g)),T=a}else{const _=e;Ll.NODE_ENV,A=mr(_.length>1?_(Ll.NODE_ENV!=="production"?xp(d):d,Ll.NODE_ENV!=="production"?{get attrs(){return xp(a)},slots:o,emit:l}:{attrs:a,slots:o,emit:l}):_(Ll.NODE_ENV!=="production"?xp(d):d,null)),T=e.props?a:imt(a)}}catch(_){zm.length=0,Dl(_,t,1),A=zt(On)}let w=A;if(T&&b!==!1){const _=Object.keys(T),{shapeFlag:M}=w;_.length&&M&7&&(s&&_.some(JE)&&(T=rmt(T,s)),w=Js(w,T,!1,!0))}return n.dirs&&(w=Js(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Ao(w,n.transition),A=w,Nm(x),A}function nmt(t,e=!0){let n;for(let i=0;i<t.length;i++){const r=t[i];if(Zs(r)){if(r.type!==On||r.children==="v-if"){if(n)return;n=r}}else return}return n}const imt=t=>{let e;for(const n in t)(n==="class"||n==="style"||hu(n))&&((e||(e={}))[n]=t[n]);return e},rmt=(t,e)=>{const n={};for(const i in t)(!JE(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function smt(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?$D(i,o,c):!!o;if(l&8){const p=e.dynamicProps;for(let d=0;d<p.length;d++){const f=p[d];if(o[f]!==i[f]&&!Vv(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?$D(i,o,c):!0:!!o;return!1}function $D(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Vv(n,s))return!0}return!1}function Bv({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Wv=t=>t.__isSuspense;let QS=0;const omt={name:"Suspense",__isSuspense:!0,process(t,e,n,i,r,s,o,a,l,c){if(t==null)amt(e,n,i,r,s,o,a,l,c);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}lmt(t,e,n,i,r,o,a,l,c)}},hydrate:cmt,normalize:umt},UD=omt;function Vm(t,e){const n=t.props&&t.props[e];Nt(n)&&n()}function amt(t,e,n,i,r,s,o,a,l){const{p:c,o:{createElement:p}}=l,d=p("div"),f=t.suspense=VD(t,r,i,e,d,n,s,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,i,f,s,o),f.deps>0?(Vm(t,"onPending"),Vm(t,"onFallback"),c(null,t.ssFallback,e,n,i,null,s,o),Cp(f,t.ssFallback)):f.resolve(!1,!0)}function lmt(t,e,n,i,r,s,o,a,{p:l,um:c,o:{createElement:p}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,y=e.ssFallback,{activeBranch:g,pendingBranch:b,isInFallback:x,isHydrating:A}=d;if(b)d.pendingBranch=f,Ys(f,b)?(l(b,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():x&&(A||(l(g,y,n,i,r,null,s,o,a),Cp(d,y)))):(d.pendingId=QS++,A?(d.isHydrating=!1,d.activeBranch=b):c(b,r,d),d.deps=0,d.effects.length=0,d.hiddenContainer=p("div"),x?(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0?d.resolve():(l(g,y,n,i,r,null,s,o,a),Cp(d,y))):g&&Ys(f,g)?(l(g,f,n,i,r,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&Ys(f,g))l(g,f,n,i,r,d,s,o,a),Cp(d,f);else if(Vm(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=QS++,l(null,f,d.hiddenContainer,null,r,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:w}=d;T>0?setTimeout(()=>{d.pendingId===w&&d.fallback(y)},T):T===0&&d.fallback(y)}}function VD(t,e,n,i,r,s,o,a,l,c,p=!1){const{p:d,m:f,um:y,n:g,o:{parentNode:b,remove:x}}=c;let A;const T=hmt(t);T&&e&&e.pendingBranch&&(A=e.pendingId,e.deps++);const w=t.props?rv(t.props.timeout):void 0,_=s,M={vnode:t,parent:e,parentComponent:n,namespace:o,container:i,hiddenContainer:r,deps:0,pendingId:QS++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!p,isHydrating:p,isUnmounted:!1,effects:[],resolve(I=!1,N=!1){const{vnode:C,activeBranch:P,pendingBranch:D,pendingId:U,effects:j,parentComponent:G,container:Z}=M;let u=!1;M.isHydrating?M.isHydrating=!1:I||(u=P&&D.transition&&D.transition.mode==="out-in",u&&(P.transition.afterLeave=()=>{U===M.pendingId&&(f(D,Z,s===_?g(P):s,0),Mp(j))}),P&&(b(P.el)===Z&&(s=g(P)),y(P,G,M,!0)),u||f(D,Z,s,0)),Cp(M,D),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,S=!1;for(;m;){if(m.pendingBranch){m.effects.push(...j),S=!0;break}m=m.parent}!S&&!u&&Mp(j),M.effects=[],T&&e&&e.pendingBranch&&A===e.pendingId&&(e.deps--,e.deps===0&&!N&&e.resolve()),Vm(C,"onResolve")},fallback(I){if(!M.pendingBranch)return;const{vnode:N,activeBranch:C,parentComponent:P,container:D,namespace:U}=M;Vm(N,"onFallback");const j=g(C),G=()=>{M.isInFallback&&(d(null,I,D,j,P,null,U,a,l),Cp(M,I))},Z=I.transition&&I.transition.mode==="out-in";Z&&(C.transition.afterLeave=G),M.isInFallback=!0,y(C,P,null,!0),Z||G()},move(I,N,C){M.activeBranch&&f(M.activeBranch,I,N,C),M.container=I},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(I,N,C){const P=!!M.pendingBranch;P&&M.deps++;const D=I.vnode.el;I.asyncDep.catch(U=>{Dl(U,I,0)}).then(U=>{if(I.isUnmounted||M.isUnmounted||M.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:j}=I;rA(I,U,!1),D&&(j.el=D);const G=!D&&I.subTree.el;N(I,j,b(D||I.subTree.el),D?null:g(I.subTree),M,o,C),G&&x(G),Bv(I,j.el),P&&--M.deps===0&&M.resolve()})},unmount(I,N){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,n,I,N),M.pendingBranch&&y(M.pendingBranch,n,I,N)}};return M}function cmt(t,e,n,i,r,s,o,a,l){const c=e.suspense=VD(e,i,n,t.parentNode,document.createElement("div"),null,r,s,o,a,!0),p=l(t,c.pendingBranch=e.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),p}function umt(t){const{shapeFlag:e,children:n}=t,i=e&32;t.ssContent=zD(i?n.default:n),t.ssFallback=i?zD(n.fallback):zt(On)}function zD(t){let e;if(Nt(t)){const n=_u&&t._c;n&&(t._d=!1,st()),t=t(),n&&(t._d=!0,e=Ti,WD())}return _t(t)&&(t=nmt(t)),t=mr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function BD(t,e){e&&e.pendingBranch?_t(t)?e.effects.push(...t):e.effects.push(t):Mp(t)}function Cp(t,e){t.activeBranch=e;const{vnode:n,parentComponent:i}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,i&&i.subTree===n&&(i.vnode.el=r,Bv(i,r))}function hmt(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Me=Symbol.for("v-fgt"),To=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),Ul=Symbol.for("v-stc"),zm=[];let Ti=null;function st(t=!1){zm.push(Ti=t?null:[])}function WD(){zm.pop(),Ti=zm[zm.length-1]||null}let _u=1;function qv(t,e=!1){_u+=t,t<0&&Ti&&e&&(Ti.hasOnce=!0)}function qD(t){return t.dynamicChildren=_u>0?Ti||yp:null,WD(),_u>0&&Ti&&Ti.push(t),t}function mt(t,e,n,i,r,s){return qD(nt(t,e,n,i,r,s,!0))}function ke(t,e,n,i,r){return qD(zt(t,e,n,i,r,!0))}function Zs(t){return t?t.__v_isVNode===!0:!1}function Ys(t,e){return t.type===e.type&&t.key===e.key}function HD(t){}const ZD=({key:t})=>t??null,Hv=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?jt(t)||ne(t)||Nt(t)?{i:Yn,r:t,k:e,f:!!n}:t:null);function nt(t,e=null,n=null,i=0,r=null,s=t===Me?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ZD(e),ref:e&&Hv(e),scopeId:Av,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Yn};return a?(eA(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=jt(n)?8:16),_u>0&&!o&&Ti&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ti.push(l),l}const zt=pmt;function pmt(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===eD)&&(t=On),Zs(t)){const a=Js(t,e,!0);return n&&eA(a,n),_u>0&&!s&&Ti&&(a.shapeFlag&6?Ti[Ti.indexOf(t)]=a:Ti.push(a)),a.patchFlag=-2,a}if(bmt(t)&&(t=t.__vccOpts),e){e=KS(e);let{class:a,style:l}=e;a&&!jt(a)&&(e.class=Xe(a)),Te(l)&&(Ep(l)&&!_t(l)&&(l=ee({},l)),e.style=ma(l))}const o=jt(t)?1:Wv(t)?128:FR(t)?64:Te(t)?4:Nt(t)?2:0;return nt(t,e,n,i,r,o,s,!0)}function KS(t){return t?Ep(t)||SD(t)?ee({},t):t:null}function Js(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?Bm(r||{},e):r,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&ZD(c),ref:e&&e.ref?n&&s?_t(s)?s.concat(Hv(e)):[s,Hv(e)]:Hv(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Js(t.ssContent),ssFallback:t.ssFallback&&Js(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Ao(p,l.clone(p)),p}function Xs(t=" ",e=0){return zt(To,null,t,e)}function tA(t,e){const n=zt(Ul,null,t);return n.staticCount=e,n}function Ie(t="",e=!1){return e?(st(),ke(On,null,t)):zt(On,null,t)}function mr(t){return t==null||typeof t=="boolean"?zt(On):_t(t)?zt(Me,null,t.slice()):Zs(t)?Vl(t):zt(To,null,String(t))}function Vl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Js(t)}function eA(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(_t(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),eA(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!SD(e)?e._ctx=Yn:r===3&&Yn&&(Yn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Nt(e)?(e={default:e,_ctx:Yn},n=32):(e=String(e),i&64?(n=16,e=[Xs(e)]):n=8);t.children=e,t.shapeFlag|=n}function Bm(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Xe([e.class,i.class]));else if(r==="style")e.style=ma([e.style,i.style]);else if(hu(r)){const s=e[r],o=i[r];o&&s!==o&&!(_t(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function yr(t,e,n,i=null){Lr(t,e,7,[n,i])}const dmt=wD();let fmt=0;function YD(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||dmt,s={uid:fmt++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new av(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:TD(i,r),emitsOptions:GD(i,r),emit:null,emitted:null,propsDefaults:te,inheritAttrs:i.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=emt.bind(null,s),t.ce&&t.ce(s),s}let Nn=null;const Cn=()=>Nn||Yn;let Zv,nA;{const t=sv(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Zv=e("__VUE_INSTANCE_SETTERS__",n=>Nn=n),nA=e("__VUE_SSR_SETTERS__",n=>kp=n)}const wu=t=>{const e=Nn;return Zv(t),t.scope.on(),()=>{t.scope.off(),Zv(e)}},iA=()=>{Nn&&Nn.scope.off(),Zv(null)};function JD(t){return t.vnode.shapeFlag&4}let kp=!1;function XD(t,e=!1,n=!1){e&&nA(e);const{props:i,children:r}=t.vnode,s=JD(t);Hft(t,i,s,e),Xft(t,r,n);const o=s?mmt(t,e):void 0;return e&&nA(!1),o}function mmt(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,RS);const{setup:i}=n;if(i){ya();const r=t.setupContext=i.length>1?tF(t):null,s=wu(t),o=Rl(i,t,0,[t.props,r]),a=QE(o);if(ga(),s(),(a||t.sp)&&!Gl(t)&&xS(t),a){if(o.then(iA,iA),e)return o.then(l=>{rA(t,l,e)}).catch(l=>{Dl(l,t,0)});t.asyncDep=o}else rA(t,o,e)}else KD(t,e)}function rA(t,e,n){Nt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=gv(e)),KD(t,n)}let Yv,sA;function oA(t){Yv=t,sA=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Gft))}}const QD=()=>!Yv;function KD(t,e,n){const i=t.type;if(!t.render){if(!e&&Yv&&!i.render){const r=i.template||GS(t).template;if(r){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ee(ee({isCustomElement:s,delimiters:a},o),l);i.render=Yv(r,c)}}t.render=i.render||ei,sA&&sA(t)}{const r=wu(t);ya();try{$ft(t)}finally{ga(),r()}}}const ymt={get(t,e){return Si(t,"get",""),t[e]}};function tF(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,ymt),slots:t.slots,emit:t.emit,expose:e}}function Wm(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(gv(Be(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in jm)return jm[n](t)},has(e,n){return n in e||n in jm}})):t.proxy}const gmt=/(?:^|[-_])(\w)/g,vmt=t=>t.replace(gmt,e=>e.toUpperCase()).replace(/[-_]/g,"");function Jv(t,e=!0){return Nt(t)?t.displayName||t.name:t.name||e&&t.__name}function eF(t,e,n=!1){let i=Jv(e);if(!i&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(i=r[1])}if(!i&&t&&t.parent){const r=s=>{for(const o in s)if(s[o]===e)return o};i=r(t.components||t.parent.type.components)||r(t.appContext.components)}return i?vmt(i):n?"App":"Anonymous"}function bmt(t){return Nt(t)&&"__vccOpts"in t}const Bt=(t,e)=>fft(t,e,kp);function ds(t,e,n){const i=arguments.length;return i===2?Te(e)&&!_t(e)?Zs(e)?zt(t,null,[e]):zt(t,e):zt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Zs(n)&&(n=[n]),zt(t,e,n))}function nF(){}function iF(t,e,n,i){const r=n[i];if(r&&aA(r,t))return r;const s=e();return s.memo=t.slice(),s.cacheIndex=i,n[i]=s}function aA(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(Zi(n[i],e[i]))return!1;return _u>0&&Ti&&Ti.push(t),!0}const lA="3.5.13",rF=ei,sF=Eft,oF=Ip,aF=kR,_mt={createComponentInstance:YD,setupComponent:XD,renderComponentRoot:zv,setCurrentRenderingInstance:Nm,isVNode:Zs,normalizeVNode:mr,getComponentPublicInstance:Wm,ensureValidVNode:kS,pushWarningContext:yft,popWarningContext:gft},lF=_mt,cF=null,uF=null,hF=null;let cA;const pF=typeof window<"u"&&window.trustedTypes;if(pF)try{cA=pF.createPolicy("vue",{createHTML:t=>t})}catch{}const dF=cA?t=>cA.createHTML(t):t=>t,wmt="http://www.w3.org/2000/svg",xmt="http://www.w3.org/1998/Math/MathML",Sa=typeof document<"u"?document:null,fF=Sa&&Sa.createElement("template"),Emt={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Sa.createElementNS(wmt,t):e==="mathml"?Sa.createElementNS(xmt,t):n?Sa.createElement(t,{is:n}):Sa.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Sa.createTextNode(t),createComment:t=>Sa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Sa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{fF.innerHTML=dF(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=fF.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},zl="transition",qm="animation",Pp=Symbol("_vtc"),mF={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},yF=ee({},Nv,mF),Smt=t=>(t.displayName="Transition",t.props=yF,t),Hm=Smt((t,{slots:e})=>ds(bS,vF(t),e)),xu=(t,e=[])=>{_t(t)?t.forEach(n=>n(...e)):t&&t(...e)},gF=t=>t?_t(t)?t.some(e=>e.length>1):t.length>1:!1;function vF(t){const e={};for(const j in t)j in mF||(e[j]=t[j]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:p=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,g=Amt(r),b=g&&g[0],x=g&&g[1],{onBeforeEnter:A,onEnter:T,onEnterCancelled:w,onLeave:_,onLeaveCancelled:M,onBeforeAppear:I=A,onAppear:N=T,onAppearCancelled:C=w}=e,P=(j,G,Z,u)=>{j._enterCancelled=u,Bl(j,G?p:a),Bl(j,G?c:o),Z&&Z()},D=(j,G)=>{j._isLeaving=!1,Bl(j,d),Bl(j,y),Bl(j,f),G&&G()},U=j=>(G,Z)=>{const u=j?N:T,m=()=>P(G,j,Z);xu(u,[G,m]),bF(()=>{Bl(G,j?l:s),Mo(G,j?p:a),gF(u)||_F(G,i,b,m)})};return ee(e,{onBeforeEnter(j){xu(A,[j]),Mo(j,s),Mo(j,o)},onBeforeAppear(j){xu(I,[j]),Mo(j,l),Mo(j,c)},onEnter:U(!1),onAppear:U(!0),onLeave(j,G){j._isLeaving=!0;const Z=()=>D(j,G);Mo(j,d),j._enterCancelled?(Mo(j,f),hA()):(hA(),Mo(j,f)),bF(()=>{j._isLeaving&&(Bl(j,d),Mo(j,y),gF(_)||_F(j,i,x,Z))}),xu(_,[j,Z])},onEnterCancelled(j){P(j,!1,void 0,!0),xu(w,[j])},onAppearCancelled(j){P(j,!0,void 0,!0),xu(C,[j])},onLeaveCancelled(j){D(j),xu(M,[j])}})}function Amt(t){if(t==null)return null;if(Te(t))return[uA(t.enter),uA(t.leave)];{const e=uA(t);return[e,e]}}function uA(t){return rv(t)}function Mo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Pp]||(t[Pp]=new Set)).add(e)}function Bl(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Pp];n&&(n.delete(e),n.size||(t[Pp]=void 0))}function bF(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Tmt=0;function _F(t,e,n,i){const r=t._endId=++Tmt,s=()=>{r===t._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=wF(t,e);if(!o)return i();const c=o+"end";let p=0;const d=()=>{t.removeEventListener(c,f),s()},f=y=>{y.target===t&&++p>=l&&d()};setTimeout(()=>{p<l&&d()},a+1),t.addEventListener(c,f)}function wF(t,e){const n=window.getComputedStyle(t),i=g=>(n[g]||"").split(", "),r=i(`${zl}Delay`),s=i(`${zl}Duration`),o=xF(r,s),a=i(`${qm}Delay`),l=i(`${qm}Duration`),c=xF(a,l);let p=null,d=0,f=0;e===zl?o>0&&(p=zl,d=o,f=s.length):e===qm?c>0&&(p=qm,d=c,f=l.length):(d=Math.max(o,c),p=d>0?o>c?zl:qm:null,f=p?p===zl?s.length:l.length:0);const y=p===zl&&/\b(transform|all)(,|$)/.test(i(`${zl}Property`).toString());return{type:p,timeout:d,propCount:f,hasTransform:y}}function xF(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>EF(n)+EF(t[i])))}function EF(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function hA(){return document.body.offsetHeight}function Mmt(t,e,n){const i=t[Pp];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Xv=Symbol("_vod"),SF=Symbol("_vsh"),Zm={beforeMount(t,{value:e},{transition:n}){t[Xv]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Ym(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Ym(t,!0),i.enter(t)):i.leave(t,()=>{Ym(t,!1)}):Ym(t,e))},beforeUnmount(t,{value:e}){Ym(t,e)}};function Ym(t,e){t.style.display=e?t[Xv]:"none",t[SF]=!e}function Imt(){Zm.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const AF=Symbol("");function pA(t){const e=Cn();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>Qv(s,r))},i=()=>{const r=t(e.proxy);e.ce?Qv(e.ce,r):dA(e.subTree,r),n(r)};Dv(()=>{Mp(i)}),ni(()=>{Vn(i,ei,{flush:"post"});const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),$l(()=>r.disconnect())})}function dA(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{dA(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Qv(t.el,e);else if(t.type===Me)t.children.forEach(n=>dA(n,e));else if(t.type===Ul){let{el:n,anchor:i}=t;for(;n&&(Qv(n,e),n!==i);)n=n.nextSibling}}function Qv(t,e){if(t.nodeType===1){const n=t.style;let i="";for(const r in e)n.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;n[AF]=i}}const Omt=/(^|;)\s*display\s*:/;function Nmt(t,e,n){const i=t.style,r=jt(n);let s=!1;if(n&&!r){if(e)if(jt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Kv(i,a,"")}else for(const o in e)n[o]==null&&Kv(i,o,"");for(const o in n)o==="display"&&(s=!0),Kv(i,o,n[o])}else if(r){if(e!==n){const o=i[AF];o&&(n+=";"+o),i.cssText=n,s=Omt.test(n)}}else e&&t.removeAttribute("style");Xv in t&&(t[Xv]=s?i.display:"",t[SF]&&(i.display="none"))}const TF=/\s*!important$/;function Kv(t,e,n){if(_t(n))n.forEach(i=>Kv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Cmt(t,e);TF.test(n)?t.setProperty(dr(i),n.replace(TF,""),"important"):t[i]=n}}const MF=["Webkit","Moz","ms"],fA={};function Cmt(t,e){const n=fA[e];if(n)return n;let i=Re(e);if(i!=="filter"&&i in t)return fA[e]=i;i=Cl(i);for(let r=0;r<MF.length;r++){const s=MF[r]+i;if(s in t)return fA[e]=s}return e}const IF="http://www.w3.org/1999/xlink";function OF(t,e,n,i,r,s=$dt(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(IF,e.slice(6,e.length)):t.setAttributeNS(IF,e,n):n==null||s&&!J7(n)?t.removeAttribute(e):t.setAttribute(e,s?"":pr(n)?String(n):n)}function NF(t,e,n,i,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?dF(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=J7(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Aa(t,e,n,i){t.addEventListener(e,n,i)}function kmt(t,e,n,i){t.removeEventListener(e,n,i)}const CF=Symbol("_vei");function Pmt(t,e,n,i,r=null){const s=t[CF]||(t[CF]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=Lmt(e);if(i){const c=s[e]=Fmt(i,r);Aa(t,a,c,l)}else o&&(kmt(t,a,o,l),s[e]=void 0)}}const kF=/(?:Once|Passive|Capture)$/;function Lmt(t){let e;if(kF.test(t)){e={};let n;for(;n=t.match(kF);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):dr(t.slice(2)),e]}let mA=0;const Rmt=Promise.resolve(),Dmt=()=>mA||(Rmt.then(()=>mA=0),mA=Date.now());function Fmt(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Lr(jmt(i,n.value),e,5,[i])};return n.value=t,n.attached=Dmt(),n}function jmt(t,e){if(_t(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const PF=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Gmt=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?Mmt(t,i,o):e==="style"?Nmt(t,n,i):hu(e)?JE(e)||Pmt(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$mt(t,e,i,o))?(NF(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&OF(t,e,i,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!jt(i))?NF(t,Re(e),i,s,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),OF(t,e,i,o))};function $mt(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&PF(e)&&Nt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return PF(e)&&jt(n)?!1:e in t}const LF={};function yA(t,e,n){const i=Yt(t,e);ev(i)&&ee(i,e);class r extends Z0{constructor(o){super(i,o,n)}}return r.def=i,r}const RF=(t,e)=>yA(t,e,bA),Umt=typeof HTMLElement<"u"?HTMLElement:class{};class Z0 extends Umt{constructor(e,n={},i=ql){super(),this._def=e,this._props=n,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==ql?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Z0){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Rr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const r of i)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(i,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=i;let a;if(s&&!_t(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=rv(this._props[l])),(a||(a=Object.create(null)))[Re(l)]=!0)}this._numberProps=a,r&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(i=>e(this._def=i,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const i in n)ye(this,i)||Object.defineProperty(this,i,{get:()=>wt(n[i])})}_resolveProps(e){const{props:n}=e,i=_t(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&i.includes(r)&&this._setProp(r,this[r]);for(const r of i.map(Re))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(s){this._setProp(r,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let i=n?this.getAttribute(e):LF;const r=Re(e);n&&this._numberProps&&this._numberProps[r]&&(i=rv(i)),this._setProp(r,i,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,i=!0,r=!1){if(n!==this._props[e]&&(n===LF?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),r&&this._instance&&this._update(),i)){const s=this._ob;s&&s.disconnect(),n===!0?this.setAttribute(dr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(dr(e),n+""):n||this.removeAttribute(dr(e)),s&&s.observe(this,{attributes:!0})}}_update(){Fp(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=zt(this._def,ee(e,this._props));return this._instance||(n.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,ev(o[0])?ee({detail:o},o[0]):{detail:o}))};i.emit=(s,...o)=>{r(s,o),dr(s)!==s&&r(dr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const i=this._nonce;for(let r=e.length-1;r>=0;r--){const s=document.createElement("style");i&&s.setAttribute("nonce",i),s.textContent=e[r],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const i=n.nodeType===1&&n.getAttribute("slot")||"default";(e[i]||(e[i]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let i=0;i<e.length;i++){const r=e[i],s=r.getAttribute("name")||"default",o=this._slots[s],a=r.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const c=n+"-s",p=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=p.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function gA(t){const e=Cn();return e&&e.ce||null}function DF(){const t=gA();return t&&t.shadowRoot}function FF(t="$style"){{const e=Cn();if(!e)return te;const n=e.type.__cssModules;return n&&n[t]||te}}const jF=new WeakMap,GF=new WeakMap,t2=Symbol("_moveCb"),$F=Symbol("_enterCb"),Vmt=t=>(delete t.props.mode,t),zmt=Vmt({name:"TransitionGroup",props:ee({},yF,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Cn(),i=Ov();let r,s;return gu(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Hmt(r[0].el,n.vnode.el,o))return;r.forEach(Bmt),r.forEach(Wmt);const a=r.filter(qmt);hA(),a.forEach(l=>{const c=l.el,p=c.style;Mo(c,o),p.transform=p.webkitTransform=p.transitionDuration="";const d=c[t2]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[t2]=null,Bl(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Ct(t),a=vF(o);let l=o.tag||Me;if(r=[],s)for(let c=0;c<s.length;c++){const p=s[c];p.el&&p.el instanceof Element&&(r.push(p),Ao(p,yu(p,a,i,n)),jF.set(p,p.el.getBoundingClientRect()))}s=e.default?km(e.default()):[];for(let c=0;c<s.length;c++){const p=s[c];p.key!=null&&Ao(p,yu(p,a,i,n))}return zt(l,null,s)}}}),e2=zmt;function Bmt(t){const e=t.el;e[t2]&&e[t2](),e[$F]&&e[$F]()}function Wmt(t){GF.set(t,t.el.getBoundingClientRect())}function qmt(t){const e=jF.get(t),n=GF.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${r}px)`,s.transitionDuration="0s",t}}function Hmt(t,e,n){const i=t.cloneNode(),r=t[Pp];r&&r.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(i);const{hasTransform:o}=wF(i);return s.removeChild(i),o}const Wl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return _t(e)?n=>bp(e,n):e};function Zmt(t){t.target.composing=!0}function UF(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fs=Symbol("_assign"),Lp={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[fs]=Wl(r);const s=i||r.props&&r.props.type==="number";Aa(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=iv(a)),t[fs](a)}),n&&Aa(t,"change",()=>{t.value=t.value.trim()}),e||(Aa(t,"compositionstart",Zmt),Aa(t,"compositionend",UF),Aa(t,"change",UF))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},o){if(t[fs]=Wl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?iv(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||r&&t.value.trim()===l)||(t.value=l))}},n2={deep:!0,created(t,e,n){t[fs]=Wl(n),Aa(t,"change",()=>{const i=t._modelValue,r=Rp(t),s=t.checked,o=t[fs];if(_t(i)){const a=ov(i,r),l=a!==-1;if(s&&!l)o(i.concat(r));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(pu(i)){const a=new Set(i);s?a.add(r):a.delete(r),o(a)}else o(BF(t,s))})},mounted:VF,beforeUpdate(t,e,n){t[fs]=Wl(n),VF(t,e,n)}};function VF(t,{value:e,oldValue:n},i){t._modelValue=e;let r;if(_t(e))r=ov(e,i.props.value)>-1;else if(pu(e))r=e.has(i.props.value);else{if(e===n)return;r=kl(e,BF(t,!0))}t.checked!==r&&(t.checked=r)}const i2={created(t,{value:e},n){t.checked=kl(e,n.props.value),t[fs]=Wl(n),Aa(t,"change",()=>{t[fs](Rp(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[fs]=Wl(i),e!==n&&(t.checked=kl(e,i.props.value))}},r2={deep:!0,created(t,{value:e,modifiers:{number:n}},i){const r=pu(e);Aa(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?iv(Rp(o)):Rp(o));t[fs](t.multiple?r?new Set(s):s:s[0]),t._assigning=!0,Rr(()=>{t._assigning=!1})}),t[fs]=Wl(i)},mounted(t,{value:e}){zF(t,e)},beforeUpdate(t,e,n){t[fs]=Wl(n)},updated(t,{value:e}){t._assigning||zF(t,e)}};function zF(t,e){const n=t.multiple,i=_t(e);if(!(n&&!i&&!pu(e))){for(let r=0,s=t.options.length;r<s;r++){const o=t.options[r],a=Rp(o);if(n)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=ov(e,a)>-1}else o.selected=e.has(a);else if(kl(Rp(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Rp(t){return"_value"in t?t._value:t.value}function BF(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const vA={created(t,e,n){s2(t,e,n,null,"created")},mounted(t,e,n){s2(t,e,n,null,"mounted")},beforeUpdate(t,e,n,i){s2(t,e,n,i,"beforeUpdate")},updated(t,e,n,i){s2(t,e,n,i,"updated")}};function WF(t,e){switch(t){case"SELECT":return r2;case"TEXTAREA":return Lp;default:switch(e){case"checkbox":return n2;case"radio":return i2;default:return Lp}}}function s2(t,e,n,i,r){const s=WF(t.tagName,n.props&&n.props.type)[r];s&&s(t,e,n,i)}function Ymt(){Lp.getSSRProps=({value:t})=>({value:t}),i2.getSSRProps=({value:t},e)=>{if(e.props&&kl(e.props.value,t))return{checked:!0}},n2.getSSRProps=({value:t},e)=>{if(_t(t)){if(e.props&&ov(t,e.props.value)>-1)return{checked:!0}}else if(pu(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},vA.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=WF(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const Jmt=["ctrl","shift","alt","meta"],Xmt={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Jmt.some(n=>t[`${n}Key`]&&!e.includes(n))},Dp=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=Xmt[e[o]];if(a&&a(r,e))return}return t(r,...s)})},Qmt={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},o2=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const s=dr(r.key);if(e.some(o=>o===s||Qmt[o]===s))return t(r)})},qF=ee({patchProp:Gmt},Emt);let Jm,HF=!1;function ZF(){return Jm||(Jm=BS(qF))}function YF(){return Jm=HF?Jm:WS(qF),HF=!0,Jm}const Fp=(...t)=>{ZF().render(...t)},JF=(...t)=>{YF().hydrate(...t)},ql=(...t)=>{const e=ZF().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=QF(i);if(!r)return;const s=e._component;!Nt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,XF(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},bA=(...t)=>{const e=YF().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=QF(i);if(r)return n(r,!0,XF(r))},e};function XF(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function QF(t){return jt(t)?document.querySelector(t):t}let KF=!1;const tj=()=>{KF||(KF=!0,Ymt(),Imt())},Kmt=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:bS,BaseTransitionPropsValidators:Nv,Comment:On,DeprecationTypes:hF,EffectScope:av,ErrorCodes:MR,ErrorTypeStrings:sF,Fragment:Me,KeepAlive:KR,ReactiveEffect:_p,Static:Ul,Suspense:UD,Teleport:vS,Text:To,TrackOpTypes:xR,Transition:Hm,TransitionGroup:e2,TriggerOpTypes:ER,VueElement:Z0,assertNumber:TR,callWithAsyncErrorHandling:Lr,callWithErrorHandling:Rl,camelize:Re,capitalize:Cl,cloneVNode:Js,compatUtils:uF,computed:Bt,createApp:ql,createBlock:ke,createCommentVNode:Ie,createElementBlock:mt,createElementVNode:nt,createHydrationRenderer:WS,createPropsRestProxy:mD,createRenderer:BS,createSSRApp:bA,createSlots:iD,createStaticVNode:tA,createTextVNode:Xs,createVNode:zt,customRef:dS,defineAsyncComponent:Pv,defineComponent:Yt,defineCustomElement:yA,defineEmits:oD,defineExpose:aD,defineModel:uD,defineOptions:lD,defineProps:sD,defineSSRCustomElement:RF,defineSlots:cD,devtools:oF,effect:rR,effectScope:Em,getCurrentInstance:Cn,getCurrentScope:lv,getCurrentWatcher:SR,getTransitionRawChildren:km,guardReactiveProps:KS,h:ds,handleError:Dl,hasInjectionContext:US,hydrate:JF,hydrateOnIdle:YR,hydrateOnInteraction:QR,hydrateOnMediaQuery:XR,hydrateOnVisible:JR,initCustomFormatter:nF,initDirectivesForSSR:tj,inject:In,isMemoSame:aA,isProxy:Ep,isReactive:Ji,isReadonly:_a,isRef:ne,isRuntimeOnly:QD,isShallow:fr,isVNode:Zs,markRaw:Be,mergeDefaults:DS,mergeModels:FS,mergeProps:Bm,nextTick:Rr,normalizeClass:Xe,normalizeProps:Y7,normalizeStyle:ma,onActivated:SS,onBeforeMount:Fm,onBeforeUnmount:hs,onBeforeUpdate:Dv,onDeactivated:AS,onErrorCaptured:Fv,onMounted:ni,onRenderTracked:OS,onRenderTriggered:IS,onScopeDispose:eS,onServerPrefetch:MS,onUnmounted:$l,onUpdated:gu,onWatcherCleanup:fS,openBlock:st,popScopeId:LR,provide:$v,proxyRefs:gv,pushScopeId:PR,queuePostFlushCb:Mp,reactive:Zn,readonly:mv,ref:J,registerRuntimeCompiler:oA,render:Fp,renderList:Ea,renderSlot:ps,resolveComponent:xn,resolveDirective:be,resolveDynamicComponent:jv,resolveFilter:cF,resolveTransitionHooks:yu,setBlockTracking:qv,setDevtoolsHook:aF,setTransitionHooks:Ao,shallowReactive:hS,shallowReadonly:xp,shallowRef:Sp,ssrContextKey:ZS,ssrUtils:lF,stop:sR,toDisplayString:ge,toHandlerKey:du,toHandlers:rD,toRaw:Ct,toRef:bv,toRefs:vv,toValue:_R,transformVNodeArgs:HD,triggerRef:bR,unref:wt,useAttrs:dD,useCssModule:FF,useCssVars:pA,useHost:gA,useId:wS,useModel:XS,useSSRContext:YS,useShadowRoot:DF,useSlots:pD,useTemplateRef:Pm,useTransitionState:Ov,vModelCheckbox:n2,vModelDynamic:vA,vModelRadio:i2,vModelSelect:r2,vModelText:Lp,vShow:Zm,version:lA,warn:rF,watch:Vn,watchEffect:RD,watchPostEffect:DD,watchSyncEffect:JS,withAsyncContext:yD,withCtx:wn,withDefaults:hD,withDirectives:ve,withKeys:o2,withMemo:iF,withModifiers:Dp,withScopeId:RR},Symbol.toStringTag,{value:"Module"})),Xm=Symbol(""),Qm=Symbol(""),_A=Symbol(""),a2=Symbol(""),ej=Symbol(""),Eu=Symbol(""),nj=Symbol(""),ij=Symbol(""),wA=Symbol(""),xA=Symbol(""),Km=Symbol(""),EA=Symbol(""),rj=Symbol(""),SA=Symbol(""),AA=Symbol(""),TA=Symbol(""),MA=Symbol(""),IA=Symbol(""),OA=Symbol(""),sj=Symbol(""),oj=Symbol(""),l2=Symbol(""),c2=Symbol(""),NA=Symbol(""),CA=Symbol(""),t0=Symbol(""),e0=Symbol(""),kA=Symbol(""),PA=Symbol(""),t0t=Symbol(""),LA=Symbol(""),u2=Symbol(""),e0t=Symbol(""),n0t=Symbol(""),RA=Symbol(""),i0t=Symbol(""),r0t=Symbol(""),DA=Symbol(""),aj=Symbol(""),jp={[Xm]:"Fragment",[Qm]:"Teleport",[_A]:"Suspense",[a2]:"KeepAlive",[ej]:"BaseTransition",[Eu]:"openBlock",[nj]:"createBlock",[ij]:"createElementBlock",[wA]:"createVNode",[xA]:"createElementVNode",[Km]:"createCommentVNode",[EA]:"createTextVNode",[rj]:"createStaticVNode",[SA]:"resolveComponent",[AA]:"resolveDynamicComponent",[TA]:"resolveDirective",[MA]:"resolveFilter",[IA]:"withDirectives",[OA]:"renderList",[sj]:"renderSlot",[oj]:"createSlots",[l2]:"toDisplayString",[c2]:"mergeProps",[NA]:"normalizeClass",[CA]:"normalizeStyle",[t0]:"normalizeProps",[e0]:"guardReactiveProps",[kA]:"toHandlers",[PA]:"camelize",[t0t]:"capitalize",[LA]:"toHandlerKey",[u2]:"setBlockTracking",[e0t]:"pushScopeId",[n0t]:"popScopeId",[RA]:"withCtx",[i0t]:"unref",[r0t]:"isRef",[DA]:"withMemo",[aj]:"isMemoSame"};function s0t(t){Object.getOwnPropertySymbols(t).forEach(e=>{jp[e]=t[e]})}const Dr={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function o0t(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Dr}}function n0(t,e,n,i,r,s,o,a=!1,l=!1,c=!1,p=Dr){return t&&(a?(t.helper(Eu),t.helper(Up(t.inSSR,c))):t.helper($p(t.inSSR,c)),o&&t.helper(IA)),{type:13,tag:e,props:n,children:i,patchFlag:r,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:p}}function Su(t,e=Dr){return{type:17,loc:e,elements:t}}function ms(t,e=Dr){return{type:15,loc:e,properties:t}}function kn(t,e){return{type:16,loc:Dr,key:jt(t)?Wt(t,!0):t,value:e}}function Wt(t,e=!1,n=Dr,i=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:i}}function Qs(t,e=Dr){return{type:8,loc:e,children:t}}function Xn(t,e=[],n=Dr){return{type:14,loc:n,callee:t,arguments:e}}function Gp(t,e=void 0,n=!1,i=!1,r=Dr){return{type:18,params:t,returns:e,newline:n,isSlot:i,loc:r}}function FA(t,e,n,i=!0){return{type:19,test:t,consequent:e,alternate:n,newline:i,loc:Dr}}function a0t(t,e,n=!1,i=!1){return{type:20,index:t,value:e,needPauseTracking:n,inVOnce:i,needArraySpread:!1,loc:Dr}}function l0t(t){return{type:21,body:t,loc:Dr}}function $p(t,e){return t||e?wA:xA}function Up(t,e){return t||e?nj:ij}function jA(t,{helper:e,removeHelper:n,inSSR:i}){t.isBlock||(t.isBlock=!0,n($p(i,t.isComponent)),e(Eu),e(Up(i,t.isComponent)))}const lj=new Uint8Array([123,123]),cj=new Uint8Array([125,125]);function uj(t){return t>=97&&t<=122||t>=65&&t<=90}function Fr(t){return t===32||t===10||t===9||t===12||t===13}function Hl(t){return t===47||t===62||Fr(t)}function h2(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const Mi={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let c0t=class{constructor(t,e){this.stack=t,this.cbs=e,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=lj,this.delimiterClose=cj,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=lj,this.delimiterClose=cj}getPos(t){let e=1,n=t+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(t>r){e=i+2,n=t-r;break}}return{column:n,line:e,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?Hl(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Fr(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const n=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=n}this.sectionStart=e+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Mi.TitleEnd||this.currentSequence===Mi.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Mi.Cdata[this.sequenceIndex]?++this.sequenceIndex===Mi.Cdata.length&&(this.state=28,this.currentSequence=Mi.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);if(e===10&&this.newlines.push(this.index),e===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Mi.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,e){this.enterRCDATA(t,e),this.state=31}enterRCDATA(t,e){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=e}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):uj(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Hl(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Hl(t)){const e=this.buffer.slice(this.sectionStart,this.index);e!=="template"&&this.enterRCDATA(h2("</"+e),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Fr(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=uj(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Fr(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Fr(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Fr(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Hl(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Hl(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Hl(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Hl(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Hl(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Fr(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Fr(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,e){(t===e||this.fastForwardTo(e))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Fr(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Mi.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Mi.ScriptEnd[3]?this.startSpecial(Mi.ScriptEnd,4):t===Mi.StyleEnd[3]?this.startSpecial(Mi.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Mi.TitleEnd[3]?this.startSpecial(Mi.TitleEnd,4):t===Mi.TextareaEnd[3]?this.startSpecial(Mi.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(e===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(e);break}case 2:{this.stateInterpolationOpen(e);break}case 3:{this.stateInterpolation(e);break}case 4:{this.stateInterpolationClose(e);break}case 31:{this.stateSpecialStartSequence(e);break}case 32:{this.stateInRCDATA(e);break}case 26:{this.stateCDATASequence(e);break}case 19:{this.stateInAttrValueDoubleQuotes(e);break}case 12:{this.stateInAttrName(e);break}case 13:{this.stateInDirName(e);break}case 14:{this.stateInDirArg(e);break}case 15:{this.stateInDynamicDirArg(e);break}case 16:{this.stateInDirModifier(e);break}case 28:{this.stateInCommentLike(e);break}case 27:{this.stateInSpecialComment(e);break}case 11:{this.stateBeforeAttrName(e);break}case 6:{this.stateInTagName(e);break}case 34:{this.stateInSFCRootTagName(e);break}case 9:{this.stateInClosingTagName(e);break}case 5:{this.stateBeforeTagName(e);break}case 17:{this.stateAfterAttrName(e);break}case 20:{this.stateInAttrValueSingleQuotes(e);break}case 18:{this.stateBeforeAttrValue(e);break}case 8:{this.stateBeforeClosingTagName(e);break}case 10:{this.stateAfterClosingTagName(e);break}case 29:{this.stateBeforeSpecialS(e);break}case 30:{this.stateBeforeSpecialT(e);break}case 21:{this.stateInAttrValueNoQuotes(e);break}case 7:{this.stateInSelfClosingTag(e);break}case 23:{this.stateInDeclaration(e);break}case 22:{this.stateBeforeDeclaration(e);break}case 25:{this.stateBeforeComment(e);break}case 24:{this.stateInProcessingInstruction(e);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Mi.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){}};function hj(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function Au(t,e){const n=hj("MODE",e),i=hj(t,e);return n===3?i===!0:i!==!1}function i0(t,e,n,...i){return Au(t,e)}function GA(t){throw t}function pj(t){}function Qe(t,e,n,i){const r=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(r));return s.code=t,s.loc=e,s}const gr=t=>t.type===4&&t.isStatic;function dj(t){switch(t){case"Teleport":case"teleport":return Qm;case"Suspense":case"suspense":return _A;case"KeepAlive":case"keep-alive":return a2;case"BaseTransition":case"base-transition":return ej}}const u0t=/^\d|[^\$\w\xA0-\uFFFF]/,$A=t=>!u0t.test(t),h0t=/[A-Za-z_$\xA0-\uFFFF]/,p0t=/[\.\?\w$\xA0-\uFFFF]/,d0t=/\s+[.[]\s*|\s*[.[]\s+/g,fj=t=>t.type===4?t.content:t.loc.source,f0t=t=>{const e=fj(t).trim().replace(d0t,a=>a.trim());let n=0,i=[],r=0,s=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(n){case 0:if(l==="[")i.push(n),n=1,r++;else if(l==="(")i.push(n),n=2,s++;else if(!(a===0?h0t:p0t).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(n),n=3,o=l):l==="["?r++:l==="]"&&(--r||(n=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(n),n=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===e.length-1)return!1;--s||(n=i.pop())}break;case 3:l===o&&(n=i.pop(),o=null);break}}return!r&&!s},mj=f0t,m0t=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,y0t=t=>m0t.test(fj(t)),g0t=y0t;function ys(t,e,n=!1){for(let i=0;i<t.props.length;i++){const r=t.props[i];if(r.type===7&&(n||r.exp)&&(jt(e)?r.name===e:e.test(r.name)))return r}}function p2(t,e,n=!1,i=!1){for(let r=0;r<t.props.length;r++){const s=t.props[r];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&Tu(s.arg,e))return s}}function Tu(t,e){return!!(t&&gr(t)&&t.content===e)}function v0t(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function UA(t){return t.type===5||t.type===2}function b0t(t){return t.type===7&&t.name==="slot"}function d2(t){return t.type===1&&t.tagType===3}function f2(t){return t.type===1&&t.tagType===2}const _0t=new Set([t0,e0]);function yj(t,e=[]){if(t&&!jt(t)&&t.type===14){const n=t.callee;if(!jt(n)&&_0t.has(n))return yj(t.arguments[0],e.concat(t))}return[t,e]}function m2(t,e,n){let i,r=t.type===13?t.props:t.arguments[2],s=[],o;if(r&&!jt(r)&&r.type===14){const a=yj(r);r=a[0],s=a[1],o=s[s.length-1]}if(r==null||jt(r))i=ms([e]);else if(r.type===14){const a=r.arguments[0];!jt(a)&&a.type===15?gj(e,a)||a.properties.unshift(e):r.callee===kA?i=Xn(n.helper(c2),[ms([e]),r]):r.arguments.unshift(ms([e])),!i&&(i=r)}else r.type===15?(gj(e,r)||r.properties.unshift(e),i=r):(i=Xn(n.helper(c2),[ms([e]),r]),o&&o.callee===e0&&(o=s[s.length-2]));t.type===13?o?o.arguments[0]=i:t.props=i:o?o.arguments[0]=i:t.arguments[2]=i}function gj(t,e){let n=!1;if(t.key.type===4){const i=t.key.content;n=e.properties.some(r=>r.key.type===4&&r.key.content===i)}return n}function r0(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,i)=>n==="-"?"_":t.charCodeAt(i).toString())}`}function w0t(t){return t.type===14&&t.callee===DA?t.arguments[1].returns:t}const x0t=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,vj={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:xm,isPreTag:xm,isIgnoreNewlineTag:xm,isCustomElement:xm,onError:GA,onWarn:pj,comments:!1,prefixIdentifiers:!1};let _e=vj,s0=null,Ta="",Ii=null,se=null,vr="",Ma=-1,Mu=-1,VA=0,Zl=!1,zA=null;const Ke=[],En=new c0t(Ke,{onerr:Ia,ontext(t,e){y2(di(t,e),t,e)},ontextentity(t,e,n){y2(t,e,n)},oninterpolation(t,e){if(Zl)return y2(di(t,e),t,e);let n=t+En.delimiterOpen.length,i=e-En.delimiterClose.length;for(;Fr(Ta.charCodeAt(n));)n++;for(;Fr(Ta.charCodeAt(i-1));)i--;let r=di(n,i);r.includes("&")&&(r=_e.decodeEntities(r,!1)),BA({type:5,content:v2(r,!1,Pn(n,i)),loc:Pn(t,e)})},onopentagname(t,e){const n=di(t,e);Ii={type:1,tag:n,ns:_e.getNamespace(n,Ke[0],_e.ns),tagType:0,props:[],children:[],loc:Pn(t-1,e),codegenNode:void 0}},onopentagend(t){_j(t)},onclosetag(t,e){const n=di(t,e);if(!_e.isVoidTag(n)){let i=!1;for(let r=0;r<Ke.length;r++)if(Ke[r].tag.toLowerCase()===n.toLowerCase()){i=!0,r>0&&Ia(24,Ke[0].loc.start.offset);for(let s=0;s<=r;s++){const o=Ke.shift();g2(o,e,s<r)}break}i||Ia(23,wj(t,60))}},onselfclosingtag(t){const e=Ii.tag;Ii.isSelfClosing=!0,_j(t),Ke[0]&&Ke[0].tag===e&&g2(Ke.shift(),t)},onattribname(t,e){se={type:6,name:di(t,e),nameLoc:Pn(t,e),value:void 0,loc:Pn(t)}},ondirname(t,e){const n=di(t,e),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Zl&&i===""&&Ia(26,t),Zl||i==="")se={type:6,name:n,nameLoc:Pn(t,e),value:void 0,loc:Pn(t)};else if(se={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Wt("prop")]:[],loc:Pn(t)},i==="pre"){Zl=En.inVPre=!0,zA=Ii;const r=Ii.props;for(let s=0;s<r.length;s++)r[s].type===7&&(r[s]=P0t(r[s]))}},ondirarg(t,e){if(t===e)return;const n=di(t,e);if(Zl)se.name+=n,Iu(se.nameLoc,e);else{const i=n[0]!=="[";se.arg=v2(i?n:n.slice(1,-1),i,Pn(t,e),i?3:0)}},ondirmodifier(t,e){const n=di(t,e);if(Zl)se.name+="."+n,Iu(se.nameLoc,e);else if(se.name==="slot"){const i=se.arg;i&&(i.content+="."+n,Iu(i.loc,e))}else{const i=Wt(n,!0,Pn(t,e));se.modifiers.push(i)}},onattribdata(t,e){vr+=di(t,e),Ma<0&&(Ma=t),Mu=e},onattribentity(t,e,n){vr+=t,Ma<0&&(Ma=e),Mu=n},onattribnameend(t){const e=se.loc.start.offset,n=di(e,t);se.type===7&&(se.rawName=n),Ii.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&Ia(2,e)},onattribend(t,e){if(Ii&&se){if(Iu(se.loc,e),t!==0)if(vr.includes("&")&&(vr=_e.decodeEntities(vr,!0)),se.type===6)se.name==="class"&&(vr=Sj(vr).trim()),t===1&&!vr&&Ia(13,e),se.value={type:2,content:vr,loc:t===1?Pn(Ma,Mu):Pn(Ma-1,Mu+1)},En.inSFCRoot&&Ii.tag==="template"&&se.name==="lang"&&vr&&vr!=="html"&&En.enterRCDATA(h2("</template"),0);else{let n=0;se.exp=v2(vr,!1,Pn(Ma,Mu),0,n),se.name==="for"&&(se.forParseResult=S0t(se.exp));let i=-1;se.name==="bind"&&(i=se.modifiers.findIndex(r=>r.content==="sync"))>-1&&i0("COMPILER_V_BIND_SYNC",_e,se.loc,se.rawName)&&(se.name="model",se.modifiers.splice(i,1))}(se.type!==7||se.name!=="pre")&&Ii.props.push(se)}vr="",Ma=Mu=-1},oncomment(t,e){_e.comments&&BA({type:3,content:di(t,e),loc:Pn(t-4,e+3)})},onend(){const t=Ta.length;for(let e=0;e<Ke.length;e++)g2(Ke[e],t-1),Ia(24,Ke[e].loc.start.offset)},oncdata(t,e){Ke[0].ns!==0?y2(di(t,e),t,e):Ia(1,t-9)},onprocessinginstruction(t){(Ke[0]?Ke[0].ns:_e.ns)===0&&Ia(21,t-1)}}),bj=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,E0t=/^\(|\)$/g;function S0t(t){const e=t.loc,n=t.content,i=n.match(x0t);if(!i)return;const[,r,s]=i,o=(d,f,y=!1)=>{const g=e.start.offset+f,b=g+d.length;return v2(d,!1,Pn(g,b),0,y?1:0)},a={source:o(s.trim(),n.indexOf(s,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(E0t,"").trim();const c=r.indexOf(l),p=l.match(bj);if(p){l=l.replace(bj,"").trim();const d=p[1].trim();let f;if(d&&(f=n.indexOf(d,c+l.length),a.key=o(d,f,!0)),p[2]){const y=p[2].trim();y&&(a.index=o(y,n.indexOf(y,a.key?f+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function di(t,e){return Ta.slice(t,e)}function _j(t){En.inSFCRoot&&(Ii.innerLoc=Pn(t+1,t+1)),BA(Ii);const{tag:e,ns:n}=Ii;n===0&&_e.isPreTag(e)&&VA++,_e.isVoidTag(e)?g2(Ii,t):(Ke.unshift(Ii),(n===1||n===2)&&(En.inXML=!0)),Ii=null}function y2(t,e,n){{const s=Ke[0]&&Ke[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=_e.decodeEntities(t,!1))}const i=Ke[0]||s0,r=i.children[i.children.length-1];r&&r.type===2?(r.content+=t,Iu(r.loc,n)):i.children.push({type:2,content:t,loc:Pn(e,n)})}function g2(t,e,n=!1){n?Iu(t.loc,wj(e,60)):Iu(t.loc,A0t(e,62)+1),En.inSFCRoot&&(t.children.length?t.innerLoc.end=ee({},t.children[t.children.length-1].loc.end):t.innerLoc.end=ee({},t.innerLoc.start),t.innerLoc.source=di(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:i,ns:r,children:s}=t;if(Zl||(i==="slot"?t.tagType=2:xj(t)?t.tagType=3:M0t(t)&&(t.tagType=1)),En.inRCDATA||(t.children=Ej(s)),r===0&&_e.isIgnoreNewlineTag(i)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}r===0&&_e.isPreTag(i)&&VA--,zA===t&&(Zl=En.inVPre=!1,zA=null),En.inXML&&(Ke[0]?Ke[0].ns:_e.ns)===0&&(En.inXML=!1);{const o=t.props;if(!En.inSFCRoot&&Au("COMPILER_NATIVE_TEMPLATE",_e)&&t.tag==="template"&&!xj(t)){const l=Ke[0]||s0,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&i0("COMPILER_INLINE_TEMPLATE",_e,a.loc)&&t.children.length&&(a.value={type:2,content:di(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function A0t(t,e){let n=t;for(;Ta.charCodeAt(n)!==e&&n<Ta.length-1;)n++;return n}function wj(t,e){let n=t;for(;Ta.charCodeAt(n)!==e&&n>=0;)n--;return n}const T0t=new Set(["if","else","else-if","for","slot"]);function xj({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&T0t.has(e[n].name))return!0}return!1}function M0t({tag:t,props:e}){if(_e.isCustomElement(t))return!1;if(t==="component"||I0t(t.charCodeAt(0))||dj(t)||_e.isBuiltInComponent&&_e.isBuiltInComponent(t)||_e.isNativeTag&&!_e.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const i=e[n];if(i.type===6){if(i.name==="is"&&i.value&&(i.value.content.startsWith("vue:")||i0("COMPILER_IS_ON_ELEMENT",_e,i.loc)))return!0}else if(i.name==="bind"&&Tu(i.arg,"is")&&i0("COMPILER_IS_ON_ELEMENT",_e,i.loc))return!0}return!1}function I0t(t){return t>64&&t<91}const O0t=/\r\n/g;function Ej(t,e){const n=_e.whitespace!=="preserve";let i=!1;for(let r=0;r<t.length;r++){const s=t[r];if(s.type===2)if(VA)s.content=s.content.replace(O0t,`
`);else if(N0t(s.content)){const o=t[r-1]&&t[r-1].type,a=t[r+1]&&t[r+1].type;!o||!a||n&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&C0t(s.content)))?(i=!0,t[r]=null):s.content=" "}else n&&(s.content=Sj(s.content))}return i?t.filter(Boolean):t}function N0t(t){for(let e=0;e<t.length;e++)if(!Fr(t.charCodeAt(e)))return!1;return!0}function C0t(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function Sj(t){let e="",n=!1;for(let i=0;i<t.length;i++)Fr(t.charCodeAt(i))?n||(e+=" ",n=!0):(e+=t[i],n=!1);return e}function BA(t){(Ke[0]||s0).children.push(t)}function Pn(t,e){return{start:En.getPos(t),end:e==null?e:En.getPos(e),source:e==null?e:di(t,e)}}function k0t(t){return Pn(t.start.offset,t.end.offset)}function Iu(t,e){t.end=En.getPos(e),t.source=di(t.start.offset,e)}function P0t(t){const e={type:6,name:t.rawName,nameLoc:Pn(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function v2(t,e=!1,n,i=0,r=0){return Wt(t,e,n,i)}function Ia(t,e,n){_e.onError(Qe(t,Pn(e,e)))}function L0t(){En.reset(),Ii=null,se=null,vr="",Ma=-1,Mu=-1,Ke.length=0}function R0t(t,e){if(L0t(),Ta=t,_e=ee({},vj),e){let r;for(r in e)e[r]!=null&&(_e[r]=e[r])}En.mode=_e.parseMode==="html"?1:_e.parseMode==="sfc"?2:0,En.inXML=_e.ns===1||_e.ns===2;const n=e&&e.delimiters;n&&(En.delimiterOpen=h2(n[0]),En.delimiterClose=h2(n[1]));const i=s0=o0t([],t);return En.parse(Ta),i.loc=Pn(0,t.length),i.children=Ej(i.children),s0=null,i}function D0t(t,e){b2(t,void 0,e,Aj(t,t.children[0]))}function Aj(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!f2(e)}function b2(t,e,n,i=!1,r=!1){const{children:s}=t,o=[];for(let p=0;p<s.length;p++){const d=s[p];if(d.type===1&&d.tagType===0){const f=i?0:jr(d,n);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&Mj(d,n)>=2){const b=Ij(d);b&&(y.props=n.hoist(b))}y.dynamicProps&&(y.dynamicProps=n.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:jr(d,n))>=2){o.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&n.scopes.vSlot++,b2(d,t,n,!1,r),f&&n.scopes.vSlot--}else if(d.type===11)b2(d,t,n,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)b2(d.branches[f],t,n,d.branches[f].children.length===1,r)}let a=!1;if(o.length===s.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&_t(t.codegenNode.children))t.codegenNode.children=l(Su(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!_t(t.codegenNode.children)&&t.codegenNode.children.type===15){const p=c(t.codegenNode,"default");p&&(p.returns=l(Su(p.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!_t(e.codegenNode.children)&&e.codegenNode.children.type===15){const p=ys(t,"slot",!0),d=p&&p.arg&&c(e.codegenNode,p.arg);d&&(d.returns=l(Su(d.returns)),a=!0)}}if(!a)for(const p of o)p.codegenNode=n.cache(p.codegenNode);function l(p){const d=n.cache(p);return r&&n.hmr&&(d.needArraySpread=!0),d}function c(p,d){if(p.children&&!_t(p.children)&&p.children.type===15){const f=p.children.properties.find(y=>y.key===d||y.key.content===d);return f&&f.value}}o.length&&n.transformHoist&&n.transformHoist(s,n,t)}function jr(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const i=n.get(t);if(i!==void 0)return i;const r=t.codegenNode;if(r.type!==13||r.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(r.patchFlag===void 0){let o=3;const a=Mj(t,e);if(a===0)return n.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const c=jr(t.children[l],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const p=jr(c.exp,e);if(p===0)return n.set(t,0),0;p<o&&(o=p)}}if(r.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return n.set(t,0),0;e.removeHelper(Eu),e.removeHelper(Up(e.inSSR,r.isComponent)),r.isBlock=!1,e.helper($p(e.inSSR,r.isComponent))}return n.set(t,o),o}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return jr(t.content,e);case 4:return t.constType;case 8:let s=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(jt(a)||pr(a))continue;const l=jr(a,e);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const F0t=new Set([NA,CA,t0,e0]);function Tj(t,e){if(t.type===14&&!jt(t.callee)&&F0t.has(t.callee)){const n=t.arguments[0];if(n.type===4)return jr(n,e);if(n.type===14)return Tj(n,e)}return 0}function Mj(t,e){let n=3;const i=Ij(t);if(i&&i.type===15){const{properties:r}=i;for(let s=0;s<r.length;s++){const{key:o,value:a}=r[s],l=jr(o,e);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=jr(a,e):a.type===14?c=Tj(a,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function Ij(t){const e=t.codegenNode;if(e.type===13)return e.props}function j0t(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:r=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=ei,isCustomElement:p=ei,expressionPlugins:d=[],scopeId:f=null,slotted:y=!0,ssr:g=!1,inSSR:b=!1,ssrCssVars:x="",bindingMetadata:A=te,inline:T=!1,isTS:w=!1,onError:_=GA,onWarn:M=pj,compatConfig:I}){const N=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={filename:e,selfName:N&&Cl(Re(N[1])),prefixIdentifiers:n,hoistStatic:i,hmr:r,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:p,expressionPlugins:d,scopeId:f,slotted:y,ssr:g,inSSR:b,ssrCssVars:x,bindingMetadata:A,inline:T,isTS:w,onError:_,onWarn:M,compatConfig:I,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(P){const D=C.helpers.get(P)||0;return C.helpers.set(P,D+1),P},removeHelper(P){const D=C.helpers.get(P);if(D){const U=D-1;U?C.helpers.set(P,U):C.helpers.delete(P)}},helperString(P){return`_${jp[C.helper(P)]}`},replaceNode(P){C.parent.children[C.childIndex]=C.currentNode=P},removeNode(P){const D=C.parent.children,U=P?D.indexOf(P):C.currentNode?C.childIndex:-1;!P||P===C.currentNode?(C.currentNode=null,C.onNodeRemoved()):C.childIndex>U&&(C.childIndex--,C.onNodeRemoved()),C.parent.children.splice(U,1)},onNodeRemoved:ei,addIdentifiers(P){},removeIdentifiers(P){},hoist(P){jt(P)&&(P=Wt(P)),C.hoists.push(P);const D=Wt(`_hoisted_${C.hoists.length}`,!1,P.loc,2);return D.hoisted=P,D},cache(P,D=!1,U=!1){const j=a0t(C.cached.length,P,D,U);return C.cached.push(j),j}};return C.filters=new Set,C}function G0t(t,e){const n=j0t(t,e);_2(t,n),e.hoistStatic&&D0t(t,n),e.ssr||$0t(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function $0t(t,e){const{helper:n}=e,{children:i}=t;if(i.length===1){const r=i[0];if(Aj(t,r)&&r.codegenNode){const s=r.codegenNode;s.type===13&&jA(s,e),t.codegenNode=s}else t.codegenNode=r}else if(i.length>1){let r=64;t.codegenNode=n0(e,n(Xm),void 0,t.children,r,void 0,void 0,!0,void 0,!1)}}function U0t(t,e){let n=0;const i=()=>{n--};for(;n<t.children.length;n++){const r=t.children[n];jt(r)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=i,_2(r,e))}}function _2(t,e){e.currentNode=t;const{nodeTransforms:n}=e,i=[];for(let s=0;s<n.length;s++){const o=n[s](t,e);if(o&&(_t(o)?i.push(...o):i.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Km);break;case 5:e.ssr||e.helper(l2);break;case 9:for(let s=0;s<t.branches.length;s++)_2(t.branches[s],e);break;case 10:case 11:case 1:case 0:U0t(t,e);break}e.currentNode=t;let r=i.length;for(;r--;)i[r]()}function Oj(t,e){const n=jt(t)?i=>i===t:i=>t.test(i);return(i,r)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(b0t))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&n(l.name)){s.splice(a,1),a--;const c=e(i,l,r);c&&o.push(c)}}return o}}}const w2="/*@__PURE__*/",Nj=t=>`${jp[t]}: _${jp[t]}`;function V0t(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:p=!1,isTS:d=!1,inSSR:f=!1}){const y={mode:e,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:p,isTS:d,inSSR:f,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(b){return`_${jp[b]}`},push(b,x=-2,A){y.code+=b},indent(){g(++y.indentLevel)},deindent(b=!1){b?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(b){y.push(`
`+"  ".repeat(b),0)}return y}function z0t(t,e={}){const n=V0t(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:p}=n,d=Array.from(t.helpers),f=d.length>0,y=!s&&i!=="module";B0t(t,n);const g=p?"ssrRender":"render",b=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${g}(${b}) {`),o(),y&&(r("with (_ctx) {"),o(),f&&(r(`const { ${d.map(Nj).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(WA(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(WA(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),WA(t.filters,"filter",n),l()),t.temps>0){r("let ");for(let x=0;x<t.temps;x++)r(`${x>0?", ":""}_temp${x}`)}return(t.components.length||t.directives.length||t.temps)&&(r(`
`,0),l()),p||r("return "),t.codegenNode?Oi(t.codegenNode,n):r("null"),y&&(a(),r("}")),a(),r("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function B0t(t,e){const{ssr:n,prefixIdentifiers:i,push:r,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,p=Array.from(t.helpers);if(p.length>0&&(r(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[wA,xA,Km,EA,rj].filter(f=>p.includes(f)).map(Nj).join(", ");r(`const { ${d} } = _Vue
`,-1)}W0t(t.hoists,e),s(),r("return ")}function WA(t,e,{helper:n,push:i,newline:r,isTS:s}){const o=n(e==="filter"?MA:e==="component"?SA:TA);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${r0(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<t.length-1&&r()}}function W0t(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:i}=e;i();for(let r=0;r<t.length;r++){const s=t[r];s&&(n(`const _hoisted_${r+1} = `),Oi(s,e),i())}e.pure=!1}function qA(t,e){const n=t.length>3||!1;e.push("["),n&&e.indent(),o0(t,e,n),n&&e.deindent(),e.push("]")}function o0(t,e,n=!1,i=!0){const{push:r,newline:s}=e;for(let o=0;o<t.length;o++){const a=t[o];jt(a)?r(a,-3):_t(a)?qA(a,e):Oi(a,e),o<t.length-1&&(n?(i&&r(","),s()):i&&r(", "))}}function Oi(t,e){if(jt(t)){e.push(t,-3);return}if(pr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Oi(t.codegenNode,e);break;case 2:q0t(t,e);break;case 4:Cj(t,e);break;case 5:H0t(t,e);break;case 12:Oi(t.codegenNode,e);break;case 8:kj(t,e);break;case 3:Y0t(t,e);break;case 13:J0t(t,e);break;case 14:Q0t(t,e);break;case 15:K0t(t,e);break;case 17:tyt(t,e);break;case 18:eyt(t,e);break;case 19:nyt(t,e);break;case 20:iyt(t,e);break;case 21:o0(t.body,e,!0,!1);break}}function q0t(t,e){e.push(JSON.stringify(t.content),-3,t)}function Cj(t,e){const{content:n,isStatic:i}=t;e.push(i?JSON.stringify(n):n,-3,t)}function H0t(t,e){const{push:n,helper:i,pure:r}=e;r&&n(w2),n(`${i(l2)}(`),Oi(t.content,e),n(")")}function kj(t,e){for(let n=0;n<t.children.length;n++){const i=t.children[n];jt(i)?e.push(i,-3):Oi(i,e)}}function Z0t(t,e){const{push:n}=e;if(t.type===8)n("["),kj(t,e),n("]");else if(t.isStatic){const i=$A(t.content)?t.content:JSON.stringify(t.content);n(i,-2,t)}else n(`[${t.content}]`,-3,t)}function Y0t(t,e){const{push:n,helper:i,pure:r}=e;r&&n(w2),n(`${i(Km)}(${JSON.stringify(t.content)})`,-3,t)}function J0t(t,e){const{push:n,helper:i,pure:r}=e,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:p,isBlock:d,disableTracking:f,isComponent:y}=t;let g;l&&(g=String(l)),p&&n(i(IA)+"("),d&&n(`(${i(Eu)}(${f?"true":""}), `),r&&n(w2);const b=d?Up(e.inSSR,y):$p(e.inSSR,y);n(i(b)+"(",-2,t),o0(X0t([s,o,a,g,c]),e),n(")"),d&&n(")"),p&&(n(", "),Oi(p,e),n(")"))}function X0t(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function Q0t(t,e){const{push:n,helper:i,pure:r}=e,s=jt(t.callee)?t.callee:i(t.callee);r&&n(w2),n(s+"(",-2,t),o0(t.arguments,e),n(")")}function K0t(t,e){const{push:n,indent:i,deindent:r,newline:s}=e,{properties:o}=t;if(!o.length){n("{}",-2,t);return}const a=o.length>1||!1;n(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:p}=o[l];Z0t(c,e),n(": "),Oi(p,e),l<o.length-1&&(n(","),s())}a&&r(),n(a?"}":" }")}function tyt(t,e){qA(t.elements,e)}function eyt(t,e){const{push:n,indent:i,deindent:r}=e,{params:s,returns:o,body:a,newline:l,isSlot:c}=t;c&&n(`_${jp[RA]}(`),n("(",-2,t),_t(s)?o0(s,e):s&&Oi(s,e),n(") => "),(l||a)&&(n("{"),i()),o?(l&&n("return "),_t(o)?qA(o,e):Oi(o,e)):a&&Oi(a,e),(l||a)&&(r(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function nyt(t,e){const{test:n,consequent:i,alternate:r,newline:s}=t,{push:o,indent:a,deindent:l,newline:c}=e;if(n.type===4){const d=!$A(n.content);d&&o("("),Cj(n,e),d&&o(")")}else o("("),Oi(n,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),Oi(i,e),e.indentLevel--,s&&c(),s||o(" "),o(": ");const p=r.type===19;p||e.indentLevel++,Oi(r,e),p||e.indentLevel--,s&&l(!0)}function iyt(t,e){const{push:n,helper:i,indent:r,deindent:s,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&n("[...("),n(`_cache[${t.index}] || (`),a&&(r(),n(`${i(u2)}(-1`),t.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${t.index}] = `),Oi(t.value,e),a&&(n(`).cacheIndex = ${t.index},`),o(),n(`${i(u2)}(1),`),o(),n(`_cache[${t.index}]`),s()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const ryt=Oj(/^(if|else|else-if)$/,(t,e,n)=>syt(t,e,n,(i,r,s)=>{const o=n.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)i.codegenNode=Lj(r,l,n);else{const c=oyt(i.codegenNode);c.alternate=Lj(r,l+i.branches.length-1,n)}}}));function syt(t,e,n,i){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const r=e.exp?e.exp.loc:t.loc;n.onError(Qe(28,e.loc)),e.exp=Wt("true",!1,r)}if(e.name==="if"){const r=Pj(t,e),s={type:9,loc:k0t(t.loc),branches:[r]};if(n.replaceNode(s),i)return i(s,r,!0)}else{const r=n.parent.children;let s=r.indexOf(t);for(;s-->=-1;){const o=r[s];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(Qe(30,t.loc)),n.removeNode();const a=Pj(t,e);o.branches.push(a);const l=i&&i(o,a,!1);_2(a,n),l&&l(),n.currentNode=null}else n.onError(Qe(30,t.loc));break}}}function Pj(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!ys(t,"for")?t.children:[t],userKey:p2(t,"key"),isTemplateIf:n}}function Lj(t,e,n){return t.condition?FA(t.condition,Rj(t,e,n),Xn(n.helper(Km),['""',"true"])):Rj(t,e,n)}function Rj(t,e,n){const{helper:i}=n,r=kn("key",Wt(`${e}`,!1,Dr,2)),{children:s}=t,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const a=o.codegenNode;return m2(a,r,n),a}else return n0(n,i(Xm),ms([r]),s,64,void 0,void 0,!0,!1,!1,t.loc);else{const a=o.codegenNode,l=w0t(a);return l.type===13&&jA(l,n),m2(l,r,n),a}}function oyt(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const ayt=(t,e,n)=>{const{modifiers:i,loc:r}=t,s=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return n.onError(Qe(52,s.loc)),{props:[kn(s,Wt("",!0,r))]};Dj(t),o=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=Re(s.content):s.content=`${n.helperString(PA)}(${s.content})`:(s.children.unshift(`${n.helperString(PA)}(`),s.children.push(")"))),n.inSSR||(i.some(a=>a.content==="prop")&&Fj(s,"."),i.some(a=>a.content==="attr")&&Fj(s,"^")),{props:[kn(s,o)]}},Dj=(t,e)=>{const n=t.arg,i=Re(n.content);t.exp=Wt(i,!1,n.loc)},Fj=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},lyt=Oj("for",(t,e,n)=>{const{helper:i,removeHelper:r}=n;return cyt(t,e,n,s=>{const o=Xn(i(OA),[s.source]),a=d2(t),l=ys(t,"memo"),c=p2(t,"key",!1,!0);c&&c.type===7&&!c.exp&&Dj(c);let p=c&&(c.type===6?c.value?Wt(c.value.content,!0):void 0:c.exp);const d=c&&p?kn("key",p):null,f=s.source.type===4&&s.source.constType>0,y=f?64:c?128:256;return s.codegenNode=n0(n,i(Xm),void 0,o,y,void 0,void 0,!0,!f,!1,t.loc),()=>{let g;const{children:b}=s,x=b.length!==1||b[0].type!==1,A=f2(t)?t:a&&t.children.length===1&&f2(t.children[0])?t.children[0]:null;if(A?(g=A.codegenNode,a&&d&&m2(g,d,n)):x?g=n0(n,i(Xm),d?ms([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(g=b[0].codegenNode,a&&d&&m2(g,d,n),g.isBlock!==!f&&(g.isBlock?(r(Eu),r(Up(n.inSSR,g.isComponent))):r($p(n.inSSR,g.isComponent))),g.isBlock=!f,g.isBlock?(i(Eu),i(Up(n.inSSR,g.isComponent))):i($p(n.inSSR,g.isComponent))),l){const T=Gp(HA(s.parseResult,[Wt("_cached")]));T.body=l0t([Qs(["const _memo = (",l.exp,")"]),Qs(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${n.helperString(aj)}(_cached, _memo)) return _cached`]),Qs(["const _item = ",g]),Wt("_item.memo = _memo"),Wt("return _item")]),o.arguments.push(T,Wt("_cache"),Wt(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(Gp(HA(s.parseResult),g,!0))}})});function cyt(t,e,n,i){if(!e.exp){n.onError(Qe(31,e.loc));return}const r=e.forParseResult;if(!r){n.onError(Qe(32,e.loc));return}jj(r);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:p,index:d}=r,f={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:p,objectIndexAlias:d,parseResult:r,children:d2(t)?t.children:[t]};n.replaceNode(f),a.vFor++;const y=i&&i(f);return()=>{a.vFor--,y&&y()}}function jj(t,e){t.finalized||(t.finalized=!0)}function HA({value:t,key:e,index:n},i=[]){return uyt([t,e,n,...i])}function uyt(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,i)=>n||Wt("_".repeat(i+1),!1))}const Gj=Wt("undefined",!1),hyt=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=ys(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},pyt=(t,e,n,i)=>Gp(t,n,!1,!0,n.length?n[0].loc:i);function dyt(t,e,n=pyt){e.helper(RA);const{children:i,loc:r}=t,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=ys(t,"slot",!0);if(l){const{arg:x,exp:A}=l;x&&!gr(x)&&(a=!0),s.push(kn(x||Wt("default",!0),n(A,void 0,i,r)))}let c=!1,p=!1;const d=[],f=new Set;let y=0;for(let x=0;x<i.length;x++){const A=i[x];let T;if(!d2(A)||!(T=ys(A,"slot",!0))){A.type!==3&&d.push(A);continue}if(l){e.onError(Qe(37,T.loc));break}c=!0;const{children:w,loc:_}=A,{arg:M=Wt("default",!0),exp:I,loc:N}=T;let C;gr(M)?C=M?M.content:"default":a=!0;const P=ys(A,"for"),D=n(I,P,w,_);let U,j;if(U=ys(A,"if"))a=!0,o.push(FA(U.exp,x2(M,D,y++),Gj));else if(j=ys(A,/^else(-if)?$/,!0)){let G=x,Z;for(;G--&&(Z=i[G],Z.type===3););if(Z&&d2(Z)&&ys(Z,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=j.exp?FA(j.exp,x2(M,D,y++),Gj):x2(M,D,y++)}else e.onError(Qe(30,j.loc))}else if(P){a=!0;const G=P.forParseResult;G?(jj(G),o.push(Xn(e.helper(OA),[G.source,Gp(HA(G),x2(M,D),!0)]))):e.onError(Qe(32,P.loc))}else{if(C){if(f.has(C)){e.onError(Qe(38,N));continue}f.add(C),C==="default"&&(p=!0)}s.push(kn(M,D))}}if(!l){const x=(A,T)=>{const w=n(A,void 0,T,r);return e.compatConfig&&(w.isNonScopedSlot=!0),kn("default",w)};c?d.length&&d.some(A=>$j(A))&&(p?e.onError(Qe(39,d[0].loc)):s.push(x(void 0,d))):s.push(x(void 0,i))}const g=a?2:E2(t.children)?3:1;let b=ms(s.concat(kn("_",Wt(g+"",!1))),r);return o.length&&(b=Xn(e.helper(oj),[b,Su(o)])),{slots:b,hasDynamicSlots:a}}function x2(t,e,n){const i=[kn("name",t),kn("fn",e)];return n!=null&&i.push(kn("key",Wt(String(n),!0))),ms(i)}function E2(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||E2(n.children))return!0;break;case 9:if(E2(n.branches))return!0;break;case 10:case 11:if(E2(n.children))return!0;break}}return!1}function $j(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():$j(t.content)}const Uj=new WeakMap,fyt=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:i}=t,r=t.tagType===1;let s=r?myt(t,e):`"${n}"`;const o=Te(s)&&s.callee===AA;let a,l,c=0,p,d,f,y=o||s===Qm||s===_A||!r&&(n==="svg"||n==="foreignObject"||n==="math");if(i.length>0){const g=Vj(t,e,void 0,r,o);a=g.props,c=g.patchFlag,d=g.dynamicPropNames;const b=g.directives;f=b&&b.length?Su(b.map(x=>gyt(x,e))):void 0,g.shouldUseBlock&&(y=!0)}if(t.children.length>0)if(s===a2&&(y=!0,c|=1024),r&&s!==Qm&&s!==a2){const{slots:g,hasDynamicSlots:b}=dyt(t,e);l=g,b&&(c|=1024)}else if(t.children.length===1&&s!==Qm){const g=t.children[0],b=g.type,x=b===5||b===8;x&&jr(g,e)===0&&(c|=1),x||b===2?l=g:l=t.children}else l=t.children;d&&d.length&&(p=vyt(d)),t.codegenNode=n0(e,s,a,l,c===0?void 0:c,p,f,!!y,!1,r,t.loc)};function myt(t,e,n=!1){let{tag:i}=t;const r=ZA(i),s=p2(t,"is",!1,!0);if(s)if(r||Au("COMPILER_IS_ON_ELEMENT",e)){let a;if(s.type===6?a=s.value&&Wt(s.value.content,!0):(a=s.exp,a||(a=Wt("is",!1,s.arg.loc))),a)return Xn(e.helper(AA),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const o=dj(i)||e.isBuiltInComponent(i);return o?(n||e.helper(o),o):(e.helper(SA),e.components.add(i),r0(i,"component"))}function Vj(t,e,n=t.props,i,r,s=!1){const{tag:o,loc:a,children:l}=t;let c=[];const p=[],d=[],f=l.length>0;let y=!1,g=0,b=!1,x=!1,A=!1,T=!1,w=!1,_=!1;const M=[],I=D=>{c.length&&(p.push(ms(zj(c),a)),c=[]),D&&p.push(D)},N=()=>{e.scopes.vFor>0&&c.push(kn(Wt("ref_for",!0),Wt("true")))},C=({key:D,value:U})=>{if(gr(D)){const j=D.content,G=hu(j);if(G&&(!i||r)&&j.toLowerCase()!=="onclick"&&j!=="onUpdate:modelValue"&&!Nl(j)&&(T=!0),G&&Nl(j)&&(_=!0),G&&U.type===14&&(U=U.arguments[0]),U.type===20||(U.type===4||U.type===8)&&jr(U,e)>0)return;j==="ref"?b=!0:j==="class"?x=!0:j==="style"?A=!0:j!=="key"&&!M.includes(j)&&M.push(j),i&&(j==="class"||j==="style")&&!M.includes(j)&&M.push(j)}else w=!0};for(let D=0;D<n.length;D++){const U=n[D];if(U.type===6){const{loc:j,name:G,nameLoc:Z,value:u}=U;let m=!0;if(G==="ref"&&(b=!0,N()),G==="is"&&(ZA(o)||u&&u.content.startsWith("vue:")||Au("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(kn(Wt(G,!0,Z),Wt(u?u.content:"",m,u?u.loc:j)))}else{const{name:j,arg:G,exp:Z,loc:u,modifiers:m}=U,S=j==="bind",k=j==="on";if(j==="slot"){i||e.onError(Qe(40,u));continue}if(j==="once"||j==="memo"||j==="is"||S&&Tu(G,"is")&&(ZA(o)||Au("COMPILER_IS_ON_ELEMENT",e))||k&&s)continue;if((S&&Tu(G,"key")||k&&f&&Tu(G,"vue:before-update"))&&(y=!0),S&&Tu(G,"ref")&&N(),!G&&(S||k)){if(w=!0,Z)if(S){if(N(),I(),Au("COMPILER_V_BIND_OBJECT_ORDER",e)){p.unshift(Z);continue}p.push(Z)}else I({type:14,loc:u,callee:e.helper(kA),arguments:i?[Z]:[Z,"true"]});else e.onError(Qe(S?34:35,u));continue}S&&m.some(Y=>Y.content==="prop")&&(g|=32);const z=e.directiveTransforms[j];if(z){const{props:Y,needRuntime:pt}=z(U,t,e);!s&&Y.forEach(C),k&&G&&!gr(G)?I(ms(Y,a)):c.push(...Y),pt&&(d.push(U),pr(pt)&&Uj.set(U,pt))}else xdt(j)||(d.push(U),f&&(y=!0))}}let P;if(p.length?(I(),p.length>1?P=Xn(e.helper(c2),p,a):P=p[0]):c.length&&(P=ms(zj(c),a)),w?g|=16:(x&&!i&&(g|=2),A&&!i&&(g|=4),M.length&&(g|=8),T&&(g|=32)),!y&&(g===0||g===32)&&(b||_||d.length>0)&&(g|=512),!e.inSSR&&P)switch(P.type){case 15:let D=-1,U=-1,j=!1;for(let u=0;u<P.properties.length;u++){const m=P.properties[u].key;gr(m)?m.content==="class"?D=u:m.content==="style"&&(U=u):m.isHandlerKey||(j=!0)}const G=P.properties[D],Z=P.properties[U];j?P=Xn(e.helper(t0),[P]):(G&&!gr(G.value)&&(G.value=Xn(e.helper(NA),[G.value])),Z&&(A||Z.value.type===4&&Z.value.content.trim()[0]==="["||Z.value.type===17)&&(Z.value=Xn(e.helper(CA),[Z.value])));break;case 14:break;default:P=Xn(e.helper(t0),[Xn(e.helper(e0),[P])]);break}return{props:P,directives:d,patchFlag:g,dynamicPropNames:M,shouldUseBlock:y}}function zj(t){const e=new Map,n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const s=r.key.content,o=e.get(s);o?(s==="style"||s==="class"||hu(s))&&yyt(o,r):(e.set(s,r),n.push(r))}return n}function yyt(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Su([t.value,e.value],t.loc)}function gyt(t,e){const n=[],i=Uj.get(t);i?n.push(e.helperString(i)):(e.helper(TA),e.directives.add(t.name),n.push(r0(t.name,"directive")));const{loc:r}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=Wt("true",!1,r);n.push(ms(t.modifiers.map(o=>kn(o,s)),r))}return Su(n,t.loc)}function vyt(t){let e="[";for(let n=0,i=t.length;n<i;n++)e+=JSON.stringify(t[n]),n<i-1&&(e+=", ");return e+"]"}function ZA(t){return t==="component"||t==="Component"}const byt=(t,e)=>{if(f2(t)){const{children:n,loc:i}=t,{slotName:r,slotProps:s}=_yt(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),n.length&&(o[3]=Gp([],n,!1,!1,i),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Xn(e.helper(sj),o,i)}};function _yt(t,e){let n='"default"',i;const r=[];for(let s=0;s<t.props.length;s++){const o=t.props[s];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=Re(o.name),r.push(o)));else if(o.name==="bind"&&Tu(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=Re(o.arg.content);n=o.exp=Wt(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&gr(o.arg)&&(o.arg.content=Re(o.arg.content)),r.push(o)}if(r.length>0){const{props:s,directives:o}=Vj(t,e,r,!1,!1);i=s,o.length&&e.onError(Qe(36,o[0].loc))}return{slotName:n,slotProps:i}}const Bj=(t,e,n,i)=>{const{loc:r,modifiers:s,arg:o}=t;!t.exp&&!s.length&&n.onError(Qe(35,r));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?du(Re(d)):`on:${d}`;a=Wt(f,!0,o.loc)}else a=Qs([`${n.helperString(LA)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(LA)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const d=mj(l),f=!(d||g0t(l)),y=l.content.includes(";");(f||c&&d)&&(l=Qs([`${f?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let p={props:[kn(a,l||Wt("() => {}",!1,r))]};return i&&(p=i(p)),c&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(d=>d.key.isHandlerKey=!0),p},wyt=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let i,r=!1;for(let s=0;s<n.length;s++){const o=n[s];if(UA(o)){r=!0;for(let a=s+1;a<n.length;a++){const l=n[a];if(UA(l))i||(i=n[s]=Qs([o],o.loc)),i.children.push(" + ",l),n.splice(a,1),a--;else{i=void 0;break}}}}if(!(!r||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const o=n[s];if(UA(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&jr(o,e)===0&&a.push("1"),n[s]={type:12,content:o,loc:o.loc,codegenNode:Xn(e.helper(EA),a)}}}}},Wj=new WeakSet,xyt=(t,e)=>{if(t.type===1&&ys(t,"once",!0))return Wj.has(t)||e.inVOnce||e.inSSR?void 0:(Wj.add(t),e.inVOnce=!0,e.helper(u2),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0,!0))})},qj=(t,e,n)=>{const{exp:i,arg:r}=t;if(!i)return n.onError(Qe(41,t.loc)),S2();const s=i.loc.source.trim(),o=i.type===4?i.content:s,a=n.bindingMetadata[s];if(a==="props"||a==="props-aliased")return n.onError(Qe(44,i.loc)),S2();if(!o.trim()||!mj(i))return n.onError(Qe(42,i.loc)),S2();const l=r||Wt("modelValue",!0),c=r?gr(r)?`onUpdate:${Re(r.content)}`:Qs(['"onUpdate:" + ',r]):"onUpdate:modelValue";let p;const d=n.isTS?"($event: any)":"$event";p=Qs([`${d} => ((`,i,") = $event)"]);const f=[kn(l,t.exp),kn(c,p)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(b=>b.content).map(b=>($A(b)?b:JSON.stringify(b))+": true").join(", "),g=r?gr(r)?`${r.content}Modifiers`:Qs([r,' + "Modifiers"']):"modelModifiers";f.push(kn(g,Wt(`{ ${y} }`,!1,t.loc,2)))}return S2(f)};function S2(t=[]){return{props:t}}const Eyt=/[\w).+\-_$\]]/,Syt=(t,e)=>{Au("COMPILER_FILTERS",e)&&(t.type===5?A2(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&A2(n.exp,e)}))};function A2(t,e){if(t.type===4)Hj(t,e);else for(let n=0;n<t.children.length;n++){const i=t.children[n];typeof i=="object"&&(i.type===4?Hj(i,e):i.type===8?A2(t,e):i.type===5&&A2(i.content,e))}}function Hj(t,e){const n=t.content;let i=!1,r=!1,s=!1,o=!1,a=0,l=0,c=0,p=0,d,f,y,g,b=[];for(y=0;y<n.length;y++)if(f=d,d=n.charCodeAt(y),i)d===39&&f!==92&&(i=!1);else if(r)d===34&&f!==92&&(r=!1);else if(s)d===96&&f!==92&&(s=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(p=y+1,g=n.slice(0,y).trim()):x();else{switch(d){case 34:r=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let A=y-1,T;for(;A>=0&&(T=n.charAt(A),T===" ");A--);(!T||!Eyt.test(T))&&(o=!0)}}g===void 0?g=n.slice(0,y).trim():p!==0&&x();function x(){b.push(n.slice(p,y).trim()),p=y+1}if(b.length){for(y=0;y<b.length;y++)g=Ayt(g,b[y],e);t.content=g,t.ast=void 0}}function Ayt(t,e,n){n.helper(MA);const i=e.indexOf("(");if(i<0)return n.filters.add(e),`${r0(e,"filter")}(${t})`;{const r=e.slice(0,i),s=e.slice(i+1);return n.filters.add(r),`${r0(r,"filter")}(${t}${s!==")"?","+s:s}`}}const Zj=new WeakSet,Tyt=(t,e)=>{if(t.type===1){const n=ys(t,"memo");return!n||Zj.has(t)?void 0:(Zj.add(t),()=>{const i=t.codegenNode||e.currentNode.codegenNode;i&&i.type===13&&(t.tagType!==1&&jA(i,e),t.codegenNode=Xn(e.helper(DA),[n.exp,Gp(void 0,i),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function Myt(t){return[[xyt,ryt,Tyt,lyt,Syt,byt,fyt,hyt,wyt],{on:Bj,bind:ayt,model:qj}]}function Iyt(t,e={}){const n=e.onError||GA,i=e.mode==="module";e.prefixIdentifiers===!0?n(Qe(47)):i&&n(Qe(48));const r=!1;e.cacheHandlers&&n(Qe(49)),e.scopeId&&!i&&n(Qe(50));const s=ee({},e,{prefixIdentifiers:r}),o=jt(t)?R0t(t,s):t,[a,l]=Myt();return G0t(o,ee({},s,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:ee({},l,e.directiveTransforms||{})})),z0t(o,s)}const Oyt=()=>({props:[]}),Yj=Symbol(""),Jj=Symbol(""),Xj=Symbol(""),Qj=Symbol(""),YA=Symbol(""),Kj=Symbol(""),tG=Symbol(""),eG=Symbol(""),nG=Symbol(""),iG=Symbol("");s0t({[Yj]:"vModelRadio",[Jj]:"vModelCheckbox",[Xj]:"vModelText",[Qj]:"vModelSelect",[YA]:"vModelDynamic",[Kj]:"withModifiers",[tG]:"withKeys",[eG]:"vShow",[nG]:"Transition",[iG]:"TransitionGroup"});let Vp;function Nyt(t,e=!1){return Vp||(Vp=document.createElement("div")),e?(Vp.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,Vp.children[0].getAttribute("foo")):(Vp.innerHTML=t,Vp.textContent)}const Cyt={parseMode:"html",isVoidTag:jdt,isNativeTag:t=>Rdt(t)||Ddt(t)||Fdt(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:Nyt,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return nG;if(t==="TransitionGroup"||t==="transition-group")return iG},getNamespace(t,e,n){let i=e?e.ns:n;if(e&&i===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(i=0);else e&&i===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(i=0);if(i===0){if(t==="svg")return 1;if(t==="math")return 2}return i}},kyt=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:Wt("style",!0,e.loc),exp:Pyt(e.value.content,e.loc),modifiers:[],loc:e.loc})})},Pyt=(t,e)=>{const n=Z7(t);return Wt(JSON.stringify(n),!1,e,3)};function Yl(t,e){return Qe(t,e)}const Lyt=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Yl(53,r)),e.children.length&&(n.onError(Yl(54,r)),e.children.length=0),{props:[kn(Wt("innerHTML",!0,r),i||Wt("",!0))]}},Ryt=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Yl(55,r)),e.children.length&&(n.onError(Yl(56,r)),e.children.length=0),{props:[kn(Wt("textContent",!0),i?jr(i,n)>0?i:Xn(n.helperString(l2),[i],r):Wt("",!0))]}},Dyt=(t,e,n)=>{const i=qj(t,e,n);if(!i.props.length||e.tagType===1)return i;t.arg&&n.onError(Yl(58,t.arg.loc));const{tag:r}=e,s=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||s){let o=Xj,a=!1;if(r==="input"||s){const l=p2(e,"type");if(l){if(l.type===7)o=YA;else if(l.value)switch(l.value.content){case"radio":o=Yj;break;case"checkbox":o=Jj;break;case"file":a=!0,n.onError(Yl(59,t.loc));break}}else v0t(e)&&(o=YA)}else r==="select"&&(o=Qj);a||(i.needRuntime=n.helper(o))}else n.onError(Yl(57,t.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},Fyt=Pr("passive,once,capture"),jyt=Pr("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Gyt=Pr("left,right"),rG=Pr("onkeyup,onkeydown,onkeypress"),$yt=(t,e,n,i)=>{const r=[],s=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&i0("COMPILER_V_ON_NATIVE",n)||Fyt(l)?o.push(l):Gyt(l)?gr(t)?rG(t.content.toLowerCase())?r.push(l):s.push(l):(r.push(l),s.push(l)):jyt(l)?s.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:s,eventOptionModifiers:o}},sG=(t,e)=>gr(t)&&t.content.toLowerCase()==="onclick"?Wt(e,!0):t.type!==4?Qs(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,Uyt=(t,e,n)=>Bj(t,e,n,i=>{const{modifiers:r}=t;if(!r.length)return i;let{key:s,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=$yt(s,r,n,t.loc);if(l.includes("right")&&(s=sG(s,"onContextmenu")),l.includes("middle")&&(s=sG(s,"onMouseup")),l.length&&(o=Xn(n.helper(Kj),[o,JSON.stringify(l)])),a.length&&(!gr(s)||rG(s.content.toLowerCase()))&&(o=Xn(n.helper(tG),[o,JSON.stringify(a)])),c.length){const p=c.map(Cl).join("");s=gr(s)?Wt(`${s.content}${p}`,!0):Qs(["(",s,`) + "${p}"`])}return{props:[kn(s,o)]}}),Vyt=(t,e,n)=>{const{exp:i,loc:r}=t;return i||n.onError(Yl(61,r)),{props:[],needRuntime:n.helper(eG)}},zyt=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},Byt=[kyt],Wyt={cloak:Oyt,html:Lyt,text:Ryt,model:Dyt,on:Uyt,show:Vyt};function qyt(t,e={}){return Iyt(t,ee({},Cyt,e,{nodeTransforms:[zyt,...Byt,...e.nodeTransforms||[]],directiveTransforms:ee({},Wyt,e.directiveTransforms||{}),transformHoist:null}))}const oG=Object.create(null);function aG(t,e){if(!jt(t))if(t.nodeType)t=t.innerHTML;else return ei;const n=Adt(t,e),i=oG[n];if(i)return i;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const r=ee({hoistStatic:!0,onError:void 0,onWarn:ei},e);!r.isCustomElement&&typeof customElements<"u"&&(r.isCustomElement=a=>!!customElements.get(a));const{code:s}=qyt(t,r),o=new Function("Vue",s)(Kmt);return o._rc=!0,oG[n]=o}oA(aG);const Hyt=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:bS,BaseTransitionPropsValidators:Nv,Comment:On,DeprecationTypes:hF,EffectScope:av,ErrorCodes:MR,ErrorTypeStrings:sF,Fragment:Me,KeepAlive:KR,ReactiveEffect:_p,Static:Ul,Suspense:UD,Teleport:vS,Text:To,TrackOpTypes:xR,Transition:Hm,TransitionGroup:e2,TriggerOpTypes:ER,VueElement:Z0,assertNumber:TR,callWithAsyncErrorHandling:Lr,callWithErrorHandling:Rl,camelize:Re,capitalize:Cl,cloneVNode:Js,compatUtils:uF,compile:aG,computed:Bt,createApp:ql,createBlock:ke,createCommentVNode:Ie,createElementBlock:mt,createElementVNode:nt,createHydrationRenderer:WS,createPropsRestProxy:mD,createRenderer:BS,createSSRApp:bA,createSlots:iD,createStaticVNode:tA,createTextVNode:Xs,createVNode:zt,customRef:dS,defineAsyncComponent:Pv,defineComponent:Yt,defineCustomElement:yA,defineEmits:oD,defineExpose:aD,defineModel:uD,defineOptions:lD,defineProps:sD,defineSSRCustomElement:RF,defineSlots:cD,devtools:oF,effect:rR,effectScope:Em,getCurrentInstance:Cn,getCurrentScope:lv,getCurrentWatcher:SR,getTransitionRawChildren:km,guardReactiveProps:KS,h:ds,handleError:Dl,hasInjectionContext:US,hydrate:JF,hydrateOnIdle:YR,hydrateOnInteraction:QR,hydrateOnMediaQuery:XR,hydrateOnVisible:JR,initCustomFormatter:nF,initDirectivesForSSR:tj,inject:In,isMemoSame:aA,isProxy:Ep,isReactive:Ji,isReadonly:_a,isRef:ne,isRuntimeOnly:QD,isShallow:fr,isVNode:Zs,markRaw:Be,mergeDefaults:DS,mergeModels:FS,mergeProps:Bm,nextTick:Rr,normalizeClass:Xe,normalizeProps:Y7,normalizeStyle:ma,onActivated:SS,onBeforeMount:Fm,onBeforeUnmount:hs,onBeforeUpdate:Dv,onDeactivated:AS,onErrorCaptured:Fv,onMounted:ni,onRenderTracked:OS,onRenderTriggered:IS,onScopeDispose:eS,onServerPrefetch:MS,onUnmounted:$l,onUpdated:gu,onWatcherCleanup:fS,openBlock:st,popScopeId:LR,provide:$v,proxyRefs:gv,pushScopeId:PR,queuePostFlushCb:Mp,reactive:Zn,readonly:mv,ref:J,registerRuntimeCompiler:oA,render:Fp,renderList:Ea,renderSlot:ps,resolveComponent:xn,resolveDirective:be,resolveDynamicComponent:jv,resolveFilter:cF,resolveTransitionHooks:yu,setBlockTracking:qv,setDevtoolsHook:aF,setTransitionHooks:Ao,shallowReactive:hS,shallowReadonly:xp,shallowRef:Sp,ssrContextKey:ZS,ssrUtils:lF,stop:sR,toDisplayString:ge,toHandlerKey:du,toHandlers:rD,toRaw:Ct,toRef:bv,toRefs:vv,toValue:_R,transformVNodeArgs:HD,triggerRef:bR,unref:wt,useAttrs:dD,useCssModule:FF,useCssVars:pA,useHost:gA,useId:wS,useModel:XS,useSSRContext:YS,useShadowRoot:DF,useSlots:pD,useTemplateRef:Pm,useTransitionState:Ov,vModelCheckbox:n2,vModelDynamic:vA,vModelRadio:i2,vModelSelect:r2,vModelText:Lp,vShow:Zm,version:lA,warn:rF,watch:Vn,watchEffect:RD,watchPostEffect:DD,watchSyncEffect:JS,withAsyncContext:yD,withCtx:wn,withDefaults:hD,withDirectives:ve,withKeys:o2,withMemo:iF,withModifiers:Dp,withScopeId:RR},Symbol.toStringTag,{value:"Module"}));let lG;const T2=t=>lG=t,cG=Symbol();function JA(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var a0;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(a0||(a0={}));function Zyt(){const t=Em(!0),e=t.run(()=>J({}));let n=[],i=[];const r=Be({install(s){T2(r),r._a=s,s.provide(cG,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const uG=()=>{};function hG(t,e,n,i=uG){t.add(e);const r=()=>{t.delete(e)&&i()};return!n&&lv()&&eS(r),r}function zp(t,...e){t.forEach(n=>{n(...e)})}const Yyt=t=>t(),pG=Symbol(),XA=Symbol();function QA(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,i)=>t.set(i,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];JA(r)&&JA(i)&&t.hasOwnProperty(n)&&!ne(i)&&!Ji(i)?t[n]=QA(r,i):t[n]=i}return t}const Jyt=Symbol();function Xyt(t){return!JA(t)||!Object.prototype.hasOwnProperty.call(t,Jyt)}const{assign:Jl}=Object;function Qyt(t){return!!(ne(t)&&t.effect)}function Kyt(t,e,n,i){const{state:r,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){a||(n.state.value[t]=r?r():{});const p=vv(n.state.value[t]);return Jl(p,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=Be(Bt(()=>{T2(n);const y=n._s.get(t);return o[f].call(y,y)})),d),{}))}return l=dG(t,c,e,n,i,!0),l}function dG(t,e,n={},i,r,s){let o;const a=Jl({actions:{}},n),l={deep:!0};let c,p,d=new Set,f=new Set,y;const g=i.state.value[t];!s&&!g&&(i.state.value[t]={}),J({});let b;function x(N){let C;c=p=!1,typeof N=="function"?(N(i.state.value[t]),C={type:a0.patchFunction,storeId:t,events:y}):(QA(i.state.value[t],N),C={type:a0.patchObject,payload:N,storeId:t,events:y});const P=b=Symbol();Rr().then(()=>{b===P&&(c=!0)}),p=!0,zp(d,C,i.state.value[t])}const A=s?function(){const{state:N}=n,C=N?N():{};this.$patch(P=>{Jl(P,C)})}:uG;function T(){o.stop(),d.clear(),f.clear(),i._s.delete(t)}const w=(N,C="")=>{if(pG in N)return N[XA]=C,N;const P=function(){T2(i);const D=Array.from(arguments),U=new Set,j=new Set;function G(m){U.add(m)}function Z(m){j.add(m)}zp(f,{args:D,name:P[XA],store:M,after:G,onError:Z});let u;try{u=N.apply(this&&this.$id===t?this:M,D)}catch(m){throw zp(j,m),m}return u instanceof Promise?u.then(m=>(zp(U,m),m)).catch(m=>(zp(j,m),Promise.reject(m))):(zp(U,u),u)};return P[pG]=!0,P[XA]=C,P},_={_p:i,$id:t,$onAction:hG.bind(null,f),$patch:x,$reset:A,$subscribe(N,C={}){const P=hG(d,N,C.detached,()=>D()),D=o.run(()=>Vn(()=>i.state.value[t],U=>{(C.flush==="sync"?p:c)&&N({storeId:t,type:a0.direct,events:y},U)},Jl({},l,C)));return P},$dispose:T},M=Zn(_);i._s.set(t,M);const I=(i._a&&i._a.runWithContext||Yyt)(()=>i._e.run(()=>(o=Em()).run(()=>e({action:w}))));for(const N in I){const C=I[N];if(ne(C)&&!Qyt(C)||Ji(C))s||(g&&Xyt(C)&&(ne(C)?C.value=g[N]:QA(C,g[N])),i.state.value[t][N]=C);else if(typeof C=="function"){const P=w(C,N);I[N]=P,a.actions[N]=C}}return Jl(M,I),Jl(Ct(M),I),Object.defineProperty(M,"$state",{get:()=>i.state.value[t],set:N=>{x(C=>{Jl(C,N)})}}),i._p.forEach(N=>{Jl(M,o.run(()=>N({store:M,app:i._a,pinia:i,options:a})))}),g&&s&&n.hydrate&&n.hydrate(M.$state,g),c=!0,p=!0,M}function We(t,e,n){let i;const r=typeof e=="function";i=r?n:e;function s(o,a){const l=US();return o=o||(l?In(cG,null):null),o&&T2(o),o=lG,o._s.has(t)||(r?dG(t,e,i,o):Kyt(t,i,o)),o._s.get(t)}return s.$id=t,s}function fG(t){const e=Ct(t),n={};for(const i in e){const r=e[i];r.effect?n[i]=Bt({get:()=>t[i],set(s){t[i]=s}}):(ne(r)||Ji(r))&&(n[i]=bv(t,i))}return n}const l0=We("appbar",()=>{const t=J({}),e=J([]),n=J([]),i=Bt(()=>e.value.map(o=>o.map(a=>t.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function r(o){n.value.includes(o)||n.value.push(o)}function s(o){const a=n.value.indexOf(o);a!==-1&&n.value.splice(a,1),o in t.value&&delete t.value[o],e.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:t,order:e,temporary:n,visible:i,addTempButton:r,removeButton:s}}),M2=We("grid",()=>{const t=J({}),e=J(),n=J();function i(a){t.value={...t.value,[a.id]:a}}function r(a){t.value[a]!==void 0&&delete t.value[a]}function s(a){return Object.keys(t.value).find(l=>t.value[l].layerIds.includes(a))}function o(a,l){t.value[a].layerIds=t.value[a].layerIds.filter(c=>c!==l)}return{grids:t,panel:e,currentId:n,addGrid:i,removeGrid:r,getGridId:s,removeLayer:o}});function Oa(t,e,n,i){var r,s=!1,o=0;function a(){r&&clearTimeout(r)}function l(){a(),s=!0}typeof e!="boolean"&&(i=n,n=e,e=void 0);function c(){for(var p=arguments.length,d=new Array(p),f=0;f<p;f++)d[f]=arguments[f];var y=this,g=Date.now()-o;if(s)return;function b(){o=Date.now(),n.apply(y,d)}function x(){r=void 0}i&&!r&&b(),a(),i===void 0&&g>t?b():e!==!0&&(r=setTimeout(i?x:b,i===void 0?t-g:t))}return c.cancel=l,c}function c0(t,e,n){return n===void 0?Oa(t,e,!1):Oa(t,n,e!==!1)}const Xl=We("map-caption",()=>{const t=J({text:{},logo:{}}),e=J({}),n=J({}),i=J({});function r(o){o!==void 0?e.value.isImperialScale=o:e.value.isImperialScale=!e.value.isImperialScale}function s(o){t.value.text.value=o.text.value,t.value.text.disabled=o.text.disabled,t.value.logo.altText=o.logo.altText,t.value.logo.link=o.logo.link,t.value.logo.value=o.logo.value,t.value.logo.disabled=o.logo.disabled}return{attribution:t,scale:e,coords:n,langtoggle:i,toggleScale:r,setAttribution:s}}),KA=(t,e)=>{const n=[...t];for(;n.length>0;){const i=n.shift();if(e(i))return i;i&&n.push(...i.sublayers)}},Ks=We("layer",()=>{const t=J([]),e=J([]),n=J([]);function i(d){return KA(t.value,f=>f?.uid===d)}function r(d){return KA(t.value,f=>f?.id===d)}function s(d){return KA(t.value,f=>f!==void 0&&(f.id===d||f.uid===d))}function o(d){e.value=[...e.value,d]}function a(d,f=void 0){t.value=[...t.value,d],d.mapLayer&&((f===void 0||f<0)&&(console.error("Map layer added to store with invalid index!"),f=n.value.length),n.value.splice(f,0,d.id),n.value=[...n.value])}function l(d,f){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(f<0){console.error("Negative index passed to layer store reorder");return}f>=n.value.length&&(f=n.value.length-1);const y=n.value.findIndex(g=>g===d.id);y!==-1&&y!==f&&(n.value.splice(y,1),n.value.splice(f,0,d.id),n.value=[...n.value])}function c(d){const f=t.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(t.value=f,d.mapLayer){const y=n.value.filter(g=>g!==d.id);n.value=y}}function p(d){const f=e.value.filter(y=>y.id!==d);e.value=f}return{layers:t,mapOrder:n,layerConfigs:e,getLayerByUid:i,getLayerById:r,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:p}}),Ki=We("config",()=>{const t=J({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),e=J([]),n=J(),i=J({}),r=J({});function s(c){if(i.value[r.value[c]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[r.value[c]]}function o(c){const p={...t.value,...c};if(t.value=p,Array.isArray(t.value.layers)){const d=Ks();d.layerConfigs=[...d.layerConfigs,t.value.layers]}}function a(c,p){i.value[p]=c,r.value[p]=p}function l(c,p){const d=c.configs,f=Object.keys(d);if(f.length){const y=f[0];p.forEach(g=>{const b=f.includes(g)?g:y;i.value[g]=d[b],r.value[g]=b})}else console.error("Nothingburger config set was registered",c)}return{activeBasemapConfig:n,config:t,registeredConfigs:i,registeredLangs:r,startingFixtures:e,getActiveConfig:s,newConfig:o,registerAllConfigs:l,registerConfig:a}}),tT=We("details",()=>{const t=J([]),e=J({}),n=J({}),i=J(),r=J(0),s=J(0),o=J(!0),a=J();function l(p){const d=t.value.findIndex(f=>f.uid===p.uid);d!==-1&&t.value.splice(d,1)}function c(p){e.value={...e.value,[p.id]:p}}return{payload:t,properties:e,defaultTemplates:n,currentFeatureId:i,activeGreedy:r,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),gs=We("fixture",()=>{const t=J({}),e=J({});function n(o){return o.map(a=>e.value[a].getPromise())}function i(o){if(t.value={...t.value,[o.id]:Be(o)},o.id in e.value)e.value[o.id].resolveMe(Be(o));else{const a=new vn;a.resolveMe(Be(o)),e.value={...e.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function r(o){delete t.value[o.id],t.value={...t.value},delete e.value[o.id],e.value={...e.value},typeof o.removed=="function"&&o.removed()}function s(o){e.value={...e.value,[o]:new vn}}return{items:t,loadPromises:e,getLoadPromises:n,addFixture:i,removeFixture:r,addLoadPromise:s}});var Et=(t=>(t.APPBAR_BUTTON_CLICK="appbar/click",t.COMPONENT="ramp/component",t.CONFIG_CHANGE="config/configchanged",t.DETAILS_TOGGLE="details/toggle",t.FILTER_CHANGE="filter/change",t.FIXTURE_ADDED="fixture/added",t.FIXTURE_REMOVED="fixture/removed",t.GRID_TOGGLE="grid/toggle",t.HELP_TOGGLE="help/toggle",t.LANG_CHANGE="lang/change",t.LAYER_DRAWSTATECHANGE="layer/drawstatechange",t.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",t.LAYER_LAYERSTATECHANGE="layer/layerstatechange",t.LAYER_OPACITYCHANGE="layer/opacitychange",t.LAYER_REGISTERED="layer/registered",t.LAYER_RELOAD_END="layer/reloadend",t.LAYER_RELOAD_START="layer/reloadstart",t.LAYER_REMOVE="layer/remove",t.LAYER_VISIBILITYCHANGE="layer/visibilitychange",t.MAP_BASEMAPCHANGE="map/basemapchanged",t.MAP_BLUR="map/blur",t.MAP_CLICK="map/click",t.MAP_CREATED="map/created",t.MAP_DESTROYED="map/destroyed",t.MAP_DOUBLECLICK="map/doubleclick",t.MAP_EXTENTCHANGE="map/extentchanged",t.MAP_FOCUS="map/focus",t.MAP_GRAPHICHIT="map/graphichit",t.MAP_IDENTIFY="map/identify",t.MAP_KEYDOWN="map/keydown",t.MAP_KEYUP="map/keyup",t.MAP_MOUSEDOWN="map/mousedown",t.MAP_MOUSELEAVE="map/mouseleave",t.MAP_MOUSEMOVE="map/mousemove",t.MAP_MOUSEMOVE_END="map/mousemoveend",t.MAP_MOUSEMOVE_START="map/mousemovestart",t.MAP_REFRESH_END="map/refreshend",t.MAP_REFRESH_START="map/refreshstart",t.MAP_REORDER="map/reorder",t.MAP_RESIZED="map/resized",t.MAP_SCALECHANGE="map/scalechanged",t.MAP_START="map/start",t.METADATA_TOGGLE="metadata/toggle",t.PANEL_CLOSED="panel/closed",t.PANEL_MINIMIZED="panel/minimized",t.PANEL_OPENED="panel/opened",t.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",t.RAMP_RELOAD="ramp/reload",t.REORDER_TOGGLE="reorder/toggle",t.SETTINGS_TOGGLE="settings/toggle",t.USER_LAYER_ADDED="user/layeradded",t.WIZARD_TOGGLE="wizard/toggle",t))(Et||{}),eT=(t=>(t.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",t.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",t.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",t.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",t.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",t.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",t.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",t.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",t.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",t.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",t.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",t.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",t.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",t.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",t.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",t.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",t.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",t.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",t.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",t.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",t.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",t.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",t.MAP_MOUSEDOWN_UPDATES_MAPTIP="ramp_map_mousedown_updates_maptip",t.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",t.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",t.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",t.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",t.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",t.TOGGLE_DETAILS="ramp_toggle_details",t.TOGGLE_GRID="ramp_toggle_grid",t.TOGGLE_HELP="ramp_toggle_help",t.TOGGLE_METADATA="ramp_toggle_metadata",t.TOGGLE_REORDER="ramp_toggle_reorder",t.TOGGLE_SETTINGS="ramp_toggle_settings",t.TOGGLE_WIZARD="ramp_toggle_wizard",t))(eT||{});class tgt{eventName;handlerName;handlerFunc;constructor(e,n,i){this.eventName=e,this.handlerName=n,this.handlerFunc=i}}class egt extends _n{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new vdt.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Et).filter(n=>typeof n=="string"&&n.indexOf("/")>-1)}findHandler(e){return this._eventRegister.find(n=>n.handlerName===e)}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach(n=>{this._nameRegister.indexOf(n)===-1&&this._nameRegister.push(n)})}eventNames(){return this._nameRegister.slice()}on(e,n,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(e));const r=new tgt(e,i,n);return this._eventRegister.push(r),this._eventBus.on(e,n),i}off(e){const n=this.findHandler(e);n&&(this._eventRegister.splice(this._eventRegister.indexOf(n),1),this._eventBus.off(n.eventName,n.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach(n=>this.off(n))}removeDefaultEvents(){Object.values(eT).forEach(e=>{this.off(e)})}emit(e,...n){this._eventBus.emit(e,...n)}once(e,n,i=""){i||(i=this.handlerNamer(e));const r=(...s)=>{n(...s),this.off(i)};return this.on(e,r,i)}activeHandlers(e=""){return e===""?this._eventRegister.map(n=>n.handlerName):this._eventRegister.filter(n=>n.eventName===e).map(n=>n.handlerName)}addDefaultEvents(e){return(!Array.isArray(e)||e.length===0)&&(e=Object.values(eT)),e.map(n=>this.defaultHandlerFactory(n))}defaultHandlerFactory(e){let n;switch(e){case"ramp_layer_error_updates_legend":n=i=>{if(i.layer.layerState===en.ERROR){const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",n,e);break;case"ramp_layer_register_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/registered",n,e);break;case"ramp_layer_reload_end_binds_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.updateLegend(i)},this.$iApi.event.on("layer/reloadend",n,e);break;case"ramp_layer_reload_start_updates_legend":n=i=>{if(!i.isSublayer){const r=this.$iApi.fixture.get("legend");r&&r.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",n,e);break;case"ramp_layer_remove_checks_grid":n=i=>{if(this.$iApi.fixture.get("grid")){const r=M2(this.$vApp.$pinia),s=r.getGridId(i.id);if(s===void 0)return;if(r.removeLayer(s,i.id),r.grids[s].layerIds.length===0){r.removeGrid(s);const o=r.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),r.currentId=void 0}}}},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_details":n=i=>{const r=tT(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&r.removeLayer(i)},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&(r.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_useradd_updates_legend":n=i=>{const r=this.$iApi.fixture.get("legend");r&&r.addLayerItem(i)},this.$iApi.event.on("user/layeradded",n,e);break;case"ramp_map_basemap_checks_tile_proj":n=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(r=>r.dataFormat===Kn.ESRI_TILE&&r.schemaLocked).forEach(r=>{r.checkProj()})},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_basemap_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(Ki(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_blur_updates_key_handler":n=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",n,e);break;case"ramp_map_click_runs_identify":n=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",n,e);break;case"ramp_map_created_initializes_fixtures":n=()=>{const i=gs(this.$vApp.$pinia).items;Object.keys(i).forEach(r=>{i[r].initialized?.()})},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_created_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(Ki(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_extent_updates_maptip":n=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",Oa(50,!0,()=>n()),e);break;case"ramp_map_graphichit_creates_maptip":n=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",n,e);break;case"ramp_map_identify_opens_identify_results":n=i=>{const r=this.$iApi.fixture.get("details");r&&r.openDetails(i.results)},this.on("map/identify",n,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",Oa(50,()=>{const i=Xl(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(r=>{i.coords={formattedString:r}})}),e);break;case"ramp_map_keydown_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",n,e);break;case"ramp_map_keyup_updates_key_handler":n=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",n,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",Oa(50,i=>{const r=Xl(this.$vApp.$pinia);r.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(s=>{r.coords={formattedString:s}})}),e);break;case"ramp_map_mouse_updates_maptip":n=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",Oa(50,i=>n(i)),e);break;case"ramp_map_mousedown_updates_maptip":n=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousedown",Oa(50,i=>{const r={screenX:i.offsetX,screenY:i.offsetY,button:i.button,moveTime:0};n(r)}),e);break;case"ramp_map_mouseleave_removes_maptip":n=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",n);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",c0(100,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",c0(300,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_panel_close_updates_appbar":n=i=>{const r=l0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!r.order.flat().find(s=>s===i.id)&&r.removeButton(i.id)},this.on("panel/closed",n,e);break;case"ramp_panel_open_updates_appbar":n=i=>{const r=l0(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!r.order.flat().find(s=>s===i.id)&&r.addTempButton(i.id)},this.on("panel/opened",n,e);break;case"ramp_toggle_details":n=(i,r)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(i,r)},this.$iApi.event.on("details/toggle",n,e);break;case"ramp_toggle_grid":n=(i,r)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(i.id,r)},this.$iApi.event.on("grid/toggle",n,e);break;case"ramp_toggle_help":n=i=>{const r=this.$iApi.fixture.get("help");r&&r.toggleHelp(i)},this.$iApi.event.on("help/toggle",n,e);break;case"ramp_toggle_metadata":n=(i,r)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(i,r)},this.$iApi.event.on("metadata/toggle",n,e);break;case"ramp_toggle_reorder":n=i=>{const r=this.$iApi.fixture.get("layer-reorder");r&&r.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",n,e);break;case"ramp_toggle_settings":n=(i,r)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(i,r)},this.$iApi.event.on("settings/toggle",n,e);break;case"ramp_toggle_wizard":n=i=>{const r=this.$iApi.fixture.get("wizard");r&&r.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",n,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}function ngt(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const I2=typeof window<"u",Ql=(t,e=!1)=>e?Symbol.for(t):Symbol(t),igt=(t,e,n)=>rgt({l:t,k:e,s:n}),rgt=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ln=t=>typeof t=="number"&&isFinite(t),sgt=t=>bG(t)==="[object Date]",Kl=t=>bG(t)==="[object RegExp]",O2=t=>Gt(t)&&Object.keys(t).length===0,fi=Object.assign,ogt=Object.create,Ne=(t=null)=>ogt(t);let mG;const Na=()=>mG||(mG=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ne());function yG(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function gG(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function agt(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(e,n,i)=>`${n}="${gG(i)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(e,n,i)=>`${n}='${gG(i)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(e=>{t=t.replace(e,"$1javascript&#58;")}),t}const lgt=Object.prototype.hasOwnProperty;function to(t,e){return lgt.call(t,e)}const qe=Array.isArray,Fe=t=>typeof t=="function",vt=t=>typeof t=="string",Jt=t=>typeof t=="boolean",pe=t=>t!==null&&typeof t=="object",cgt=t=>pe(t)&&Fe(t.then)&&Fe(t.catch),vG=Object.prototype.toString,bG=t=>vG.call(t),Gt=t=>{if(!pe(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},ugt=t=>t==null?"":qe(t)||Gt(t)&&t.toString===vG?JSON.stringify(t,null,2):String(t);function hgt(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}function N2(t){let e=t;return()=>++e}const C2=t=>!pe(t)||qe(t);function k2(t,e){if(C2(t)||C2(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:i,des:r}=n.pop();Object.keys(i).forEach(s=>{s!=="__proto__"&&(pe(i[s])&&!pe(r[s])&&(r[s]=Array.isArray(i[s])?[]:Ne()),C2(r[s])||C2(i[s])?r[s]=i[s]:n.push({src:i[s],des:r[s]}))})}}function pgt(t,e,n){return{line:t,column:e,offset:n}}function P2(t,e,n){return{start:t,end:e}}const dgt=/\{([0-9a-zA-Z]+)\}/g;function _G(t,...e){return e.length===1&&fgt(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(dgt,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const wG=Object.assign,xG=t=>typeof t=="string",fgt=t=>t!==null&&typeof t=="object";function EG(t,e=""){return t.reduce((n,i,r)=>r===0?n+i:n+e+i,"")}const nT={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},mgt={[nT.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function ygt(t,e,...n){const i=_G(mgt[t],...n||[]),r={message:String(i),code:t};return e&&(r.location=e),r}const kt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},ggt={[kt.EXPECTED_TOKEN]:"Expected token: '{0}'",[kt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[kt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[kt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[kt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[kt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[kt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[kt.EMPTY_PLACEHOLDER]:"Empty placeholder",[kt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[kt.INVALID_LINKED_FORMAT]:"Invalid linked format",[kt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[kt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[kt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[kt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[kt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[kt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Bp(t,e,n={}){const{domain:i,messages:r,args:s}=n,o=_G((r||ggt)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=i,a}function vgt(t){throw t}const Ca=" ",bgt="\r",br=`
`,_gt="\u2028",wgt="\u2029";function xgt(t){const e=t;let n=0,i=1,r=1,s=0;const o=N=>e[N]===bgt&&e[N+1]===br,a=N=>e[N]===br,l=N=>e[N]===wgt,c=N=>e[N]===_gt,p=N=>o(N)||a(N)||l(N)||c(N),d=()=>n,f=()=>i,y=()=>r,g=()=>s,b=N=>o(N)||l(N)||c(N)?br:e[N],x=()=>b(n),A=()=>b(n+s);function T(){return s=0,p(n)&&(i++,r=0),o(n)&&n++,n++,r++,e[n]}function w(){return o(n+s)&&s++,s++,e[n+s]}function _(){n=0,i=1,r=1,s=0}function M(N=0){s=N}function I(){const N=n+s;for(;N!==n;)T();s=0}return{index:d,line:f,column:y,peekOffset:g,charAt:b,currentChar:x,currentPeek:A,next:T,peek:w,reset:_,resetPeek:M,skipToPeek:I}}const tc=void 0,u5t=".",SG="'",Egt="tokenizer";function Sgt(t,e={}){const n=e.location!==!1,i=xgt(t),r=()=>i.index(),s=()=>pgt(i.line(),i.column(),i.index()),o=s(),a=r(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:p}=e;function d(L,R,W,...X){const V=c();if(R.column+=W,R.offset+=W,p){const q=n?P2(V.startLoc,R):null,ut=Bp(L,q,{domain:Egt,args:X});p(ut)}}function f(L,R,W){L.endLoc=s(),L.currentType=R;const X={type:R};return n&&(X.loc=P2(L.startLoc,L.endLoc)),W!=null&&(X.value=W),X}const y=L=>f(L,14);function g(L,R){return L.currentChar()===R?(L.next(),R):(d(kt.EXPECTED_TOKEN,s(),0,R),"")}function b(L){let R="";for(;L.currentPeek()===Ca||L.currentPeek()===br;)R+=L.currentPeek(),L.peek();return R}function x(L){const R=b(L);return L.skipToPeek(),R}function A(L){if(L===tc)return!1;const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R===95}function T(L){if(L===tc)return!1;const R=L.charCodeAt(0);return R>=48&&R<=57}function w(L,R){const{currentType:W}=R;if(W!==2)return!1;b(L);const X=A(L.currentPeek());return L.resetPeek(),X}function _(L,R){const{currentType:W}=R;if(W!==2)return!1;b(L);const X=L.currentPeek()==="-"?L.peek():L.currentPeek(),V=T(X);return L.resetPeek(),V}function M(L,R){const{currentType:W}=R;if(W!==2)return!1;b(L);const X=L.currentPeek()===SG;return L.resetPeek(),X}function I(L,R){const{currentType:W}=R;if(W!==8)return!1;b(L);const X=L.currentPeek()===".";return L.resetPeek(),X}function N(L,R){const{currentType:W}=R;if(W!==9)return!1;b(L);const X=A(L.currentPeek());return L.resetPeek(),X}function C(L,R){const{currentType:W}=R;if(!(W===8||W===12))return!1;b(L);const X=L.currentPeek()===":";return L.resetPeek(),X}function P(L,R){const{currentType:W}=R;if(W!==10)return!1;const X=()=>{const q=L.currentPeek();return q==="{"?A(L.peek()):q==="@"||q==="%"||q==="|"||q===":"||q==="."||q===Ca||!q?!1:q===br?(L.peek(),X()):j(L,!1)},V=X();return L.resetPeek(),V}function D(L){b(L);const R=L.currentPeek()==="|";return L.resetPeek(),R}function U(L){const R=b(L),W=L.currentPeek()==="%"&&L.peek()==="{";return L.resetPeek(),{isModulo:W,hasSpace:R.length>0}}function j(L,R=!0){const W=(V=!1,q="",ut=!1)=>{const bt=L.currentPeek();return bt==="{"?q==="%"?!1:V:bt==="@"||!bt?q==="%"?!0:V:bt==="%"?(L.peek(),W(V,"%",!0)):bt==="|"?q==="%"||ut?!0:!(q===Ca||q===br):bt===Ca?(L.peek(),W(!0,Ca,ut)):bt===br?(L.peek(),W(!0,br,ut)):!0},X=W();return R&&L.resetPeek(),X}function G(L,R){const W=L.currentChar();return W===tc?tc:R(W)?(L.next(),W):null}function Z(L){const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36}function u(L){return G(L,Z)}function m(L){const R=L.charCodeAt(0);return R>=97&&R<=122||R>=65&&R<=90||R>=48&&R<=57||R===95||R===36||R===45}function S(L){return G(L,m)}function k(L){const R=L.charCodeAt(0);return R>=48&&R<=57}function z(L){return G(L,k)}function Y(L){const R=L.charCodeAt(0);return R>=48&&R<=57||R>=65&&R<=70||R>=97&&R<=102}function pt(L){return G(L,Y)}function ot(L){let R="",W="";for(;R=z(L);)W+=R;return W}function It(L){x(L);const R=L.currentChar();return R!=="%"&&d(kt.EXPECTED_TOKEN,s(),0,R),L.next(),"%"}function Lt(L){let R="";for(;;){const W=L.currentChar();if(W==="{"||W==="}"||W==="@"||W==="|"||!W)break;if(W==="%")if(j(L))R+=W,L.next();else break;else if(W===Ca||W===br)if(j(L))R+=W,L.next();else{if(D(L))break;R+=W,L.next()}else R+=W,L.next()}return R}function $t(L){x(L);let R="",W="";for(;R=S(L);)W+=R;return L.currentChar()===tc&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),W}function we(L){x(L);let R="";return L.currentChar()==="-"?(L.next(),R+=`-${ot(L)}`):R+=ot(L),L.currentChar()===tc&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),R}function Pe(L){return L!==SG&&L!==br}function Ge(L){x(L),g(L,"'");let R="",W="";for(;R=G(L,Pe);)R==="\\"?W+=Li(L):W+=R;const X=L.currentChar();return X===br||X===tc?(d(kt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),X===br&&(L.next(),g(L,"'")),W):(g(L,"'"),W)}function Li(L){const R=L.currentChar();switch(R){case"\\":case"'":return L.next(),`\\${R}`;case"u":return tn(L,R,4);case"U":return tn(L,R,6);default:return d(kt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,R),""}}function tn(L,R,W){g(L,R);let X="";for(let V=0;V<W;V++){const q=pt(L);if(!q){d(kt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${R}${X}${L.currentChar()}`);break}X+=q}return`\\${R}${X}`}function Rn(L){return L!=="{"&&L!=="}"&&L!==Ca&&L!==br}function gi(L){x(L);let R="",W="";for(;R=G(L,Rn);)W+=R;return W}function $(L){let R="",W="";for(;R=u(L);)W+=R;return W}function F(L){const R=W=>{const X=L.currentChar();return X==="{"||X==="%"||X==="@"||X==="|"||X==="("||X===")"||!X||X===Ca?W:(W+=X,L.next(),R(W))};return R("")}function H(L){x(L);const R=g(L,"|");return x(L),R}function it(L,R){let W=null;switch(L.currentChar()){case"{":return R.braceNest>=1&&d(kt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),L.next(),W=f(R,2,"{"),x(L),R.braceNest++,W;case"}":return R.braceNest>0&&R.currentType===2&&d(kt.EMPTY_PLACEHOLDER,s(),0),L.next(),W=f(R,3,"}"),R.braceNest--,R.braceNest>0&&x(L),R.inLinked&&R.braceNest===0&&(R.inLinked=!1),W;case"@":return R.braceNest>0&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),W=et(L,R)||y(R),R.braceNest=0,W;default:{let X=!0,V=!0,q=!0;if(D(L))return R.braceNest>0&&d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),W=f(R,1,H(L)),R.braceNest=0,R.inLinked=!1,W;if(R.braceNest>0&&(R.currentType===5||R.currentType===6||R.currentType===7))return d(kt.UNTERMINATED_CLOSING_BRACE,s(),0),R.braceNest=0,rt(L,R);if(X=w(L,R))return W=f(R,5,$t(L)),x(L),W;if(V=_(L,R))return W=f(R,6,we(L)),x(L),W;if(q=M(L,R))return W=f(R,7,Ge(L)),x(L),W;if(!X&&!V&&!q)return W=f(R,13,gi(L)),d(kt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,W.value),x(L),W;break}}return W}function et(L,R){const{currentType:W}=R;let X=null;const V=L.currentChar();switch((W===8||W===9||W===12||W===10)&&(V===br||V===Ca)&&d(kt.INVALID_LINKED_FORMAT,s(),0),V){case"@":return L.next(),X=f(R,8,"@"),R.inLinked=!0,X;case".":return x(L),L.next(),f(R,9,".");case":":return x(L),L.next(),f(R,10,":");default:return D(L)?(X=f(R,1,H(L)),R.braceNest=0,R.inLinked=!1,X):I(L,R)||C(L,R)?(x(L),et(L,R)):N(L,R)?(x(L),f(R,12,$(L))):P(L,R)?(x(L),V==="{"?it(L,R)||X:f(R,11,F(L))):(W===8&&d(kt.INVALID_LINKED_FORMAT,s(),0),R.braceNest=0,R.inLinked=!1,rt(L,R))}}function rt(L,R){let W={type:14};if(R.braceNest>0)return it(L,R)||y(R);if(R.inLinked)return et(L,R)||y(R);switch(L.currentChar()){case"{":return it(L,R)||y(R);case"}":return d(kt.UNBALANCED_CLOSING_BRACE,s(),0),L.next(),f(R,3,"}");case"@":return et(L,R)||y(R);default:{if(D(L))return W=f(R,1,H(L)),R.braceNest=0,R.inLinked=!1,W;const{isModulo:X,hasSpace:V}=U(L);if(X)return V?f(R,0,Lt(L)):f(R,4,It(L));if(j(L))return f(R,0,Lt(L));break}}return W}function dt(){const{currentType:L,offset:R,startLoc:W,endLoc:X}=l;return l.lastType=L,l.lastOffset=R,l.lastStartLoc=W,l.lastEndLoc=X,l.offset=r(),l.startLoc=s(),i.currentChar()===tc?f(l,14):rt(i,l)}return{nextToken:dt,currentOffset:r,currentPosition:s,context:c}}const Agt="parser",Tgt=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Mgt(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):"\uFFFD"}}}function Igt(t={}){const e=t.location!==!1,{onError:n,onWarn:i}=t;function r(w,_,M,I,...N){const C=w.currentPosition();if(C.offset+=I,C.column+=I,n){const P=e?P2(M,C):null,D=Bp(_,P,{domain:Agt,args:N});n(D)}}function s(w,_,M,I,...N){const C=w.currentPosition();if(C.offset+=I,C.column+=I,i){const P=e?P2(M,C):null;i(ygt(_,P,N))}}function o(w,_,M){const I={type:w};return e&&(I.start=_,I.end=_,I.loc={start:M,end:M}),I}function a(w,_,M,I){e&&(w.end=_,w.loc&&(w.loc.end=M))}function l(w,_){const M=w.context(),I=o(3,M.offset,M.startLoc);return I.value=_,a(I,w.currentOffset(),w.currentPosition()),I}function c(w,_){const M=w.context(),{lastOffset:I,lastStartLoc:N}=M,C=o(5,I,N);return C.index=parseInt(_,10),w.nextToken(),a(C,w.currentOffset(),w.currentPosition()),C}function p(w,_,M){const I=w.context(),{lastOffset:N,lastStartLoc:C}=I,P=o(4,N,C);return P.key=_,M===!0&&(P.modulo=!0),w.nextToken(),a(P,w.currentOffset(),w.currentPosition()),P}function d(w,_){const M=w.context(),{lastOffset:I,lastStartLoc:N}=M,C=o(9,I,N);return C.value=_.replace(Tgt,Mgt),w.nextToken(),a(C,w.currentOffset(),w.currentPosition()),C}function f(w){const _=w.nextToken(),M=w.context(),{lastOffset:I,lastStartLoc:N}=M,C=o(8,I,N);return _.type!==12?(r(w,kt.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),C.value="",a(C,I,N),{nextConsumeToken:_,node:C}):(_.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,eo(_)),C.value=_.value||"",a(C,w.currentOffset(),w.currentPosition()),{node:C})}function y(w,_){const M=w.context(),I=o(7,M.offset,M.startLoc);return I.value=_,a(I,w.currentOffset(),w.currentPosition()),I}function g(w){const _=w.context(),M=o(6,_.offset,_.startLoc);let I=w.nextToken();if(I.type===9){const N=f(w);M.modifier=N.node,I=N.nextConsumeToken||w.nextToken()}switch(I.type!==10&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(I)),I=w.nextToken(),I.type===2&&(I=w.nextToken()),I.type){case 11:I.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(I)),M.key=y(w,I.value||"");break;case 5:I.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(I)),M.key=p(w,I.value||"");break;case 6:I.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(I)),M.key=c(w,I.value||"");break;case 7:I.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(I)),M.key=d(w,I.value||"");break;default:{r(w,kt.UNEXPECTED_EMPTY_LINKED_KEY,_.lastStartLoc,0);const N=w.context(),C=o(7,N.offset,N.startLoc);return C.value="",a(C,N.offset,N.startLoc),M.key=C,a(M,N.offset,N.startLoc),{nextConsumeToken:I,node:M}}}return a(M,w.currentOffset(),w.currentPosition()),{node:M}}function b(w){const _=w.context(),M=_.currentType===1?w.currentOffset():_.offset,I=_.currentType===1?_.endLoc:_.startLoc,N=o(2,M,I);N.items=[];let C=null,P=null;do{const j=C||w.nextToken();switch(C=null,j.type){case 0:j.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(j)),N.items.push(l(w,j.value||""));break;case 6:j.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(j)),N.items.push(c(w,j.value||""));break;case 4:P=!0;break;case 5:j.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(j)),N.items.push(p(w,j.value||"",!!P)),P&&(s(w,nT.USE_MODULO_SYNTAX,_.lastStartLoc,0,eo(j)),P=null);break;case 7:j.value==null&&r(w,kt.UNEXPECTED_LEXICAL_ANALYSIS,_.lastStartLoc,0,eo(j)),N.items.push(d(w,j.value||""));break;case 8:{const G=g(w);N.items.push(G.node),C=G.nextConsumeToken||null;break}}}while(_.currentType!==14&&_.currentType!==1);const D=_.currentType===1?_.lastOffset:w.currentOffset(),U=_.currentType===1?_.lastEndLoc:w.currentPosition();return a(N,D,U),N}function x(w,_,M,I){const N=w.context();let C=I.items.length===0;const P=o(1,_,M);P.cases=[],P.cases.push(I);do{const D=b(w);C||(C=D.items.length===0),P.cases.push(D)}while(N.currentType!==14);return C&&r(w,kt.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(P,w.currentOffset(),w.currentPosition()),P}function A(w){const _=w.context(),{offset:M,startLoc:I}=_,N=b(w);return _.currentType===14?N:x(w,M,I,N)}function T(w){const _=Sgt(w,wG({},t)),M=_.context(),I=o(0,M.offset,M.startLoc);return e&&I.loc&&(I.loc.source=w),I.body=A(_),t.onCacheKey&&(I.cacheKey=t.onCacheKey(w)),M.currentType!==14&&r(_,kt.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,w[M.offset]||""),a(I,_.currentOffset(),_.currentPosition()),I}return{parse:T}}function eo(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"\u2026":e}function Ogt(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function AG(t,e){for(let n=0;n<t.length;n++)iT(t[n],e)}function iT(t,e){switch(t.type){case 1:AG(t.cases,e),e.helper("plural");break;case 2:AG(t.items,e);break;case 6:{iT(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Ngt(t,e={}){const n=Ogt(t);n.helper("normalize"),t.body&&iT(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function Cgt(t){const e=t.body;return e.type===2?TG(e):e.cases.forEach(n=>TG(n)),t}function TG(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=EG(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}const kgt="minifier";function Wp(t){switch(t.t=t.type,t.type){case 0:{const e=t;Wp(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let i=0;i<n.length;i++)Wp(n[i]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let i=0;i<n.length;i++)Wp(n[i]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Wp(e.key),e.k=e.key,delete e.key,e.modifier&&(Wp(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Bp(kt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:kgt,args:[t.type]})}delete t.type}const Pgt="parser";function Lgt(t,e){const{filename:n,breakLineCode:i,needIndent:r}=e,s=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:r,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(y,g){o.code+=y}function c(y,g=!0){const b=g?i:"";l(r?b+"  ".repeat(y):b)}function p(y=!0){const g=++o.indentLevel;y&&c(g)}function d(y=!0){const g=--o.indentLevel;y&&c(g)}function f(){c(o.indentLevel)}return{context:a,push:l,indent:p,deindent:d,newline:f,helper:y=>`_${y}`,needIndent:()=>o.needIndent}}function Rgt(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),qp(t,e.key),e.modifier?(t.push(", "),qp(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function Dgt(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const r=e.items.length;for(let s=0;s<r&&(qp(t,e.items[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}function Fgt(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const r=e.cases.length;for(let s=0;s<r&&(qp(t,e.cases[s]),s!==r-1);s++)t.push(", ");t.deindent(i()),t.push("])")}}function jgt(t,e){e.body?qp(t,e.body):t.push("null")}function qp(t,e){const{helper:n}=t;switch(e.type){case 0:jgt(t,e);break;case 1:Fgt(t,e);break;case 2:Dgt(t,e);break;case 6:Rgt(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Bp(kt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Pgt,args:[e.type]})}}const Ggt=(t,e={})=>{const n=xG(e.mode)?e.mode:"normal",i=xG(e.filename)?e.filename:"message.intl";e.sourceMap;const r=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,s=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=Lgt(t,{filename:i,breakLineCode:r,needIndent:s});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${EG(o.map(p=>`${p}: _${p}`),", ")} } = ctx`),a.newline()),a.push("return "),qp(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:l,map:c}=a.context();return{ast:t,code:l,map:c?c.toJSON():void 0}};function $gt(t,e={}){const n=wG({},e),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=Igt(n).parse(t);return i?(s&&Cgt(o),r&&Wp(o),{ast:o,code:""}):(Ngt(o,n),Ggt(o,n))}var Ugt={NODE_ENV:"production"};function Vgt(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Na().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Na().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Na().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Io(t){return pe(t)&&rT(t)===0&&(to(t,"b")||to(t,"body"))}const MG=["b","body"];function zgt(t){return ec(t,MG)}const IG=["c","cases"];function Bgt(t){return ec(t,IG,[])}const OG=["s","static"];function Wgt(t){return ec(t,OG)}const NG=["i","items"];function qgt(t){return ec(t,NG,[])}const CG=["t","type"];function rT(t){return ec(t,CG)}const kG=["v","value"];function L2(t,e){const n=ec(t,kG);if(n!=null)return n;throw u0(e)}const PG=["m","modifier"];function Hgt(t){return ec(t,PG)}const LG=["k","key"];function Zgt(t){const e=ec(t,LG);if(e)return e;throw u0(6)}function ec(t,e,n){for(let i=0;i<e.length;i++){const r=e[i];if(to(t,r)&&t[r]!=null)return t[r]}return n}const RG=[...MG,...IG,...OG,...NG,...LG,...PG,...kG,...CG];function u0(t){return new Error(`unhandled node type: ${t}`)}const nc=[];nc[0]={w:[0],i:[3,0],"[":[4],o:[7]},nc[1]={w:[1],".":[2],"[":[4],o:[7]},nc[2]={w:[2],i:[3,0],0:[3,0]},nc[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},nc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},nc[5]={"'":[4,0],o:8,l:[5,0]},nc[6]={'"':[4,0],o:8,l:[6,0]};const Ygt=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Jgt(t){return Ygt.test(t)}function Xgt(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function Qgt(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Kgt(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:Jgt(e)?Xgt(e):"*"+e}function t1t(t){const e=[];let n=-1,i=0,r=0,s,o,a,l,c,p,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,i=4,f[0]();else{if(r=0,o===void 0||(o=Kgt(o),o===!1))return!1;f[1]()}};function y(){const g=t[n+1];if(i===5&&g==="'"||i===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;i!==null;)if(n++,s=t[n],!(s==="\\"&&y())){if(l=Qgt(s),d=nc[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(p=f[c[1]],p&&(a=s,p()===!1))))return;if(i===7)return e}}const DG=new Map;function e1t(t,e){return pe(t)?t[e]:null}function n1t(t,e){if(!pe(t))return null;let n=DG.get(e);if(n||(n=t1t(e),n&&DG.set(e,n)),!n)return null;const i=n.length;let r=t,s=0;for(;s<i;){const o=n[s];if(RG.includes(o)&&Io(r))return null;const a=r[o];if(a===void 0||Fe(r))return null;r=a,s++}return r}const i1t=t=>t,r1t=t=>"",s1t="text",o1t=t=>t.length===0?"":hgt(t),a1t=ugt;function FG(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function l1t(t){const e=Ln(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Ln(t.named.count)||Ln(t.named.n))?Ln(t.named.count)?t.named.count:Ln(t.named.n)?t.named.n:e:e}function c1t(t,e){e.count||(e.count=t),e.n||(e.n=t)}function u1t(t={}){const e=t.locale,n=l1t(t),i=pe(t.pluralRules)&&vt(e)&&Fe(t.pluralRules[e])?t.pluralRules[e]:FG,r=pe(t.pluralRules)&&vt(e)&&Fe(t.pluralRules[e])?FG:void 0,s=x=>x[i(n,x.length,r)],o=t.list||[],a=x=>o[x],l=t.named||Ne();Ln(t.pluralIndex)&&c1t(n,l);const c=x=>l[x];function p(x){return(Fe(t.messages)?t.messages(x):pe(t.messages)?t.messages[x]:!1)||(t.parent?t.parent.message(x):r1t)}const d=x=>t.modifiers?t.modifiers[x]:i1t,f=Gt(t.processor)&&Fe(t.processor.normalize)?t.processor.normalize:o1t,y=Gt(t.processor)&&Fe(t.processor.interpolate)?t.processor.interpolate:a1t,g=Gt(t.processor)&&vt(t.processor.type)?t.processor.type:s1t,b={list:a,named:c,plural:s,linked:(x,...A)=>{const[T,w]=A;let _="text",M="";A.length===1?pe(T)?(M=T.modifier||M,_=T.type||_):vt(T)&&(M=T||M):A.length===2&&(vt(T)&&(M=T||M),vt(w)&&(_=w||_));const I=p(x)(b),N=_==="vnode"&&qe(I)&&M?I[0]:I;return M?d(M)(N,_):N},message:p,type:g,interpolate:y,normalize:f,values:fi(Ne(),o,l)};return b}let h0=null;function h1t(t){h0=t}function p1t(t,e,n){h0&&h0.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const d1t=f1t("function:translate");function f1t(t){return e=>h0&&h0.emit(t,e)}const m1t=nT.__EXTEND_POINT__,Ou=N2(m1t),y1t={FALLBACK_TO_TRANSLATE:Ou(),CANNOT_FORMAT_NUMBER:Ou(),FALLBACK_TO_NUMBER_FORMAT:Ou(),CANNOT_FORMAT_DATE:Ou(),FALLBACK_TO_DATE_FORMAT:Ou(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Ou(),__EXTEND_POINT__:Ou()},jG=kt.__EXTEND_POINT__,Nu=N2(jG),no={INVALID_ARGUMENT:jG,INVALID_DATE_ARGUMENT:Nu(),INVALID_ISO_DATE_ARGUMENT:Nu(),NOT_SUPPORT_NON_STRING_MESSAGE:Nu(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Nu(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Nu(),NOT_SUPPORT_LOCALE_TYPE:Nu(),__EXTEND_POINT__:Nu()};function Oo(t){return Bp(t,null,void 0)}function sT(t,e){return e.locale!=null?GG(e.locale):GG(t.locale)}let oT;function GG(t){if(vt(t))return t;if(Fe(t)){if(t.resolvedOnce&&oT!=null)return oT;if(t.constructor.name==="Function"){const e=t();if(cgt(e))throw Oo(no.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return oT=e}else throw Oo(no.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Oo(no.NOT_SUPPORT_LOCALE_TYPE)}function g1t(t,e,n){return[...new Set([n,...qe(e)?e:pe(e)?Object.keys(e):vt(e)?[e]:[n]])]}function $G(t,e,n){const i=vt(n)?n:Hp,r=t;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let o=[n];for(;qe(o);)o=UG(s,o,e);const a=qe(e)||!Gt(e)?e:e.default?e.default:null;o=vt(a)?[a]:a,qe(o)&&UG(s,o,!1),r.__localeChainCache.set(i,s)}return s}function UG(t,e,n){let i=!0;for(let r=0;r<e.length&&Jt(i);r++){const s=e[r];vt(s)&&(i=v1t(t,e[r],n))}return i}function v1t(t,e,n){let i;const r=e.split("-");do{const s=r.join("-");i=b1t(t,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function b1t(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const r=e.replace(/!/g,"");t.push(r),(qe(n)||Gt(n))&&n[r]&&(i=n[r])}return i}const _1t="9.14.5",R2=-1,Hp="en-US",VG="",zG=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function w1t(){return{upper:(t,e)=>e==="text"&&vt(t)?t.toUpperCase():e==="vnode"&&pe(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&vt(t)?t.toLowerCase():e==="vnode"&&pe(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&vt(t)?zG(t):e==="vnode"&&pe(t)&&"__v_isVNode"in t?zG(t.children):t}}let BG;function WG(t){BG=t}let qG;function x1t(t){qG=t}let HG;function E1t(t){HG=t}let ZG=null;const h5t=t=>{ZG=t},S1t=()=>ZG;let YG=null;const JG=t=>{YG=t},A1t=()=>YG;let XG=0;function T1t(t={}){const e=Fe(t.onWarn)?t.onWarn:ngt,n=vt(t.version)?t.version:_1t,i=vt(t.locale)||Fe(t.locale)?t.locale:Hp,r=Fe(i)?Hp:i,s=qe(t.fallbackLocale)||Gt(t.fallbackLocale)||vt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,o=Gt(t.messages)?t.messages:aT(r),a=Gt(t.datetimeFormats)?t.datetimeFormats:aT(r),l=Gt(t.numberFormats)?t.numberFormats:aT(r),c=fi(Ne(),t.modifiers,w1t()),p=t.pluralRules||Ne(),d=Fe(t.missing)?t.missing:null,f=Jt(t.missingWarn)||Kl(t.missingWarn)?t.missingWarn:!0,y=Jt(t.fallbackWarn)||Kl(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,b=!!t.unresolving,x=Fe(t.postTranslation)?t.postTranslation:null,A=Gt(t.processor)?t.processor:null,T=Jt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter,_=Fe(t.messageCompiler)?t.messageCompiler:BG,M=Fe(t.messageResolver)?t.messageResolver:qG||e1t,I=Fe(t.localeFallbacker)?t.localeFallbacker:HG||g1t,N=pe(t.fallbackContext)?t.fallbackContext:void 0,C=t,P=pe(C.__datetimeFormatters)?C.__datetimeFormatters:new Map,D=pe(C.__numberFormatters)?C.__numberFormatters:new Map,U=pe(C.__meta)?C.__meta:{};XG++;const j={version:n,cid:XG,locale:i,fallbackLocale:s,messages:o,modifiers:c,pluralRules:p,missing:d,missingWarn:f,fallbackWarn:y,fallbackFormat:g,unresolving:b,postTranslation:x,processor:A,warnHtmlMessage:T,escapeParameter:w,messageCompiler:_,messageResolver:M,localeFallbacker:I,fallbackContext:N,onWarn:e,__meta:U};return j.datetimeFormats=a,j.numberFormats=l,j.__datetimeFormatters=P,j.__numberFormatters=D,__INTLIFY_PROD_DEVTOOLS__&&p1t(j,n,U),j}const aT=t=>({[t]:Ne()});function lT(t,e,n,i,r){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,n,e,r);return vt(a)?a:e}else return e}function p0(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function M1t(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function I1t(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let i=n+1;i<e.length;i++)if(M1t(t,e[i]))return!0;return!1}function cT(t){return e=>O1t(e,t)}function O1t(t,e){const n=zgt(e);if(n==null)throw u0(0);if(rT(n)===1){const i=Bgt(n);return t.plural(i.reduce((r,s)=>[...r,QG(t,s)],[]))}else return QG(t,n)}function QG(t,e){const n=Wgt(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const i=qgt(e).reduce((r,s)=>[...r,uT(t,s)],[]);return t.normalize(i)}}function uT(t,e){const n=rT(e);switch(n){case 3:return L2(e,n);case 9:return L2(e,n);case 4:{const i=e;if(to(i,"k")&&i.k)return t.interpolate(t.named(i.k));if(to(i,"key")&&i.key)return t.interpolate(t.named(i.key));throw u0(n)}case 5:{const i=e;if(to(i,"i")&&Ln(i.i))return t.interpolate(t.list(i.i));if(to(i,"index")&&Ln(i.index))return t.interpolate(t.list(i.index));throw u0(n)}case 6:{const i=e,r=Hgt(i),s=Zgt(i);return t.linked(uT(t,s),r?uT(t,r):void 0,t.type)}case 7:return L2(e,n);case 8:return L2(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const KG=t=>t;let Zp=Ne();function t$(t,e={}){let n=!1;const i=e.onError||vgt;return e.onError=r=>{n=!0,i(r)},{...$gt(t,e),detectError:n}}const N1t=(t,e)=>{if(!vt(t))throw Oo(no.NOT_SUPPORT_NON_STRING_MESSAGE);{Jt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||KG)(t),i=Zp[n];if(i)return i;const{code:r,detectError:s}=t$(t,e),o=new Function(`return ${r}`)();return s?o:Zp[n]=o}};function C1t(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&vt(t)){Jt(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||KG)(t),i=Zp[n];if(i)return i;const{ast:r,detectError:s}=t$(t,{...e,location:Ugt.NODE_ENV!=="production",jit:!0}),o=cT(r);return s?o:Zp[n]=o}else{const n=t.cacheKey;return n?Zp[n]||(Zp[n]=cT(t)):cT(t)}}const e$=()=>"",vs=t=>Fe(t);function n$(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:o,messages:a}=t,[l,c]=hT(...e),p=Jt(c.missingWarn)?c.missingWarn:t.missingWarn,d=Jt(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=Jt(c.escapeParameter)?c.escapeParameter:t.escapeParameter,y=!!c.resolvedMessage,g=vt(c.default)||Jt(c.default)?Jt(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",b=n||g!=="",x=sT(t,c);f&&k1t(c);let[A,T,w]=y?[l,x,a[x]||Ne()]:i$(t,l,x,o,d,p),_=A,M=l;if(!y&&!(vt(_)||Io(_)||vs(_))&&b&&(_=g,M=_),!y&&(!(vt(_)||Io(_)||vs(_))||!vt(T)))return r?R2:l;let I=!1;const N=()=>{I=!0},C=vs(_)?_:r$(t,l,T,_,M,N);if(I)return _;const P=R1t(t,T,w,c),D=u1t(P),U=P1t(t,C,D);let j=i?i(U,l):U;if(f&&vt(j)&&(j=agt(j)),__INTLIFY_PROD_DEVTOOLS__){const G={timestamp:Date.now(),key:vt(l)?l:vs(_)?_.key:"",locale:T||(vs(_)?_.locale:""),format:vt(_)?_:vs(_)?_.source:"",message:j};G.meta=fi({},t.__meta,S1t()||{}),d1t(G)}return j}function k1t(t){qe(t.list)?t.list=t.list.map(e=>vt(e)?yG(e):e):pe(t.named)&&Object.keys(t.named).forEach(e=>{vt(t.named[e])&&(t.named[e]=yG(t.named[e]))})}function i$(t,e,n,i,r,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,p=c(t,i,n);let d=Ne(),f,y=null;const g="translate";for(let b=0;b<p.length&&(f=p[b],d=o[f]||Ne(),(y=l(d,e))===null&&(y=d[e]),!(vt(y)||Io(y)||vs(y)));b++)if(!I1t(f,p)){const x=lT(t,e,f,s,g);x!==e&&(y=x)}return[y,f,d]}function r$(t,e,n,i,r,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(vs(i)){const c=i;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>i;return c.locale=n,c.key=e,c}const l=o(i,L1t(t,n,r,i,a,s));return l.locale=n,l.key=e,l.source=i,l}function P1t(t,e,n){return e(n)}function hT(...t){const[e,n,i]=t,r=Ne();if(!vt(e)&&!Ln(e)&&!vs(e)&&!Io(e))throw Oo(no.INVALID_ARGUMENT);const s=Ln(e)?String(e):(vs(e),e);return Ln(n)?r.plural=n:vt(n)?r.default=n:Gt(n)&&!O2(n)?r.named=n:qe(n)&&(r.list=n),Ln(i)?r.plural=i:vt(i)?r.default=i:Gt(i)&&fi(r,i),[s,r]}function L1t(t,e,n,i,r,s){return{locale:e,key:n,warnHtmlMessage:r,onError:o=>{throw s&&s(o),o},onCacheKey:o=>igt(e,n,o)}}function R1t(t,e,n,i){const{modifiers:r,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:p}=t,d={locale:e,modifiers:r,pluralRules:s,messages:f=>{let y=o(n,f);if(y==null&&p){const[,,g]=i$(p,f,e,a,l,c);y=o(g,f)}if(vt(y)||Io(y)){let g=!1;const b=r$(t,f,e,y,f,()=>{g=!0});return g?e$:b}else return vs(y)?y:e$}};return t.processor&&(d.processor=t.processor),i.list&&(d.list=i.list),i.named&&(d.named=i.named),Ln(i.plural)&&(d.pluralIndex=i.plural),d}function s$(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,p,d]=pT(...e),f=Jt(p.missingWarn)?p.missingWarn:t.missingWarn;Jt(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=sT(t,p),b=o(t,r,g);if(!vt(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let x={},A,T=null;const w="datetime format";for(let I=0;I<b.length&&(A=b[I],x=n[A]||{},T=x[l],!Gt(T));I++)lT(t,l,A,f,w);if(!Gt(T)||!vt(A))return i?R2:l;let _=`${A}__${l}`;O2(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.DateTimeFormat(A,fi({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const o$=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function pT(...t){const[e,n,i,r]=t,s=Ne();let o=Ne(),a;if(vt(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw Oo(no.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw Oo(no.INVALID_ISO_DATE_ARGUMENT)}}else if(sgt(e)){if(isNaN(e.getTime()))throw Oo(no.INVALID_DATE_ARGUMENT);a=e}else if(Ln(e))a=e;else throw Oo(no.INVALID_ARGUMENT);return vt(n)?s.key=n:Gt(n)&&Object.keys(n).forEach(l=>{o$.includes(l)?o[l]=n[l]:s[l]=n[l]}),vt(i)?s.locale=i:Gt(i)&&(o=i),Gt(r)&&(o=r),[s.key||"",a,s,o]}function a$(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function l$(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,p,d]=dT(...e),f=Jt(p.missingWarn)?p.missingWarn:t.missingWarn;Jt(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=sT(t,p),b=o(t,r,g);if(!vt(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let x={},A,T=null;const w="number format";for(let I=0;I<b.length&&(A=b[I],x=n[A]||{},T=x[l],!Gt(T));I++)lT(t,l,A,f,w);if(!Gt(T)||!vt(A))return i?R2:l;let _=`${A}__${l}`;O2(d)||(_=`${_}__${JSON.stringify(d)}`);let M=a.get(_);return M||(M=new Intl.NumberFormat(A,fi({},T,d)),a.set(_,M)),y?M.formatToParts(c):M.format(c)}const c$=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function dT(...t){const[e,n,i,r]=t,s=Ne();let o=Ne();if(!Ln(e))throw Oo(no.INVALID_ARGUMENT);const a=e;return vt(n)?s.key=n:Gt(n)&&Object.keys(n).forEach(l=>{c$.includes(l)?o[l]=n[l]:s[l]=n[l]}),vt(i)?s.locale=i:Gt(i)&&(o=i),Gt(r)&&(o=r),[s.key||"",a,s,o]}function u$(t,e,n){const i=t;for(const r in n){const s=`${e}__${r}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}Vgt();var D1t={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",USE_BAZEL_FALLBACK_VERSION:"silent:",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",GRADLE_HOME:"/usr/share/gradle-9.3.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/29.0.14206865",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",GITHUB_RETENTION_DAYS:"90",NODE_OPTIONS:"--max-old-space-size=8192",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"2029",ACTIONS_ORCHESTRATION_ID:"162849e3-e6db-4c65-8cfa-a00596526e45.build.__default",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",JAVA_HOME_25_X64:"/usr/lib/jvm/temurin-25-jdk-amd64",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20260209.23.1",LOGNAME:"runner",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.12/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.12/x64",JOURNAL_STREAM:"9:14191",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/hosted-compute-agent.service/memory.pressure",GOROOT_1_24_X64:"/opt/hostedtoolcache/go/1.24.13/x64",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",GOROOT_1_25_X64:"/opt/hostedtoolcache/go/1.25.7/x64",GITHUB_RUN_ID:"22069120814",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"49ab97e99cb649c2e8e9725a1ceb5e464fc72fea",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",npm_config_ignore_scripts:"true",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/deps",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4ODI2YjE3LTZhMzAtNWY5Yi1iMTY5LThiZWI4MjAyZjcyMyIsInR5cCI6IkpXVCIsIng1dCI6InlrTmFZNHFNX3RhNGsyVGdaT0NFWUxrY1lsQSJ9.eyJJZGVudGl0eVR5cGVDbGFpbSI6IlN5c3RlbTpTZXJ2aWNlSWRlbnRpdHkiLCJhYyI6Ilt7XCJTY29wZVwiOlwicmVmcy9oZWFkcy9kZXBzXCIsXCJQZXJtaXNzaW9uXCI6M30se1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvbWFpblwiLFwiUGVybWlzc2lvblwiOjF9XSIsImFjc2wiOiIxMCIsImF1ZCI6InZzbzo1OGIyMzhlYS03NGI3LTRhYzYtOTE2OS1iM2JmYTc4ZWMzMTIiLCJiaWxsaW5nX293bmVyX2lkIjoiVV9rZ0RPQUhPOTNRIiwiZXhwIjoxNzcxMjc4OTI2LCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zaWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJpYXQiOjE3NzEyNTY3MjYsImlzcyI6Imh0dHBzOi8vdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb20iLCJqb2JfaWQiOiI5MzcwNTY1OC1kNDU1LTUxMjMtOThiOC1jNWZjN2IxMjNkY2UiLCJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJuYmYiOjE3NzEyNTY0MjYsIm9pZGNfZXh0cmEiOiJ7XCJhY3RvclwiOlwiamFtZXMtcmFlXCIsXCJhY3Rvcl9pZFwiOlwiNzU4NTI0NVwiLFwiYmFzZV9yZWZcIjpcIlwiLFwiY2hlY2tfcnVuX2lkXCI6XCI2Mzc2ODcxMzEwN1wiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiZXZlbnRfbmFtZVwiOlwicHVzaFwiLFwiaGVhZF9yZWZcIjpcIlwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvZGVwc1wiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiNDlhYjk3ZTk5Y2I2NDljMmU4ZTk3MjVhMWNlYjVlNDY0ZmM3MmZlYVwiLFwicmVmXCI6XCJyZWZzL2hlYWRzL2RlcHNcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJyZXBvc2l0b3J5XCI6XCJqYW1lcy1yYWUvcmFtcDQtcGNhcjRcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwicmVwb3NpdG9yeV9vd25lclwiOlwiamFtZXMtcmFlXCIsXCJyZXBvc2l0b3J5X293bmVyX2lkXCI6XCI3NTg1MjQ1XCIsXCJyZXBvc2l0b3J5X3Zpc2liaWxpdHlcIjpcInB1YmxpY1wiLFwicnVuX2F0dGVtcHRcIjpcIjFcIixcInJ1bl9pZFwiOlwiMjIwNjkxMjA4MTRcIixcInJ1bl9udW1iZXJcIjpcIjI5N1wiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCIsXCJzaGFcIjpcIjQ5YWI5N2U5OWNiNjQ5YzJlOGU5NzI1YTFjZWI1ZTQ2NGZjNzJmZWFcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcIndvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvZGVwc1wiLFwid29ya2Zsb3dfc2hhXCI6XCI0OWFiOTdlOTljYjY0OWMyZThlOTcyNWExY2ViNWU0NjRmYzcyZmVhXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoX2lkIjoiMTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1LmJ1aWxkLl9fZGVmYXVsdCIsIm93bmVyX2lkIjoiVV9rZ0RPQUhPOTNRIiwicGxhbl9pZCI6IjE2Mjg0OWUzLWU2ZGItNGM2NS04Y2ZhLWEwMDU5NjUyNmU0NSIsInJlcG9zaXRvcnlfaWQiOiIyMzM5MzkyMzciLCJydW5faWQiOiIyMjA2OTEyMDgxNCIsInJ1bl9udW1iZXIiOiIyOTciLCJydW5fdHlwZSI6ImZ1bGwiLCJydW5uZXJfaWQiOiIxMDAwMDAwNzI5IiwicnVubmVyX3R5cGUiOiJob3N0ZWQiLCJzY3AiOiJBY3Rpb25zLlJlc3VsdHM6MTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1OjkzNzA1NjU4LWQ0NTUtNTEyMy05OGI4LWM1ZmM3YjEyM2RjZSBBY3Rpb25zLlJ1bm5lcjoxNjI4NDllMy1lNmRiLTRjNjUtOGNmYS1hMDA1OTY1MjZlNDU6OTM3MDU2NTgtZDQ1NS01MTIzLTk4YjgtYzVmYzdiMTIzZGNlIEFjdGlvbnMuVXBsb2FkQXJ0aWZhY3RzOjE2Mjg0OWUzLWU2ZGItNGM2NS04Y2ZhLWEwMDU5NjUyNmU0NTo5MzcwNTY1OC1kNDU1LTUxMjMtOThiOC1jNWZjN2IxMjNkY2UgZ2VuZXJhdGVfaWRfdG9rZW46MTYyODQ5ZTMtZTZkYi00YzY1LThjZmEtYTAwNTk2NTI2ZTQ1OjkzNzA1NjU4LWQ0NTUtNTEyMy05OGI4LWM1ZmM3YjEyM2RjZSBBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCIsInNoYSI6IjQ5YWI5N2U5OWNiNjQ5YzJlOGU5NzI1YTFjZWI1ZTQ2NGZjNzJmZWEiLCJ0cnVzdF90aWVyIjoiMiJ9.1ur9GNcLMMYETV6rCFGAFeuY0ty9os84e6hiG707_G8QCr9dt1it-bnVXi1Mzq5vyAoWF6Ub6gaXZ2F0bjUiC57r4oH-CblGXfeMJnHuGjSFSYonZb9NWAk9HqxBeB4HUMTFyyuD48Ksbuib1W_2mg9QYfTmQc5V59UI3-qPYlQcXDf1uICP1lGOcx45CqrkCrC7JonqvDebJbNi1JVO_u9Mqgvpv_kzYHuwTTSlgptvFIeoC35IDzV_YtB6uh2cLfut2UWdk9hi-ALmitnVOv9UDwDXnKDT9vnV0ryfzA873ao2yM7ituVLesnr4507OvBtQBXq7AyXiiH1gCjfzQ",GITHUB_ACTION_REPOSITORY:"",ENABLE_RUNNER_TRACING:"true",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_f92bf740-9b1c-46d3-bf40-a654527c2614",INVOCATION_ID:"7a0a7a41ef7141a295cd518f3e91dec8",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"297",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 1000000729",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"deps",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",SHELL:"/bin/bash",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",npm_package_version:"4.16.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",GITHUB_SHA:"49ab97e99cb649c2e8e9725a1ceb5e464fc72fea",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/deps",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://run-actions-3-azure-eastus.actions.githubusercontent.com/13//idtoken/162849e3-e6db-4c65-8cfa-a00596526e45/93705658-d455-5123-98b8-c5fc7b123dce?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_node_options:"--max-old-space-size=8192",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.3.13750724",SGX_AESM_ADDR:"1",PSModulePath:"/root/.local/share/powershell/Modules:/usr/local/share/powershell/Modules:/opt/microsoft/powershell/7/Modules:/usr/share/az_14.6.0",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.3.13750724",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_fb9a3202-a031-4a5b-aafc-9b23a9f1ed8d",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const F1t="9.14.5";function j1t(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Na().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Na().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Na().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Na().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Na().__INTLIFY_PROD_DEVTOOLS__=!1)}const G1t=y1t.__EXTEND_POINT__,ka=N2(G1t);ka(),ka(),ka(),ka(),ka(),ka(),ka(),ka(),ka();const h$=no.__EXTEND_POINT__,_r=N2(h$),Qn={UNEXPECTED_RETURN_TYPE:h$,INVALID_ARGUMENT:_r(),MUST_BE_CALL_SETUP_TOP:_r(),NOT_INSTALLED:_r(),NOT_AVAILABLE_IN_LEGACY_MODE:_r(),REQUIRED_VALUE:_r(),INVALID_VALUE:_r(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:_r(),NOT_INSTALLED_WITH_PROVIDE:_r(),UNEXPECTED_ERROR:_r(),NOT_COMPATIBLE_LEGACY_VUE_I18N:_r(),BRIDGE_SUPPORT_VUE_2_ONLY:_r(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:_r(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:_r(),__EXTEND_POINT__:_r()};function ii(t,...e){return Bp(t,null,void 0)}const fT=Ql("__translateVNode"),mT=Ql("__datetimeParts"),yT=Ql("__numberParts"),p$=Ql("__setPluralRules"),d$=Ql("__injectWithOption"),gT=Ql("__dispose");function d0(t){if(!pe(t)||Io(t))return t;for(const e in t)if(to(t,e))if(!e.includes("."))pe(t[e])&&d0(t[e]);else{const n=e.split("."),i=n.length-1;let r=t,s=!1;for(let o=0;o<i;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in r||(r[n[o]]=Ne()),!pe(r[n[o]])){s=!0;break}r=r[n[o]]}if(s||(Io(r)?RG.includes(n[i])||delete t[e]:(r[n[i]]=t[e],delete t[e])),!Io(r)){const o=r[n[i]];pe(o)&&d0(o)}}return t}function D2(t,e){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=e,o=Gt(n)?n:qe(i)?Ne():{[t]:Ne()};if(qe(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Ne(),k2(c,o[l])):k2(c,o)}else vt(a)&&k2(JSON.parse(a),o)}),r==null&&s)for(const a in o)to(o,a)&&d0(o[a]);return o}function f$(t){return t.type}function m$(t,e,n){let i=pe(e.messages)?e.messages:Ne();"__i18nGlobal"in n&&(i=D2(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{t.mergeLocaleMessage(s,i[s])});{if(pe(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(pe(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function y$(t){return zt(To,null,t,0)}const g$="__INTLIFY_META__",v$=()=>[],$1t=()=>!1;let b$=0;function _$(t){return(e,n,i,r)=>t(n,i,Cn()||void 0,r)}const p5t=()=>{const t=Cn();let e=null;return t&&(e=f$(t)[g$])?{[g$]:e}:null};function vT(t={},e){const{__root:n,__injectWithOption:i}=t,r=n===void 0,s=t.flatJson,o=I2?J:Sp,a=!!t.translateExistCompatible;let l=Jt(t.inheritLocale)?t.inheritLocale:!0;const c=o(n&&l?n.locale.value:vt(t.locale)?t.locale:Hp),p=o(n&&l?n.fallbackLocale.value:vt(t.fallbackLocale)||qe(t.fallbackLocale)||Gt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(D2(c.value,t)),f=o(Gt(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),y=o(Gt(t.numberFormats)?t.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:Jt(t.missingWarn)||Kl(t.missingWarn)?t.missingWarn:!0,b=n?n.fallbackWarn:Jt(t.fallbackWarn)||Kl(t.fallbackWarn)?t.fallbackWarn:!0,x=n?n.fallbackRoot:Jt(t.fallbackRoot)?t.fallbackRoot:!0,A=!!t.fallbackFormat,T=Fe(t.missing)?t.missing:null,w=Fe(t.missing)?_$(t.missing):null,_=Fe(t.postTranslation)?t.postTranslation:null,M=n?n.warnHtmlMessage:Jt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,I=!!t.escapeParameter;const N=n?n.modifiers:Gt(t.modifiers)?t.modifiers:{};let C=t.pluralRules||n&&n.pluralRules,P;P=(()=>{r&&JG(null);const V={version:F1t,locale:c.value,fallbackLocale:p.value,messages:d.value,modifiers:N,pluralRules:C,missing:w===null?void 0:w,missingWarn:g,fallbackWarn:b,fallbackFormat:A,unresolving:!0,postTranslation:_===null?void 0:_,warnHtmlMessage:M,escapeParameter:I,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};V.datetimeFormats=f.value,V.numberFormats=y.value,V.__datetimeFormatters=Gt(P)?P.__datetimeFormatters:void 0,V.__numberFormatters=Gt(P)?P.__numberFormatters:void 0;const q=T1t(V);return r&&JG(q),q})(),p0(P,c.value,p.value);function D(){return[c.value,p.value,d.value,f.value,y.value]}const U=Bt({get:()=>c.value,set:V=>{c.value=V,P.locale=c.value}}),j=Bt({get:()=>p.value,set:V=>{p.value=V,P.fallbackLocale=p.value,p0(P,c.value,V)}}),G=Bt(()=>d.value),Z=Bt(()=>f.value),u=Bt(()=>y.value);function m(){return Fe(_)?_:null}function S(V){_=V,P.postTranslation=V}function k(){return T}function z(V){V!==null&&(w=_$(V)),T=V,P.missing=w}const Y=(V,q,ut,bt,qt,Xt)=>{D();let an;try{D1t.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,r||(P.fallbackContext=n?A1t():void 0),an=V(P)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(P.fallbackContext=void 0)}if(ut!=="translate exists"&&Ln(an)&&an===R2||ut==="translate exists"&&!an){const[Dn,tr]=q();return n&&x?bt(n):qt(Dn)}else{if(Xt(an))return an;throw ii(Qn.UNEXPECTED_RETURN_TYPE)}};function pt(...V){return Y(q=>Reflect.apply(n$,null,[q,...V]),()=>hT(...V),"translate",q=>Reflect.apply(q.t,q,[...V]),q=>q,q=>vt(q))}function ot(...V){const[q,ut,bt]=V;if(bt&&!pe(bt))throw ii(Qn.INVALID_ARGUMENT);return pt(q,ut,fi({resolvedMessage:!0},bt||{}))}function It(...V){return Y(q=>Reflect.apply(s$,null,[q,...V]),()=>pT(...V),"datetime format",q=>Reflect.apply(q.d,q,[...V]),()=>VG,q=>vt(q))}function Lt(...V){return Y(q=>Reflect.apply(l$,null,[q,...V]),()=>dT(...V),"number format",q=>Reflect.apply(q.n,q,[...V]),()=>VG,q=>vt(q))}function $t(V){return V.map(q=>vt(q)||Ln(q)||Jt(q)?y$(String(q)):q)}const we={normalize:$t,interpolate:V=>V,type:"vnode"};function Pe(...V){return Y(q=>{let ut;const bt=q;try{bt.processor=we,ut=Reflect.apply(n$,null,[bt,...V])}finally{bt.processor=null}return ut},()=>hT(...V),"translate",q=>q[fT](...V),q=>[y$(q)],q=>qe(q))}function Ge(...V){return Y(q=>Reflect.apply(l$,null,[q,...V]),()=>dT(...V),"number format",q=>q[yT](...V),v$,q=>vt(q)||qe(q))}function Li(...V){return Y(q=>Reflect.apply(s$,null,[q,...V]),()=>pT(...V),"datetime format",q=>q[mT](...V),v$,q=>vt(q)||qe(q))}function tn(V){C=V,P.pluralRules=C}function Rn(V,q){return Y(()=>{if(!V)return!1;const ut=vt(q)?q:c.value,bt=F(ut),qt=P.messageResolver(bt,V);return a?qt!=null:Io(qt)||vs(qt)||vt(qt)},()=>[V],"translate exists",ut=>Reflect.apply(ut.te,ut,[V,q]),$1t,ut=>Jt(ut))}function gi(V){let q=null;const ut=$G(P,p.value,c.value);for(let bt=0;bt<ut.length;bt++){const qt=d.value[ut[bt]]||{},Xt=P.messageResolver(qt,V);if(Xt!=null){q=Xt;break}}return q}function $(V){return gi(V)??(n?n.tm(V)||{}:{})}function F(V){return d.value[V]||{}}function H(V,q){if(s){const ut={[V]:q};for(const bt in ut)to(ut,bt)&&d0(ut[bt]);q=ut[V]}d.value[V]=q,P.messages=d.value}function it(V,q){d.value[V]=d.value[V]||{};const ut={[V]:q};if(s)for(const bt in ut)to(ut,bt)&&d0(ut[bt]);q=ut[V],k2(q,d.value[V]),P.messages=d.value}function et(V){return f.value[V]||{}}function rt(V,q){f.value[V]=q,P.datetimeFormats=f.value,a$(P,V,q)}function dt(V,q){f.value[V]=fi(f.value[V]||{},q),P.datetimeFormats=f.value,a$(P,V,q)}function L(V){return y.value[V]||{}}function R(V,q){y.value[V]=q,P.numberFormats=y.value,u$(P,V,q)}function W(V,q){y.value[V]=fi(y.value[V]||{},q),P.numberFormats=y.value,u$(P,V,q)}b$++,n&&I2&&(Vn(n.locale,V=>{l&&(c.value=V,P.locale=V,p0(P,c.value,p.value))}),Vn(n.fallbackLocale,V=>{l&&(p.value=V,P.fallbackLocale=V,p0(P,c.value,p.value))}));const X={id:b$,locale:U,fallbackLocale:j,get inheritLocale(){return l},set inheritLocale(V){l=V,V&&n&&(c.value=n.locale.value,p.value=n.fallbackLocale.value,p0(P,c.value,p.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:G,get modifiers(){return N},get pluralRules(){return C||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(V){g=V,P.missingWarn=g},get fallbackWarn(){return b},set fallbackWarn(V){b=V,P.fallbackWarn=b},get fallbackRoot(){return x},set fallbackRoot(V){x=V},get fallbackFormat(){return A},set fallbackFormat(V){A=V,P.fallbackFormat=A},get warnHtmlMessage(){return M},set warnHtmlMessage(V){M=V,P.warnHtmlMessage=V},get escapeParameter(){return I},set escapeParameter(V){I=V,P.escapeParameter=V},t:pt,getLocaleMessage:F,setLocaleMessage:H,mergeLocaleMessage:it,getPostTranslationHandler:m,setPostTranslationHandler:S,getMissingHandler:k,setMissingHandler:z,[p$]:tn};return X.datetimeFormats=Z,X.numberFormats=u,X.rt=ot,X.te=Rn,X.tm=$,X.d=It,X.n=Lt,X.getDateTimeFormat=et,X.setDateTimeFormat=rt,X.mergeDateTimeFormat=dt,X.getNumberFormat=L,X.setNumberFormat=R,X.mergeNumberFormat=W,X[d$]=i,X[fT]=Pe,X[mT]=Li,X[yT]=Ge,X}function U1t(t){const e=vt(t.locale)?t.locale:Hp,n=vt(t.fallbackLocale)||qe(t.fallbackLocale)||Gt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=Fe(t.missing)?t.missing:void 0,r=Jt(t.silentTranslationWarn)||Kl(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=Jt(t.silentFallbackWarn)||Kl(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Jt(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Gt(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,p=Fe(t.postTranslation)?t.postTranslation:void 0,d=vt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,y=Jt(t.sync)?t.sync:!0;let g=t.messages;if(Gt(t.sharedMessages)){const I=t.sharedMessages;g=Object.keys(I).reduce((N,C)=>{const P=N[C]||(N[C]={});return fi(P,I[C]),N},g||{})}const{__i18n:b,__root:x,__injectWithOption:A}=t,T=t.datetimeFormats,w=t.numberFormats,_=t.flatJson,M=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:_,datetimeFormats:T,numberFormats:w,missing:i,missingWarn:r,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:p,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:b,__root:x,__injectWithOption:A}}function bT(t={},e){{const n=vT(U1t(t)),{__extender:i}=t,r={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return Jt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=Jt(s)?!s:s},get silentFallbackWarn(){return Jt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=Jt(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[o,a,l]=s,c={};let p=null,d=null;if(!vt(o))throw ii(Qn.INVALID_ARGUMENT);const f=o;return vt(a)?c.locale=a:qe(a)?p=a:Gt(a)&&(d=a),qe(l)?p=l:Gt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let p=null,d=null;if(!vt(o))throw ii(Qn.INVALID_ARGUMENT);const f=o;return vt(a)?c.locale=a:Ln(a)?c.plural=a:qe(a)?p=a:Gt(a)&&(d=a),vt(l)?c.locale=l:qe(l)?p=l:Gt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},te(s,o){return n.te(s,o)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,o){n.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){n.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,o){n.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){n.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,o){n.setNumberFormat(s,o)},mergeNumberFormat(s,o){n.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return r.__extender=i,r}}const _T={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function V1t({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===Me?i.children:[i]],[]):e.reduce((n,i)=>{const r=t[i];return r&&(n[i]=r()),n},Ne())}function w$(t){return Me}const z1t=Yt({name:"i18n-t",props:fi({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Ln(t)||!isNaN(t)}},_T),setup(t,e){const{slots:n,attrs:i}=e,r=t.i18n||He({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d!=="_"),o=Ne();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=vt(t.plural)?+t.plural:t.plural);const a=V1t(e,s),l=r[fT](t.keypath,a,o),c=fi(Ne(),i),p=vt(t.tag)||pe(t.tag)?t.tag:w$();return ds(p,c,l)}}}),x$=z1t;function B1t(t){return qe(t)&&!vt(t[0])}function E$(t,e,n,i){const{slots:r,attrs:s}=e;return()=>{const o={part:!0};let a=Ne();t.locale&&(o.locale=t.locale),vt(t.format)?o.key=t.format:pe(t.format)&&(vt(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,y)=>n.includes(y)?fi(Ne(),f,{[y]:t.format[y]}):f,Ne()));const l=i(t.value,o,a);let c=[o.key];qe(l)?c=l.map((f,y)=>{const g=r[f.type],b=g?g({[f.type]:f.value,index:y,parts:l}):[f.value];return B1t(b)&&(b[0].key=`${f.type}-${y}`),b}):vt(l)&&(c=[l]);const p=fi(Ne(),s),d=vt(t.tag)||pe(t.tag)?t.tag:w$();return ds(d,p,c)}}const W1t=Yt({name:"i18n-n",props:fi({value:{type:Number,required:!0},format:{type:[String,Object]}},_T),setup(t,e){const n=t.i18n||He({useScope:t.scope,__useComponent:!0});return E$(t,e,c$,(...i)=>n[yT](...i))}}),S$=W1t,q1t=Yt({name:"i18n-d",props:fi({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},_T),setup(t,e){const n=t.i18n||He({useScope:t.scope,__useComponent:!0});return E$(t,e,o$,(...i)=>n[mT](...i))}}),A$=q1t;function H1t(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function Z1t(t){const e=n=>{const{instance:i,modifiers:r,value:s}=n;if(!i||!i.$)throw ii(Qn.UNEXPECTED_ERROR);const o=H1t(t,i.$),a=T$(s);return[Reflect.apply(o.t,o,[...M$(a)]),o]};return{created:(n,i)=>{const[r,s]=e(i);I2&&t.global===s&&(n.__i18nWatcher=Vn(s.locale,()=>{i.instance&&i.instance.$forceUpdate()})),n.__composer=s,n.textContent=r},unmounted:n=>{I2&&n.__i18nWatcher&&(n.__i18nWatcher(),n.__i18nWatcher=void 0,delete n.__i18nWatcher),n.__composer&&(n.__composer=void 0,delete n.__composer)},beforeUpdate:(n,{value:i})=>{if(n.__composer){const r=n.__composer,s=T$(i);n.textContent=Reflect.apply(r.t,r,[...M$(s)])}},getSSRProps:n=>{const[i]=e(n);return{textContent:i}}}}function T$(t){if(vt(t))return{path:t};if(Gt(t)){if(!("path"in t))throw ii(Qn.REQUIRED_VALUE,"path");return t}else throw ii(Qn.INVALID_VALUE)}function M$(t){const{path:e,locale:n,args:i,choice:r,plural:s}=t,o={},a=i||{};return vt(n)&&(o.locale=n),Ln(r)&&(o.plural=r),Ln(s)&&(o.plural=s),[e,a,o]}function Y1t(t,e,...n){const i=Gt(n[0])?n[0]:{},r=!!i.useI18nComponentName;(!Jt(i.globalInstall)||i.globalInstall)&&([r?"i18n":x$.name,"I18nT"].forEach(s=>t.component(s,x$)),[S$.name,"I18nN"].forEach(s=>t.component(s,S$)),[A$.name,"I18nD"].forEach(s=>t.component(s,A$))),t.directive("t",Z1t(e))}function J1t(t,e,n){return{beforeCreate(){const i=Cn();if(!i)throw ii(Qn.UNEXPECTED_ERROR);const r=this.$options;if(r.i18n){const s=r.i18n;if(r.__i18n&&(s.__i18n=r.__i18n),s.__root=e,this===this.$root)this.$i18n=I$(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=bT(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(r.__i18n)if(this===this.$root)this.$i18n=I$(t,r);else{this.$i18n=bT({__i18n:r.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;r.__i18nGlobal&&m$(e,r,r),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=Cn();if(!i)throw ii(Qn.UNEXPECTED_ERROR);const r=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,r.__disposer&&(r.__disposer(),delete r.__disposer,delete r.__extender),n.__deleteInstance(i),delete this.$i18n}}}function I$(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[p$](e.pluralizationRules||t.pluralizationRules);const n=D2(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const X1t=Ql("global-vue-i18n");function Q1t(t={},e){const n=__VUE_I18N_LEGACY_API__&&Jt(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,i=Jt(t.globalInjection)?t.globalInjection:!0,r=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[o,a]=K1t(t,n),l=Ql("");function c(f){return s.get(f)||null}function p(f,y){s.set(f,y)}function d(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return r},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,f),Gt(g[0])){const A=g[0];f.__composerExtend=A.__composerExtend,f.__vueI18nExtend=A.__vueI18nExtend}let b=null;!n&&i&&(b=lvt(y,f.global)),__VUE_I18N_FULL_INSTALL__&&Y1t(y,f,...g),__VUE_I18N_LEGACY_API__&&n&&y.mixin(J1t(a,a.__composer,f));const x=y.unmount;y.unmount=()=>{b&&b(),f.dispose(),x()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:p,__deleteInstance:d};return f}}function He(t={}){const e=Cn();if(e==null)throw ii(Qn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw ii(Qn.NOT_INSTALLED);const n=tvt(e),i=nvt(n),r=f$(e),s=evt(t,r);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw ii(Qn.NOT_AVAILABLE_IN_LEGACY_MODE);return ovt(e,s,i,t)}if(s==="global")return m$(i,t,r),i;if(s==="parent"){let l=ivt(n,e,t.__useComponent);return l==null&&(l=i),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=fi({},t);"__i18n"in r&&(l.__i18n=r.__i18n),i&&(l.__root=i),a=vT(l),o.__composerExtend&&(a[gT]=o.__composerExtend(a)),svt(o,e,a),o.__setInstance(e,a)}return a}function K1t(t,e,n){const i=Em();{const r=__VUE_I18N_LEGACY_API__&&e?i.run(()=>bT(t)):i.run(()=>vT(t));if(r==null)throw ii(Qn.UNEXPECTED_ERROR);return[i,r]}}function tvt(t){{const e=In(t.isCE?X1t:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw ii(t.isCE?Qn.NOT_INSTALLED_WITH_PROVIDE:Qn.UNEXPECTED_ERROR);return e}}function evt(t,e){return O2(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function nvt(t){return t.mode==="composition"?t.global:t.global.__composer}function ivt(t,e,n=!1){let i=null;const r=e.root;let s=rvt(e,n);for(;s!=null;){const o=t;if(t.mode==="composition")i=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(i=a.__composer,n&&i&&!i[d$]&&(i=null))}if(i!=null||r===s)break;s=s.parent}return i}function rvt(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function svt(t,e,n){ni(()=>{},e),$l(()=>{const i=n;t.__deleteInstance(e);const r=i[gT];r&&(r(),delete i[gT])},e)}function ovt(t,e,n,i={}){const r=e==="local",s=Sp(null);if(r&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw ii(Qn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Jt(i.inheritLocale)?i.inheritLocale:!vt(i.locale),a=J(!r||o?n.locale.value:vt(i.locale)?i.locale:Hp),l=J(!r||o?n.fallbackLocale.value:vt(i.fallbackLocale)||qe(i.fallbackLocale)||Gt(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=J(D2(a.value,i)),p=J(Gt(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=J(Gt(i.numberFormats)?i.numberFormats:{[a.value]:{}}),f=r?n.missingWarn:Jt(i.missingWarn)||Kl(i.missingWarn)?i.missingWarn:!0,y=r?n.fallbackWarn:Jt(i.fallbackWarn)||Kl(i.fallbackWarn)?i.fallbackWarn:!0,g=r?n.fallbackRoot:Jt(i.fallbackRoot)?i.fallbackRoot:!0,b=!!i.fallbackFormat,x=Fe(i.missing)?i.missing:null,A=Fe(i.postTranslation)?i.postTranslation:null,T=r?n.warnHtmlMessage:Jt(i.warnHtmlMessage)?i.warnHtmlMessage:!0,w=!!i.escapeParameter,_=r?n.modifiers:Gt(i.modifiers)?i.modifiers:{},M=i.pluralRules||r&&n.pluralRules;function I(){return[a.value,l.value,c.value,p.value,d.value]}const N=Bt({get:()=>s.value?s.value.locale.value:a.value,set:F=>{s.value&&(s.value.locale.value=F),a.value=F}}),C=Bt({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:F=>{s.value&&(s.value.fallbackLocale.value=F),l.value=F}}),P=Bt(()=>s.value?s.value.messages.value:c.value),D=Bt(()=>p.value),U=Bt(()=>d.value);function j(){return s.value?s.value.getPostTranslationHandler():A}function G(F){s.value&&s.value.setPostTranslationHandler(F)}function Z(){return s.value?s.value.getMissingHandler():x}function u(F){s.value&&s.value.setMissingHandler(F)}function m(F){return I(),F()}function S(...F){return s.value?m(()=>Reflect.apply(s.value.t,null,[...F])):m(()=>"")}function k(...F){return s.value?Reflect.apply(s.value.rt,null,[...F]):""}function z(...F){return s.value?m(()=>Reflect.apply(s.value.d,null,[...F])):m(()=>"")}function Y(...F){return s.value?m(()=>Reflect.apply(s.value.n,null,[...F])):m(()=>"")}function pt(F){return s.value?s.value.tm(F):{}}function ot(F,H){return s.value?s.value.te(F,H):!1}function It(F){return s.value?s.value.getLocaleMessage(F):{}}function Lt(F,H){s.value&&(s.value.setLocaleMessage(F,H),c.value[F]=H)}function $t(F,H){s.value&&s.value.mergeLocaleMessage(F,H)}function we(F){return s.value?s.value.getDateTimeFormat(F):{}}function Pe(F,H){s.value&&(s.value.setDateTimeFormat(F,H),p.value[F]=H)}function Ge(F,H){s.value&&s.value.mergeDateTimeFormat(F,H)}function Li(F){return s.value?s.value.getNumberFormat(F):{}}function tn(F,H){s.value&&(s.value.setNumberFormat(F,H),d.value[F]=H)}function Rn(F,H){s.value&&s.value.mergeNumberFormat(F,H)}const gi={get id(){return s.value?s.value.id:-1},locale:N,fallbackLocale:C,messages:P,datetimeFormats:D,numberFormats:U,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(F){s.value&&(s.value.inheritLocale=F)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:_},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(F){s.value&&(s.value.fallbackRoot=F)},get fallbackFormat(){return s.value?s.value.fallbackFormat:b},set fallbackFormat(F){s.value&&(s.value.fallbackFormat=F)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:T},set warnHtmlMessage(F){s.value&&(s.value.warnHtmlMessage=F)},get escapeParameter(){return s.value?s.value.escapeParameter:w},set escapeParameter(F){s.value&&(s.value.escapeParameter=F)},t:S,getPostTranslationHandler:j,setPostTranslationHandler:G,getMissingHandler:Z,setMissingHandler:u,rt:k,d:z,n:Y,tm:pt,te:ot,getLocaleMessage:It,setLocaleMessage:Lt,mergeLocaleMessage:$t,getDateTimeFormat:we,setDateTimeFormat:Pe,mergeDateTimeFormat:Ge,getNumberFormat:Li,setNumberFormat:tn,mergeNumberFormat:Rn};function $(F){F.locale.value=a.value,F.fallbackLocale.value=l.value,Object.keys(c.value).forEach(H=>{F.mergeLocaleMessage(H,c.value[H])}),Object.keys(p.value).forEach(H=>{F.mergeDateTimeFormat(H,p.value[H])}),Object.keys(d.value).forEach(H=>{F.mergeNumberFormat(H,d.value[H])}),F.escapeParameter=w,F.fallbackFormat=b,F.fallbackRoot=g,F.fallbackWarn=y,F.missingWarn=f,F.warnHtmlMessage=T}return Fm(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw ii(Qn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const F=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=F.locale.value,l.value=F.fallbackLocale.value,c.value=F.messages.value,p.value=F.datetimeFormats.value,d.value=F.numberFormats.value):r&&$(F)}),gi}const avt=["locale","fallbackLocale","availableLocales"],O$=["t","rt","d","n","tm","te"];function lvt(t,e){const n=Object.create(null);return avt.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r)throw ii(Qn.UNEXPECTED_ERROR);const s=ne(r.value)?{get(){return r.value.value},set(o){r.value.value=o}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,i,s)}),t.config.globalProperties.$i18n=n,O$.forEach(i=>{const r=Object.getOwnPropertyDescriptor(e,i);if(!r||!r.value)throw ii(Qn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,r)}),()=>{delete t.config.globalProperties.$i18n,O$.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}if(j1t(),__INTLIFY_JIT_COMPILATION__?WG(C1t):WG(N1t),x1t(n1t),E1t($G),__INTLIFY_PROD_DEVTOOLS__){const t=Na();t.__INTLIFY__=!0,h1t(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const cvt={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","ramp.reload":"Reload RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.keyboardNav":"Press the key 'S' then 'H' to view available keyboard shortcuts","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"current","map.export":"export map","map.layerSwipe.drag":"Drag and slide to move","map.layerSwipe.label":"Layer swipe","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"fran\xE7ais","lang-native":"Fran\xE7ais","ramp.about.open":"Ouvrir \xC0 propos de PCAR","ramp.about":"\xC0 propos de PCAR","ramp.reload":"Recharger PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous d\xE9placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un \xE9l\xE9ment de la liste est s\xE9lectionn\xE9, vous pouvez appuyer sur \xAB Espace \xBB ou \xAB Entr\xE9e \xBB pour cliquer sur l'\xE9l\xE9ment. Vous pouvez \xE9galement vous d\xE9placer au sein de l'\xE9l\xE9ment de la liste au moyen de la touche \xAB Tab \xBB.","keyboardInstructions.map":"Lorsque la carte est s\xE9lectionn\xE9e, utilisez le pav\xE9 curseur pour vous d\xE9placer et appuyez sur \xAB Entr\xE9e \xBB  pour s\xE9lectionner un point.","keyboardInstructions.keyboardNav":"Appuyez sur la touche \xAB S \xBB puis \xAB H \xBB pour afficher les raccourcis clavier disponibles","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer \xE0 l'\xE9chelle m\xE9trique","map.toggleScaleToImperial":"Passer \xE0 l'\xE9chelle imp\xE9riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"actuel","map.export":"exporter la carte","map.layerSwipe.drag":"Faites glisser et glissez pour d\xE9placer","map.layerSwipe.label":"Glissement de calque","notifications.open":"Ouvrir la fen\xEAtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"D\xE9velopper","notifications.controls.collapse":"R\xE9duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entr\xE9e ou sur la barre d'espacement pour acc\xE9der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"\xC9pingler","panels.controls.unpin":"D\xE9s\xE9pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"R\xE9duire","panels.controls.expand":"D\xE9velopper","panels.controls.collapse":"R\xE9duire","panels.controls.moveRight":"Aller \xE0 droite","panels.controls.moveLeft":"Aller \xE0 gauche","panels.controls.items":"Utilisez les touches fl\xE9ch\xE9es pour naviguer entre les \xE9l\xE9ments","panels.alert.open":"Fen\xEAtre {name} ouverte","panels.alert.close":"Fen\xEAtre {name} ferm\xE9e","panels.alert.minimize":"Fen\xEAtre {name} r\xE9duite","layer.error":"\xC9chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que pr\xE9vu","layer.longdraw":"{id} prend plus de temps que pr\xE9vu \xE0 extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont \xE9t\xE9 d\xE9sactiv\xE9s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement d\xE9sactiv\xE9.","layer.noexportmap":"La tentative d\u2019ajouter {name} comme couche d\u2019imagerie cartographique a \xE9chou\xE9e car elle n\u2019a pu \xEAtre activ\xE9 pour ce service","caption.attributionDefaultText":"Propuls\xE9 par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home"}},N$="en",uvt={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function hvt(){return Q1t({legacy:!1,locale:document.documentElement.getAttribute("lang")||N$,fallbackLocale:N$,globalInjection:!0,messages:cvt,numberFormats:uvt})}const C$=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Pa=(()=>{if(typeof document>"u")return!1;const t=C$[0],e={};for(const n of C$)if(n?.[1]in document){for(const[i,r]of n.entries())e[t[i]]=r;return e}return!1})(),k$={change:Pa.fullscreenchange,error:Pa.fullscreenerror};let Gr={request(t=document.documentElement,e){return new Promise((n,i)=>{const r=()=>{Gr.off("change",r),n()};Gr.on("change",r);const s=t[Pa.requestFullscreen](e);s instanceof Promise&&s.then(r).catch(i)})},exit(){return new Promise((t,e)=>{if(!Gr.isFullscreen){t();return}const n=()=>{Gr.off("change",n),t()};Gr.on("change",n);const i=document[Pa.exitFullscreen]();i instanceof Promise&&i.then(n).catch(e)})},toggle(t,e){return Gr.isFullscreen?Gr.exit():Gr.request(t,e)},onchange(t){Gr.on("change",t)},onerror(t){Gr.on("error",t)},on(t,e){const n=k$[t];n&&document.addEventListener(n,e,!1)},off(t,e){const n=k$[t];n&&document.removeEventListener(n,e,!1)},raw:Pa};Object.defineProperties(Gr,{isFullscreen:{get:()=>!!document[Pa.fullscreenElement]},element:{enumerable:!0,get:()=>document[Pa.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Pa.fullscreenEnabled]}}),Pa||(Gr={isEnabled:!1});const No=Gr;var P$=typeof global=="object"&&global&&global.Object===Object&&global,pvt=typeof self=="object"&&self&&self.Object===Object&&self,Co=P$||pvt||Function("return this")(),Yp=Co.Symbol,L$=Object.prototype,dvt=L$.hasOwnProperty,fvt=L$.toString,f0=Yp?Yp.toStringTag:void 0;function mvt(t){var e=dvt.call(t,f0),n=t[f0];try{t[f0]=void 0;var i=!0}catch{}var r=fvt.call(t);return i&&(e?t[f0]=n:delete t[f0]),r}var yvt=Object.prototype,gvt=yvt.toString;function vvt(t){return gvt.call(t)}var bvt="[object Null]",_vt="[object Undefined]",R$=Yp?Yp.toStringTag:void 0;function m0(t){return t==null?t===void 0?_vt:bvt:R$&&R$ in Object(t)?mvt(t):vvt(t)}function y0(t){return t!=null&&typeof t=="object"}var wT=Array.isArray;function F2(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wvt="[object AsyncFunction]",xvt="[object Function]",Evt="[object GeneratorFunction]",Svt="[object Proxy]";function D$(t){if(!F2(t))return!1;var e=m0(t);return e==xvt||e==Evt||e==wvt||e==Svt}var xT=Co["__core-js_shared__"],F$=function(){var t=/[^.]+$/.exec(xT&&xT.keys&&xT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Avt(t){return!!F$&&F$ in t}var Tvt=Function.prototype,Mvt=Tvt.toString;function Cu(t){if(t!=null){try{return Mvt.call(t)}catch{}try{return t+""}catch{}}return""}var Ivt=/[\\^$.*+?()[\]{}|]/g,Ovt=/^\[object .+?Constructor\]$/,Nvt=Function.prototype,Cvt=Object.prototype,kvt=Nvt.toString,Pvt=Cvt.hasOwnProperty,Lvt=RegExp("^"+kvt.call(Pvt).replace(Ivt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rvt(t){if(!F2(t)||Avt(t))return!1;var e=D$(t)?Lvt:Ovt;return e.test(Cu(t))}function Dvt(t,e){return t?.[e]}function ku(t,e){var n=Dvt(t,e);return Rvt(n)?n:void 0}var ET=ku(Co,"WeakMap"),j$=Object.create,Fvt=function(){function t(){}return function(e){if(!F2(e))return{};if(j$)return j$(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),G$=function(){try{var t=ku(Object,"defineProperty");return t({},"",{}),t}catch{}}();function jvt(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var Gvt=9007199254740991,$vt=/^(?:0|[1-9]\d*)$/;function Uvt(t,e){var n=typeof t;return e=e??Gvt,!!e&&(n=="number"||n!="symbol"&&$vt.test(t))&&t>-1&&t%1==0&&t<e}function Vvt(t,e,n){e=="__proto__"&&G$?G$(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function $$(t,e){return t===e||t!==t&&e!==e}var zvt=Object.prototype,Bvt=zvt.hasOwnProperty;function Wvt(t,e,n){var i=t[e];(!(Bvt.call(t,e)&&$$(i,n))||n===void 0&&!(e in t))&&Vvt(t,e,n)}var qvt=9007199254740991;function U$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qvt}function Hvt(t){return t!=null&&U$(t.length)&&!D$(t)}var Zvt=Object.prototype;function V$(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Zvt;return t===n}function Yvt(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var Jvt="[object Arguments]";function z$(t){return y0(t)&&m0(t)==Jvt}var B$=Object.prototype,Xvt=B$.hasOwnProperty,Qvt=B$.propertyIsEnumerable,Kvt=z$(function(){return arguments}())?z$:function(t){return y0(t)&&Xvt.call(t,"callee")&&!Qvt.call(t,"callee")};function t2t(){return!1}var W$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,q$=W$&&typeof module=="object"&&module&&!module.nodeType&&module,e2t=q$&&q$.exports===W$,H$=e2t?Co.Buffer:void 0,n2t=H$?H$.isBuffer:void 0,Z$=n2t||t2t,i2t="[object Arguments]",r2t="[object Array]",s2t="[object Boolean]",o2t="[object Date]",a2t="[object Error]",l2t="[object Function]",c2t="[object Map]",u2t="[object Number]",h2t="[object Object]",p2t="[object RegExp]",d2t="[object Set]",f2t="[object String]",m2t="[object WeakMap]",y2t="[object ArrayBuffer]",g2t="[object DataView]",v2t="[object Float32Array]",b2t="[object Float64Array]",_2t="[object Int8Array]",w2t="[object Int16Array]",x2t="[object Int32Array]",E2t="[object Uint8Array]",S2t="[object Uint8ClampedArray]",A2t="[object Uint16Array]",T2t="[object Uint32Array]",Ze={};Ze[v2t]=Ze[b2t]=Ze[_2t]=Ze[w2t]=Ze[x2t]=Ze[E2t]=Ze[S2t]=Ze[A2t]=Ze[T2t]=!0,Ze[i2t]=Ze[r2t]=Ze[y2t]=Ze[s2t]=Ze[g2t]=Ze[o2t]=Ze[a2t]=Ze[l2t]=Ze[c2t]=Ze[u2t]=Ze[h2t]=Ze[p2t]=Ze[d2t]=Ze[f2t]=Ze[m2t]=!1;function M2t(t){return y0(t)&&U$(t.length)&&!!Ze[m0(t)]}function ST(t){return function(e){return t(e)}}var Y$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,g0=Y$&&typeof module=="object"&&module&&!module.nodeType&&module,I2t=g0&&g0.exports===Y$,AT=I2t&&P$.process,Jp=function(){try{var t=g0&&g0.require&&g0.require("util").types;return t||AT&&AT.binding&&AT.binding("util")}catch{}}(),J$=Jp&&Jp.isTypedArray,O2t=J$?ST(J$):M2t,N2t=Object.prototype,C2t=N2t.hasOwnProperty;function k2t(t,e){var n=wT(t),i=!n&&Kvt(t),r=!n&&!i&&Z$(t),s=!n&&!i&&!r&&O2t(t),o=n||i||r||s,a=o?Yvt(t.length,String):[],l=a.length;for(var c in t)C2t.call(t,c)&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Uvt(c,l)))&&a.push(c);return a}function X$(t,e){return function(n){return t(e(n))}}var P2t=X$(Object.keys,Object),L2t=Object.prototype,R2t=L2t.hasOwnProperty;function D2t(t){if(!V$(t))return P2t(t);var e=[];for(var n in Object(t))R2t.call(t,n)&&n!="constructor"&&e.push(n);return e}function F2t(t){return Hvt(t)?k2t(t):D2t(t)}var v0=ku(Object,"create");function j2t(){this.__data__=v0?v0(null):{},this.size=0}function G2t(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $2t="__lodash_hash_undefined__",U2t=Object.prototype,V2t=U2t.hasOwnProperty;function z2t(t){var e=this.__data__;if(v0){var n=e[t];return n===$2t?void 0:n}return V2t.call(e,t)?e[t]:void 0}var B2t=Object.prototype,W2t=B2t.hasOwnProperty;function q2t(t){var e=this.__data__;return v0?e[t]!==void 0:W2t.call(e,t)}var H2t="__lodash_hash_undefined__";function Z2t(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=v0&&e===void 0?H2t:e,this}function Pu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Pu.prototype.clear=j2t,Pu.prototype.delete=G2t,Pu.prototype.get=z2t,Pu.prototype.has=q2t,Pu.prototype.set=Z2t;function Y2t(){this.__data__=[],this.size=0}function j2(t,e){for(var n=t.length;n--;)if($$(t[n][0],e))return n;return-1}var J2t=Array.prototype,X2t=J2t.splice;function Q2t(t){var e=this.__data__,n=j2(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():X2t.call(e,n,1),--this.size,!0}function K2t(t){var e=this.__data__,n=j2(e,t);return n<0?void 0:e[n][1]}function tbt(t){return j2(this.__data__,t)>-1}function ebt(t,e){var n=this.__data__,i=j2(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function La(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}La.prototype.clear=Y2t,La.prototype.delete=Q2t,La.prototype.get=K2t,La.prototype.has=tbt,La.prototype.set=ebt;var b0=ku(Co,"Map");function nbt(){this.size=0,this.__data__={hash:new Pu,map:new(b0||La),string:new Pu}}function ibt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function G2(t,e){var n=t.__data__;return ibt(e)?n[typeof e=="string"?"string":"hash"]:n.map}function rbt(t){var e=G2(this,t).delete(t);return this.size-=e?1:0,e}function sbt(t){return G2(this,t).get(t)}function obt(t){return G2(this,t).has(t)}function abt(t,e){var n=G2(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Xp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Xp.prototype.clear=nbt,Xp.prototype.delete=rbt,Xp.prototype.get=sbt,Xp.prototype.has=obt,Xp.prototype.set=abt;function lbt(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var cbt=X$(Object.getPrototypeOf,Object);function ubt(){this.__data__=new La,this.size=0}function hbt(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function pbt(t){return this.__data__.get(t)}function dbt(t){return this.__data__.has(t)}var fbt=200;function mbt(t,e){var n=this.__data__;if(n instanceof La){var i=n.__data__;if(!b0||i.length<fbt-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xp(i)}return n.set(t,e),this.size=n.size,this}function Qp(t){var e=this.__data__=new La(t);this.size=e.size}Qp.prototype.clear=ubt,Qp.prototype.delete=hbt,Qp.prototype.get=pbt,Qp.prototype.has=dbt,Qp.prototype.set=mbt;var Q$=typeof exports=="object"&&exports&&!exports.nodeType&&exports,K$=Q$&&typeof module=="object"&&module&&!module.nodeType&&module,ybt=K$&&K$.exports===Q$,tU=ybt?Co.Buffer:void 0;tU&&tU.allocUnsafe;function gbt(t,e){return t.slice()}function vbt(t,e){for(var n=-1,i=t==null?0:t.length,r=0,s=[];++n<i;){var o=t[n];e(o,n,t)&&(s[r++]=o)}return s}function bbt(){return[]}var _bt=Object.prototype,wbt=_bt.propertyIsEnumerable,eU=Object.getOwnPropertySymbols,xbt=eU?function(t){return t==null?[]:(t=Object(t),vbt(eU(t),function(e){return wbt.call(t,e)}))}:bbt;function Ebt(t,e,n){var i=e(t);return wT(t)?i:lbt(i,n(t))}function Sbt(t){return Ebt(t,F2t,xbt)}var TT=ku(Co,"DataView"),MT=ku(Co,"Promise"),IT=ku(Co,"Set"),nU="[object Map]",Abt="[object Object]",iU="[object Promise]",rU="[object Set]",sU="[object WeakMap]",oU="[object DataView]",Tbt=Cu(TT),Mbt=Cu(b0),Ibt=Cu(MT),Obt=Cu(IT),Nbt=Cu(ET),Ra=m0;(TT&&Ra(new TT(new ArrayBuffer(1)))!=oU||b0&&Ra(new b0)!=nU||MT&&Ra(MT.resolve())!=iU||IT&&Ra(new IT)!=rU||ET&&Ra(new ET)!=sU)&&(Ra=function(t){var e=m0(t),n=e==Abt?t.constructor:void 0,i=n?Cu(n):"";if(i)switch(i){case Tbt:return oU;case Mbt:return nU;case Ibt:return iU;case Obt:return rU;case Nbt:return sU}return e});var Cbt=Object.prototype,kbt=Cbt.hasOwnProperty;function Pbt(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&kbt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var aU=Co.Uint8Array;function OT(t){var e=new t.constructor(t.byteLength);return new aU(e).set(new aU(t)),e}function Lbt(t,e){var n=OT(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var Rbt=/\w*$/;function Dbt(t){var e=new t.constructor(t.source,Rbt.exec(t));return e.lastIndex=t.lastIndex,e}var lU=Yp?Yp.prototype:void 0,cU=lU?lU.valueOf:void 0;function Fbt(t){return cU?Object(cU.call(t)):{}}function jbt(t,e){var n=OT(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}var Gbt="[object Boolean]",$bt="[object Date]",Ubt="[object Map]",Vbt="[object Number]",zbt="[object RegExp]",Bbt="[object Set]",Wbt="[object String]",qbt="[object Symbol]",Hbt="[object ArrayBuffer]",Zbt="[object DataView]",Ybt="[object Float32Array]",Jbt="[object Float64Array]",Xbt="[object Int8Array]",Qbt="[object Int16Array]",Kbt="[object Int32Array]",t_t="[object Uint8Array]",e_t="[object Uint8ClampedArray]",n_t="[object Uint16Array]",i_t="[object Uint32Array]";function r_t(t,e,n){var i=t.constructor;switch(e){case Hbt:return OT(t);case Gbt:case $bt:return new i(+t);case Zbt:return Lbt(t);case Ybt:case Jbt:case Xbt:case Qbt:case Kbt:case t_t:case e_t:case n_t:case i_t:return jbt(t);case Ubt:return new i;case Vbt:case Wbt:return new i(t);case zbt:return Dbt(t);case Bbt:return new i;case qbt:return Fbt(t)}}function s_t(t){return typeof t.constructor=="function"&&!V$(t)?Fvt(cbt(t)):{}}var o_t="[object Map]";function a_t(t){return y0(t)&&Ra(t)==o_t}var uU=Jp&&Jp.isMap,l_t=uU?ST(uU):a_t,c_t="[object Set]";function u_t(t){return y0(t)&&Ra(t)==c_t}var hU=Jp&&Jp.isSet,h_t=hU?ST(hU):u_t,pU="[object Arguments]",p_t="[object Array]",d_t="[object Boolean]",f_t="[object Date]",m_t="[object Error]",dU="[object Function]",y_t="[object GeneratorFunction]",g_t="[object Map]",v_t="[object Number]",fU="[object Object]",b_t="[object RegExp]",__t="[object Set]",w_t="[object String]",x_t="[object Symbol]",E_t="[object WeakMap]",S_t="[object ArrayBuffer]",A_t="[object DataView]",T_t="[object Float32Array]",M_t="[object Float64Array]",I_t="[object Int8Array]",O_t="[object Int16Array]",N_t="[object Int32Array]",C_t="[object Uint8Array]",k_t="[object Uint8ClampedArray]",P_t="[object Uint16Array]",L_t="[object Uint32Array]",je={};je[pU]=je[p_t]=je[S_t]=je[A_t]=je[d_t]=je[f_t]=je[T_t]=je[M_t]=je[I_t]=je[O_t]=je[N_t]=je[g_t]=je[v_t]=je[fU]=je[b_t]=je[__t]=je[w_t]=je[x_t]=je[C_t]=je[k_t]=je[P_t]=je[L_t]=!0,je[m_t]=je[dU]=je[E_t]=!1;function $2(t,e,n,i,r,s){var o;if(o!==void 0)return o;if(!F2(t))return t;var a=wT(t);if(a)o=Pbt(t);else{var l=Ra(t),c=l==dU||l==y_t;if(Z$(t))return gbt(t);if(l==fU||l==pU||c&&!r)o=c?{}:s_t(t);else{if(!je[l])return r?t:{};o=r_t(t,l)}}s||(s=new Qp);var p=s.get(t);if(p)return p;s.set(t,o),h_t(t)?t.forEach(function(y){o.add($2(y,e,n,y,t,s))}):l_t(t)&&t.forEach(function(y,g){o.set(g,$2(y,e,n,g,t,s))});var d=Sbt,f=a?void 0:d(t);return jvt(f||t,function(y,g){f&&(g=y,y=t[g]),Wvt(o,g,$2(y,e,n,g,t,s))}),o}var R_t=1,D_t=4;function mU(t){return $2(t,R_t|D_t)}const U2=We("maptip",()=>{const t=J(void 0),e=J(void 0),n=J("");function i(o){t.value=o}function r(o){e.value=o}function s(o){n.value=o}return{maptipInstance:t,maptipPoint:e,content:n,setMaptipInstance:i,setMaptipPoint:r,setMaptipContent:s}}),F_t=Yt({__name:"esri-map",setup(t){const e=U2(),n=In("iApi"),i=Bt(()=>e.maptipPoint),r=Bt(()=>e.maptipInstance),s=Bt(()=>e.content),o=Zn([]),a=J(!1);o.push(Vn(i,()=>{if(i.value){const c=n.geo.map.getPixelWidth()/2,p=0,d=n.geo.map.mapPointToScreenPoint(i.value),f=d.screenX-c,y=p-d.screenY;r.value.setProps({offset:a.value?[f,y+25]:[f,y]}),s.value&&s.value!==""&&r.value.show()}else r.value.hide()})),o.push(Vn(s,c=>{c&&c!==""&&i?(r.value.setContent(c),r.value.show()):r.value.hide()})),hs(()=>{o.forEach(c=>c())});const l=()=>{n.geo.map.setMouseFocus()};return(c,p)=>{const d=be("tippy");return ve((st(),mt("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:l,onTouchstart:p[0]||(p[0]=f=>a.value=!0),onTouchend:p[1]||(p[1]=f=>a.value=!1),onKeydown:p[2]||(p[2]=o2(Dp(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[d,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var yU={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},NT={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},j_t=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],V2={CSS:{},springs:{}};function ko(t,e,n){return Math.min(Math.max(t,e),n)}function _0(t,e){return t.indexOf(e)>-1}function CT(t,e){return t.apply(null,e)}var Mt={arr:function(t){return Array.isArray(t)},obj:function(t){return _0(Object.prototype.toString.call(t),"Object")},pth:function(t){return Mt.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Mt.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return Mt.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Mt.hex(t)||Mt.rgb(t)||Mt.hsl(t)},key:function(t){return!yU.hasOwnProperty(t)&&!NT.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function gU(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function vU(t,e){var n=gU(t),i=ko(Mt.und(n[0])?1:n[0],.1,100),r=ko(Mt.und(n[1])?100:n[1],.1,100),s=ko(Mt.und(n[2])?10:n[2],.1,100),o=ko(Mt.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=s/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,p=1,d=l<1?(l*a+-o)/c:-o+a;function f(g){var b=e?e*g/1e3:g;return l<1?b=Math.exp(-b*l*a)*(p*Math.cos(c*b)+d*Math.sin(c*b)):b=(p+d*b)*Math.exp(-b*a),g===0||g===1?g:1-b}function y(){var g=V2.springs[t];if(g)return g;for(var b=1/6,x=0,A=0;;)if(x+=b,f(x)===1){if(A++,A>=16)break}else A=0;var T=x*b*1e3;return V2.springs[t]=T,T}return e?f:y}function G_t(t){return t===void 0&&(t=10),function(e){return Math.ceil(ko(e,1e-6,1)*t)*(1/t)}}var $_t=function(){var t=11,e=1/(t-1);function n(p,d){return 1-3*d+3*p}function i(p,d){return 3*d-6*p}function r(p){return 3*p}function s(p,d,f){return((n(d,f)*p+i(d,f))*p+r(d))*p}function o(p,d,f){return 3*n(d,f)*p*p+2*i(d,f)*p+r(d)}function a(p,d,f,y,g){var b,x,A=0;do x=d+(f-d)/2,b=s(x,y,g)-p,b>0?f=x:d=x;while(Math.abs(b)>1e-7&&++A<10);return x}function l(p,d,f,y){for(var g=0;g<4;++g){var b=o(d,f,y);if(b===0)return d;var x=s(d,f,y)-p;d-=x/b}return d}function c(p,d,f,y){if(!(0<=p&&p<=1&&0<=f&&f<=1))return;var g=new Float32Array(t);if(p!==d||f!==y)for(var b=0;b<t;++b)g[b]=s(b*e,p,f);function x(A){for(var T=0,w=1,_=t-1;w!==_&&g[w]<=A;++w)T+=e;--w;var M=(A-g[w])/(g[w+1]-g[w]),I=T+M*e,N=o(I,p,f);return N>=.001?l(A,I,p,f):N===0?I:a(A,T,T+e,p,f)}return function(A){return p===d&&f===y||A===0||A===1?A:s(x(A),d,y)}}return c}(),bU=function(){var t={linear:function(){return function(i){return i}}},e={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,s=4;i<((r=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((r*3-2)/22-i,2)}},Elastic:function(i,r){i===void 0&&(i=1),r===void 0&&(r=.5);var s=ko(i,1,10),o=ko(r,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(i,r){e[i]=function(){return function(s){return Math.pow(s,r+2)}}}),Object.keys(e).forEach(function(i){var r=e[i];t["easeIn"+i]=r,t["easeOut"+i]=function(s,o){return function(a){return 1-r(s,o)(1-a)}},t["easeInOut"+i]=function(s,o){return function(a){return a<.5?r(s,o)(a*2)/2:1-r(s,o)(a*-2+2)/2}},t["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-r(s,o)(1-a*2))/2:(r(s,o)(a*2-1)+1)/2}}}),t}();function kT(t,e){if(Mt.fnc(t))return t;var n=t.split("(")[0],i=bU[n],r=gU(t);switch(n){case"spring":return vU(t,e);case"cubicBezier":return CT($_t,r);case"steps":return CT(G_t,r);default:return CT(i,r)}}function _U(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function z2(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],s=0;s<n;s++)if(s in t){var o=t[s];e.call(i,o,s,t)&&r.push(o)}return r}function B2(t){return t.reduce(function(e,n){return e.concat(Mt.arr(n)?B2(n):n)},[])}function wU(t){return Mt.arr(t)?t:(Mt.str(t)&&(t=_U(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function PT(t,e){return t.some(function(n){return n===e})}function LT(t){var e={};for(var n in t)e[n]=t[n];return e}function RT(t,e){var n=LT(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function W2(t,e){var n=LT(t);for(var i in e)n[i]=Mt.und(t[i])?e[i]:t[i];return n}function U_t(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function V_t(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(a,l,c,p){return l+l+c+c+p+p}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+r+","+s+","+o+",1)"}function z_t(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(e[1],10)/360,i=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100,s=e[4]||1;function o(f,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(y-f)*6*g:g<1/2?y:g<2/3?f+(y-f)*(2/3-g)*6:f}var a,l,c;if(i==0)a=l=c=r;else{var p=r<.5?r*(1+i):r+i-r*i,d=2*r-p;a=o(d,p,n+1/3),l=o(d,p,n),c=o(d,p,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function B_t(t){if(Mt.rgb(t))return U_t(t);if(Mt.hex(t))return V_t(t);if(Mt.hsl(t))return z_t(t)}function Da(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function W_t(t){if(_0(t,"translate")||t==="perspective")return"px";if(_0(t,"rotate")||_0(t,"skew"))return"deg"}function DT(t,e){return Mt.fnc(t)?t(e.target,e.id,e.total):t}function Po(t,e){return t.getAttribute(e)}function FT(t,e,n){var i=Da(e);if(PT([n,"deg","rad","turn"],i))return e;var r=V2.CSS[e+n];if(!Mt.und(r))return r;var s=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+n;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return V2.CSS[e+n]=c,c}function xU(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?FT(t,r,n):r}}function jT(t,e){if(Mt.dom(t)&&!Mt.inp(t)&&(!Mt.nil(Po(t,e))||Mt.svg(t)&&t[e]))return"attribute";if(Mt.dom(t)&&PT(j_t,e))return"transform";if(Mt.dom(t)&&e!=="transform"&&xU(t,e))return"css";if(t[e]!=null)return"object"}function EU(t){if(Mt.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map,r;r=n.exec(e);)i.set(r[1],r[2]);return i}}function q_t(t,e,n,i){var r=_0(e,"scale")?1:0+W_t(e),s=EU(t).get(e)||r;return n&&(n.transforms.list.set(e,s),n.transforms.last=e),i?FT(t,s,i):s}function GT(t,e,n,i){switch(jT(t,e)){case"transform":return q_t(t,e,i,n);case"css":return xU(t,e,n);case"attribute":return Po(t,e);default:return t[e]||0}}function $T(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=Da(t)||0,r=parseFloat(e),s=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+s+i;case"-":return r-s+i;case"*":return r*s+i}}function SU(t,e){if(Mt.col(t))return B_t(t);if(/\s/g.test(t))return t;var n=Da(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function UT(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function H_t(t){return Math.PI*2*Po(t,"r")}function Z_t(t){return Po(t,"width")*2+Po(t,"height")*2}function Y_t(t){return UT({x:Po(t,"x1"),y:Po(t,"y1")},{x:Po(t,"x2"),y:Po(t,"y2")})}function AU(t){for(var e=t.points,n=0,i,r=0;r<e.numberOfItems;r++){var s=e.getItem(r);r>0&&(n+=UT(i,s)),i=s}return n}function J_t(t){var e=t.points;return AU(t)+UT(e.getItem(e.numberOfItems-1),e.getItem(0))}function TU(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return H_t(t);case"rect":return Z_t(t);case"line":return Y_t(t);case"polyline":return AU(t);case"polygon":return J_t(t)}}function X_t(t){var e=TU(t);return t.setAttribute("stroke-dasharray",e),e}function Q_t(t){for(var e=t.parentNode;Mt.svg(e)&&Mt.svg(e.parentNode);)e=e.parentNode;return e}function MU(t,e){var n=e||{},i=n.el||Q_t(t),r=i.getBoundingClientRect(),s=Po(i,"viewBox"),o=r.width,a=r.height,l=n.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function K_t(t,e){var n=Mt.str(t)?_U(t)[0]:t,i=e||100;return function(r){return{property:r,el:n,svg:MU(n),totalLength:TU(n)*(i/100)}}}function twt(t,e,n){function i(p){p===void 0&&(p=0);var d=e+p>=1?e+p:0;return t.el.getPointAtLength(d)}var r=MU(t.el,t.svg),s=i(),o=i(-1),a=i(1),l=n?1:r.w/r.vW,c=n?1:r.h/r.vH;switch(t.property){case"x":return(s.x-r.x)*l;case"y":return(s.y-r.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function IU(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=SU(Mt.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Mt.str(t)||e?i.split(n):[]}}function VT(t){var e=t?B2(Mt.arr(t)?t.map(wU):wU(t)):[];return z2(e,function(n,i,r){return r.indexOf(n)===i})}function OU(t){var e=VT(t);return e.map(function(n,i){return{target:n,id:i,total:e.length,transforms:{list:EU(n)}}})}function ewt(t,e){var n=LT(e);if(/^spring/.test(n.easing)&&(n.duration=vU(n.easing)),Mt.arr(t)){var i=t.length,r=i===2&&!Mt.obj(t[0]);r?t={value:t}:Mt.fnc(e.duration)||(n.duration=e.duration/i)}var s=Mt.arr(t)?t:[t];return s.map(function(o,a){var l=Mt.obj(o)&&!Mt.pth(o)?o:{value:o};return Mt.und(l.delay)&&(l.delay=a?0:e.delay),Mt.und(l.endDelay)&&(l.endDelay=a===s.length-1?e.endDelay:0),l}).map(function(o){return W2(o,n)})}function nwt(t){for(var e=z2(B2(t.map(function(s){return Object.keys(s)})),function(s){return Mt.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},i=function(s){var o=e[s];n[o]=t.map(function(a){var l={};for(var c in a)Mt.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<e.length;r++)i(r);return n}function iwt(t,e){var n=[],i=e.keyframes;i&&(e=W2(nwt(i),e));for(var r in e)Mt.key(r)&&n.push({name:r,tweens:ewt(e[r],t)});return n}function rwt(t,e){var n={};for(var i in t){var r=DT(t[i],e);Mt.arr(r)&&(r=r.map(function(s){return DT(s,e)}),r.length===1&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function swt(t,e){var n;return t.tweens.map(function(i){var r=rwt(i,e),s=r.value,o=Mt.arr(s)?s[1]:s,a=Da(o),l=GT(e.target,t.name,a,e),c=n?n.to.original:l,p=Mt.arr(s)?s[0]:c,d=Da(p)||Da(l),f=a||d;return Mt.und(o)&&(o=c),r.from=IU(p,f),r.to=IU($T(o,p),f),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=kT(r.easing,r.duration),r.isPath=Mt.pth(s),r.isPathTargetInsideSVG=r.isPath&&Mt.svg(e.target),r.isColor=Mt.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}var NU={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),t.style.transform=s}}};function CU(t,e){var n=OU(t);n.forEach(function(i){for(var r in e){var s=DT(e[r],i),o=i.target,a=Da(s),l=GT(o,r,a,i),c=a||Da(l),p=$T(SU(s,c),l),d=jT(o,r);NU[d](o,r,p,i.transforms,!0)}})}function owt(t,e){var n=jT(t.target,e.name);if(n){var i=swt(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}function awt(t,e){return z2(B2(t.map(function(n){return e.map(function(i){return owt(n,i)})})),function(n){return!Mt.und(n)})}function kU(t,e){var n=t.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,t.map(function(s){return i(s)+s.duration})):e.duration,r.delay=n?Math.min.apply(Math,t.map(function(s){return i(s)+s.delay})):e.delay,r.endDelay=n?r.duration-Math.max.apply(Math,t.map(function(s){return i(s)+s.duration-s.endDelay})):e.endDelay,r}var PU=0;function lwt(t){var e=RT(yU,t),n=RT(NT,t),i=iwt(n,t),r=OU(t.targets),s=awt(r,i),o=kU(s,n),a=PU;return PU++,W2(e,{id:a,children:[],animatables:r,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var io=[],LU=function(){var t;function e(){!t&&(!RU()||!on.suspendWhenDocumentHidden)&&io.length>0&&(t=requestAnimationFrame(n))}function n(r){for(var s=io.length,o=0;o<s;){var a=io[o];a.paused?(io.splice(o,1),s--):(a.tick(r),o++)}t=o>0?requestAnimationFrame(n):void 0}function i(){on.suspendWhenDocumentHidden&&(RU()?t=cancelAnimationFrame(t):(io.forEach(function(r){return r._onDocumentVisibility()}),LU()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),e}();function RU(){return!!document&&document.hidden}function on(t){t===void 0&&(t={});var e=0,n=0,i=0,r,s=0,o=null;function a(T){var w=window.Promise&&new Promise(function(_){return o=_});return T.finished=w,w}var l=lwt(t);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,r.forEach(function(w){return w.reversed=l.reversed})}function p(T){return l.reversed?l.duration-T:T}function d(){e=0,n=p(l.currentTime)*(1/on.speed)}function f(T,w){w&&w.seek(T-w.timelineOffset)}function y(T){if(l.reversePlayback)for(var w=s;w--;)f(T,r[w]);else for(var _=0;_<s;_++)f(T,r[_])}function g(T){for(var w=0,_=l.animations,M=_.length;w<M;){var I=_[w],N=I.animatable,C=I.tweens,P=C.length-1,D=C[P];P&&(D=z2(C,function(we){return T<we.end})[0]||D);for(var U=ko(T-D.start-D.delay,0,D.duration)/D.duration,j=isNaN(U)?1:D.easing(U),G=D.to.strings,Z=D.round,u=[],m=D.to.numbers.length,S=void 0,k=0;k<m;k++){var z=void 0,Y=D.to.numbers[k],pt=D.from.numbers[k]||0;D.isPath?z=twt(D.value,j*Y,D.isPathTargetInsideSVG):z=pt+j*(Y-pt),Z&&(D.isColor&&k>2||(z=Math.round(z*Z)/Z)),u.push(z)}var ot=G.length;if(!ot)S=u[0];else{S=G[0];for(var It=0;It<ot;It++){G[It];var Lt=G[It+1],$t=u[It];isNaN($t)||(Lt?S+=$t+Lt:S+=$t+" ")}}NU[I.type](N.target,I.property,S,N.transforms),I.currentValue=S,w++}}function b(T){l[T]&&!l.passThrough&&l[T](l)}function x(){l.remaining&&l.remaining!==!0&&l.remaining--}function A(T){var w=l.duration,_=l.delay,M=w-l.endDelay,I=p(T);l.progress=ko(I/w*100,0,100),l.reversePlayback=I<l.currentTime,r&&y(I),!l.began&&l.currentTime>0&&(l.began=!0,b("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,b("loopBegin")),I<=_&&l.currentTime!==0&&g(0),(I>=M&&l.currentTime!==w||!w)&&g(w),I>_&&I<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,b("changeBegin")),b("change"),g(I)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,b("changeComplete")),l.currentTime=ko(I,0,w),l.began&&b("update"),T>=w&&(n=0,x(),l.remaining?(e=i,b("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,b("loopComplete"),b("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,r=l.children,s=r.length;for(var w=s;w--;)l.children[w].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,w){return CU(T,w),l},l.tick=function(T){i=T,e||(e=i),A((i+(n-e))*on.speed)},l.seek=function(T){A(p(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,io.push(l),d(),LU())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var w=VT(T);FU(w,l)},l.reset(),l.autoplay&&l.play(),l}function DU(t,e){for(var n=e.length;n--;)PT(t,e[n].animatable.target)&&e.splice(n,1)}function FU(t,e){var n=e.animations,i=e.children;DU(t,n);for(var r=i.length;r--;){var s=i[r],o=s.animations;DU(t,o),!o.length&&!s.children.length&&i.splice(r,1)}!n.length&&!i.length&&e.pause()}function cwt(t){for(var e=VT(t),n=io.length;n--;){var i=io[n];FU(e,i)}}function uwt(t,e){e===void 0&&(e={});var n=e.direction||"normal",i=e.easing?kT(e.easing):null,r=e.grid,s=e.axis,o=e.from||0,a=o==="first",l=o==="center",c=o==="last",p=Mt.arr(t),d=parseFloat(p?t[0]:t),f=p?parseFloat(t[1]):0,y=Da(p?t[1]:t)||0,g=e.start||0+(p?d:0),b=[],x=0;return function(A,T,w){if(a&&(o=0),l&&(o=(w-1)/2),c&&(o=w-1),!b.length){for(var _=0;_<w;_++){if(!r)b.push(Math.abs(o-_));else{var M=l?(r[0]-1)/2:o%r[0],I=l?(r[1]-1)/2:Math.floor(o/r[0]),N=_%r[0],C=Math.floor(_/r[0]),P=M-N,D=I-C,U=Math.sqrt(P*P+D*D);s==="x"&&(U=-P),s==="y"&&(U=-D),b.push(U)}x=Math.max.apply(Math,b)}i&&(b=b.map(function(G){return i(G/x)*x})),n==="reverse"&&(b=b.map(function(G){return s?G<0?G*-1:-G:Math.abs(x-G)}))}var j=p?(f-d)/x:d;return g+j*(Math.round(b[T]*100)/100)+y}}function hwt(t){t===void 0&&(t={});var e=on(t);return e.duration=0,e.add=function(n,i){var r=io.indexOf(e),s=e.children;r>-1&&io.splice(r,1);function o(f){f.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=W2(n,RT(NT,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=Mt.und(i)?c:$T(i,c),o(e),e.seek(l.timelineOffset);var p=on(l);o(p),s.push(p);var d=kU(s,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}on.version="3.2.1",on.speed=1,on.suspendWhenDocumentHidden=!0,on.running=io,on.remove=cwt,on.get=GT,on.set=CU,on.convertPx=FT,on.path=K_t,on.setDashoffset=X_t,on.stagger=uwt,on.timeline=hwt,on.easing=kT,on.penner=bU,on.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};const pwt={xs:200,sm:576,md:768,lg:960};class jU{resizeObserver;constructor(e){this.resizeObserver=new ResizeObserver(n=>{n.length&&window.requestAnimationFrame(()=>{n.forEach(i=>{const r=i.target.dataset.breakpoints,s=r?JSON.parse(r):e??pwt;Object.keys(s).forEach(o=>{const a=s[o];i.contentRect.width>=a?i.target.classList.add(o):i.target.classList.remove(o)})})})})}observe(e){this.resizeObserver?.observe(e)}}const dwt=["data-cy"],GU=Yt({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(t){const e=J(null),n=t,i=J(!1);ni(()=>{n.panel.teleport&&new jU({xs:0,sm:461,...n.panel.teleport.breakpoints}).observe(e.value)});const r=(l,c,p)=>{if(i.value)return c();on({targets:l,opacity:{value:p,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{r(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=n.panel.isScreenLoaded(n.panel.route.screen),e.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{r(l,c,[0,1])};return(l,c)=>{const p=be("focus-container");return st(),mt("div",{class:Xe(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",t.panel.expanded?"flex-grow max-w-full":""]),style:ma(t.panel.style),"data-cy":t.panel.id,ref_key:"componentEl",ref:e},[zt(Hm,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:wn(()=>[ve((st(),ke(jv(t.panel.route.screen),Bm({class:"h-full"},t.panel.route.props,{panel:t.panel}),null,16,["panel"])),[[p]])]),_:1})],14,dwt)}}}),ic=We("panel",()=>{const t=J(void 0),e=J(void 0),n=J(0),i=J(0),r=J(!1),s=J(!0),o=J({}),a=J({}),l=J([]),c=J([]),p=J([]),d=J(1),f=Bt(()=>i.value);function y(G){return G==="xs"&&p.value.length>0?[p.value.slice().pop()]:p.value}function g(G){const Z=[];return G.forEach(u=>{u in a.value&&Z.push(a.value[u].getPromise())}),Z}function b(G){C(G),I(),e.value=void 0}function x(G){P(G),I()}function A(G,Z){D(G,Z),I()}function T(G){U(G),I()}function w(G){d.value=G}function _(G){n.value=G,I()}function M(G){r.value=G}function I(){let G=n.value;const Z=[],u=350,m=12,S=600;for(let k=l.value.length-1;k>=0;k--){const z=l.value[k];let Y=z.width||u;if(r.value?Y=G:Y+=m,z.id==="grid"&&(Y=Math.max(Math.min(Y,G),S)),(G>=Y&&!r.value||Z.length===0)&&(G-=Y,Z.unshift(z)),z.id==="grid"&&G<S)break}if(t.value&&!Z.includes(t.value)&&!r.value){let k;for(let ot=0;ot<Z.length-1&&G<(t.value.width||u)+m;ot++)k=Z.shift(),G+=k.width||u;G>=(t.value.width||u)?Z.unshift(t.value):e.value||(k=Z.shift(),Z.unshift(t.value));const z=l.value.indexOf(t.value),Y=l.value.indexOf(k),pt=l.value.slice();Y>-1&&(pt.splice(z,1),pt.splice(Y,0,t.value)),l.value=pt}i.value=G,p.value=Z}function N(G){if(o.value={...o.value,[G.id]:G},G.id in a.value)a.value[G.id].resolveMe(G);else{const Z=new vn;Z.resolveMe(G),a.value={...a.value,[G.id]:Z}}}function C(G){G.teleport?c.value=[...c.value,G]:(l.value=[...l.value,G],e.value=G)}function P(G){if(G.teleport){const Z=c.value.indexOf(G);Z!==-1&&(c.value=[...c.value.slice(0,Z),...c.value.slice(Z+1)])}else{const Z=l.value.indexOf(G);Z!==-1&&(l.value=[...l.value.slice(0,Z),...l.value.slice(Z+1)])}}function D(G,Z){const u=l.value.indexOf(G),m=Z==="right"?1:-1;p.value.includes(l.value[u+m])&&([l.value[u],l.value[u+m]]=[l.value[u+m],l.value[u]])}function U(G){o.value[G.id]!==void 0&&delete o.value[G.id],a.value[G.id]!==void 0&&delete a.value[G.id];const Z=p.value.indexOf(G);Z!==-1&&(p.value=[...p.value.slice(0,Z),...p.value.slice(Z+1)]),t.value&&t.value.id==G.id&&(t.value=void 0)}function j(G){a.value={...a.value,[G]:new vn}}return{items:o,regPromises:a,orderedItems:l,pinned:t,priority:e,visible:p,opacity:d,stackWidth:n,remWidth:i,mobileView:r,reorderable:s,teleported:c,getRemainingWidth:f,getVisible:y,getRegPromises:g,openPanel:b,closePanel:x,movePanel:A,removePanel:T,setOpacity:w,setStackWidth:_,setMobileView:M,updateVisible:I,registerPanel:N,addRegPromise:j}}),fwt=Yt({__name:"panel-stack",setup(t){pA(p=>({"3d36ee4c":r.value}));const e=ic(),n=In("iApi"),i=J(),r=Bt(()=>e.opacity),s=Bt(()=>e.mobileView);ni(()=>{new ResizeObserver(p=>{const d=!(n.$vApp.$root?.$refs["app-size"]).classList.contains("sm");s.value!==d&&(e.mobileView=d,n.event.emit(Et.RAMP_MOBILEVIEW_CHANGE,d)),e.setStackWidth(p[0].contentRect.width)}).observe(i.value?.$el)});const o=p=>e.getVisible(p),a=(p,d)=>{c(p,d,[[6,0],[0,1]])},l=(p,d)=>{const[f,y]=[p.children[0].getBoundingClientRect(),p.parentElement.getBoundingClientRect()];p.style.width=`${f.width}px`,p.style.height=`${f.height}px`,p.style.left=`${f.left-y.left}px`,p.style.position="absolute",c(p,d,[[0,-6],[1,0]])},c=(p,d,f)=>{on({targets:p,duration:300,translateY:{value:f[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:f[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:d})};return(p,d)=>(st(),ke(e2,{onEnter:a,onLeave:l,name:"panel-container",tag:"div",ref_key:"el",ref:i,class:"panel-container"},{default:wn(()=>[(st(!0),mt(Me,null,Ea(o(wt(n).screenSize),f=>(st(),ke(GU,{key:`${f.id}`,panel:f},null,8,["panel"]))),128))]),_:1},512))}}),Lo=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},mwt=Lo(fwt,[["__scopeId","data-v-717e4bd7"]]);var wr="top",bs="bottom",_s="right",xr="left",zT="auto",w0=[wr,bs,_s,xr],Kp="start",x0="end",ywt="clippingParents",$U="viewport",E0="popper",gwt="reference",UU=w0.reduce(function(t,e){return t.concat([e+"-"+Kp,e+"-"+x0])},[]),VU=[].concat(w0,[zT]).reduce(function(t,e){return t.concat([e,e+"-"+Kp,e+"-"+x0])},[]),vwt="beforeRead",bwt="read",_wt="afterRead",wwt="beforeMain",xwt="main",Ewt="afterMain",Swt="beforeWrite",Awt="write",Twt="afterWrite",Mwt=[vwt,bwt,_wt,wwt,xwt,Ewt,Swt,Awt,Twt];function Ro(t){return t?(t.nodeName||"").toLowerCase():null}function $r(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Lu(t){var e=$r(t).Element;return t instanceof e||t instanceof Element}function ws(t){var e=$r(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function BT(t){if(typeof ShadowRoot>"u")return!1;var e=$r(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Iwt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!ws(s)||!Ro(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Owt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!ws(r)||!Ro(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const Nwt={name:"applyStyles",enabled:!0,phase:"write",fn:Iwt,effect:Owt,requires:["computeStyles"]};function Do(t){return t.split("-")[0]}var Ru=Math.max,q2=Math.min,td=Math.round;function WT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zU(){return!/^((?!chrome|android).)*safari/i.test(WT())}function ed(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,s=1;e&&ws(t)&&(r=t.offsetWidth>0&&td(i.width)/t.offsetWidth||1,s=t.offsetHeight>0&&td(i.height)/t.offsetHeight||1);var o=Lu(t)?$r(t):window,a=o.visualViewport,l=!zU()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,p=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/r,f=i.height/s;return{width:d,height:f,top:p,right:c+d,bottom:p+f,left:c,x:c,y:p}}function qT(t){var e=ed(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function BU(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&BT(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Fa(t){return $r(t).getComputedStyle(t)}function Cwt(t){return["table","td","th"].indexOf(Ro(t))>=0}function rc(t){return((Lu(t)?t.ownerDocument:t.document)||window.document).documentElement}function H2(t){return Ro(t)==="html"?t:t.assignedSlot||t.parentNode||(BT(t)?t.host:null)||rc(t)}function WU(t){return!ws(t)||Fa(t).position==="fixed"?null:t.offsetParent}function kwt(t){var e=/firefox/i.test(WT()),n=/Trident/i.test(WT());if(n&&ws(t)){var i=Fa(t);if(i.position==="fixed")return null}var r=H2(t);for(BT(r)&&(r=r.host);ws(r)&&["html","body"].indexOf(Ro(r))<0;){var s=Fa(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function S0(t){for(var e=$r(t),n=WU(t);n&&Cwt(n)&&Fa(n).position==="static";)n=WU(n);return n&&(Ro(n)==="html"||Ro(n)==="body"&&Fa(n).position==="static")?e:n||kwt(t)||e}function HT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function A0(t,e,n){return Ru(t,q2(e,n))}function Pwt(t,e,n){var i=A0(t,e,n);return i>n?n:i}function qU(){return{top:0,right:0,bottom:0,left:0}}function HU(t){return Object.assign({},qU(),t)}function ZU(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Lwt=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,HU(typeof t!="number"?t:ZU(t,w0))};function Rwt(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Do(n.placement),l=HT(a),c=[xr,_s].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=Lwt(r.padding,n),f=qT(s),y=l==="y"?wr:xr,g=l==="y"?bs:_s,b=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],x=o[l]-n.rects.reference[l],A=S0(s),T=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,w=b/2-x/2,_=d[y],M=T-f[p]-d[g],I=T/2-f[p]/2+w,N=A0(_,I,M),C=l;n.modifiersData[i]=(e={},e[C]=N,e.centerOffset=N-I,e)}}function Dwt(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||BU(e.elements.popper,r)&&(e.elements.arrow=r))}const Fwt={name:"arrow",enabled:!0,phase:"main",fn:Rwt,effect:Dwt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nd(t){return t.split("-")[1]}var jwt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gwt(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:td(n*r)/r||0,y:td(i*r)/r||0}}function YU(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=o.x,y=f===void 0?0:f,g=o.y,b=g===void 0?0:g,x=typeof p=="function"?p({x:y,y:b}):{x:y,y:b};y=x.x,b=x.y;var A=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=xr,_=wr,M=window;if(c){var I=S0(n),N="clientHeight",C="clientWidth";if(I===$r(n)&&(I=rc(n),Fa(I).position!=="static"&&a==="absolute"&&(N="scrollHeight",C="scrollWidth")),I=I,r===wr||(r===xr||r===_s)&&s===x0){_=bs;var P=d&&I===M&&M.visualViewport?M.visualViewport.height:I[N];b-=P-i.height,b*=l?1:-1}if(r===xr||(r===wr||r===bs)&&s===x0){w=_s;var D=d&&I===M&&M.visualViewport?M.visualViewport.width:I[C];y-=D-i.width,y*=l?1:-1}}var U=Object.assign({position:a},c&&jwt),j=p===!0?Gwt({x:y,y:b},$r(n)):{x:y,y:b};if(y=j.x,b=j.y,l){var G;return Object.assign({},U,(G={},G[_]=T?"0":"",G[w]=A?"0":"",G.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",G))}return Object.assign({},U,(e={},e[_]=T?b+"px":"",e[w]=A?y+"px":"",e.transform="",e))}function $wt(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Do(e.placement),variation:nd(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,YU(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,YU(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Uwt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$wt,data:{}};var Z2={passive:!0};function Vwt(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=$r(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,Z2)}),a&&l.addEventListener("resize",n.update,Z2),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,Z2)}),a&&l.removeEventListener("resize",n.update,Z2)}}const zwt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Vwt,data:{}};var Bwt={left:"right",right:"left",bottom:"top",top:"bottom"};function Y2(t){return t.replace(/left|right|bottom|top/g,function(e){return Bwt[e]})}var Wwt={start:"end",end:"start"};function JU(t){return t.replace(/start|end/g,function(e){return Wwt[e]})}function ZT(t){var e=$r(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function YT(t){return ed(rc(t)).left+ZT(t).scrollLeft}function qwt(t,e){var n=$r(t),i=rc(t),r=n.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=zU();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+YT(t),y:l}}function Hwt(t){var e,n=rc(t),i=ZT(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Ru(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Ru(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+YT(t),l=-i.scrollTop;return Fa(r||n).direction==="rtl"&&(a+=Ru(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function JT(t){var e=Fa(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function XU(t){return["html","body","#document"].indexOf(Ro(t))>=0?t.ownerDocument.body:ws(t)&&JT(t)?t:XU(H2(t))}function T0(t,e){var n;e===void 0&&(e=[]);var i=XU(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=$r(i),o=r?[s].concat(s.visualViewport||[],JT(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(T0(H2(o)))}function XT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Zwt(t,e){var n=ed(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function QU(t,e,n){return e===$U?XT(qwt(t,n)):Lu(e)?Zwt(e,n):XT(Hwt(rc(t)))}function Ywt(t){var e=T0(H2(t)),n=["absolute","fixed"].indexOf(Fa(t).position)>=0,i=n&&ws(t)?S0(t):t;return Lu(i)?e.filter(function(r){return Lu(r)&&BU(r,i)&&Ro(r)!=="body"}):[]}function Jwt(t,e,n,i){var r=e==="clippingParents"?Ywt(t):[].concat(e),s=[].concat(r,[n]),o=s[0],a=s.reduce(function(l,c){var p=QU(t,c,i);return l.top=Ru(p.top,l.top),l.right=q2(p.right,l.right),l.bottom=q2(p.bottom,l.bottom),l.left=Ru(p.left,l.left),l},QU(t,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function KU(t){var e=t.reference,n=t.element,i=t.placement,r=i?Do(i):null,s=i?nd(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case wr:l={x:o,y:e.y-n.height};break;case bs:l={x:o,y:e.y+e.height};break;case _s:l={x:e.x+e.width,y:a};break;case xr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?HT(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case Kp:l[c]=l[c]-(e[p]/2-n[p]/2);break;case x0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function Du(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?ywt:a,c=n.rootBoundary,p=c===void 0?$U:c,d=n.elementContext,f=d===void 0?E0:d,y=n.altBoundary,g=y===void 0?!1:y,b=n.padding,x=b===void 0?0:b,A=HU(typeof x!="number"?x:ZU(x,w0)),T=f===E0?gwt:E0,w=t.rects.popper,_=t.elements[g?T:f],M=Jwt(Lu(_)?_:_.contextElement||rc(t.elements.popper),l,p,o),I=ed(t.elements.reference),N=KU({reference:I,element:w,placement:r}),C=XT(Object.assign({},w,N)),P=f===E0?C:I,D={top:M.top-P.top+A.top,bottom:P.bottom-M.bottom+A.bottom,left:M.left-P.left+A.left,right:P.right-M.right+A.right},U=t.modifiersData.offset;if(f===E0&&U){var j=U[r];Object.keys(D).forEach(function(G){var Z=[_s,bs].indexOf(G)>=0?1:-1,u=[wr,bs].indexOf(G)>=0?"y":"x";D[G]+=j[u]*Z})}return D}function Xwt(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?VU:l,p=nd(i),d=p?a?UU:UU.filter(function(g){return nd(g)===p}):w0,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,b){return g[b]=Du(t,{placement:b,boundary:r,rootBoundary:s,padding:o})[Do(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function Qwt(t){if(Do(t)===zT)return[];var e=Y2(t);return[JU(t),e,JU(e)]}function Kwt(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,x=e.options.placement,A=Do(x),T=A===x,w=l||(T||!g?[Y2(x)]:Qwt(x)),_=[x].concat(w).reduce(function(Lt,$t){return Lt.concat(Do($t)===zT?Xwt(e,{placement:$t,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:b}):$t)},[]),M=e.rects.reference,I=e.rects.popper,N=new Map,C=!0,P=_[0],D=0;D<_.length;D++){var U=_[D],j=Do(U),G=nd(U)===Kp,Z=[wr,bs].indexOf(j)>=0,u=Z?"width":"height",m=Du(e,{placement:U,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=Z?G?_s:xr:G?bs:wr;M[u]>I[u]&&(S=Y2(S));var k=Y2(S),z=[];if(s&&z.push(m[j]<=0),a&&z.push(m[S]<=0,m[k]<=0),z.every(function(Lt){return Lt})){P=U,C=!1;break}N.set(U,z)}if(C)for(var Y=g?3:1,pt=function(Lt){var $t=_.find(function(we){var Pe=N.get(we);if(Pe)return Pe.slice(0,Lt).every(function(Ge){return Ge})});if($t)return P=$t,"break"},ot=Y;ot>0;ot--){var It=pt(ot);if(It==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}const t4t={name:"flip",enabled:!0,phase:"main",fn:Kwt,requiresIfExists:["offset"],data:{_skip:!1}};function tV(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function eV(t){return[wr,_s,bs,xr].some(function(e){return t[e]>=0})}function e4t(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=Du(e,{elementContext:"reference"}),a=Du(e,{altBoundary:!0}),l=tV(o,i),c=tV(a,r,s),p=eV(l),d=eV(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}const n4t={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:e4t};function i4t(t,e,n){var i=Do(t),r=[xr,wr].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[xr,_s].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function r4t(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=VU.reduce(function(p,d){return p[d]=i4t(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const s4t={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:r4t};function o4t(t){var e=t.state,n=t.name;e.modifiersData[n]=KU({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const a4t={name:"popperOffsets",enabled:!0,phase:"read",fn:o4t,data:{}};function l4t(t){return t==="x"?"y":"x"}function c4t(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,x=Du(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=Do(e.placement),T=nd(e.placement),w=!T,_=HT(A),M=l4t(_),I=e.modifiersData.popperOffsets,N=e.rects.reference,C=e.rects.popper,P=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,D=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(I){if(s){var G,Z=_==="y"?wr:xr,u=_==="y"?bs:_s,m=_==="y"?"height":"width",S=I[_],k=S+x[Z],z=S-x[u],Y=y?-C[m]/2:0,pt=T===Kp?N[m]:C[m],ot=T===Kp?-C[m]:-N[m],It=e.elements.arrow,Lt=y&&It?qT(It):{width:0,height:0},$t=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qU(),we=$t[Z],Pe=$t[u],Ge=A0(0,N[m],Lt[m]),Li=w?N[m]/2-Y-Ge-we-D.mainAxis:pt-Ge-we-D.mainAxis,tn=w?-N[m]/2+Y+Ge+Pe+D.mainAxis:ot+Ge+Pe+D.mainAxis,Rn=e.elements.arrow&&S0(e.elements.arrow),gi=Rn?_==="y"?Rn.clientTop||0:Rn.clientLeft||0:0,$=(G=U?.[_])!=null?G:0,F=S+Li-$-gi,H=S+tn-$,it=A0(y?q2(k,F):k,S,y?Ru(z,H):z);I[_]=it,j[_]=it-S}if(a){var et,rt=_==="x"?wr:xr,dt=_==="x"?bs:_s,L=I[M],R=M==="y"?"height":"width",W=L+x[rt],X=L-x[dt],V=[wr,xr].indexOf(A)!==-1,q=(et=U?.[M])!=null?et:0,ut=V?W:L-N[R]-C[R]-q+D.altAxis,bt=V?L+N[R]+C[R]-q-D.altAxis:X,qt=y&&V?Pwt(ut,L,bt):A0(y?ut:W,L,y?bt:X);I[M]=qt,j[M]=qt-L}e.modifiersData[i]=j}}const u4t={name:"preventOverflow",enabled:!0,phase:"main",fn:c4t,requiresIfExists:["offset"]};function h4t(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function p4t(t){return t===$r(t)||!ws(t)?ZT(t):h4t(t)}function d4t(t){var e=t.getBoundingClientRect(),n=td(e.width)/t.offsetWidth||1,i=td(e.height)/t.offsetHeight||1;return n!==1||i!==1}function f4t(t,e,n){n===void 0&&(n=!1);var i=ws(e),r=ws(e)&&d4t(e),s=rc(e),o=ed(t,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Ro(e)!=="body"||JT(s))&&(a=p4t(e)),ws(e)?(l=ed(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=YT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function m4t(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function y4t(t){var e=m4t(t);return Mwt.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function g4t(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function v4t(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var nV={placement:"bottom",modifiers:[],strategy:"absolute"};function iV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function b4t(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?nV:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},nV,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(b){var x=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:Lu(o)?T0(o):o.contextElement?T0(o.contextElement):[],popper:T0(a)};var A=y4t(v4t([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(T){return T.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var b=c.elements,x=b.reference,A=b.popper;if(iV(x,A)){c.rects={reference:f4t(x,S0(A),c.options.strategy==="fixed"),popper:qT(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var w=c.orderedModifiers[T],_=w.fn,M=w.options,I=M===void 0?{}:M,N=w.name;typeof _=="function"&&(c=_({state:c,options:I,name:N,instance:f})||c)}}}},update:g4t(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),d=!0}};if(!iV(o,a))return f;f.setOptions(l).then(function(b){!d&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var x=b.name,A=b.options,T=A===void 0?{}:A,w=b.effect;if(typeof w=="function"){var _=w({state:c,name:x,instance:f,options:T}),M=function(){};p.push(_||M)}})}function g(){p.forEach(function(b){return b()}),p=[]}return f}}var _4t=[zwt,a4t,Uwt,Nwt,s4t,t4t,u4t,Fwt,n4t],rV=b4t({defaultModifiers:_4t});const w4t=["content","aria-label"],QT=Yt({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(t){const e=J(!1),n=J(null),i=Zn([]),r=J(),s=J(),o=J(),a=t;i.push(Vn(e,()=>{n.value.update()}));const l=()=>{e.value=!e.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:e.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},p=()=>{o.value._tippy.hide()};return ni(()=>{window.addEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{e.value=!1}),window.addEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",p),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",p),Rr(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:f}){const{bottom:y}=Du(f);y>0?(f.styles.popper.overflowY=y>100?"auto":void 0,f.styles.popper.overflowX="hidden",f.styles.popper.height=`${f.rects.popper.height-y-8}px`):f.styles.popper.height="auto"}};o.value&&s.value&&(n.value=rV(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),hs(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{e.value=!1}),window.removeEventListener("focusin",d=>{(!r.value||!r.value.contains(d.target))&&(e.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",p),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",p),e.value=!1}),(d,f)=>{const y=be("tippy");return st(),mt("div",{ref_key:"el",ref:r},[ve((st(),mt("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:t.tooltip,"aria-label":t.ariaLabel?String(t.ariaLabel):String(t.tooltip),ref_key:"dropdownTrigger",ref:o},[ps(d.$slots,"header")],8,w4t)),[[y,{placement:t.tooltipPlacement,theme:t.tooltipTheme,animation:t.tooltipAnimation,trigger:"manual"}]]),ve(nt("div",{onClick:f[0]||(f[0]=g=>n.value.update()),class:Xe(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":t.centered}]),ref_key:"dropdown",ref:s},[ps(d.$slots,"default",{close:()=>e.value=!e.value})],2),[[Zm,e.value]])],512)}}}),Fo=We("notification",()=>{let t=0;const e=J([]),n=J({}),i=Bt(()=>e.value.length>=99?99:e.value.length);function r(p){const d={...p,id:`notif-${t++}`};e.value=[d,...e.value]}function s(p){if(e.value.includes(p)){const d=e.value.indexOf(p);p instanceof sV&&c(p),d>-1&&e.value.splice(d,1)}}function o(p){n.value[p.id]=p}function a(p,d){n.value[p]&&(n.value[p].messageList.push(d),e.value.includes(n.value[p])||(e.value=[n.value[p],...e.value]))}function l(){Object.values(n.value).forEach(p=>c(p)),e.value=[]}function c(p){const d=e.value.indexOf(p);d>-1&&e.value.splice(d,1),p.messageList=[]}return{notificationStack:e,groups:n,notificationNumber:i,showNotification:r,removeNotification:s,registerGroup:o,addToGroup:a,clearAll:l}}),x4t={class:"h-full flex flex-col"},E4t={class:"w-full flex mb-6"},S4t=["content","aria-label"],A4t=Yt({__name:"screen",props:{panel:{type:Object,required:!0}},setup(t){const e=Fo(),{t:n}=He(),i=Bt(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=xn("panel-screen"),l=be("tippy");return st(),ke(a,{panel:t.panel},{header:wn(()=>[Xs(ge(wt(n)("notifications.title")),1)]),content:wn(()=>[nt("div",x4t,[nt("div",E4t,[ve((st(),mt("button",{type:"button",onClick:r,class:Xe(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:wt(n)("notifications.controls.clearAll"),"aria-label":wt(n)("notifications.controls.clearAll")},o[0]||(o[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[nt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),nt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),nt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),nt("path",{d:"M22 22l-5 -5"}),nt("path",{d:"M17 22l5 -5"})],-1)]),10,S4t)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),zt(oV,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var Ur=(t=>(t.ERROR="error",t.INFO="info",t.WARNING="warning",t))(Ur||{});class T4t extends _n{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":Be(A4t)},alertName:"notifications.title"}}),this.notificationStore=Fo(this.$vApp.$pinia)}show(e,n){this.notificationStore.showNotification({type:e,message:n})}addGroup(e,n,i){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const r=new sV(this.$iApi,e,n,i);return this.notificationStore.registerGroup(r),r}getGroup(e){return this.notificationStore.groups[e]}}class sV extends _n{notificationStore=Fo(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,n,i,r){super(e),this.id=n,this.type=i,this.message=r}show(e){this.notificationStore.addToGroup(this.id,e)}}const M4t=["content"],I4t={class:"flex items-center text-left"},O4t={class:"select-text cursor-text"},N4t=["content","aria-label"],C4t={key:0,class:"text-left"},k4t=Yt({__name:"notification-item",props:{notification:{type:Object,required:!0}},emits:["remove"],setup(t,{emit:e}){const{t:n}=He(),i=e,r=t,s=J(!1),o=Zn({[Ur.WARNING]:"\u26A0",[Ur.INFO]:"\u2139\uFE0F",[Ur.ERROR]:"\u274C"}),a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const p=be("tippy");return ve((st(),mt("li",{class:Xe(["flex-col default-focus-style p-4",t.notification.messageList?"cursor-pointer":""]),content:wt(n)(s.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>s.value=!s.value)},[nt("div",I4t,[nt("span",null,[Xs(ge(o[t.notification.type])+" ",1),nt("span",O4t,ge(t.notification.message),1)]),c[4]||(c[4]=nt("span",{class:"flex-grow"},null,-1)),t.notification.messageList?(st(),mt("div",{key:0,class:Xe(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":s.value}])},c[2]||(c[2]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[nt("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Ie("",!0),ve((st(),mt("button",{type:"button",onClick:c[0]||(c[0]=Dp(()=>i("remove"),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:wt(n)("notifications.controls.dismiss"),"aria-label":wt(n)("notifications.controls.dismiss")},c[3]||(c[3]=[nt("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[nt("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,N4t)),[[p,{theme:"ramp4",animation:"scale"}]])]),t.notification.messageList&&s.value?(st(),mt("div",C4t,[(st(!0),mt(Me,null,Ea(t.notification.messageList,(d,f)=>(st(),mt("p",{key:t.notification.id+d+f},ge(d),1))),128))])):Ie("",!0)],10,M4t)),[[p,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),P4t=["content"],L4t={key:0,class:"w-full border-b border-black"},R4t={key:1,class:"flex flex-col items-center h-full"},oV=Yt({__name:"notification-list",setup(t){const e=Fo(),{t:n}=He(),i=J(),r=J({}),s=()=>{i.value._tippy.hide()},o=c=>{c.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()},a=c=>{const p=c<l.value.length-1?c:c-1;e.removeNotification(l.value[c]);const d=l.value[p];d&&Rr(()=>{const f=r.value[d.id].$el??r.value[d.id];if(f){const y=new CustomEvent("switchFocusItem",{detail:{focusItem:f},bubbles:!0});f.dispatchEvent(y)}})};ni(()=>{i.value?.addEventListener("blur",s),i.value?.addEventListener("keyup",o)}),hs(()=>{i.value?.removeEventListener("blur",s),i.value?.removeEventListener("keyup",o)});const l=Bt(()=>e.notificationStack);return(c,p)=>{const d=be("focus-item"),f=be("focus-list"),y=be("tippy");return st(),mt("div",null,[l.value.length>0?ve((st(),mt("ul",{key:0,content:wt(n)("panels.controls.items"),ref_key:"el",ref:i,class:"h-full overflow-y-auto"},[(st(!0),mt(Me,null,Ea(l.value,(g,b)=>(st(),mt(Me,{key:g.id},[b>0?(st(),mt("div",L4t)):Ie("",!0),ve(zt(k4t,{ref_for:!0,ref:x=>x?r.value[g.id]=x:delete r.value[g.id],class:Xe([g.type]),notification:g,onRemove:x=>a(b)},null,8,["class","notification","onRemove"]),[[d]])],64))),128))],8,P4t)),[[f],[y,{trigger:"manual",placement:"top-start",touch:!1}]]):(st(),mt("div",R4t,[p[0]||(p[0]=nt("span",{class:"flex-grow"},null,-1)),p[1]||(p[1]=nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[nt("path",{d:"M0 0h24v24H0z",fill:"none"}),nt("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),nt("span",null,ge(wt(n)("notifications.empty")),1),p[2]||(p[2]=nt("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),D4t={class:"flex items-center hover:text-white"},F4t=["aria-label"],j4t={key:0,class:"number rounded-full w-18 text-white"},G4t={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},$4t={class:"pb-8 border-b border-gray-600"},U4t={class:"absolute flex right-3 top-3"},V4t=["content","aria-label"],z4t=Yt({__name:"caption-button",setup(t){const e=Fo(),{t:n}=He(),i=Bt(()=>e.notificationNumber),r=()=>e.clearAll();return(s,o)=>{const a=xn("close"),l=be("tippy");return st(),ke(QT,{position:"top-start",tooltip:wt(n)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:wn(()=>[nt("div",D4t,[(st(),mt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":wt(n)("notifications.open")},o[0]||(o[0]=[nt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,F4t)),i.value&&i.value>0?(st(),mt("span",j4t,ge(i.value),1)):Ie("",!0)])]),default:wn(c=>[nt("div",G4t,[nt("div",null,[nt("h4",$4t,ge(wt(n)("notifications.title")),1),nt("div",U4t,[ve((st(),mt("button",{type:"button",onClick:r,class:Xe(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:wt(n)("notifications.controls.clearAll"),"aria-label":wt(n)("notifications.controls.clearAll")},o[1]||(o[1]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[nt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),nt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),nt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),nt("path",{d:"M22 22l-5 -5"}),nt("path",{d:"M17 22l5 -5"})],-1)]),10,V4t)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),zt(a,{onClick:c.close},null,8,["onClick"])])]),zt(oV,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),B4t=Lo(z4t,[["__scopeId","data-v-3623a7d2"]]),W4t={class:"flex hover:text-white"},q4t=["aria-label"],H4t={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},Z4t=["aria-label","content"],Y4t={class:"pb-8 pt-1 border-b border-gray-600 mb-10"},J4t={class:"absolute right-5 top-5"},X4t={class:"select-text"},Q4t={class:"font-bold cursor-text"},K4t={class:"text-sm cursor-text"},t3t={class:"font-bold cursor-text"},e3t={class:"ml-5 cursor-text"},n3t=Yt({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(t){const{t:e}=He(),n=In("iApi"),i=()=>{n.reload()},r=Bt(()=>`${vd.major}.${vd.minor}.${vd.patch}`),s=Bt(()=>vd.hash.slice(0,9)),o=Bt(()=>{const a=new Date(vd.timestamp);if(isNaN(a.getTime()))return["dev mode","no date"];{const l=c=>c<10?"0"+c.toString():c.toString();return[`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,`${a.getHours()}:${l(a.getMinutes())}:${l(a.getSeconds())}`]}});return(a,l)=>{const c=xn("close"),p=xn("dropdown-menu"),d=be("tippy"),f=be("focus-item");return ve((st(),ke(p,{class:"pointer-events-auto sm:flex",position:t.position,tooltip:wt(e)("ramp.about"),tooltipPlacement:t.position},{header:wn(()=>[nt("div",W4t,[(st(),mt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":wt(e)("ramp.about.open")},l[0]||(l[0]=[nt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,q4t))])]),default:wn(y=>[nt("div",H4t,[nt("div",null,[ve((st(),mt("button",{class:"absolute left-5 top-5 text-gray-500 hover:text-black focus:text-black p-8",onClick:i,"aria-label":wt(e)("ramp.reload"),content:wt(e)("ramp.reload")},l[1]||(l[1]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[nt("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})],-1)]),8,Z4t)),[[d,{placement:"bottom-start",theme:"ramp4",animation:"scale"}]]),nt("h4",Y4t,ge(wt(e)("ramp.about")),1),nt("div",J4t,[zt(c,{onClick:y.close},null,8,["onClick"])]),nt("div",X4t,[nt("div",null,[nt("span",Q4t,ge(r.value),1),nt("span",K4t," ["+ge(s.value)+"] ",1)]),nt("div",null,[nt("span",t3t,ge(o.value[0]),1),nt("span",e3t,ge(o.value[1]),1)]),l[2]||(l[2]=nt("div",{class:"mt-5"},[nt("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[nt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),Xs(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[f]])}}}),aV=Lo(n3t,[["__scopeId","data-v-e0d1ce9f"]]),lV="S",cV="__HELP__",KT=We("keyboardnav",()=>{const t=J(),e=J({}),n=J(!1),i=J([]),r=J(),s=J("idle"),o=["H","?"];function a(){const C="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(const P of C)if(!e.value[P]&&!o.includes(P))return P}function l(C,P){let D=C.toUpperCase();if(o.includes(D)||e.value[D]){const U=a();U?D=U:console.error("No available keyboard namespace letters")}if(!P.handler)for(const U of P.keys)U.handler||console.error(`Keyboardnav registration for ${D} requires handlers for all keys or a parent handler`);return e.value[D]=P,D}function c(C){n.value!==C&&(n.value=C)}function p(C){t.value===C&&(t.value=void 0),delete e.value[C]}function d(C,P,D){if(C){if(C==="clear"){b({event:P,suppressHandler:!0});return}if(C==="reset"){const U=D??N.activeNamespace??N.keyChain[1];if(!U){b({suppressHandler:!0});return}x([lV,U]),w(void 0),_("awaitAction"),N.activeNamespace=U}}}function f(C,P,D){t.value=C,!D?.suppressHandler&&e.value[C]?.activeHandler?.(N,P)}function y(C,P){t.value&&!P?.suppressHandler&&e.value[t.value]?.deactiveHandler?.(N,C),t.value=void 0}function g(C,P){const D=t.value;if(!D)return;const U=e.value[D];if(!U)return;if(U.handler){const Z=U.handler(N,P,C);return d(Z,P,D),{namespace:D,key:C,chainAction:Z??void 0}}const j=U.keys.find(Z=>Z.key===C);if(!j)return;const G=j.handler?.(N,P);return d(G,P,D),{namespace:D,key:j.key,chainAction:G??void 0}}function b(C){y(C?.event,{suppressHandler:C?.suppressHandler}),C?.preserveChain||(i.value=[]),C?.preserveLastAction||(r.value=void 0),s.value="idle"}function x(C){i.value=[...C]}function A(C){i.value=[...i.value,C]}function T(){if(!i.value.length)return;const C=[...i.value],P=C.pop();return i.value=C,P}function w(C){r.value=C}function _(C){s.value=C}function M(C){y(C?.event,{suppressHandler:!0}),s.value="complete"}const I={activeNamespace:t,namespaces:e,helpVisible:n,keyChain:i,lastAction:r,chainState:s,register:l,unregister:p,activate:f,deactivate:y,trigger:g,setHelpVisible:c,resetChain:b,setChain:x,appendKey:A,popChain:T,setLastAction:w,setChainState:_,finalizeChain:M},N=I;return I}),i3t={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},r3t={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},s3t=["href","aria-label"],o3t=["src","alt"],a3t={key:1,class:"relative ml-10 top-2 text-sm sm:text-base font-mono flex items-center gap-2","aria-live":"polite"},l3t={class:"chain-content"},c3t={class:"chain-keys"},u3t={key:0,class:"chain-cursor"},h3t={key:1,class:"chain-options"},p3t={key:0},d3t={key:2,class:"relative ml-10 top-2 text-sm sm:text-base"},f3t={class:"flex min-w-fit justify-end"},m3t={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},y3t=["aria-pressed","aria-label","content"],g3t={class:"relative top-1 text-sm sm:text-base"},v3t={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},b3t=["onClick"],_3t={key:0,class:"sr-only"},w3t=Yt({__name:"map-caption",setup(t){const e=Xl(),n=KT(),i=Ki(),{t:r}=He(),s=In("iApi"),o=Bt(()=>e.scale),a=Bt(()=>e.attribution),l=Bt(()=>e.coords),c=Bt(()=>e.langtoggle),p=Bt(()=>i.config.map),{keyChain:d,lastAction:f,chainState:y,namespaces:g,activeNamespace:b}=fG(n),x=Bt(()=>{if(!d.value.length)return;const N=d.value.join(" "),C=y.value==="awaitNamespace"||y.value==="awaitAction";let P;const D=f.value;if(D)if(D.namespace===cV)P=r("keyboardnav.chain.help");else{const j=`keyboardnav.key.${D.namespace}.${D.key}`,G=r(j);G!==j&&(P=G)}let U;if(y.value==="awaitNamespace"){const j=`H - ${r("keyboardnav.chain.help")}`,G=Object.keys(g.value).map(Z=>{const u=`keyboardnav.ns.${Z}`,m=r(u);return`${Z} - ${m===u?Z:m}`});U=`[${[j,...G].join(", ")}]`}else if(y.value==="awaitAction"){const j=b.value??d.value[1],G=j?g.value[j]:void 0;G&&G.keys?.length&&(U=`[${G.keys.map(Z=>{const u=`keyboardnav.key.${j}.${Z.key}`,m=r(u),S=m===u?Z.key:m;return`${Z.key} - ${S}`}).join(", ")}]`)}return{keys:N,options:U,description:P,cursor:C&&!!U}}),A=J([]),T=Zn([]);T.push(Vn(p,N=>{N&&s.geo.map.caption.createCaption(p.value?.caption)})),hs(()=>{T.forEach(N=>N())}),gu(()=>{Rr(()=>{s.$i18n.locale.value&&A.value.length==0&&(A.value=s.$i18n.availableLocales)})});const w=()=>a.value?.logo?.link&&a.value?.logo?.value&&!a.value?.logo?.disabled,_=N=>{s.$i18n.locale.value!=N&&s.setLanguage(N)},M=()=>{e.toggleScale(),s.geo.map.caption.updateScale()},I=(N=!1)=>r(N?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(N,C)=>{const P=xn("dropdown-menu"),D=be("truncate"),U=be("tippy");return st(),mt("div",i3t,[zt(aV,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),zt(B4t,{class:"sm:block display-none"}),w()?(st(),mt("span",r3t,[nt("a",{class:"pointer-events-auto cursor-pointer",href:a.value?.logo.link,target:"_blank","aria-label":a.value?.logo.altText},[nt("img",{class:"object-contain h-18 sm:h-26",src:a.value?.logo.value,alt:a.value?.logo.altText},null,8,o3t)],8,s3t)])):Ie("",!0),x.value?(st(),mt("span",a3t,[nt("span",l3t,[C[0]||(C[0]=nt("span",{class:"chain-colon"},":",-1)),nt("span",c3t,ge(x.value.keys),1),x.value.cursor?(st(),mt("span",u3t,"_")):Ie("",!0),x.value.options?(st(),mt("span",h3t,ge(x.value.options),1)):Ie("",!0)]),x.value.description?(st(),mt("span",p3t,"- "+ge(x.value.description)+"...",1)):Ie("",!0)])):a.value?.text.disabled?Ie("",!0):ve((st(),mt("span",d3t,[Xs(ge(a.value?.text.value),1)])),[[D,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),C[1]||(C[1]=nt("span",{class:"flex-grow w-15"},null,-1)),nt("div",f3t,[l.value?.disabled?Ie("",!0):ve((st(),mt("div",m3t,[Xs(ge(l.value?.formattedString),1)])),[[D,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),o.value?.disabled?Ie("",!0):ve((st(),mt("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:M,"aria-pressed":o.value?.isImperialScale,"aria-label":`
                    ${o.value?.label} - ${I(o.value?.isImperialScale)}
                `,content:I(o.value?.isImperialScale)},[nt("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:ma({width:o.value?.width})},null,4),nt("span",g3t,ge(o.value?.label),1)],8,y3t)),[[U,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),c.value?.disabled?Ie("",!0):(st(),ke(P,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:wt(r)("map.changeLanguage"),ariaLabel:`${wt(r)("map.language.short")} - ${wt(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:wn(()=>[nt("span",v3t,ge(wt(r)("map.language.short")),1)]),default:wn(()=>[(st(!0),mt(Me,null,Ea(A.value,(j,G)=>(st(),mt("a",{key:`${j}-${G}`,class:Xe(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":j===wt(s).$i18n.locale.value}]),href:"javascript:;",onClick:Z=>_(j)},[Xs(ge(wt(r)("map.language."+j))+" ",1),j===wt(s).$i18n.locale.value?(st(),mt("span",_3t,ge(wt(r)("map.language.curr")),1)):Ie("",!0)],10,b3t))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),x3t=["content","aria-label"],E3t={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},S3t=Yt({__name:"floating-button",setup(t){const e=Fo(),n=In("iApi"),{t:i}=He(),r=Bt(()=>e.notificationNumber);return(s,o)=>{const a=be("tippy");return ve((st(),mt("button",{type:"button",onClick:o[0]||(o[0]=l=>wt(n).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:wt(i)("notifications.title"),"aria-label":wt(i)("notifications.title")},[o[1]||(o[1]=nt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[nt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),r.value&&r.value>0?(st(),mt("span",E3t,ge(r.value),1)):Ie("",!0)],8,x3t)),[[a]])}}}),A3t=Lo(S3t,[["__scopeId","data-v-a451db5c"]]),T3t={class:"flex items-center mb-20"},M3t={class:"text-xl"},I3t=Yt({__name:"keyboard-instructions",setup(t){const e=In("iApi"),{t:n}=He(),i=J(!1),r=J(["app","lists","map","keyboardNav"]),s=J([]),o=J(null),a=J(null);ni(()=>{s.value.push(e.event.on("openKeyboardInstructions",()=>{i.value=!0,Rr(()=>{o.value.focus()})}))}),hs(()=>{s.value.forEach(c=>e.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,p)=>{const d=xn("close");return i.value?(st(),mt("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:p[3]||(p[3]=f=>i.value=!1),onKeydown:l},[nt("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col keyboard-instructions-modal-content",onClick:p[2]||(p[2]=Dp(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[nt("div",T3t,[nt("h2",M3t,ge(wt(n)("keyboardInstructions.title")),1),zt(d,{class:"ml-auto",onClick:p[0]||(p[0]=f=>i.value=!1)})]),(st(!0),mt(Me,null,Ea(r.value,f=>(st(),mt("p",{class:"whitespace-pre-line pb-10",key:f},ge(wt(n)(`keyboardInstructions.${f}`)),1))),128)),nt("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:p[1]||(p[1]=f=>i.value=!1),ref_key:"lastEl",ref:a},ge(wt(n)("keyboardInstructions.OK")),513)],512)],32)):Ie("",!0)}}}),id=We("instance",()=>({started:J(!1)})),O3t={class:"h-full relative"},N3t={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},C3t={class:"absolute top-8 w-full flex justify-center"},k3t={key:1,class:"w-full h-full"},P3t=Yt({__name:"shell",setup(t){const e=In("iApi"),n=id(),i=gs(),r=ic(),{t:s}=He(),o=Bt(()=>i.items.appbar),a=()=>{e.event.emit("openKeyboardInstructions")},l=()=>r.teleported;return(c,p)=>(st(),mt("div",O3t,[nt("div",N3t,[p[0]||(p[0]=nt("div",{class:"sr-only screen-reader-alert"},null,-1)),nt("div",C3t,[nt("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},ge(wt(s)("keyboardInstructions.open")),1)]),zt(I3t,{class:"keyboard-instructions-modal"}),zt(mwt,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Ie("",!0):(st(),ke(A3t,{key:0})),zt(w3t,{class:"z-30"})]),wt(n).started?(st(),ke(F_t,{key:0})):(st(),mt("div",k3t,p[1]||(p[1]=[nt("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(st(!0),mt(Me,null,Ea(l(),d=>(st(),ke(vS,{to:d.teleport?.target,key:d.id},[(st(),ke(GU,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),L3t=Lo(P3t,[["__scopeId","data-v-3d441124"]]);var Er="top",xs="bottom",Es="right",Sr="left",t5="auto",M0=[Er,xs,Es,Sr],rd="start",I0="end",R3t="clippingParents",uV="viewport",O0="popper",D3t="reference",hV=M0.reduce(function(t,e){return t.concat([e+"-"+rd,e+"-"+I0])},[]),pV=[].concat(M0,[t5]).reduce(function(t,e){return t.concat([e,e+"-"+rd,e+"-"+I0])},[]),F3t="beforeRead",j3t="read",G3t="afterRead",$3t="beforeMain",U3t="main",V3t="afterMain",z3t="beforeWrite",B3t="write",W3t="afterWrite",q3t=[F3t,j3t,G3t,$3t,U3t,V3t,z3t,B3t,W3t];function jo(t){return t?(t.nodeName||"").toLowerCase():null}function ro(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function sd(t){var e=ro(t).Element;return t instanceof e||t instanceof Element}function Ss(t){var e=ro(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function dV(t){if(typeof ShadowRoot>"u")return!1;var e=ro(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function H3t(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},s=e.elements[n];!Ss(s)||!jo(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Z3t(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],s=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ss(r)||!jo(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var fV={name:"applyStyles",enabled:!0,phase:"write",fn:H3t,effect:Z3t,requires:["computeStyles"]};function Go(t){return t.split("-")[0]}var Fu=Math.max,J2=Math.min,od=Math.round;function ad(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(Ss(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(i=od(n.width)/o||1),s>0&&(r=od(n.height)/s||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function e5(t){var e=ad(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function mV(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&dV(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function $o(t){return ro(t).getComputedStyle(t)}function Y3t(t){return["table","td","th"].indexOf(jo(t))>=0}function sc(t){return((sd(t)?t.ownerDocument:t.document)||window.document).documentElement}function X2(t){return jo(t)==="html"?t:t.assignedSlot||t.parentNode||(dV(t)?t.host:null)||sc(t)}function yV(t){return!Ss(t)||$o(t).position==="fixed"?null:t.offsetParent}function J3t(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Ss(t)){var i=$o(t);if(i.position==="fixed")return null}for(var r=X2(t);Ss(r)&&["html","body"].indexOf(jo(r))<0;){var s=$o(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function N0(t){for(var e=ro(t),n=yV(t);n&&Y3t(n)&&$o(n).position==="static";)n=yV(n);return n&&(jo(n)==="html"||jo(n)==="body"&&$o(n).position==="static")?e:n||J3t(t)||e}function n5(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function C0(t,e,n){return Fu(t,J2(e,n))}function X3t(t,e,n){var i=C0(t,e,n);return i>n?n:i}function gV(){return{top:0,right:0,bottom:0,left:0}}function vV(t){return Object.assign({},gV(),t)}function bV(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var Q3t=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,vV(typeof t!="number"?t:bV(t,M0))};function K3t(t){var e,n=t.state,i=t.name,r=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Go(n.placement),l=n5(a),c=[Sr,Es].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=Q3t(r.padding,n),f=e5(s),y=l==="y"?Er:Sr,g=l==="y"?xs:Es,b=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],x=o[l]-n.rects.reference[l],A=N0(s),T=A?l==="y"?A.clientHeight||0:A.clientWidth||0:0,w=b/2-x/2,_=d[y],M=T-f[p]-d[g],I=T/2-f[p]/2+w,N=C0(_,I,M),C=l;n.modifiersData[i]=(e={},e[C]=N,e.centerOffset=N-I,e)}}function txt(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||mV(e.elements.popper,r)&&(e.elements.arrow=r))}var ext={name:"arrow",enabled:!0,phase:"main",fn:K3t,effect:txt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ld(t){return t.split("-")[1]}var nxt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ixt(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:od(e*r)/r||0,y:od(n*r)/r||0}}function _V(t){var e,n=t.popper,i=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=p===!0?ixt(o):typeof p=="function"?p(o):o,y=f.x,g=y===void 0?0:y,b=f.y,x=b===void 0?0:b,A=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),w=Sr,_=Er,M=window;if(c){var I=N0(n),N="clientHeight",C="clientWidth";if(I===ro(n)&&(I=sc(n),$o(I).position!=="static"&&a==="absolute"&&(N="scrollHeight",C="scrollWidth")),I=I,r===Er||(r===Sr||r===Es)&&s===I0){_=xs;var P=d&&M.visualViewport?M.visualViewport.height:I[N];x-=P-i.height,x*=l?1:-1}if(r===Sr||(r===Er||r===xs)&&s===I0){w=Es;var D=d&&M.visualViewport?M.visualViewport.width:I[C];g-=D-i.width,g*=l?1:-1}}var U=Object.assign({position:a},c&&nxt);if(l){var j;return Object.assign({},U,(j={},j[_]=T?"0":"",j[w]=A?"0":"",j.transform=(M.devicePixelRatio||1)<=1?"translate("+g+"px, "+x+"px)":"translate3d("+g+"px, "+x+"px, 0)",j))}return Object.assign({},U,(e={},e[_]=T?x+"px":"",e[w]=A?g+"px":"",e.transform="",e))}function rxt(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Go(e.placement),variation:ld(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_V(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_V(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var sxt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rxt,data:{}},Q2={passive:!0};function oxt(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,s=r===void 0?!0:r,o=i.resize,a=o===void 0?!0:o,l=ro(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,Q2)}),a&&l.addEventListener("resize",n.update,Q2),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,Q2)}),a&&l.removeEventListener("resize",n.update,Q2)}}var axt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:oxt,data:{}},lxt={left:"right",right:"left",bottom:"top",top:"bottom"};function K2(t){return t.replace(/left|right|bottom|top/g,function(e){return lxt[e]})}var cxt={start:"end",end:"start"};function wV(t){return t.replace(/start|end/g,function(e){return cxt[e]})}function i5(t){var e=ro(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function r5(t){return ad(sc(t)).left+i5(t).scrollLeft}function uxt(t){var e=ro(t),n=sc(t),i=e.visualViewport,r=n.clientWidth,s=n.clientHeight,o=0,a=0;return i&&(r=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:r,height:s,x:o+r5(t),y:a}}function hxt(t){var e,n=sc(t),i=i5(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=Fu(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=Fu(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+r5(t),l=-i.scrollTop;return $o(r||n).direction==="rtl"&&(a+=Fu(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function s5(t){var e=$o(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function xV(t){return["html","body","#document"].indexOf(jo(t))>=0?t.ownerDocument.body:Ss(t)&&s5(t)?t:xV(X2(t))}function k0(t,e){var n;e===void 0&&(e=[]);var i=xV(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=ro(i),o=r?[s].concat(s.visualViewport||[],s5(i)?i:[]):i,a=e.concat(o);return r?a:a.concat(k0(X2(o)))}function o5(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pxt(t){var e=ad(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function EV(t,e){return e===uV?o5(uxt(t)):sd(e)?pxt(e):o5(hxt(sc(t)))}function dxt(t){var e=k0(X2(t)),n=["absolute","fixed"].indexOf($o(t).position)>=0,i=n&&Ss(t)?N0(t):t;return sd(i)?e.filter(function(r){return sd(r)&&mV(r,i)&&jo(r)!=="body"&&(n?$o(r).position!=="static":!0)}):[]}function fxt(t,e,n){var i=e==="clippingParents"?dxt(t):[].concat(e),r=[].concat(i,[n]),s=r[0],o=r.reduce(function(a,l){var c=EV(t,l);return a.top=Fu(c.top,a.top),a.right=J2(c.right,a.right),a.bottom=J2(c.bottom,a.bottom),a.left=Fu(c.left,a.left),a},EV(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function SV(t){var e=t.reference,n=t.element,i=t.placement,r=i?Go(i):null,s=i?ld(i):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(r){case Er:l={x:o,y:e.y-n.height};break;case xs:l={x:o,y:e.y+e.height};break;case Es:l={x:e.x+e.width,y:a};break;case Sr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?n5(r):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case rd:l[c]=l[c]-(e[p]/2-n[p]/2);break;case I0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function P0(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,s=n.boundary,o=s===void 0?R3t:s,a=n.rootBoundary,l=a===void 0?uV:a,c=n.elementContext,p=c===void 0?O0:c,d=n.altBoundary,f=d===void 0?!1:d,y=n.padding,g=y===void 0?0:y,b=vV(typeof g!="number"?g:bV(g,M0)),x=p===O0?D3t:O0,A=t.rects.popper,T=t.elements[f?x:p],w=fxt(sd(T)?T:T.contextElement||sc(t.elements.popper),o,l),_=ad(t.elements.reference),M=SV({reference:_,element:A,placement:r}),I=o5(Object.assign({},A,M)),N=p===O0?I:_,C={top:w.top-N.top+b.top,bottom:N.bottom-w.bottom+b.bottom,left:w.left-N.left+b.left,right:N.right-w.right+b.right},P=t.modifiersData.offset;if(p===O0&&P){var D=P[r];Object.keys(C).forEach(function(U){var j=[Es,xs].indexOf(U)>=0?1:-1,G=[Er,xs].indexOf(U)>=0?"y":"x";C[U]+=D[G]*j})}return C}function mxt(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?pV:l,p=ld(i),d=p?a?hV:hV.filter(function(g){return ld(g)===p}):M0,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,b){return g[b]=P0(t,{placement:b,boundary:r,rootBoundary:s,padding:o})[Go(b)],g},{});return Object.keys(y).sort(function(g,b){return y[g]-y[b]})}function yxt(t){if(Go(t)===t5)return[];var e=K2(t);return[wV(t),e,wV(e)]}function gxt(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,b=n.allowedAutoPlacements,x=e.options.placement,A=Go(x),T=A===x,w=l||(T||!g?[K2(x)]:yxt(x)),_=[x].concat(w).reduce(function(Lt,$t){return Lt.concat(Go($t)===t5?mxt(e,{placement:$t,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:b}):$t)},[]),M=e.rects.reference,I=e.rects.popper,N=new Map,C=!0,P=_[0],D=0;D<_.length;D++){var U=_[D],j=Go(U),G=ld(U)===rd,Z=[Er,xs].indexOf(j)>=0,u=Z?"width":"height",m=P0(e,{placement:U,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),S=Z?G?Es:Sr:G?xs:Er;M[u]>I[u]&&(S=K2(S));var k=K2(S),z=[];if(s&&z.push(m[j]<=0),a&&z.push(m[S]<=0,m[k]<=0),z.every(function(Lt){return Lt})){P=U,C=!1;break}N.set(U,z)}if(C)for(var Y=g?3:1,pt=function(Lt){var $t=_.find(function(we){var Pe=N.get(we);if(Pe)return Pe.slice(0,Lt).every(function(Ge){return Ge})});if($t)return P=$t,"break"},ot=Y;ot>0;ot--){var It=pt(ot);if(It==="break")break}e.placement!==P&&(e.modifiersData[i]._skip=!0,e.placement=P,e.reset=!0)}}var vxt={name:"flip",enabled:!0,phase:"main",fn:gxt,requiresIfExists:["offset"],data:{_skip:!1}};function AV(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function TV(t){return[Er,Es,xs,Sr].some(function(e){return t[e]>=0})}function bxt(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=P0(e,{elementContext:"reference"}),a=P0(e,{altBoundary:!0}),l=AV(o,i),c=AV(a,r,s),p=TV(l),d=TV(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}var _xt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:bxt};function wxt(t,e,n){var i=Go(t),r=[Sr,Er].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Sr,Es].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function xxt(t){var e=t.state,n=t.options,i=t.name,r=n.offset,s=r===void 0?[0,0]:r,o=pV.reduce(function(p,d){return p[d]=wxt(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}var Ext={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:xxt};function Sxt(t){var e=t.state,n=t.name;e.modifiersData[n]=SV({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var Axt={name:"popperOffsets",enabled:!0,phase:"read",fn:Sxt,data:{}};function Txt(t){return t==="x"?"y":"x"}function Mxt(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,s=r===void 0?!0:r,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,b=g===void 0?0:g,x=P0(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),A=Go(e.placement),T=ld(e.placement),w=!T,_=n5(A),M=Txt(_),I=e.modifiersData.popperOffsets,N=e.rects.reference,C=e.rects.popper,P=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,D=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),U=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(I){if(s){var G,Z=_==="y"?Er:Sr,u=_==="y"?xs:Es,m=_==="y"?"height":"width",S=I[_],k=S+x[Z],z=S-x[u],Y=y?-C[m]/2:0,pt=T===rd?N[m]:C[m],ot=T===rd?-C[m]:-N[m],It=e.elements.arrow,Lt=y&&It?e5(It):{width:0,height:0},$t=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:gV(),we=$t[Z],Pe=$t[u],Ge=C0(0,N[m],Lt[m]),Li=w?N[m]/2-Y-Ge-we-D.mainAxis:pt-Ge-we-D.mainAxis,tn=w?-N[m]/2+Y+Ge+Pe+D.mainAxis:ot+Ge+Pe+D.mainAxis,Rn=e.elements.arrow&&N0(e.elements.arrow),gi=Rn?_==="y"?Rn.clientTop||0:Rn.clientLeft||0:0,$=(G=U?.[_])!=null?G:0,F=S+Li-$-gi,H=S+tn-$,it=C0(y?J2(k,F):k,S,y?Fu(z,H):z);I[_]=it,j[_]=it-S}if(a){var et,rt=_==="x"?Er:Sr,dt=_==="x"?xs:Es,L=I[M],R=M==="y"?"height":"width",W=L+x[rt],X=L-x[dt],V=[Er,Sr].indexOf(A)!==-1,q=(et=U?.[M])!=null?et:0,ut=V?W:L-N[R]-C[R]-q+D.altAxis,bt=V?L+N[R]+C[R]-q-D.altAxis:X,qt=y&&V?X3t(ut,L,bt):C0(y?ut:W,L,y?bt:X);I[M]=qt,j[M]=qt-L}e.modifiersData[i]=j}}var Ixt={name:"preventOverflow",enabled:!0,phase:"main",fn:Mxt,requiresIfExists:["offset"]};function Oxt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Nxt(t){return t===ro(t)||!Ss(t)?i5(t):Oxt(t)}function Cxt(t){var e=t.getBoundingClientRect(),n=od(e.width)/t.offsetWidth||1,i=od(e.height)/t.offsetHeight||1;return n!==1||i!==1}function kxt(t,e,n){n===void 0&&(n=!1);var i=Ss(e),r=Ss(e)&&Cxt(e),s=sc(e),o=ad(t,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((jo(e)!=="body"||s5(s))&&(a=Nxt(e)),Ss(e)?(l=ad(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=r5(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Pxt(t){var e=new Map,n=new Set,i=[];t.forEach(function(s){e.set(s.name,s)});function r(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&r(l)}}),i.push(s)}return t.forEach(function(s){n.has(s.name)||r(s)}),i}function Lxt(t){var e=Pxt(t);return q3t.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Rxt(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Dxt(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var MV={placement:"bottom",modifiers:[],strategy:"absolute"};function IV(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Fxt(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,s=r===void 0?MV:r;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},MV,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(b){var x=typeof b=="function"?b(c.options):b;g(),c.options=Object.assign({},s,c.options,x),c.scrollParents={reference:sd(o)?k0(o):o.contextElement?k0(o.contextElement):[],popper:k0(a)};var A=Lxt(Dxt([].concat(i,c.options.modifiers)));return c.orderedModifiers=A.filter(function(T){return T.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var b=c.elements,x=b.reference,A=b.popper;if(IV(x,A)){c.rects={reference:kxt(x,N0(A),c.options.strategy==="fixed"),popper:e5(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var w=c.orderedModifiers[T],_=w.fn,M=w.options,I=M===void 0?{}:M,N=w.name;typeof _=="function"&&(c=_({state:c,options:I,name:N,instance:f})||c)}}}},update:Rxt(function(){return new Promise(function(b){f.forceUpdate(),b(c)})}),destroy:function(){g(),d=!0}};if(!IV(o,a))return f;f.setOptions(l).then(function(b){!d&&l.onFirstUpdate&&l.onFirstUpdate(b)});function y(){c.orderedModifiers.forEach(function(b){var x=b.name,A=b.options,T=A===void 0?{}:A,w=b.effect;if(typeof w=="function"){var _=w({state:c,name:x,instance:f,options:T}),M=function(){};p.push(_||M)}})}function g(){p.forEach(function(b){return b()}),p=[]}return f}}var jxt=[axt,Axt,sxt,fV,Ext,vxt,Ixt,ext,_xt],Gxt=Fxt({defaultModifiers:jxt}),$xt="tippy-box",OV="tippy-content",NV="tippy-backdrop",CV="tippy-arrow",kV="tippy-svg-arrow",ju={passive:!0,capture:!0},PV=function(){return document.body};function a5(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function l5(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function LV(t,e){return typeof t=="function"?t.apply(void 0,e):t}function RV(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Uxt(t,e){var n=Object.assign({},t);return e.forEach(function(i){delete n[i]}),n}function Vxt(t){return t.split(/\s+/).filter(Boolean)}function Gu(t){return[].concat(t)}function DV(t,e){t.indexOf(e)===-1&&t.push(e)}function zxt(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function FV(t){return t.split("-")[0]}function cd(t){return[].slice.call(t)}function jV(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function $u(){return document.createElement("div")}function tb(t){return["Element","Fragment"].some(function(e){return l5(t,e)})}function Bxt(t){return l5(t,"NodeList")}function c5(t){return l5(t,"MouseEvent")}function Wxt(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function qxt(t){return tb(t)?[t]:Bxt(t)?cd(t):Array.isArray(t)?t:cd(document.querySelectorAll(t))}function u5(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function L0(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function GV(t){var e,n=Gu(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Hxt(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var s=r.popperRect,o=r.popperState,a=r.props,l=a.interactiveBorder,c=FV(o.placement),p=o.modifiersData.offset;if(!p)return!0;var d=c==="bottom"?p.top.y:0,f=c==="top"?p.bottom.y:0,y=c==="right"?p.left.x:0,g=c==="left"?p.right.x:0,b=s.top-i+d>l,x=i-s.bottom-f>l,A=s.left-n+y>l,T=n-s.right-g>l;return b||x||A||T})}function h5(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function $V(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Uo={isTouch:!1},UV=0;function Zxt(){Uo.isTouch||(Uo.isTouch=!0,window.performance&&document.addEventListener("mousemove",VV))}function VV(){var t=performance.now();t-UV<20&&(Uo.isTouch=!1,document.removeEventListener("mousemove",VV)),UV=t}function Yxt(){var t=document.activeElement;if(Wxt(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Jxt(){document.addEventListener("touchstart",Zxt,ju),window.addEventListener("blur",Yxt)}var Xxt=typeof window<"u"&&typeof document<"u",Qxt=Xxt?!!window.msCrypto:!1,Kxt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},tEt={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},so=Object.assign({appendTo:PV,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Kxt,tEt),eEt=Object.keys(so),nEt=function(t){var e=Object.keys(t);e.forEach(function(n){so[n]=t[n]})};function zV(t){var e=t.plugins||[],n=e.reduce(function(i,r){var s=r.name,o=r.defaultValue;if(s){var a;i[s]=t[s]!==void 0?t[s]:(a=so[s])!=null?a:o}return i},{});return Object.assign({},t,n)}function iEt(t,e){var n=e?Object.keys(zV(Object.assign({},so,{plugins:e}))):eEt,i=n.reduce(function(r,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return r;if(s==="content")r[s]=o;else try{r[s]=JSON.parse(o)}catch{r[s]=o}return r},{});return i}function BV(t,e){var n=Object.assign({},e,{content:LV(e.content,[t])},e.ignoreAttributes?{}:iEt(t,e.plugins));return n.aria=Object.assign({},so.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var rEt=function(){return"innerHTML"};function p5(t,e){t[rEt()]=e}function WV(t){var e=$u();return t===!0?e.className=CV:(e.className=kV,tb(t)?e.appendChild(t):p5(e,t)),e}function qV(t,e){tb(e.content)?(p5(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?p5(t,e.content):t.textContent=e.content)}function eb(t){var e=t.firstElementChild,n=cd(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(OV)}),arrow:n.find(function(i){return i.classList.contains(CV)||i.classList.contains(kV)}),backdrop:n.find(function(i){return i.classList.contains(NV)})}}function HV(t){var e=$u(),n=$u();n.className=$xt,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=$u();i.className=OV,i.setAttribute("data-state","hidden"),qV(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(s,o){var a=eb(e),l=a.box,c=a.content,p=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&qV(c,t.props),o.arrow?p?s.arrow!==o.arrow&&(l.removeChild(p),l.appendChild(WV(o.arrow))):l.appendChild(WV(o.arrow)):p&&l.removeChild(p)}return{popper:e,onUpdate:r}}HV.$$tippy=!0;var sEt=1,nb=[],d5=[];function oEt(t,e){var n=BV(t,Object.assign({},so,zV(jV(e)))),i,r,s,o=!1,a=!1,l=!1,c=!1,p,d,f,y=[],g=RV(F,n.interactiveDebounce),b,x=sEt++,A=null,T=zxt(n.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:x,reference:t,popper:$u(),popperInstance:A,props:n,state:w,plugins:T,clearDelayTimeouts:ut,setProps:bt,setContent:qt,show:Xt,hide:an,hideWithInteractivity:Dn,enable:V,disable:q,unmount:tr,destroy:Ri};if(!n.render)return _;var M=n.render(_),I=M.popper,N=M.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+_.id,_.popper=I,t._tippy=_,I._tippy=_;var C=T.map(function(K){return K.fn(_)}),P=t.hasAttribute("aria-expanded");return Rn(),Y(),S(),k("onCreate",[_]),n.showOnCreate&&W(),I.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&Z().addEventListener("mousemove",g)}),_;function D(){var K=_.props.touch;return Array.isArray(K)?K:[K,0]}function U(){return D()[0]==="hold"}function j(){var K;return!!((K=_.props.render)!=null&&K.$$tippy)}function G(){return b||t}function Z(){var K=G().parentNode;return K?GV(K):document}function u(){return eb(I)}function m(K){return _.state.isMounted&&!_.state.isVisible||Uo.isTouch||p&&p.type==="focus"?0:a5(_.props.delay,K?0:1,so.delay)}function S(K){K===void 0&&(K=!1),I.style.pointerEvents=_.props.interactive&&!K?"":"none",I.style.zIndex=""+_.props.zIndex}function k(K,St,At){if(At===void 0&&(At=!0),C.forEach(function(Qt){Qt[K]&&Qt[K].apply(Qt,St)}),At){var Ht;(Ht=_.props)[K].apply(Ht,St)}}function z(){var K=_.props.aria;if(K.content){var St="aria-"+K.content,At=I.id,Ht=Gu(_.props.triggerTarget||t);Ht.forEach(function(Qt){var Di=Qt.getAttribute(St);if(_.state.isVisible)Qt.setAttribute(St,Di?Di+" "+At:At);else{var Br=Di&&Di.replace(At,"").trim();Br?Qt.setAttribute(St,Br):Qt.removeAttribute(St)}})}}function Y(){if(!(P||!_.props.aria.expanded)){var K=Gu(_.props.triggerTarget||t);K.forEach(function(St){_.props.interactive?St.setAttribute("aria-expanded",_.state.isVisible&&St===G()?"true":"false"):St.removeAttribute("aria-expanded")})}}function pt(){Z().removeEventListener("mousemove",g),nb=nb.filter(function(K){return K!==g})}function ot(K){if(!(Uo.isTouch&&(l||K.type==="mousedown"))){var St=K.composedPath&&K.composedPath()[0]||K.target;if(!(_.props.interactive&&$V(I,St))){if(Gu(_.props.triggerTarget||t).some(function(At){return $V(At,St)})){if(Uo.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[_,K]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),a=!0,setTimeout(function(){a=!1}),_.state.isMounted||we())}}}function It(){l=!0}function Lt(){l=!1}function $t(){var K=Z();K.addEventListener("mousedown",ot,!0),K.addEventListener("touchend",ot,ju),K.addEventListener("touchstart",Lt,ju),K.addEventListener("touchmove",It,ju)}function we(){var K=Z();K.removeEventListener("mousedown",ot,!0),K.removeEventListener("touchend",ot,ju),K.removeEventListener("touchstart",Lt,ju),K.removeEventListener("touchmove",It,ju)}function Pe(K,St){Li(K,function(){!_.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&St()})}function Ge(K,St){Li(K,St)}function Li(K,St){var At=u().box;function Ht(Qt){Qt.target===At&&(h5(At,"remove",Ht),St())}if(K===0)return St();h5(At,"remove",d),h5(At,"add",Ht),d=Ht}function tn(K,St,At){At===void 0&&(At=!1);var Ht=Gu(_.props.triggerTarget||t);Ht.forEach(function(Qt){Qt.addEventListener(K,St,At),y.push({node:Qt,eventType:K,handler:St,options:At})})}function Rn(){U()&&(tn("touchstart",$,{passive:!0}),tn("touchend",H,{passive:!0})),Vxt(_.props.trigger).forEach(function(K){if(K!=="manual")switch(tn(K,$),K){case"mouseenter":tn("mouseleave",H);break;case"focus":tn(Qxt?"focusout":"blur",it);break;case"focusin":tn("focusout",it);break}})}function gi(){y.forEach(function(K){var St=K.node,At=K.eventType,Ht=K.handler,Qt=K.options;St.removeEventListener(At,Ht,Qt)}),y=[]}function $(K){var St,At=!1;if(!(!_.state.isEnabled||et(K)||a)){var Ht=((St=p)==null?void 0:St.type)==="focus";p=K,b=K.currentTarget,Y(),!_.state.isVisible&&c5(K)&&nb.forEach(function(Qt){return Qt(K)}),K.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?At=!0:W(K),K.type==="click"&&(o=!At),At&&!Ht&&X(K)}}function F(K){var St=K.target,At=G().contains(St)||I.contains(St);if(!(K.type==="mousemove"&&At)){var Ht=R().concat(I).map(function(Qt){var Di,Br=Qt._tippy,Hu=(Di=Br.popperInstance)==null?void 0:Di.state;return Hu?{popperRect:Qt.getBoundingClientRect(),popperState:Hu,props:n}:null}).filter(Boolean);Hxt(Ht,K)&&(pt(),X(K))}}function H(K){var St=et(K)||_.props.trigger.indexOf("click")>=0&&o;if(!St){if(_.props.interactive){_.hideWithInteractivity(K);return}X(K)}}function it(K){_.props.trigger.indexOf("focusin")<0&&K.target!==G()||_.props.interactive&&K.relatedTarget&&I.contains(K.relatedTarget)||X(K)}function et(K){return Uo.isTouch?U()!==K.type.indexOf("touch")>=0:!1}function rt(){dt();var K=_.props,St=K.popperOptions,At=K.placement,Ht=K.offset,Qt=K.getReferenceClientRect,Di=K.moveTransition,Br=j()?eb(I).arrow:null,Hu=Qt?{getBoundingClientRect:Qt,contextElement:Qt.contextElement||G()}:t,J0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(X0){var Zu=X0.state;if(j()){var dB=u(),t_=dB.box;["placement","reference-hidden","escaped"].forEach(function(Q0){Q0==="placement"?t_.setAttribute("data-placement",Zu.placement):Zu.attributes.popper["data-popper-"+Q0]?t_.setAttribute("data-"+Q0,""):t_.removeAttribute("data-"+Q0)}),Zu.attributes.popper={}}}},pc=[{name:"offset",options:{offset:Ht}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Di}},J0];j()&&Br&&pc.push({name:"arrow",options:{element:Br,padding:3}}),pc.push.apply(pc,St?.modifiers||[]),_.popperInstance=Gxt(Hu,I,Object.assign({},St,{placement:At,onFirstUpdate:f,modifiers:pc}))}function dt(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function L(){var K=_.props.appendTo,St,At=G();_.props.interactive&&K===PV||K==="parent"?St=At.parentNode:St=LV(K,[At]),St.contains(I)||St.appendChild(I),_.state.isMounted=!0,rt()}function R(){return cd(I.querySelectorAll("[data-tippy-root]"))}function W(K){_.clearDelayTimeouts(),K&&k("onTrigger",[_,K]),$t();var St=m(!0),At=D(),Ht=At[0],Qt=At[1];Uo.isTouch&&Ht==="hold"&&Qt&&(St=Qt),St?i=setTimeout(function(){_.show()},St):_.show()}function X(K){if(_.clearDelayTimeouts(),k("onUntrigger",[_,K]),!_.state.isVisible){we();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(K.type)>=0&&o)){var St=m(!1);St?r=setTimeout(function(){_.state.isVisible&&_.hide()},St):s=requestAnimationFrame(function(){_.hide()})}}function V(){_.state.isEnabled=!0}function q(){_.hide(),_.state.isEnabled=!1}function ut(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)}function bt(K){if(!_.state.isDestroyed){k("onBeforeUpdate",[_,K]),gi();var St=_.props,At=BV(t,Object.assign({},St,jV(K),{ignoreAttributes:!0}));_.props=At,Rn(),St.interactiveDebounce!==At.interactiveDebounce&&(pt(),g=RV(F,At.interactiveDebounce)),St.triggerTarget&&!At.triggerTarget?Gu(St.triggerTarget).forEach(function(Ht){Ht.removeAttribute("aria-expanded")}):At.triggerTarget&&t.removeAttribute("aria-expanded"),Y(),S(),N&&N(St,At),_.popperInstance&&(rt(),R().forEach(function(Ht){requestAnimationFrame(Ht._tippy.popperInstance.forceUpdate)})),k("onAfterUpdate",[_,K])}}function qt(K){_.setProps({content:K})}function Xt(){var K=_.state.isVisible,St=_.state.isDestroyed,At=!_.state.isEnabled,Ht=Uo.isTouch&&!_.props.touch,Qt=a5(_.props.duration,0,so.duration);if(!(K||St||At||Ht)&&!G().hasAttribute("disabled")&&(k("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,j()&&(I.style.visibility="visible"),S(),$t(),_.state.isMounted||(I.style.transition="none"),j()){var Di=u(),Br=Di.box,Hu=Di.content;u5([Br,Hu],0)}f=function(){var J0;if(!(!_.state.isVisible||c)){if(c=!0,I.offsetHeight,I.style.transition=_.props.moveTransition,j()&&_.props.animation){var pc=u(),X0=pc.box,Zu=pc.content;u5([X0,Zu],Qt),L0([X0,Zu],"visible")}z(),Y(),DV(d5,_),(J0=_.popperInstance)==null||J0.forceUpdate(),k("onMount",[_]),_.props.animation&&j()&&Ge(Qt,function(){_.state.isShown=!0,k("onShown",[_])})}},L()}}function an(){var K=!_.state.isVisible,St=_.state.isDestroyed,At=!_.state.isEnabled,Ht=a5(_.props.duration,1,so.duration);if(!(K||St||At)&&(k("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,j()&&(I.style.visibility="hidden"),pt(),we(),S(!0),j()){var Qt=u(),Di=Qt.box,Br=Qt.content;_.props.animation&&(u5([Di,Br],Ht),L0([Di,Br],"hidden"))}z(),Y(),_.props.animation?j()&&Pe(Ht,_.unmount):_.unmount()}}function Dn(K){Z().addEventListener("mousemove",g),DV(nb,g),g(K)}function tr(){_.state.isVisible&&_.hide(),_.state.isMounted&&(dt(),R().forEach(function(K){K._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),d5=d5.filter(function(K){return K!==_}),_.state.isMounted=!1,k("onHidden",[_]))}function Ri(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),gi(),delete t._tippy,_.state.isDestroyed=!0,k("onDestroy",[_]))}}function Tt(t,e){e===void 0&&(e={});var n=so.plugins.concat(e.plugins||[]);Jxt();var i=Object.assign({},e,{plugins:n}),r=qxt(t),s=r.reduce(function(o,a){var l=a&&oEt(a,i);return l&&o.push(l),o},[]);return tb(t)?s[0]:s}Tt.defaultProps=so,Tt.setDefaultProps=nEt,Tt.currentInput=Uo;var aEt=Object.assign({},fV,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),lEt=function(t,e){var n;e===void 0&&(e={});var i=t,r=[],s=[],o,a=e.overrides,l=[],c=!1;function p(){s=i.map(function(w){return Gu(w.props.triggerTarget||w.reference)}).reduce(function(w,_){return w.concat(_)},[])}function d(){r=i.map(function(w){return w.reference})}function f(w){i.forEach(function(_){w?_.enable():_.disable()})}function y(w){return i.map(function(_){var M=_.setProps;return _.setProps=function(I){M(I),_.reference===o&&w.setProps(I)},function(){_.setProps=M}})}function g(w,_){var M=s.indexOf(_);if(_!==o){o=_;var I=(a||[]).concat("content").reduce(function(N,C){return N[C]=i[M].props[C],N},{});w.setProps(Object.assign({},I,{getReferenceClientRect:typeof I.getReferenceClientRect=="function"?I.getReferenceClientRect:function(){var N;return(N=r[M])==null?void 0:N.getBoundingClientRect()}}))}}f(!1),d(),p();var b={fn:function(){return{onDestroy:function(){f(!0)},onHidden:function(){o=null},onClickOutside:function(w){w.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(w){w.props.showOnCreate&&!c&&(c=!0,g(w,r[0]))},onTrigger:function(w,_){g(w,_.currentTarget)}}}},x=Tt($u(),Object.assign({},Uxt(e,["overrides"]),{plugins:[b].concat(e.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],[aEt])})})),A=x.show;x.show=function(w){if(A(),!o&&w==null)return g(x,r[0]);if(!(o&&w==null)){if(typeof w=="number")return r[w]&&g(x,r[w]);if(i.indexOf(w)>=0){var _=w.reference;return g(x,_)}if(r.indexOf(w)>=0)return g(x,w)}},x.showNext=function(){var w=r[0];if(!o)return x.show(0);var _=r.indexOf(o);x.show(r[_+1]||w)},x.showPrevious=function(){var w=r[r.length-1];if(!o)return x.show(w);var _=r.indexOf(o),M=r[_-1]||w;x.show(M)};var T=x.setProps;return x.setProps=function(w){a=w.overrides||a,T(w)},x.setInstances=function(w){f(!0),l.forEach(function(_){return _()}),i=w,f(!1),d(),p(),l=y(x),x.setProps({triggerTarget:s})},l=y(x),x},cEt={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(!((e=t.props.render)!=null&&e.$$tippy))return{};var n=eb(t.popper),i=n.box,r=n.content,s=t.props.animateFill?uEt():null;return{onCreate:function(){s&&(i.insertBefore(s,i.firstElementChild),i.setAttribute("data-animatefill",""),i.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(s){var o=i.style.transitionDuration,a=Number(o.replace("ms",""));r.style.transitionDelay=Math.round(a/10)+"ms",s.style.transitionDuration=o,L0([s],"visible")}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&L0([s],"hidden")}}}};function uEt(){var t=$u();return t.className=NV,L0([t],"hidden"),t}var f5={clientX:0,clientY:0},ib=[];function ZV(t){var e=t.clientX,n=t.clientY;f5={clientX:e,clientY:n}}function hEt(t){t.addEventListener("mousemove",ZV)}function pEt(t){t.removeEventListener("mousemove",ZV)}var dEt={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=GV(t.props.triggerTarget||e),i=!1,r=!1,s=!0,o=t.props;function a(){return t.props.followCursor==="initial"&&t.state.isVisible}function l(){n.addEventListener("mousemove",d)}function c(){n.removeEventListener("mousemove",d)}function p(){i=!0,t.setProps({getReferenceClientRect:null}),i=!1}function d(g){var b=g.target?e.contains(g.target):!0,x=t.props.followCursor,A=g.clientX,T=g.clientY,w=e.getBoundingClientRect(),_=A-w.left,M=T-w.top;(b||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var I=e.getBoundingClientRect(),N=A,C=T;x==="initial"&&(N=I.left+_,C=I.top+M);var P=x==="horizontal"?I.top:C,D=x==="vertical"?I.right:N,U=x==="horizontal"?I.bottom:C,j=x==="vertical"?I.left:N;return{width:D-j,height:U-P,top:P,right:D,bottom:U,left:j}}})}function f(){t.props.followCursor&&(ib.push({instance:t,doc:n}),hEt(n))}function y(){ib=ib.filter(function(g){return g.instance!==t}),ib.filter(function(g){return g.doc===n}).length===0&&pEt(n)}return{onCreate:f,onDestroy:y,onBeforeUpdate:function(){o=t.props},onAfterUpdate:function(g,b){var x=b.followCursor;i||x!==void 0&&o.followCursor!==x&&(y(),x?(f(),t.state.isMounted&&!r&&!a()&&l()):(c(),p()))},onMount:function(){t.props.followCursor&&!r&&(s&&(d(f5),s=!1),a()||l())},onTrigger:function(g,b){c5(b)&&(f5={clientX:b.clientX,clientY:b.clientY}),r=b.type==="focus"},onHidden:function(){t.props.followCursor&&(p(),c(),s=!0)}}}};function fEt(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(i){var r=i.name;return r!==e.name}),[e])})}}var mEt={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e=t.reference;function n(){return!!t.props.inlinePositioning}var i,r=-1,s=!1,o=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(d){var f=d.state;n()&&(o.indexOf(f.placement)!==-1&&(o=[]),i!==f.placement&&o.indexOf(f.placement)===-1&&(o.push(f.placement),t.setProps({getReferenceClientRect:function(){return l(f.placement)}})),i=f.placement)}};function l(d){return yEt(FV(d),e.getBoundingClientRect(),cd(e.getClientRects()),r)}function c(d){s=!0,t.setProps(d),s=!1}function p(){s||c(fEt(t.props,a))}return{onCreate:p,onAfterUpdate:p,onTrigger:function(d,f){if(c5(f)){var y=cd(t.reference.getClientRects()),g=y.find(function(x){return x.left-2<=f.clientX&&x.right+2>=f.clientX&&x.top-2<=f.clientY&&x.bottom+2>=f.clientY}),b=y.indexOf(g);r=b>-1?b:r}},onHidden:function(){r=-1}}}};function yEt(t,e,n,i){if(n.length<2||t===null)return e;if(n.length===2&&i>=0&&n[0].left>n[1].right)return n[i]||e;switch(t){case"top":case"bottom":{var r=n[0],s=n[n.length-1],o=t==="top",a=r.top,l=s.bottom,c=o?r.left:s.left,p=o?r.right:s.right,d=p-c,f=l-a;return{top:a,bottom:l,left:c,right:p,width:d,height:f}}case"left":case"right":{var y=Math.min.apply(Math,n.map(function(I){return I.left})),g=Math.max.apply(Math,n.map(function(I){return I.right})),b=n.filter(function(I){return t==="left"?I.left===y:I.right===g}),x=b[0].top,A=b[b.length-1].bottom,T=y,w=g,_=w-T,M=A-x;return{top:x,bottom:A,left:T,right:w,width:_,height:M}}default:return e}}var gEt={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function i(){return t.popperInstance?t.popperInstance.state.elements.reference:e}function r(l){return t.props.sticky===!0||t.props.sticky===l}var s=null,o=null;function a(){var l=r("reference")?i().getBoundingClientRect():null,c=r("popper")?n.getBoundingClientRect():null;(l&&YV(s,l)||c&&YV(o,c))&&t.popperInstance&&t.popperInstance.update(),s=l,o=c,t.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){t.props.sticky&&a()}}}};function YV(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Tt.setDefaultProps({render:HV}),Tt.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function m5(t,e={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const i=Cn(),r=J(),s=J({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Sp();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=N=>{let C,P=ne(N)?N.value:N;return Zs(P)?(o.value||(o.value=ql({name:n.appName,setup:()=>()=>ne(N)?N.value:N}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),C=()=>l()):typeof P=="object"?(o.value||(o.value=ql({name:n.appName,setup:()=>()=>ds(ne(N)?N.value:N)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),C=()=>l()):C=P,C},p=N=>{let C={};return ne(N)?C=N.value||{}:Ji(N)?C={...N}:C={...N},C.content&&(C.content=c(C.content)),C.triggerTarget&&(C.triggerTarget=ne(C.triggerTarget)?C.triggerTarget.value:C.triggerTarget),(!C.plugins||!Array.isArray(C.plugins))&&(C.plugins=[]),C.plugins=C.plugins.filter(P=>P.name!=="vueTippyReactiveState"),C.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),C},d=()=>{r.value&&r.value.setProps(p(e))},f=()=>{!r.value||!e.content||r.value.setContent(c(e.content))},y=N=>{var C;(C=r.value)===null||C===void 0||C.setContent(c(N))},g=N=>{var C;(C=r.value)===null||C===void 0||C.setProps(p(N))},b=()=>{var N;r.value&&(r.value.destroy(),r.value=void 0),a=null,(N=o.value)===null||N===void 0||N.unmount(),o.value=void 0},x=()=>{var N;(N=r.value)===null||N===void 0||N.show()},A=()=>{var N;(N=r.value)===null||N===void 0||N.hide()},T=()=>{var N;(N=r.value)===null||N===void 0||N.disable(),s.value.isEnabled=!1},w=()=>{var N;(N=r.value)===null||N===void 0||N.enable(),s.value.isEnabled=!0},_=()=>{var N;(N=r.value)===null||N===void 0||N.unmount()},M=()=>{if(!t)return;let N=ne(t)?t.value:t;typeof N=="function"&&(N=N()),N&&(r.value=Tt(N,p(e)),N.$tippy=I)},I={tippy:r,refresh:d,refreshContent:f,setContent:y,setProps:g,destroy:b,hide:A,show:x,disable:T,enable:w,unmount:_,mount:M,state:s};return n.mount&&(i?i.isMounted?M():ni(M):M()),i&&$l(()=>{b()}),ne(e)||Ji(e)?Vn(e,d,{immediate:!1}):ne(e.content)&&Vn(e.content,f,{immediate:!1}),I}function vEt(t,e){const n=J();return ni(()=>{const i=(Array.isArray(t)?t.map(r=>r.value):typeof t=="function"?t():t.value).map(r=>r instanceof Element?r._tippy:r).filter(Boolean);n.value=lEt(i,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:n}}function bEt(t){return typeof t=="function"?t():wt(t)}function _Et(t){var e,n;const i=bEt(t);return(n=(e=i)===null||e===void 0?void 0:e.$el)!==null&&n!==void 0?n:i}const wEt=Yt({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Tt.defaultProps.appendTo},aria:{default:()=>Tt.defaultProps.aria},delay:{default:()=>Tt.defaultProps.delay},duration:{default:()=>Tt.defaultProps.duration},getReferenceClientRect:{default:()=>Tt.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Tt.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Tt.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Tt.defaultProps.interactive},interactiveBorder:{default:()=>Tt.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Tt.defaultProps.interactiveDebounce},moveTransition:{default:()=>Tt.defaultProps.moveTransition},offset:{default:()=>Tt.defaultProps.offset},onAfterUpdate:{default:()=>Tt.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Tt.defaultProps.onBeforeUpdate},onCreate:{default:()=>Tt.defaultProps.onCreate},onDestroy:{default:()=>Tt.defaultProps.onDestroy},onHidden:{default:()=>Tt.defaultProps.onHidden},onHide:{default:()=>Tt.defaultProps.onHide},onMount:{default:()=>Tt.defaultProps.onMount},onShow:{default:()=>Tt.defaultProps.onShow},onShown:{default:()=>Tt.defaultProps.onShown},onTrigger:{default:()=>Tt.defaultProps.onTrigger},onUntrigger:{default:()=>Tt.defaultProps.onUntrigger},onClickOutside:{default:()=>Tt.defaultProps.onClickOutside},placement:{default:()=>Tt.defaultProps.placement},plugins:{default:()=>Tt.defaultProps.plugins},popperOptions:{default:()=>Tt.defaultProps.popperOptions},render:{default:()=>Tt.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Tt.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Tt.defaultProps.touch},trigger:{default:()=>Tt.defaultProps.trigger},triggerTarget:{default:()=>Tt.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Tt.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Tt.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Tt.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Tt.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Tt.defaultProps.allowHTML},animation:{default:()=>Tt.defaultProps.animation},arrow:{default:()=>Tt.defaultProps.arrow},content:{default:()=>Tt.defaultProps.content},inertia:{default:()=>Tt.defaultProps.inertia},maxWidth:{default:()=>Tt.defaultProps.maxWidth},role:{default:()=>Tt.defaultProps.role},theme:{default:()=>Tt.defaultProps.theme},zIndex:{default:()=>Tt.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:n,expose:i}){const r=J(),s=J(),o=J(),a=J(!1),l=()=>{let y={...t};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>_Et(r);t.to&&(typeof Element<"u"&&t.to instanceof Element?c=()=>t.to:t.to==="parent"?c=()=>{let y=r.value;return y||(y=r.value=s.value.parentElement),y}:(typeof t.to=="string"||t.to instanceof String)&&(c=()=>document.querySelector(t.to)));const p=m5(c,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),ni(()=>{a.value=!0,Rr(()=>{d&&p.setContent(()=>o.value)})}),Vn(p.state,()=>{n("state",wt(p.state))},{immediate:!0,deep:!0}),Vn(()=>t,()=>{p.setProps(l()),d&&p.setContent(()=>o.value)},{deep:!0});let f=Zn({elem:r,contentElem:o,mounted:a,...p});return i(f),()=>{const y=(t.contentTag,t.contentTag),g=d?ds(y,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(f)):null;if(t.to==="parent"){const A=[];if(!r.value){const T=ds("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});A.push(T)}return g&&A.push(g),A}const b=e.default?e.default(f):[];if(!t.tag){const A=ds(b[0],{ref:r,"data-v-tippy":""});return g?[A,g]:A}const x=(t.tag,t.tag);return ds(x,{ref:r,"data-v-tippy":""},g?[b,g]:b)}}}),xEt=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let y5={};Object.keys(Tt.defaultProps).forEach(t=>{xEt.includes(t)?y5[t]={type:Boolean,default:function(){return Tt.defaultProps[t]}}:y5[t]={default:function(){return Tt.defaultProps[t]}}});const EEt=Yt({props:y5,setup(t){const e=J([]),{singleton:n}=vEt(e,t);return{instances:e,singleton:n}},mounted(){var t;const e=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(e).map(n=>n._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return ds(()=>t)}}),SEt={mounted(t,e,n){const i=typeof e.value=="string"?{content:e.value}:e.value||{},r=Object.keys(e.modifiers||{}),s=r.find(a=>a!=="arrow"),o=r.findIndex(a=>a==="arrow")!==-1;s&&(i.placement=i.placement||s),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),n.props&&n.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!i.content&&(i.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!i.content&&(i.content=t.getAttribute("content")),m5(t,i)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const n=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!n.content&&(n.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!n.content&&(n.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(n||{}):t._tippy&&t._tippy.setProps(n||{})}},AEt={install(t,e={}){Tt.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",SEt),t.component(e.component||"tippy",wEt),t.component(e.componentSingleton||"tippy-singleton",EEt)}},JV=Tt.setDefaultProps;JV({ignoreAttributes:!0,plugins:[gEt,mEt,dEt,cEt]});const TEt=Yt({name:"App",components:{Shell:L3t},setup(){const t=Cn();ni(()=>{new jU().observe(t?.proxy?.$refs["app-size"]),JV({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),MEt=["lang"],IEt={class:"h-full",ref:"app-size"};function OEt(t,e,n,i,r,s){const o=xn("shell");return st(),mt("div",{class:"ramp-app ramp-styles animation-enabled",lang:t.$i18n.locale},[nt("div",IEt,[zt(o)],512)],8,MEt)}const NEt=Lo(TEt,[["render",OEt]]),Vo="focus-list",oc="focus-item",CEt="focus-icon",kEt="focus-container",ud=`[${Vo}],[${kEt}]`,rb="truncate-text",sb="show-truncate",hd="focused",g5=`button,input,select,a,textarea,[contenteditable],[${Vo}],[${CEt}],[tabIndex]`,PEt={mounted(t,e){+t.getAttribute("tabindex")<=0&&t.setAttribute("tabindex","0"),t.toggleAttribute(Vo,!0),new LEt(t,e.value)},updated(t){XV(t)}};function XV(t){t.querySelectorAll(g5).forEach(e=>{if(e.closest(ud)===t||e.closest(ud)===e&&e.parentElement.closest(ud)===t)if(e.closest(`[${Vo}],.${hd}`).classList.contains(hd))e.setAttribute("tabindex","0");else{e.setAttribute("tabindex","-1");return}})}class LEt{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,n){this.element=e,this.highlightedItem=this.element,this.isHorizontal=n==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;e.addEventListener("keydown",function(r){i.onKeydown(r)}),e.addEventListener("focus",function(){i.onFocus()}),e.addEventListener("blur",function(){i.onBlur()}),e.addEventListener("mousedown",function(){i.onMousedown()}),e.addEventListener("touchstart",function(){i.onTouchstart()}),e.addEventListener("switchFocusItem",r=>{const s=r.detail.focusItem;i.element.focus(),i.focusItem(s),this.highlightedItem=s}),document.addEventListener("click",function(r){r.target&&e.contains(r.target)?i.onClick(r):i.defocusItem(i.highlightedItem)})}setTabIndex(e,n=this.element){n.querySelectorAll(g5).forEach(i=>{(e===-1||i.closest(ud)===this.element||i.closest(ud)===i&&i.parentElement.closest(ud)===this.element||i.closest(`[${Vo}],.${hd}`).classList.contains(hd))&&i.setAttribute("tabindex",e.toString())})}defocusItem(e){e.classList.remove(hd),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(oc)===sb&&e.querySelector(`[${rb}]`)?._tippy?.hide()}focusItem(e){e.classList.add(hd),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(oc)===sb&&e.querySelector(`[${rb}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,n=!1){if(this.defocusItem(this.highlightedItem),n)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const i=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[i+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const n=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${oc}]`),r=>r.closest(`[${Vo}]`)===n.element&&!!r.offsetParent);if(i.length!==0)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&i.length>1&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":const r=this.highlightedItem.querySelectorAll(g5).length===0,s=this.element.isEqualNode(e.target);this.highlightedItem!==this.element&&s&&(r&&this.defocusItem(this.highlightedItem),e.shiftKey&&i.length>1&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let n=e.target;if(!n.hasAttribute(Vo))for(;n.parentElement.closest(`[${Vo}]`)!==this.element;)n=n.parentElement.closest(`[${Vo}]`);this.highlightedItem=n.closest(`[${oc}]`)||n.closest(`[${Vo}]`)||this.highlightedItem,n.hasAttribute(`${oc}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){if(this.highlightedItem===this.element){const e=this.element.querySelectorAll(`[${oc}]`);if(e.length===1){this.defocusItem(this.highlightedItem),this.highlightedItem=e[0],this.focusItem(e[0]);return}}this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(oc)===sb&&this.highlightedItem.querySelector(`[${rb}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),XV(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(oc)===sb&&this.highlightedItem.querySelector(`[${rb}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const QV="focus-item",REt={beforeMount(t,e){t.hasAttribute("id")||t.setAttribute("id",DEt()),e.value?t.setAttribute(QV,e.value):t.toggleAttribute(QV,!0)}};function DEt(){let t;do t="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(t)!==null);return t}const v5="focus-container",KV="focus-list",FEt="focus-icon",b5=`[${KV}],[${v5}]`,tz=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${KV}],[${v5}],[${FEt}],[tabIndex]`;let _5=[];const jEt={mounted(t){[...document.querySelectorAll(".inner-shell")].some(e=>e.contains(t))&&_5.push(new GEt(t))},beforeUnmount(t){_5=_5.filter(e=>e.element===t?(e.removeEventListeners(),!1):!0)}};class GEt{element;constructor(e){this.element=e,this.element.toggleAttribute(v5,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const n=this;this.element.addEventListener("keypress",function(i){n.onKeypress(i)}),this.element.addEventListener("click",function(){n.onClick()}),this.element.addEventListener("focusout",function(i){n.onFocusOut(i)}),this.element.addEventListener("focus",function(){n.onFocus()})}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",function(n){e.onKeypress(n)}),this.element.removeEventListener("click",function(){e.onClick()}),this.element.removeEventListener("focusout",function(n){e.onFocusOut(n)}),this.element.removeEventListener("focus",function(){e.onFocus()})}onKeypress(e){e.target===this.element&&(e.key==="Enter"||e.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){this.element.contains(document.activeElement)||Array.prototype.filter.call(this.element.querySelectorAll(tz),()=>!0).forEach(e=>{e.tabIndex=-1})}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(tz),n=>{(n.closest(b5)===this.element||n.closest(b5)===n&&n.parentElement.closest(b5)===this.element)&&n.offsetParent&&(n.tabIndex=0,e===void 0&&(e=n))}),e}}const $Et="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",UEt="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",w5="numeric",x5="ascii",E5="alpha",R0="asciinumeric",D0="alphanumeric",S5="domain",ez="emoji",VEt="scheme",zEt="slashscheme",A5="whitespace";function BEt(t,e){return t in e||(e[t]=[]),e[t]}function Uu(t,e,n){e[w5]&&(e[R0]=!0,e[D0]=!0),e[x5]&&(e[R0]=!0,e[E5]=!0),e[R0]&&(e[D0]=!0),e[E5]&&(e[D0]=!0),e[D0]&&(e[S5]=!0),e[ez]&&(e[S5]=!0);for(const i in e){const r=BEt(i,n);r.indexOf(t)<0&&r.push(t)}}function WEt(t,e){const n={};for(const i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function Vr(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Vr.groups={},Vr.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){const r=e.jr[i][0],s=e.jr[i][1];if(s&&r.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let r=0;r<t.length;r++)this.tt(t[r],e,n,i)},tr(t,e,n,i){i=i||Vr.groups;let r;return e&&e.j?r=e:(r=new Vr(e),n&&i&&Uu(e,n,i)),this.jr.push([t,r]),r},ts(t,e,n,i){let r=this;const s=t.length;if(!s)return r;for(let o=0;o<s-1;o++)r=r.tt(t[o]);return r.tt(t[s-1],e,n,i)},tt(t,e,n,i){i=i||Vr.groups;const r=this;if(e&&e.j)return r.j[t]=e,e;const s=e;let o,a=r.go(t);if(a?(o=new Vr,Object.assign(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Vr,s){if(i)if(o.t&&typeof o.t=="string"){const l=Object.assign(WEt(o.t,i),n);Uu(s,l,i)}else n&&Uu(s,n,i);o.t=s}return r.j[t]=o,o}};const Zt=(t,e,n,i,r)=>t.ta(e,n,i,r),Sn=(t,e,n,i,r)=>t.tr(e,n,i,r),nz=(t,e,n,i,r)=>t.ts(e,n,i,r),ct=(t,e,n,i,r)=>t.tt(e,n,i,r),ja="WORD",T5="UWORD",iz="ASCIINUMERICAL",rz="ALPHANUMERICAL",F0="LOCALHOST",M5="TLD",I5="UTLD",ob="SCHEME",pd="SLASH_SCHEME",O5="NUM",N5="WS",C5="NL",j0="OPENBRACE",G0="CLOSEBRACE",ab="OPENBRACKET",lb="CLOSEBRACKET",cb="OPENPAREN",ub="CLOSEPAREN",hb="OPENANGLEBRACKET",pb="CLOSEANGLEBRACKET",db="FULLWIDTHLEFTPAREN",fb="FULLWIDTHRIGHTPAREN",mb="LEFTCORNERBRACKET",yb="RIGHTCORNERBRACKET",gb="LEFTWHITECORNERBRACKET",vb="RIGHTWHITECORNERBRACKET",bb="FULLWIDTHLESSTHAN",_b="FULLWIDTHGREATERTHAN",wb="AMPERSAND",xb="APOSTROPHE",Eb="ASTERISK",ac="AT",Sb="BACKSLASH",Ab="BACKTICK",Tb="CARET",lc="COLON",k5="COMMA",Mb="DOLLAR",zo="DOT",Ib="EQUALS",P5="EXCLAMATION",As="HYPHEN",$0="PERCENT",Ob="PIPE",Nb="PLUS",Cb="POUND",U0="QUERY",L5="QUOTE",sz="FULLWIDTHMIDDLEDOT",R5="SEMI",Bo="SLASH",V0="TILDE",kb="UNDERSCORE",oz="EMOJI",Pb="SYM";var az=Object.freeze({__proto__:null,ALPHANUMERICAL:rz,AMPERSAND:wb,APOSTROPHE:xb,ASCIINUMERICAL:iz,ASTERISK:Eb,AT:ac,BACKSLASH:Sb,BACKTICK:Ab,CARET:Tb,CLOSEANGLEBRACKET:pb,CLOSEBRACE:G0,CLOSEBRACKET:lb,CLOSEPAREN:ub,COLON:lc,COMMA:k5,DOLLAR:Mb,DOT:zo,EMOJI:oz,EQUALS:Ib,EXCLAMATION:P5,FULLWIDTHGREATERTHAN:_b,FULLWIDTHLEFTPAREN:db,FULLWIDTHLESSTHAN:bb,FULLWIDTHMIDDLEDOT:sz,FULLWIDTHRIGHTPAREN:fb,HYPHEN:As,LEFTCORNERBRACKET:mb,LEFTWHITECORNERBRACKET:gb,LOCALHOST:F0,NL:C5,NUM:O5,OPENANGLEBRACKET:hb,OPENBRACE:j0,OPENBRACKET:ab,OPENPAREN:cb,PERCENT:$0,PIPE:Ob,PLUS:Nb,POUND:Cb,QUERY:U0,QUOTE:L5,RIGHTCORNERBRACKET:yb,RIGHTWHITECORNERBRACKET:vb,SCHEME:ob,SEMI:R5,SLASH:Bo,SLASH_SCHEME:pd,SYM:Pb,TILDE:V0,TLD:M5,UNDERSCORE:kb,UTLD:I5,UWORD:T5,WORD:ja,WS:N5});const Ga=/[a-z]/,z0=/\p{L}/u,D5=/\p{Emoji}/u,$a=/\d/,F5=/\s/,lz="\r",j5=`
`,qEt="\uFE0F",HEt="\u200D",G5="\uFFFC";let Lb=null,Rb=null;function ZEt(t=[]){const e={};Vr.groups=e;const n=new Vr;Lb==null&&(Lb=uz($Et)),Rb==null&&(Rb=uz(UEt)),ct(n,"'",xb),ct(n,"{",j0),ct(n,"}",G0),ct(n,"[",ab),ct(n,"]",lb),ct(n,"(",cb),ct(n,")",ub),ct(n,"<",hb),ct(n,">",pb),ct(n,"\uFF08",db),ct(n,"\uFF09",fb),ct(n,"\u300C",mb),ct(n,"\u300D",yb),ct(n,"\u300E",gb),ct(n,"\u300F",vb),ct(n,"\uFF1C",bb),ct(n,"\uFF1E",_b),ct(n,"&",wb),ct(n,"*",Eb),ct(n,"@",ac),ct(n,"`",Ab),ct(n,"^",Tb),ct(n,":",lc),ct(n,",",k5),ct(n,"$",Mb),ct(n,".",zo),ct(n,"=",Ib),ct(n,"!",P5),ct(n,"-",As),ct(n,"%",$0),ct(n,"|",Ob),ct(n,"+",Nb),ct(n,"#",Cb),ct(n,"?",U0),ct(n,'"',L5),ct(n,"/",Bo),ct(n,";",R5),ct(n,"~",V0),ct(n,"_",kb),ct(n,"\\",Sb),ct(n,"\u30FB",sz);const i=Sn(n,$a,O5,{[w5]:!0});Sn(i,$a,i);const r=Sn(i,Ga,iz,{[R0]:!0}),s=Sn(i,z0,rz,{[D0]:!0}),o=Sn(n,Ga,ja,{[x5]:!0});Sn(o,$a,r),Sn(o,Ga,o),Sn(r,$a,r),Sn(r,Ga,r);const a=Sn(n,z0,T5,{[E5]:!0});Sn(a,Ga),Sn(a,$a,s),Sn(a,z0,a),Sn(s,$a,s),Sn(s,Ga),Sn(s,z0,s);const l=ct(n,j5,C5,{[A5]:!0}),c=ct(n,lz,N5,{[A5]:!0}),p=Sn(n,F5,N5,{[A5]:!0});ct(n,G5,p),ct(c,j5,l),ct(c,G5,p),Sn(c,F5,p),ct(p,lz),ct(p,j5),Sn(p,F5,p),ct(p,G5,p);const d=Sn(n,D5,oz,{[ez]:!0});ct(d,"#"),Sn(d,D5,d),ct(d,qEt,d);const f=ct(d,HEt);ct(f,"#"),Sn(f,D5,d);const y=[[Ga,o],[$a,r]],g=[[Ga,null],[z0,a],[$a,s]];for(let b=0;b<Lb.length;b++)cc(n,Lb[b],M5,ja,y);for(let b=0;b<Rb.length;b++)cc(n,Rb[b],I5,T5,g);Uu(M5,{tld:!0,ascii:!0},e),Uu(I5,{utld:!0,alpha:!0},e),cc(n,"file",ob,ja,y),cc(n,"mailto",ob,ja,y),cc(n,"http",pd,ja,y),cc(n,"https",pd,ja,y),cc(n,"ftp",pd,ja,y),cc(n,"ftps",pd,ja,y),Uu(ob,{scheme:!0,ascii:!0},e),Uu(pd,{slashscheme:!0,ascii:!0},e),t=t.sort((b,x)=>b[0]>x[0]?1:-1);for(let b=0;b<t.length;b++){const x=t[b][0],A=t[b][1]?{[VEt]:!0}:{[zEt]:!0};x.indexOf("-")>=0?A[S5]=!0:Ga.test(x)?$a.test(x)?A[R0]=!0:A[x5]=!0:A[w5]=!0,nz(n,x,x,A)}return nz(n,"localhost",F0,{ascii:!0}),n.jd=new Vr(Pb),{start:n,tokens:Object.assign({groups:e},az)}}function cz(t,e){const n=YEt(e.replace(/[A-Z]/g,a=>a.toLowerCase())),i=n.length,r=[];let s=0,o=0;for(;o<i;){let a=t,l=null,c=0,p=null,d=-1,f=-1;for(;o<i&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,p=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,c-=d,r.push({t:p.t,v:e.slice(s-c,s),s:s-c,e:s})}return r}function YEt(t){const e=[],n=t.length;let i=0;for(;i<n;){let r=t.charCodeAt(i),s,o=r<55296||r>56319||i+1===n||(s=t.charCodeAt(i+1))<56320||s>57343?t[i]:t.slice(i,i+2);e.push(o),i+=o.length}return e}function cc(t,e,n,i,r){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Vr(i),s.jr=r.slice(),t.j[l]=s),t=s}return s=new Vr(n),s.jr=r.slice(),t.j[e[o-1]]=s,s}function uz(t){const e=[],n=[];let i=0,r="0123456789";for(;i<t.length;){let s=0;for(;r.indexOf(t[i+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(i,i+s),10);o>0;o--)n.pop();i+=s}else n.push(t[i]),i++}return e}const B0={defaultProtocol:"http",events:null,format:hz,formatHref:hz,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function $5(t,e=null){let n=Object.assign({},B0);t&&(n=Object.assign(n,t instanceof $5?t.o:t));const i=n.ignoreTags,r=[];for(let s=0;s<i.length;s++)r.push(i[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=r}$5.prototype={o:B0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const i=e!=null;let r=this.o[t];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:B0[t],typeof r=="function"&&i&&(r=r(e,n))):typeof r=="function"&&i&&(r=r(e,n.t,n)),r)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function hz(t){return t}function pz(t,e){this.t="token",this.v=t,this.tk=e}pz.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"\u2026":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=B0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),r=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),p=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=i,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),p&&Object.assign(o,p),{tagName:r,attributes:o,content:s,eventListeners:d}}};function Db(t,e){class n extends pz{constructor(r,s){super(r,s),this.t=t}}for(const i in e)n.prototype[i]=e[i];return n.t=t,n}const dz=Db("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),fz=Db("text"),JEt=Db("nl"),Fb=Db("url",{isLink:!0,toHref(t=B0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==F0&&t[1].t===lc}}),Ts=t=>new Vr(t);function XEt({groups:t}){const e=t.domain.concat([wb,Eb,ac,Sb,Ab,Tb,Mb,Ib,As,O5,$0,Ob,Nb,Cb,Bo,Pb,V0,kb]),n=[xb,lc,k5,zo,P5,$0,U0,L5,R5,hb,pb,j0,G0,lb,ab,cb,ub,db,fb,mb,yb,gb,vb,bb,_b],i=[wb,xb,Eb,Sb,Ab,Tb,Mb,Ib,As,j0,G0,$0,Ob,Nb,Cb,U0,Bo,Pb,V0,kb],r=Ts(),s=ct(r,V0);Zt(s,i,s),Zt(s,t.domain,s);const o=Ts(),a=Ts(),l=Ts();Zt(r,t.domain,o),Zt(r,t.scheme,a),Zt(r,t.slashscheme,l),Zt(o,i,s),Zt(o,t.domain,o);const c=ct(o,ac);ct(s,ac,c),ct(a,ac,c),ct(l,ac,c);const p=ct(s,zo);Zt(p,i,s),Zt(p,t.domain,s);const d=Ts();Zt(c,t.domain,d),Zt(d,t.domain,d);const f=ct(d,zo);Zt(f,t.domain,d);const y=Ts(dz);Zt(f,t.tld,y),Zt(f,t.utld,y),ct(c,F0,y);const g=ct(d,As);ct(g,As,g),Zt(g,t.domain,d),Zt(y,t.domain,d),ct(y,zo,f),ct(y,As,g);const b=ct(y,lc);Zt(b,t.numeric,dz);const x=ct(o,As),A=ct(o,zo);ct(x,As,x),Zt(x,t.domain,o),Zt(A,i,s),Zt(A,t.domain,o);const T=Ts(Fb);Zt(A,t.tld,T),Zt(A,t.utld,T),Zt(T,t.domain,o),Zt(T,i,s),ct(T,zo,A),ct(T,As,x),ct(T,ac,c);const w=ct(T,lc),_=Ts(Fb);Zt(w,t.numeric,_);const M=Ts(Fb),I=Ts();Zt(M,e,M),Zt(M,n,I),Zt(I,e,M),Zt(I,n,I),ct(T,Bo,M),ct(_,Bo,M);const N=ct(a,lc),C=ct(l,lc),P=ct(C,Bo),D=ct(P,Bo);Zt(a,t.domain,o),ct(a,zo,A),ct(a,As,x),Zt(l,t.domain,o),ct(l,zo,A),ct(l,As,x),Zt(N,t.domain,M),ct(N,Bo,M),ct(N,U0,M),Zt(D,t.domain,M),Zt(D,e,M),ct(D,Bo,M);const U=[[j0,G0],[ab,lb],[cb,ub],[hb,pb],[db,fb],[mb,yb],[gb,vb],[bb,_b]];for(let j=0;j<U.length;j++){const[G,Z]=U[j],u=ct(M,G);ct(I,G,u),ct(u,Z,M);const m=Ts(Fb);Zt(u,e,m);const S=Ts();Zt(u,n),Zt(m,e,m),Zt(m,n,S),Zt(S,e,m),Zt(S,n,S),ct(m,Z,M),ct(S,Z,M)}return ct(r,F0,T),ct(r,C5,JEt),{start:r,tokens:az}}function QEt(t,e,n){let i=n.length,r=0,s=[],o=[];for(;r<i;){let a=t,l=null,c=null,p=0,d=null,f=-1;for(;r<i&&!(l=a.go(n[r].t));)o.push(n[r++]);for(;r<i&&(c=l||a.go(n[r].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,r++,p++;if(f<0)r-=p,r<i&&(o.push(n[r]),r++);else{o.length>0&&(s.push(U5(fz,e,o)),o=[]),r-=f,p-=f;const y=d.t,g=n.slice(r-p,r);s.push(U5(y,e,g))}}return o.length>0&&s.push(U5(fz,e,o)),s}function U5(t,e,n){const i=n[0].s,r=n[n.length-1].e,s=e.slice(i,r);return new t(s,n)}const Ni={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function KEt(){Ni.scanner=ZEt(Ni.customSchemes);for(let t=0;t<Ni.tokenQueue.length;t++)Ni.tokenQueue[t][1]({scanner:Ni.scanner});Ni.parser=XEt(Ni.scanner.tokens);for(let t=0;t<Ni.pluginQueue.length;t++)Ni.pluginQueue[t][1]({scanner:Ni.scanner,parser:Ni.parser});return Ni.initialized=!0,Ni}function mz(t){return Ni.initialized||KEt(),QEt(Ni.parser.start,t,cz(Ni.scanner.start,t))}mz.scan=cz;var tSt={amp:"&",gt:">",lt:"<",nbsp:"\xA0",quot:'"'},eSt=/^#[xX]([A-Fa-f0-9]+)$/,nSt=/^#([0-9]+)$/,iSt=/^([A-Za-z0-9]+)$/,rSt=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(eSt);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(nSt),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(iSt),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),sSt=/[\t\n\f ]/,oSt=/[A-Za-z]/,aSt=/\r\n?/g;function Ci(t){return sSt.test(t)}function yz(t){return oSt.test(t)}function lSt(t){return t.replace(aSt,`
`)}var cSt=function(){function t(e,n,i){i===void 0&&(i="precompile"),this.delegate=e,this.entityParser=n,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var r=this.peek();if(r==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&r===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var r=this.peek(),s=this.tagNameBuffer;r==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):r==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(r))},tagOpen:function(){var r=this.consume();r==="!"?this.transitionTo("markupDeclarationOpen"):r==="/"?this.transitionTo("endTagOpen"):(r==="@"||r===":"||yz(r))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(r))},markupDeclarationOpen:function(){var r=this.consume();if(r==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var r=this.consume();Ci(r)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var r=this.consume();Ci(r)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase()))},doctypeName:function(){var r=this.consume();Ci(r)?this.transitionTo("afterDoctypeName"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(r.toLowerCase())},afterDoctypeName:function(){var r=this.consume();if(!Ci(r))if(r===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=r.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var r=this.peek();Ci(r)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):r==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):r==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):r===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},doctypePublicIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypePublicIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(r)},afterDoctypePublicIdentifier:function(){var r=this.consume();Ci(r)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var r=this.consume();Ci(r)||(r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):r==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):r==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var r=this.consume();r==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},doctypeSystemIdentifierSingleQuoted:function(){var r=this.consume();r==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):r===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(r)},afterDoctypeSystemIdentifier:function(){var r=this.consume();Ci(r)||r===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var r=this.consume();r==="-"?this.transitionTo("commentStartDash"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(r),this.transitionTo("comment"))},commentStartDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var r=this.consume();r==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(r)},commentEndDash:function(){var r=this.consume();r==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+r),this.transitionTo("comment"))},commentEnd:function(){var r=this.consume();r===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+r),this.transitionTo("comment"))},tagName:function(){var r=this.consume();Ci(r)?this.transitionTo("beforeAttributeName"):r==="/"?this.transitionTo("selfClosingStartTag"):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(r)},endTagName:function(){var r=this.consume();Ci(r)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):r==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):r===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(r)},beforeAttributeName:function(){var r=this.peek();if(Ci(r)){this.consume();return}else r==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var r=this.peek();Ci(r)?(this.transitionTo("afterAttributeName"),this.consume()):r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):r==='"'||r==="'"||r==="<"?(this.delegate.reportSyntaxError(r+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(r)):(this.consume(),this.delegate.appendToAttributeName(r))},afterAttributeName:function(){var r=this.peek();if(Ci(r)){this.consume();return}else r==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(r))},beforeAttributeValue:function(){var r=this.peek();Ci(r)?this.consume():r==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):r===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(r))},attributeValueDoubleQuoted:function(){var r=this.consume();r==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueSingleQuoted:function(){var r=this.consume();r==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):r==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(r)},attributeValueUnquoted:function(){var r=this.peek();Ci(r)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):r==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):r===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(r))},afterAttributeValueQuoted:function(){var r=this.peek();Ci(r)?(this.consume(),this.transitionTo("beforeAttributeName")):r==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):r===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var r=this.peek();r===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var r=this.consume();(r==="@"||r===":"||yz(r))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(r))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=lSt(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),i=this.entityParser.parse(n);if(i){for(var r=n.length;r;)this.consume(),r--;return this.consume(),i}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),uSt=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new cSt(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function hSt(t,e){var n=new uSt(new rSt(tSt),e);return n.tokenize(t)}const gz="LinkifyResult",jb="StartTag",vz="EndTag",V5="Chars",pSt="Comment",dSt="Doctype";function bz(t,e){e===void 0&&(e={});const n=hSt(t),i=[],r=[],s=new $5(e,ySt);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===jb){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let c=i.length;mSt(l,n,++o,i),o+=i.length-c-1}else if(a.type!==V5)i.push(a);else{const l=fSt(a.chars,s);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case gz:r.push(a.rendered);break;case jb:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+vSt(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",r.push(l);break}case vz:r.push(`</${a.tagName}>`);break;case V5:r.push(z5(a.chars));break;case pSt:r.push(`<!--${z5(a.chars)}-->`);break;case dSt:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",r.push(l);break}}}return r.join("")}function fSt(t,e){const n=mz(t),i=[];for(let r=0;r<n.length;r++){const s=n[r];s.t==="nl"&&e.get("nl2br")?i.push({type:jb,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!e.check(s)?i.push({type:V5,chars:s.toString()}):i.push({type:gz,rendered:e.render(s)})}return i}function mSt(t,e,n,i){let r=1;for(;n<e.length&&r>0;){let s=e[n];s.type===jb&&s.tagName.toUpperCase()===t?r++:s.type===vz&&s.tagName.toUpperCase()===t&&r--,i.push(s),n++}return i}function ySt(t){let{tagName:e,attributes:n,content:i}=t;return`<${e} ${gSt(n)}>${z5(i)}</${e}>`}function z5(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _z(t){return t.replace(/"/g,"&quot;")}function gSt(t){const e=[];for(const n in t){const i=t[n]+"";e.push(`${n}="${_z(i)}"`)}return e.join(" ")}function vSt(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n][0],r=t[n][1]+"";e.push(`${i}="${_z(r)}"`)}return e}const bSt="truncate-text",_St="truncate-trigger",wSt={beforeMount(t,e){!t.classList.contains("truncate")&&!e.value?.noTruncateClass&&t.classList.add("truncate"),t.toggleAttribute(bSt,!0)},mounted(t,e){let n;e.value&&e.value.externalTrigger&&(n=t.closest(`[${_St}]`)),m5(t,{content:wz(t.textContent),onShow:xSt,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:n,...e.value?.options||{}})},updated(t,e){t._tippy&&(t._tippy.setContent(wz(t.textContent)),e.value&&e.value.options&&t._tippy.setProps(e.value.options))},unmounted(t){t._tippy&&t._tippy.destroy()}};function xSt(t){if(!(t.reference.clientWidth<t.reference.scrollWidth||t.reference.clientHeight<t.reference.scrollHeight))return!1}const ESt=t=>{const e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[<>"']/g,n=>e[n])};function wz(t){if(t===null)return"";const e=ESt(t);let n=bz(e,{target:"_blank",validate:{url:i=>/^https?:\/\//.test(i)}});return n=`<div style='word-break: break-word;'>${n}</div>`,n}const SSt=["content"],ASt={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},TSt={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},MSt={key:1},ISt={key:0,class:"flex"},OSt=["innerHTML"],NSt={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},CSt=Yt({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(t,{expose:e}){const{t:n}=He(),i=ic(),r=l0(),s=In("iApi"),o=Pm("el"),a=Pm("contentEl"),l=J();e({el:o});const c=t,p=Bt(()=>s.fixture.get("appbar")?r.temporary:[]),d=Bt(()=>i.mobileView),f=Bt(()=>i.reorderable),y=A=>A.scrollHeight>A.clientHeight,g=()=>!d.value&&!c.panel.teleport,b=A=>{c.panel.move(A),A==="left"&&Rr(()=>{(o.value?.querySelector(".move-left")).focus()})},x=Bt(()=>c.screenId?c.panel.screens[c.screenId][s.$i18n.locale.value??"en"]:null);return ni(()=>{o.value?.addEventListener("blur",()=>{o.value?._tippy?.hide()}),o.value?.addEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),hs(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",A=>{A.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(A,T)=>{const w=xn("back"),_=xn("panel-options-menu"),M=xn("left"),I=xn("right"),N=xn("pin"),C=xn("expand"),P=xn("minimize"),D=xn("close"),U=be("truncate"),j=be("focus-item"),G=be("tippy");return ve((st(),mt("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${wt(n)(t.panel.alertName)+". "+wt(n)("panels.access")}</div>`,ref_key:"el",ref:o},[t.header?(st(),mt("header",ASt,[zt(w,{class:Xe(t.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=Z=>t.panel.close())},null,8,["class"]),ve((st(),mt("h2",TSt,[A.$slots.header?ps(A.$slots,"header",{key:0}):(st(),mt("div",MSt,ge(wt(n)(t.panel.alertName)),1))])),[[U]]),A.$slots.controls?(st(),ke(_,{key:0},{default:wn(()=>[ps(A.$slots,"controls")]),_:3})):Ie("",!0),nt("div",{class:Xe(t.panel.teleport?"flex":"display-none sm:flex")},[t.panel.teleport?Ie("",!0):(st(),mt("div",ISt,[f.value?(st(),ke(M,{key:0,onClick:T[1]||(T[1]=Z=>b("left")),active:!t.panel.isLeftMostPanel},null,8,["active"])):Ie("",!0),f.value?(st(),ke(I,{key:1,onClick:T[2]||(T[2]=Z=>b("right")),active:!t.panel.isRightMostPanel},null,8,["active"])):Ie("",!0),zt(N,{onClick:T[3]||(T[3]=Z=>t.panel.pin()),active:t.panel.isPinned},null,8,["active"]),t.panel.controls&&t.panel.controls.expand?(st(),ke(C,{key:2,onClick:T[4]||(T[4]=Z=>t.panel.expand()),active:t.panel.expanded},null,8,["active"])):Ie("",!0)])),t.panel.button&&p.value?.includes(t.panel.id)?(st(),ke(P,{key:1,onClick:T[5]||(T[5]=Z=>t.panel.minimize())})):Ie("",!0),zt(D,{onClick:T[6]||(T[6]=Z=>t.panel.close())})],2)])):Ie("",!0),t.content?(st(),mt("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[A.$slots.content?ps(A.$slots,"content",{key:0}):x.value?(st(),mt("div",{key:1,innerHTML:x.value.innerHTML},null,8,OSt)):Ie("",!0)],512)):Ie("",!0),t.footer?ve((st(),mt("div",NSt,[ps(A.$slots,"footer")])),[[j]]):Ie("",!0)],8,SSt)),[[G,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:t.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),kSt={class:"relative"},PSt=["content","aria-label"],LSt=["transform"],RSt=Yt({__name:"pin",props:{active:Boolean},setup(t){const{t:e}=He();return(n,i)=>{const r=be("tippy");return st(),mt("div",kSt,[ve((st(),mt("button",{type:"button",class:Xe(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:wt(e)(t.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":wt(e)(t.active?"panels.controls.unpin":"panels.controls.pin")},[(st(),mt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${t.active?30:0})`},i[0]||(i[0]=[nt("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,LSt))],10,PSt)),[[r,{placement:"bottom",hideOnClick:!1}]])])}}}),DSt={class:"relative"},FSt=["content","aria-label"],jSt=Yt({__name:"close",props:{active:Boolean},setup(t){const{t:e}=He();return(n,i)=>{const r=be("tippy");return st(),mt("div",DSt,[ve((st(),mt("button",{type:"button",class:Xe(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:wt(e)("panels.controls.close"),"aria-label":wt(e)("panels.controls.close")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[nt("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,FSt)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),GSt={class:"relative"},$St=["content","aria-label"],USt=Yt({__name:"back",props:{active:Boolean},setup(t){const{t:e}=He();return(n,i)=>{const r=be("tippy");return st(),mt("div",GSt,[ve((st(),mt("button",{type:"button",class:Xe(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:wt(e)("panels.controls.back"),"aria-label":wt(e)("panels.controls.back")},i[0]||(i[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[nt("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,$St)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),VSt={class:"w-32 h-32"},zSt=["content","aria-label"],BSt={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},WSt={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},qSt=Yt({__name:"expand",props:{active:Boolean},setup(t){const{t:e}=He();return(n,i)=>{const r=be("tippy");return st(),mt("div",VSt,[ve((st(),mt("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:wt(e)(`panels.controls.${t.active?"collapse":"expand"}`),"aria-label":wt(e)(`panels.controls.${t.active?"collapse":"expand"}`)},[t.active?(st(),mt("svg",WSt,i[1]||(i[1]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),nt("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),nt("path",{d:"M4 12h16v2H4z"},null,-1)]))):(st(),mt("svg",BSt,i[0]||(i[0]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),nt("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,zSt)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),HSt={class:"relative"},ZSt=["content","aria-label"],YSt=Yt({__name:"minimize",props:{active:Boolean},setup(t){const{t:e}=He();return(n,i)=>{const r=be("tippy");return st(),mt("div",HSt,[ve((st(),mt("button",{type:"button",class:Xe(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":t.active}]),content:wt(e)("panels.controls.minimize"),"aria-label":wt(e)("panels.controls.minimize")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[nt("path",{d:"M0 0h24v24H0V0z",fill:"none"}),nt("path",{d:"M6 19h12v2H6z"})],-1)]),10,ZSt)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),JSt={class:"relative"},XSt=["content","aria-label"],QSt=Yt({__name:"right",props:{active:Boolean},setup(t){const{t:e}=He();return(n,i)=>{const r=be("tippy");return st(),mt("div",JSt,[ve((st(),mt("button",{type:"button",class:Xe(["p-8",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:wt(e)("panels.controls.moveRight"),"aria-label":wt(e)("panels.controls.moveRight")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[nt("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,XSt)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),KSt={class:"relative"},tAt=["content","aria-label"],eAt=Yt({__name:"left",props:{active:Boolean},setup(t){const{t:e}=He();return(n,i)=>{const r=be("tippy");return st(),mt("div",KSt,[ve((st(),mt("button",{type:"button",class:Xe(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:wt(e)("panels.controls.moveLeft"),"aria-label":wt(e)("panels.controls.moveLeft")},i[0]||(i[0]=[nt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[nt("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,tAt)),[[r,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),nAt=Yt({__name:"panel-options-menu",setup(t){const{t:e}=He();return(n,i)=>(st(),ke(QT,{class:"flex",tooltip:wt(e)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:wn(()=>i[0]||(i[0]=[nt("div",{class:"p-6"},[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[nt("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:wn(()=>[ps(n.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),iAt=Lo(nAt,[["__scopeId","data-v-51e22a4a"]]),rAt={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},sAt={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},oAt=Yt({__name:"fullscreen-nav",setup(t){const{t:e}=He(),n=In("iApi"),i=()=>{n.toggleFullscreen()};return(r,s)=>{const o=xn("mapnav-button");return st(),ke(o,{onClickFunction:i,tooltip:wt(e)("mapnav.fullscreen")},{default:wn(()=>[wt(n).isFullscreen?(st(),mt("svg",rAt,s[0]||(s[0]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(st(),mt("svg",sAt,s[1]||(s[1]=[nt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),nt("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),aAt=Yt({__name:"geolocator-nav",setup(t){const{t:e}=He(),n=In("iApi");let i=Zn([]);const r=async()=>{if(i.length)s(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?n.notify.show(Ur.ERROR,e("mapnav.geolocator.error.permission")):n.notify.show(Ur.ERROR,e("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],s(i))}},s=a=>{const l=new ui("geolocation",a,Pt.latLongSR(),!0);n.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=xn("mapnav-button");return st(),ke(c,{onClickFunction:r,tooltip:wt(e)("mapnav.geolocator")},{default:wn(()=>l[0]||(l[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[nt("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),lAt=Yt({__name:"home-nav",setup(t){const{t:e}=He(),n=In("iApi"),i=()=>{const r=n.geo.map.getExtentSet();n.geo.map.zoomMapTo(r.fullExtent)};return(r,s)=>{const o=xn("mapnav-button");return st(),ke(o,{onClickFunction:i,tooltip:wt(e)("mapnav.home")},{default:wn(()=>s[0]||(s[0]=[nt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[nt("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),nt("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),cAt={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},uAt=["content","aria-label"],hAt=Yt({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1},showOutline:{type:Boolean,default:!1}},setup(t){return(e,n)=>{const i=be("focus-item"),r=be("tippy");return st(),mt("div",cAt,[ve((st(),mt("button",{type:"button",class:Xe(["w-full h-full default-focus-style",[t.showOutline?"focus:outline focus:outline-2 focus:outline-blue-400 focus:absolute focus:z-50":"focus:outline-none"]]),onClick:n[0]||(n[0]=s=>t.onClickFunction()),content:t.tooltip,"aria-label":typeof t.tooltip=="string"?t.tooltip:""},[ps(e.$slots,"default")],10,uAt)),[[i],[r,{placement:"left"}]])])}}}),pAt={class:"relative",tabindex:"-1"},dAt=["aria-label","content"],fAt=Yt({__name:"button",props:{onClickFunction:{type:Function,required:!0},buttonId:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){const e=In("iApi"),n=t,i=()=>e.event.emit(Et.APPBAR_BUTTON_CLICK,n.buttonId);return(r,s)=>{const o=be("focus-item"),a=be("tippy");return st(),mt("div",pAt,[ve((st(),mt("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{t.onClickFunction(),i()}),"aria-label":String(t.tooltip),content:`<div style='word-break: break-word;'>${t.tooltip}</div>`},[ps(r.$slots,"default",{},void 0,!0)],8,dAt)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),mAt=Lo(fAt,[["__scopeId","data-v-1cb84ae1"]]),xz=We("areas-of-interest",()=>({areas:J([])})),Ez=We("export",()=>{const t=J({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),e=J("");function n(i){if(t.value[i.name]!==void 0){const r=t.value[i.name];t.value[i.name]=i.selected!==void 0?i.selected:!r}}return{componentSelectedState:t,fileName:e,toggleSelected:n}}),Sz=We("extentguard",()=>{const t=J(!1);function e(l){t.value=l}const n=J(!1);function i(l){n.value=l}const r=J(!1);function s(l){r.value=l}const o=J([]);function a(l){o.value=l}return{active:t,setActive:e,enforcing:n,setEnforcing:i,alwaysOn:r,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),dd=function t(e){function n(r,s,o){var a,l={};if(Array.isArray(r))return r.concat(s);for(a in r)l[o?a.toLowerCase():a]=r[a];for(a in s){var c=o?a.toLowerCase():a,p=s[a];l[c]=c in l&&typeof p=="object"?n(l[c],p,c=="headers"):p}return l}function i(r,s,o,a,l){var c=typeof r!="string"?(s=r).url:r,p={config:s},d=n(e,s),f={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(f.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),f["content-type"]="application/json");try{f[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:n(d.headers,f,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(p[g]=y[g]);return d.responseType=="stream"?(p.data=y.body,p):y[d.responseType||"text"]().then(function(b){p.data=b,p.data=JSON.parse(b)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?p:Promise.reject(p)})})}return e=e||{},i.request=i,i.get=function(r,s){return i(r,s,"get")},i.delete=function(r,s){return i(r,s,"delete")},i.head=function(r,s){return i(r,s,"head")},i.options=function(r,s){return i(r,s,"options")},i.post=function(r,s,o){return i(r,o,"post",s)},i.put=function(r,s,o){return i(r,o,"put",s)},i.patch=function(r,s,o){return i(r,o,"patch",s)},i.all=Promise.all.bind(Promise),i.spread=function(r){return r.apply.bind(r,r)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=e,i.create=t,i}(),yAt={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,Y:60},gAt={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class vAt{provinceList=[];listFetched=!1;constructor(e){dd.get(e).then(n=>{this.provinceList=n.data.definitions.map(r=>{const s=parseInt(r.code);return{code:s,abbr:gAt[s],name:r.description}});const i={code:-1,abbr:"...",name:"..."};this.provinceList.push(i),this.provinceList.sort((r,s)=>r.name>s.name?1:-1),this.listFetched=!0})}codeToProvince(e){return this.provinceList.find(n=>n.code===e)}nameToProvince(e){return this.provinceList.find(n=>n.name===e)}abbrToProvince(e){return this.provinceList.find(n=>n.abbr===e)}fsaToProvince(e){let n;const i=e.toUpperCase(),r=i.substring(0,1);return r==="X"?i==="X0A"||i==="X0B"||i==="X0C"?n=62:n=61:n=yAt[r],this.codeToProvince(n)}}function bAt(t){return new vAt(t)}const Gb={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"R\xE9gion De Tri D'Acheminement",NTS:"Syst\xE8me National De R\xE9f\xE9rence Cartographique",COORD:"Latitude/Longitude",SCALE:"\xC9chelle"}};class _At{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,n){dd.get(n).then(i=>{i.data.definitions.forEach(r=>{Gb[e][r.code]=r.term.split(`${r.code}-`)[1]}),Object.keys(Gb[e]).forEach(r=>{this.allTypes[r]=Gb[e][r],this.validTypes[r]=Gb[e][r]}),this.typesFetched=!0})}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e=typeof e=="string"?[e]:e,e&&e.length>0)for(const n of e)delete this.validTypes[n];return this.filterComplete=!0,this.validTypes}}function wAt(t,e){return new _At(t,e)}function Ms(t,e){return t.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}class $b{config;query;failedServs=[];results=[];constructor(e,n=""){this.query=n,this.config=e}addResult(e){Array.isArray(e)?this.results=this.results.concat(e):this.results.push(e)}}async function xAt(t,e){let n,i;const r=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,s=/^\d{2,3}[A-P]/,o=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;return r.test(e)&&!t.disabledSearchTypes.includes("LAT/LNG")?(i=e.slice(0,-1),n=new $b(t,i),await TAt(n)):o.test(e)&&!t.disabledSearchTypes.includes("FSA")?(i=e.substring(0,3).toUpperCase(),n=new $b(t,i),await MAt(n)):s.test(e)&&!t.disabledSearchTypes.includes("NTS")?(i=e.substring(0,6).toUpperCase(),n=new $b(t,i),await IAt(n)):(i=encodeURIComponent(e.trim()),n=new $b(t,i),await OAt(n)),t.customSources.length&&await EAt(n,t.customSources),n}const Ub=async t=>{const[e,n]=await Ms(dd.get(t));return e?(console.error("Request error from "+t),console.error(e),Promise.reject("Could not load results from remote service.")):n.data},Vb=(t,e,n)=>[t+n,e-n,t-n,e+n],B5=(t,e,n,i)=>{let r="";const s=t.config;return e?r=s.geoLocateUrl+"?q="+t.query:(n&&i?r=`${s.geoNameUrl}?lat=${n}&lon=${i}&num=${s.maxResults}`:r=`${s.geoNameUrl}?q=${t.query}&num=${s.maxResults}`,s.categories.length>0&&(r+=`&concise=${s.categories.join(",")}`),s.officialOnly&&(r+="&category=O")),r},Az=(t,e)=>e.filter(n=>t.types.validTypes[n.concise.code]).map(n=>({name:n.name,flav:"nme",bbox:n.bbox,type:t.types.allTypes[n.concise.code],location:{city:n.location,province:t.provinces.codeToProvince(parseInt(n.province.code))},order:t.sortOrder.indexOf(n.concise.code)>=0?t.sortOrder.indexOf(n.concise.code):t.sortOrder.length})),EAt=async(t,e)=>{const n=(await Promise.all(e.map(i=>i.onSearch(t.query)))).flat();t.addResult(n)},W5=async t=>{const[e,n]=await Ms(Ub(B5(t,!0)));return e?(console.error("Geolocation service failed"),t.failedServs.push("geolocation"),[]):n},SAt=async t=>{const[e,n]=await Ms(Ub(B5(t,!1)));let i;e?(console.error("GeoName service targeting Name failed"),t.failedServs.push("geoname"),i=[]):i=n.items,t.addResult(Az(t.config,i))},AAt=async(t,e,n)=>{const[i,r]=await Ms(Ub(B5(t,!1,e,n)));let s;i?(console.error("GeoName service targeting Lat Lon failed"),t.failedServs.push("geoname"),s=[]):s=r.items,t.addResult(Az(t.config,s))},TAt=async t=>{const e=t.query.split(/[\s|,|;|]/).filter(s=>!isNaN(s)&&s!=="").map(s=>parseFloat(s)),n=e[0],i=e[1],r={name:`${n},${i}`,flav:"llg",location:{},type:"Latitude/Longitude",bbox:Vb(i,n,.015),order:-1};await AAt(t,n,i),t.addResult(r)},MAt=async t=>{const e=t.config,n=await W5(t);if(n.length){const i=n[0].geometry.coordinates,r=i[1],s=i[0],o={name:t.query,flav:"fsa",bbox:Vb(s,r,.03),type:e.types.allTypes.FSA,location:{province:e.provinces.fsaToProvince(t.query)},order:-1};t.addResult(o)}},IAt=async t=>{const e=t.config,n=await W5(t);if(n.length){const i=n[0],r=i.title.split(" "),s=r.shift()||"",o=r.join(" "),a=i.geometry.coordinates,l=a[1],c=a[0],p={name:s,flav:"nts",bbox:i.bbox??Vb(c,l,.03),type:e.types.allTypes.NTS,location:{city:o},order:-1};t.addResult(p)}},OAt=async t=>{const e=t.config;if(await SAt(t),e.categories.length===0||e.categories.includes("ADDR")){const n=await W5(t),i=e.sortOrder.indexOf("ADDR"),r=i>=0?i:e.sortOrder.length,s=n.filter(o=>o.type?.includes("Street")).map(o=>{const[a,l,c]=o.title.split(", "),p=o.geometry.coordinates,d=p[1],f=p[0];return{name:a,flav:"add",bbox:Vb(f,d,.002),type:e.types.allTypes.ADDRESS,location:{city:l.split(" Of ").pop(),province:e.provinces.nameToProvince(c)},order:r}});t.addResult(s)}},Tz="~FSA~",Mz="https://geogratis.gc.ca/services/geolocation/@{language}/locate",Iz="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",Oz="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",Nz="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json";class Cz{config;constructor(e,n){let i,r,s,o;const a=n?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:Mz,r=a.geoNames?a.geoNames:Iz,s=a.geoProvince?a.geoProvince:Oz,o=a.geoTypes?a.geoTypes:Nz):(i=Mz,r=Iz,s=Oz,o=Nz),i=i.replace("@{language}",e),r=r.replace("@{language}",e),s=s.replace("@{language}",e),o=o.replace("@{language}",e);let l="";const c=n?.fsaBoundaries;if(c&&c.serviceUrl){const A=c.keyField||"CFSAUID";l=`${c.serviceUrl}/query/?where=${A}%3D'${Tz}'&outFields=${A}&returnGeometry=true&f=json`}const p=n?.settings;let d,f,y,g,b,x;p?(d=p.categories?p.categories:[],f=p.sortOrder?p.sortOrder:[],y=p.disabledSearchTypes?p.disabledSearchTypes:[],g=p.maxResults>0?p.maxResults:100,b=!!p.officialOnly):(d=[],f=[],y=[],g=100,b=!1),x=n?.customSources??[],x=x.map(A=>({...A,onSearch:async T=>{const w=A.data??[],_=q5().cleanVal(T).replace("*","");return w.filter(M=>M.name.toLowerCase().includes(_)).map(M=>({name:M.name,type:A.catName,bbox:M.bbox,flav:"nme",location:{province:this.config.provinces.abbrToProvince(M.prov),city:M.city},order:f.indexOf(A.code)>=0?f.indexOf(A.code):f.length}))}})),this.config={language:e,geoNameUrl:r,geoLocateUrl:i,fsaUrl:l,types:wAt(e,o),provinces:bAt(s),categories:d,sortOrder:f,disabledSearchTypes:y,maxResults:g,officialOnly:b,customSources:x},this.config.types.filterValidTypes(n?.excludeTypes),this._typeList=[],this._excludedTypes=n?.excludeTypes||[]}get typeList(){return this._typeList}set typeList(e){this._typeList=e}levenshteinDistance(e,n){n=n.toLowerCase().trim(),e=decodeURI(e.toLowerCase().replace("*",""));const i=[];for(let r=0;r<=n.length;r++){i[r]=[r];for(let s=1;s<=e.length;s++)i[r][s]=r===0?s:Math.min(i[r][s-1]+1,i[r-1][s]+.2,i[r-1][s-1]+(e[s-1]===n[r-1]?0:1))}return i[n.length][e.length]}async query(e){const n=await xAt(this.config,e.toUpperCase()),i=this.config.sortOrder.length,r=n.results.filter(l=>l.order<i),s=n.results.filter(l=>l.order>=i);r.sort((l,c)=>l.order-c.order);const o=this.config.maxResults;let a;return r.length>=o?a=r.slice(0,o):(s.forEach(l=>l.order=this.levenshteinDistance(n.query,l.name)),s.sort((l,c)=>l.order-c.order),a=r.concat(s.slice(0,o-r.length))),{results:a,failedServs:n.failedServs}}fetchProvinces(){return new Promise(e=>{const n=setInterval(()=>{this.config.provinces.listFetched&&(clearInterval(n),e(this.config.provinces.provinceList))},100)})}fetchTypes(){return new Promise(e=>{const n=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(n);const i=[],r={code:-1,name:"..."};i.push(r);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||i.push({code:o,name:s[o]});this.config.customSources.length&&this.config.customSources.forEach(o=>{i.some(a=>a.code===o.code)||i.push({code:o.code,name:o.catName})}),this.typeList=i,e(this.typeList)}},100)})}}function kz(t,e,n){if(t&&e.extent){const i=e.extent;n=n.filter(r=>r.bbox[0]<=i.xmax&&r.bbox[1]<=i.ymax&&r.bbox[2]>=i.xmin&&r.bbox[3]>=i.ymin)}return e.province&&e.province!=="..."&&(n=n.filter(i=>i.location.province?.name&&i.location.province.name===e.province)),e.type&&e.type!=="..."&&(n=n.filter(i=>i.type===e.type)),n}const q5=We("geosearch",()=>{const t=J(new Cz("en",void 0)),e=J({type:"",province:"",extent:void 0}),n=J(!1),i=J(""),r=J(""),s=J(""),o=J([]),a=J([]),l=J(!1),c=J([]),p=Bt(()=>t.value.fetchProvinces().then(_=>(_.sort((M,I)=>M.name.localeCompare(I.name,void 0,{sensitivity:"case"})),_))),d=Bt(()=>new Promise(_=>{t.value.fetchTypes().then(M=>{M.sort((I,N)=>I.name.localeCompare(N.name,void 0,{sensitivity:"case"})),_(M)})}));function f(_,M){t.value=new Cz(_,M)}function y(_){return _.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function g(_){l.value=!0;const M=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!M)o.value=[],a.value=[],l.value=!1;else if(M&&M!==s.value||_){const I=setInterval(()=>{t.value.config.provinces.listFetched&&t.value.config.types.typesFetched&&(clearInterval(I),t.value.query(`${M}*`).then(N=>{c.value=N.failedServs,s.value=M,a.value=N.results;const C=kz(n.value,e.value,a.value);o.value=C||[],l.value=!1}))},250)}else{const I=kz(n.value,e.value,a.value);o.value=I||[],l.value=!1}}function b(_){e.value.province=typeof _.province>"u"?"":_.province,g(_.forceReRun)}function x(_){e.value.type=typeof _.type>"u"?"":_.type,g(_.forceReRun)}function A(_){s.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=_,g()}function T(_){const M={a:"\xE0\xE1\xE2\xE3\xE4\xE5\u0101\u0103\u0105\u01CE\u0201\u0203\u0227\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7",b:"\u1E03\u0253\u1E05\u1E07",c:"\xE7\u0107\u0109\u010B\u010D",d:"\u010F\u1E0B\u1E0D\u1E0F\u1E11\u1E13",e:"\xE8\xE9\xEA\xEB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7",f:"\u0192\u1E1F",g:"\u011D\u011F\u0121\u0123\u01E7\u01F5\u1E21",h:"\u0125\u021F\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96",i:"\xEC\xED\xEE\xEF\u0129\u012B\u012D\u012F\u0131\u0209\u020B\u1ECB\u1EC9\u0129",j:"\u0135\u01F0\u0249",k:"\u0137\u0138\u0199\u1E33\u1E35",l:"\u013A\u013C\u013E\u0140\u0142\u1E37\u1E39\u1E3B\u1E3D",m:"\u1E3F\u1E41\u1E43",n:"\xF1\u0144\u0146\u0148\u0149\u014B\u01F9\u1E45\u1E47\u1E49\u1E4B",o:"\xF2\xF3\xF4\xF5\xF6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022F\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3",p:"\u1E55\u1E57",r:"\u0155\u0157\u0159\u0211\u0213\u1E5B\u1E5D\u1E5F",s:"\u015B\u015D\u015F\u0161\u0219\u1E61\u1E63\u1E65\u1E67\u1E69",t:"\u0163\u0165\u0167\u021B\u1E6B\u1E6D\u1E6F\u1E71\u1E97",u:"\xF9\xFA\xFB\xFC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1",v:"\u1E7D\u1E7F",w:"\u1E81\u1E83\u0175\u1E85\u1E87\u1E89\u1E8B",x:"\u1E8B\u1E8D",y:"\u1EF3\xFD\u0177\xFF\u1EF9\u0233\u1E8F\u1E99\u1EF5\u1EF7\u1EF9",z:"\u017A\u017C\u017E\u1E91\u1E93\u1E95"};_=y(_),r.value=Array.from(_).map(I=>Object.keys(M).includes(I)?"["+I+M[I]+"]":I.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function w(_){if(_.visible!==void 0&&(n.value=_.visible),_.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");e.value.extent=_.extent,g()}return{GSservice:t,queryParams:e,resultsVisible:n,searchVal:i,searchRegex:r,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:p,getTypes:d,initService:f,runQuery:g,setProvince:b,setType:x,setSearchTerm:A,setSearchRegex:T,setMapExtent:w,cleanVal:y}}),Pz=We("help",()=>({location:J("./help/")}));var H5=(t=>(t.Visibility="visibilityButton",t.Expand="expandButton",t))(H5||{}),zb=(t=>(t.Item="item",t.Placeholder="placeholder",t.Error="error",t))(zb||{});class Z5 extends _n{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,n,i){super(e),this._uid=uc.sharedUtils.generateUUID(),this._name=n.name,this._type=n.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new vn,this._hidden=n.hidden??!1,this._expanded=n.expanded??!0,this._visibility=!0,this._exclusive=n.exclusive??!1,this._controls=n.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=n.disabledControls?.slice(),this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return this._disabledControls?.includes(e)?!1:this._controls?.includes(e)}setControl(e,n){n&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter(i=>i!==e),this._controls?.push(e)):!n&&this._controls?.includes(e)&&(this._controls=this._controls.filter(i=>i!==e),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,n=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Ua)||this._lastVisible.layerControlAvailable(cn.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(r=>!(r instanceof Ua)||r.layerControlAvailable(cn.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&n&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(e=>e.visibility&&e!==this&&e.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof Ua&&!this.layerControlAvailable(cn.Visibility)||(this.exclusive?e.visibility?(this.children.forEach(n=>{n.uid!==e.uid&&n.toggleVisibility(!1,!1)}),this._lastVisible=e,this._visibility=!0,this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some(n=>n.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(n=>n.visibility),this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Ua&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},n=[];return this.children.forEach(i=>{n.push(i.getConfig())}),this.exclusive?e.exclusiveVisibility=n:e.children=n,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new vn}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Ua extends Z5{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,n,i){if(super(e,n,i),this._type=zb.Placeholder,this._layerId=n.layerId,this._layerIdx=n.sublayerIndex,this._isSublayer=n.sublayerIndex!==void 0,this._layerControls=n.layerControls??[],this._origLayerControls=n.layerControls,this._layerDisabledControls=n.disabledLayerControls??[],this._origLayerDisabledControls=n.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=n.symbologyExpanded||!1,n.coverIcon&&(this._coverIcon=n.coverIcon),n.description&&(this._description=n.description),this._symbologyRenderStyle=n.symbologyRenderStyle??"icons",this._customSymbology=!!n.symbologyStack,this._symbologyStack=n.symbologyStack?.map(r=>({uid:this.$iApi.geo.shared.generateUUID(),label:r.text,definitionClause:r.sqlQuery,imgUrl:r.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=n.maxLines&&[1,2,3,4,5,6].includes(n.maxLines)?n.maxLines:void 0,!this._name){const r=this.$iApi.getConfig()?.layers;if(r&&Array.isArray(r)){const s=r.find(o=>o.id===this._layerId);if(s)if(this._isSublayer){if(s.sublayers&&Array.isArray(s.sublayers)){const o=s.sublayers.find(a=>a.index===this._layerIdx);o&&o.name&&(this._name=o.name)}}else s.name&&(this._name=s.name)}}}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,n=!0,i=!1){if(!(!this.layerControlAvailable(cn.Visibility)&&!i)&&(super.toggleVisibility(e,n),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const r=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{r||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}clickSymbologyByIndex(e,n){const i=this._symbologyStack[e].uid;this.clickSymbology(i,n)}symbolsVisible(){return this.symbologyStack.some(e=>e.visibility)}clickSymbology(e,n){if(!this.symbolsVisible()&&n!==!1?(this.setSymbologyVisibility(void 0,!1),this.setSymbologyVisibility(e,!0),this.toggleVisibility(!0)):this.setSymbologyVisibility(e,n),this.symbolsVisible()||this.toggleVisibility(!1),this.layer?.supportsFeatures){const i=this.symbologyStack.filter(s=>s.lastVisbility).map(s=>s.definitionClause||"");let r="";i.length===0?r="1=2":i.length<this.symbologyStack.length&&(r=i.join(" OR ")),this.layer.setSqlFilter(ri.SYMBOL,r)}}setSymbologyVisibility(e,n){const i=e===void 0;this._symbologyStack.some(r=>{if(i||r.uid===e){const s=n??!r.lastVisbility;r.visibility=s,r.lastVisbility=s}return!i&&r.uid===e})}load(e){const n=e instanceof qb?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);n&&(this.layer=n,this._layerRedrawing=n.mapLayer&&n.drawState!==ji.UP_TO_DATE,n.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:n.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),n.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Et.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===zb.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Et.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===ji.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===ji.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?n.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Et.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return this._layerDisabledControls?.includes(e)?!1:!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var Lz=(t=>(t.Title="title",t.Text="text",t.Image="image",t.Markdown="markdown",t.Template="template",t))(Lz||{});class Y5 extends Z5{_infoType;_content;constructor(e,n,i){super(e,n,i),this._infoType=n.infoType??"title",this._content=n.content??"",n.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(n.infoType||n.content)&&(this._controls=n.controls?.slice()??[H5.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const Rz=We("legend",()=>{const t=J(),e=J([]),n=J([]),i=J(!0),r=J(3);function s(l){if(l.parent===void 0)e.value.push(l.item);else{if(!(l.item instanceof Y5)&&!(l.item instanceof Ua)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=p=>(p=p.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),p.forEach(d=>{d.children=c(d.children)}),p=p.filter(d=>!(d instanceof Y5&&!d.children.length&&d.content==="")),p);e.value=c(e.value)}function a(l){if(l.oldItem.parent===void 0){const c=e.value,p=c.indexOf(l.oldItem);p>-1&&(e.value[p]=l.newItem),e.value=c}else{const c=l.oldItem.parent.children,p=c.indexOf(l.oldItem);p>-1&&(c[p]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:t,multilineItems:i,maxLines:r,children:e,headerControls:n,addItem:s,removeItem:o,replaceItem:a}}),Dz=We("mapnav",()=>{const t=J({}),e=J([]);function n(i){i in t.value&&delete t.value[i];const r=e.value.indexOf(i);r!==-1&&e.value.splice(r,1)}return{items:t,order:e,removeItem:n}}),Fz=We("metadata",()=>{const t=J(""),e=J({type:"LineString",coordinates:[]});return{status:t,response:e}}),jz=We("northarrow",()=>{const t=J(""),e=J("");return{arrowIcon:t,poleIcon:e}}),Gz=We("overviewmap",()=>{const t=J({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),e=J({}),n=J(!0),i=J(1.5),r=J("#FF0000"),s=J(1),o=J("#000000"),a=J(.25);function l(c){t.value.initialBasemapId=c}return{mapConfig:t,basemaps:e,startMinimized:n,expandFactor:i,borderColour:r,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),$z=We("scrollguard",()=>{const t=J(!1);function e(n){t.value=n}return{enabled:t,setEnabled:e}});var mi=(t=>(t[t.UPLOAD=0]="UPLOAD",t[t.FORMAT=1]="FORMAT",t[t.CONFIGURE=2]="CONFIGURE",t))(mi||{});const Uz=We("wizard",()=>{const t={id:"Placeholder",layerType:xt.UNKNOWN,url:""},e=J(),n=J(""),i=J(""),r=J(!0),s=J(null),o=J({config:t,configOptions:[]}),a=J(mi.UPLOAD);function l(c){switch(a.value){case mi.UPLOAD:c===mi.UPLOAD?n.value="":c===mi.FORMAT&&(a.value=mi.FORMAT);break;case mi.FORMAT:c===mi.UPLOAD?(s.value&&(n.value="",s.value=null),i.value="",a.value=mi.UPLOAD):c===mi.CONFIGURE&&(a.value=mi.CONFIGURE);break;case mi.CONFIGURE:c===mi.UPLOAD?(n.value="",i.value="",s.value=null,r.value=!0,o.value={config:t,configOptions:[]},a.value=mi.UPLOAD):c===mi.FORMAT&&(o.value={config:t,configOptions:[]},r.value=!0,a.value=mi.FORMAT);break}}return{layerSource:e,url:n,typeSelection:i,nested:r,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class NAt{fixture;panel;event;geo;notify;dev;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,n,i){this.event=new egt(this);const r=CAt(e,this);this.$vApp=r.app,this.$element=r.element,this.$i18n=r.i18n,this.$rootEl=r.app.$root?.$el,this.fixture=new BTt(this),this.panel=new WTt(this),this.geo=new VTt(this),this.dev=new XTt(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new T4t(this),this._isFullscreen=No.isEnabled&&!!this.$vApp.$root&&No.isFullscreen&&No.element===this.$vApp.$root.$el,No.isEnabled&&No.onchange(()=>{this._isFullscreen=No.isEnabled&&!!this.$vApp.$root&&No.isFullscreen&&No.element===this.$vApp.$root.$el}),this.initialize(!0,n,i)}initialize(e,n,i){const r=Ki(this.$vApp.$pinia),s=ic(this.$vApp.$pinia),o=U2(this.$vApp.$pinia);if(n?.configs!==void 0){const l=Object.keys(this.$i18n.messages.value);r.registerAllConfigs(n,l);const c=r.registeredConfigs[r.registeredLangs[this.$i18n.locale.value]];r.newConfig(c),r.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const p=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(p),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let b=0;c.layers.forEach(x=>{const A=this.geo.layer.createLayer(x);this.geo.map.addLayer(A,b).catch(()=>{}),A.mapLayer&&b++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(b=>b.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(b=>{this.panel.open({id:b.id,screen:b.screen}),b.pin&&this.panel.pin(b.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},f=c.system?.zoomIcon||"globe",y=d[f]||f;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const b={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,x=>b[x])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}i||(i={});const a=id(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Et.MAP_START)),e&&(i.loadDefaultFixtures!==!1||n?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(n?.startingFixtures):e||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reloadWorker(e,n){const i=id(this.$vApp.$pinia),r=Fo(this.$vApp.$pinia),s=Ki(this.$vApp.$pinia),o=gs(this.$vApp.$pinia),a=Ks(this.$vApp.$pinia),l=M2(this.$vApp.$pinia),c=!!e;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(p=>{l.removeGrid(p)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),n?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),c||(e=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),r.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,e,n),c&&this.event.emit(Et.CONFIG_CHANGE,this.getConfig())}reload(e,n){this.reloadWorker(e,n),this.event.emit(Et.RAMP_RELOAD)}component(e,n){if(n){const i=this.$element.component(e,n);return this.event.emit(Et.COMPONENT,e),i}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=Ki(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","keyboardnav","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)&&!this.fixture.exists(e)))switch(e){case"appbar":return l0(this.$vApp.$pinia);case"areas-of-interest":return xz(this.$vApp.$pinia);case"details":return tT(this.$vApp.$pinia);case"export":return Ez(this.$vApp.$pinia);case"extentguard":return Sz(this.$vApp.$pinia);case"geosearch":return q5(this.$vApp.$pinia);case"grid":return M2(this.$vApp.$pinia);case"help":return Pz(this.$vApp.$pinia);case"keyboardnav":return KT(this.$vApp.$pinia);case"legend":return Rz(this.$vApp.$pinia);case"mapnav":return Dz(this.$vApp.$pinia);case"metadata":return Fz(this.$vApp.$pinia);case"northarrow":return jz(this.$vApp.$pinia);case"overviewmap":return Gz(this.$vApp.$pinia);case"scrollguard":return $z(this.$vApp.$pinia);case"wizard":return Uz(this.$vApp.$pinia);case"config":return Ki(this.$vApp.$pinia);case"fixture":return gs(this.$vApp.$pinia);case"instance":return id(this.$vApp.$pinia);case"layer":return Ks(this.$vApp.$pinia);case"map-caption":return Xl(this.$vApp.$pinia);case"maptip":return U2(this.$vApp.$pinia);case"notification":return Fo(this.$vApp.$pinia);case"panel":return ic(this.$vApp.$pinia);default:console.error(`The store ${e} does not exist.`);return}}setLanguage(e){if(this.$i18n.locale.value===e)return;const n=Ki(this.$vApp.$pinia),i=Fo(this.$vApp.$pinia),r=n.registeredLangs;Object.keys(n.registeredConfigs).length===1&&i.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();r[s]!==r[e]&&(this.reloadWorker(),this.event.emit(Et.CONFIG_CHANGE,o)),this.event.emit(Et.LANG_CHANGE,{oldLang:s,newLang:e})}get language(){return this.$vApp.$i18n.locale}get keyboardNav(){return this.fixture.get("keyboardnav")}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){No.isEnabled&&No.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return id(this.$vApp.$pinia).started}updateAlert(e){const n=this.$vApp.$el.querySelector(".screen-reader-alert");n.childNodes.length>0&&(n.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const r=document.createTextNode(e);i.appendChild(r),n.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=id(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(Et.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function CAt(t,e){const n=Zyt();n.use(({store:o})=>{const a=mU(o.$state);o.$reset=()=>o.$patch(mU(a))});const i=hvt(),r=ql(NEt).use(i).use(AEt,{directive:"tippy",component:"tippy"}).use(n);r.directive("focus-container",jEt),r.directive("focus-list",PEt),r.directive("focus-item",REt),r.directive("truncate",wSt),r.component("panel-screen",CSt),r.component("pin",RSt),r.component("close",jSt),r.component("back",USt),r.component("expand",qSt),r.component("panel-options-menu",iAt),r.component("dropdown-menu",QT),r.component("minimize",YSt),r.component("right",QSt),r.component("left",eAt),r.component("fullscreen-nav-button",oAt),r.component("geolocator-nav-button",aAt),r.component("home-nav-button",lAt),r.component("mapnav-button",hAt),r.component("appbar-button",mAt),r.component("transition",Hm),r.component("transition-group",e2),r.config.globalProperties.$iApi=e,r.config.globalProperties.$pinia=n,r.config.idPrefix=`ramp-${t.id||uc.sharedUtils.generateUUID()}`,r.provide("iApi",e);const s=r.mount(t);return{element:r,app:s,i18n:i.global}}class Qb{esriBasemap;config;createErr=!1;constructor(e){this.config=e}static async create(e){const n=new Qb(e),i=e.layers.map(s=>{const o={url:s.url,opacity:s.opacity};if(s.layerType===xt.TILE)return le.TileLayer(o);if(s.layerType===xt.VECTORTILE)return le.VectorTileLayer(o);if(s.layerType===xt.MAPIMAGE)return le.MapImageLayer(o);if(s.layerType===xt.OSM)return le.OpenStreetMapLayer(o);throw new Error(`Unsupported layer type provided to basemap config: ${s.layerType}`)}),r=(await Promise.allSettled(i)).filter(s=>s.status==="rejected"?(console.error(s.reason),n.createErr=!0,!1):!0).map(s=>{if(s.status==="fulfilled")return s.value;throw new Error("TS is fun")});return n.esriBasemap=await le.Basemap({baseLayers:r,title:e.name||"",id:e.id}),n}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class Vz extends _n{esriMap;_basemapStore;created=!1;name;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e,n=""){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new vn,this.handlers=[],this.pointZoomScale=5e4,this.name=n}noMapErr(){console.error(`Attempted to manipulate the ${this.name} map before calling createMap()`),console.trace()}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(e,n){const i=a=>{this.$iApi.notify.show(Ur.ERROR,this.$iApi.$i18n.t("layer.error",{id:a.name}))},r=e.basemaps.map(a=>Qb.create(a)),s=(await Promise.all(r)).filter(a=>(a.createErr&&i(a),a.esriBasemap.baseLayers.length>0));s.forEach(a=>{a.esriBasemap.baseLayers.forEach(l=>{Fn(()=>l.loadStatus,()=>{l.loadStatus==="loaded"?this.trackFirstBasemap=!1:l.loadStatus==="failed"&&(i(a),this.trackFirstBasemap&&this.recoverBasemap(a.tileSchemaId))})})}),this._basemapStore=s,e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const o={};this.esriMap=Be(await le.Map(o)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=n,this.createMapView(e.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(e=>e.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(e,n){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(e,n)}async createMapView(e){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new vn,this.created=!1,this.handlers.forEach(e=>e.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(e){const n=this._basemapStore.find(i=>i.id===e);if(n)return n;throw new Error(`Invalid basemap id requested: ${e}`)}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e,i=this.esriMap.basemap?.id||"";n.esriBasemap.id!==i&&(this.esriMap.basemap=Ct(n.esriBasemap))}async setBasemap(e){return this.abstractError(),!1}async recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap?.id??void 0;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,n,i=!0,r=200,s="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ut.POINT&&(a.scale=n||this.pointZoomScale);const l={animate:i,duration:r,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?Ye.fromESRI(this.esriView.extent):(this.noMapErr(),Ye.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Y0.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Pt.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class kAt extends _n{maptipStore;constructor(e){super(e),this.maptipStore=U2(this.$vApp.$pinia)}#t=void 0;#e=void 0;async checkAtCoord(e){this.#e=e;const n=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#e!==e)return;if(!n){this.clear(),this.maptipStore.maptipInstance.disable();return}const i=this.$iApi.geo.layer.getLayer(n.layerId);if(i?.geomType!=Ut.POLYGON&&this.#t&&this.#t.layerId===n.layerId&&this.#t.oid===n.oid&&this.#t.layerIdx===n.layerIdx)return;if(this.clear(),this.#t=n,!i){console.error(`graphic hit test returned non-existent layer id: ${n.layerId}`);return}if(!i.maptips)return;const r=await i.getIcon(n.oid),s=await i.getGraphic(n.oid,{getAttribs:!0});this.maptipStore.maptipInstance.enable(),this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(Et.MAP_GRAPHICHIT,{layer:i,graphicHit:n,attributes:s.attributes,icon:r,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.layer.maptipValue(e.attributes)}</span></div>`)}clear(){this.#t=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class PAt extends _n{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const n=Xl(this.$vApp.$pinia);if(n.coords.disabled=!1,n.scale.disabled=!1,n.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)n.coords.disabled=!0;else{const i=e.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(e.scaleBar)if(e.scaleBar.disabled)n.scale.disabled=!0;else{const i=e.scaleBar.imperialScale;i!==void 0&&(n.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}n.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const n={value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},r={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?r.logo.disabled=!0:(r.logo.altText=e.logo.altText||i.altText,r.logo.link=e.logo.link||i.link,r.logo.value=e.logo.value||i.value):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value),e.text?e.text.disabled?r.text.disabled=!0:r.text.value=e.text.value||n.value:r.text.value=n.value,Xl(this.$vApp.$pinia).setAttribution(r)):(r.logo.altText=i.altText,r.logo.link=i.link,r.logo.value=i.value,r.text.value=n.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap;if(l){const c=l.baseLayers.map(p=>new Promise(d=>{let f=0;const y=o/a,g=setInterval(function(){p.loaded&&!p.loadError?(clearInterval(g),d(p)):f>y&&(clearInterval(g),d(null)),f++},a)})).toArray();Promise.all(c).then(p=>{s=p.filter(d=>d?.copyright).map(d=>d.copyright).join(" | "),r.text.value=s||r.text.value||n.value,Xl(this.$vApp.$pinia).setAttribution(r)})}}}updateScale(){const e=Xl(this.$vApp.$pinia),n=e.scale;if(n?.disabled)return;const i=n?.isImperialScale||!1,r=this.scaleHelper().find(s=>s.isImperialScale===i)??{units:"error",pixels:1,distance:1};e.scale={width:`${r.pixels}px`,label:`${this.$iApi.$i18n.n(r.distance,"number")}${r.units}`,isImperialScale:i}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if(typeof e=="string"){if(!(e in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${e}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,n=this.$iApi.geo.map.getResolution(),i=[],r=n*e,s=1609.34,o=3.28084,a=r>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),r>1e3){const p=n*e/(c?s:1e3),d=Math.round(p).toString().length,f=Math.pow(10,d-1);i[l].distance=Math.ceil(p/f)*f,i[l].pixels=i[l].distance*(c?s:1e3)/n}else i[l].distance=Math.ceil(c?r*o:r),i[l].pixels=r/n}return i}wrapValue(e,n,i){return((e-n)%(i-n)+(i-n))%(i-n)+n}async formatLatLongDMS(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(r))*(r<0?-1:1),p=Math.floor(Math.abs((r-c)*60)),d=Math.floor((Math.abs(r)-Math.abs(c)-p/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(p,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDDM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(r))*(r<0?-1:1),c=Math.abs((r-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatLatLongDD(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.abs(i),a=Math.abs(r);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>r?"west":"east"))}`}async formatMercator(e){const n=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(n.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(n.y),"number")} m`}async formatLambert(e){const n=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(n.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>n.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(n.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(n.y>0?"north":"south"))}`}async formatUTM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),i=this.wrapValue(n.y,-90,90),r=this.wrapValue(n.x,-180,180),s=Math.ceil((r+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),e);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const n=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(n.x,"number")} | ${this.$iApi.$i18n.n(n.y,"number")}`}}class LAt extends Vz{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:12e3,load:12e3,fail:9e4};constructor(e){super(e,"main"),this.maptip=new kAt(e),this.caption=new PAt(e),this.mapMouseThrottle=0}async createMap(e,n){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??12e3,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??12e3,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(e,n),this.viewPromise.then(()=>{this.$iApi.event.emit(Et.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(e=>e.uid).forEach(e=>this.removeLayer(e)),super.destroyMap(),this.$iApi.event.emit(Et.MAP_DESTROYED)}async createMapView(e){const n=Ki(this.$vApp.$pinia).config.map;if(!n)throw new Error("Attempted to create map view without a map config");const i=(typeof e=="string"?await this.findBasemap(e):e)||await this.findBasemap(n.initialBasemapId),r=n.tileSchemas.find(a=>a.id===i.tileSchemaId);if(!r)throw new Error(`Could not find tile schema for the given basemap id: ${i.id}`);const s=n.extentSets.find(a=>a.id===r.extentSetId);if(!s)throw new Error(`Could not find extent set with the given id: ${r.extentSetId}`);this._rampExtentSet=Y0.fromConfig(s),this._rampSR=this._rampExtentSet.sr.clone();const o=n.lodSets.find(a=>a.id===r.lodSetId);if(!o)throw new Error(`Could not find lod set with the given id: ${r.lodSetId}`);this.esriView=Be(await le.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:o.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:i.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:Fn(()=>this.esriView.extent,a=>{if(a){const l=this.$iApi.geo.geom.geomEsriToRamp(a,"map_extent_event");this.$iApi.event.emit(Et.MAP_EXTENTCHANGE,l),this.$iApi.event.emit(Et.FILTER_CHANGE,{extent:l,filterKey:ri.EXTENT})}})}),this.handlers.push({type:"scale",handler:Fn(()=>this.esriView.scale,a=>{this.$iApi.event.emit(Et.MAP_SCALECHANGE,a)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",a=>{this.$iApi.event.emit(Et.MAP_RESIZED,{height:a.height,width:a.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",a=>{this.$iApi.event.emit(Et.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",a=>{this.$iApi.event.emit(Et.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",c0(100,!0,a=>{this.$iApi.event.emit(Et.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",c0(100,a=>{this.$iApi.event.emit(Et.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",a=>{setTimeout(()=>{this.$iApi.event.emit(Et.MAP_MOUSELEAVE,a.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",a=>{this.$iApi.event.emit(Et.MAP_MOUSEDOWN,a.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",a=>{this.$iApi.event.emit(Et.MAP_KEYDOWN,a.native),a.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",a=>{this.$iApi.event.emit(Et.MAP_KEYUP,a.native),a.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",a=>{this.$iApi.event.emit(Et.MAP_FOCUS,a.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",a=>{this.$iApi.event.emit(Et.MAP_BLUR,a.native)})}),this.esriView.container?this.esriView.container.addEventListener("touchmove",a=>{a.preventDefault()}):console.error("ESRI Map View is missing its container"),Fn(()=>this.esriView.fatalError,()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),a.disconnect())})});a.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(i),r.recoveryBasemap?.basemapId){const a=r.recoveryBasemap.timeout??8e3;a>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(r.id)},a)}})}destroyMapView(){this.esriView?.container?.removeEventListener("touchmove",e=>{e.preventDefault()}),super.destroyMapView()}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Ct(n.esriBasemap);const i=Ki(this.$vApp.$pinia);i.activeBasemapConfig=n.config}async setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const n=Ki(this.$vApp.$pinia),i=await this.findBasemap(e),r=n.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(r){const s=this.getExtent().center(),o=this.getScale();this._viewPromise=new vn,this.created=!1,this.$iApi.event.emit(Et.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Et.MAP_REFRESH_END),this.$iApi.event.emit(Et.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r});const a=this.findClosestScale(o);this.$iApi.geo.proj.projectGeometry(this._rampSR,s).then(l=>this.zoomMapTo(l,a,!1))})}else{await this.applyBasemap(i);const s=await le.ColorBackground({color:new Ba(i.backgroundColour).toESRI()});this.esriView.background=s,this.$iApi.event.emit(Et.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:r})}return r}async recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const n=Ki(this.$vApp.$pinia).config.map;if(n){const i=n.tileSchemas.find(r=>r.id===e);if(i?.recoveryBasemap?.basemapId){const r=await this.findBasemap(i.recoveryBasemap.basemapId);await this.applyBasemap(r)}}}addLayer(e,n=void 0){return new Promise((i,r)=>{if(this.esriMap||(this.noMapErr(),r()),e.initiationState!==$e.INITIATING&&e.initiationState!==$e.INITIATED&&e.layerState!==en.ERROR&&e.initiate(),e.mapLayer&&n===void 0){const l=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)n=l.length;else{const c=this.$iApi.geo.layer.allLayers();let p=!0;for(let d=l.length-1;d>=0&&p;d--){const f=c.find(y=>y.id===l[d]);f&&!f.isCosmetic&&(n=d+1,p=!1)}p&&(n=0)}}Ks(this.$vApp.$pinia).addLayer(e,n),this.$iApi.event.emit(Et.LAYER_REGISTERED,e);const s=Date.now();let o=0;const a=setInterval(()=>{o+=250,o>=e.expectedTime.fail||e.layerState===en.ERROR?(clearInterval(a),e.lastCancel<s&&console.error(`Failed to add layer: ${e.id}.`),r()):e.initiationState===$e.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(a),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),i())},250)})}insertToEsriMap(e){let n=0;const i=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(i>0){const r=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=r[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){n=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(e.esriLayer,n)}reorder(e,n,i=!1){if(n<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer){console.error("Attempted to reorder a data layer");return}const r=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(i){if(e.isCosmetic)return;if(n>0){const a=s.filter(l=>{const c=r.find(p=>p.id===l);return c?!c.isCosmetic:(console.error("Layer reorder had critical error"),!1)});n>=a.length&&(console.error("non-cosmetic reorder index was too high"),n=a.length-1),n=s.indexOf(a[n])}}else n>=s.length&&(console.error("reorder index was too high"),n=s.length-1);const o=s.indexOf(e.id);if(o!==n){if(Ks(this.$vApp.$pinia).reorderLayer(e,n),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let a=0;if(n>0){s=this.$iApi.geo.layer.layerOrderIds();for(let l=n-1;l>-1;l--){const c=s[l],p=r.find(d=>d.id===c);if(p&&p.esriLayer){const d=this.esriMap.layers.indexOf(p.esriLayer);if(d>-1){const f=n<o?1:0;a=d+f;break}}else p||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,a)}this.$iApi.event.emit(Et.MAP_REORDER,{layer:e,newIndex:n})}}removeSublayer(e){let n,i;if(typeof e=="string")n=e,i=this.$iApi.geo.layer.getLayer(n);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);n=e.uid,i=e}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Et.LAYER_REMOVE,e),i.parentLayer?.sublayers.every(r=>r.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(e){if(!this.esriMap){this.noMapErr();return}let n;if(e instanceof qb?n=e:n=this.$iApi.geo.layer.getLayer(e),!n)throw new Error("Layer could not be found for removal.");if(n.isSublayer){this.removeSublayer(n);return}n.supportsSublayers&&n.sublayers.forEach(r=>{r.isRemoved||this.removeSublayer(r)});const i=Ks(this.$vApp.$pinia);i.removeLayer(n),i.removeLayerConfig(n.id),n.removeEsriLayer(),n.initiationState===$e.INITIATED&&n.terminate(),n.isRemoved=!0,this.$iApi.event.emit(Et.LAYER_REMOVE,n)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const n=this.handlers.findIndex(i=>i.type==="pointer-move");if(n!==-1){const i=this.handlers[n];this.handlers.splice(n,1),i.handler.remove()}return n!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return Oa(this.mapMouseThrottle,e=>{this.$iApi.event.emit(Et.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))})}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView){this.noMapErr();return}const n=e.isOffScale(this.getScale());if(!n.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(n.zoomIn,e.minScale));const r=n.zoomIn?i:[...i].reverse(),s=r.find(o=>n.zoomIn?o.scale<e.minScale:o.scale>e.maxScale)||r[r.length-1];return this.zoomToLevel(s.level)}findClosestScale(e){const n=this.esriView?.constraints.lods;if(!n)return e;const i=n.map(s=>Math.abs(s.scale-e)),r=i.indexOf(Math.min(...i));return n[r].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?ui.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new ui("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const n=this.esriView.toScreen(e.toESRI());return{screenX:n.x,screenY:n.y}}else return this.noMapErr(),{screenX:1,screenY:1}}async symbolIdentify(e,n){await this.viewPromise;const i=(await this.esriView.hitTest({x:e,y:n})).results.filter(r=>r.type==="graphic").map(async r=>{const s=r.layer;if(r.graphic.isAggregate===!0){const o=await this.esriView.whenLayerView(s),a=o.createQuery();return a.aggregateIds=[r.graphic.getObjectId()],(await o.queryFeatures(a)).features.map(l=>({layerId:s.id,layerIdx:0,oid:l.getObjectId()}))}else return{layerId:s.id,layerIdx:0,oid:r.graphic.getObjectId()}});return(await Promise.all(i)).flat()}runIdentify(e){const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(p=>p.canIdentify());let i;if(e instanceof ui){const p=this.mapPointToScreenPoint(e);i={mapPoint:e,screenX:p.screenX,screenY:p.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=e;const r=this.$iApi.fixture.get("draw");if(r&&this.esriView&&(r.store.activeTool||r.store.selectedGraphicId!==null))return{click:i,results:[]};if(n===void 0)return{click:i,results:[]};let s=Promise.resolve([]);n.some(p=>p.identifyMode===zn.HYBRID||p.identifyMode===zn.SYMBOLIC)&&(s=this.symbolIdentify(i.screenX,i.screenY));const o={geometry:i.mapPoint,hitTest:s},a=n.filter(p=>p.supportsIdentify).map(p=>(o.tolerance=i.input=="touch"?p.touchTolerance:p.mouseTolerance,p.runIdentify(o))).flat(),l=Date.now();a.forEach(p=>{p.requestTime=l});const c={results:a,click:i};return this.$iApi.event.emit(Et.MAP_IDENTIFY,c),c}async getGraphicAtCoord(e){if(!this.esriView){this.noMapErr();return}const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===xt.GRAPHIC);if(n.length===0)return;const i=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(i.results.length===0)return;const r=i.results.filter(l=>l.type==="graphic");let s,o;const a=new Set;if(r.some(l=>{if(!l.layer||a.has(l.layer.id))return!1;const c=n.find(p=>p.id===l.layer.id);return c?(c.isCosmetic||c.layerType===xt.GRAPHIC||l.graphic.isAggregate||(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const n=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some(i=>n.includes(i))||this.keyPan()):n.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):e.key==="Enter"?this.runIdentify(this.getExtent().center()):e.key==="Tab"&&this._activeKeys.push(e.key)}mapKeyUp(e){const n=["=","-"];this._activeKeys.includes(e.key)&&!n.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some(i=>n.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(e=>!["Control","Shift"].includes(e)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),e.key==="="?await this.zoomIn():e.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),n=this.mapPointToScreenPoint(e),i=this.screenPointToMapPoint({screenX:n.screenX+5,screenY:n.screenY+5}),r=Math.abs(i.x-e.x),s=Math.abs(i.y-e.y);let o=0,a=0,l=1;for(let p=0;p<this._activeKeys.length;++p)switch(this._activeKeys[p]){case"ArrowLeft":o-=r;break;case"ArrowRight":o+=r;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{e.x+=l*o,e.y+=l*a,this.zoomMapTo(e,c,!1)},25)}}const RAt={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},DAt={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},FAt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},jAt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},GAt={circlePoint:RAt,solidLine:DAt,outlinedPoly:FAt,boundingBoxPoly:jAt};var $At=function(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},zz=function(t){return $At(t[0],t[t.length-1])||t.push(t[0]),t},Bz=function(t){var e=0,n=0,i=t.length,r=t[n],s;for(n;n<i-1;n++)s=t[n+1],e+=(s[0]-r[0])*(s[1]+r[1]),r=s;return e>=0},UAt=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},Wz=function(t){var e=[],n=t.slice(0),i=zz(n.shift().slice(0));if(i.length>=4){Bz(i)||i.reverse(),e.push(i);for(var r=0;r<n.length;r++){var s=zz(n[r].slice(0));s.length>=4&&(Bz(s)&&s.reverse(),e.push(s))}}return e},VAt=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=Wz(t[n]),r=i.length-1;r>=0;r--){var s=i[r].slice(0);e.push(s)}return e},zAt=function t(e,n){n=n||"OBJECTID";var i={wkid:4326},r={},s;switch(e.type){case"Point":r.x=e.coordinates[0],r.y=e.coordinates[1],e.coordinates[2]!=null&&(r.z=e.coordinates[2]),r.spatialReference=i;break;case"MultiPoint":r.points=e.coordinates.slice(0),e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"LineString":r.paths=[e.coordinates.slice(0)],e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiLineString":r.paths=e.coordinates.slice(0),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Polygon":r.rings=Wz(e.coordinates.slice(0)),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"MultiPolygon":r.rings=VAt(e.coordinates.slice(0)),e.coordinates[0][0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=i;break;case"Feature":e.geometry&&(r.geometry=t(e.geometry,n)),r.attributes=e.properties?UAt(e.properties):{},e.id&&(r.attributes[n]=e.id);break;case"FeatureCollection":for(r=[],s=0;s<e.features.length;s++)r.push(t(e.features[s],n));break;case"GeometryCollection":for(r=[],s=0;s<e.geometries.length;s++)r.push(t(e.geometries[s],n));break}return r};function qz(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}")}function BAt(t,e){var n=qz(t);return function(i,r){return e(n(i),r,t)}}function WAt(t){var e=Object.create(null),n=[];return t.forEach(function(i){for(var r in i)r in e||n.push(e[r]=r)}),n}function J5(t){var e=new RegExp('["'+t+`
]`),n=t.charCodeAt(0);function i(c,p){var d,f,y=r(c,function(g,b){if(d)return d(g,b-1);f=g,d=p?BAt(g,p):qz(g)});return y.columns=f,y}function r(c,p){var d={},f={},y=[],g=c.length,b=0,x=0,A,T;function w(){if(b>=g)return f;if(T)return T=!1,d;var M=b,I;if(c.charCodeAt(M)===34){for(var N=M;N++<g;)if(c.charCodeAt(N)===34){if(c.charCodeAt(N+1)!==34)break;++N}return b=N+2,I=c.charCodeAt(N+1),I===13?(T=!0,c.charCodeAt(N+2)===10&&++b):I===10&&(T=!0),c.slice(M+1,N).replace(/""/g,'"')}for(;b<g;){var C=1;if(I=c.charCodeAt(b++),I===10)T=!0;else if(I===13)T=!0,c.charCodeAt(b)===10&&(++b,++C);else if(I!==n)continue;return c.slice(M,b-C)}return c.slice(M)}for(;(A=w())!==f;){for(var _=[];A!==d&&A!==f;)_.push(A),A=w();p&&(_=p(_,x++))==null||y.push(_)}return y}function s(c,p){return p==null&&(p=WAt(c)),[p.map(l).join(t)].concat(c.map(function(d){return p.map(function(f){return l(d[f])}).join(t)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(t)}function l(c){return c==null?"":e.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:r,format:s,formatRows:o}}var Bb=J5(","),qAt=Bb.parse,HAt=Bb.parseRows,ZAt=Bb.format,YAt=Bb.formatRows,Wb=J5("	"),JAt=Wb.parse,XAt=Wb.parseRows,QAt=Wb.format,KAt=Wb.formatRows;const tTt=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:ZAt,csvFormatRows:YAt,csvParse:qAt,csvParseRows:HAt,dsvFormat:J5,tsvFormat:QAt,tsvFormatRows:KAt,tsvParse:JAt,tsvParseRows:XAt},Symbol.toStringTag,{value:"Module"})),eTt=ZL(tTt);var Vu={exports:{}},Hz;function nTt(){if(Hz)return Vu.exports;Hz=1,Vu.exports=t,Vu.exports.pair=s,Vu.exports.format=n,Vu.exports.formatPair=e,Vu.exports.coordToDMS=i;function t(a,l){var c=r(a,l);return c===null?null:c.val}function e(a){return n(a.lat,"lat")+" "+n(a.lon,"lon")}function n(a,l){var c=i(a,l);return c.whole+"\xB0 "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",p=c[a>=0?0:1],d=Math.abs(a),f=Math.floor(d),y=d-f,g=y*60,b=Math.floor(g),x=Math.floor((g-b)*60);return{whole:f,minutes:b,seconds:x,dir:p}}function r(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\|\]?[0-9.]+)[]?\s*(?:([0-9.]+)[']\s*)?(?:([0-9.]+)(?:''|"||)\s*)?([NSEW])?/,p=a.match(c);if(!p)return null;var d=p[0],f;if(p[1]&&p[5]?(f=p[1],d=d.slice(0,-1)):f=p[1]||p[5],f&&l.indexOf(f)===-1)return null;var y=p[2]?parseFloat(p[2]):0,g=p[3]?parseFloat(p[3])/60:0,b=p[4]?parseFloat(p[4])/3600:0,x=y<0?-1:1;return(f==="S"||f==="W")&&(x*=-1),{val:(Math.abs(y)+g+b)*x,dim:f,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=r(a,l);if(!c)return null;a=c.remain.trim();var p=r(a,l);return!p||p.remain?null:c.dim?o(c.val,p.val,c.dim):[c.val,p.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Vu.exports}var X5,Zz;function iTt(){if(Zz)return X5;Zz=1;var t=eTt,e=nTt(),n=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function r(x,A){var T,w,_;for(var M in x)w=M.match(A),w&&(!T||w[0].length/M.length>_)&&(_=w[0].length/M.length,T=M);return T}function s(x){return r(x,n)}function o(x){return r(x,i)}function a(x){return!!x.match(n)}function l(x){return!!x.match(i)}function c(x){return typeof x=="object"?Object.keys(x).length:0}function p(x){var A=[",",";","	","|"],T=[];return A.forEach(function(w){var _=t.dsvFormat(w).parse(x);if(_.length>=1){for(var M=c(_[0]),I=0;I<_.length;I++)if(c(_[I])!==M)return;T.push({delimiter:w,arity:Object.keys(_[0]).length})}}),T.length?T.sort(function(w,_){return _.arity-w.arity})[0].delimiter:null}function d(x){return delete x.columns,x}function f(x){var A=p(x);return A?d(t.dsvFormat(A).parse(x)):null}function y(x,A,T){T||(T=A,A={}),A.delimiter=A.delimiter||",";var w=A.latfield||"",_=A.lonfield||"",M=A.crs||"",I=[],N={type:"FeatureCollection",features:I};if(M!==""&&(N.crs={type:"name",properties:{name:M}}),A.delimiter==="auto"&&typeof x=="string"&&(A.delimiter=p(x),!A.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var C=A.numericFields?A.numericFields.split(","):null,P=typeof x=="string"?t.dsvFormat(A.delimiter).parse(x,function(k){if(C)for(var z in k)C.includes(z)&&(k[z]=+k[z]);return k}):x;if(!P.length){T(null,N);return}var D=[],U;w||(w=s(P[0])),_||(_=o(P[0]));var j=!w||!_;if(j){for(U=0;U<P.length;U++)I.push({type:"Feature",properties:P[U],geometry:null});T(D.length?D:null,N);return}for(U=0;U<P.length;U++)if(P[U][_]!==void 0&&P[U][w]!==void 0){var G=P[U][_],Z=P[U][w],u,m,S;S=e(G,"EW"),S&&(G=S),S=e(Z,"NS"),S&&(Z=S),u=parseFloat(G),m=parseFloat(Z),isNaN(u)||isNaN(m)?D.push({message:"A row contained an invalid value for latitude or longitude",row:P[U],index:U}):(A.includeLatLon||(delete P[U][_],delete P[U][w]),I.push({type:"Feature",properties:P[U],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}T(D.length?D:null,N)}function g(x){for(var A=x.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},w=0;w<A.length;w++)T.geometry.coordinates.push(A[w].geometry.coordinates);return T.properties=A.reduce(function(_,M){for(var I in M.properties)_[I]||(_[I]=[]),_[I].push(M.properties[I]);return _},{}),{type:"FeatureCollection",features:[T]}}function b(x){for(var A=x.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},w=0;w<A.length;w++)T.geometry.coordinates[0].push(A[w].geometry.coordinates);return T.properties=A.reduce(function(_,M){for(var I in M.properties)_[I]||(_[I]=[]),_[I].push(M.properties[I]);return _},{}),{type:"FeatureCollection",features:[T]}}return X5={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:f,csv2geojson:y,toLine:g,toPolygon:b},X5}var Q5=iTt();const rTt={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function sTt(t){if(t.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let e=!0,n=!0;for(let i=0;i<t.features.length;i++){const r=t.features[i];Object.assign(r.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in r&&typeof r.id<"u"&&(r.properties.ID_FILE=r.id,e=!1),"OBJECTID"in r.properties&&(r.properties.OBJECTID_FILE=r.properties.OBJECTID,delete r.properties.OBJECTID,n=!1),r.id=i+1}if(e)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.ID_FILE;if(n)for(let i=0;i<t.features.length;i++)delete t.features[i].properties.OBJECTID_FILE}function oTt(t,e){const n=i=>i.indexOf(" ")>-1;e.fields?.forEach(i=>{if(i.name&&n(i.name)){const r=i.name;let s,o="_",a;do s=r.replace(/ /g,o),a=e.fields?.find(l=>l.name===s),a&&(o+="_");while(a);i.alias=r,i.name=s;for(let l=0;l<t.features.length;l++){const c=t.features[l];c.properties[s]=c.properties[r],delete c.properties[r]}}})}function aTt(t,e){const n=t.features[e].geometry.geometries;if(n.length===1)t.features[e].geometry={type:n[0].type,coordinates:n[0].coordinates};else{const i=n.map(r=>r.coordinates);t.features[e].geometry={type:`Multi${n[0].type}`,coordinates:i}}}function lTt(t){return t==="MultiLineString"?"LineString":t==="MultiPolygon"?"Polygon":t}class cTt extends _n{async fetchFileData(e,n){const i=await dd.get(e,{responseType:"arrayBuffer"});switch(n){case xt.GEOJSON:case xt.DATAJSON:return JSON.parse(this.arbToStr(i.data));case xt.SHAPEFILE:case xt.GEOJSONZIPPED:case xt.FLATGEOBUF:case xt.FLATGEOBUFZIPPED:return i.data;case xt.CSV:case xt.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${n}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let n="";for(let o=0;o<e.features.length;o++){const a=e.features[o];if(a.geometry.type==="GeometryCollection"){const c=a.geometry.geometries;if(c===void 0||c.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const p=c[0].type;for(let d=0;d<c.length;d++)if(c[d].type!==p)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");aTt(e,o)}const l=lTt(a.geometry.type);if(n==="")n=l;else if(n!==l)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(e.features[0].properties).map(o=>({name:o,type:"string"}));let r=0;const s=Object.keys(e.features[0].properties);for(;r<e.features.length;){const o=e.features[r];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(p=>p.name===a);i[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;r++}return i}extractCsvFields(e,n=","){return Q5.dsv.dsvFormat(n).parseRows(e)[0].map(i=>({name:i,type:ao.STRING}))}filterCsvLatLonFields(e,n=","){const i=Q5.dsv.dsvFormat(n).parseRows(e),r=i[0],s={lat:JSON.parse(JSON.stringify(r)),lon:JSON.parse(JSON.stringify(r))};for(let o=0;o<r.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=s.lat.indexOf(r[o]),p=s.lon.indexOf(r[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&p!==-1&&s.lon.splice(p,1),c===-1&&p===-1)break}return s}async geoJsonToEsriJson(e,n){let i,r="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:ao.OID}]};sTt(e);const a=e.features[0].geometry.type,l=rTt[a],c=JSON.parse(JSON.stringify(GAt[l]));if(n){if(n.sourceProjection&&(r=this.$iApi.geo.proj.normalizeProj(n.sourceProjection)),n.targetSR)i=n.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");n.layerId?s=n.layerId:s=this.$iApi.geo.shared.generateUUID(),n.colour&&(c.renderer.symbol.color=new Ba(n.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");r||(r=Pt.parseGeoJsonCrs(e.crs)),o.renderer=await le.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(n.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter(g=>n.fieldMetadata?.fieldInfo?.find(b=>b.name===g.name)):this.extractGeoJsonFields(e)),n.fieldMetadata?.enforceOrder&&n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,n.fieldMetadata?.fieldInfo)),oTt(e,o);const p=this.$iApi.geo.proj.normalizeProj(i);if(n){if(n.latField){const g=o.fields.find(b=>b.name===n.latField||b.alias===n.latField);g&&(g.type=ao.DOUBLE)}if(n.lonField){const g=o.fields.find(b=>b.name===n.lonField||b.alias===n.lonField);g&&(g.type=ao.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([r,i]);const d=Pt.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,r,p);const f=zAt(e,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(g=>g.name);for(let g=0;g<f.length;g++){const b=f[g];b.geometry.spatialReference=d,b.geometry.type=o.geometryType,Object.keys(b.attributes).forEach(x=>{y.includes(x)?(Array.isArray(b.attributes[x])||typeof b.attributes[x]=="object")&&b.attributes[x]!=null&&(b.attributes[x]=JSON.stringify(b.attributes[x])):delete b.attributes[x]})}return(n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0?n.fieldMetadata.fieldInfo.filter(g=>g.trim&&y.includes(g.name)).map(g=>g.name):[]).forEach(g=>{for(let b=0;b<f.length;b++){const x=f[b].attributes;typeof x[g]=="string"&&(x[g]=x[g].trim())}}),o.source=f,o.spatialReference=d,o.id=s,o}async csvToGeoJson(e,n){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return n&&(n.latfield&&(i.latfield=n.latfield),n.lonfield&&(i.lonfield=n.lonfield),n.delimiter&&(i.delimiter=n.delimiter)),new Promise((r,s)=>{Q5.csv2geojson(e,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),r(a))})})}async shapefileToGeoJson(e){return(await import("./index-DZmVuGlW.js")).default(e)}fgbToGeoJson(e,n){return import("./flatgeobuf-C-cbgMj_.js").then(({geojson:i})=>new Promise(r=>{let s=!1,o=null;const a=i.deserialize(new Uint8Array(e),void 0,p=>{o=p.crs,s=!0});let l=0;const c=setInterval(()=>{if(a&&s){clearInterval(c);let p;o&&(o.code&&o.code!==4326&&o.org==="EPSG"?p=new Pt(o.code):o.wkt?p=new Pt(o.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",o)),p&&(a.crs=p.toGeoJSON()),r(a)}else l+=60,l>n&&(clearInterval(c),r({}))},60)}))}inferType(e){return typeof e=="number"?ao.DOUBLE:ao.STRING}rawDataJsonParser(e,n=!1){let i;return typeof e=="string"?i=JSON.parse(e):n?i=structuredClone(e):i=e,i}async unzipSingleFile(e){const n=await import("./jszip.min-DUtjKlnX.js").then(s=>s.j),i=await new n.default().loadAsync(e),r=Object.keys(i.files)[0];if(r&&i.file(r))return await i.file(r).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const uTt=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");class hTt extends _n{async loadWfsData(e,n=-1,i=0,r=1e3,s={type:"FeatureCollection",features:[]},o=!1,a){let l={offset:i.toString(),limit:r.toString()};if(a?.aborted)throw new DOMException("WFS load cancelled","AbortError");n===-1&&(l={resulttype:"hits"});const c=new em(e).updateQuery(l),[p,d]=await Ms(dd.get(c,{signal:a}));if(!d)return console.error(`WFS data failed to load for ${e}`,p),Promise.reject(p);const f=d.data;if(n===-1){if(typeof f.numberMatched!="number")throw new Error("WFS hits missing numberMatched");return n=d.data.numberMatched,this.loadWfsData(e,n,i,r,s,o,a)}if(s.features=s.features.concat(f.features),f.features.length<n-i){const y=Math.min(r,n-i-f.features.length);return this.loadWfsData(c,n,f.features.length+i,y,s,o,a)}else return o&&s.features.length>0&&s.features[0].geometry.type===ln.POINT&&s.features.forEach(y=>{const g=y.geometry.coordinates;y.properties.rvInternalCoordX=g[0],y.properties.rvInternalCoordY=g[1]}),s}reversedAxisWKIDs(){return uTt}parseCapabilities(e){const n=()=>{let o=e;if(e.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new em(e.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return pn(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{n().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(n())})}),r=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,p=l.Title;let d=l.Style;const f=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{const b=g.Name;if(f.push(b),g.LegendURL){const x=g.LegendURL.OnlineResource["@_xlink:href"];y[b]=x.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:p,queryable:l["@_queryable"]==="1",layers:r(l),allStyles:f,styleToURL:y,currentStyle:f[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return import("./fxp-BcglUNHq.js").then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},p=new o(c).parse(l);if("ServiceExceptionReport"in p)return console.error(p.ServiceExceptionReport.ServiceException),[];const d=p.WMS_Capabilities.Capability;return{layers:r(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class fd{static makeRawItem(e,n){const i=Promise.resolve();return Zn({format:e,data:n,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(e,n){const i=new vn,r={format:dc.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const s=await n.getGraphic(e,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return Zn(r)}}class pTt extends _n{files;ogc;constructor(e){super(e),this.files=new cTt(e),this.ogc=new hTt(e)}createLayer(e){let n;switch(e.layerType){case xt.FEATURE:n=bTt;break;case xt.MAPIMAGE:n=_Tt;break;case xt.GRAPHIC:n=Xz;break;case xt.TILE:n=Qz;break;case xt.WFS:n=MTt;break;case xt.DATATABLE:n=OTt;break;case xt.WMS:n=TTt;break;case xt.GEOJSON:n=dTt;break;case xt.GEOJSONZIPPED:n=yTt;break;case xt.VECTORTILE:n=ATt;break;case xt.FLATGEOBUFZIPPED:n=vTt;break;case xt.CSV:n=mTt;break;case xt.DATAJSON:n=ITt;break;case xt.IMAGERY:n=ETt;break;case xt.IMAGERYTILE:n=STt;break;case xt.SHAPEFILE:n=fTt;break;case xt.FLATGEOBUF:n=gTt;break;case xt.OSM:n=xTt;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new n(e,this.$iApi)}sublayerId(e,n){return`${e}-${n}`}getLayer(e){return Ks(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,n){const i=Ks(this.$vApp.$pinia).getLayerById(e);if(i&&i.supportsSublayers&&n<i.sublayers.length)return i.sublayers[n]}async awaitLayer(e,n=!1){let i=this.getLayer(e);if(!i){const r=new vn;let s=0;const o=300,a=setInterval(()=>{s+=o;const l=this.getLayer(e);if(l)clearInterval(a),r.resolveMe(l);else if(s>8e3){clearInterval(a);const c=setInterval(()=>{const p=this.getLayer(e);p&&(clearInterval(c),r.resolveMe(p))},1500)}},o);i=await r.getPromise()}return n&&await i.viewPromise(),i}async awaitSublayer(e,n){return this.awaitLayer(this.sublayerId(e,n))}getLayerPosition(e){const n=this.getLayer(e);if(n&&n.mapLayer){const i=n.isSublayer?n.parentLayer.id:n.id,r=this.layerOrderIds().findIndex(s=>s===i);return r===-1?void 0:r}else return}layerOrderIds(){return Ks(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return Ks(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(e=>e.layerState!==en.ERROR&&e.initiationState===$e.INITIATED)}allLayersOnMap(e=!0){const n=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===$e.INITIATED);if(e){const i=this.layerOrderIds(),r=new Map(i.map((s,o)=>[s,o]));n.sort((s,o)=>r.get(s.id)-r.get(o.id))}return n}allDataLayers(){return this.allLayers().filter(e=>!e.mapLayer&&e.initiationState===$e.INITIATED)}allErrorLayers(){return this.allLayers().filter(e=>e.layerState===en.ERROR)}allInitiatingLayers(){return this.allLayers().filter(e=>e.initiationState===$e.INITIATING)}getLayerControls(e){const n=this.getLayer(e);if(!n)return;const i=n.config.controls?.slice()??[cn.BoundaryZoom,cn.Datatable,cn.Identify,cn.Metadata,cn.Opacity,cn.Refresh,cn.Reload,cn.Remove,cn.Settings,cn.Symbology,cn.Visibility],r=[];return n.supportsFeatures||r.push(cn.Datatable),n.extent===void 0&&r.push(cn.BoundaryZoom),(n.config?.metadata||(n.isSublayer?n.parentLayer?.config?.metadata:{})||{}).url||r.push(cn.Metadata),!n.mapLayer&&!n.config.controls?.includes(cn.Settings)&&r.push(cn.Settings),r.forEach(s=>{const o=i?.indexOf(s)??-1;o!==-1&&i?.splice(o,1)}),{controls:i,disabledControls:n.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[n,i]=await Ms(pn(e,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${e}`,n),new Error(`Service metadata load error: ${e}`);if(!i.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const r=i.data,s={geometryType:Ut.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:Kn.UNKNOWN,mapLayer:!0};if(s.name=r.name||"",s.currentVersion=r.currentVersion||-1,s.minScale=r.effectiveMinScale||r.minScale||0,s.maxScale=r.effectiveMaxScale||r.maxScale||0,s.extent=r.extent?Ye.fromArcServer(r.extent,"layer_extent"):void 0,s.defaultVisibility=r.defaultVisibility??!0,s.canModifyLayer=r.canModifyLayer??!0,r.type==="Feature Layer"||r.type==="Table"){if(s.dataFormat=Kn.ESRI_FEATURE,s.displayField=r.displayField||"",Array.isArray(r.fields)){const o=await Promise.all(r.fields.map(a=>le.FieldFromJson(a)));s.fields=o.map(a=>({name:a.name,alias:a.alias,type:a.type,length:a.length})),o.every(a=>a.type==="oid"?(s.objectIdField=a.name,!1):!0)&&(s.objectIdField=r.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),r.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(r.geometryType),r.drawingInfo?.renderer&&(s.renderer=await le.RendererFromJson(r.drawingInfo.renderer)),r.sourceSpatialReference&&(s.sourceSR=Pt.fromConfig(r.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=Kn.ESRI_RASTER;return s}async loadFeatureCount(e,n=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:n||"1=1",returnCountOnly:!0,returnGeometry:!1}},[r,s]=await Ms(pn(`${e}/query`,i));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,r),0)}}class qb extends _n{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;get nameArcade(){return""}async setNameArcade(e){}get tooltipField(){return console.warn("tooltipField layer property is deprecated. Please adjust to use maptipField instead"),this.maptipField}set tooltipField(e){console.warn("tooltipField layer property is deprecated. Please adjust to use maptipField instead"),this.maptipField=e}maptipField;get tooltipArcade(){return console.warn("tooltipArcade layer property is deprecated. Please adjust to use maptipArcade instead"),this.maptipArcade}async setTooltipArcade(e){return console.warn("setTooltipArcade layer method is deprecated. Please adjust to use setMaptipArcade instead"),this.setMaptipArcade(e)}get maptipArcade(){return""}async setMaptipArcade(e){}oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;isSystem;userAdded;identify;identifyMode;get hovertips(){return console.warn("hovertips layer property is deprecated. Please adjust to use maptips instead"),this.maptips}set hovertips(e){console.warn("hovertips layer property is deprecated. Please adjust to use maptips instead"),this.maptips=e}maptips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,n){super(n),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=en.NEW,this.drawState=ji.NOT_LOADED,this.initiationState=$e.NEW,this.layerIdx=-1,this.layerFormat=Fi.UNKNOWN,this.layerType=xt.UNKNOWN,this.dataFormat=Kn.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=zn.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.maptipField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.isSystem=!1,this.userAdded=!1,this.identify=!1,this.maptips=!1,this.geomType=Ut.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}viewPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new F1(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Pt.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new qL}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}nameValue(e){return""}tooltipValue(e){return console.warn("tooltipValue layer method is deprecated. Please adjust to use maptipValue instead"),this.maptipValue(e)}maptipValue(e){return""}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return Promise.resolve(new Wr(new Sl))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,n){}applySqlFilter(e=[]){}getFilterOIDs(e=[],n=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(Ye.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,n=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const n=this._sublayers.findIndex(i=>i?.uid===e);if(n===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return n}}getSublayer(e){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let n;if(typeof e=="string"?n=this.uidToIdx(e):n=e,this._sublayers[n]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[n]}controlAvailable(e){const n=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,n)}}class Yz extends qb{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;nameArcadeFormula;nameArcadeExecutor;maptipArcadeFormula;maptipArcadeExecutor;constructor(e,n){super(e,n),this.name=e.name||"",this.geomType=Ut.NONE,this.dataFormat=Kn.UNKNOWN,this.layerType=xt.UNKNOWN,this.layerFormat=Fi.UNKNOWN;const i=n.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??i.draw,this.expectedTime.load=e.expectedLoadTime??i.load,this.expectedTime.fail=e.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isSystem=e.system||!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=zn.NONE,this.supportsFeatures=!1,this.maptips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=en.NEW,this.initiationState=$e.NEW,this.drawState=ji.NOT_LOADED,this.loadDefProm=new vn,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.nameArcadeFormula="",this.maptipArcadeFormula="",this.layerTree=new F1(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(Et.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,n=!1){this.layerState=e,this.$iApi.event.emit(Et.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:n})}updateDrawState(e){this.drawState=e,e===ji.REFRESH?this.startTimer("draw"):e===ji.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Et.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState($e.INITIATING),this.startTimer("load");const e=s=>{this.layerState!==en.ERROR&&(console.error(s),this.onError())},n=Date.now(),i=setTimeout(()=>{n>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[r]=await Ms(this.onInitiate());clearTimeout(i),n>this.lastCancel&&(this.drawState!==ji.UP_TO_DATE&&this.startTimer("draw"),r?e(`Init error on layer id: ${this.id} . ${r.message}`):this.updateInitiationState($e.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===$e.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState($e.TERMINATING),await Promise.all(this.sublayers.map(e=>e.terminate())),this.loadDefProm=new vn,this.loadPromDone=!1,this.updateLayerState(en.NEW),this.updateDrawState(ji.NOT_LOADED),this.updateInitiationState($e.TERMINATED)}onLoad(){const e=Date.now();let n=!1;const i=setTimeout(()=>{n=!0,this.onError()},this.expectedTime.fail);try{const r=this.onLoadActions();Promise.all(r).then(()=>{clearTimeout(i),n?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new vn),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(en.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(r){console.error("Encountered error on layer load: ",r),clearTimeout(i),this.onError()}}onError(e=!0){this.layerState!==en.ERROR&&(this.initiationState===$e.INITIATING&&this.updateInitiationState($e.NEW),this.loadPromDone&&(this.loadDefProm=new vn),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onError(e)),e&&this.$iApi.notify.show(Ur.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(en.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===$e.NEW||this.initiationState===$e.TERMINATING||this.initiationState===$e.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===en.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return this.stubError(),Promise.resolve(new Wr(new Sl))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,n){this.stubError()}getFilterOIDs(e=[],n=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(Ye.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,n,i=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout(()=>this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id})),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}async arcadeGenerator(e){const n={variables:[{name:"$attr",type:"dictionary",properties:this.fields.map(i=>{const r=this.$iApi.geo.attributes.fieldTypeToArcade(i.type);if(r)return{name:i.name,type:r};console.error(`Encountered field type with no arcade support: ${i.type} [${i.name}]`)}).filter(i=>!!i)}]};return le.ArcadeExecutor(e,n)}get nameArcade(){return this.nameArcadeFormula}async setNameArcade(e){this.supportsFeatures?e.trim()===""?(this.nameArcadeFormula="",this.nameArcadeExecutor=void 0):(this.nameArcadeFormula=e,this.nameArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a name arcade function on a layer that doesn't support it.")}async nameInitializer(e,n=""){if(this.supportsFeatures){const i=(e?.nameArcade||"").trim();i&&await this.setNameArcade(i),this.nameField=(e?.nameField||"").trim()||n||this.oidField}else console.error("Attempted to init a name field on an unsupported layer.")}nameValue(e){if(e)if(this.nameArcade){const n={$attr:e};return this.nameArcadeExecutor?.execute(n)??"Arcade Error"}else return this.nameField?e[this.nameField]??"Name Field Error":"";else return""}get maptipArcade(){return this.maptipArcadeFormula}async setMaptipArcade(e){this.supportsFeatures?e.trim()===""?(this.maptipArcadeFormula="",this.maptipArcadeExecutor=void 0):(this.maptipArcadeFormula=e,this.maptipArcadeExecutor=await this.arcadeGenerator(e)):console.error("Attempted to set a maptip arcade function on a layer that doesn't support it.")}async tooltipInitializer(e){return console.warn("tooltipInitializer layer method is deprecated. Please adjust to use maptipInitializer instead"),this.maptipInitializer(e)}async maptipInitializer(e){if(this.supportsFeatures){e.tooltipField&&console.warn("tooltipField layer configuration property is deprecated. Please adjust to use maptipField instead"),e.tooltipArcade&&console.warn("tooltipArcade layer configuration property is deprecated. Please adjust to use maptipArcade instead");const n=(e?.maptipArcade||e?.tooltipArcade||"").trim();n&&await this.setMaptipArcade(n),this.maptipField=(e?.maptipField||e?.tooltipField||"").trim()}else console.error("Attempted to init a maptip field on an unsupported layer.")}maptipValue(e){if(e)if(this.maptipArcade){const n={$attr:e};return this.maptipArcadeExecutor?.execute(n)??"Arcade Error"}else return this.maptipField?e[this.maptipField]??this.nameValue(e):this.nameValue(e);else return""}}class zu extends Yz{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,n){super(e,n),this._scaleSet=new qL,this._mouseTolerance=e.mouseTolerance!=null?e.mouseTolerance:5,this._touchTolerance=e.touchTolerance!=null?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?Ye.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new vn,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(Fn(()=>this.esriLayer.visible,e=>{this.$iApi.event.emit(Et.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})})),this.esriWatches.push(Fn(()=>this.esriLayer.opacity,e=>{this.$iApi.event.emit(Et.LAYER_OPACITYCHANGE,{opacity:e,layer:this})})),this.esriWatches.push(Fn(()=>this.esriLayer.loadStatus,e=>{const n={"not-loaded":en.LOADING,loading:en.LOADING,loaded:en.LOADED,failed:en.ERROR};e==="loaded"?this.onLoad():e==="failed"?this.onError():this.updateLayerState(n[e])})),this.esriLayer.on("layerview-create",e=>{this.esriView=Be(e.layerView),this.esriWatches.push(Fn(()=>e.layerView.updating,n=>{this.updateDrawState(n?ji.REFRESH:ji.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(e=>e.initiate())}async terminate(){this.esriWatches.forEach(e=>e.remove()),this.esriWatches=[],this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new vn}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(Et.LAYER_RELOAD_START,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Et.LAYER_RELOAD_START,n)),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Et.LAYER_RELOAD_END,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Et.LAYER_RELOAD_END,n))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(e=>e.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const n=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return e.push(n),e}viewPromise(){return this.viewDefProm.getPromise()}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let n;if(typeof e>"u")if(this.mapCheck())n=this.$iApi.geo.map.getScale();else return!1;else n=e;return this.scaleSet.isOffScale(n).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){if(!this.extent)return console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve();if(this.mapCheck()){if(this.extent.xmin===this.extent.xmax&&this.extent.ymin===this.extent.ymax){const e=new ui("point",[this.extent.xmin,this.extent.ymin],this.extent.sr);return this.$iApi.geo.map.zoomMapTo(e)}return this.$iApi.geo.map.zoomMapTo(this.extent)}else return Promise.resolve()}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=e}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=e}get layerExists(){return this.initiationState===$e.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(e=>e.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?Pt.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Pt.latLongSR())}}class K5 extends zu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.geomType=Ut.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new HL(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),e.state?.hovertips!==void 0&&console.warn("hovertips layer configuration property is deprecated. Please adjust to use maptips instead"),this.maptips=e.state?.maptips??e.state?.hovertips??!0,this.attribs=new tB}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const n=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(n<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new iB(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===Kn.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===xt.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const r=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(r,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(ri.PERMANENT)};this.attribs.attLoader=new nB(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!1}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(e=>e.trim).map(e=>e.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={},r=new Sl;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(n.getAttribs||n.getStyle){const p=this.attribs.quickCache.getAttribs(e);if(p)i=p;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[e]]}else o=!0}if(n.getGeom){l=s.getScale();const p=this.attribs.quickCache.getGeom(e,l);if(p)r=p;else if(this.layerType===xt.FEATURE){await this.viewPromise(),this.esriView.updating&&await new Promise(y=>{const g=Fn(()=>this.esriView.updating,b=>{b||(g.remove(),y())})});const d=await le.Query();d.objectIds=[e],d.returnGeometry=!0;const f=await this.esriView.queryFeatures(d);if(f.features.length){const y=f.features[0],g=this.$iApi.geo.geom.geomEsriToRamp(y.geometry);this.attribs.quickCache.setGeom(e,g,l),r=g}else a=!0}else a=!0}if(o||a){const p={oid:e,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(p.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(p.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(p);a&&(this.attribs.quickCache.setGeom(e,d.geometry,l),r=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,d.attributes),o&&(i=d.attributes))}const c=new Wr(r,"",n.getAttribs?i:void 0);if(n.getStyle){const p=Ct(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(p)}return c}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const n=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(n.attributes||{},this.renderer)}setSqlFilter(e,n){const i=this.filter.getSql(e);if(n===i)return;this.filter.setSql(e,n),this.$iApi.event.emit(Et.FILTER_CHANGE,{uid:this.uid,filterKey:e});const r=`${this.uid}-${e}-${n}`;this._lastFilterUpdate=r,setTimeout(()=>{this._lastFilterUpdate===r&&this.applySqlFilter()},80)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],n=void 0){const i=this.filter.getCombinedSql(e),r=!!n;if(!(i||r))return;n&&this.filter.setExtent(n);const s=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(s,r);if(!o){const a={filterGeometry:n,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,r)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){const n=await this.queryOIDs(e),i={getGeom:!!e.includeGeometry,getAttribs:!0};return n.map(r=>({oid:r,graphic:this.getGraphic(r,i)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}configDrawOrder(e,n){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(n.orderBy=e.drawOrder.map(i=>{const r=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:r}:{valueExpression:i.arcade,order:r}}),this._drawOrder=e.drawOrder.slice())}}class Jz extends zu{constructor(e,n){super(e,n),this.dataFormat=Kn.ESRI_FEATURE,this.layerFormat=Fi.GRAPHIC,this.maptips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find(n=>n.id===e)}getEsriGraphic(e){return this.esriLayer?.graphics.find(n=>n.id===e)}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists){this.noLayerErr();return}let n;e instanceof Array?n=e:n=[e];const i=n.filter(l=>this._graphics.findIndex(c=>c.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),r=this.$iApi.geo.map.getSR(),s=i.map(l=>this.$iApi.geo.proj.projectGeometry(r,l.geometry)),o=await Promise.all(s),a=i.map((l,c)=>{const p=new Wr(o[c],l.id,l.attributes);return p.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(p)});this.esriLayer.addMany(a)}removeGraphic(e){if(!this.layerExists){this.noLayerErr();return}if(typeof e>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let n;Array.isArray(e)?n=e:n=[e],n.map(i=>typeof i=="string"?i:i.id).forEach(i=>{const r=this.esriLayer.graphics.findIndex(o=>o.id===i);r>-1&&this.esriLayer.graphics.removeAt(r);const s=this._graphics.findIndex(o=>o.id===i);s>-1&&this._graphics.splice(s,1)})}}class Xz extends Jz{constructor(e,n){super(e,n),this.layerType=xt.GRAPHIC}async onInitiate(){this.esriLayer=Be(await le.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(ji.UP_TO_DATE),e}}class Bu extends K5{esriJson;sourceGeoJson;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=Kn.ESRI_FEATURE,this.layerFormat=Fi.FEATURE,this.layerIdx=0,e.identifyMode&&e.identifyMode!==zn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=zn.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=Be(await le.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(r=>{n[r]=this.esriJson[r]}),this.origRampConfig.nameField?n.displayField=this.$iApi.geo.attributes.fieldValidator(n.fields,this.origRampConfig.nameField)||i:n.displayField=i,n.outFields=["*"],delete n.url,this.configDrawOrder(e,n),e.geomClustering&&(n.featureReduction=e.geomClustering),n}onLoadActions(){const e=super.onLoadActions(),n=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await le.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),await this.nameInitializer({nameArcade:this.origRampConfig.nameArcade},this.nameField),this.origRampConfig.tooltipField&&console.warn("tooltipField layer configuration property is deprecated. Please adjust to use maptipField instead"),this.origRampConfig.tooltipArcade&&console.warn("tooltipArcade layer configuration property is deprecated. Please adjust to use maptipArcade instead");const i=this.origRampConfig.maptipField||this.origRampConfig.tooltipField||"",r=i?this.$iApi.geo.attributes.fieldValidator(this.fields,i):"";await this.maptipInitializer({maptipArcade:this.origRampConfig.maptipArcade||this.origRampConfig.tooltipArcade,maptipField:r}),this.featureCount=this.esriLayer?.source.length||0};return e.push(n()),e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then(()=>{this.applySqlFilter()}),e}runIdentify(e){if(!this.canIdentify())return[];const n=new vn,i=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===zn.HYBRID||this.identifyMode===zn.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ut.POLYGON&&e.geometry.type===Ut.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):l.filterGeometry=e.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return e.hitTest&&(this.identifyMode===zn.HYBRID||this.identifyMode===zn.SYMBOLIC)&&(r=s.then(async()=>{const l=await e.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(p=>c.oid===p.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([r,s]).then(()=>{o.forEach(l=>{i.items.push(fd.makeRawItem(dc.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(fd.makeOidItem(l,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??Ye.fromESRI(e.fullExtent,this.id+"_extent");const n=Be(e.fields.slice());this.fields=n.map(r=>({name:r.name,alias:r.alias,type:r.type,length:r.length})),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new kTt(this.$iApi,i)}async getGraphic(e,n){let i;if(!n.getGeom&&this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=new Wr(new Sl,"",r.features[r.oidIndex[e]])}else{const r={filterOIDs:[e],includeGeometry:!!n.getGeom},s=await this.queryFeatures(r);if(s.length===0)throw new Error(`Could not find object id ${e}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=s[0]}if(n.getStyle){const r=Ct(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(r)}return i}async queryFeatures(e){const n={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(n)}async queryOIDs(e){const n={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(n)).map(i=>i.attributes?i.attributes[this.oidField]:-1)}applySqlFilter(e=[]){if(!this.esriView){this.noLayerErr();return}const n=this.filter.getCombinedSql(e);le.FeatureFilter({where:n}).then(i=>{Ct(this.esriView).filter=i})}}class dTt extends Bu{constructor(e,n){super(e,n),this.layerType=xt.GEOJSON}async onInitiate(){let e;const n=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");n>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class fTt extends Bu{constructor(e,n){super(e,n),this.layerType=xt.SHAPEFILE}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(n);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class mTt extends Bu{constructor(e,n){super(e,n),this.layerType=xt.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const n=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")e=this.origRampConfig.rawData;else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(n>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});n>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class yTt extends Bu{constructor(e,n){super(e,n),this.layerType=xt.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class gTt extends Bu{constructor(e,n){super(e,n),this.layerType=xt.FLATGEOBUF}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(n,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class vTt extends Bu{constructor(e,n){super(e,n),this.layerType=xt.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(n);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}}class bTt extends K5{constructor(e,n){super(e,n),this.dataFormat=Kn.ESRI_FEATURE,this.supportsIdentify=!0,this.layerType=xt.FEATURE,this.layerFormat=Fi.FEATURE,e.identifyMode&&e.identifyMode!==zn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=zn.HYBRID}async onInitiate(){Be(this.esriLayer=await le.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(n.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,n),e.geomClustering&&(n.featureReduction=e.geomClustering),n}onLoadActions(){const e=Date.now(),n=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,r=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=r,this.serviceUrl=i;const s=async()=>{let a;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const l=await le.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=l,a={customRenderer:l}}else a={};await this.loadLayerMetadata(a),e>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()),await this.nameInitializer(this.origRampConfig,this.nameField),await this.maptipInitializer(this.origRampConfig))},o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(ri.PERMANENT)).then(a=>{e>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=r,n.push(o,s()),n}runIdentify(e){if(!this.canIdentify())return[];const n=new vn,i=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let r=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===zn.HYBRID||this.identifyMode===zn.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ut.POLYGON&&e.geometry.type===Ut.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):a.filterGeometry=e.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return e.hitTest&&(this.identifyMode===zn.HYBRID||this.identifyMode===zn.SYMBOLIC)&&(r=s.then(async()=>{(await e.hitTest).filter(a=>a.layerId===this.id&&o.findIndex(l=>a.oid===l)===-1).forEach(a=>{o.push(a.oid)})})),Promise.all([r,s]).then(()=>{o.forEach(a=>{i.items.push(fd.makeOidItem(a,this))}),i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}applySqlFilter(e=[]){if(this.layerExists){const n=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=n}else this.noLayerErr()}getGraphicExtent(e){return new Promise((n,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const r=this.attribs.quickCache.getExtent(e);r?n(r):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=Ye.fromESRI(s.extent);this.attribs.quickCache.setExtent(e,o),n(o)}).catch(()=>{console.error(`Extent querying failed for ${e}.`),i()})}})}}class _Tt extends zu{isDynamic;origState;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=xt.MAPIMAGE,this.layerFormat=Fi.MAPIMAGE,this.isDynamic=!1,this.maptips=!1,this.layerTree.layerIdx=-1,this.identifyMode=zn.GEOMETRIC}async onInitiate(){this.esriLayer=Be(await le.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return this.origState={visibility:n.visible,opacity:n.opacity},n.visible=!1,e.imageFormat&&(n.imageFormat=e.imageFormat),n}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const n=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??Ye.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(p=>p.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},r={};this.origRampConfig.sublayers.forEach(l=>{r[l.index||0]=l});const s=[],o=(l,c)=>{const p=l.id,d=r[p];if(l.sublayers&&l.sublayers.length>0){const f=(d?d.name:"")||l.title||"",y=new F1(p,"",f,!1);c.findChildByIdx(p)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[p]||(this._sublayers[p]=new wTt({id:this.$iApi.geo.layer.sublayerId(this.id,p),index:p,layerType:xt.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,maptips:this.maptips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const f=this._sublayers[p];if(f.isRemoved)return;if(f.name=d?.name||l.title||"",s.push(f),!c.children.map(y=>y.layerIdx).includes(p)){const y=new F1(p,f.uid,f.name,!1);c.children.push(y)}f.esriWatches.push(Fn(()=>l.visible,()=>{this.$iApi.event.emit(Et.LAYER_VISIBILITYCHANGE,{visibility:f.visibility,layer:f}),f.parentLayer?.checkVisibility()}),Fn(()=>l.opacity,y=>{this.$iApi.event.emit(Et.LAYER_OPACITYCHANGE,{opacity:y,layer:f})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=i(l.layerIdx),p=r[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),n<this.lastCancel)return;const d={};if(l.esriSubLayer&&p?.customRenderer?.type){const y=await le.RendererFromJson(p.customRenderer);l.esriSubLayer.renderer=y,d.customRenderer=y}if(await l.loadLayerMetadata(d),n<this.lastCancel)return;const f=r[l.layerIdx];if(f?(l.visibility=l.isRemoved?!1:f.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=f.state?.opacity??this.origState.opacity??1,this.$iApi.geo.attributes.applyFieldMetadata(l,f.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim(),await l.nameInitializer(f,l.nameField);const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(ri.PERMANENT));n>this.lastCancel&&(l.featureCount=y)}});return e.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,n=!1){super.updateLayerState(e,n),this.sublayers.forEach(i=>i.updateLayerState(e,n))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach(n=>n.updateDrawState(e))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map(r=>typeof r=="number"?this.layerTree?.findChildByIdx(r)?.uid:r));const n=e.sublayerIds?this._sublayers.filter(r=>e.sublayerIds?.includes(r.uid)):this._sublayers.filter(r=>r.canIdentify());if(n.length===0)return[];let i;return e.geometry.type===Ut.POINT&&(i=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),n.map(r=>{const s=new vn,o={},a=Zn({items:[],loading:s.getPromise(),loaded:!1,errored:!1,uid:r.uid,layerId:r.id,requestTime:Date.now()});return r.geomType!==Ut.POLYGON&&i?o.filterGeometry=i:o.filterGeometry=e.geometry,o.filterSql=r.getCombinedSqlFilter(),o.sourceSR=r.sourceSR,r.queryOIDs(o).then(l=>{l.forEach(c=>{a.items.push(fd.makeOidItem(c,r))}),a.loaded=!0,s.resolveMe()}).catch(()=>{a.errored=!0,s.resolveMe()}),a})}}class wTt extends K5{constructor(e,n,i){if(super(e,n),this.layerType=xt.SUBLAYER,this.layerFormat=Fi.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=i,this.isSystem=i.isSystem,this.dataFormat=Kn.ESRI_FEATURE,this.supportsFeatures=!0,this.maptips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){if(!e.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=Be(e.esriLayer.allSublayers.find(n=>n.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=$e.INITIATED;const e=this.labelVizOverride();e!==void 0&&(this.labelVisibility=e)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===$e.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const n=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=n}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){if(this.parentLayer?.esriLayer){const e=this._parentLayer?.esriLayer?.spatialReference;return e?Pt.fromESRI(e):Pt.latLongSR()}else return this.noLayerErr(),Pt.latLongSR()}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(e!==void 0||(e=this.$iApi.geo.map.labelsDefault?.visible,e!==void 0))return e}}class xTt extends zu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=xt.OSM,this.layerFormat=Fi.OSM,this.dataFormat=Kn.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=Be(await le.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:n.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),e}}class ETt extends zu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=xt.IMAGERY,this.layerFormat=Fi.IMAGERY,this.dataFormat=Kn.ESRI_RASTER}async onInitiate(){this.esriLayer=Be(await le.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e}}class tM extends zu{schemaLocked=!0;constructor(e,n){super(e,n),this.supportsIdentify=!1,this.dataFormat=Kn.ESRI_TILE}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.schemaLocked&&e.push(this.checkProj()),e}async checkProj(){const e=this.getSR(),n=this.$iApi.geo.map.getSR().isEqual(e),i=()=>this.$iApi.notify.show(Ur.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id}));if(this.layerState===en.LOADED&&!n)i(),this.onError(),this.updateDrawState(ji.NOT_LOADED);else if(this.layerState===en.ERROR&&n)this.reload();else if(this.layerState!==en.ERROR&&!n)return i(),Promise.reject()}}class STt extends tM{constructor(e,n){super(e,n),this.layerType=xt.IMAGERYTILE,this.layerFormat=Fi.IMAGERYTILE,this.schemaLocked=!1}async onInitiate(){this.esriLayer=Be(await le.ImageryTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}}class Qz extends tM{constructor(e,n){super(e,n),this.layerType=xt.TILE,this.layerFormat=Fi.TILE}async onInitiate(){this.esriLayer=Be(await le.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(r=>{n>this.lastCancel&&(this.legend=r)});return e.push(i),e}}class ATt extends tM{constructor(e,n){super(e,n),this.layerType=xt.VECTORTILE,this.layerFormat=Fi.VECTORTILE}async onInitiate(){this.esriLayer=Be(await le.VectorTileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}}class TTt extends zu{sublayerNames;mimeType;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.layerType=xt.WMS,this.layerFormat=Fi.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=Kn.OGC_RASTER,this.identifyMode=zn.GEOMETRIC}async onInitiate(){this.esriLayer=Be(await le.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),i=e.sublayers;this.sublayerNames=i.map(s=>s.id||"error_no_wms_id");const r=i.map(s=>s.currentStyle).join();return n.customParameters={styles:r},e.url.indexOf("/geomet")!==-1&&(n.customParameters.layers=i[0].id),n}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=i=>{let r=!1;return i.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&n(s.sublayers)?r=!0:s.visible=!1}),r};return this.layerExists?n(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==Ut.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const n=new vn,i=Zn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then(r=>{if(r){let s=!0,o;typeof r!="string"?o=dc.JSON:r.indexOf("Search returned no results")===-1&&r!==""?o=dc.TEXT:(s=!1,o=dc.UNKNOWN),s&&i.items.push(fd.makeRawItem(o,r))}i.loaded=!0,n.resolveMe()}).catch(()=>{i.errored=!0,n.resolveMe()}),[i]}setCustomParameter(e,n,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=n,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,n,i){const r=this.$iApi.geo.map,s=this.esriLayer;if(!r.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=r.getExtent(),c=s.spatialReferences,p=e.join(","),d=r.esriView.toScreen(n.toESRI()),f=Math.floor(d.x),y=Math.floor(d.y),g={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",b=r.getSR();b.wkid?o=b.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(b.latestWkid&&c.indexOf(b.latestWkid)>-1?o=b.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:f,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:f,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const x={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:r.getPixelWidth(),HEIGHT:r.getPixelHeight(),QUERY_LAYERS:p,LAYERS:p,INFO_FORMAT:i},A=s.customLayerParameters;return A&&Object.keys(A).forEach(T=>{T.toLowerCase()!=="styles"&&(x[T]=A[T])}),Object.keys(x).forEach(T=>a[T]=x[T]),pn(s.url.split("?")[0],{query:a,responseType:g})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const n=new Map;this.esriLayer.allSublayers.forEach(r=>{r.visible&&(r.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===r.name){const o=new em(r.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(r.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),n.set(r.name,r.legendUrl))});const i=e.map(r=>r.styleLegends&&r.currentStyle?r.styleLegends.find(s=>s.name===r.currentStyle).url:void 0);return i.forEach((r,s)=>{r||(i[s]=n.get(e[s].id))}),i}getWMSLayerTitle(e){if(!this.esriLayer)return"";let n;return this.esriLayer.allSublayers.some(i=>i.name===e?(n=i.title,!0):!1),n||""}loadSymbology(){const e=Date.now(),n=this.config.sublayers,i=this.getLegendUrls(n.map(r=>({id:r.id,styleLegends:r.styleLegends,currentStyle:r.currentStyle}))).map((r,s)=>{const o=n[s].name||this.getWMSLayerTitle(n[s].id)||n[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(r).then(l=>{e>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class MTt extends Bu{constructor(e,n){super(e,n),this.layerType=xt.WFS}async onInitiate(){const e=Date.now(),n=new em(this.config.url),{offset:i,limit:r}=n.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(r)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class Kz extends Yz{sourceJson;attribs;_visibility;constructor(e,n){super(e,n),this.dataFormat=Kn.ESRI_FEATURE,this.layerFormat=Fi.NOLAYER,this.drawState=ji.NOT_VISUAL,this.attribs=new tB,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const e=this.sourceJson;if(e.data.length===0||e.fields.length===0)throw new Error("Data layer with no columns or now rows.");const n=e.fields.slice(),i=e.data[0].slice(),r=/ /gi;this.fields=n.map((l,c)=>{let p="",d=l;l.indexOf(" ")>-1&&(p=l,d=l.trim().replace(r,"-"),e.fields[c]=d);const f=this.$iApi.geo.layer.files.inferType(i[c]);return{name:d,alias:p,type:f,length:f===ao.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:ao.OID}),e.fields.push(this.oidField),e.data.forEach((l,c)=>l.push(c+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new PTt(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length;const o=this.origRampConfig.nameField,a={nameField:o?this.$iApi.geo.attributes.fieldValidator(this.fields,o):"",nameArcade:this.origRampConfig.nameArcade};await this.nameInitializer(a,""),this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Et.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==en.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Et.LAYER_RELOAD_END,this)},300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(n=>{this.legend[0].svgcode=n})}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let i={};if(this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();i=r.features[r.oidIndex[e]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Wr(new Sl,"",i)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],n=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(Et.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class ITt extends Kz{constructor(e,n){super(e,n),this.layerType=xt.DATAJSON}async onInitiate(){const e=Date.now();let n;if(this.origRampConfig.rawData)n=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)n=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");e>this.lastCancel&&(this.sourceJson=n,await super.onInitiate())}}class OTt extends Kz{filter;serviceUrl;constructor(e,n){super(e,n),this.layerType=xt.DATATABLE,this.serviceUrl=e.url,this.filter=new HL(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),i=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,r=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(o=>{if(n<this.lastCancel)return;this.name||(this.name=o.name),this.layerTree.name=this.name,this.oidField=o.objectIdField,this.fields=o.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.nameInitializer(this.origRampConfig,o.displayField);const a={supportsLimit:(o.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(ri.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new nB(this.$iApi,a),this.attribs.quickCache=new iB(this.geomType)}),s=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(ri.PERMANENT)).then(o=>{n>this.lastCancel&&(this.featureCount=o)});return this.layerTree.layerIdx=i,e.push(r,s),e}async getGraphic(e){let n={};const i=this.attribs.quickCache.getAttribs(e);if(i)n=i;else if(this.attribs.attLoader.isLoaded()){const r=await this.attribs.attLoader.getAttribs();n=r.features[r.oidIndex[e]]}else{const r={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},s=await this.$iApi.geo.attributes.loadSingleFeature(r);this.attribs.quickCache.setAttribs(e,s.attributes),n=s.attributes}return new Wr(new Sl,"",n)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(e,n){const i=this.filter.getSql(e);n!==i&&(this.filter.setSql(e,n),this.$iApi.event.emit(Et.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[]){const n=this.filter.getCombinedSql(e);if(!n)return;const i=this.filter.sqlActiveFilters(e);let r=this.filter.getCache(i,!1);if(!r){const s={filterSql:n,includeGeometry:!1};r=this.queryOIDs(s),this.filter.setCache(r,i,!1)}return r}queryOIDs(e){const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){return(await this.queryOIDs(e)).map(n=>({oid:n,graphic:this.getGraphic(n)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(i=>i.graphic))}}const NTt=new Map([["integer","number"],["small-integer","number"],["big-integer","number"],["single","number"],["double","number"],["long","number"],["oid","number"],["string","text"],["geometry","geometry"],["date","date"]]);class CTt extends _n{oidIndexer(e,n){e.features.forEach((i,r)=>{e.oidIndex[i[n]]=r})}async arcGisBatchLoad(e,n){if(n.loadAbortFlag)return[];const i=e.permanentFilter?` AND ${e.permanentFilter}`:"",r={query:{where:`${e.oidField}>${e.maxId}${i}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[s,o]=await Ms(pn(e.serviceUrl+"/query",r));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){n.loadedCount+=l;let c;if(e.supportsLimit?c=o.data.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=l),c=l>=e.batchSize),a=this.trimFeatureSetAttributes(a,e.fieldsToTrim??[]),c){e.maxId=a[l-1].attributes[e.oidField];const p=await this.arcGisBatchLoad(e,n);return n.loadAbortFlag?[]:a.concat(p)}else return n.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(e,n){e.maxId=-1,e.batchSize=-1;const i={features:(await this.arcGisBatchLoad(e,n)).map(r=>r.attributes),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,i}async loadGraphicsAttributes(e,n){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const i={features:e.sourceGraphics.map(r=>Ct(r).attributes).toArray(),oidIndex:{}};return this.oidIndexer(i,e.oidField),n.loadIsDone=!0,n.loadedCount=i.features.length,i}async loadCompactJsonAttributes(e,n){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=e.sourceDataJson.fields,r=e.fieldsToTrim??[],s={features:e.sourceDataJson.data.map(o=>{const a={};return o.forEach((l,c)=>{a[i[c]]=typeof l=="string"&&r.includes(i[c])?l.trim():l}),a}),oidIndex:{}};return this.oidIndexer(s,e.oidField),n.loadIsDone=!0,n.loadedCount=s.features.length,e.sourceDataJson=void 0,s}async loadSingleFeature(e){const n={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(n.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(n.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(n.query.geometryPrecision=e.geometryPrecision);const[i,r]=await Ms(pn(e.serviceUrl+"/query",n));if(!r)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!r.data||!r.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const s=r.data.features;if(s.length>0){let o;const a=this.trimFeatureSetAttributes([s[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){a.geometry.spatialReference=r.data.spatialReference;const l=yg(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Sl;return new Wr(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,n){return n.forEach(i=>{e.forEach(r=>{typeof r.attributes[i]=="string"&&(r.attributes[i]=r.attributes[i].trim())})}),e}orderFields(e,n){const i=(s,o)=>s.findIndex(a=>a.name===o),r=(s,o)=>{const a=i(n,s.name),l=i(n,o.name);return a===-1&&l===-1?i(e,s.name)-i(e,o.name):a===-1?1:l===-1?-1:a-l};return e.slice().sort(r)}applyFieldMetadata(e,n=void 0){if(!n||!n.fieldInfo){e.fieldList="*";return}const i=n.fieldInfo.filter(r=>r.trim).map(r=>r.name);if(e.fields.forEach(r=>{i.includes(r.name)&&(r.trim=!0)}),n?.enforceOrder&&n?.fieldInfo&&n?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,n.fieldInfo),e.fieldList=n.fieldInfo.map(r=>r.name).join(",")),n.exclusiveFields){n.fieldInfo.find(s=>s.name===e.oidField)||n.fieldInfo.push({name:e.oidField}),e.fieldList=n.fieldInfo.map(s=>s.name).join(",");const r=n.fieldInfo;e.fields=e.fields.filter(s=>r.find(o=>o.name===s.name))}else e.fieldList="*";n.fieldInfo.forEach(r=>{if(r.alias){const s=e.fields.find(o=>o.name===r.name);s&&(s.alias=r.alias)}})}fieldValidator(e,n){if(e.findIndex(i=>i.name===n)===-1){const i=e.find(r=>r.alias===n);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${n}`),"")}else return n}async generateTabularAttributes(e,n){return n.attLoader.tabularAttributesCache||(n.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,n)),n.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,n){if(e.dataFormat===Kn.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await n.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const r=e.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],Ct(o).name)).map(o=>({data:Ct(o).name,title:Ct(o).alias||Ct(o).name})),s=i.features.map(o=>{const a=AE({},o);return a.rvInteractive="",a.rvSymbol=e.getIcon(o[e.oidField]),a.rvUid=e.uid,a});return r.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:r,rows:s,fields:e.fields,oidField:e.oidField}}fieldTypeToArcade(e){return NTt.get(e)}}class tB{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class eB{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class eM extends _n{aac;loadPromise;details;tabularAttributesCache;constructor(e,n){super(e),this.aac=new eB,this.details=n}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new eB,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class nB extends eM{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class kTt extends eM{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class PTt extends eM{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class iB{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===Ut.POINT||e===Ut.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,n){this.attribs[e]=n}getGeom(e,n=void 0){return this.getGeomStore(n)[e]}setGeom(e,n,i=void 0){const r=this.getGeomStore(i);r[e]=n}getExtent(e){return this.extents[e]}setExtent(e,n){this.extents[e]=n}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class nM{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,n,i=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=i,this.type=K0.Unknown}makeSearchParams(e){return e}searchRenderer(e){const n=this.makeSearchParams(e),i=this.symbolUnits.find(s=>s.match(n));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${n}`);const r=new Hb(this);return r.svgCode="",r}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,n){let i="'";if(!n||n.length===0)return i;const r=n.find(s=>s.name===e);return r&&r.type&&r.type!=="string"&&(i=""),i}cleanFieldName(e,n){if(!e)return e;let i=n.find(r=>r.name===e);if(i)return e;{const r=e.toLowerCase();return i=n.find(s=>s.name.toLowerCase()===r),i?i.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(e=>e.definitionClause).join(" OR ")}))`}}class Hb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new Un}match(e){return!!e}}class LTt extends nM{constructor(e,n){super(e,n),this.type=K0.Simple;const i=new Hb(this);i.label=e.label||"",i.symbol=e.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class RTt extends nM{delim;keyFields;constructor(e,n,i=!1){super(e,n,i),this.type=K0.Unique,this.delim=e.fieldDelimiter||", ";const r=o=>o.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter(o=>o).map(o=>this.cleanFieldName(o,n));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,n));if(e.uniqueValueInfos.forEach(o=>{const a=new rB(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((p,d)=>l[d]==="<Null>"?`${p} IS NULL`:`${p} = ${s[d]}${r(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),e.defaultSymbol){const o=new rB(this,"");o.isDefault=!0,o.label=e.defaultLabel||"",o.symbol=e.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(e){return this.keyFields.map(n=>{let i=e[n]===null?"":e[n];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class rB extends Hb{matchValue;constructor(e,n){super(e),typeof n=="number"?this.matchValue=n.toString():this.matchValue=n}match(e){return this.matchValue===e}}class DTt extends nM{valField;constructor(e,n,i=!1){if(super(e,n,i),this.valField=this.cleanFieldName(e.field,n),e.classBreakInfos.forEach((r,s)=>{const o=s===0,a=new sB(this,r.minValue,r.maxValue,o);a.label=r.label||"",a.symbol=r.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${r.minValue} AND ${this.valField} <= ${r.maxValue})`),this.symbolUnits.push(a)}),e.defaultSymbol){const r=new sB(this,0,0,!1);r.isDefault=!0,r.label=e.defaultLabel||"",r.symbol=e.defaultSymbol,r.definitionClause=this.makeElseClause(),this.defaultUnit=r}}makeSearchParams(e){return parseFloat(e[this.valField])}}class sB extends Hb{minValue;maxValue;firstBreak;constructor(e,n,i,r){super(e),this.minValue=n,this.maxValue=i,this.firstBreak=r}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var iM={exports:{}},FTt=iM.exports,oB;function jTt(){return oB||(oB=1,function(t,e){(function(n,i){t.exports=n.document?i(n,n.document):function(r){return i(r,r.document)}})(typeof window<"u"?window:FTt,function(n,i){var r=typeof this<"u"?this:n,s=r.SVG=function(u){if(s.supported)return u=new s.Doc(u),s.parser.draw||s.prepare(),u};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!i.createElementNS&&!!i.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(u){return"Svgjs"+x(u)+s.did++},s.create=function(u){var m=i.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},s.extend=function(){var u,m,S,k;for(u=[].slice.call(arguments),m=u.pop(),k=u.length-1;k>=0;k--)if(u[k])for(S in m)u[k].prototype[S]=m[S];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,s.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&s.extend(m,u.extend),u.construct&&s.extend(u.parent||s.Container,u.construct),m},s.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof n.SVGElement?new s.Nested:new s.Doc:u.nodeName=="linearGradient"?m=new s.Gradient("linear"):u.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[x(u.nodeName)]?m=new s[x(u.nodeName)]:m=new s.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var u=i.getElementsByTagName("body")[0],m=(u?new s.Doc(u):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:u||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(u,m){var S,k=u.length,z=[];for(S=0;S<k;S++)z.push(m(u[S]));return z},filter:function(u,m){var S,k=u.length,z=[];for(S=0;S<k;S++)m(u[S])&&z.push(u[S]);return z},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof n.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?s.regex.isRgb.test(u)?(m=s.regex.rgb.exec(u.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(u)&&(m=s.regex.hex.exec(A(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new s.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new s.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),s.Color.test=function(u){return u+="",s.regex.isHex.test(u)||s.regex.isRgb.test(u)},s.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},s.Color.isColor=function(u){return s.Color.isRgb(u)||s.Color.test(u)},s.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},s.extend(s.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],S=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(S);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.indexOf(this.value[u])==-1&&S.push(this.value[u]);return this.value=S},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,k=[];m<S;m++)k.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new s.Array(k)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=f(this.value),u}}),s.PointArray=function(u,m){s.Array.call(this,u,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var u=0,m=this.value.length,S=[];u<m;u++)S.push(this.value[u].join(","));return S.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,S=this.value.length,k=[];m<S;m++)k.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new s.PointArray(k)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(z){return z.slice()});if(u[0].x!=null)return u.map(function(z){return[z.x,z.y]})}else u=u.trim().split(s.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var S=0,k=u.length;S<k;S=S+2)m.push([u[S],u[S+1]]);return m},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var k=this.value.length-1;k>=0;k--)this.value[k]=[this.value[k][0]+u,this.value[k][1]+m];return this},size:function(u,m){var S,k=this.bbox();for(S=this.value.length-1;S>=0;S--)k.width&&(this.value[S][0]=(this.value[S][0]-k.x)*u/k.width+k.x),k.height&&(this.value[S][1]=(this.value[S][1]-k.y)*m/k.height+k.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(u,m,S){return m.x=S.x=u[0],m.y=S.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,S){return m.x=S.x,m.y=S.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,S,k){if(u=="H")m[0]=m[0]+S.x;else if(u=="V")m[0]=m[0]+S.y;else if(u=="A")m[5]=m[5]+S.x,m[6]=m[6]+S.y;else for(var z=0,Y=m.length;z<Y;++z)m[z]=m[z]+(z%2?S.y:S.x);return o[u](m,S,k)}}(a[l].toUpperCase());s.PathArray=function(u,m){s.Array.call(this,u,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return C(this.value)},move:function(u,m){var S=this.bbox();if(u-=S.x,m-=S.y,!isNaN(u)&&!isNaN(m))for(var k,z=this.value.length-1;z>=0;z--)k=this.value[z][0],k=="M"||k=="L"||k=="T"?(this.value[z][1]+=u,this.value[z][2]+=m):k=="H"?this.value[z][1]+=u:k=="V"?this.value[z][1]+=m:k=="C"||k=="S"||k=="Q"?(this.value[z][1]+=u,this.value[z][2]+=m,this.value[z][3]+=u,this.value[z][4]+=m,k=="C"&&(this.value[z][5]+=u,this.value[z][6]+=m)):k=="A"&&(this.value[z][6]+=u,this.value[z][7]+=m);return this},size:function(u,m){var S,k,z=this.bbox();for(S=this.value.length-1;S>=0;S--)k=this.value[S][0],k=="M"||k=="L"||k=="T"?(this.value[S][1]=(this.value[S][1]-z.x)*u/z.width+z.x,this.value[S][2]=(this.value[S][2]-z.y)*m/z.height+z.y):k=="H"?this.value[S][1]=(this.value[S][1]-z.x)*u/z.width+z.x:k=="V"?this.value[S][1]=(this.value[S][1]-z.y)*m/z.height+z.y:k=="C"||k=="S"||k=="Q"?(this.value[S][1]=(this.value[S][1]-z.x)*u/z.width+z.x,this.value[S][2]=(this.value[S][2]-z.y)*m/z.height+z.y,this.value[S][3]=(this.value[S][3]-z.x)*u/z.width+z.x,this.value[S][4]=(this.value[S][4]-z.y)*m/z.height+z.y,k=="C"&&(this.value[S][5]=(this.value[S][5]-z.x)*u/z.width+z.x,this.value[S][6]=(this.value[S][6]-z.y)*m/z.height+z.y)):k=="A"&&(this.value[S][1]=this.value[S][1]*u/z.width,this.value[S][2]=this.value[S][2]*m/z.height,this.value[S][6]=(this.value[S][6]-z.x)*u/z.width+z.x,this.value[S][7]=(this.value[S][7]-z.y)*m/z.height+z.y);return this},equalCommands:function(u){var m,S,k;for(u=new s.PathArray(u),k=this.value.length===u.value.length,m=0,S=this.value.length;k&&m<S;m++)k=this.value[m][0]===u.value[m][0];return k},morph:function(u){return u=new s.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,S=this.destination.value,k=[],z=new s.PathArray,Y,pt,ot,It;for(Y=0,pt=m.length;Y<pt;Y++){for(k[Y]=[m[Y][0]],ot=1,It=m[Y].length;ot<It;ot++)k[Y][ot]=m[Y][ot]+(S[Y][ot]-m[Y][ot])*u;k[Y][0]==="A"&&(k[Y][4]=+(k[Y][4]!=0),k[Y][5]=+(k[Y][5]!=0))}return z.value=k,z},parse:function(u){if(u instanceof s.PathArray)return u.valueOf();var m,k,S={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):u=u.reduce(function(It,Lt){return[].concat.call(It,Lt)},[]);var k=[],z=new s.Point,Y=new s.Point,pt=0,ot=u.length;do s.regex.isPathLetter.test(u[pt])?(m=u[pt],++pt):m=="M"?m="L":m=="m"&&(m="l"),k.push(o[m].call(null,u.slice(pt,pt=pt+S[m.toUpperCase()]).map(parseFloat),z,Y));while(ot>pt);return k},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof s.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new s.Number(u),new s.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new s.Number(u),new s.Number(this-u,this.unit||u.unit)},times:function(u){return u=new s.Number(u),new s.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new s.Number(u),new s.Number(this/u,this.unit||u.unit)},to:function(u){var m=new s.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new s.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new s.Number(this.destination).minus(this).times(u).plus(this):this}}}),s.Element=s.invent({create:function(u){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var S=w(this,u,m);return this.width(new s.Number(S.width)).height(new s.Number(S.height))},clone:function(u){this.writeDataToDom();var m=P(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var S=this.bbox();return u>S.x&&m>S.y&&u<S.x+S.width&&m<S.y+S.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(s.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return s.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof n.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(u){var m=[],S=this;do{if(S=S.parent(u),!S||!S.node)break;m.push(S)}while(S.parent);return m},matches:function(u){return g(this.node,u)},native:function(){return this.node},svg:function(u){var m=i.createElement("svg");if(u&&this instanceof s.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var S=0,k=m.firstChild.childNodes.length;S<k;S++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=i.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),s.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},s.morph=function(u){return function(m,S){return new s.MorphObj(m,S).at(u)}},s.Situation=s.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(u.duration).valueOf(),this.delay=new s.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,S){typeof u=="object"&&(m=u.ease,S=u.delay,u=u.duration);var k=new s.Situation({duration:u||1e3,delay:S||0,ease:s.easing[m||"-"]||m});return this.queue(k),this},delay:function(u){var m=new s.Situation({duration:u,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof s.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=n.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){n.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof s.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,S,k=this.situation;if(k.init)return this;for(u in k.animations)for(S=this.target()[u](),Array.isArray(S)||(S=[S]),Array.isArray(k.animations[u])||(k.animations[u]=[k.animations[u]]),m=S.length;m--;)k.animations[u][m]instanceof s.Number&&(S[m]=new s.Number(S[m])),k.animations[u][m]=S[m].morph(k.animations[u][m]);for(u in k.attrs)k.attrs[u]=new s.MorphObj(this.target().attr(u),k.attrs[u]);for(u in k.styles)k.styles[u]=new s.MorphObj(this.target().style(u),k.styles[u]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var S=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!S&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var S=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*S,this.situation.finish=this.situation.start+S,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var S=this.last();return S.loops=u??!0,S.loop=0,m&&(S.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),S=function k(z){z.detail.situation==m&&(u.call(this,m),this.off("finished.fx",k))};return this.target().on("finished.fx",S),this._callStart()},during:function(u){var m=this.last(),S=function(k){k.detail.situation==m&&u.call(this,k.detail.pos,s.morph(k.detail.pos),k.detail.eased,m)};return this.target().off("during.fx",S).on("during.fx",S),this.after(function(){this.off("during.fx",S)}),this._callStart()},afterAll:function(u){var m=function S(k){u.call(this),this.off("allfinished.fx",S)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(S){u.call(this,S.detail.pos,s.morph(S.detail.pos),S.detail.eased,S.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,S){return this.last()[S||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,S,k;m=Math.max(this.absPos,0),S=Math.floor(m),this.situation.loops===!0||S<this.situation.loops?(this.pos=m-S,k=this.situation.loop,this.situation.loop=S):(this.absPos=this.situation.loops,this.pos=1,k=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-k)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var z=this.situation.ease(this.pos);for(var Y in this.situation.once)Y>this.lastPos&&Y<=z&&(this.situation.once[Y].call(this.target(),this.pos,z),delete this.situation.once[Y]);return this.active&&this.target().fire("during",{pos:this.pos,eased:z,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=z,this):this},eachAt:function(){var u,m,S,k=this,z=this.target(),Y=this.situation;for(u in Y.animations)S=[].concat(Y.animations[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(Y.ease(k.pos),k.pos):ot}),z[u].apply(z,S);for(u in Y.attrs)S=[u].concat(Y.attrs[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(Y.ease(k.pos),k.pos):ot}),z.attr.apply(z,S);for(u in Y.styles)S=[u].concat(Y.styles[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(Y.ease(k.pos),k.pos):ot}),z.style.apply(z,S);if(Y.transforms.length){for(S=Y.initialTransformation,u=0,m=Y.transforms.length;u<m;u++){var pt=Y.transforms[u];if(pt instanceof s.Matrix){pt.relative?S=S.multiply(new s.Matrix().morph(pt).at(Y.ease(this.pos))):S=S.morph(pt).at(Y.ease(this.pos));continue}pt.relative||pt.undo(S.extract()),S=S.multiply(pt.at(Y.ease(this.pos)))}z.matrix(S)}return this},once:function(u,m,S){var k=this.last();return S||(u=k.ease(u)),k.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(u,m,S){return(this.fx||(this.fx=new s.FX(this))).animate(u,m,S)},delay:function(u){return(this.fx||(this.fx=new s.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),s.MorphObj=s.invent({create:function(u,m){if(s.Color.isColor(m))return new s.Color(u).morph(m);if(s.regex.delimiter.test(u))return s.regex.pathLetters.test(u)?new s.PathArray(u).morph(m):new s.Array(u).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(u,m,S){if(typeof u=="object")for(var k in u)this.attr(k,u[k]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var S in u)this.style(S,u[S]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof s.G)return this.transform({x:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("x",S)},y:function(u,m){if(this.target()instanceof s.G)return this.transform({y:u},m),this;var S=new s.Number(u);return S.relative=m,this.add("y",S)},cx:function(u){return this.add("cx",new s.Number(u))},cy:function(u){return this.add("cy",new s.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof s.Text)this.attr("font-size",u);else{var S;(!u||!m)&&(S=this.target().bbox()),u||(u=S.width/S.height*m),m||(m=S.height/S.width*u),this.add("width",new s.Number(u)).add("height",new s.Number(m))}return this},width:function(u){return this.add("width",new s.Number(u))},height:function(u){return this.add("height",new s.Number(u))},plot:function(u,m,S,k){return arguments.length==4?this.plot([u,m,S,k]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new s.Number(u)):this},viewbox:function(u,m,S,k){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(u,m,S,k)),this},update:function(u){if(this.target()instanceof s.Stop){if(typeof u=="number"||u instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),s.Box=s.invent({create:function(u,m,S,k){if(typeof u=="object"&&!(u instanceof s.Element))return s.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=S,this.height=k),D(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,D(m)},transform:function(u){var m=1/0,S=-1/0,k=1/0,z=-1/0,Y,pt=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return pt.forEach(function(ot){ot=ot.transform(u),m=Math.min(m,ot.x),S=Math.max(S,ot.x),k=Math.min(k,ot.y),z=Math.max(z,ot.y)}),Y=new this.constructor,Y.x=m,Y.width=S-m,Y.y=k,Y.height=z-k,D(Y),Y}}}),s.BBox=s.invent({create:function(u){if(s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var S=u.node;S.parentNode;)S=S.parentNode;if(S!=i)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof s.Shape){var k=u.clone(s.parser.draw.instance).show();m=k.node.getBBox(),k.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(u){s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element&&s.Box.call(this,u.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=n.pageXOffset,this.y+=n.pageYOffset,this}},construct:{rbox:function(u){return u?new s.RBox(this).transform(u.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(u){var m,S=M([1,0,0,1,0,0]);for(u=u instanceof s.Element?u.matrixify():typeof u=="string"?M(u.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(u)?M(u):typeof u=="object"?u:S,m=G.length-1;m>=0;--m)this[G[m]]=u[G[m]]!=null?u[G[m]]:S[G[m]]},extend:{extract:function(){var u=_(this,0,1),m=_(this,1,0),S=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(S*Math.PI/180)+this.f*Math.sin(S*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(S*Math.PI/180)+this.e*Math.sin(-S*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-S,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:S,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(u){return this.destination=new s.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new s.Matrix(this.native().multiply(I(u).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(u,m){return new s.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,S,k){return arguments.length==1?m=u:arguments.length==3&&(k=S,S=m,m=u),this.around(S,k,new s.Matrix(u,0,0,m,0,0))},rotate:function(u,m,S){return u=s.utils.radians(u),this.around(m,S,new s.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,S,k){return arguments.length==1?m=u:arguments.length==3&&(k=S,S=m,m=u),u=s.utils.radians(u),m=s.utils.radians(m),this.around(S,k,new s.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,S){return this.skew(u,0,m,S)},skewY:function(u,m,S){return this.skew(0,u,m,S)},around:function(u,m,S){return this.multiply(new s.Matrix(1,0,0,1,u||0,m||0)).multiply(S).multiply(new s.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=s.parser.native.createSVGMatrix(),m=G.length-1;m>=0;m--)u[G[m]]=this[G[m]];return u},toString:function(){return"matrix("+j(this.a)+","+j(this.b)+","+j(this.c)+","+j(this.d)+","+j(this.e)+","+j(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(u,m){var S,k={x:0,y:0};S=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:k,this.x=S.x,this.y=S.y},extend:{clone:function(){return new s.Point(this)},morph:function(u,m){return this.destination=new s.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=s.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new s.Point(this.native().matrixTransform(u.native()))}}}),s.extend(s.Element,{point:function(u,m){return new s.Point(u,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(u,m,S){if(u==null){for(u={},m=this.node.attributes,S=m.length-1;S>=0;S--)u[m[S].nodeName]=s.regex.isNumber.test(m[S].nodeValue)?parseFloat(m[S].nodeValue):m[S].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?s.defaults.attrs[u]:s.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof S=="string"?this.node.setAttributeNS(S,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),s.extend(s.Element,{transform:function(u,m){var S=this,k,z;if(typeof u!="object")return k=new s.Matrix(S).extract(),typeof u=="string"?k[u]:k;if(k=new s.Matrix(S),m=!!m||!!u.relative,u.a!=null)k=m?k.multiply(new s.Matrix(u)):new s.Matrix(u);else if(u.rotation!=null)N(u,S),k=m?k.rotate(u.rotation,u.cx,u.cy):k.rotate(u.rotation-k.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(N(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var Y=k.extract();u.scaleX=u.scaleX*1/Y.scaleX,u.scaleY=u.scaleY*1/Y.scaleY}k=k.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(N(u,S),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var Y=k.extract();k=k.multiply(new s.Matrix().skew(Y.skewX,Y.skewY,u.cx,u.cy).inverse())}k=k.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(z=S.bbox(),u.flip=z.cx,u.offset=z.cy):u.flip=u.offset,k=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?k=k.translate(u.x,u.y):(u.x!=null&&(k.e=u.x),u.y!=null&&(k.f=u.y)));return this.attr("transform",k)}}),s.extend(s.FX,{transform:function(u,m){var S=this.target(),k,z;return typeof u!="object"?(k=new s.Matrix(S).extract(),typeof u=="string"?k[u]:k):(m=!!m||!!u.relative,u.a!=null?k=new s.Matrix(u):u.rotation!=null?(N(u,S),k=new s.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(N(u,S),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,k=new s.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(N(u,S),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,k=new s.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?S.bbox()["c"+u.flip]:u.offset:u.offset==null?(z=S.bbox(),u.flip=z.cx,u.offset=z.cy):u.flip=u.offset,k=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(k=new s.Translate(u.x,u.y)),k?(k.relative=m,this.last().transforms.push(k),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var S=m.trim().split("(");return[S[0],S[1].split(s.regex.delimiter).map(function(k){return parseFloat(k)})]}).reduce(function(m,S){return S[0]=="matrix"?m.multiply(M(S[1])):m[S[0]].apply(m,S[1])},new s.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),S=u.screenCTM().inverse();return this.addTo(u).untransform().transform(S.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var S=0,k=this.arguments.length;S<k;++S)this[this.arguments[S]]=u[S];else if(typeof u=="object")for(var S=0,k=this.arguments.length;S<k;++S)this[this.arguments[S]]=u[this.arguments[S]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],S=0,k=this.arguments.length;S<k;++S)m.push(this[this.arguments[S]]);var z=this._undo||new s.Matrix;return z=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(z,m)).at(u),this.inversed?z.inverse():z},undo:function(u){for(var m=0,S=this.arguments.length;m<S;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new s[x(this.method)](u,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(s.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(S){return!!S}).map(function(S){return S.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[b(u)];else this.node.style[b(u)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(u){return s.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return s.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var S,k,z=this.children();for(S=0,k=z.length;S<k;S++)z[S]instanceof s.Element&&u.apply(z[S],[S,z]),m&&z[S]instanceof s.Container&&z[S].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(u,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(u=u||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),s.Container=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(u){var m=[0,0,0,0],S,k,z,Y,pt,ot,It,Lt=1,$t=1,we=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof s.Element){for(ot=u,It=u,pt=(u.attr("viewBox")||"").match(we),u.bbox,z=new s.Number(u.width()),Y=new s.Number(u.height());z.unit=="%";)Lt*=z.value,z=new s.Number(ot instanceof s.Doc?ot.parent().offsetWidth:ot.parent().width()),ot=ot.parent();for(;Y.unit=="%";)$t*=Y.value,Y=new s.Number(It instanceof s.Doc?It.parent().offsetHeight:It.parent().height()),It=It.parent();this.x=0,this.y=0,this.width=z*Lt,this.height=Y*$t,this.zoom=1,pt&&(S=parseFloat(pt[0]),k=parseFloat(pt[1]),z=parseFloat(pt[2]),Y=parseFloat(pt[3]),this.zoom=this.width/this.height>z/Y?this.height/Y:this.width/z,this.x=S,this.y=k,this.width=z,this.height=Y)}else u=typeof u=="string"?u.match(we).map(function(Pe){return parseFloat(Pe)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,S,k){return this.destination=new s.ViewBox(u,m,S,k),this},at:function(u){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:s.Container,construct:{viewbox:function(u,m,S,k){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(u,m,S,k))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){s.Element.prototype[u]=function(m){return m==null?s.off(this,u):s.on(this,u,m),this}}),s.listenerId=0,s.on=function(u,m,S,k,z){var Y=S.bind(k||u),pt=u instanceof s.Element?u.node:u;pt.instance=pt.instance||{_events:{}};var ot=pt.instance._events;S._svgjsListenerId||(S._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(It){var Lt=It.split(".")[0],$t=It.split(".")[1]||"*";ot[Lt]=ot[Lt]||{},ot[Lt][$t]=ot[Lt][$t]||{},ot[Lt][$t][S._svgjsListenerId]=Y,pt.addEventListener(Lt,Y,z||!1)})},s.off=function(u,m,S,k){var z=u instanceof s.Element?u.node:u;if(z.instance&&!(typeof S=="function"&&(S=S._svgjsListenerId,!S))){var Y=z.instance._events;(m||"").split(s.regex.delimiter).forEach(function(pt){var ot=pt&&pt.split(".")[0],It=pt&&pt.split(".")[1],Lt,$t;if(S)Y[ot]&&Y[ot][It||"*"]&&(z.removeEventListener(ot,Y[ot][It||"*"][S],k||!1),delete Y[ot][It||"*"][S]);else if(ot&&It){if(Y[ot]&&Y[ot][It]){for($t in Y[ot][It])s.off(z,[ot,It].join("."),$t);delete Y[ot][It]}}else if(It)for(pt in Y)for(Lt in Y[pt])It===Lt&&s.off(z,[pt,It].join("."));else if(ot){if(Y[ot]){for(Lt in Y[ot])s.off(z,[ot,Lt].join("."));delete Y[ot]}}else{for(pt in Y)s.off(z,pt);z.instance._events={}}})}},s.extend(s.Element,{on:function(u,m,S,k){return s.on(this,u,m,S,k),this},off:function(u,m){return s.off(this.node,u,m),this},fire:function(u,m){return u instanceof n.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new s.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(u){u&&(u=typeof u=="string"?i.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,s.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(u):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,S=P(m.cloneNode(!0));return u?(u.node||u).appendChild(S.node):m.parentNode.insertBefore(S.node,m.nextSibling),S}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof s.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(u){return this.masker=u instanceof s.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(u){return this.clipper=u instanceof s.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(u){this.constructor.call(this,s.create(u+"Gradient")),this.type=u},inherit:s.Container,extend:{at:function(u,m,S){return this.put(new s.Stop).update(u,m,S)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="gradientTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),s.extend(s.Gradient,s.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(u),fy:new s.Number(m)}):this.attr({x1:new s.Number(u),y1:new s.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(u),cy:new s.Number(m)}):this.attr({x2:new s.Number(u),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(u,m){return this.put(new s.Gradient(u)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof s.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new s.Number(u.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,S){return u=="transform"&&(u="patternTransform"),s.Container.prototype.attr.call(this,u,m,S)}},construct:{pattern:function(u,m,S){return this.defs().pattern(u,m,S)}}}),s.extend(s.Defs,{pattern:function(u,m,S){return this.put(new s.Pattern).update(S).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element}),s.Bare=s.invent({create:function(u,m){if(this.constructor.call(this,s.create(u)),m)for(var S in m.prototype)typeof m.prototype[S]=="function"&&(this[S]=m.prototype[S])},inherit:s.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(u)),this}}}),s.extend(s.Parent,{element:function(u,m){return this.put(new s.Bare(u,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,s.xlink)}},construct:{use:function(u,m){return this.put(new s.Use).element(u,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(u,m){return this.put(new s.Rect).size(u,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(u){return this.put(new s.Circle).rx(new s.Number(u).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(u,m){return this.put(new s.Ellipse).size(u,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),s.extend(s.Circle,s.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new s.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new s.Number(u).divide(2))},size:function(u,m){var S=w(this,u,m);return this.rx(new s.Number(S.width).divide(2)).ry(new s.Number(S.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,S,k){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:S,y2:k}:u=new s.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var S=w(this,u,m);return this.attr(this.array().size(S.width,S.height).toLine())}},construct:{line:function(u,m,S,k){return s.Line.prototype.plot.apply(this.put(new s.Line),u!=null?[u,m,S,k]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(u){return this.put(new s.Polyline).plot(u||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(u){return this.put(new s.Polygon).plot(u||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new s.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var S=w(this,u,m);return this.attr("points",this.array().size(S.width,S.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new s.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var S=w(this,u,m);return this.attr("d",this.array().size(S.width,S.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new s.Path).plot(u||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(u){if(!u)return this;var m=this,S=new n.Image;return s.on(S,"load",function(){s.off(S);var k=m.parent(s.Pattern);k!==null&&(m.width()==0&&m.height()==0&&m.size(S.width,S.height),k&&k.width()==0&&k.height()==0&&k.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:S.width,height:S.height,ratio:S.width/S.height,url:u}))}),s.on(S,"error",function(k){s.off(S),typeof m._error=="function"&&m._error.call(m,k)}),this.attr("href",S.src=this.src=u,s.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,S){return this.put(new s.Image).load(u).size(m||0,S||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),S=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-S:m:this.attr("y",typeof u.valueOf()=="number"?u+S:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,S=0,k=m.length;S<k;++S)S!=0&&m[S].nodeType!=3&&s.adopt(m[S]).dom.newLined==!0&&(u+=`
`),u+=m[S].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var S=0,z=u.length;S<z;S++)this.tspan(u[S]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new s.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(u.childNodes),function(S){return s.adopt(S)});return new s.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,S=0,k=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?S+=k:(this.attr("dy",k+S),S=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new s.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new s.Text).text(u)},plain:function(u){return this.put(new s.Text).plain(u)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(s.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,S=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(S.node),S.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(u){for(var m=new s.TextPath,S=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+S,s.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),S=null;return m&&(S=m.plot(u)),u==null?S:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(u){return this.attr("href",u,s.xlink)},show:function(u){return this.attr("show",u,s.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new s.A).to(u)}}}),s.extend(s.Element,{linkTo:function(u){var m=new s.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,S){return this.defs().marker(u,m,S)}}}),s.extend(s.Defs,{marker:function(u,m,S){return this.put(new s.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(S)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(u,m,S,k){var z=["marker"];return u!="all"&&z.push(u),z=z.join("-"),u=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,S,k),this.attr(z,u)}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,S={};S[u]=function(k){if(typeof k>"u")return this;if(typeof k=="string"||s.Color.isRgb(k)||k&&typeof k.fill=="function")this.attr(u,k);else for(m=p[u].length-1;m>=0;m--)k[p[u][m]]!=null&&this.attr(p.prefix(u,p[u][m]),k[p[u][m]]);return this},s.extend(s.Element,s.FX,S)}),s.extend(s.Element,s.FX,{rotate:function(u,m,S){return this.transform({rotation:u,cx:m,cy:S})},skew:function(u,m,S,k){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:S}):this.transform({skewX:u,skewY:m,cx:S,cy:k})},scale:function(u,m,S,k){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:S}):this.transform({scaleX:u,scaleY:m,cx:S,cy:k})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new s.Number(u).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(u){return this.y(new s.Number(u).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(u,m){var S=(this._target||this).type;return S=="radial"||S=="circle"?this.attr("r",new s.Number(u)):this.rx(u).ry(m??u)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),s.Set=s.invent({create:function(u){u instanceof s.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,S=[].slice.call(arguments);for(u=0,m=S.length;u<m;u++)this.members.push(S[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,S=this.members.length;m<S;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new s.Set(u)}}}),s.FX.Set=s.invent({create:function(u){this.set=u}}),s.Set.inherit=function(){var u,m=[];for(var u in s.Shape.prototype)typeof s.Shape.prototype[u]=="function"&&typeof s.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.Set.prototype[S]=function(){for(var k=0,z=this.members.length;k<z;k++)this.members[k]&&typeof this.members[k][S]=="function"&&this.members[k][S].apply(this.members[k],arguments);return S=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var u in s.FX.prototype)typeof s.FX.prototype[u]=="function"&&typeof s.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(S){s.FX.Set.prototype[S]=function(){for(var k=0,z=this.set.members.length;k<z;k++)this.set.members[k].fx[S].apply(this.set.members[k].fx,arguments);return this}})},s.extend(s.Element,{data:function(u,m,S){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:S===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(u){var m=i.getElementById(U(u)||u);return s.adopt(m)},s.select=function(u,m){return new s.Set(s.utils.map((m||i).querySelectorAll(u),function(S){return s.adopt(S)}))},s.extend(s.Parent,{select:function(u){return s.select(u,this.node)}});function d(u,m,S,k){return S+k.replace(s.regex.dots," .")}function f(u){for(var m=u.slice(0),S=m.length;S--;)Array.isArray(m[S])&&(m[S]=f(m[S]));return m}function y(u,m){return u instanceof m}function g(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function b(u){return u.toLowerCase().replace(/-(.)/g,function(m,S){return S.toUpperCase()})}function x(u){return u.charAt(0).toUpperCase()+u.slice(1)}function A(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function T(u){var m=u.toString(16);return m.length==1?"0"+m:m}function w(u,m,S){if(m==null||S==null){var k=u.bbox();m==null?m=k.width/k.height*S:S==null&&(S=k.height/k.width*m)}return{width:m,height:S}}function _(u,m,S){return{x:m*u.a+S*u.c+0,y:m*u.b+S*u.d+0}}function M(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function I(u){return u instanceof s.Matrix||(u=new s.Matrix(u)),u}function N(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function C(u){for(var m=0,S=u.length,k="";m<S;m++)k+=u[m][0],u[m][1]!=null&&(k+=u[m][1],u[m][2]!=null&&(k+=" ",k+=u[m][2],u[m][3]!=null&&(k+=" ",k+=u[m][3],k+=" ",k+=u[m][4],u[m][5]!=null&&(k+=" ",k+=u[m][5],k+=" ",k+=u[m][6],u[m][7]!=null&&(k+=" ",k+=u[m][7])))));return k+" "}function P(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof n.SVGElement&&P(u.childNodes[m]);return s.adopt(u).id(s.eid(u.nodeName))}function D(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function U(u){var m=(u||"").toString().match(s.regex.reference);if(m)return m[1]}function j(u){return Math.abs(u)>1e-37?u:0}var G="abcdef".split("");if(typeof n.CustomEvent!="function"){var Z=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var S=i.createEvent("CustomEvent");return S.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),S};Z.prototype=n.Event.prototype,s.CustomEvent=Z}else s.CustomEvent=n.CustomEvent;return function(u){for(var m=0,S=["moz","webkit"],k=0;k<S.length&&!n.requestAnimationFrame;++k)u.requestAnimationFrame=u[S[k]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[S[k]+"CancelAnimationFrame"]||u[S[k]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(z){var Y=new Date().getTime(),pt=Math.max(0,16-(Y-m)),ot=u.setTimeout(function(){z(Y+pt)},pt);return m=Y+pt,ot},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(n),s})}(iM)),iM.exports}var GTt=jTt();const md=EE(GTt);class $Tt extends _n{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,n){return n.getGraphicIcon(e)}getGraphicSymbol(e,n){return n.getGraphicSymbol(e)}makeRenderer(e,n,i=!1){switch(e.type){case this.SIMPLE:return new LTt(e,n);case this.CLASS_BREAKS:return new DTt(e,n,i);case this.UNIQUE_VALUE:return new RTt(e,n,i);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const n=md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(e){const r=await this.renderSymbologyImage(e);if(r){i.svgcode=r;const s=document.createElement("span");s.innerHTML=r;const o=s.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=n.svg()}else i.svgcode=n.svg();return i}listToSymbology(e,n){return n.map(({text:i,image:r})=>{const s={name:i,image:r,svgcode:""};return e(r).then(o=>{s.svgcode=o}),s})}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,n=null){n===null&&(n=md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(i===e)return"";const{loader:r}=await this.svgDrawImage(n,i);return n.viewbox(0,0,r.width,r.height),n.svg()}async renderSymbologyIcon(e,n=null){if(n===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),n=md(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:r}=await this.svgDrawImage(n,i);return r.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(r,this.CONTENT_IMAGE_SIZE),n.svg()}generatePlaceholderSymbology(e,n="#000"){const i=md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(n),i.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:i.svg()}}async generateBlankSymbology(){return md(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const n=this,i=1.33333,r=document.createElement("div");r.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(r);const s=md(r).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:b}){return s.path(b).size(g*i)},circle({size:g}){return s.circle(g*i)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*i)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*i)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*i)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*i)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*i)}},a={[er.SOLID]:"none",[er.NONE]:"none",[er.DASH]:"5.333,4",[er.DOT]:"1.333,4",[er.DASHDOT]:"5.333,4,1.333,4",[er.LONGDASH]:"10.666,4",[er.LONGDASHDOT]:"10.666,4,1.333,4",[er.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[er.SHORTDOT]:"1.333,1.333",[er.SHORTDASH]:"5.333,1.333",[er.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[er.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},p={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,b)=>s.pattern(5,5,x=>x.line(0,5/2,5,5/2)).stroke(b),vertical:(g,b)=>s.pattern(5,5,x=>x.line(5/2,0,5/2,5)).stroke(b),"forward-diagonal":(g,b)=>s.pattern(5,5,x=>{x.line(0,0,5,5).stroke(b),x.line(0,0,5,5).move(0,5).stroke(b),x.line(0,0,5,5).move(5,0).stroke(b)}),"backward-diagonal":(g,b)=>s.pattern(5,5,x=>{x.line(5,0,0,5).stroke(b),x.line(5,0,0,5).move(5/2,5/2).stroke(b),x.line(5,0,0,5).move(-5/2,-5/2).stroke(b)}),cross:(g,b)=>s.pattern(5,5,x=>{x.line(5/2,0,5/2,5).stroke(b),x.line(0,5/2,5,5/2).stroke(b)}),"diagonal-cross":(g,b)=>s.pattern(7,7,x=>{x.line(0,0,7,7).stroke(b),x.line(7,0,0,7).stroke(b)})},d={"simple-marker"(){const g=y(e.color);e.outline=e.outline||c;const b=y(e.outline.color),x=f({color:b.colour,opacity:b.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),A=o[e.style](e).fill({color:g.colour,opacity:g.opacity}).stroke(x).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0);n.fitInto(A,n.CONTENT_SIZE)},"simple-line"(){const g=y(e.color),b=f({color:g.colour,opacity:g.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),x=n.CONTENT_PADDING,A=n.CONTAINER_SIZE-n.CONTENT_PADDING;s.line(x,x,A,A).stroke(b)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(e.color),b=f({color:g.colour,opacity:g.opacity}),x=p[e.style](g,b);e.outline=e.outline||c;const A=y(e.outline.color),T=f({color:A.colour,opacity:A.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(x).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,b=e.width*e.xscale,x=e.height*e.yscale;e.outline=e.outline||c;const A=y(e.outline.color),T=f({color:A.colour,opacity:A.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return n.$iApi.geo.shared.convertImagetoDataURL(g).then(w=>{const _=s.pattern(b,x,M=>M.image(w,b,x));s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(_).stroke(T)})},"picture-marker"(){const g=e.source,b=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:e.url;return n.$iApi.geo.shared.convertImagetoDataURL(b).then(x=>n.svgDrawImage(s,x)).then(({image:x})=>{x.center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0),n.fitInto(x,n.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[e.type]()),document.body.removeChild(r),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function f(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,n,i=0,r=0,s=!0){return new Promise((o,a)=>{const l=e.image(n,i,r,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(e,n){const i=e.node.getBoundingClientRect(),r=n/Math.max(i.width,i.height);r<1&&e.scale(r)}rendererToLegend(e){let n;const i=e.symbolUnits.slice(0);if(e.defaultUnit&&i.push(e.defaultUnit),e.falseRenderer)n=i.map(r=>[r]);else{const r=new Map;i.forEach(s=>{const o=r.get(s.label);o?o.push(s):r.set(s.label,[s])}),n=[],r.forEach(s=>n.push(s))}return n.map(r=>{const s=r[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:r.length===1?s.definitionClause:`(${r.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,r.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const n={query:{f:"json"}},i={layers:[]},[r,s]=await Ms(pn(`${e}/legend`,n));return s?s.data?s.data:(console.error(`Error loading legend data for ${e}`),i):(console.error(`Error loading legend for ${e}`,r),i)}async mapServerLegendToRenderer(e,n){const i=e.layers.find(s=>s.layerId===n);let r;if(typeof i<"u"){r={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await le.RendererFromJson(r);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(e){const n=e.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...n)},r=await le.RendererFromJson(i);return this.makeRenderer(r,[],!0)}async mapServerToLocalLegend(e,n=void 0){const i=await this.getMapServerLegend(e);let r,s;return typeof n>"u"?(s=0,r=await this.mapServerLegendToRendererAll(i)):(s=parseInt(n),r=await this.mapServerLegendToRenderer(i,s)),this.rendererToLegend(r)}}class UTt extends _n{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!(e.filterGeometry||e.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const n=await le.Query();n.returnGeometry=!1,e.filterSql&&(n.where=e.filterSql),e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),n.spatialRelationship="intersects");const i=await le.QueryByIds(e.url,n);return Array.isArray(i)?i:[]}async geoJsonQuery(e){const n=await le.Query();if(n.returnGeometry=!!e.includeGeometry,n.outFields=["*"],e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),n.spatialRelationship="intersects"),e.filterSql&&(n.where=e.filterSql),e.filterOIDs&&(n.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(n)).features.map((i,r)=>{let s;return n.returnGeometry?s=this.$iApi.geo.geom.geomEsriToRamp(i.geometry,`queryResult${r}`):s=new Sl,new Wr(s,"",i.attributes)})}async queryGeometryHelper(e,n,i,r){return!n&&e.type===Ut.EXTENT&&r&&!r.isEqual(e.sr)&&!(i&&i>2e7&&e.sr.wkid===3978&&r.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(r,e)).toESRI():e.toESRI()}makeClickBuffer(e,n=5){const i=this.$iApi.geo.map,r=i.getExtent(),s=n*(r.xmax-r.xmin)/i.getPixelWidth();return new Ye("ze_buffer",[e.x-s,e.y-s],[e.x+s,e.y+s],e.sr)}}class VTt extends _n{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=uc.geom,this.proj=uc.proj,this.shared=uc.sharedUtils,this.map=new LAt(e),this.layer=new pTt(e),this.attributes=new CTt(e),this.query=new UTt(e),this.symbology=new $Tt(e),Array.isArray(oe.request.interceptors)||(oe.request.interceptors=[]),oe.request.interceptors.push({before:n=>{n.url.includes("?blankTile=false")&&(n.url=n.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){oe.request.proxyUrl=e}get proxy(){return oe.request.proxyUrl||""}}const zTt=Object.assign({"../fixtures/appbar/index.ts":()=>import("./index-CE-bRDsD.js"),"../fixtures/areas-of-interest/index.ts":()=>import("./index-_KUTaqCp.js"),"../fixtures/basemap/index.ts":()=>import("./index-KVgMHhl1.js"),"../fixtures/crosshairs/index.ts":()=>import("./index-BQ5dsxbI.js"),"../fixtures/details/index.ts":()=>import("./index-mVoYA9eW.js"),"../fixtures/draw/index.ts":()=>import("./index-CsgrkbkJ.js").then(t=>t.a),"../fixtures/export-footnote/index.ts":()=>import("./index-BA_sPMf5.js"),"../fixtures/export-legend/index.ts":()=>import("./index-Ccw63T9C.js"),"../fixtures/export-map/index.ts":()=>import("./index--s61TFMc.js"),"../fixtures/export-northarrow/index.ts":()=>import("./index-O6NO3zT0.js"),"../fixtures/export-scalebar/index.ts":()=>import("./index-J6zsVFed.js"),"../fixtures/export-timestamp/index.ts":()=>import("./index-DQPDrQJM.js"),"../fixtures/export-title/index.ts":()=>import("./index-dXMj31PT.js"),"../fixtures/export/index.ts":()=>import("./index-DBdaY1wm.js"),"../fixtures/extentguard/index.ts":()=>import("./index-DJ-FZO_v.js"),"../fixtures/gazebo/index.ts":()=>import("./index-Bix7Y7Rg.js"),"../fixtures/geosearch/index.ts":()=>import("./index-DfuQs6v5.js"),"../fixtures/grid/index.ts":()=>import("./index-CpvVfyOK.js"),"../fixtures/help/index.ts":()=>import("./index-DIFiEkGr.js"),"../fixtures/hilight/index.ts":()=>import("./index-BqL0Bfrg.js"),"../fixtures/keyboardnav/index.ts":()=>import("./index-hZzG5tX0.js"),"../fixtures/layer-reorder/index.ts":()=>import("./index-D4-5z7vr.js"),"../fixtures/legend/index.ts":()=>import("./index-BexlHmzq.js"),"../fixtures/mapnav/index.ts":()=>import("./index-Bp2x3QSz.js"),"../fixtures/metadata/index.ts":()=>import("./index-CmaTK_uJ.js"),"../fixtures/northarrow/index.ts":()=>import("./index-RYftiJYu.js"),"../fixtures/overviewmap/index.ts":()=>import("./index-KDGl5ZLw.js"),"../fixtures/panguard/index.ts":()=>import("./index--bb1osLl.js"),"../fixtures/scrollguard/index.ts":()=>import("./index-BJQ6vXO_.js"),"../fixtures/settings/index.ts":()=>import("./index-yVOjKDbg.js"),"../fixtures/snowman/index.ts":()=>import("./index-CNvirFMM.js"),"../fixtures/swipe/index.ts":()=>import("./index-DKSowShB.js"),"../fixtures/wizard/index.ts":()=>import("./index-h_ieh4zJ.js")});class BTt extends _n{constructor(e){super(e)}exists(e){return e in gs(this.$vApp.$pinia).items}async add(e,n){let i;if(e in gs(this.$vApp.$pinia).items)return this.get(e);if(n){if(typeof n!="function")throw new Error("malformed fixture constructor");i=Kb.updateBaseToInstance(new n,e,this.$iApi)}else{const r=(await zTt[`../fixtures/${e}/index.ts`]()).default;i=new r(e,this.$iApi)}return gs(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Et.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(e){const n=this.get(e);if(!n)throw new Error(`Could not find fixture ${e} for removal`);return gs(this.$vApp.$pinia).removeFixture(n),this.$iApi.event.emit(Et.FIXTURE_REMOVED,n),n}flush(){const e=gs(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=this.get(n);i?.persist&&typeof i?.removed=="function"?i.removed():i&&this.remove(n)})}restore(){const e=gs(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const i=e.items[n];typeof i.added=="function"&&i.added(),this.$iApi.geo.map.created&&typeof i.initialized=="function"&&i.initialized()})}get(e){const n=[];typeof e=="string"?n.push(e):Array.isArray(e)?n.push(...e):n.push(e.id);const i=n.map(r=>{const s=gs(this.$vApp.$pinia).items[r];if(s)return s});return i.length===1?i[0]:i}isLoaded(e){const n=gs(this.$vApp.$pinia),i=Array.isArray(e)?e:[e];i.forEach(s=>{n.loadPromises[s]===void 0&&n.addLoadPromise(s)});const r=n.getLoadPromises(i);return Array.isArray(e)?Promise.all(r):r[0]}addDefaultFixtures(e){Array.isArray(e)||(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const n=Ki(this.$vApp.$pinia);return n.startingFixtures=e,Promise.all(e.map(i=>this.add(i)))}}class Kb extends _n{static updateBaseToInstance(e,n,i){const r=new Kb(n,i);return Object.defineProperties(e,{id:{value:n},$iApi:{value:i},persist:{value:e.persist??!0},$vApp:{get(){return r.$vApp}},remove:{value:r.remove},extend:{value:r.extend},config:{get(){return r.config}},mount:{value:r.mount}}),e}id;persist;constructor(e,n){super(n),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,n={}){const i=Yt({extends:e,iApi:this.$iApi,data(){return{...n}}}),r=ql(i),{el:s}=this.mount(i,{props:{...n.propsData},app:r});return s}mount(e,{props:n,children:i,element:r,app:s}={}){let o=r,a=ds(e,n,i);return s&&s._context&&(a.appContext=s._context),o||(o=document.createElement("div")),Fp(a,o),{vNode:a,destroy:()=>{o&&Fp(null,o),o=null,a=null},el:o}}get config(){return Ki(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},n=(i,r=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let s=i.id;r!==void 0&&(s=this.$iApi.geo.layer.sublayerId(r.id,i.index)),e[s]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(s=>n(s,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>n(i.config)),e}handlePanelWidths(e){if(this.config?.panelWidth){const n={};if(typeof this.config.panelWidth=="number")e.forEach(i=>{n[i]=this.config.panelWidth});else{this.config.panelWidth.default&&e.forEach(i=>{n[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(n[i]=this.config.panelWidth[i])}for(const i in n){const r=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(r,{"flex-basis":`${n[i]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const n=ic(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;e.forEach(r=>{n.items[r].teleport=i?this.config.panelTeleport:this.config.panelTeleport[r],n.items[r].style.width="100%"})}}}class WTt extends _n{panelStore=ic(this.$vApp.$pinia);updateHTML(e,n,i){const r=this.get(e),s=i?r.screens[i]:Object.values(r.screens)[0];if(V7(s))for(const o in n)s[o].innerHTML=n[o]instanceof HTMLElement?n[o].outerHTML:n[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const i in e.content)if(typeof e.content[i]=="string"){const r=document.createElement("div");r.innerHTML=e.content[i],e.content[i]=r}const n={};return n[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},n[e.id].screens[e.id]=e.content,n}registerHTML(e){const n=this.get(e.id);if(n)return console.error("Panel already exist"),n;const i=this.registerHTMLConfig(e),r={i18n:{messages:e.i18nMap}};return this.register(i,r)}register(e,n){const i=qTt(e)?{[e.id]:e.config}:e;if(n){const s=n.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const r=Object.entries(i).reduce((s,[o,a])=>(s.push(new W0(this.$iApi,o,a)),s),[]);return r.forEach(s=>this.panelStore.registerPanel(s)),r.length===1?r[0]:r.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(e){const n=Array.isArray(e)?e:[e];n.forEach(r=>{this.panelStore.regPromises[r]===void 0&&this.panelStore.addRegPromise(r)});const i=this.panelStore.getRegPromises(n);return Array.isArray(e)?Promise.all(i):i[0]}allRegistered(){return Object.keys(this.panelStore.items)}remove(e){const n=this.get(e);n&&(n.isOpen&&this.close(n),this.panelStore.removePanel(n))}get(e){const n=typeof e=="string"?e:e.id;return this.panelStore.items[n]}open(e){let n,i,r;if(typeof e=="string"||e instanceof W0?n=this.get(e):(n=this.get(e.id),{screen:i,props:r}=e),!n)return n;if(n.isOpen&&!n.isVisible)n.minimize();else if(n.isOpen)return n;return i||(n.route&&!r?{screen:i,props:r}=n.route:i=Object.keys(n.screens).pop()),this.show(n,{screen:i,props:r})?(this.panelStore.openPanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Et.PANEL_OPENED,n)):console.error(`Failed to open ${n.id} panel.`),n}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const n=this.get(e);if(!n)return n;const i=this.visible.slice().indexOf(n),r=this.$vApp.$el.querySelector("[focus-container]");return n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Et.PANEL_CLOSED,n),this.$vApp.$nextTick(()=>{const s=i>0?this.visible[i-1]:this.visible[0];s?this.focus(s):r?.focus()}),n}minimize(e){const n=this.get(e);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Et.PANEL_MINIMIZED,n),n)}move(e,n){const i=this.get(e);return i&&(this.panelStore.movePanel(i,n),i)}toggle(e,n){let i;return typeof e=="string"||e instanceof W0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible?n?this.open(e):this.close(i):i)}toggleMinimize(e,n){let i;return typeof e=="string"||e instanceof W0?i=this.get(e):i=this.get(e.id),i&&(n=typeof n<"u"?n:!i.isVisible,n!==i.isVisible?n?this.open(i):this.minimize(i):i)}pin(e,n){const i=this.get(e);return!i||(n=typeof n<"u"?n:!i.isPinned,!i.isPinned&&!n)||(this.panelStore.pinned=n?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(e,n){const i=this.get(e);if(!i)return i;if(i.screens[n.screen]){if(i.screens[n.screen]?.props){const r=Object.keys(i.screens[n.screen]?.props).filter(o=>o!=="panel"),s=n.props?Object.keys(n.props):[];for(let o=0;o<r.length;o++)if(!s.includes(r[o])&&i.screens[n.screen].props[r[o]].required)return}return n.screen in this.$element._context.components||i.registerScreen(n.screen),i.teleport&&(n.props={header:!!i.teleport?.showHeader,...n.props}),this.panelStore.items[i.id].route=n,i}}setStyle(e,n,i=!1){const r=this.get(e);return r&&(this.panelStore.items[r.id].style=i?n:{...r.style,...n},r)}expand(e,n){const i=this.get(e);return i&&(this.panelStore.items[i.id].expanded=n!==void 0?n:!i.expanded,i)}focus(e){const n=this.get(e);n&&this.$vApp.$el.querySelector(`.panel-container [data-cy="${n.id}"] [focus-container], .panel-container [data-cy="${n.id}"] [focus-list]`)?.focus()}}function qTt(t){return t.id!==void 0&&typeof t.id=="string"&&t.config!==void 0}const HTt={};function ZTt(t,e){const n=xn("panel-screen");return st(),ke(n,{header:!1,class:"screen-spinner"},{content:wn(()=>e[0]||(e[0]=[nt("div",{class:"loader"},null,-1)])),_:1})}const YTt=Lo(HTt,[["render",ZTt],["__scopeId","data-v-a3c61802"]]),JTt=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>import("./screen-CZfnl6qd.js"),"../fixtures/basemap/screen.vue":()=>import("./screen-BWsCMAFC.js"),"../fixtures/export/screen.vue":()=>import("./screen-CTFKdVIT.js"),"../fixtures/geosearch/screen.vue":()=>import("./screen-XrUsBVtv.js"),"../fixtures/grid/screen.vue":()=>import("./screen-CYPpfb1n.js"),"../fixtures/help/screen.vue":()=>import("./screen-qFVztKyu.js"),"../fixtures/layer-reorder/screen.vue":()=>import("./screen-D7xhqQ7d.js"),"../fixtures/legend/screen.vue":()=>import("./screen-JckYbrSx.js"),"../fixtures/metadata/screen.vue":()=>import("./screen-Z6WE8e7N.js"),"../fixtures/settings/screen.vue":()=>import("./screen-D7xvGtpn.js"),"../fixtures/wizard/screen.vue":()=>import("./screen-dDiTqP3G.js")});class W0 extends _n{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return this.loadedScreens.indexOf(e)!==-1}registerScreen(e){const n=this.screens[e];let i;if(mdt(n)||fdt(n))i=n,this.loadedScreens.push(e);else if(V7(n))i={template:`<panel-screen :panel="this" :screenId="'${e}'">
                           </panel-screen>`};else{let r;typeof n=="string"?r=JTt[`../fixtures/${n}`]():r=n();const s=new Promise((o,a)=>{r.then(l=>{this.loadedScreens.push(e),o(ydt(l)?l.default:l)}),r.catch(l=>a(l))});i=Pv({loader:()=>s,loadingComponent:YTt,delay:200})}this.$iApi.$element.component(e,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(e,n,i){if(super(e),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:n,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof e=="string"?{screen:e}:e}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof e=="boolean"?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||typeof e=="boolean"?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const n=typeof e=="string"?{screen:e}:e;return this.route=n,this.$iApi.panel.show(this,n),this}setStyles(e,n=!1){return this.$iApi.panel.setStyle(this,e,n),this}expand(e){return this.$iApi.panel.expand(this,e),this}}class XTt extends _n{constructor(e){super(e)}async easyLayer(e,n){const i=this.$iApi.geo.layer.createLayer(e);await this.$iApi.geo.map.addLayer(i);const r=this.$iApi.fixture.get("legend");return r&&(n?r.addItem(n):await r.addLayerItem(i)),i}}function QTt(t){const e={};(Array.isArray(t)?t:[t]).forEach(s=>{s.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),s.language="en");const o=KTt(s);e[s.language]=o});const n=Object.entries(e).map(s=>{const o=s[1].fixturesEnabled;return delete s[1].fixturesEnabled,o});let i=!1;const r=n.reduce((s,o)=>s.filter(a=>{const l=o.includes(a);return i=i||!l,l}));return i&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),r.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:r,configs:e}}function KTt(t){const e={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return e5t(t.services,e),t5t(t.map,e),n5t(t.ui,e),t.plugins&&i5t(t.plugins,e),e}function t5t(t,e){if(t.layers&&t.layers.forEach(n=>{e.layers.unshift(lB(n))}),t.initialBasemapId&&(e.map.initialBasemapId=t.initialBasemapId),t.components){if(t.components.geoSearch&&(t.components.geoSearch.enabled&&e.fixturesEnabled.push("geosearch"),typeof t.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof t.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),t.components.overviewMap&&t.components.overviewMap.enabled&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.startMinimized=!t.components.overviewMap.initiallyExpanded,e.fixtures.overviewmap.expandFactor=t.components.overviewMap.expandFactor??1.5),t.components.northArrow&&t.components.northArrow.enabled){const n={};t.components.northArrow.arrowIcon&&(n.arrowIcon=t.components.northArrow.arrowIcon),t.components.northArrow.poleIcon&&(n.poleIcon=t.components.northArrow.poleIcon),n&&(e.fixtures.northarrow=n,e.fixturesEnabled.push("northarrow"))}if(t.components.scaleBar&&t.components.scaleBar.enabled){switch(e.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:t?.components?.scaleBar?.scalebarUnit==="english"}},t.components?.mouseInfo?.spatialReference?.wkid){case 4326:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:e.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:e.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}t.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}t.components.basemap&&t.components.basemap.enabled&&e.fixturesEnabled.push("basemap")}t.extentSets&&(e.map.extentSets=[],t.extentSets.forEach(n=>{const i={id:n.id,default:{xmin:n.default.xmin,xmax:n.default.xmax,ymin:n.default.ymin,ymax:n.default.ymax,spatialReference:n.spatialReference}};n.full&&(i.full={xmin:n.full.xmin,xmax:n.full.xmax,ymin:n.full.ymin,ymax:n.full.ymax,spatialReference:n.spatialReference}),n.maximum&&(i.maximum={xmin:n.maximum.xmin,xmax:n.maximum.xmax,ymin:n.maximum.ymin,ymax:n.maximum.ymax,spatialReference:n.spatialReference}),e.map.extentSets.push(i)})),t.lodSets&&(e.map.lodSets=t.lodSets),t.tileSchemas&&(e.map.tileSchemas=[],t.tileSchemas.forEach(n=>{const i={id:n.id,name:n.name,extentSetId:n.extentSetId,lodSetId:n.lodSetId,thumbnailTileUrls:[],hasNorthPole:n.hasNorthPole||!1};n.overviewUrl&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.basemaps[n.id]={id:n.overviewUrl.id||`overviewmap-basemap-${n.id}`,tileSchemaId:n.id,layers:[{id:n.overviewUrl.id||`overviewmap-basemap-${n.id}-0`,layerType:n.overviewUrl.layerType==="esriDynamic"?xt.MAPIMAGE:xt.TILE,url:n.overviewUrl.url,opacity:n.overviewUrl.opacity??1}]}),e.map.tileSchemas.push(i)})),t.baseMaps&&(e.map.basemaps=[],t.baseMaps.forEach(n=>{const i={id:n.id,tileSchemaId:n.tileSchemaId,name:n.name,description:n.description,altText:n.altText,thumbnailUrl:n.thumbnailUrl,layers:[]};n.attribution&&(i.attribution={text:{},logo:{}},n.attribution.text&&(i.attribution.text.disabled=!n.attribution.text.enabled,i.attribution.text.value=n.attribution.text.value),n.attribution.logo&&(i.attribution.logo.disabled=!n.attribution.logo.enabled,i.attribution.logo.altText=n.attribution.logo.altText,i.attribution.logo.value=n.attribution.logo.value,i.attribution.logo.link=n.attribution.logo.link)),n.layers.forEach((r,s)=>{const o={id:r.id||`${n.id}-${s}`,layerType:r.layerType==="esriDynamic"?xt.MAPIMAGE:xt.TILE,url:r.url,opacity:r.opacity??1};i.layers.push(o)}),e.map.basemaps.push(i)})),t.legend&&(e.fixturesEnabled.push("legend"),t.legend.type==="autopopulate"?(e.fixtures.legend={root:{name:"I'm root",children:[]}},e.layers&&e.layers.toReversed().forEach(n=>{if(n.type==="esri-map-image"||n.type==="ogc-wms"){const i={name:n.name??`${n.id} Group`,children:[]};n.sublayers.forEach(r=>{const s={layerId:n.id};r.name&&(s.name=r.name),r.controls&&(s.controls=r.controls),r.disabledControls&&(s.disabledControls=r.disabledControls),n.type==="esri-map-image"?s.sublayerIndex=r.index:(s.sublayerId=r.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),i.children.push(s)}),e.fixtures.legend.root.children.push(i)}else{const i={layerId:n.id};n.controls&&(i.controls=n.controls),n.disabledControls&&(i.disabledControls=n.disabledControls),e.fixtures.legend.root.children.push(i)}})):e.fixtures.legend={root:rM(t.legend.root)})}function rM(t){const e={name:t.name,children:[]};typeof t.hidden<"u"&&(e.hidden=t.hidden),typeof t.expanded<"u"&&(e.expanded=t.expanded);const n=["identify","opacity","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=yd(t.controls,n),t.controls.includes("visibility")&&e.controls.push("visibilityButton"),(t.controls.length!==1||t.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),e.controls.push("expandButton")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=yd(t.disabledControls,n),t.disabledControls.includes("visibility")&&e.disabledControls.push("visibilityButton"),(t.disabledControls.length!==1||t.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),t.children.forEach(i=>{if(i.layerId)e.children.push(aB(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`):(e.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const r={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(s=>{s.layerId?r.children.push(aB(s)):r.children.push(rM(s))}),e.children.push(r)}else e.children.push(rM(i))}),e}function aB(t){const e=t,n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.layerControls=yd(t.controls,n),e.layerControls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledLayerControls=yd(t.disabledControls,n)),t.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),delete e.controlledIds),t.entryIndex&&(e.sublayerIndex=t.entryIndex,delete t.entryIndex),t.entryId&&console.warn(`entryId property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),e}function lB(t){const e=sM(t);switch(e.id=t.id,e.url=t.url,t.refreshInterval&&(e.refreshInterval=t.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),t.expectedResponseTime&&(e.expectedLoadTime=t.expectedResponseTime),t.metadataUrl&&(e.metadata={url:t.metadataUrl}),t.catalogueUrl&&(e.catalogueUrl=t.catalogueUrl),typeof t.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.tooltipField&&(e.maptipField=t.tooltipField),t.tolerance&&(e.mouseTolerance=t.tolerance,t.layerType==="esriDynamic"&&(e.touchTolerance=t.tolerance+10)),t.customRenderer&&(e.customRenderer=t.customRenderer),t.layerType){case"esriDynamic":e.layerType="esri-map-image",typeof t.singleEntryCollapse<"u"&&(e.singleEntryCollapse=t.singleEntryCollapse),t.imageFormat&&(e.imageFormat=t.imageFormat),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=sM(n);i.index=n.index,e.sublayers.push(i)}));break;case"esriFeature":e.layerType="esri-feature",t.fileType&&(e.layerType=t.fileType==="shapefile"?"file-shape":`file-${t.fileType}`,t.colour&&(e.colour=t.colour),t.latField&&(e.latField=t.latField),t.longField&&(e.longField=t.longField));break;case"ogcWfs":e.layerType="ogc-wfs",t.colour&&(e.colour=t.colour),typeof t.xyInAttribs<"u"&&(e.xyInAttribs=t.xyInAttribs);break;case"ogcWms":e.layerType="ogc-wms",t.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.featureInfoMimeType&&(t.featureInfoMimeType==="text/html;fgpv=summary"?e.featureInfoMimeType="text/html":e.featureInfoMimeType=t.featureInfoMimeType),t.legendMimeType&&console.warn(`legendMimeType property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const i=sM(n);i.id=n.id,n.currentStyle&&(i.currentStyle=n.currentStyle,console.warn(`currentStyle property provided in layer entry ${n.id} of layer ${t.id} is currently not supported.`)),n.allStyles&&console.warn(`allStyles property provided in layer entry ${n.id} of layer ${t.id} cannot be mapped and will be skipped.`),e.sublayers.push(i)}));break;case"esriImage":e.layerType="esri-imagery";break;case"esriTile":e.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${t.layerType}`)}return t.details&&console.warn(`Details config provided in layer ${t.id} cannot be mapped and will be skipped.`),e}function sM(t){const e={};t.name&&(e.name=t.name),t.nameField&&(e.nameField=t.nameField),t.extent&&(e.extent=t.extent);const n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=yd(t.controls,n),e.controls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=yd(t.disabledControls,n)),t.state&&(e.state={opacity:t.state.opacity??1,visibility:t.state.visibility??!0,identify:t.state.query??!0,maptips:t.state.hovertips??!0},typeof t.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`)),typeof t.stateOnly<"u"&&(e.cosmetic=t.stateOnly),t.initialFilteredQuery&&(e.initialFilteredQuery=t.initialFilteredQuery),r5t(t,e),(typeof t.toggleSymbology<"u"||t.table)&&(e.fixtures={},typeof t.toggleSymbology<"u"&&(e.fixtures.legend={toggleSymbology:t.toggleSymbology}),t.table&&(e.fixtures.grid={},t.table.title&&(e.fixtures.grid.title=t.table.title),t.table.description&&console.warn(`description property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.search&&(t.table.search.enabled&&(e.fixtures.grid.search=t.table.search.enabled),t.table.search.value&&(e.fixtures.grid.searchFilter=t.table.search.value)),typeof t.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.applyMap<"u"&&(e.fixtures.grid.applyMap=t.table.applyMap),typeof t.table.showFilter<"u"&&(e.fixtures.grid.showFilter=t.table.showFilter),typeof t.table.filterByExtent<"u"&&(e.fixtures.grid.filterByExtent=t.table.filterByExtent),typeof t.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.columns&&(e.fixtures.grid.columns=[],t.table.columns.forEach(i=>{const r={field:i.data};i.title&&(r.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(r.visible=i.visible),i.width&&(r.width=i.width),i.sort&&(r.sort=i.sort),typeof i.searchable<"u"&&(r.searchable=i.searchable),i.filter&&(r.filter=i.filter),e.fixtures.grid.columns.push(r)})))),e}function yd(t,e){const n=[];return t.forEach(i=>{e.includes("identify")&&i==="query"?n.push("identify"):e.includes("datatable")&&i==="data"?n.push("datatable"):e.includes(i)?n.push(i):console.warn(`Ignored invalid control: ${i}`)}),n}function e5t(t,e){t&&(t.search&&(e.fixtures.geosearch={},e.fixtures.geosearch.serviceUrls={geoNames:t.search.serviceUrls.geoNames,geoLocation:t.search.serviceUrls.geoLocation,geoProvince:t.search.serviceUrls.provinces,geoTypes:t.search.serviceUrls.types},t.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),t.search.settings&&(e.fixtures.geosearch.settings=t.search.settings),t.search.disabledSearches&&(e.fixtures.geosearch.settings.disabledSearchTypes=t.search.disabledSearches.filter(n=>n!=="SCALE"))),t.export&&(e.fixtures.export||(e.fixtures.export={},e.fixturesEnabled.push("export")),t.export.title&&(e.fixtures.export.title={selected:t.export.title.isSelected??!0,selectable:t.export.title.isSelectable??!0,value:t.export.title.value??"RAMP-Map / PCAR-Carte"}),t.export.map&&(e.fixtures.export.map={selected:t.export.map.isSelected??!0,selectable:t.export.map.isSelectable??!0},t.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),t.export.mapElements&&(e.fixtures.export.mapElements={selected:t.export.mapElements.isSelected??!0,selectable:t.export.mapElements.isSelectable??!0},t.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),t.export.legend&&(e.fixtures.export.legend={selected:t.export.legend.isSelected??!0,selectable:t.export.legend.isSelectable??!0},t.export.legend.columnWidth&&(e.fixtures.export.legend.columnWidth=t.export.legend.columnWidth),t.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),t.export.footnote&&(e.fixtures.export.footnote={selected:t.export.footnote.isSelected??!0,selectable:t.export.footnote.isSelectable??!0,value:t.export.footnote.value??""}),t.export.timestamp&&(e.fixtures.export.timestamp={selected:t.export.timestamp.isSelected??!0,selectable:t.export.timestamp.isSelectable??!0},t.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),t.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof t.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),t.proxyUrl&&(e.system.proxyUrl=t.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(n=>{typeof t[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)}))}function n5t(t,e){if(t.navBar){e.fixtures.mapnav={zoomOption:t.navBar.zoom||"buttons",items:[]};const i=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];t.navBar.extra.forEach(r=>{const s=r.toLowerCase();i.includes(s)?e.fixtures.mapnav.items.push(s):console.warn(`Ignored invalid mapnav item: ${r}`)}),e.fixturesEnabled.push("mapnav")}if(t.help&&(e.fixtures.help={location:t.help.folderName&&t.help.folderName!=="default"?`./${t.help.folderName}`:"./help",panelWidth:350},e.fixturesEnabled.push("help")),t.legend){const i=["groupToggle","visibilityToggle"];t.legend.reorderable&&i.push("layerReorder"),t.legend.allowImport&&i.push("wizard"),e.fixtures.legend?e.fixtures.legend.headerControls=i:(e.fixturesEnabled.push("legend"),e.fixtures.legend={headerControls:i,root:{}}),t.legend.isOpen&&t.legend.isOpen.large&&e.panels.open.push({id:"legend"})}e.fixtures.appbar={items:[]},e.fixturesEnabled.push("appbar");const n=["layers","basemap","export","help","geoSearch"];t.appBar?(t.appBar.layers!==!1&&(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")),t.appBar.geoSearch!==!1&&e.fixturesEnabled.includes("geosearch")&&e.fixtures.appbar.items.push("geosearch"),t.appBar.basemap!==!1&&e.fixtures.appbar.items.push("basemap")):(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend"),e.fixtures.appbar.items.push("geosearch"),e.fixtures.appbar.items.push("basemap")),t.sideMenu&&t.sideMenu.items&&t.sideMenu.items.length>0&&t.sideMenu.items.forEach(i=>{i.forEach(r=>{r==="layers"&&!e.fixtures.appbar.items.includes("legend")?(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")):r!=="layers"&&n.includes(r)&&!e.fixtures.appbar.items.includes(r.toLowerCase())&&(e.fixtures.appbar.items.push(r.toLowerCase()),(r.toLowerCase()==="help"||r.toLowerCase()==="export"&&!e.fixturesEnabled.includes(r.toLowerCase()))&&e.fixturesEnabled.push(r.toLowerCase()))})}),t.tableIsOpen&&t.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(i=>{typeof t[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function i5t(t,e){t.areasOfInterest.enable&&(e.fixturesEnabled.includes("areas-of-interest")||e.fixturesEnabled.push("areas-of-interest"),t.areasOfInterest.areas&&(e.fixtures["areas-of-interest"]={areas:t.areasOfInterest.areas.map(n=>({title:`${n["title-en-CA"]} / ${n["title-fr-CA"]}`,thumbnail:n.thumbnailUrl,altText:n.altText??"",description:n.description??"",extent:{xmin:n.xmin,xmax:n.xmax,ymin:n.ymin,ymax:n.ymax,spatialReference:{wkid:n.wkid}}}))}))}function r5t(t,e){const n=t.outfields&&t.outfields!=="*";if(!n&&!t.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};t.fieldMetadata?(i.fieldInfo=t.fieldMetadata.map(r=>{const s={name:r.data};return r.alias&&(s.alias=r.alias),s}),n&&(t.outfields.split(",").map(r=>r.trim()).forEach(r=>{i.fieldInfo.findIndex(s=>s.name===r)===-1&&i.fieldInfo.push({name:r})}),i.exclusiveFields=!0)):n&&(i.fieldInfo=t.outfields.split(",").map(r=>({name:r.trim()})),i.exclusiveFields=!0),e.fieldMetadata=i}var gd={major:"4",minor:"16",patch:"0-beta",timestamp:"Mon Feb 16 10:45:10 2026 -0500",hash:"49ab97e99cb649c2e8e9725a1ceb5e464fc72fea"};console.info(`RAMP v${gd.major}.${gd.minor}.${gd.patch} [${gd.hash.slice(0,9)}] (Built on ${new Date(gd.timestamp.toString()).toLocaleString()})`);const vd=gd;function s5t(t){return QTt(t)}function o5t(t){return lB(t)}const a5t=(t,e,n)=>new NAt(t,e,n),uc=new ddt;export{Ku as $,F_ as A,cJ as B,I_ as C,vit as D,bst as E,Kb as F,ht as G,pn as H,Yr as I,KI as J,$P as K,aI as L,lt as M,Bn as N,de as O,ui as P,Mst as Q,FZ as R,Vx as S,Xa as T,BY as U,nI as V,Ist as W,E as X,tt as Y,Vt as Z,v as _,yc as a,hx as a$,Hr as a0,Zw as a1,C8 as a2,nh as a3,QB as a4,Ce as a5,hn as a6,nY as a7,Id as a8,Qu as a9,h4 as aA,ef as aB,Qy as aC,ph as aD,Qa as aE,YM as aF,Ui as aG,Wn as aH,J9 as aI,Ju as aJ,$Y as aK,qw as aL,Hw as aM,v8 as aN,Yd as aO,Jd as aP,Cs as aQ,ZL as aR,Hyt as aS,Os as aT,xh as aU,N4 as aV,k4 as aW,C4 as aX,O4 as aY,hit as aZ,eI as a_,gc as aa,oe as ab,Est as ac,MZ as ad,S6 as ae,Qo as af,xe as ag,cq as ah,un as ai,OM as aj,kc as ak,Q as al,kM as am,Qr as an,lJ as ao,Zr as ap,We as aq,J as ar,Zn as as,gn as at,Ha as au,Fn as av,Cy as aw,B_ as ax,GI as ay,a1 as az,Hg as b,rY as b$,frt as b0,Z8 as b1,Tk as b2,m3 as b3,pnt as b4,dnt as b5,tnt as b6,Wg as b7,Hk as b8,ki as b9,he as bA,lh as bB,g6 as bC,qQ as bD,BQ as bE,or as bF,Cet as bG,Vi as bH,Rg as bI,NM as bJ,Ent as bK,kk as bL,yk as bM,Tw as bN,Z_ as bO,qi as bP,yg as bQ,C9 as bR,N9 as bS,x3 as bT,Qet as bU,Xet as bV,Let as bW,jh as bX,Rh as bY,zc as bZ,Ant as b_,__ as ba,Ok as bb,$d as bc,Met as bd,Ot as be,$c as bf,vW as bg,Mw as bh,Ow as bi,lq as bj,Vq as bk,W_ as bl,XZ as bm,Fd as bn,Bd as bo,iw as bp,Jr as bq,R6 as br,zy as bs,Hy as bt,D6 as bu,zd as bv,CZ as bw,WZ as bx,ow as by,Nd as bz,oI as c,fnt as c$,iY as c0,Kt as c1,qo as c2,Tc as c3,WY as c4,OB as c5,NB as c6,nK as c7,CB as c8,Yo as c9,qr as cA,RL as cB,tp as cC,au as cD,Qx as cE,Xb as cF,EL as cG,SL as cH,N1 as cI,C1 as cJ,ze as cK,Zot as cL,aot as cM,yE as cN,M1 as cO,Bet as cP,rq as cQ,il as cR,Jc as cS,VP as cT,zP as cU,BP as cV,Ed as cW,Q9 as cX,l1 as cY,Tst as cZ,Sst as c_,Sit as ca,Vs as cb,Uc as cc,nn as cd,EM as ce,FB as cf,hh as cg,ae as ch,SB as ci,nW as cj,a_ as ck,re as cl,Sc as cm,Je as cn,Gw as co,qd as cp,l8 as cq,aq as cr,RY as cs,eK as ct,eq as cu,oh as cv,tY as cw,ah as cx,fh as cy,Xo as cz,Gi as d,oK as d$,Zd as d0,rP as d1,sP as d2,oP as d3,AB as d4,$n as d5,fn as d6,Un as d7,li as d8,sr as d9,I4 as dA,uQ as dB,yN as dC,Qw as dD,zw as dE,Nk as dF,xnt as dG,Vw as dH,mnt as dI,Ak as dJ,zH as dK,VH as dL,M6 as dM,Ya as dN,By as dO,nit as dP,ent as dQ,e8 as dR,CY as dS,t8 as dT,Kr as dU,UP as dV,_B as dW,d_ as dX,i_ as dY,RB as dZ,b_ as d_,qy as da,Bh as db,u1 as dc,pQ as dd,Yit as de,yrt as df,Gy as dg,YQ as dh,drt as di,aX as dj,P_ as dk,iy as dl,UB as dm,o_ as dn,g8 as dp,Bx as dq,jnt as dr,Fnt as ds,Unt as dt,$nt as du,Gnt as dv,Mk as dw,Ik as dx,ZQ as dy,M_ as dz,P4 as e,v4 as e$,MB as e0,Sd as e1,Ad as e2,c_ as e3,h_ as e4,p_ as e5,JB as e6,Lo as e7,mt as e8,st as e9,yJ as eA,ZW as eB,e1 as eC,j9 as eD,TN as eE,nu as eF,qP as eG,Aat as eH,sat as eI,TL as eJ,BW as eK,Ho as eL,nq as eM,VW as eN,rat as eO,K6 as eP,Ort as eQ,Srt as eR,uK as eS,lK as eT,_h as eU,oi as eV,cK as eW,hK as eX,tg as eY,tQ as eZ,b4 as e_,nt as ea,p4 as eb,cO as ec,zi as ed,xQ as ee,Lc as ef,KJ as eg,hg as eh,KX as ei,af as ej,cg as ek,ug as el,QX as em,lQ as en,fO as eo,WO as ep,dO as eq,BO as er,aH as es,cH as et,M8 as eu,O8 as ev,I8 as ew,N8 as ex,oJ as ey,aJ as ez,Ft as f,ml as f$,YO as f0,ho as f1,og as f2,TX as f3,bi as f4,pg as f5,Pc as f6,gq as f7,xst as f8,Vnt as f9,ic as fA,Ez as fB,Bt as fC,ve as fD,ke as fE,xn as fF,wt as fG,wn as fH,Ea as fI,Me as fJ,be as fK,Xe as fL,ge as fM,Pm as fN,c0 as fO,Fm as fP,Vn as fQ,ni as fR,In as fS,hs as fT,Ie as fU,Xs as fV,zt as fW,Pv as fX,Td as fY,BM as fZ,est as f_,D9 as fa,F9 as fb,ky as fc,rH as fd,_st as fe,YB as ff,nrt as fg,wrt as fh,AZ as fi,YZ as fj,tJ as fk,eJ as fl,Rrt as fm,iq as fn,KM as fo,Sz as fp,Et as fq,Ye as fr,Vk as fs,zk as ft,Wk as fu,mn as fv,MN as fw,pJ as fx,Yt as fy,He as fz,FM as g,o4 as g$,Lh as g0,GB as g1,s_ as g2,Wrt as g3,nr as g4,iP as g5,wc as g6,I6 as g7,Ko as g8,SQ as g9,JJ as gA,wQ as gB,hQ as gC,rN as gD,kQ as gE,fN as gF,ng as gG,rW as gH,ux as gI,Jit as gJ,Dg as gK,Rst as gL,Cit as gM,rg as gN,Tit as gO,k8 as gP,E8 as gQ,Yw as gR,zit as gS,Vit as gT,uP as gU,T4 as gV,mst as gW,jP as gX,mh as gY,c4 as gZ,oX as g_,Qd as ga,Mc as gb,Kd as gc,vQ as gd,tl as ge,$H as gf,eY as gg,Aw as gh,uJ as gi,qZ as gj,Z3 as gk,lI as gl,_N as gm,VO as gn,DB as go,CO as gp,NJ as gq,FY as gr,m8 as gs,y8 as gt,LB as gu,cP as gv,f8 as gw,kd as gx,hrt as gy,Qit as gz,U6 as h,Wit as h$,a4 as h0,_1 as h1,qJ as h2,fy as h3,Fy as h4,T_ as h5,W9 as h6,b1 as h7,O1 as h8,Yot as h9,JW as hA,C_ as hB,Fz as hC,O as hD,O_ as hE,k_ as hF,tW as hG,RP as hH,DW as hI,sY as hJ,cZ as hK,_L as hL,nP as hM,X9 as hN,$O as hO,DO as hP,b8 as hQ,me as hR,YJ as hS,lX as hT,Q8 as hU,y4 as hV,of as hW,PO as hX,gh as hY,WJ as hZ,xB as h_,qot as ha,Wot as hb,Jot as hc,ha as hd,YW as he,xz as hf,Be as hg,l0 as hh,Dz as hi,M2 as hj,yw as hk,Sw as hl,xc as hm,hW as hn,rh as ho,Gd as hp,_8 as hq,jY as hr,IB as hs,m_ as ht,qH as hu,h6 as hv,d6 as hw,m6 as hx,_c as hy,mI as hz,Oe as i,Net as i$,Bit as i0,ig as i1,OQ as i2,gN as i3,Rz as i4,Zm as i5,AN as i6,kO as i7,LO as i8,RO as i9,xt as iA,jz as iB,Ki as iC,lo as iD,Wr as iE,Wa as iF,ma as iG,Lp as iH,_n as iI,dd as iJ,em as iK,Uz as iL,vv as iM,ps as iN,Bm as iO,bv as iP,q3 as iQ,Hx as iR,Zx as iS,Jat as iT,EE as iU,ry as iV,lW as iW,sy as iX,cW as iY,W3 as iZ,Ec as i_,Uy as ia,P6 as ib,sH as ic,Y8 as id,oW as ie,aW as ig,sW as ih,A6 as ii,tT as ij,fd as ik,q5 as il,Pz as im,MJ as io,o2 as ip,Dp as iq,e_ as ir,mB as is,uM as it,fB as iu,hM as iv,Y5 as iw,Ua as ix,Z5 as iy,qb as iz,sI as j,sit as j$,gg as j0,eH as j1,bW as j2,c1 as j3,Xit as j4,Zit as j5,iit as j6,X8 as j7,V6 as j8,Ve as j9,Hst as jA,tst as jB,Qrt as jC,Wx as jD,ci as jE,jM as jF,SW as jG,uw as jH,z8 as jI,H8 as jJ,n4 as jK,PJ as jL,Yx as jM,zY as jN,_y as jO,Pq as jP,kq as jQ,bI as jR,vI as jS,nX as jT,QJ as jU,Cq as jV,yst as jW,dst as jX,sf as jY,A4 as jZ,NX as j_,tm as ja,tw as jb,Bs as jc,FO as jd,tq as je,i4 as jf,W8 as jg,vq as jh,bq as ji,bB as jj,KT as jk,fG as jl,Rr as jm,lV as jn,cV as jo,Hm as jp,ne as jq,_J as jr,wJ as js,VZ as jt,O6 as ju,NN as jv,Xrt as jw,hnt as jx,GP as jy,Lst as jz,Le as k,pi as k$,oit as k0,ait as k1,rQ as k2,nQ as k3,XX as k4,TO as k5,eQ as k6,HO as k7,iH as k8,MQ as k9,s4 as kA,Fst as kB,jst as kC,Dst as kD,Ph as kE,Vz as kF,Gz as kG,le as kH,xd as kI,Qb as kJ,Tz as kK,Ms as kL,Ub as kM,yi as kN,Pt as kO,bz as kP,aK as kQ,ay as kR,Kw as kS,yW as kT,U9 as kU,Kk as kV,Af as kW,Tf as kX,c9 as kY,q9 as kZ,Yrt as k_,rit as ka,nl as kb,yl as kc,OZ as kd,cw as ke,Vd as kf,ZZ as kg,Jz as kh,Qz as ki,Xz as kj,$z as kk,E4 as kl,bN as km,CQ as kn,Od as ko,cY as kp,ew as kq,qst as kr,HB as ks,rX as kt,d4 as ku,lO as kv,m4 as kw,sO as kx,uO as ky,wN as kz,Xu as l,Fo as l$,bM as l0,xi as l1,vo as l2,ca as l3,Tn as l4,EP as l5,mW as l6,aP as l7,$B as l8,H9 as l9,Hit as lA,qit as lB,dP as lC,oH as lD,hy as lE,oZ as lF,mc as lG,Oa as lH,en as lI,hJ as lJ,DY as lK,TM as lL,L6 as lM,fw as lN,cI as lO,Hq as lP,tH as lQ,DI as lR,yB as lS,jO as lT,nO as lU,iO as lV,K8 as lW,rO as lX,gO as lY,Du as lZ,rV as l_,Iw as la,gI as lb,Zo as lc,u_ as ld,EZ as le,bw as lf,Bw as lg,lw as lh,xw as li,ket as lj,jH as lk,jB as ll,g4 as lm,EB as ln,Qnt as lo,kZ as lp,E9 as lq,Ct as lr,cn as ls,Ks as lt,H5 as lu,zb as lv,tA as lw,Lz as lx,jv as ly,$e as lz,AE as m,x9 as m$,Cn as m0,gu as m1,aV as m2,Ut as m3,Ur as m4,$v as m5,Fv as m6,mi as m7,wS as m8,yO as m9,qn as mA,Hn as mB,grt as mC,yI as mD,WW as mE,_q as mF,vN as mG,XB as mH,qB as mI,sJ as mJ,rJ as mK,A_ as mL,FS as mM,XS as mN,$l as mO,Fp as mP,Ji as mQ,Ep as mR,DS as mS,r2 as mT,dc as mU,W0 as mV,ao as mW,ri as mX,vn as mY,uW as mZ,D3 as m_,aO as ma,nf as mb,NQ as mc,AL as md,Iq as me,Dd as mf,co as mg,my as mh,Ont as mi,xet as mj,Krt as mk,os as ml,ex as mm,qrt as mn,Hrt as mo,Zrt as mp,vet as mq,Zg as mr,sq as ms,eW as mt,MW as mu,pO as mv,vO as mw,Mat as mx,J8 as my,sst as mz,w1 as n,f4 as n$,G_ as n0,c8 as n1,u8 as n2,jw as n3,Fw as n4,iJ as n5,nJ as n6,T8 as n7,Ait as n8,pst as n9,g_ as nA,Pet as nB,pN as nC,AQ as nD,EN as nE,DQ as nF,Ir as nG,tX as nH,kr as nI,xJ as nJ,WM as nK,Aq as nL,zZ as nM,GO as nN,bO as nO,sX as nP,oO as nQ,cx as nR,AW as nS,iX as nT,Pk as nU,y9 as nV,$h as nW,Uh as nX,Lk as nY,_W as nZ,ost as n_,fst as na,hst as nb,cst as nc,BB as nd,M9 as ne,T9 as nf,n1 as ng,_E as nh,jL as ni,zL as nj,Rat as nk,GL as nl,_ot as nm,cE as nn,kat as no,FL as np,OL as nq,iK as nr,P9 as ns,Ket as nt,Fet as nu,Uet as nv,Get as nw,Vet as nx,$et as ny,qet as nz,ch as o,hO as o$,mO as o0,dJ as o1,bo as o2,wi as o3,vst as o4,$W as o5,SM as o6,zB as o7,VB as o8,qO as o9,irt as oA,wW as oB,Grt as oC,jrt as oD,iW as oE,Kit as oF,XJ as oG,prt as oH,TW as oI,cit as oJ,ss as oK,Wst as oL,IO as oM,CX as oN,LX as oO,sQ as oP,PX as oQ,RX as oR,aQ as oS,ZO as oT,srt as oU,Kc as oV,pP as oW,vB as oX,Lit as oY,trt as oZ,TB as o_,wB as oa,CM as ob,ZB as oc,crt as od,urt as oe,UO as of,lx as og,CN as oh,Mit as oi,oq as oj,Lq as ok,ust as ol,iI as om,G9 as on,EQ as oo,U8 as op,j8 as oq,nw as or,GH as os,TQ as ot,Wh as ou,qh as ov,Hh as ow,mrt as ox,ert as oy,ort as oz,Wd as p,hP as p0,Nit as p1,art as p2,Oit as p3,Iit as p4,eX as p5,UW as p6,lrt as p7,lP as p8,vd as p9,s5t as pa,o5t as pb,a5t as pc,uc as pd,jZ as q,v_ as r,ie as s,oy as t,dat as u,Jh as v,gst as w,go as x,tf as y,Rt as z};
