const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./request-Ba7Okxcg.js","./preload-helper-ExcqyqRp.js","./IdentityManager--SFZtN0Z.js","./themeUtils-DFPvIuq9.js","./uuid-Cl5lrJ4c.js","./substitute-C0hkT_1z.js","./pe-wasm-Bm91CMb3.js","./_commonjsHelpers-DCkdB7M8.js","./WhereClause-nf6bISOt.js","./TimeOnly-UPu6MbGY.js","./UnknownTimeZone-3zgfWq7J.js","./arcadeUtils-B9Zo114Q.js","./languageUtils-yuBlGFLc.js","./ImmutableArray-BPVd6ESQ.js","./shared-CYUZHEYe.js","./Field-7yKaqquJ.js","./fieldType-RAe-KhZA.js","./number-DwGyQ0sy.js","./Query-gAxGVVkN.js","./featureConversionUtils-gwo6XIWk.js","./OptimizedFeature-CIptWNVu.js","./OptimizedFeatureSet-Blu9Ckm7.js","./FieldsIndex-DosTqN4i.js","./PortalItem-Ch5wKdnK.js","./Basemap-CQf1Qo_D.js","./loadAll-BdmQpFfa.js","./writeUtils-C8gXbBL-.js","./ElevationLayer-BTzwEirQ.js","./MultiOriginJSONSupport--LuP6_0p.js","./HeightModelInfo-Bs21Ef5D.js","./Layer-VQ4_KGgj.js","./ArcGISCachedService-UrH7SCVw.js","./TileInfo-DJ4jjAIs.js","./TileKey-DZd6gJy7.js","./TileInfoTilemapCache-lEErPT5L.js","./TilemapCache-DAGRW77Q.js","./ByteSizeUnit-BsxeN7wM.js","./LRUCache-uHJJcn0o.js","./ArcGISService-D6klgNc1.js","./arcgisLayerUrl-Dpu7DwcZ.js","./OperationalLayer-CBtw9AoM.js","./commonProperties-BWvpypTA.js","./ElevationInfo-M4dU7fC5.js","./lengthUtils-D1bX0TD8.js","./PortalLayer-COSV0Acm.js","./portalItemUtils-BMjf2BVv.js","./projection-BIYcHcNR.js","./projectBuffer-B22kEXxF.js","./workers-7zdfU5xG.js","./webStyleSymbolUtils-Cv0yMv63.js","./devEnvironmentUtils-8WtPGj6h.js","./styleUtils-BDJDtTPo.js","./Map-B4HXk9gg.js","./compilerUtils-MfGGJ6jp.js","./CollectionFlattener-CE6YYo8f.js","./mat4f32-DcsiF_Rp.js","./mat4-DSQ66VqF.js","./common-DQOJ18NT.js","./TablesMixin-CisELdLf.js","./MapView-C80OvaVE.js","./Cyclical-BRtivmO1.js","./UpdatingHandles-DKBfkAng.js","./signal-C5ejA8hs.js","./GraphicsCollection-dYEmqNuB.js","./ReactiveMap-DinfbfJz.js","./ViewingMode-HRfKv6NR.js","./vec2f64-B7N_6o8F.js","./vec2-DGVIkCvT.js","./Tile-DOtUVU7h.js","./TileKey-Dkvv_foX.js","./QueueProcessor-CPy5oGqB.js","./quickselect-QQC62dOK.js","./mat3-XZDRtl20.js","./vec2f32-BbH2jxlN.js","./unitBezier-BX6NeAEr.js","./Scheduler-C8rSErFt.js","./vec32-BFI0q0ON.js","./definitions-C0Jy3zs7.js","./enums-Dk3osxpS.js","./Texture-DNIxGOOy.js","./imageUtils-CHVqqeVq.js","./capabilities-A2uoe7dc.js","./Version-CNYnG8Q4.js","./ColorBackground-CZD_imWe.js","./FeatureLayer-CSBS7HG-.js","./UniqueValueRenderer-q-xEqSsg.js","./RendererLegendOptions-ClFRbpMJ.js","./diffUtils-MlvZK1EN.js","./colorRamps-BcGQYd3C.js","./sizeVariableUtils-Cmcuvw-4.js","./visualVariableUtils-BMp8yUlC.js","./jsonUtils-DxQxwarO.js","./OverrideHelper-B8uiocSy.js","./colorUtils-Lyjc4zh-.js","./vec42-CKs01hkn.js","./vec4f64-CMoMXWBi.js","./utils-QWndGYJy.js","./enums-CmIX1y88.js","./quantizationUtils-4P_ZGotl.js","./heatmapUtils-DUymcvS2.js","./FeatureLayerBase-p9ILXOK9.js","./featureLayerUtils-BNFY5TJB.js","./RelationshipQuery-DqTTQxFc.js","./LayerFloorInfo-B91mXTg1.js","./Relationship-DDm6GyP_.js","./serviceCapabilitiesUtils-DOl5xdNq.js","./editsZScale-MTZIgzGh.js","./queryZScale-B0hWeZIg.js","./FeatureSet-DfeeRncM.js","./APIKeyMixin-e_Cmqj_M.js","./BlendLayer-CRA6VAX4.js","./jsonUtils-aqm3pfo-.js","./parser-D_L7gZcx.js","./CustomParametersMixin-aqwVckPS.js","./EditBusLayer-BIS5fdB9.js","./FeatureEffectLayer-r5_lnCrP.js","./FeatureEffect-Dd4zOEJp.js","./FeatureFilter-dAu7YW85.js","./FeatureReductionLayer-BPwZjdKL.js","./FeatureReductionSelection-CwFR_uSW.js","./labelingInfo-sXCz7XmM.js","./labelUtils-CnZtiCO7.js","./MD5-C9MwAd2G.js","./OrderedLayer-B-2nc68t.js","./OrderByInfo-B5ab0BgK.js","./RefreshableLayer-DhBAjrgh.js","./ScaleRangeLayer-B2dXyvbe.js","./TemporalLayer-DnPxXc7H.js","./TimeInfo-C3qfLVA5.js","./FeatureTemplate-MAZrovrM.js","./FeatureType-D1FVPeL_.js","./fieldProperties-DOrrvvOT.js","./versionUtils-oRnSy5Tr.js","./styleUtils-DPY2mD2U.js","./popupUtils-DHmw5Q00.js","./AlphaCutoff-UcccL64p.js","./interfaces-CL2NbQte.js","./GraphicsLayer-CAJ20FIa.js","./ImageryLayer-CBJpXvZl.js","./RasterPresetRendererMixin-DITNf_P0.js","./multidimensionalUtils-CMmchdmH.js","./dataUtils-B2lI_u-O.js","./RasterSymbolizer-BPW45ho7.js","./ClassBreaksDefinition-Dx-OmJxw.js","./utils-oGIaLCaR.js","./cimSymbolUtils-CMv7FosO.js","./imageBitmapUtils-ByIvnqAW.js","./executeForIds-D7w8wFoT.js","./query-ScoHz3Q8.js","./pbfQueryUtils-D_M4Y8xK.js","./pbf-QXd8vFhO.js","./executeQueryJSON-BqU0Lc8y.js","./MapImageLayer-CyTxOE_s.js","./SublayersOwner-BMzOTZVb.js","./QueryTask-n2JvsemA.js","./infoFor3D-_5f2f6Um.js","./executeQueryPBF-BRGsg5_w.js","./ExportImageParameters-CP5gzcMU.js","./OpenStreetMapLayer-BrxK12rK.js","./WebTileLayer-D0EHC6jE.js","./TileLayer-BuYPdu0h.js","./WMSLayer-B7Z8CKI0.js","./crsUtils-DAndLU68.js","./ExportWMSImageParameters-BWm6F5Qf.js","./query-DnOeTljR.js","./AttachmentInfo-Ba9t2xBx.js","./executeBinsQuery-BFeTYU8t.js","./BinsQuery-PECoucZ9.js","./queryUtils-x_fRYjy-.js","./json-Wa8cmqdu.js","./executeRelationshipQuery-BCKeEyrw.js","./executeTopFeaturesQuery-D_TNtPOm.js","./queryTopFeatures-UH60XDCZ.js","./TopFeaturesQuery-DwOUYId1.js","./executeForTopIds-qoAdCrnw.js","./executeForTopExtents-Bel1NiDH.js","./executeForTopCount-BlLfz1FH.js","./shp.min-CT37xpcS.js","./_commonjs-dynamic-modules-TDtrdbi3.js","./jszip.min-CQJbJIFd.js","./index-CddhWN6T.js","./index-carWiDED.css","./index-woIlY1TS.js","./screen.vue_vue_type_script_setup_true_lang-DCubNzyF.js","./screen-Cea9pofX.css","./index-C1iLrr0b.js","./index-DrmrPCc6.js","./index-Ctc7h-US.css","./index-DWIGztEi.js","./hilight-defs-CqXQYtIh.js","./index-NuiNDmqg.js","./fabric-DICoK5U1.js","./index-DUC-1fW4.js","./index-Mjt2lRqZ.js","./index-6ha60ep8.js","./index-BRGj-NUP.js","./index-e_81J69I.js","./index-C5So1MuB.js","./index-D9ZjzgMh.js","./screen.vue_vue_type_script_setup_true_lang-mkPjkdTa.js","./index-DHbI5ZAc.js","./index-Dyssll8Z.js","./index-BKww22hE.js","./index-DF24xd4a.js","./table-state-manager-D0AQ-RaE.js","./index-WipE1Yef.js","./index-r7s9xK4A.js","./index-De-BfxNw.js","./index-DGOjTqKZ.js","./index-DYviopkt.js","./index-CTZ1kO0r.css","./index-CoUnvkRk.js","./index-BnMWjhGX.js","./index-DSLf4acn.js","./index-BhFUqMvS.css","./index-DsJGvMaD.js","./index-nDri3W3u.css","./index-BtryZwOz.js","./index-Dti23dwS.css","./index-B0GR8qUg.js","./index-Dyl0Wda3.js","./index-bPITA2_u.js","./screen-CR9Jl0si.js","./screen-C5F72hwm.js","./screen-B_KOI8ka.css","./screen-RNA7AQcx.js","./screen-CbU9iEXy.js","./screen-CwbtZ41W.css","./screen-B1WUlGCA.js","./screen-DnB13F99.css","./screen-nWBSDUbI.js","./marked.esm-DmSrlTiT.js","./screen-DcX-wckC.css","./screen-BzefXOth.js","./vue.esm-bundler-Co5YZq45.js","./screen-DH2W8SRu.css","./screen-BpYP0xAP.js","./screen-CrViXom_.js","./screen-CkXxljnt.css","./screen-B2m7S5PO.js","./toggle-switch-control-D1ZaUBjf.js","./toggle-switch-control-CXkTZWA3.css","./screen-DdmnHAye.css","./screen-D5rHmFku.js","./screen-Cn3TEVnr.css"])))=>i.map(i=>d[i]);
import{_ as Ee}from"./preload-helper-ExcqyqRp.js";var Wo=(e=>(e.BLOB="blob",e.DATE="date",e.DOUBLE="double",e.GEOMETRY="geometry",e.GLOBAL_ID="global-id",e.GUID="guid",e.INTEGER="integer",e.LONG="long",e.OID="oid",e.RASTER="raster",e.SINGLE="single",e.SMALL_INTEGER="small-integer",e.STRING="string",e.XML="xml",e))(Wo||{}),Po=(e=>(e.CIRCLE="circle",e.CROSS="cross",e.DIAMOND="diamond",e.ICON="icon",e.PATH="path",e.SQUARE="square",e.TRIANGLE="triangle",e.X="x",e))(Po||{}),qi=(e=>(e.DASH="dash",e.DASHDOT="dash-dot",e.DASHDOTDOT="short-dash-dot-dot",e.DOT="dot",e.LONGDASH="long-dash",e.LONGDASHDOT="long-dash-dot",e.LONGDASHDOTDOT="long-dash-dot-dot",e.NONE="none",e.NULL="none",e.SHORTDASH="short-dash",e.SHORTDASHDOT="short-dash-dot",e.SHORTDASHDOTDOT="short-dash-dot-dot",e.SHORTDOT="short-dot",e.SOLID="solid",e))(qi||{}),n$=(e=>(e.BEVEL="bevel",e.MITER="miter",e.ROUND="round",e))(n$||{}),s$=(e=>(e.ROUND="round",e.BUTT="butt",e.SQUARE="square",e))(s$||{}),o$=(e=>(e.BDIAG="backward-diagonal",e.CROSS="cross",e.DIAG_CROSS="diagonal-cross",e.FDIAG="forward-diagonal",e.HORIZONTAL="horizontal",e.NONE="none",e.NULL="none",e.SOLID="solid",e.VERTICAL="vertical",e))(o$||{}),Ze=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e.LINEARRING="LinearRing",e.EXTENT="Extent",e.NONE="None",e.UNKNOWN="Unknown",e))(Ze||{}),O1=(e=>(e.Simple="simple",e.Unique="uniqueValue",e.ClassBreaks="classBreaks",e.Unknown="unknown",e))(O1||{}),ke=(e=>(e.FEATURE="esri-feature",e.MAPIMAGE="esri-map-image",e.TILE="esri-tile",e.IMAGERY="esri-imagery",e.GRAPHIC="esri-graphic",e.WMS="ogc-wms",e.WFS="ogc-wfs",e.GEOJSON="file-geojson",e.GEOJSONZIPPED="file-zip-geojson",e.CSV="file-csv",e.SHAPEFILE="file-shape",e.FLATGEOBUF="file-fgb",e.FLATGEOBUFZIPPED="file-zip-fgb",e.OSM="osm-tile",e.DATACSV="data-csv",e.DATAJSON="data-json",e.DATATABLE="data-esri-table",e.UNKNOWN="unknown",e.SUBLAYER="sublayer",e))(ke||{}),En=(e=>(e.FEATURE="feature",e.GRAPHIC="graphic",e.IMAGERY="imagery",e.MAPIMAGE="map-image",e.NOLAYER="no-layer",e.OSM="osm-tile",e.TILE="tile",e.UNKNOWN="unknown",e.WMS="wms",e))(En||{}),Wr=(e=>(e.ESRI_FEATURE="esriFeature",e.ESRI_RASTER="esriRaster",e.ESRI_TILE="esriTile",e.OSM_TILE="osmTile",e.OGC_RASTER="ogcRaster",e.UNKNOWN="unknown",e))(Wr||{}),pr=(e=>(e.POINT="Point",e.MULTIPOINT="MultiPoint",e.LINESTRING="LineString",e.MULTILINESTRING="MultiLineString",e.POLYGON="Polygon",e.MULTIPOLYGON="MultiPolygon",e))(pr||{}),Gr=(e=>(e.GEOMETRIC="geometric",e.SYMBOLIC="symbolic",e.HYBRID="hybrid",e.NONE="none",e))(Gr||{}),rr=(e=>(e.NEW="new",e.INITIATING="initiating",e.INITIATED="initiated",e.TERMINATING="terminating",e.TERMINATED="terminated",e))(rr||{}),yr=(e=>(e.NEW="new",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error",e))(yr||{}),Ki=(e=>(e.NOT_LOADED="not-loaded",e.NOT_VISUAL="not-visual",e.REFRESH="refresh",e.UP_TO_DATE="up-to-date",e))(Ki||{}),Oc=(e=>(e.ESRI="esri",e.TEXT="text",e.IMAGE="image",e.HTML="html",e.XML="xml",e.JSON="json",e.UNKNOWN="unknown",e))(Oc||{}),Li=(e=>(e.SYMBOL="symbol",e.GRID="grid",e.EXTENT="extent",e.INITIAL="initial",e.API="api",e.PERMANENT="permanent",e))(Li||{}),br=(e=>(e.BoundaryZoom="boundaryZoom",e.Datatable="datatable",e.Identify="identify",e.Metadata="metadata",e.Opacity="opacity",e.Refresh="refresh",e.Reload="reload",e.Remove="remove",e.Settings="settings",e.Symbology="symbology",e.Visibility="visibility",e))(br||{});class Ss{attributes;geometry;style;id;constructor(t,r,i){this.geometry=t,r?this.id=r:this.id=Lh.sharedUtils.generateUUID(),i?this.attributes=i:this.attributes={}}_hover;get hover(){return this._hover}set hover(t){t&&this._hover&&this._hover.id!==t.id&&this.removeHover(),this._hover=t}removeHover(){this._hover&&(this._hover=void 0)}}const Ky={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function tD(e){return!!Ky[e]||!!Ky[e.toLowerCase()]}function a$(e){return Ky[e]??Ky[e.toLowerCase()]}function Ipe(e){return[...a$(e)]}function nb(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function rD(e,t,r,i=1){const n=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*nb(o,s,n+1/3)),Math.round(255*nb(o,s,n)),Math.round(255*nb(o,s,n-1/3)),i]}function Ope(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,n=t?1:17,s=t?e.length===9:e.length===5;let o=+("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=r,a[3]=n*l/255),l=o&i,o>>=r,a[2]=n*l,l=o&i,o>>=r,a[1]=n*l,l=o&i,o>>=r,a[0]=n*l,a}const PT=new Float32Array(1);function $pe(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function $1(e,t,r){return Math.min(Math.max(e,t),r)}function Cpe(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function iD(e,t,r){return e+(t-e)*r}function Npe(e,t,r,i,n){return iD(i,n,(e-t)/(r-t))}function Ppe(e){return e*Math.PI/180}function Lpe(e){return 180*e/Math.PI}function kpe(e){return Math.acos($1(e,-1,1))}function Rpe(e){return Math.asin($1(e,-1,1))}function kd(e,t,r=1e-6){return e===t?!0:!Number.isFinite(e)||!Number.isFinite(t)?!1:(e>t?e-t:t-e)<=r}const Zy=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function g_(e){return Zy.setFloat64(0,e),Zy.getBigInt64(0)}function nD(e){return Zy.setBigInt64(0,e),Zy.getFloat64(0)}const H0=BigInt("1000000"),sD=l$(1);function l$(e){const t=g_(e=Math.abs(e)),r=nD(t<=H0?H0:t-H0);return Math.abs(e-r)}function Dpe(e,t,r=sD){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(r!=null&&l$(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const i=g_(e),n=g_(t);return i<0!=n<0?!1:!((i<n?n-i:i-n)>H0)}function Fpe(e){return c$(Math.max(-LT,Math.min(e,LT)))}function c$(e){return PT[0]=e,PT[0]}function Upe(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(kd(t,1)&&kd(r,1)&&kd(i,1))}const LT=c$(34028234663852886e22);function jpe(e,t,r){if(r===void 0||+r==0)return Math[e](t);if(t=+t,r=+r,isNaN(t)||typeof r!="number"||r%1!=0)return NaN;let i=t.toString().split("e");return i=(t=Math[e](+(i[0]+"e"+(i[1]?+i[1]-r:-r)))).toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+r:r))}let il;function he(e){return typeof il[e]=="function"?il[e]=il[e](globalThis):il[e]}il=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},he.add=(e,t,r,i)=>{(i||il[e]===void 0)&&(il[e]=t),r&&he(e)},he.cache=il,he.add("big-integer-warning-enabled",!0),he.add("esri-deprecation-warnings",!0),he.add("esri-tests-disable-screenshots",!1),he.add("esri-tests-use-full-window",!1),he.add("esri-tests-post-to-influx",!0),he.add("esri-cim-animations-enable-status","enabled"),he.add("esri-cim-animations-spotlight",!1),he.add("esri-cim-animations-freeze-time",!1),he.add("enable-feature:multiple-highlights",!1),(()=>{he.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const e=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(he.add("host-browser",e),he.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),he.add("dom",e),he("host-browser")){const t=navigator,r=t.userAgent,i=t.appVersion,n=parseFloat(i);if(he.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),he.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),he.add("khtml",i.includes("Konqueror")?n:void 0),he.add("edge",parseFloat(r.split("Edge/")[1])||void 0),he.add("opr",parseFloat(r.split("OPR/")[1])||void 0),he.add("webkit",!he("wp")&&!he("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),he.add("chrome",!he("edge")&&!he("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),he.add("android",!he("wp")&&parseFloat(r.split("Android ")[1])||void 0),he.add("safari",!i.includes("Safari")||he("wp")||he("chrome")||he("android")||he("edge")||he("opr")?void 0:parseFloat(i.split("Version/")[1])),he.add("mac",i.includes("Macintosh")),!he("wp")&&/(iPhone|iPod|iPad)/.test(r)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));he.add(s,a),he.add("ios",a)}he("webkit")||(!r.includes("Gecko")||he("wp")||he("khtml")||he("edge")||he.add("mozilla",n),he("mozilla")&&he.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),r=/iPhone/i.test(e);t&&he.add("esri-mobile",t),r&&he.add("esri-iPhone",r),he.add("esri-geolocation",!!navigator.geolocation)}he.add("esri-wasm","WebAssembly"in globalThis),he.add("esri-performance-mode-frames-between-render",20),he.add("esri-force-performance-mode",!1),he.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in globalThis,t=globalThis.crossOriginIsolated===!1;return e&&!t}),he.add("wasm-simd",()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))}),he.add("esri-atomics","Atomics"in globalThis),he.add("esri-workers","Worker"in globalThis),he.add("web-feat:cache","caches"in globalThis),he.add("esri-workers-arraybuffer-transfer",!he("safari")||Number(he("safari"))>=12),he.add("workers-pool-size",8),he.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),he.add("featurelayer-simplify-payload-size-factors",[1,1,4]),he.add("featurelayer-fast-triangulation-enabled",!0),he.add("featurelayer-animation-enabled",!0),he.add("featurelayer-snapshot-enabled",!0),he.add("featurelayer-snapshot-point-min-threshold",8e4),he.add("featurelayer-snapshot-point-max-threshold",4e5),he.add("featurelayer-snapshot-point-coverage",.1),he.add("featurelayer-query-max-depth",4),he.add("featurelayer-query-pausing-enabled",!1),he.add("featurelayer-advanced-symbols",!1),he.add("featurelayer-pbf",!0),he.add("featurelayer-pbf-statistics",!1),he.add("feature-layers-workers",!0),he.add("feature-polyline-generalization-factor",1),he.add("mapview-transitions-duration",200),he.add("mapview-essential-goto-duration",200),he.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),he.add("mapserver-pbf-version-support",10.81),he.add("mapservice-popup-identify-max-tolerance",20),he("host-webworker")||he("host-browser")&&(he.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),he.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{he.add("esri-image-decode",!0,!0,!0)}).catch(()=>{he.add("esri-image-decode",!1,!0,!0)})}return!1}),he.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})();let Y0=class Xl{constructor(t=1){this._seed=t}set seed(t){this._seed=t??Math.random()*Xl._m}getInt(){return this._seed=(Xl._a*this._seed+Xl._c)%Xl._m,this._seed}getFloat(){return this.getInt()/(Xl._m-1)}getIntRange(t,r){return Math.round(this.getFloatRange(t,r))}getFloatRange(t,r){const i=r-t;return t+this.getInt()/Xl._m*i}};Y0._m=2147483647,Y0._a=48271,Y0._c=0;const oD=1.5,Gpe=1/oD,Vpe=.5;function Bpe(e,t){return t?e.filter((r,i,n)=>n.findIndex(t.bind(null,r))===i):Array.from(new Set(e))}function C1(e,t,r){if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function zpe(e,t,r){let i,n;return r?(i=t.filter(s=>!e.some(o=>r(o,s))),n=e.filter(s=>!t.some(o=>r(o,s)))):(i=t.filter(s=>!e.includes(s)),n=e.filter(s=>!t.includes(s))),{added:i,removed:n}}function qpe(e){return e&&typeof e.length=="number"}let u$=class{constructor(){this.last=0}};const h$=new u$;function v_(e,t,r,i){i=i||h$;const n=Math.max(0,i.last-10);for(let o=n;o<r;++o)if(e[o]===t)return i.last=o,o;const s=Math.min(n,r);for(let o=0;o<s;++o)if(e[o]===t)return i.last=o,o;return-1}function Hpe(e,t,r,i){const n=e.length,s=v_(e,t,n,i);if(s!==-1)return e[s]=e[n-1],e.pop(),t}const Qn=new Set;function aD(e,t,r=e.length,i=t.length,n,s){if(i===0||r===0)return r;Qn.clear();for(let a=0;a<i;++a)Qn.add(t[a]);n=n||h$;const o=Math.max(0,n.last-10);for(let a=o;a<r;++a)if(Qn.has(e[a])&&(s?.push(e[a]),Qn.delete(e[a]),e[a]=e[r-1],--r,--a,Qn.size===0||r===0))return Qn.clear(),r;for(let a=0;a<o;++a)if(Qn.has(e[a])&&(s?.push(e[a]),Qn.delete(e[a]),e[a]=e[r-1],--r,--a,Qn.size===0||r===0))return Qn.clear(),r;return Qn.clear(),r}function Ype(e,t){let r=0;for(let i=0;i<e.length;++i){const n=e[i];t(n,i)&&(e[r]=n,r++)}e.length=r}function lD(e){return e?(kT.seed=e,()=>kT.getFloat()):Math.random}function Jpe(e,t){const r=lD(t);for(let i=e.length-1;i>0;i--){const n=Math.floor(r()*(i+1)),s=e[i];e[i]=e[n],e[n]=s}return e}const kT=new Y0;function cD(e,t){const r=e.indexOf(t);return r!==-1?(e.splice(r,1),t):null}function uD(e,t){return e!=null}function f$(e){return 32+e.length}function PS(){return 16}function Kpe(e){if(!e)return 0;let t=p$;for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];switch(typeof i){case"string":t+=f$(i);break;case"number":t+=PS();break;case"boolean":t+=4}}return t}function hD(e){if(!e)return 0;if(Array.isArray(e))return fD(e);let t=p$;for(const r in e)e.hasOwnProperty(r)&&(t+=d$(e[r]));return t}function fD(e){const t=e.length;if(t===0||typeof e[0]=="number")return 32+8*t;let r=m$;for(let i=0;i<t;i++)r+=d$(e[i]);return r}function d$(e){switch(typeof e){case"object":return hD(e);case"string":return f$(e);case"number":return PS();case"boolean":return 4;default:return 8}}function dD(e,t){return m$+e.length*t}const p$=32,m$=16;function Zpe(e){return e instanceof ArrayBuffer}function LS(e){return e?.constructor?.name==="Int8Array"}function y$(e){return e?.constructor?.name==="Uint8Array"}function g$(e){return e?.constructor?.name==="Uint8ClampedArray"}function kS(e){return e?.constructor?.name==="Int16Array"}function v$(e){return e?.constructor?.name==="Uint16Array"}function RS(e){return e?.constructor?.name==="Int32Array"}function b$(e){return e?.constructor?.name==="Uint32Array"}function N1(e){return e?.constructor?.name==="Float32Array"}function P1(e){return e?.constructor?.name==="Float64Array"}function _$(e){return!("buffer"in e)}function Xpe(...e){return e.reduce((t,r)=>t+(r?_$(r)?dD(r,PS()):r.byteLength+pD:0),0)}const pD=145,w$=1024;function Qpe(e){return P1(e)||N1(e)||RS(e)||kS(e)||LS(e)}function eme(e){return P1(e)||N1(e)}function tme(e){return P1(e)?179769e303:N1(e)?3402823e32:b$(e)?4294967295:v$(e)?65535:y$(e)||g$(e)?255:RS(e)?2147483647:kS(e)?32767:LS(e)?127:256}function rme(e,t){let r;for(r in e)e.hasOwnProperty(r)&&e[r]===void 0&&delete e[r];return e}function ge(e){if(!e||typeof e!="object"||typeof e=="function")return e;const t=T$(e);if(t!=null)return t;if(S$(e))return e.clone();if(x$(e))return e.map(ge);if(E$(e))return e.clone();const r={};for(const i of Object.getOwnPropertyNames(e))r[i]=ge(e[i]);return r}function b_(e){if(!e||typeof e!="object"||typeof e=="function"||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=T$(e);if(t!=null)return t;if(x$(e)){let r=!0;const i=e.map(n=>{const s=b_(n);return n!=null&&s==null&&(r=!1),s});return r?i:null}if(S$(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!E$(e)){const r=new(Object.getPrototypeOf(e)).constructor;for(const i of Object.getOwnPropertyNames(e)){const n=e[i],s=b_(n);if(n!=null&&s==null)return null;r[i]=s}return r}return null}function S$(e){return typeof e.clone=="function"}function x$(e){return typeof e.map=="function"&&typeof e.forEach=="function"}function E$(e){return typeof e.notifyChange=="function"&&typeof e.watch=="function"}function RT(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function T$(e){if(LS(e)||y$(e)||g$(e)||kS(e)||v$(e)||RS(e)||b$(e)||N1(e)||P1(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,ge(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(ge(r));return t}return null}function DS(e,t){return e===t||typeof e=="number"&&isNaN(e)&&typeof t=="number"&&isNaN(t)||typeof e?.getTime=="function"&&typeof t?.getTime=="function"&&e.getTime()===t.getTime()||!1}function mD(e,t){return e===t||(e==null||typeof e=="string"?e===t:typeof e=="number"?e===t||typeof t=="number"&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&C1(e,t):e instanceof Set?t instanceof Set&&gD(e,t):e instanceof Map?t instanceof Map&&vD(e,t):!!RT(e)&&RT(t)&&yD(e,t))}function yD(e,t){if(e===null||t===null)return!1;const r=Object.keys(e);if(t===null||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function gD(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function vD(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const n=t.get(r);if(n!==i||n===void 0&&!t.has(r))return!1}return!0}function bD(e,t,r=!1){return M$(e,t,r)}function FS(e,t){if(t!=null)return t[e]||A$(e.split("."),!1,t)}function gf(e,t,r){const i=e.split("."),n=i.pop(),s=A$(i,!0,r);s&&n&&(s[n]=t)}function DT(e,t){if(e==null&&t==null)return!1;if(e==null||t==null)return!0;if(typeof e=="object"){if(Array.isArray(e)){const r=t;if(e.length!==r.length)return!0;for(let i=0;i<e.length;i++)if(DT(e[i],r[i]))return!0;return!1}if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const r in e)if(DT(e[r],t[r]))return!0;return!1}return e!==t}function A$(e,t,r){let i=r;for(const n of e){if(i==null)return;if(!(n in i)){if(!t)return;i[n]={}}i=i[n]}return i}function M$(e,t,r){return t?Object.keys(t).reduce((i,n)=>{let s=i[n],o=t[n];return s===o?i:s===void 0?(i[n]=ge(o),i):(Array.isArray(o)||Array.isArray(i)?(s=s?Array.isArray(s)?i[n]=s.slice():i[n]=[s]:i[n]=[],o&&(Array.isArray(o)||(o=[o]),r?o.forEach(a=>{s.includes(a)||s.push(a)}):i[n]=o.slice())):o&&typeof o=="object"?i[n]=M$(s,o,r):i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[n]=o),i)},e||{}):e}const $t={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(bD($t,globalThis.esriConfig,!0),delete $t.has),!$t.assetsPath){{const e="4.31";$t.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}$t.defaultAssetsPath=$t.assetsPath}const _D=/\{([^}]+)\}/g;function FT(e){return e??""}function I$(e,t){return t?e.replaceAll(_D,typeof t=="object"?(r,i)=>FT(FS(i,t)):(r,i)=>FT(t(i))):e}function ime(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,r=>t?.includes(r)?r:`\\${r}`)}function O$(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}let UT;function nme(e){return UT??=new DOMParser,UT.parseFromString(e||"","text/html").body.innerText||""}function sme(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const jT={info:0,warn:1,error:2,none:3};let kt=class cn{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},t.level!=null&&(this.level=t.level),t.writer!=null&&(this.writer=t.writer),this._module=t.module,cn._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");r!==-1&&(this._parent=cn.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){}static get test(){}static getLogger(t){return t=typeof t!="string"?t.declaredClass:t,cn._loggers.get(t)||new cn({module:t})}_log(t,r,...i){if(this._matchLevel(t)){if(r!=="always"&&!cn._throttlingDisabled){const n=SD(i),s=this._loggedMessages[t].get(n);if(r==="once"&&s!=null||r==="oncePerTick"&&s&&s>=cn._tickCounter)return;this._loggedMessages[t].set(n,cn._tickCounter),cn._scheduleTickCounterIncrement()}for(const n of $t.log.interceptors)if(n(t,this.module,...i))return;this._inheritedWriter()(t,this.module,...i)}}_parentWithMember(t,r){let i=this;for(;i!=null;){const n=i[t];if(n!=null)return n;i=i.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",wD)}_matchLevel(t){const r=$t.log.level||"warn";return jT[this._parentWithMember("level",r)]<=jT[t]}static _scheduleTickCounterIncrement(){cn._tickCounterScheduled||(cn._tickCounterScheduled=!0,Promise.resolve().then(()=>{cn._tickCounter++,cn._tickCounterScheduled=!1}))}};function wD(e,t,...r){console[e](`[${t}]`,...r)}function SD(...e){return O$(JSON.stringify(e,(r,i)=>typeof i!="object"||Array.isArray(i)?i:"[Object]"))}kt._loggers=new Map,kt._tickCounter=0,kt._tickCounterScheduled=!1,kt._throttlingDisabled=!1;function ome(e,t){for(const r of e.values())if(t(r))return!0;return!1}function xD(e,t,r){const i=e.get(t);if(i!==void 0)return i;const n=r();return e.set(t,n),n}function ame(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))}const yh=()=>kt.getLogger("esri.core.accessorSupport.ensureTypes");function ED(e){return e==null?e:new Date(e)}function TD(e){return e==null?e:!!e}function AD(e){return e==null?e:e.toString()}function L1(e,t=0){return e==null?e:(e=parseFloat(e),isNaN(e)?t:e)}function US(e){return e==null?e:Math.round(parseFloat(e))}function MD(e){return null}function ID(e,t){return r=>{let i=e(r);return t.step!=null&&(i=Math.round(i/t.step)*t.step),t.min!=null&&(i=Math.max(t.min,i)),t.max!=null&&(i=Math.min(t.max,i)),i}}function $$(e){return e?.constructor&&e.constructor.__accessorMetadata__!==void 0}function Xy(e,t){return t!=null&&e&&!(t instanceof e)}function C$(e){return e&&"isCollection"in e}function GT(e){return e?.Type?typeof e.Type=="function"?e.Type:e.Type.base:null}function OD(e,t){if(!t?.constructor||!C$(t.constructor))return __(e,t)?t:new e(t);const r=GT(e.prototype.itemType),i=GT(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(__(e,t),t):new e(t):t}function __(e,t){return!!$$(t)&&(yh().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+k1(e)+"'"),!0)}function N$(e,t){return t==null?t:C$(e)?OD(e,t):Xy(e,t)?__(e,t)?t:new e(t):t}function k1(e){return e?.prototype?.declaredClass||"unknown"}const $D=new WeakMap;function CD(e){switch(e){case Number:return t=>L1(t);case zr:return US;case Boolean:return TD;case String:return AD;case Date:return ED;case jS:return MD;default:return xD($D,e,()=>N$.bind(null,e))}}function xs(e,t){const r=CD(e);return arguments.length===1?r:r(t)}function hp(e,t,r){return arguments.length===1?hp.bind(null,e):t&&(Array.isArray(t)?t.map(i=>e(i,r)):[e(t,r)])}function ND(e,t){return arguments.length===1?hp(r=>xs(e,r)):hp(r=>xs(e,r),t)}function P$(e,t,r){return t!==0&&Array.isArray(r)?r.map(i=>P$(e,t-1,i)):e(r)}function Qy(e,t,r){if(arguments.length===2)return s=>Qy(e,t,s);if(!r)return r;r=P$(e,t,r);let i=t,n=r;for(;i>0&&Array.isArray(n);)i--,n=n[0];if(n!==void 0)for(let s=0;s<i;s++)r=[r];return r}function PD(e,t,r){return arguments.length===2?Qy(i=>xs(e,i),t):Qy(i=>xs(e,i),t,r)}function L$(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!(r==="string"||r==="number"||r==="function"&&e.length>1)})}function w_(e,t){if(arguments.length===2)return w_(e).call(null,t);const r=new Set,i=e.filter(a=>typeof a!="function"),n=e.filter(a=>typeof a=="function");for(const a of e)typeof a!="string"&&typeof a!="number"||r.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,f=c==="string"||c==="number";return f&&(r.has(a)||n.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&n.some(d=>!Xy(a,d))?a:(f&&i.length?(s||(s=i.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),yh().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&n.length?(o||(o=n.map(d=>k1(d)).join(", ")),yh().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):yh().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Gc(e,t){if(arguments.length===2)return Gc(e).call(null,t);const r={},i=[],n=[];for(const l in e.typeMap){const c=e.typeMap[l];r[l]=xs(c),i.push(k1(c)),n.push(l)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${n.join("', '")}'`,a=typeof e.key=="string"?l=>l[e.key]:e.key;return l=>{if(e.base&&!Xy(e.base,l)||l==null)return l;const c=a(l)||e.defaultKeyValue,f=r[c];if(!f)return yh().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Xy(e.typeMap[c],l))return l;if(typeof e.key=="string"&&!$$(l)){const d={};for(const p in l)p!==e.key&&(d[p]=l[p]);return f(d)}return f(l)}}let zr=class{},jS=class{};const ume={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function LD(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function k$(e){switch(e.type){case"native":return xs(e.value);case"array":return hp(k$(e.value));case"one-of":return kD(e);default:return null}}function kD(e){let t=null;return(r,i)=>x_(r,e)?r:(t==null&&(t=S_(e)),yh().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function S_(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case zr:return"integer";case Date:return"date";case jS:return"null";default:return k1(e.value)}case"array":return`array of ${S_(e.value)}`;case"one-of":{const t=e.values.map(r=>S_(r));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function x_(e,t){if(e==null)return!0;switch(t.type){case"native":switch(t.value){case Number:case zr:return typeof e=="number";case Boolean:return typeof e=="boolean";case String:return typeof e=="string";case jS:return e===null}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(r=>!x_(r,t.value));case"one-of":return t.values.some(r=>x_(e,r))}}function Zm(e){return $1(US(e),0,255)}function Xm(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function Qm(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}let J0=class Ur{static blendColors(t,r,i,n=new Ur){return n.r=Math.round(t.r+(r.r-t.r)*i),n.g=Math.round(t.g+(r.g-t.g)*i),n.b=Math.round(t.b+(r.b-t.b)*i),n.a=t.a+(r.a-t.a)*i,n._sanitize()}static fromRgb(t,r){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(i){const n=i[2].split(/\s*,\s*/),s=i[1];if(s==="rgb"&&n.length===3||s==="rgba"&&n.length===4){const o=n[0];if(o.charAt(o.length-1)==="%"){const a=n.map(l=>2.56*parseFloat(l));return n.length===4&&(a[3]=parseFloat(n[3])),Ur.fromArray(a,r)}return Ur.fromArray(n.map(a=>parseFloat(a)),r)}if(s==="hsl"&&n.length===3||s==="hsla"&&n.length===4)return Ur.fromArray(rD(parseFloat(n[0]),parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])),r)}return null}static fromHex(t,r=new Ur){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const i=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),s=parseInt(t.slice(3,4),16),o=t.length===5?15:parseInt(t.slice(4),16);return Ur.fromArray([i+16*i,n+16*n,s+16*s,(o+16*o)/255],r)}case 7:case 9:{const i=parseInt(t.slice(1,3),16),n=parseInt(t.slice(3,5),16),s=parseInt(t.slice(5,7),16),o=t.length===7?255:parseInt(t.slice(7),16);return Ur.fromArray([i,n,s,o/255],r)}default:return null}}static fromArray(t,r=new Ur){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const i=tD(t)?a$(t):null;return i&&Ur.fromArray(i,r)||Ur.fromRgb(t,r)||Ur.fromHex(t,r)}static fromJSON(t){return t!=null?new Ur([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return t!=null?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return t!=null?[t.r/255,t.g/255,t.b/255,t.a!=null?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return typeof t=="string"?Ur.fromString(t,this):Array.isArray(t)?Ur.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Ur||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const r=t?.capitalize??!1,i=t?.digits??6,n=i===3||i===4,s=i===4||i===8,o=`#${Qm(this.r,n)}${Qm(this.g,n)}${Qm(this.b,n)}${s?Qm(Math.round(255*this.a),n):""}`;return r?o.toUpperCase():o}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Ur.AlphaMode.ALWAYS){const r=Zm(this.r),i=Zm(this.g),n=Zm(this.b);return t===Ur.AlphaMode.ALWAYS||this.a!==1?[r,i,n,Zm(255*this.a)]:[r,i,n]}clone(){return new Ur(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return t!=null&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Xm(this.r,0,255)),this.g=Math.round(Xm(this.g,0,255)),this.b=Math.round(Xm(this.b,0,255)),this.a=Xm(this.a,0,1),this}_set(t,r,i,n){this.r=t,this.g=r,this.b=i,this.a=n}};J0.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(J0||(J0={}));const wt=J0;function b(e,t,r,i){var n,s=arguments.length,o=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function hme(e,t){return function(r,i){t(r,i,e)}}function fme(e,t,r,i){function n(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(f){try{c(i.next(f))}catch(d){o(d)}}function l(f){try{c(i.throw(f))}catch(d){o(d)}}function c(f){f.done?s(f.value):n(f.value).then(a,l)}c((i=i.apply(e,[])).next())})}const RD={remove:()=>{}};function Ir(e){return e?{remove(){e&&(e(),e=void 0)}}:RD}function DD(e){e.forEach(t=>t?.remove())}function GS(e){return Ir(()=>DD(e))}function dme(e){return Ir(()=>e?.abort())}function pme(e){return Ir(e!=null?()=>e.destroy():void 0)}function yl(e){return e.__accessor__??null}function FD(e,t){return e?.metadata?.[t]!=null}function K0(e,t,r){return r?eg(e,t,{policy:r,path:""}):eg(e,t,null)}function eg(e,t,r){return t?Object.keys(t).reduce((i,n)=>{const s=n;let o=null,a="merge";if(r&&(o=r.path?`${r.path}.${n}`:n,a=r.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(i[s]))return i[s]=t[s],i;if(i[s]===void 0)return i[s]=ge(t[s]),i;let l=i[s],c=t[s];if(l===c)return i;if(Array.isArray(c)||Array.isArray(i))l=l?Array.isArray(l)?i[s]=l.slice():i[s]=[l]:i[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(f=>{l.includes(f)||l.push(f)}));else if(c&&typeof c=="object")if(r){const f=r.path;r.path=o,i[s]=eg(l,c,r),r.path=f}else i[s]=eg(l,c,null);else i.hasOwnProperty(n)&&!t.hasOwnProperty(n)||(i[s]=c);return i},e||{}):e}function R$(e){return Array.isArray(e)?e:e.split(".")}function VT(e){return e.includes(",")?e.split(",").map(t=>t.trim()):[e.trim()]}function UD(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...VT(r));return t}return VT(e)}function D$(e,t,r,i){const n=UD(t);if(n.length!==1){const s=n.map(o=>i(e,o,r));return GS(s)}return i(e,n[0],r)}function F$(e,t){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const i=yl(t);return FD(i,r)?i.get(r):t[r]}function U$(e,t,r){if(e==null)return e;const i=F$(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:U$(i,t,r+1)}function lm(e,t,r=0){return typeof t!="string"||t.includes(".")?U$(e,R$(t),r):F$(t,e)}function Vc(e,t){return lm(e,t)}function BT(e,t){return lm(t,e)!==void 0}function cm(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const i in t)t[i]=ge(t[i]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function R1(e,t){const r=cm(e);let i=r[t];return i||(i=r[t]={}),i}function jD(e,t){return K0(e,t,VD)}const GD=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function VD(e){return GD.test(e)?"replace":"merge"}function BD(e,t){return e.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(r,i)=>i===""?"$":(FS(i,t)??"").toString())}let j$=class{constructor(t,r,i=void 0){this.name=t,this.details=i,this.message=(r&&BD(r,i))??""}toString(){return"["+this.name+"]: "+this.message}},ct=class G$ extends j${constructor(t,r,i){super(t,r,i)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&typeof r=="object"&&typeof r.toJSON=="function")return r;try{return ge(r)}catch{return"[object]"}}))}}catch(t){throw kt.getLogger("esri.core.Error").error(t),t}return{name:this.name,message:this.message,details:this.details}}static fromJSON(t){return new G$(t.name,t.message,t.details)}};ct.prototype.type="error";function tg(e,t,r){if(e&&t)if(typeof t=="object")for(const i of Object.getOwnPropertyNames(t))tg(e,i,t[i]);else{if(t.includes(".")){const n=t.split("."),s=n.splice(-1,1)[0];return void tg(Vc(e,n),s,r)}const i=e.__accessor__;i!=null&&zD(t,i),e[t]=r}}function zD(e,t){if(he("esri-unknown-property-errors")&&!qD(e,t))throw new ct("set:unknown-property",WD(e,t))}function qD(e,t){return t.metadata[e]!=null}function WD(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function A(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),n=R1(t,r);i&&(i.get||i.set?(n.get=i.get||n.get,n.set=i.set||n.set):"value"in i&&("value"in e&&kt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=i.value)),e.readOnly!=null&&(n.readOnly=e.readOnly);const s=e.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let f;n.dependsOn=[l],n.get=function(){let d=Vc(this,l);if(typeof d=="function"){f||(f=l.split(".").slice(0,-1).join("."));const p=Vc(this,f);p&&(d=d.bind(p))}return d},n.readOnly||(n.set=c?function(d){this._override(r,d)}:function(d){tg(this,l,d)})}const o=e.type,a=e.types;if(!n.cast){let l;o?l=HD(o):a&&(l=Array.isArray(a)?hp(Gc(a[0])):Gc(a)),e.cast=YD(e.cast,l)}jD(n,e),e.range&&(n.cast=ID(n.cast,e.range))}}function V$(e,t,r){const i=R1(e,r);i.json||(i.json={});let n=i.json;return t!==void 0&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function HD(e){let t=0,r=e;if(LD(e))return k$(e);for(;Array.isArray(r)&&r.length===1&&typeof r[0]!="string"&&typeof r[0]!="number";)r=r[0],t++;const i=r;if(L$(i))return t===0?w_(i):Qy(w_(i),t);if(t===1)return ND(i);if(t>1)return PD(i,t);const n=e;return n.from?n.from:xs(n)}function YD(e,t){if(e||t)return e?t?(r,i)=>t(e(r,i),i):e:t}const B$=Symbol("Accessor-beforeDestroy");var Yi;(function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED",e[e.DESTROYED=3]="DESTROYED"})(Yi||(Yi={}));var xt;(function(e){e[e.Dirty=1]="Dirty",e[e.Overridden=2]="Overridden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"})(xt||(xt={}));let D1=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const rg=new D1,rd=[];let Rd=rg;function Je(e){Rd.onAccessed(e)}let Z0=!1,X0=!1;function gl(e,t,r){if(Z0)return VS(e,t,r);let i=null;return z$(e),i=t.call(r),q$(),i}function JD(e,t){return gl(rg,e,t)}function VS(e,t,r){const i=Z0;Z0=!0,z$(e);let n=null;try{n=t.call(r)}catch(s){X0&&kt.getLogger("esri.core.accessorSupport.tracking").error(s)}return q$(),Z0=i,n}function z$(e){Rd=e,rd.push(e)}function q$(){const e=rd.length;if(e>1){const t=rd.pop();Rd=rd[e-2],t.onTrackingEnd()}else if(e===1){const t=rd.pop();Rd=rg,t.onTrackingEnd()}else Rd=rg}function W$(e,t){if(t.flags&xt.DepTrackingInitialized)return;t.flags|=xt.DepTrackingInitialized;const r=X0;X0=!1,t.flags&xt.AutoTracked?VS(t.trackingTarget,t.metadata.get,e):H$(e,t),X0=r}const KD=[];function H$(e,t){t.flags&xt.ExplicitlyTracking||(t.flags|=xt.ExplicitlyTracking,VS(t.trackingTarget,()=>{const r=t.metadata.dependsOn||KD;for(const i of r)if(typeof i!="string"||i.includes(".")){const n=R$(i);for(let s=0,o=e;s<n.length&&o!=null&&typeof o=="object";++s)o=zT(o,n[s],s!==n.length-1)}else zT(e,i,!1)}),t.flags&=~xt.ExplicitlyTracking)}function zT(e,t,r){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const n=yl(e);if(n){const s=n.propertiesByName.get(i);s&&(Je(s),W$(e,s))}return r?e[i]:void 0}function ZD(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const i in r)if(t[i]){const n=t[i];r[i].forEach(s=>{t[s]=n}),delete t[i]}}}let fp=class extends j${constructor(t,r,i){super(t,r,i)}};fp.prototype.type="warning";function Y$(e){return!!e&&e.prototype?.declaredClass&&e.prototype.declaredClass.indexOf("esri.core.Collection")===0}const E_=()=>kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function qT(e,t,r){e&&(!r&&!t.read||t.read?.reader||t.read?.enabled===!1||eF(e)&&gf("read.reader",J$(e),t))}function J$(e){const t=e.ndimArray??0;if(t>1)return QD(e);if(t===1)return WT(e);if("type"in e&&Z$(e.type)){const r=e.type.prototype?.itemType?.Type,i=WT(typeof r=="function"?{type:r}:{types:r});return(n,s,o)=>{const a=i(n,s,o);return a&&new e.type(a)}}return BS(e)}function BS(e){return"type"in e?XD(e.type):tF(e.types)}function XD(e){return e.prototype.read?(t,r,i)=>{if(t==null)return t;const n=typeof t;if(n!=="object")return void E_().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,i),s}:e.fromJSON}function K$(e,t,r,i){return i!==0&&Array.isArray(t)?t.map(n=>K$(e,n,r,i-1)):e(t,void 0,r)}function QD(e){const t=BS(e),r=K$.bind(null,t),i=e.ndimArray??0;return(n,s,o)=>{if(n==null)return n;n=r(n,o,i);let a=i,l=n;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)n=[n];return n}}function WT(e){const t=BS(e);return(r,i,n)=>{if(r==null)return r;if(Array.isArray(r)){const o=[];for(const a of r){const l=t(a,void 0,n);l!==void 0&&o.push(l)}return o}const s=t(r,void 0,n);return s!==void 0?[s]:void 0}}function Z$(e){if(!Y$(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&(typeof t.Type=="function"?zS(t.Type):X$(t.Type))}function eF(e){return"types"in e?X$(e.types):zS(e.type)}function zS(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||Z$(e))}function X$(e){for(const t in e.typeMap)if(!zS(e.typeMap[t]))return!1;return!0}function tF(e){let t=null;const r=e.errorContext??"type",i=e.validate;return(n,s,o)=>{if(n==null)return n;const a=typeof n;if(a!=="object")return void E_().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);t||(t=rF(e));const l=e.key;if(typeof l!="string")return;const c=n[l],f=c?t[c]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!f){const p=`Type '${c||"unknown"}' is not supported`;return o?.messages&&n&&o.messages.push(new fp(`${r}:unsupported`,p,{definition:n,context:o})),void E_().error(p)}const d=new f;return d.read(n,o),i?i(d):d}}function rF(e){const t={};for(const r in e.typeMap){const i=e.typeMap[r],n=cm(i.prototype);if(typeof e.key=="function")continue;const s=n[e.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){t[s.json.type[0]]=i;continue}const o=s.json?.write;if(!o?.writer){t[r]=i;continue}const a=o.target,l=typeof a=="string"?a:e.key,c={};o.writer(r,c,l),c[l]&&(t[c[l]]=i)}return t}function iF(e){if(e.json||(e.json={}),YT(e.json),JT(e.json),HT(e.json),e.json.origins)for(const t in e.json.origins)YT(e.json.origins[t]),JT(e.json.origins[t]),HT(e.json.origins[t]);return!0}function HT(e){e.name&&(e.read&&typeof e.read=="object"?e.read.source===void 0&&(e.read.source=e.name):e.read={source:e.name},e.write&&typeof e.write=="object"?e.write.target===void 0&&(e.write.target=e.name):e.write={target:e.name})}function YT(e){typeof e.read=="boolean"?e.read={enabled:e.read}:typeof e.read=="function"?e.read={enabled:!0,reader:e.read}:e.read&&typeof e.read=="object"&&e.read.enabled===void 0&&(e.read.enabled=!0)}function JT(e){typeof e.write=="boolean"?e.write={enabled:e.write}:typeof e.write=="function"?e.write={enabled:!0,writer:e.write}:e.write&&typeof e.write=="object"&&e.write.enabled===void 0&&(e.write.enabled=!0)}function KT(e,t){if(!t.write||t.write.writer||t.write.enabled===!1&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(r===1||"type"in e&&Y$(e.type))?t.write.writer=aF:r>1?t.write.writer=lF(r):t.types?Array.isArray(t.types)?t.write.writer=sF(t.types[0]):t.write.writer=nF(t.types):t.write.writer=dp}function nF(e){return(t,r,i,n)=>t?Q$(t,e,n)?dp(t,r,i,n):void 0:dp(t,r,i,n)}function Q$(e,t,r){for(const i in t.typeMap)if(e instanceof t.typeMap[i])return!0;if(r?.messages){const i=t.errorContext??"type",n=`Values of type '${(typeof t.key!="function"?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new ct(`${i}:unsupported`,n,{definition:e,context:r})),kt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function sF(e){return(t,r,i,n)=>!t||!Array.isArray(t)?dp(t,r,i,n):dp(t.filter(s=>Q$(s,e,n)),r,i,n)}function dp(e,t,r,i){gf(r,ig(e,i),t)}function ig(e,t){return e&&typeof e.write=="function"?e.write({},t):e&&typeof e.toJSON=="function"?e.toJSON():typeof e=="number"?oF(e):e}function oF(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function aF(e,t,r,i){let n;e===null?n=null:e&&typeof e.map=="function"?(n=e.map(s=>ig(s,i)),typeof n.toArray=="function"&&(n=n.toArray())):n=[ig(e,i)],gf(r,n,t)}function eC(e,t,r){return r!==0&&Array.isArray(e)?e.map(i=>eC(i,t,r-1)):ig(e,t)}function lF(e){return(t,r,i,n)=>{let s;if(t===null)s=null;else{s=eC(t,n,e);let o=e,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}gf(i,s,r)}}function cF(e,t){return qS(e,"any",t?.origin)}function T_(e,t){return qS(e,"read",t?.origin)}function tC(e,t){return qS(e,"write",t?.origin)}function qS(e,t,r){let i=e?.json;if(i?.origins&&r){let n;n=r==="link-chart"?i.origins[r]&&(t==="any"||t in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],n&&(t==="any"||t in n)&&(i=n)}return i}function uF(e){const t=hF(e);if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],n=i.types?fF(i):t;qT(n,i,!1),i.types&&!i.write&&e.json.write?.enabled&&(i.write={...e.json.write}),KT(n,i)}qT(t,e.json,!0),KT(t,e.json)}function hF(e){return e.json.types?A_(e.json):e.type?rC(e):A_(e)}function fF(e){return e.type?rC(e):A_(e)}function rC(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!L$(r);)r=r[0],t++;return{type:r,ndimArray:t}}function A_(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function dF(e){iF(e)&&(ZD(e),uF(e))}const sb=new Set,ob=new Set;function oe(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,mF(t);const r=[],i=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!sb.has(n.initialize)&&(sb.add(n.initialize),r.push(n.initialize)),n.hasOwnProperty("destroy")&&!ob.has(n.destroy)&&(ob.add(n.destroy),i.push(n.destroy)),n=Object.getPrototypeOf(n);sb.clear(),ob.clear();const s=class extends t{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=r.length-1;l>=0;l--)r[l].call(this)}}),i.length){let l=!1;const c=this[B$];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let f=0;f<i.length;f++)i[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=cm(t.prototype),s.prototype.declaredClass=e;const o=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function pF(e,t){return t.get==null?function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i===void 0)return;r.mutable&&Je(i);const n=r.store;return n.has(e)?n.get(e):i.metadata.value}:function(){const r=this.__accessor__,i=r.propertiesByName.get(e);if(i!==void 0)return i.getComputed(r)}}function mF(e){const t=e.prototype,r=cm(t),i={};for(const n of Object.getOwnPropertyNames(r)){const s=r[n];dF(s),i[n]={enumerable:!0,configurable:!0,get:pF(n,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?ZT("read-only",n):a.lifecycle===Yi.CONSTRUCTED&&s.constructOnly?ZT("construct-only",n):void a.set(n,o)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(e.prototype,i)}const ZT=(e,t)=>{kt.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)},XT=new WeakMap;function yF(e,t,r=!1){const i=`🛑 DEPRECATED - ${t}`;if(!r)return void e.warn(i);let n=XT.get(e);n||(n=new Set,XT.set(e,n)),n.has(t)||(n.add(t),e.warn(i))}function gF(e,t,r={}){if(he("esri-deprecation-warnings")){const{moduleName:i}=r;pp(e,`Function: ${(i?i+"::":"")+t+"()"}`,r)}}function vme(e,t,r={}){if(he("esri-deprecation-warnings")){const{moduleName:i}=r;pp(e,`Property: ${(i?i+"::":"")+t}`,r)}}function vF(e,t,r={}){he("esri-deprecation-warnings")&&pp(e,`Multiple argument constructor: ${t}`,{warnOnce:!0,replacement:`new ${t}({ <your properties here> })`,...r})}function pp(e,t,r={}){if(he("esri-deprecation-warnings")){const{replacement:i,version:n,see:s,warnOnce:o}=r;let a=t;i&&(a+=`
	🛠️ Replacement: ${i}`),n&&(a+=`
	⚙️ Version: ${n}`),s&&(a+=`
	🔗 See ${s} for more details.`),yF(e,a,o)}}function bme(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function _me(e,t){for(const r of e)if(r!=null&&t(r))return r}function QT(e){return e!=null&&typeof e[Symbol.iterator]=="function"}let WS=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(r=>{t+=r.length}),t}add(t,r){if(QT(t)){const i=this._getOrCreateGroup(r);for(const n of t)tA(n)&&i.push(n)}else tA(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(t,r){if(typeof t=="function")this._groups.forEach(i=>i.forEach(t));else{const i=this._getGroup(t);i&&r&&i.forEach(r)}}has(t){return this._groups.has(e0(t))}remove(t){if(typeof t!="string"&&QT(t)){for(const r of t)this.remove(r);return this}return this.has(t)?(eA(this._getGroup(t)),this._groups.delete(e0(t)),this):this}removeAll(){return this._groups.forEach(eA),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const r=[];return this._groups.set(e0(t),r),r}_getGroup(t){return this._groups.get(e0(t))}};function e0(e){return e||"_default_"}function eA(e){for(const t of e)t instanceof WS?t.removeAll():t.remove()}function tA(e){return e!=null&&(!!e.remove||e instanceof WS)}function bF(e,t){if(e==null)throw new Error(t??"value is None")}function Q0(e){return e?.destroy(),null}function Sme(e){return e?.dispose(),null}function vf(e){return e?.remove(),null}function iC(e){return e?.abort(),null}function xme(e){return e?.release(),null}function Eme(e,t,r){return e!=null&&t!=null?r!=null?r(e,t):e.equals(t):e===t}function _F(e,t){let r;return e.some((i,n)=>(r=t(i,n),r!=null)),r??void 0}function wF(e){return e?.release&&typeof e.release=="function"}function SF(e){return e?.acquire&&typeof e.acquire=="function"}let um=class M_{constructor(t,r,i,n=1,s=0){this._ctor=t,this._acquireFunction=r,this._releaseFunction=i,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...t){let r;if(M_.test.disabled)r=new this._ctor;else{if(this._pool.length===0){const i=this.allocationSize;for(let n=0;n<i;n++)this._pool[n]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...t):SF(r)&&r.acquire(...t),r}release(t){t&&!M_.test.disabled&&(this._releaseFunction?this._releaseFunction(t):wF(t)&&t.release(),this._pool.push(t))}prune(t=this._initialSize){if(!(t>=this._pool.length)){for(let r=t;r<this._pool.length;++r){const i=this._pool[r];this._dispose(i)}this._pool.length=t}}_dispose(t){t.dispose&&typeof t.dispose=="function"&&t.dispose()}};um.test={disabled:!1};let xF=class{constructor(t,r){this._observers=t,this._observer=r}remove(){cD(this._observers,this._observer)}},nC=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return EF;this._observers==null&&(this._observers=[]);const r=this._observers;let i=!1,n=!1;const s=r.length;for(let o=0;o<s;++o){const a=r[o];if(a.destroyed)n=!0;else if(a===t){i=!0;break}}return i||(r.push(t),n&&this._removeDestroyedObservers()),new xF(r,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const r=t.length;let i=0;for(let n=0;n<r;++n){for(;n+i<r&&t[n+i].destroyed;)++i;if(i>0){if(!(n+i<r))break;t[n]=t[n+i]}}t.length=r-i}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const r of t)r.onCommitted();this._observers=null}}};const EF=Ir();var st;(function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"})(st||(st={}));const Mme=st.USER+1;function sC(e){switch(e){case"defaults":return st.DEFAULTS;case"service":return st.SERVICE;case"portal-item":return st.PORTAL_ITEM;case"web-scene":return st.WEB_SCENE;case"web-map":return st.WEB_MAP;case"link-chart":return st.LINK_CHART;case"user":return st.USER;default:return null}}function I_(e){switch(e){case st.DEFAULTS:return"defaults";case st.SERVICE:return"service";case st.PORTAL_ITEM:return"portal-item";case st.WEB_SCENE:return"web-scene";case st.WEB_MAP:return"web-map";case st.LINK_CHART:return"link-chart";case st.USER:return"user"}}function TF(e){return I_(e)}let rA=class extends nC{constructor(t,r){super(),this.propertyName=t,this.metadata=r,this.trackingTarget=new D1(this),this.flags=0,this.flags=xt.Dirty|(r.nonNullable?xt.NonNullable:0)|(r.hasOwnProperty("value")?xt.HasDefaultValue:0)|(r.get===void 0?xt.DepTrackingInitialized:0)|(r.dependsOn===void 0?xt.AutoTracked:0)}destroy(){this.flags&xt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&Je(this);const r=t.store,i=this.propertyName,n=this.flags,s=r.get(i);if(n&xt.Computing||~n&xt.Dirty&&r.has(i))return s;this.flags|=xt.Computing;const o=t.host;let a;n&xt.AutoTracked?a=gl(this.trackingTarget,this.metadata.get,o):(H$(o,this),a=this.metadata.get.call(o)),this.flags|=xt.DepTrackingInitialized,r.set(i,a,st.COMPUTED);const l=r.get(i);return l===s?this.flags&=~xt.Dirty:JD(this.commit,this),this.flags&=~xt.Computing,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~xt.Dirty,this.onCommitted()}onInvalidated(){~this.flags&xt.Overridden&&(this.flags|=xt.Dirty);const t=this._observers;if(t&&t.length>0)for(const r of t)r.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onCommitted()}}},AF=class oC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new oC;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,ge(i))}),r}get(t){return this._values.get(t)}originOf(){return st.USER}keys(){return[...this._values.keys()]}set(t,r){this._values.set(t,r)}delete(t){this._values.delete(t)}has(t){return this._values.has(t)}forEach(t){this._values.forEach(t)}};function t0(e,t,r){return e!==void 0}function iA(e,t,r,i){return e!==void 0&&(!(r==null&&e.flags&xt.NonNullable)||(i.lifecycle,Yi.INITIALIZING,!1))}let MF=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Yi.INITIALIZING,this.store=new AF,this.mutable=!0,this._origin=st.USER;const r=this.host.constructor.__accessorMetadata__;for(const i in r){const n=new rA(i,r[i]);this.propertiesByName.set(i,n)}this.metadata=r}initialize(){this.lifecycle=Yi.CONSTRUCTING}constructed(){this.lifecycle=Yi.CONSTRUCTED}destroy(){this.lifecycle=Yi.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Yi.INITIALIZING}get(t){const r=this.propertiesByName.get(t);if(r.metadata.get)return r.getComputed(this);this.mutable&&Je(r);const i=this.store;return i.has(t)?i.get(t):r.metadata.value}originOf(t){const r=this.store.originOf(t);if(r===void 0){const i=this.propertiesByName.get(t);if(i!==void 0&&i.flags&xt.HasDefaultValue)return"defaults"}return I_(r)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const r=this.propertiesByName.get(t);if(t0(r))return this.store.has(t)?this.store.get(t):r.metadata.value}internalSet(t,r){const i=this.propertiesByName.get(t);t0(i)&&this._internalSet(i,r)}getDependsInfo(t,r,i){const n=this.propertiesByName.get(r);if(!t0(n))return"";const s=new D1,o=gl(s,()=>n.metadata.get?.call(t));let a=`${i}${t.declaredClass.split(".").pop()}.${r}: ${o}
`;const l=s.accessed??new Set;if(l.size===0)return a;i+="  ";for(const c of l)c instanceof rA&&(a+=`${i}${c.propertyName}: undefined
`);return a}setAtOrigin(t,r,i){const n=this.propertiesByName.get(t);if(t0(n))return this._setAtOrigin(n,r,i)}isOverridden(t){const r=this.propertiesByName.get(t);return r!==void 0&&!!(r.flags&xt.Overridden)}clearOverride(t){const r=this.propertiesByName.get(t);r&&r.flags&xt.Overridden&&(r.flags&=~xt.Overridden,r.notifyChange())}override(t,r){const i=this.propertiesByName.get(t);if(!iA(i,t,r,this))return;const n=i.metadata.cast;if(n){const s=this._cast(n,r),{valid:o,value:a}=s;if(ab.release(s),!o)return;r=a}i.flags|=xt.Overridden,this._internalSet(i,r)}set(t,r){const i=this.propertiesByName.get(t);if(!iA(i,t,r,this))return;const n=i.metadata.cast;if(n){const o=this._cast(n,r),{valid:a,value:l}=o;if(ab.release(o),!a)return;r=l}const s=i.metadata.set;s?s.call(this.host,r):this._internalSet(i,r)}setDefaultOrigin(t){this._origin=sC(t)}getDefaultOrigin(){return I_(this._origin)}notifyChange(t){const r=this.propertiesByName.get(t);r!==void 0&&r.notifyChange()}invalidate(t){const r=this.propertiesByName.get(t);r!==void 0&&r.invalidate()}commit(t){const r=this.propertiesByName.get(t);r!==void 0&&r.commit()}_internalSet(t,r){const i=this.lifecycle!==Yi.INITIALIZING?this._origin:st.DEFAULTS;this._setAtOrigin(t,r,i)}_setAtOrigin(t,r,i){const n=this.store,s=t.propertyName;n.has(s,i)&&DS(r,n.get(s))&&~t.flags&xt.Overridden&&i===n.originOf(s)||(t.invalidate(),n.set(s,r,i),t.commit(),W$(this.host,t))}_cast(t,r){const i=ab.acquire();return i.valid=!0,i.value=r,t&&(i.value=t.call(this.host,r,i)),i}},IF=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const ab=new um(IF);let OF;function $F(){return OF}var nA;(function(e){e[e.Ignore=0]="Ignore",e[e.Destroy=1]="Destroy",e[e.ThrowError=2]="ThrowError"})(nA||(nA={}));function CF(e){e.length=0}let Ba=class{constructor(t=50,r=50){this._pool=new um(Array,void 0,CF,r,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return lb.acquire()}static release(t){return lb.release(t)}static prune(){lb.prune()}};const lb=new Ba(100);let NF=class extends um{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const r=super.acquire(...t);return this._set.delete(r),r}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const r0=[];function aC(e){r0.push(e),r0.length===1&&queueMicrotask(()=>{const t=r0.slice();r0.length=0;for(const r of t)r()})}let lC=class{constructor(t,r=30){this.name=t,this._counter=0,this._samples=new Array(r)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,r)=>t-r)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,r)=>t+r,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var O_;(function(e){const t=(s,o,a,l)=>{let c=o,f=o;const d=a>>>1,p=s[c-1];for(;f<=d;){f=c<<1,f<a&&l(s[f-1],s[f])<0&&++f;const y=s[f-1];if(l(y,p)<=0)break;s[c-1]=y,c=f}s[c-1]=p},r=(s,o)=>s<o?-1:s>o?1:0;function i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)t(s,f,a,l);const c=o+1;for(let f=a-1;f>o;f--){const d=s[o];s[o]=s[f],s[f]=d,t(s,c,f,l)}}function*n(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=r);for(let f=a>>>1;f>o;f--)t(s,f,a,l),yield;const c=o+1;for(let f=a-1;f>o;f--){const d=s[o];s[o]=s[f],s[f]=d,t(s,c,f,l),yield}}e.sort=i,e.iterableSort=n})(O_||(O_={}));const sA=O_,PF=1.5,LF=1.1;let cC=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new u$,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>oA(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const r=new Array;for(let i=0;i<this._length;i++){const n=this.data[i];t(n)&&r.push(n)}return r}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,r){const i=this.data.indexOf(t,r);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let r=t;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,r=t.length){for(let i=0;i<r;i++)this.data[this._length++]=t[i]}fill(t,r){for(let i=0;i<r;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,oA(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const r=v_(this.data,t,this.length,this._hint);if(r!==-1)return this.data.splice(r,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(v_(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,i){this.length=aD(this.data,t,this.length,r,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,r){if(t>=this.length||r>=this.length||t===r)return;const i=this.data[t];this.data[t]=this.data[r],this.data[r]=i}sort(t){sA.sort(this.data,0,this.length,t)}iterableSort(t){return sA.iterableSort(this.data,0,this.length,t)}some(t,r){for(let i=0;i<this.length;++i)if(t.call(r,this.data[i],i,this.data))return!0;return!1}find(t,r){const{data:i,length:n}=this;for(let s=0;s<n;++s)if(t.call(r,i[s]))return i[s]}filterInPlace(t,r){let i=0;for(let n=0;n<this._length;++n){const s=this.data[n];t.call(r,s,n,this.data)&&(this.data[n]=this.data[i],this.data[i]=s,i++)}if(this._deallocator)for(let n=i;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=i,this._shrink(),this}forAll(t,r){const{data:i,length:n}=this;for(let s=0;s<n;++s)t.call(r,i[s],s,i)}forEach(t,r){this.data.slice(0,this.length).forEach(t,r)}map(t,r){const i=new Array(this.length);for(let n=0;n<this.length;++n)i[n]=t.call(r,this.data[n],n,this.data);return i}reduce(t,r){let i=r;for(let n=0;n<this.length;++n)i=t(i,this.data[n],n,this.data);return i}has(t){const r=this.length,i=this.data;for(let n=0;n<r;++n)if(i[n]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function oA(e){e.data.length>PF*e.length&&(e.data.length=Math.floor(e.length*LF))}function kF(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return Ir(()=>e.clearTimeout(i))}}}const RF=kF(globalThis);function HS(e){return DF(e)||uC(e)}function DF(e){return e!=null&&typeof e=="object"&&"on"in e&&typeof e.on=="function"}function uC(e){return e!=null&&typeof e=="object"&&"addEventListener"in e&&typeof e.addEventListener=="function"}function hC(e,t,r){if(!HS(e))throw new TypeError("target is not a Evented or EventTarget object");return uC(e)?FF(e,t,r):e.on(t,r)}function FF(e,t,r,i){if(Array.isArray(t)){const n=t.slice();for(const s of n)e.addEventListener(s,r,i);return Ir(()=>{for(const s of n)e.removeEventListener(s,r,i)})}return e.addEventListener(t,r,i),Ir(()=>e.removeEventListener(t,r,i))}function fC(e,t,r){if(!HS(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=hC(e,t,n=>{i.remove(),r.call(e,n)});return i}function bn(e="Aborted"){return new ct("AbortError",e)}function mp(e,t="Aborted"){if(Bc(e))throw bn(t)}function F1(e){return e instanceof AbortSignal?e:e?.signal??void 0}function Bc(e){const t=F1(e);return t!=null&&t.aborted}function dC(e){if(hm(e))throw e}function kme(e){if(!hm(e))throw e}function zc(e,t){const r=F1(e);if(r!=null){if(!r.aborted)return fC(r,"abort",()=>t());t()}}function UF(e,t){const r=F1(e);if(r!=null)return mp(r),fC(r,"abort",()=>t(bn()))}function Rme(e,t){return F1(t)==null?e:new Promise((r,i)=>{let n=zc(t,()=>i(bn()));const s=()=>{n=vf(n)};e.then(s,s),e.then(r,i)})}function hm(e){return e?.name==="AbortError"}async function Dme(e){try{return await e}catch(t){if(!hm(t))throw t;return}}async function YS(e){if(!e)return;if(typeof e.forEach!="function"){const r=Object.keys(e),i=r.map(o=>e[o]),n=await YS(i),s={};return r.map((o,a)=>s[o]=n[a]),s}const t=e;return Promise.allSettled(t).then(r=>Array.from(t,(i,n)=>{const s=r[n];return s.status==="fulfilled"?{promise:i,value:s.value}:{promise:i,error:s.reason}}))}async function Fme(e){return(await Promise.allSettled(e)).filter(t=>t.status==="fulfilled").map(t=>t.value)}async function Ume(e){return(await Promise.allSettled(e)).filter(t=>t.status==="rejected").map(t=>t.reason)}function jF(e,t=void 0,r){const i=new AbortController;return zc(r,()=>i.abort()),new Promise((n,s)=>{let o=setTimeout(()=>{o=0,n(t)},e);zc(i,()=>{o&&(clearTimeout(o),s(bn()))})})}function jme(e,t){const r=new AbortController,i=setTimeout(()=>r.abort(),t);return zc(e,()=>{r.abort(),clearTimeout(i)}),{...e,signal:r.signal}}function pC(e){return e&&typeof e.then=="function"}function aA(e){return pC(e)?e:Promise.resolve(e)}function Gme(e,t=-1){let r,i,n,s,o=null;const a=(...l)=>{if(r){i=l,s&&s.reject(bn()),s=kh();const p=s.promise;if(o){const y=o;o=null,y.abort()}return p}if(n=s||kh(),s=null,t>0){const p=new AbortController;r=aA(e(...l,p.signal));const y=r;jF(t).then(()=>{r===y&&(s?p.abort():o=p)})}else r=1,r=aA(e(...l));const c=()=>{const p=i;i=n=r=o=null,p!=null&&a(...p)},f=r,d=n;return f.then(c,c),f.then(d.resolve,d.reject),d.promise};return a}function kh(){let e,t;const r=new Promise((n,s)=>{e=n,t=s}),i=n=>{e(n)};return i.resolve=n=>e(n),i.reject=n=>t(n),i.timeout=(n,s)=>RF.setTimeout(()=>i.reject(s),n),i.promise=r,i}async function Vme(e){await Promise.resolve(),mp(e)}function Bme(e){return e}function zme(e){return 1e3*e}function qme(e){return e}let GF=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},VF=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},$_=0;const Ff={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},C_=["prepare","preRender","render","postRender","update","finish"],N_=[],qc=new cC;let BF=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function zF(){$c!=null&&(cancelAnimationFrame($c),$c=requestAnimationFrame(JS))}const ng={frameTasks:qc,willDispatch:!1,clearFrameTasks:qF,dispatch:gC,executeFrameTasks:WF,reschedule:zF};function mC(e){const t=new VF(e);return N_.push(t),ng.willDispatch||(ng.willDispatch=!0,aC(gC)),t}function Jme(e){const t=new GF(e);return qc.push(t),$c==null&&($_=performance.now(),$c=requestAnimationFrame(JS)),new BF(t)}let $c=null;function qF(e=!1){qc.forAll(t=>{t.removed=!0}),e&&yC()}function JS(){const e=performance.now();$c=null,$c=qc.length>0?requestAnimationFrame(JS):null,ng.executeFrameTasks(e)}function WF(e){const t=e-$_;$_=e;const r=1e3/60,i=Math.max(0,t-r);Ff.time=e,Ff.frameDuration=r-i;for(let n=0;n<C_.length;n++){const s=performance.now(),o=C_[n];qc.forAll(a=>{a.paused||a.removed||(n===0&&a.ticks++,a.phases[o]&&(Ff.elapsedFrameTime=performance.now()-e,Ff.deltaTime=a.ticks===0?0:t,a.phases[o]?.call(a,Ff)))}),JF[n].push(performance.now()-s)}yC(),KF.push(performance.now()-e)}const i0=new cC;function yC(){qc.forAll(e=>{e.removed&&i0.push(e)}),qc.removeUnorderedMany(i0.data,i0.length),i0.clear()}function gC(){for(;N_.length;){const e=N_.shift();e.isActive&&e.callback()}ng.willDispatch=!1}function HF(e=1,t){const r=kh(),i=()=>{Bc(t)?r.reject(bn()):e===0?r():(--e,aC(()=>i()))};return i(),r.promise}function YF(e){return HF(1,e)}async function Kme(e){await YF(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))}const JF=C_.map(e=>new lC(e)),KF=new lC("total");function ZF(e,t){for(const r of e.values())if(t(r))return!0;return!1}function lA(e,t){if(!t)return e;for(const r of t)r!=null&&e.add(r);return e}function Zme(e,t){return t!=null&&e.add(t),e}function vC(e,t){const r=new Set;return lA(r,e),lA(r,t),r}function XF(e,t){const r=new Set;for(const i of t)e.has(i)&&r.add(i);return r}function Xme(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0}function Qme(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function QF(e,t){const r=new Set(e);for(const i of t)r.delete(i);return r}function e0e(e,t){return QF(vC(e,t),XF(e,t))}let eU=0;function ey(){return++eU}let KS=class extends D1{constructor(t){super(new tU(t)),this._observer&&cA.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&cA.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},tU=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=rU}};const cA=new FinalizationRegistry(e=>{e.deref()?.destroy()});function rU(){}let gh=!1;const sg=[];function bC(e,t){let r=new KS(s),i=null,n=!1;function s(){if(!r||n)return;if(gh)return void wC(s);const a=i;r.clear(),gh=!0,n=!0,i=gl(r,e),n=!1,gh=!1,t(i,a),SC()}function o(){r&&(r.destroy(),r=null,i=null)}return n=!0,i=gl(r,e),n=!1,Ir(o)}function _C(e,t){let r=new KS(n),i=null;function n(){t(i,o)}function s(){r&&(r.destroy(),r=null),i=null}function o(){return r?(r.clear(),i=gl(r,e),i):null}return o(),Ir(s)}function i0e(e,t){let r=!1,i=!1;const n=!!t?.sync;let s=new KS(()=>{r||i||(i=!0,n?o():queueMicrotask(o))});function o(){i=!1,s&&!r&&(gh?wC(o):(s.clear(),gh=!0,r=!0,gl(s,e),r=!1,gh=!1,SC()))}function a(){s&&(s.destroy(),s=null)}return r=!0,gl(s,e),r=!1,Ir(a)}function wC(e){sg.includes(e)||sg.unshift(e)}function SC(){for(;sg.length;)sg.pop()()}var Dd;(function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"})(Dd||(Dd={}));let yp=class{constructor(){this.uid=ey(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,r,i,n,s){return this.pool.acquire(Dd.Untracked,t,r,i,n,s,DS)}static acquireTracked(t,r,i,n){return this.pool.acquire(Dd.Tracked,t,r,i,null,null,n)}notify(t,r){this.type===Dd.Untracked?this.callback.call(this.target,t,r,this.path,this.target):this.callback.call(null,t,r,void 0,void 0)}acquire(t,r,i,n,s,o,a){this.uid=ey(),this.removed=!1,this.type=t,this.oldValue=r,this.callback=i,this.getValue=n,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=ey(),this.removed=!0}};yp.pool=new NF(yp);const ty=new Ba,ea=new Set;let og;function ag(e){ea.delete(e),ea.add(e),og||(og=mC(sU))}function iU(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function nU(e){for(const t of ea.values())t.target===e&&(t.removed=!0)}function sU(){let e=10;for(;og&&e--;){og=null;const t=oU(),r=ty.acquire();for(const i of t){const n=i.uid;iU(i),n===i.uid&&i.removed&&r.push(i)}for(const i of ea)i.removed&&(r.push(i),ea.delete(i));for(const i of r)yp.pool.release(i);ty.release(r),ty.release(t),P_.forEach(i=>i())}}function oU(){const e=ty.acquire();e.length=ea.size;let t=0;for(const r of ea)e[t]=r,++t;return ea.clear(),e}const P_=new Set;function s0e(e){return P_.add(e),Ir(()=>P_.delete(e))}function aU(e,t,r){let i=D$(e,t,r,(n,s,o)=>{let a,l,c=_C(()=>lm(n,s),(f,d)=>{n.__accessor__?.lifecycle===Yi.DESTROYED||a&&a.uid!==l?i.remove():(a||(a=yp.acquireUntracked(f,o,d,n,s),l=a.uid),ag(a))});return Ir(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,ag(a)),a=null),i=c=null})});return i}function lU(e,t,r){const i=D$(e,t,r,(n,s,o)=>{let a=!1;return bC(()=>lm(n,s),(l,c)=>{n.__accessor__.lifecycle!==Yi.DESTROYED?a||(a=!0,DS(c,l)||o.call(n,l,c,s,n),a=!1):i.remove()})});return i}function cU(e,t,r,i=!1){return e.__accessor__&&e.__accessor__.lifecycle!==Yi.DESTROYED?i?lU(e,t,r):aU(e,t,r):Ir()}function uU(e,t,r){let i,n,s=_C(e,(o,a)=>{i&&i.uid!==n?s.remove():(i||(i=yp.acquireTracked(o,t,a,r),n=i.uid),ag(i))});return Ir(()=>{s.remove(),i&&(i.uid!==n||i.removed||(i.removed=!0,ag(i)),i=null),s=null})}function hU(e,t,r){let i=!1;return bC(e,(n,s)=>{i||(i=!0,r(s,n)||t(n,s),i=!1)})}function fU(e,t,r=!1,i=mD){return r?hU(e,t,i):uU(e,t,i)}function o0e(e){return ZF(ea,t=>t.oldValue===e)}var xC,EC;function dU(e){if(e==null)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const $a=Symbol("Accessor-Handles"),L_=Symbol("Accessor-Initialized");let ei=class ry{static createSubclass(t={}){if(Array.isArray(t))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:r,declaredClass:i,constructor:n}=t;delete t.declaredClass,delete t.properties,delete t.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,n&&n.apply(this,l)}}cm(o.prototype);for(const a in t){const l=t[a];o.prototype[a]=typeof l=="function"?function(...c){const f=this.inherited;let d;this.inherited=function(...p){if(s.prototype[a])return s.prototype[a].apply(this,p)};try{d=l.apply(this,c)}catch(p){throw this.inherited=f,p}return this.inherited=f,d}:t[a]}for(const a in r){const l=dU(r[a]);A(l)(o.prototype,a)}return oe(i)(o)}static freeze(t){return t instanceof ry?t.__accessor__.mutable=!1:Object.freeze(t),t}static isFrozen(t){return t instanceof ry?!t.__accessor__.mutable:Object.isFrozen(t)}constructor(...t){if(this[xC]=null,this[EC]=!1,this.constructor===ry)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const r=new MF(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:r}),t.length>0&&(r.ctorArgs=this.normalizeCtorArgs?.apply(this,t)??t[0])}postscript(){const t=this.__accessor__,r=t.ctorArgs;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[L_]=!0}initialize(){}[B$](){this[$a]=Q0(this[$a])}destroy(){this.destroyed||(nU(this),this.__accessor__.destroy(),$F()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[L_]}get destroyed(){return this.__accessor__?.lifecycle===Yi.DESTROYED||!1}commitProperty(t){Vc(this,t)}get(t){return gF(kt.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Vc(this,t)}hasOwnProperty(t){return this.__accessor__?this.__accessor__.has(t):Object.prototype.hasOwnProperty.call(this,t)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(t,r){return tg(this,t,r),this}watch(t,r,i){return cU(this,t,r,i)}addHandles(t,r){if(this.destroyed){const i=Array.isArray(t)?t:[t];for(const n of i)n.remove();return}(this[$a]??=new WS).add(t,r)}removeHandles(t){this[$a]?.remove(t)}removeAllHandles(){this[$a]?.removeAll()}removeHandlesReference(t){this[$a]?.removeReference(t)}hasHandles(t){return this[$a]?.has(t)===!0}_override(t,r){r===void 0?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_clearOverride(t){return this.__accessor__.clearOverride(t)}_overrideIfSome(t,r){r==null?this.__accessor__.clearOverride(t):this.__accessor__.override(t,r)}_isOverridden(t){return this.__accessor__.isOverridden(t)}notifyChange(t){this.__accessor__.notifyChange(t)}_get(t){return this.__accessor__.internalGet(t)}_set(t,r){return this.__accessor__.internalSet(t,r),this}};xC=$a,EC=L_;let pU=class TC{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(t){const r=new TC;return this._values.forEach((i,n)=>{t&&t.has(n)||r.set(n,ge(i.value),i.origin)}),r}get(t,r){r=this._normalizeOrigin(r);const i=this._values.get(t);return r==null||i?.origin===r?i?.value:void 0}originOf(t){return this._values.get(t)?.origin??st.USER}keys(t){t=this._normalizeOrigin(t);const r=[...this._values.keys()];return t==null?r:r.filter(i=>this._values.get(i)?.origin===t)}set(t,r,i){if((i=this._normalizeOrigin(i))===st.DEFAULTS){const n=this._values.get(t);if(n?.origin!=null&&n.origin>i)return}this._values.set(t,new mU(r,i))}delete(t,r){(r=this._normalizeOrigin(r))!=null&&this._values.get(t)?.origin!==r||this._values.delete(t)}has(t,r){return(r=this._normalizeOrigin(r))!=null?this._values.get(t)?.origin===r:this._values.has(t)}forEach(t){this._values.forEach(({value:r},i)=>t(r,i))}_normalizeOrigin(t){if(t!=null)return t===st.DEFAULTS?t:st.USER}},mU=class{constructor(t,r){this.value=t,this.origin=r}};function yU(e,t,r){t.keys().forEach(n=>{r.set(n,t.get(n),st.DEFAULTS)});const i=e.metadata;Object.keys(i).forEach(n=>{e.internalGet(n)&&r.set(n,e.internalGet(n),st.DEFAULTS)})}function gU(e,t,r){if(!e?.read||e.read.enabled===!1||!e.read.source)return!1;const i=e.read.source;if(typeof i=="string"){if(i===t||i.includes(".")&&i.indexOf(t)===0&&BT(i,r))return!0}else for(const n of i)if(n===t||n.includes(".")&&n.indexOf(t)===0&&BT(n,r))return!0;return!1}function vU(e){return e&&(!e.read||e.read.enabled!==!1&&!e.read.source)}function bU(e,t,r,i,n){let s=T_(t[r],n);vU(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=T_(t[o],n),gU(s,r,i)&&(e[o]=!0)}function _U(e,t,r,i){const n=r.metadata,s=cF(n[t],i),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(e,t,i):o;a!==void 0&&r.set(t,a)}const AC={origin:"service"};function wU(e,t,r=AC){if(!t||typeof t!="object")return;const i=yl(e),n=i.metadata,s={};for(const o of Object.getOwnPropertyNames(t))bU(s,n,o,t,r);i.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const a=T_(n[o],r).read,l=a?.source;let c;c=l&&typeof l=="string"?lm(t,l):t[o],a?.reader&&(c=a.reader.call(e,c,t,r)),c!==void 0&&i.set(o,c)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(n))s[o]||_U(e,o,i,r)}i.setDefaultOrigin("user")}function l0e(e,t,r,i=AC){const n={...i,messages:[]};r(n),n.messages?.forEach(s=>{s.type!=="warning"||e.loaded?i?.messages&&i.messages.push(s):e.loadWarnings.push(s)})}function SU(e,t,r,i,n){const s={};return t.write?.writer?.call(e,i,s,r,n),s}function MC(e,t,r,i,n,s){if(!i?.write)return!1;const o=Vc(e,r);if(!n&&i.write.overridePolicy){const a=i.write.overridePolicy.call(e,o,r,s??void 0);a!==void 0&&(n=a)}if(n||(n=i.write),!n||n.enabled===!1||n.layerContainerTypes&&s?.layerContainerType&&!n.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!n.allowNull&&!n.writerEnsuresNonNull||o===void 0)&&n.isRequired){const a=new ct("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return a&&s?.messages?s.messages.push(a):a&&!s&&kt.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===st.DEFAULTS)&&xU(e,r,s,i,o)||!n.ignoreOrigin&&s?.origin&&t.store.multipleOriginsSupported&&t.store.originOf(r)<sC(s.origin))}function xU(e,t,r,i,n){const s=i.default;if(s===void 0)return!1;if(i.defaultEquals!=null)return i.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const o=s.call(e,t,r??void 0);return C1(o,n)}return!1}return s===n}function c0e(e,t,r,i){const n=yl(e),s=n.metadata,o=tC(s[t],i);return!!o&&MC(e,n,t,o,r,i)}function EU(e,t,r){if(e&&typeof e.toJSON=="function"&&(!e.toJSON.isDefaultToJSON||!e.write))return K0(t,e.toJSON(r));const i=yl(e),n=i.metadata;for(const s in n){const o=tC(n[s],r);if(!MC(e,i,s,o,void 0,r))continue;const a=Vc(e,s),l=SU(e,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,r);Object.keys(l).length>0&&(t=K0(t,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>K0(t,l,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:s,oldOrigin:TF(i.store.originOf(s)),newOrigin:r.origin}))}return t}const IC=e=>{let t=class extends e{constructor(...r){super(...r);const i=yl(this),n=i.store,s=new pU;i.store=s,yU(i,n,s)}read(r,i){wU(this,r,i)}write(r,i){return EU(this,r??{},i)}toJSON(r){return this.write({},r)}static fromJSON(r,i){return TU.call(this,r,i)}};return t=b([oe("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function TU(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}function k_(e){return e&&typeof e=="object"&&"toJSON"in e&&typeof e.toJSON=="function"}let tt=class extends IC(ei){};tt=b([oe("esri.core.JSONSupport")],tt);function Sr(e,t,r){let i,n;return t===void 0||Array.isArray(t)?(n=e,r=t,i=[void 0]):(n=t,i=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;i.forEach(l=>{const c=V$(s,l,n);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],r&&(c.read.source=(c.read.source||[]).concat(r))})}}let sa=class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=AU(t),this.apiValues=uA(this._apiToJSON),this.jsonValues=uA(this._jsonToAPI),this.read=i=>this.fromJSON(i),this.write=(i,n,s)=>{const o=this.toJSON(i);o!==void 0&&gf(s,o,n)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function AU(e){const t={};for(const r in e)t[e[r]]=r;return t}function uA(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}function Os(){return function(e,t){return new sa(e,{ignoreUnknown:!0,...t})}}let ZS=class{constructor(t,r,i,n,s,o){this.semiMajorAxis=t,this.flattening=r,this.outerAtmosphereRimWidth=i,this.atmosphereHeight=n,this.scaleHeight=s;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Es=new ZS(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),gp=new ZS(3396190,1/169.8944472236118,23e4,6e4,.111),U1=new ZS(1737400,0,0,0,0),MU=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,IU={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function hA(e){const t=e?.match(MU);if(!t)return null;const[,r,i,n]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:f}=IU;if(i)if(s=r,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function OU(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function OC(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,i=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):i.test(e)&&(e=e.replace(i,"https://qaext.arcgis.com")),e}function $U(e){const t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r.buffer}function CU(e){const t=new Uint8Array(e);let r="";for(let i=0;i<t.length;i++)r+=String.fromCharCode(t[i]);return btoa(r)}const NU=()=>kt.getLogger("esri.core.urlUtils"),bf=$t.request,fA="esri/config: esriConfig.request.proxyUrl is not set.",$C=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,CC=/^\s*http:/i,PU=/^\s*https:/i,LU=/^\s*file:/i,kU=/:\d+$/,RU=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,DU=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),FU=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let vh=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let r=this.uri.match(DU);this.scheme=r[2]||(r[1]?"":null),this.authority=r[4]||(r[3]?"":null),this.path=r[5],this.query=r[7]||(r[6]?"":null),this.fragment=r[9]||(r[8]?"":null),this.authority!=null&&(r=this.authority.match(FU),this.user=r[3]||null,this.password=r[4]||null,this.host=r[6]||r[7],this.port=r[9]||null)}toString(){return this.uri}};const n0={},UU=new vh($t.applicationUrl);let vi=UU;const jU=GU();let XS=jU;const QS=()=>vi,p0e=()=>XS;function GU(){const e=vi.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${`${vi.scheme}://${vi.host}${vi.port!=null?`:${vi.port}`:""}`}${t}`}function ua(e){if(!e)return null;const t={path:null,query:null},r=new vh(e),i=e.indexOf("?");return r.query===null?t.path=e:(t.path=e.slice(0,i),t.query=ex(r.query)),r.fragment&&(t.hash=r.fragment,r.query===null&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function ex(e){const t=e.split("&"),r={};for(const i of t){if(!i)continue;const n=i.indexOf("=");let s,o;n<0?(s=decodeURIComponent(i),o=""):(s=decodeURIComponent(i.slice(0,n)),o=decodeURIComponent(i.slice(n+1)));let a=r[s];typeof a=="string"&&(a=r[s]=[a]),Array.isArray(a)?a.push(o):r[s]=o}return r}function vp(e,t){return e?Object.keys(e).map(r=>{const i=e[r];if(i==null)return"";const n=encodeURIComponent(r)+"=",s=t?.[r];return s?n+encodeURIComponent(s(i)):Array.isArray(i)?i.map(o=>k_(o)?n+encodeURIComponent(JSON.stringify(o)):n+encodeURIComponent(o)).join("&"):k_(i)?n+encodeURIComponent(JSON.stringify(i)):n+encodeURIComponent(i)}).filter(r=>r).join("&"):""}function NC(e=!1){let t,r=bf.proxyUrl;if(typeof e=="string"){t=HU(e);const i=j1(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw NU().warn(fA),new ct("urlUtils:proxy-not-set",fA);return t&&R_()&&(r=ox(r)),ua(r)}function m0e(e,t=!1){const r=j1(e);let i,n;if(r){const s=tx(r.proxyUrl);i=s.path,n=s.query?ex(s.query):null}else if(t){const s=NC(e);i=s.path,n=s.query}if(i){const s=ua(e);e=i+"?"+s.path;const o=vp({...n,...s.query});o&&(e=`${e}?${o}`)}return e}const Uf={path:"",query:""};function tx(e){const t=e.indexOf("?");return t!==-1?(Uf.path=e.slice(0,t),Uf.query=e.slice(t+1)):(Uf.path=e,Uf.query=null),Uf}function PC(e){return e=(e=cg(e=XU(e=tx(e).path),!0)).toLowerCase()}function VU(e){const t={proxyUrl:e.proxyUrl,urlPrefix:PC(e.urlPrefix)},r=bf.proxyRules,i=t.urlPrefix;let n=r.length;for(let s=0;s<r.length;s++){const o=r[s].urlPrefix;if(i.indexOf(o)===0){if(i.length===o.length)return-1;n=s;break}o.indexOf(i)===0&&(n=s+1)}return r.splice(n,0,t),n}function j1(e){const t=bf.proxyRules,r=PC(e);for(let i=0;i<t.length;i++)if(r.indexOf(t[i].urlPrefix)===0)return t[i]}function y0e(e,t){if(!e||!t)return!1;e=lg(e),t=lg(t);const r=hA(e),i=hA(t);return r!=null&&i!=null?r.portalHostname===i.portalHostname:r==null&&i==null&&Rh(e,t,!0)}function BU(e,t){return e=lg(e),t=lg(t),cg(e)===cg(t)}function lg(e){const t=(e=ll(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function dA(e,t=bf.interceptors){const r=i=>i==null||i instanceof RegExp&&i.test(e)||typeof i=="string"&&e.startsWith(i);if(t){for(const i of t)if(Array.isArray(i.urls)){if(i.urls.some(r))return i}else if(r(i.urls))return i}return null}function Rh(e,t,r=!1){if(!e||!t)return!1;const i=F_(e),n=F_(t);return!(!r&&i.scheme!==n.scheme)&&i.host!=null&&n.host!=null&&i.host.toLowerCase()===n.host.toLowerCase()&&i.port===n.port}function rx(e){if(typeof e=="string"){if(!vs(e))return!0;e=F_(e)}if(Rh(e,vi))return!0;const t=bf.trustedServers||[];for(let r=0;r<t.length;r++){const i=zU(t[r]);for(let n=0;n<i.length;n++)if(Rh(e,i[n]))return!0}return!1}function zU(e){return n0[e]||(sx(e)||El(e)?n0[e]=[new vh(fm(e))]:n0[e]=[new vh(`http://${e}`),new vh(`https://${e}`)]),n0[e]}function fm(e,t=XS,r){return El(e)?r?.preserveProtocolRelative?e:vi.scheme==="http"&&vi.authority===gs(e).slice(2)?`http:${e}`:`https:${e}`:sx(e)?e:ix(e[0]==="/"?ZU(t):t,e)}function LC(e,t=XS,r){if(e==null||!vs(e))return e;const i=ll(e),n=i.toLowerCase(),s=ll(t).toLowerCase().replace(/\/+$/,""),o=r?ll(r).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return e;const a=(d,p,y)=>(y=d.indexOf(p,y))===-1?d.length:y;let l=a(n,"/",n.indexOf("//")+2),c=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==n.length);)l=a(n,"/",l+1);if(c===-1||o&&c<o.length)return e;e=i.slice(c);const f=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let d=0;d<f;d++)e=`../${e}`;else e=`./${e}`;return e}function ll(e){return e=tj(e=ej(e=QU(e=fm(e=e.trim()))))}function ix(...e){const t=e.filter(uD);if(!t?.length)return;const r=[];if(vs(t[0])){const n=t[0],s=n.indexOf("//");s!==-1&&(r.push(n.slice(0,s+1)),JU(t[0])&&(r[0]+="/"),t[0]=n.slice(s+2))}else t[0][0]==="/"&&r.push("");const i=t.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<i.length;n++){const s=i[n];s===".."&&r.length>0&&r[r.length-1]!==".."?r.pop():(!s&&n===i.length-1||s&&(s!=="."||r.length===0))&&r.push(s)}return r.join("/")}function gs(e,t=!1){if(e==null||nx(e)||_f(e))return null;let r=e.indexOf("://");if(r===-1&&El(e))r=2;else{if(r===-1)return null;r+=3}const i=e.indexOf("/",r);return i!==-1&&(e=e.slice(0,i)),t&&(e=cg(e,!0)),e}function vs(e){return El(e)||sx(e)}function nx(e){return e!=null&&e.slice(0,5)==="blob:"}function _f(e){return e!=null&&e.slice(0,5)==="data:"}function qU(e){const t=bp(e);return t?.isBase64?$U(t.data):null}function g0e(e){return CU(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const WU=/^data:(.*?)(;base64)?,(.*)$/;function bp(e){const t=e.match(WU);if(!t)return null;const[,r,i,n]=t;return{mediaType:r,isBase64:!!i,data:n}}function kC(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}async function v0e(e){return(await fetch(e)).blob()}function b0e(e){const t=qU(e);if(!t)return null;const r=bp(e);return new Blob([t],{type:r.mediaType})}function El(e){return e!=null&&e[0]==="/"&&e[1]==="/"}function sx(e){return e!=null&&$C.test(e)}function HU(e){return e!=null&&PU.test(e)||vi.scheme==="https"&&El(e)}function YU(e){return e!=null&&CC.test(e)||vi.scheme==="http"&&El(e)}function JU(e){return e!=null&&LU.test(e)}function ox(e){return El(e)?`https:${e}`:e.replace(CC,"https:")}function KU(){return vi.scheme==="http"}function R_(){return vi.scheme==="https"}function cg(e,t=!1){return El(e)?e.slice(2):(e=e.replace($C,""),t&&e.length>1&&e[0]==="/"&&e[1]==="/"&&(e=e.slice(2)),e)}function ZU(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return r===-1?e:e.slice(0,r)}function _0e(e){let t=0;if(vs(e)){const i=e.indexOf("//");i!==-1&&(t=i+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function w0e(e,t){if(!e)return"";const r=ua(e).path.replace(/\/+$/,""),i=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return i;const n=new RegExp(`\\.(${t.join("|")})$`,"i");return i.replace(n,"")}function XU(e){return e.endsWith("/")?e:`${e}/`}function S0e(e){return e.replace(/\/+$/,"")}function QU(e){if(/^https?:\/\//i.test(e)){const t=tx(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function ej(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function tj(e){const t=bf.httpsDomains;if(!YU(e))return e;const r=e.indexOf("/",7);let i;if(i=r===-1?e:e.slice(0,r),i=i.toLowerCase().slice(7),kU.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return KU()&&i===vi.authority&&!RU.test(e)||(R_()&&i===vi.authority||t&&t.some(n=>i===n||i.endsWith(`.${n}`))||R_()&&!j1(e))&&(e=ox(e)),e}function D_(e,t,r){if(!(t&&r&&e&&vs(e)))return e;const i=e.indexOf("//"),n=e.indexOf("/",i+2),s=e.indexOf(":",i+2),o=Math.min(n<0?e.length:n,s<0?e.length:s);return e.slice(i+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,i+2)}${r}${e.slice(o)}`}function F_(e){return typeof e=="string"?new vh(fm(e)):(e.scheme||(e.scheme=vi.scheme),e)}function x0e(e){return ij.test(e)}function E0e(e,t){const r=ua(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function rj(e,t,r){const i=ua(e),n=i.query||{};return n[t]=String(r),`${i.path}?${vp(n)}`}function cb(e,t){if(!t)return e;const r=ua(e),i=r.query||{};for(const[s,o]of Object.entries(t))o!=null&&(i[s]=o);const n=vp(i);return n?`${r.path}?${n}`:r.path}function T0e(e){if(e==null)return null;const t=e.match(RC);return t?t[2]:null}function pA(e){if(e==null)return null;const t=e.match(RC);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function A0e(e){return typeof e=="string"?bp(e)??{data:e}:new Promise((t,r)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(bp(i.result)),i.onerror=n=>r(n)})}const RC=/([^.]*)\.([^/]*)$/,ij=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const nj="4.31";let Xt,sj=nj;sj="4.31.6";function M0e(e){Xt=e}function I0e(e){const t=Xt?.findCredential(e);return t?.token?rj(e,"token",t.token):e}he("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),he("host-webworker");const oj=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function aj(e){const t=gs(e,!0);return!!t&&t.endsWith(".arcgis.com")&&!oj.has(t)&&!e.endsWith("/sharing/rest/generateToken")}function DC(e,t){return!(!$t.apiKey||!aj(e))}function lj(e,t,r=!1,i){return new Promise((n,s)=>{if(Bc(i))return void s(mA());let o=()=>{c(),s(new Error(`Unable to load ${t}`))},a=()=>{const f=e;c(),n(f)},l=()=>{if(!e)return;const f=e;c(),f.src="",s(mA())};const c=()=>{he("esri-image-decode")||(e.removeEventListener("error",o),e.removeEventListener("load",a)),o=null,a=null,e=null,i?.removeEventListener("abort",l),l=null,r&&URL.revokeObjectURL(t)};i?.addEventListener("abort",l),he("esri-image-decode")?e.decode().then(a,o):(e.addEventListener("error",o),e.addEventListener("load",a))})}function mA(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const FC="Timeout exceeded";function cj(){return new Error(FC)}function O0e(e){return typeof e=="object"&&!!e&&"message"in e&&e.message===FC}function uj(e){$t.request.crossOriginNoCorsDomains||($t.request.crossOriginNoCorsDomains={});const t=$t.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[gs(r)??""]=0:(t[gs("http://"+r)??""]=0,t[gs("https://"+r)??""]=0)}function hj(e){const t=$t.request.crossOriginNoCorsDomains;if(t){let r=gs(e);if(r)return r=r.toLowerCase(),!Rh(r,QS())&&t[r]<Date.now()-36e5}return!1}async function fj(e){const t=ua(e);e=t.path,t.query?.f==="json"&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const r=$t.request.crossOriginNoCorsDomains,i=gs(e);r&&i&&(r[i.toLowerCase()]=Date.now())}async function sr(e,t){e instanceof URL&&(e=e.toString()),t?.query instanceof URLSearchParams&&(t.query=ex(t.query.toString().replaceAll("+"," ")));const r=_f(e),i=nx(e);i||r||(e=ll(e));const n={url:e,requestOptions:{...t}},s=p=>({data:p,getAllHeaders:Dh,getHeader:Dh,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),o=dA(e,Fn.internalInterceptors);if(o){const p=await gA(o,n);if(p!=null)return s(p)}let a=dA(e);if(a){const p=await gA(a,n);if(p!=null)return s(p);a.after||a.error||(a=null)}if(e=n.url,(t=n.requestOptions).responseType==="image"&&(he("host-webworker")||he("host-node")))throw oo("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(t.method==="head"){if(t.body)throw oo("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(r||i)throw oo("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await gj(),ug)return ug.execute(e,t);const l=new AbortController,c=zc(t,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:Fn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=await wj(f).finally(()=>c?.remove());return a?.after?.(d),d}let ug;const Fn=$t.request,UC="FormData"in globalThis,dj=new Set([499,498,403,401]),pj=new Set(["COM_0056","COM_0057","SB_0008"]),mj=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Dh=()=>null,hg=Symbol();function yj(e){const t=gs(e);t&&!sr._corsServers.includes(t)&&sr._corsServers.push(t)}function yA(e){const t=gs(e);return!t||t.endsWith(".arcgis.com")||sr._corsServers.includes(t)||rx(t)}function oo(e,t,r,i){let n="Error";const s={url:r.url,requestOptions:r.requestOptions,getAllHeaders:Dh,getHeader:Dh,ssl:!1};if(t instanceof ct)return t.details?(t.details=ge(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const o=i&&(()=>Array.from(i.headers)),a=i&&(f=>i.headers.get(f)),l=i?.status,c=t.message;c&&(n=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(t.httpCode!=null?t.httpCode:t.code)||l||0,s.subCode=t.subcode,s.messageCode=t.messageCode,typeof t.details=="string"?s.messages=[t.details]:s.messages=t.details,s.raw=hg in t?t[hg]:t}return hm(t)?bn():new ct(e,n,s)}async function gj(){he("host-webworker")&&!ug&&(ug=await Ee(()=>import("./request-Ba7Okxcg.js"),__vite__mapDeps([0,1]),import.meta.url))}async function U_(){Xt||await Ee(()=>import("./IdentityManager--SFZtN0Z.js"),__vite__mapDeps([2,1,3,4,5]),import.meta.url)}async function vj(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,n=r.body;let s=null,o=null;if(UC&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(o=n),e.fetchOptions={cache:r.cacheBust?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:r.method==="head"?"HEAD":"GET",mode:"cors",priority:Fn.priority,redirect:"follow",signal:i},(s||o)&&(e.fetchOptions.body=s||o),r.authMode==="anonymous"&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||s?.get("token")),!e.hasToken&&DC(t)&&(r.query||(r.query={}),r.query.token=$t.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!jC(t)&&!Bc(i)){let a;r.authMode==="immediate"?(await U_(),a=await Xt.getCredential(t,{signal:i}),e.credential=a):r.authMode==="no-prompt"?(await U_(),a=await Xt.getCredential(t,{prompt:!1,signal:i}).catch(()=>{}),e.credential=a):Xt&&(a=Xt.findCredential(t)),a&&(e.credentialToken=a.token,e.useSSL=!!a.ssl)}}function jC(e){return mj.some(t=>t.test(e))}async function bj(e){let t=e.params.url;const r=e.params.requestOptions,i=e.fetchOptions??{},n=nx(t)||_f(t),s=r.responseType||"json",o=n?0:r.timeout!=null?r.timeout:Fn.timeout;let a=!1;if(!n){e.useSSL&&(t=ox(t));let p={...r.query};e.credentialToken&&(p.token=e.credentialToken);let y=vp(p);he("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=t.length+1+y.length;let _;a=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||g>Fn.maxUrlLength;const w=r.useProxy||!!j1(t);if(w){const x=NC(t);_=x.path,!a&&_.length+1+g>Fn.maxUrlLength&&(a=!0),x.query&&(p={...x.query,...p})}if(i.method==="HEAD"&&(a||w)){if(a)throw g>Fn.maxUrlLength?oo("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params):oo("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params);if(w)throw oo("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}a?(i.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?t=cb(t,p):(i.body=vp(p),i.headers||(i.headers={}),i.headers["Content-Type"]="application/x-www-form-urlencoded")):t=cb(t,p),w&&(e.useProxy=!0,t=`${_}?${t}`),p.token&&UC&&i.body instanceof FormData&&!OU(t)&&i.body.set("token",p.token),r.hasOwnProperty("withCredentials")?e.withCredentials=r.withCredentials:Rh(t,QS())||(rx(t)||Xt&&Xt.findServerInfo(t)?.webTierAuth)&&(e.withCredentials=!0),e.withCredentials&&(i.credentials="include",hj(t)&&await fj(a?cb(t,p):t))}let l,c,f=0,d=!1;o>0&&(f=setTimeout(()=>{d=!0,e.controller.abort()},o));try{if(r.responseType==="native-request-init")c=i,c.url=t,r.signal?c.signal=r.signal:delete c.signal;else if(r.responseType!=="image"||i.cache!=="default"||i.method!=="GET"||a||_j(r.headers)||!n&&!e.useProxy&&Fn.proxyUrl&&!yA(t)){if(sr._beforeFetch&&await sr._beforeFetch(t,i),l=await fetch(t,i),sr._afterFetch&&await sr._afterFetch(l),e.useProxy||yj(t),r.responseType==="native")c=l;else if(i.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(f&&(clearTimeout(f),f=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=vA(c,"application/xml");break;case"document":c=vA(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const p=l.headers.get("Content-Type");if(p&&/application\/json|text\/plain/i.test(p)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await bA(URL.createObjectURL(c),e,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await bA(t,e)}catch(p){if(p.name==="AbortError")throw d?cj():bn("Request canceled");if(!(!l&&p instanceof TypeError&&Fn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||e.useProxy||yA(t))throw p;e.redoRequest=!0,VU({proxyUrl:Fn.proxyUrl,urlPrefix:gs(t)??""})}finally{f&&clearTimeout(f)}return[l,c]}async function gA(e,t){if(e.responseData!=null)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(n){r=oo("request:interceptor",n,t)}if((i instanceof Error||i instanceof ct)&&(r=oo("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function _j(e){if(e){for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0}return!1}function vA(e,t){let r;try{r=new DOMParser().parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function wj(e){let t,r;await vj(e);try{do[t,r]=await bj(e);while(!await Sj(e,t,r))}catch(s){const o=oo("request:server",s,e.params,t);throw o.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(o),o}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!rx(i)){const s=gs(i,!0);s&&Fn.trustedServers.push(s)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&uj(r.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&Xt){let o=Xt.findServerInfo(n.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Xt.findCredential(o,n.userId);a&&Xt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:r,getAllHeaders:t?()=>Array.from(t.headers):Dh,getHeader:t?s=>t.headers.get(s):Dh,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function Sj(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||i.responseType==="native"||i.responseType==="native-request-init")return!0;let n,s;if(r&&(r.error&&typeof r.error=="object"?n=r.error:r.status==="error"&&Array.isArray(r.messages)&&(n={...r},n[hg]=r,n.details=r.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[hg]=r,n;let o,a=null;n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o?.toUpperCase());const l=i.authMode;if(s===403&&(a===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&dj.has(s)&&!jC(e.params.url)&&(s!==403||(!o||!pj.has(o))&&(a==null||a===2&&e.credentialToken))){await U_();try{const c=await Xt.getCredential(e.params.url,{error:oo("request:server",n,e.params),prompt:l!=="no-prompt",signal:e.controller.signal,token:e.credentialToken});return e.credential=c,e.credentialToken=c.token,e.useSSL=e.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return e.credential=void 0,e.credentialToken=void 0,!1;n=c}}if(n)throw n;return!0}function bA(e,t,r=!1){const i=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Fn.priority,n.src=e,lj(n,e,r,i)}sr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],sr._beforeFetch=void 0,sr._afterFetch=void 0;function GC(e){if(!$t.assetsPath)throw kt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ct("assets:path-not-set","config.assetsPath is not set");return ix($t.assetsPath,e)}let ub,W=null;function xj(){return!!W}function Ej(){return!!he("esri-wasm")}function Tj(){return ub||(ub=Ee(()=>import("./pe-wasm-Bm91CMb3.js"),__vite__mapDeps([6,7]),import.meta.url).then(e=>e.p).then(({default:e})=>e({locateFile:t=>GC(`esri/geometry/support/${t}`)})).then(e=>{zC(e)}),ub)}var j_,Zt;(function(e){function t(s,o,a){W.ensureCache.prepare();const l=gc(a),c=a===l,f=W.ensureFloat64(l),d=W._pe_geog_to_proj(W.getPointer(s),o,f);return d&&el(a,o,f,c),d}function r(s,o,a,l){switch(l){case Zt.PE_TRANSFORM_P_TO_G:return i(s,o,a);case Zt.PE_TRANSFORM_G_TO_P:return t(s,o,a)}return 0}function i(s,o,a){return n(s,o,a,0)}function n(s,o,a,l){W.ensureCache.prepare();const c=gc(a),f=a===c,d=W.ensureFloat64(c),p=W._pe_proj_to_geog_center(W.getPointer(s),o,d,l);return p&&el(a,o,d,f),p}e.geogToProj=t,e.projGeog=r,e.projToGeog=i,e.projToGeogCenter=n})(j_||(j_={})),function(e){function t(){e.PE_BUFFER_MAX=W.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=W.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=W.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=W.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=W.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=W.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=W.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=W.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=W.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=W.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=W.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=W.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=W.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=W.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=W.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=W.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=W.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=W.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=W.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=W.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_STR_FMT_WKT=W.PeDefs.prototype.PE_STR_FMT_WKT,e.PE_STR_FMT_WKT2=W.PeDefs.prototype.PE_STR_FMT_WKT2,e.PE_PARM_X0=W.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=W.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=W.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=W.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=W.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=W.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=W.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=W.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=W.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=W.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(Zt||(Zt={}));let VC=null;var G_;(function(e){const t={},r={},i=y=>{const g=y.getType();switch(g){case Zt.PE_TYPE_GEOGCS:y=W.castObject(y,W.PeGeogcs);break;case Zt.PE_TYPE_PROJCS:y=W.castObject(y,W.PeProjcs);break;case Zt.PE_TYPE_GEOGTRAN:y=W.castObject(y,W.PeGeogtran);break;default:g&Zt.PE_TYPE_UNIT&&(y=W.castObject(y,W.PeUnit))}return y};function n(){W.PeFactory.prototype.initialize(null)}function s(y){return o(Zt.PE_TYPE_COORDSYS,y)}function o(y,g){let _=null,w=t[y];if(w||(w={},t[y]=w),w.hasOwnProperty(String(g))&&(_=w[g],W.compare(_,W.NULL)&&(_=null)),!_){const x=W.PeFactory.prototype.factoryByType(y,g);W.compare(x,W.NULL)||(_=i(x),w[g]=_)}return _}function a(y,g){let _=null,w=r[y];if(w||(w={},r[y]=w),w.hasOwnProperty(g)&&(_=w[g],W.compare(_,W.NULL)&&(_=null)),!_){const x=W.PeFactory.prototype.fromString(y,g);W.compare(x,W.NULL)||(_=i(x),w[g]=_)}return _}function l(y){return o(Zt.PE_TYPE_GEOGCS,y)}function c(y){return o(Zt.PE_TYPE_GEOGTRAN,y)}function f(y){return W.PeFactory.prototype.getCode(y)}function d(y){return o(Zt.PE_TYPE_PROJCS,y)}function p(y){return o(Zt.PE_TYPE_UNIT,y)}e.initialize=n,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=c,e.getCode=f,e.projcs=d,e.unit=p})(G_||(G_={}));let BC=null;var fg,V_,B_,z_,q_,W_,dg,H_,pg,mg,Y_;function zC(e){function t(s,o,a){s[o]=a(s[o])}W=e,Zt.init(),fg.init(),dg.init(),pg.init(),mg.init(),VC=class extends W.PeDouble{constructor(s=NaN){super(s)}destroy(){W.destroy(this)}[Symbol.dispose](){this.destroy()}},BC=class extends W.PeGCSExtent{destroy(){W.destroy(this)}[Symbol.dispose](){this.destroy()}};const r=[W.PeAngunit,W.PeDatum,W.PeGeogcs,W.PeGeogtran,W.PeObject,W.PeParameter,W.PePrimem,W.PeProjcs,W.PeSpheroid,W.PeUnit];for(const s of r)t(s.prototype,"getName",o=>function(){return o.call(this,new Array(Zt.PE_NAME_MAX))});for(const s of[W.PeGeogtran,W.PeProjcs])t(s.prototype,"getParameters",o=>function(){const a=new Array(Zt.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const f=W.getValue(l,"*");a[c]=f?W.wrapPointer(f,W.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});t(W.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return el(l,a,s.call(this),o),l}),t(W.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=W._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!W.compare(l,W.NULL)){a=[l];const c=this.getSteps();if(c>1){const f=W.getPointer(l);for(let d=1;d<c;d++)a.push(W.wrapPointer(f+o*d,W.PeGTlistExtendedGTs))}}return a}});const i=W._pe_getPeHorizonSize(),n=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!W.compare(l,W.NULL)){a=[l];const c=l.getNump();if(c>1){const f=W.getPointer(l);for(let d=1;d<c;d++)a.push(W.wrapPointer(f+i*d,W.PeHorizon))}}return o.set(s,a),a};t(W.PeProjcs.prototype,"horizonGcsGenerate",n),t(W.PeProjcs.prototype,"horizonPcsGenerate",n),W.PeObject.prototype.toString=function(s=Zt.PE_STR_OPTS_NONE){W.ensureCache.prepare();const o=W.getPointer(this),a=W.ensureInt8(new Array(Zt.PE_BUFFER_MAX));return W.UTF8ToString(W._pe_object_to_string_ext(o,s,a))},W.PeGeogcs.prototype.destroy=function(){this.Delete(),ls(this),this.ptr=0},W.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},W.PeProjcs.prototype.destroy=function(){this.Delete(),ls(this),this.ptr=0},W.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function ls(e){if(!e)return;const t=W.getClass(e);if(!t)return;const r=W.getCache(t);if(!r)return;const i=W.getPointer(e);i&&delete r[i]}function s0(e,t){const r=[],i=new Array(t);for(let n=0;n<e;n++)r.push(W.ensureInt8(i));return r}function gc(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function el(e,t,r,i=!1){if(i)for(let n=0;n<2*t;n++)e[n]=W.getValue(r+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=e.length===0;for(let s=0;s<t;s++)n&&(e[s]=new Array(2)),e[s][0]=W.getValue(r,"double"),e[s][1]=W.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=W.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=W._pe_getPeGTlistExtendedEntrySize()}function i(n,s,o,a,l,c){let f=null;const d=new W.PeInteger(c);try{const p=W.PeGTlistExtended.prototype.getGTlist(n,s,o,a,l,d);if((c=d.val)&&(f=[p],c>1)){const y=W.getPointer(p);for(let g=1;g<c;g++)f.push(W.wrapPointer(y+t*g,W.PeGTlistExtendedEntry))}}finally{W.destroy(d)}return f}e.init=r,e.getGTlist=i})(fg||(fg={})),function(e){function t(r){if(r?.length){for(const i of r)ls(i),i.getEntries().forEach(n=>{ls(n);const s=n.getGeogtran();ls(s),s.getParameters().forEach(ls),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{ls(o);const a=o.getDatum();ls(a),ls(a.getSpheroid()),ls(o.getPrimem()),ls(o.getUnit())})});W.PeGTlistExtendedEntry.prototype.Delete(r[0])}}e.destroy=t}(V_||(V_={})),function(e){function t(r,i,n,s,o){W.ensureCache.prepare();const a=gc(n),l=n===a,c=W.ensureFloat64(a);let f=0;s&&(f=W.ensureFloat64(s));const d=W._pe_geog_to_geog(W.getPointer(r),i,c,f,o);return d&&el(n,i,c,l),d}e.geogToGeog=t}(B_||(B_={})),function(e){function t(s,o,a,l,c,f,d,p){W.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,f,d,p)}function r(s,o,a,l,c,f,d,p,y){W.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,f,d,p,y)}function i(s,o,a,l,c,f,d,p,y,g){W.PeLineType.prototype.geodetic_distance(s,o,a,l,c,f,d,p,y,g)}function n(s,o,a,l,c,f,d,p,y){W.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,f,d,p,y)}e.geodesicCoordinate=t,e.geodeticCoordinate=r,e.geodeticDistance=i,e.greatEllipticDistance=n}(z_||(z_={})),function(e){function t(o,a){return W.PeMath.prototype.phi_to_eta(o,a)}function r(o,a){return W.PeMath.prototype.eta_to_phi(o,a)}function i(o,a){return W.PeMath.prototype.phi_to_phig(o,a)}function n(o,a,l){return W.PeMath.prototype.q(o,a,l)}function s(o,a){return W.PeMath.prototype.q90(o,a)}e.phiToEta=t,e.etaToPhi=r,e.phiToPhig=i,e.q=n,e.q90=s}(q_||(q_={})),function(e){const t=(c,f,d,p,y,g)=>{let _,w;switch(W.ensureCache.prepare(),c){case"dd":_=W._pe_geog_to_dd,w=Zt.PE_DD_MAX;break;case"ddm":_=W._pe_geog_to_ddm,w=Zt.PE_DDM_MAX;break;case"dms":_=W._pe_geog_to_dms,w=Zt.PE_DMS_MAX}let x=0;f&&(x=W.getPointer(f));const T=gc(p),S=W.ensureFloat64(T),v=s0(d,w),M=_(x,d,S,y,W.ensureInt32(v));if(M)for(let O=0;O<d;O++)g[O]=W.UTF8ToString(v[O]);return M},r=(c,f,d,p,y)=>{let g;switch(W.ensureCache.prepare(),c){case"dd":g=W._pe_dd_to_geog;break;case"ddm":g=W._pe_ddm_to_geog;break;case"dms":g=W._pe_dms_to_geog}let _=0;f&&(_=W.getPointer(f));const w=p.map(v=>W.ensureString(v)),x=W.ensureInt32(w),T=W.ensureFloat64(new Array(2*d)),S=g(_,d,x,T);return S&&el(y,d,T),S};function i(c,f,d,p,y){return t("dms",c,f,d,p,y)}function n(c,f,d,p){return r("dms",c,f,d,p)}function s(c,f,d,p,y){return t("ddm",c,f,d,p,y)}function o(c,f,d,p){return r("ddm",c,f,d,p)}function a(c,f,d,p,y){return t("dd",c,f,d,p,y)}function l(c,f,d,p){return r("dd",c,f,d,p)}e.geogToDms=i,e.dmsToGeog=n,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(W_||(W_={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=W.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=W.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=W.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=W.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=W.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(n,s,o,a,l,c,f){W.ensureCache.prepare();let d=0;n&&(d=W.getPointer(n));const p=gc(o),y=W.ensureFloat64(p),g=s0(s,Zt.PE_MGRS_MAX),_=W.ensureInt32(g),w=W._pe_geog_to_mgrs_extended(d,s,y,a,l,c,_);if(w)for(let x=0;x<s;x++)f[x]=W.UTF8ToString(g[x]);return w}function i(n,s,o,a,l){W.ensureCache.prepare();let c=0;n&&(c=W.getPointer(n));const f=o.map(g=>W.ensureString(g)),d=W.ensureInt32(f),p=W.ensureFloat64(new Array(2*s)),y=W._pe_mgrs_to_geog_extended(c,s,d,a,p);return y&&el(l,s,p),y}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=i}(dg||(dg={})),function(e){function t(i,n,s,o,a,l,c){W.ensureCache.prepare();let f=0;i&&(f=W.getPointer(i));const d=gc(s),p=W.ensureFloat64(d),y=s0(n,Zt.PE_MGRS_MAX),g=W.ensureInt32(y),_=W._pe_geog_to_usng(f,n,p,o,a,l,g);if(_)for(let w=0;w<n;w++)c[w]=W.UTF8ToString(y[w]);return _}function r(i,n,s,o){W.ensureCache.prepare();let a=0;i&&(a=W.getPointer(i));const l=s.map(p=>W.ensureString(p)),c=W.ensureInt32(l),f=W.ensureFloat64(new Array(2*n)),d=W._pe_usng_to_geog(a,n,c,f);return d&&el(o,n,f),d}e.geogToUsng=t,e.usngToGeog=r}(H_||(H_={})),function(e){function t(){e.PE_UTM_OPTS_NONE=W.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=W.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=W.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(n,s,o,a,l){W.ensureCache.prepare();let c=0;n&&(c=W.getPointer(n));const f=gc(o),d=W.ensureFloat64(f),p=s0(s,Zt.PE_UTM_MAX),y=W.ensureInt32(p),g=W._pe_geog_to_utm(c,s,d,a,y);if(g)for(let _=0;_<s;_++)l[_]=W.UTF8ToString(p[_]);return g}function i(n,s,o,a,l){W.ensureCache.prepare();let c=0;n&&(c=W.getPointer(n));const f=o.map(g=>W.ensureString(g)),d=W.ensureInt32(f),p=W.ensureFloat64(new Array(2*s)),y=W._pe_utm_to_geog(c,s,d,a,p);return y&&el(l,s,p),y}e.init=t,e.geogToUtm=r,e.utmToGeog=i}(pg||(pg={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=W.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=W.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=W.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=W.PePCSInfo.prototype.PE_POLE_POINT}function i(n,s=e.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return t.has(n)&&(a=t.get(n),a[s]&&(o=a[s])),o||(o=W.PePCSInfo.prototype.generate(n,s),a||(a=[],t.set(n,a)),a[s]=o),o}e.init=r,e.generate=i}(mg||(mg={})),function(e){function t(){return W.PeVersion.prototype.version_string()}e.versionString=t}(Y_||(Y_={}));const $0e=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return j_},get PeDefs(){return Zt},get PeDouble(){return VC},get PeFactory(){return G_},get PeGCSExtent(){return BC},get PeGTTransformations(){return B_},get PeGTlistExtended(){return fg},get PeGTlistExtendedEntry(){return V_},get PeLineType(){return z_},get PeMath(){return q_},get PeNotationDms(){return W_},get PeNotationMgrs(){return dg},get PeNotationUsng(){return H_},get PeNotationUtm(){return pg},get PePCSInfo(){return mg},get PeVersion(){return Y_},_init:zC,get _pe(){return W},isLoaded:xj,isSupported:Ej,load:Tj},Symbol.toStringTag,{value:"Module"}));var Fh;(function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"})(Fh||(Fh={}));let u;const C={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(u=2e3;u<=2045;u++)C[u]=0;for(u=2056;u<=2065;u++)C[u]=0;for(u=2067;u<=2135;u++)C[u]=0;for(u=2137;u<=2154;u++)C[u]=0;for(u=2161;u<=2170;u++)C[u]=0;for(u=2172;u<=2193;u++)C[u]=0;for(u=2195;u<=2198;u++)C[u]=0;for(u=2200;u<=2203;u++)C[u]=0;for(u=2205;u<=2217;u++)C[u]=0;for(u=2222;u<=2224;u++)C[u]=1;for(u=2225;u<=2250;u++)C[u]=2;for(u=2251;u<=2253;u++)C[u]=1;for(u=2257;u<=2264;u++)C[u]=2;for(u=2274;u<=2279;u++)C[u]=2;for(u=2280;u<=2282;u++)C[u]=1;for(u=2283;u<=2289;u++)C[u]=2;for(u=2290;u<=2292;u++)C[u]=0;for(u=2308;u<=2313;u++)C[u]=0;for(u=2315;u<=2491;u++)C[u]=0;for(u=2494;u<=2866;u++)C[u]=0;for(u=2867;u<=2869;u++)C[u]=1;for(u=2870;u<=2888;u++)C[u]=2;for(u=2891;u<=2895;u++)C[u]=2;for(u=2896;u<=2898;u++)C[u]=1;for(u=2902;u<=2908;u++)C[u]=2;for(u=2915;u<=2920;u++)C[u]=2;for(u=2921;u<=2923;u++)C[u]=1;for(u=2924;u<=2930;u++)C[u]=2;for(u=2931;u<=2962;u++)C[u]=0;for(u=2964;u<=2968;u++)C[u]=2;for(u=2969;u<=2973;u++)C[u]=0;for(u=2975;u<=2991;u++)C[u]=0;for(u=2995;u<=3051;u++)C[u]=0;for(u=3054;u<=3079;u++)C[u]=0;for(u=3081;u<=3088;u++)C[u]=0;for(u=3092;u<=3101;u++)C[u]=0;for(u=3106;u<=3138;u++)C[u]=0;for(u=3146;u<=3151;u++)C[u]=0;for(u=3153;u<=3166;u++)C[u]=0;for(u=3168;u<=3172;u++)C[u]=0;for(u=3174;u<=3203;u++)C[u]=0;for(u=3294;u<=3358;u++)C[u]=0;for(u=3367;u<=3403;u++)C[u]=0;for(u=3408;u<=3416;u++)C[u]=0;for(u=3417;u<=3438;u++)C[u]=2;for(u=3441;u<=3446;u++)C[u]=2;for(u=3447;u<=3450;u++)C[u]=0;for(u=3451;u<=3459;u++)C[u]=2;for(u=3460;u<=3478;u++)C[u]=0;for(u=3554;u<=3559;u++)C[u]=0;for(u=3560;u<=3570;u++)C[u]=2;for(u=3571;u<=3581;u++)C[u]=0;for(u=3594;u<=3597;u++)C[u]=0;for(u=3601;u<=3604;u++)C[u]=0;for(u=3637;u<=3639;u++)C[u]=0;for(u=3665;u<=3667;u++)C[u]=0;for(u=3693;u<=3695;u++)C[u]=0;for(u=3701;u<=3727;u++)C[u]=0;for(u=3728;u<=3739;u++)C[u]=2;for(u=3740;u<=3751;u++)C[u]=0;for(u=3753;u<=3760;u++)C[u]=2;for(u=3761;u<=3773;u++)C[u]=0;for(u=3775;u<=3777;u++)C[u]=0;for(u=3779;u<=3781;u++)C[u]=0;for(u=3783;u<=3785;u++)C[u]=0;for(u=3788;u<=3791;u++)C[u]=0;for(u=3797;u<=3802;u++)C[u]=0;for(u=3814;u<=3816;u++)C[u]=0;for(u=3825;u<=3829;u++)C[u]=0;for(u=3832;u<=3841;u++)C[u]=0;for(u=3844;u<=3852;u++)C[u]=0;for(u=3873;u<=3885;u++)C[u]=0;for(u=3890;u<=3893;u++)C[u]=0;for(u=3907;u<=3912;u++)C[u]=0;for(u=3942;u<=3950;u++)C[u]=0;for(u=3968;u<=3970;u++)C[u]=0;for(u=3973;u<=3976;u++)C[u]=0;for(u=3986;u<=3989;u++)C[u]=0;for(u=3994;u<=3997;u++)C[u]=0;for(u=4048;u<=4051;u++)C[u]=0;for(u=4056;u<=4063;u++)C[u]=0;for(u=4093;u<=4096;u++)C[u]=0;for(u=4390;u<=4398;u++)C[u]=0;for(u=4399;u<=4413;u++)C[u]=2;for(u=4418;u<=4433;u++)C[u]=2;for(u=4455;u<=4457;u++)C[u]=2;for(u=4484;u<=4489;u++)C[u]=0;for(u=4491;u<=4554;u++)C[u]=0;for(u=4568;u<=4589;u++)C[u]=0;for(u=4652;u<=4656;u++)C[u]=0;for(u=4766;u<=4800;u++)C[u]=0;for(u=5014;u<=5016;u++)C[u]=0;for(u=5069;u<=5072;u++)C[u]=0;for(u=5105;u<=5130;u++)C[u]=0;for(u=5167;u<=5188;u++)C[u]=0;for(u=5253;u<=5259;u++)C[u]=0;for(u=5269;u<=5275;u++)C[u]=0;for(u=5292;u<=5311;u++)C[u]=0;for(u=5329;u<=5331;u++)C[u]=0;for(u=5343;u<=5349;u++)C[u]=0;for(u=5355;u<=5357;u++)C[u]=0;for(u=5387;u<=5389;u++)C[u]=0;for(u=5459;u<=5463;u++)C[u]=0;for(u=5479;u<=5482;u++)C[u]=0;for(u=5518;u<=5520;u++)C[u]=0;for(u=5530;u<=5539;u++)C[u]=0;for(u=5550;u<=5552;u++)C[u]=0;for(u=5562;u<=5583;u++)C[u]=0;for(u=5623;u<=5625;u++)C[u]=2;for(u=5631;u<=5639;u++)C[u]=0;for(u=5649;u<=5653;u++)C[u]=0;for(u=5663;u<=5680;u++)C[u]=0;for(u=5682;u<=5685;u++)C[u]=0;for(u=5875;u<=5877;u++)C[u]=0;for(u=5896;u<=5899;u++)C[u]=0;for(u=5921;u<=5940;u++)C[u]=0;for(u=6050;u<=6125;u++)C[u]=0;for(u=6244;u<=6275;u++)C[u]=0;for(u=6328;u<=6348;u++)C[u]=0;for(u=6350;u<=6356;u++)C[u]=0;for(u=6366;u<=6372;u++)C[u]=0;for(u=6381;u<=6387;u++)C[u]=0;for(u=6393;u<=6404;u++)C[u]=0;for(u=6480;u<=6483;u++)C[u]=0;for(u=6511;u<=6514;u++)C[u]=0;for(u=6579;u<=6581;u++)C[u]=0;for(u=6619;u<=6624;u++)C[u]=0;for(u=6625;u<=6627;u++)C[u]=2;for(u=6628;u<=6632;u++)C[u]=0;for(u=6634;u<=6637;u++)C[u]=0;for(u=6669;u<=6692;u++)C[u]=0;for(u=6707;u<=6709;u++)C[u]=0;for(u=6720;u<=6723;u++)C[u]=0;for(u=6732;u<=6738;u++)C[u]=0;for(u=6931;u<=6933;u++)C[u]=0;for(u=6956;u<=6959;u++)C[u]=0;for(u=7005;u<=7007;u++)C[u]=0;for(u=7057;u<=7070;u++)C[u]=2;for(u=7074;u<=7082;u++)C[u]=0;for(u=7109;u<=7118;u++)C[u]=0;for(u=7119;u<=7127;u++)C[u]=1;for(u=7374;u<=7376;u++)C[u]=0;for(u=7528;u<=7586;u++)C[u]=0;for(u=7587;u<=7645;u++)C[u]=2;for(u=7692;u<=7696;u++)C[u]=0;for(u=7755;u<=7787;u++)C[u]=0;for(u=7791;u<=7795;u++)C[u]=0;for(u=7799;u<=7801;u++)C[u]=0;for(u=7803;u<=7805;u++)C[u]=0;for(u=7825;u<=7831;u++)C[u]=0;for(u=7845;u<=7859;u++)C[u]=0;for(u=8013;u<=8032;u++)C[u]=0;for(u=8065;u<=8068;u++)C[u]=1;for(u=8518;u<=8529;u++)C[u]=2;for(u=8533;u<=8536;u++)C[u]=2;for(u=8538;u<=8540;u++)C[u]=2;for(u=8677;u<=8679;u++)C[u]=0;for(u=8836;u<=8840;u++)C[u]=0;for(u=8857;u<=8859;u++)C[u]=0;for(u=8908;u<=8910;u++)C[u]=0;for(u=9154;u<=9159;u++)C[u]=0;for(u=9205;u<=9218;u++)C[u]=0;for(u=9271;u<=9273;u++)C[u]=0;for(u=9295;u<=9297;u++)C[u]=0;for(u=9356;u<=9360;u++)C[u]=0;for(u=9404;u<=9407;u++)C[u]=0;for(u=9476;u<=9482;u++)C[u]=0;for(u=9487;u<=9494;u++)C[u]=0;for(u=9697;u<=9699;u++)C[u]=0;for(u=9821;u<=9865;u++)C[u]=0;for(u=10285;u<=10291;u++)C[u]=0;for(u=10314;u<=10317;u++)C[u]=0;for(u=10448;u<=10465;u++)C[u]=0;for(u=10731;u<=10733;u++)C[u]=0;for(u=11114;u<=11118;u++)C[u]=0;for(u=20004;u<=20032;u++)C[u]=0;for(u=20047;u<=20049;u++)C[u]=0;for(u=20062;u<=20092;u++)C[u]=0;for(u=20135;u<=20138;u++)C[u]=0;for(u=20248;u<=20258;u++)C[u]=0;for(u=20348;u<=20358;u++)C[u]=0;for(u=20436;u<=20440;u++)C[u]=0;for(u=20822;u<=20824;u++)C[u]=0;for(u=20904;u<=20932;u++)C[u]=0;for(u=20934;u<=20936;u++)C[u]=0;for(u=21004;u<=21032;u++)C[u]=0;for(u=21035;u<=21037;u++)C[u]=0;for(u=21095;u<=21097;u++)C[u]=0;for(u=21148;u<=21150;u++)C[u]=0;for(u=21207;u<=21264;u++)C[u]=0;for(u=21307;u<=21364;u++)C[u]=0;for(u=21413;u<=21423;u++)C[u]=0;for(u=21453;u<=21463;u++)C[u]=0;for(u=21473;u<=21483;u++)C[u]=0;for(u=21780;u<=21782;u++)C[u]=0;for(u=21891;u<=21894;u++)C[u]=0;for(u=21896;u<=21899;u++)C[u]=0;for(u=22171;u<=22177;u++)C[u]=0;for(u=22181;u<=22187;u++)C[u]=0;for(u=22191;u<=22197;u++)C[u]=0;for(u=22207;u<=22222;u++)C[u]=0;for(u=22229;u<=22232;u++)C[u]=0;for(u=22234;u<=22236;u++)C[u]=0;for(u=22243;u<=22250;u++)C[u]=0;for(u=22262;u<=22265;u++)C[u]=0;for(u=22307;u<=22322;u++)C[u]=0;for(u=22348;u<=22357;u++)C[u]=0;for(u=22407;u<=22422;u++)C[u]=0;for(u=22462;u<=22465;u++)C[u]=0;for(u=22521;u<=22525;u++)C[u]=0;for(u=22607;u<=22622;u++)C[u]=0;for(u=22641;u<=22646;u++)C[u]=0;for(u=22648;u<=22657;u++)C[u]=0;for(u=22707;u<=22722;u++)C[u]=0;for(u=22762;u<=22765;u++)C[u]=0;for(u=22807;u<=22822;u++)C[u]=0;for(u=22991;u<=22994;u++)C[u]=0;for(u=23028;u<=23038;u++)C[u]=0;for(u=23301;u<=23333;u++)C[u]=2;for(u=23830;u<=23853;u++)C[u]=0;for(u=23866;u<=23872;u++)C[u]=0;for(u=23877;u<=23884;u++)C[u]=0;for(u=23886;u<=23894;u++)C[u]=0;for(u=23946;u<=23948;u++)C[u]=0;for(u=24311;u<=24313;u++)C[u]=0;for(u=24342;u<=24347;u++)C[u]=0;for(u=24370;u<=24374;u++)C[u]=10;for(u=24375;u<=24381;u++)C[u]=0;for(u=24718;u<=24721;u++)C[u]=0;for(u=24817;u<=24821;u++)C[u]=0;for(u=24877;u<=24882;u++)C[u]=0;for(u=24891;u<=24893;u++)C[u]=0;for(u=25391;u<=25395;u++)C[u]=0;for(u=25828;u<=25838;u++)C[u]=0;for(u=26191;u<=26195;u++)C[u]=0;for(u=26391;u<=26393;u++)C[u]=0;for(u=26701;u<=26722;u++)C[u]=0;for(u=26729;u<=26799;u++)C[u]=2;for(u=26801;u<=26803;u++)C[u]=2;for(u=26811;u<=26813;u++)C[u]=2;for(u=26847;u<=26870;u++)C[u]=2;for(u=26891;u<=26899;u++)C[u]=0;for(u=26901;u<=26923;u++)C[u]=0;for(u=26929;u<=26946;u++)C[u]=0;for(u=26948;u<=26998;u++)C[u]=0;for(u=27037;u<=27040;u++)C[u]=0;for(u=27205;u<=27232;u++)C[u]=0;for(u=27258;u<=27260;u++)C[u]=0;for(u=27391;u<=27398;u++)C[u]=0;for(u=27561;u<=27564;u++)C[u]=0;for(u=27571;u<=27574;u++)C[u]=0;for(u=27581;u<=27584;u++)C[u]=0;for(u=27591;u<=27594;u++)C[u]=0;for(u=27700;u<=27707;u++)C[u]=0;for(u=28191;u<=28193;u++)C[u]=0;for(u=28348;u<=28358;u++)C[u]=0;for(u=28402;u<=28432;u++)C[u]=0;for(u=28462;u<=28492;u++)C[u]=0;for(u=29118;u<=29122;u++)C[u]=0;for(u=29168;u<=29172;u++)C[u]=0;for(u=29177;u<=29185;u++)C[u]=0;for(u=29187;u<=29195;u++)C[u]=0;for(u=29900;u<=29903;u++)C[u]=0;for(u=30161;u<=30179;u++)C[u]=0;for(u=30491;u<=30494;u++)C[u]=0;for(u=30729;u<=30732;u++)C[u]=0;for(u=31251;u<=31259;u++)C[u]=0;for(u=31265;u<=31268;u++)C[u]=0;for(u=31275;u<=31279;u++)C[u]=0;for(u=31281;u<=31297;u++)C[u]=0;for(u=31461;u<=31469;u++)C[u]=0;for(u=31491;u<=31495;u++)C[u]=0;for(u=31917;u<=31922;u++)C[u]=0;for(u=31965;u<=32e3;u++)C[u]=0;for(u=32001;u<=32003;u++)C[u]=2;for(u=32005;u<=32031;u++)C[u]=2;for(u=32033;u<=32060;u++)C[u]=2;for(u=32064;u<=32067;u++)C[u]=2;for(u=32074;u<=32077;u++)C[u]=2;for(u=32081;u<=32086;u++)C[u]=0;for(u=32107;u<=32130;u++)C[u]=0;for(u=32133;u<=32159;u++)C[u]=0;for(u=32164;u<=32167;u++)C[u]=2;for(u=32180;u<=32199;u++)C[u]=0;for(u=32201;u<=32260;u++)C[u]=0;for(u=32301;u<=32360;u++)C[u]=0;for(u=32401;u<=32460;u++)C[u]=0;for(u=32501;u<=32560;u++)C[u]=0;for(u=32601;u<=32662;u++)C[u]=0;for(u=32664;u<=32667;u++)C[u]=2;for(u=32701;u<=32761;u++)C[u]=0;for(u=53001;u<=53004;u++)C[u]=0;for(u=53008;u<=53019;u++)C[u]=0;for(u=53021;u<=53032;u++)C[u]=0;for(u=53034;u<=53037;u++)C[u]=0;for(u=53042;u<=53046;u++)C[u]=0;for(u=53074;u<=53080;u++)C[u]=0;for(u=54001;u<=54004;u++)C[u]=0;for(u=54008;u<=54019;u++)C[u]=0;for(u=54021;u<=54032;u++)C[u]=0;for(u=54034;u<=54037;u++)C[u]=0;for(u=54042;u<=54046;u++)C[u]=0;for(u=54048;u<=54053;u++)C[u]=0;for(u=54074;u<=54080;u++)C[u]=0;for(u=54098;u<=54101;u++)C[u]=0;for(u=102001;u<=102040;u++)C[u]=0;for(u=102042;u<=102063;u++)C[u]=0;for(u=102065;u<=102067;u++)C[u]=0;for(u=102070;u<=102117;u++)C[u]=0;for(u=102122;u<=102216;u++)C[u]=0;for(u=102221;u<=102377;u++)C[u]=0;for(u=102382;u<=102388;u++)C[u]=0;for(u=102389;u<=102398;u++)C[u]=2;for(u=102399;u<=102444;u++)C[u]=0;for(u=102445;u<=102447;u++)C[u]=2;for(u=102448;u<=102458;u++)C[u]=0;for(u=102459;u<=102468;u++)C[u]=2;for(u=102469;u<=102499;u++)C[u]=0;for(u=102500;u<=102519;u++)C[u]=1;for(u=102520;u<=102524;u++)C[u]=0;for(u=102525;u<=102529;u++)C[u]=2;for(u=102530;u<=102588;u++)C[u]=0;for(u=102590;u<=102598;u++)C[u]=0;for(u=102601;u<=102603;u++)C[u]=0;for(u=102605;u<=102628;u++)C[u]=0;for(u=102629;u<=102646;u++)C[u]=2;for(u=102648;u<=102700;u++)C[u]=2;for(u=102701;u<=102703;u++)C[u]=0;for(u=102707;u<=102730;u++)C[u]=2;for(u=102733;u<=102758;u++)C[u]=2;for(u=102767;u<=102900;u++)C[u]=0;for(u=102901;u<=102933;u++)C[u]=2;for(u=102934;u<=102950;u++)C[u]=13;for(u=102951;u<=102963;u++)C[u]=0;for(u=102965;u<=102969;u++)C[u]=0;for(u=102971;u<=102973;u++)C[u]=0;for(u=102975;u<=102989;u++)C[u]=0;for(u=102990;u<=102992;u++)C[u]=1;for(u=102997;u<=103002;u++)C[u]=0;for(u=103003;u<=103008;u++)C[u]=2;for(u=103009;u<=103011;u++)C[u]=0;for(u=103012;u<=103014;u++)C[u]=2;for(u=103019;u<=103021;u++)C[u]=0;for(u=103022;u<=103024;u++)C[u]=2;for(u=103029;u<=103031;u++)C[u]=0;for(u=103032;u<=103034;u++)C[u]=2;for(u=103065;u<=103068;u++)C[u]=0;for(u=103074;u<=103076;u++)C[u]=0;for(u=103077;u<=103079;u++)C[u]=1;for(u=103080;u<=103082;u++)C[u]=0;for(u=103083;u<=103085;u++)C[u]=2;for(u=103090;u<=103093;u++)C[u]=0;for(u=103097;u<=103099;u++)C[u]=0;for(u=103100;u<=103102;u++)C[u]=2;for(u=103107;u<=103109;u++)C[u]=0;for(u=103110;u<=103112;u++)C[u]=2;for(u=103113;u<=103116;u++)C[u]=0;for(u=103117;u<=103120;u++)C[u]=2;for(u=103153;u<=103157;u++)C[u]=0;for(u=103158;u<=103162;u++)C[u]=2;for(u=103163;u<=103165;u++)C[u]=0;for(u=103166;u<=103168;u++)C[u]=1;for(u=103169;u<=103171;u++)C[u]=2;for(u=103186;u<=103188;u++)C[u]=0;for(u=103189;u<=103191;u++)C[u]=2;for(u=103192;u<=103195;u++)C[u]=0;for(u=103196;u<=103199;u++)C[u]=2;for(u=103200;u<=103224;u++)C[u]=0;for(u=103225;u<=103227;u++)C[u]=1;for(u=103232;u<=103237;u++)C[u]=0;for(u=103238;u<=103243;u++)C[u]=2;for(u=103244;u<=103246;u++)C[u]=0;for(u=103247;u<=103249;u++)C[u]=2;for(u=103254;u<=103256;u++)C[u]=0;for(u=103257;u<=103259;u++)C[u]=2;for(u=103264;u<=103266;u++)C[u]=0;for(u=103267;u<=103269;u++)C[u]=2;for(u=103300;u<=103375;u++)C[u]=0;for(u=103381;u<=103383;u++)C[u]=0;for(u=103384;u<=103386;u++)C[u]=1;for(u=103387;u<=103389;u++)C[u]=0;for(u=103390;u<=103392;u++)C[u]=2;for(u=103397;u<=103399;u++)C[u]=0;for(u=103400;u<=103471;u++)C[u]=2;for(u=103476;u<=103478;u++)C[u]=0;for(u=103479;u<=103481;u++)C[u]=2;for(u=103486;u<=103488;u++)C[u]=0;for(u=103489;u<=103491;u++)C[u]=2;for(u=103492;u<=103495;u++)C[u]=0;for(u=103496;u<=103499;u++)C[u]=2;for(u=103528;u<=103543;u++)C[u]=0;for(u=103544;u<=103548;u++)C[u]=2;for(u=103549;u<=103551;u++)C[u]=0;for(u=103552;u<=103554;u++)C[u]=1;for(u=103555;u<=103557;u++)C[u]=2;for(u=103558;u<=103560;u++)C[u]=0;for(u=103571;u<=103573;u++)C[u]=0;for(u=103574;u<=103576;u++)C[u]=2;for(u=103577;u<=103580;u++)C[u]=0;for(u=103581;u<=103583;u++)C[u]=2;for(u=103595;u<=103694;u++)C[u]=0;for(u=103696;u<=103699;u++)C[u]=0;for(u=103700;u<=103793;u++)C[u]=2;for(u=103794;u<=103890;u++)C[u]=0;for(u=103891;u<=103896;u++)C[u]=2;for(u=103900;u<=103971;u++)C[u]=2;for(u=103972;u<=103977;u++)C[u]=0;for(u=112e3;u<=112101;u++)C[u]=0;const qC=[102100,102113,3857,3785,900913],Aj=[104905,104971],Mj=[4326,...qC,...Aj],_p=[-20037508342788905e-9,20037508342788905e-9],J_=[-20037508342787e-6,20037508342787e-6],hb={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:_p,origin:J_,dx:1e-5},WC={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:_p,origin:J_,dx:1e-5},102100:hb,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:_p,origin:J_,dx:1e-5},3857:hb,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:hb};function Wc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;const r=e.wkid,i=t.wkid;if(r!=null||i!=null){if(r===i||Hc(e)&&Hc(t))return!0;const o=e.latestWkid;if(o!=null&&i===o)return!0;const a=t.latestWkid;return a!=null&&r===a}let n,s;return e.wkt2&&t.wkt2?(n=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(n=e.wkt,s=t.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function ta(e){const t=e?.wkid;return t!=null&&t>=2e3&&WC[t]||null}function ax(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const i=e.wkt||e.wkt2;return JSON.stringify(i?r?{wkt:i,vcsWkid:r}:{wkt:i}:{})}function lx(e){if(!HC(e))return!1;const{wkid:t}=e;if(t)return C[t]==null;const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)}function Ij(e){return!(Oj(e)||$j(e))}function yg(e){return e?.wkid===4326}function C0e(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function N0e(e){return e?.wkid===Fh.CGCS2000}function Hc(e){const t=e?.wkid;return t!=null&&t>=2e3&&qC.includes(t)}function P0e(e){return e?.wkid===32662}function G1(e){return e===Fh.GCSMARS2000||e===Fh.GCSMARS2000_SPHERE}function Oj(e){return G1(e?.wkid)}function V1(e){return e===Fh.GCSMOON2000}function $j(e){return V1(e?.wkid)}function Cj(e){const t=e?.wkid;return t!=null&&t>=2e3&&Mj.includes(t)}function HC(e){if(e==null)return!1;const t=e.wkid;return t!=null&&t>=2e3||e.wkt2!=null||e.wkt!=null}const YC={wkid:4326,wkt:I$(WC[4326].wkTemplate,{Central_Meridian:"0.0"})},JC={wkid:102100,latestWkid:3857},Nj={wkid:32662};function cx(e){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${e.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Pj=cx(Es),KC=cx(gp),ZC=cx(U1),L0e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Es.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Lj=KC.wkt.toUpperCase(),kj=ZC.wkt.toUpperCase();function Rj(e){if(e!=null&&HC(e)){const t=e.wkid,r=e.wkt2??e.wkt;if(G1(t))return gp;const i=r?.toUpperCase();if(r&&i===Lj)return gp;if(V1(t)||i&&i===kj)return U1}return Es}function k0e(e){return G1(e)?gp:V1(e)?U1:Es}function Dj(e){return Wc(e,Pj)}function R0e(e){return Dj(e)||Wc(e,KC)||Wc(e,ZC)}const XC=39.37,Fj=Es.radius*Math.PI/200,QC=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Cc=C,e5=/UNIT\[([^\]]+)]/i,Uj=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),jj=Os()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),ks=e=>e*e,va=e=>e*e*e,wp={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ks(.001)},"square-centimeters":{inBaseUnits:ks(.01)},"square-decimeters":{inBaseUnits:ks(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ks(1e3)},"square-inches":{inBaseUnits:ks(.0254)},"square-feet":{inBaseUnits:ks(.3048)},"square-yards":{inBaseUnits:ks(.9144)},"square-miles":{inBaseUnits:ks(1609.344)},"square-us-feet":{inBaseUnits:ks(1200/3937)},acres:{inBaseUnits:.0015625*ks(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*va(.001)},"cubic-centimeters":{inBaseUnits:1e3*va(.01)},"cubic-decimeters":{inBaseUnits:1e3*va(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*va(1e3)},"cubic-inches":{inBaseUnits:1e3*va(.0254)},"cubic-feet":{inBaseUnits:1e3*va(.3048)},"cubic-yards":{inBaseUnits:1e3*va(.9144)},"cubic-miles":{inBaseUnits:1e3*va(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Gj=(()=>{const e={};for(const t in wp)for(const r in wp[t].units)e[r]=t;return e})();function Vj(e,t,r){return e*wp[r].units[t].inBaseUnits}function Bj(e,t,r){return e/wp[r].units[t].inBaseUnits}const t5=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],zj=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function K_(e){const t=Gj[e];if(!t)throw new Error("unknown type");return t}function _A(e,t=null){return t=t||K_(e),wp[t].baseUnit===e}function lu(e,t,r){if(t===r)return e;const i=K_(t);if(i!==K_(r))throw new Error("incompatible units");const n=_A(t,i)?e:Vj(e,t,i);return _A(r,i)?n:Bj(n,r,i)}function qj(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function D0e(e){return qj(e)}function F0e(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}}function U0e(e,t){const r=lu(e,t,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function j0e(e,t){const r=lu(e,t,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function G0e(e,t){const r=lu(e,t,"feet");return Math.abs(r)<1e3?"feet":"miles"}function V0e(e,t){const r=lu(e,t,"feet");return Math.abs(r)<1e5?"feet":"miles"}function B0e(e,t){const r=lu(e,t,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function z0e(e,t){const r=lu(e,t,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function q0e(e,t,r){return lu(e,t,"meters")/(r*Math.PI/180)}function Wj(e){return jj.fromJSON(e.toLowerCase())||null}function W0e(e){if(e!=null&&!Ij(e))return 1;const t=wf(e);return t>1e5?1:t}function Hj(e){return wf(e)>=Rj(e).metersPerDegree?"meters":dm(e)}function wf(e,t=Es.metersPerDegree){return Yj(e,!0)??t}function Yj(e,t=!1){const r=e?.wkid??null,i=e?.wkt2??e?.wkt??null;let n=null;if(r){if(G1(r))return gp.metersPerDegree;if(V1(r))return U1.metersPerDegree;n=Cc.values[Cc[r]],!n&&t&&Uj.has(r)&&(n=Fj)}else i&&(n5(i)?n=wA(QC.exec(i),n):i5(i)&&(n=wA(e5.exec(i),n)));return n}function H0e(e){return lx(e)?1:wf(e)}function wA(e,t){return e?.[1]?r5(e[1]):t}function r5(e){return parseFloat(e.split(",")[1])}function dm(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let i=null;if(t)i=Cc.units[Cc[t]];else if(r){const n=n5(r)?QC:i5(r)?e5:null;if(n){const s=n.exec(r);s?.[1]&&(i=Kj(s[1]))}}return i!=null?Wj(i):null}function Y0e(e){const t=dm(e);return t!=null&&t5.includes(t)?t:null}function J0e(e){const t=Hj(e);return t!=null&&t5.includes(t)?t:null}function K0e(e){const t=dm(e);return t==null?null:zj.get(t)}function i5(e){return/^GEOCCS/i.test(e)}function n5(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const Jj=1e-7;function Kj(e){let r=/[\\"']{1}([^\\"']+)/.exec(e)?.[1];if(!r||!Cc.units.includes(r)){const i=r5(e);r=null;const n=Cc.values;for(let s=0;s<n.length;++s)if(Math.abs(i-n[s])<Jj){r=Cc.units[s];break}}return r}function Z0e(e){const t=dm(e);if(t==null)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const Zj={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Xj={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Qj={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},X0e=Os()(Zj),Q0e=Os()(Xj),eye=Os()(Qj);function jt(e,t,r){let i,n;return t===void 0?(n=e,i=[void 0]):typeof t!="string"?(n=e,i=[void 0],r=t):(n=t,i=Array.isArray(e)?e:[e]),(s,o)=>{const a=s.constructor.prototype;for(const l of i){const c=V$(s,l,n);c.write&&typeof c.write=="object"||(c.write={}),r&&(c.write.target=r),c.write.writer=a[o]}}}var Us;let At=Us=class extends tt{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return Us.WebMercator;if(e?.wkid===4326)return Us.WGS84;const t=new Us;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return yg(this)}get isWebMercator(){return Hc(this)}get isGeographic(){return lx(this)}get isWrappable(){return Cj(this)}get metersPerUnit(){return wf(this)}get unit(){return dm(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Us.WGS84)return new Us(YC);if(this===Us.WebMercator)return new Us(JC);const e=new Us;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ge(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return t==null||i?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return Wc(this,e)}toJSON(e){return this.write(void 0,e)}};At.GCS_NAD_1927=null,At.WGS84=null,At.WebMercator=null,At.PlateCarree=null,b([A({readOnly:!0})],At.prototype,"isWGS84",null),b([A({readOnly:!0})],At.prototype,"isWebMercator",null),b([A({readOnly:!0})],At.prototype,"isGeographic",null),b([A({readOnly:!0})],At.prototype,"isWrappable",null),b([A({type:zr,json:{write:!0}})],At.prototype,"latestWkid",void 0),b([A({readOnly:!0})],At.prototype,"metersPerUnit",null),b([A({readOnly:!0})],At.prototype,"unit",null),b([A({type:zr,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],At.prototype,"wkid",void 0),b([A({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],At.prototype,"wkt",void 0),b([jt("wkt"),jt("web-scene","wkt")],At.prototype,"writeWkt",null),b([A({type:String,json:{write:!1}})],At.prototype,"wkt2",void 0),b([A({type:zr,json:{write:!0}})],At.prototype,"vcsWkid",void 0),b([A({type:zr,json:{write:!0}})],At.prototype,"latestVcsWkid",void 0),b([A()],At.prototype,"imageCoordinateSystem",void 0),At=Us=b([oe("esri.geometry.SpatialReference")],At),At.prototype.toJSON.isDefaultToJSON=!0,At.GCS_NAD_1927=ei.freeze(new At({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),At.WGS84=ei.freeze(new At(YC)),At.WebMercator=ei.freeze(new At(JC)),At.PlateCarree=ei.freeze(new At(Nj));const or=At;let js=class extends tt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=or.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,r){if(t instanceof or)return t;if(t!=null){const i=new or;return i.read(t,r),i}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,r){this.cache[t]=r}};b([A()],js.prototype,"type",void 0),b([A({readOnly:!0})],js.prototype,"cache",null),b([A({readOnly:!0})],js.prototype,"extent",null),b([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],js.prototype,"hasM",void 0),b([A({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],js.prototype,"hasZ",void 0),b([A({type:or,json:{write:!0},value:or.WGS84})],js.prototype,"spatialReference",void 0),b([Sr("spatialReference")],js.prototype,"readSpatialReference",null),js=b([oe("esri.geometry.Geometry")],js);const cu=js,eG=Object.prototype.toString;function tG(e){const t="__accessorMetadata__"in e?xs(e):e;return function(...r){if(r.push(t),typeof r[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return rG.apply(this,r)}}function rG(e,t,r,i){R1(e,t).cast=i}function iG(e){return(t,r)=>{R1(t,e).cast=t[r]}}function pm(...e){if(e.length!==3||typeof e[1]!="string")return e.length===1&&eG.call(e[0])==="[object Function]"?tG(e[0]):e.length===1&&typeof e[0]=="string"?iG(e[0]):void 0}const nG=57.29577951308232,sG=.017453292519943;function SA(e){return e*nG}function xA(e){return e*sG}function rye(e){return Math.PI/2-2*Math.atan(Math.exp(-e/Es.radius))}function Z_(e){return e.wkid!=null||e.wkt!=null}const fb=[0,0];function gg(e,t,r,i,n){const s=e,o=n;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,fb,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,fb,i),[o.xmax,o.ymax]=t(s.xmax,s.ymax,fb,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let f=0;f<a.length;f++){const d=a[f];c=[],l.push(c);for(let p=0;p<d.length;p++)c.push(t(d[p][0],d[p][1],[0,0],i)),d[p].length>2&&c[p].push(d[p][2]),d[p].length>3&&c[p].push(d[p][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=t(a[c][0],a[c][1],[0,0],i),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return n}function iy(e,t){const r=e&&(Z_(e)?e:e.spatialReference),i=t&&(Z_(t)?t:t.spatialReference);return!(e&&"type"in e&&e.type==="mesh"||t&&"type"in t&&t.type==="mesh"||!r||!i)&&(!!Wc(i,r)||Hc(i)&&yg(r)||Hc(r)&&yg(i))}function s5(e,t){if(e==null)return null;const r=e.spatialReference,i=t&&(Z_(t)?t:t.spatialReference);return iy(r,i)?Wc(r,i)?ge(e):Hc(i)?gg(e,th,or.WebMercator,!1,ge(e)):yg(i)?gg(e,B1,or.WGS84,!1,ge(e)):null:null}function th(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=xA(t);return r[0]=xA(e)*Es.radius,r[1]=Es.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function B1(e,t,r=[0,0],i=!1){if(e===_p[0])r[0]=-180;else if(e===_p[1])r[0]=180;else{const n=SA(e/Es.radius);r[0]=i?n:n-360*Math.floor((n+180)/360)}return r[1]=SA(Math.PI/2-2*Math.atan(Math.exp(-t/Es.radius))),r}function bh(e,t=!1,r=ge(e)){return gg(e,th,or.WebMercator,t,r)}function id(e,t=!1,r=ge(e)){return gg(e,B1,or.WGS84,t,r)}function oG(e,t){const r=e.x-t.x,i=e.y-t.y,n=e.z!=null&&t.z!=null?e.z-t.z:0;return Math.sqrt(r*r+i*i+n*n)}function aG(e){return o5(e,a5)?.[0]??null}function lG(e){return o5(e,a5)?.[1]??null}function o5({x:e,y:t,spatialReference:r},i=[0,0]){if(r){if(Hc(r))return B1(e,t,i);if(lx(r))return i[0]=e,i[1]=t,i}return null}const a5=[0,0];var ny;const db=[0,0];function EA(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ai=ny=class extends cu{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",ei.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],r=s[2],i=s[3];else if(e&&typeof e=="object"){if(s=e,e=s.x!=null?s.x:s.longitude,t=s.y!=null?s.y:s.latitude,r=s.z,i=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new or(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)kt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)kt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n?.isWebMercator){const a=th(s.longitude,s.latitude,db);e=a[0],t=a[1]}}}else EA(r)?(n=r,r=null):EA(i)&&(n=i,i=null);const o={x:e,y:t};return o.x==null&&o.y!=null?kt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&kt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(o.spatialReference=n),r!=null&&(o.z=r),i!=null&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(e){e!==(this._get("m")!==void 0)&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return this.z!==void 0}set hasZ(e){e!==(this._get("z")!==void 0)&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return lG(this)}set latitude(e){const{spatialReference:t,x:r}=this;e!=null&&t&&(t.isWebMercator?this._set("y",th(r,e,db)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return aG(this)}set longitude(e){const{y:t,spatialReference:r}=this;e!=null&&r&&(r.isWebMercator?this._set("x",th(e,t,db)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return typeof e=="string"?NaN:e}clone(){const e=new ny;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return ny.copy(e,this),this}equals(e){if(e==null)return!1;const{x:t,y:r,z:i,m:n,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:c,spatialReference:f}=e;if(!s.equals(f))if(s.isWebMercator&&f.isWGS84)[l,c]=th(l,c),f=s;else{if(!s.isWGS84||!f.isWebMercator)return!1;[l,c]=B1(l,c),f=s}return t===l&&r===c&&i===o&&n===a&&s.wkid===f.wkid}offset(e,t,r){return this.x+=e,this.y+=t,r!=null&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=ta(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,n=2*i;let s;return t>i?(s=Math.ceil(Math.abs(t-i)/n),t-=s*n):t<r&&(s=Math.ceil(Math.abs(t-r)/n),t+=s*n),this._set("x",t),this}distance(e){return oG(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};b([A({readOnly:!0})],Ai.prototype,"cache",null),b([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ai.prototype,"hasM",null),b([A({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Ai.prototype,"hasZ",null),b([A({type:Number})],Ai.prototype,"latitude",null),b([A({type:Number})],Ai.prototype,"longitude",null),b([A({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),pm(e=>isNaN(e)?e:L1(e))],Ai.prototype,"x",void 0),b([jt("x")],Ai.prototype,"writeX",null),b([Sr("x")],Ai.prototype,"readX",null),b([A({type:Number,json:{write:!0}})],Ai.prototype,"y",void 0),b([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ai.prototype,"z",void 0),b([A({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ai.prototype,"m",void 0),Ai=ny=b([oe("esri.geometry.Point")],Ai),Ai.prototype.toJSON.isDefaultToJSON=!0;const Lr=Ai,pb=[0,0];function l5(e,t){return t!=null&&Oi(e,t.x,t.y,t.z)}function iye(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!Uh(e,r))return!1;return!0}function cG(e,t){const{xmin:r,ymin:i,zmin:n,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?Oi(e,r,i,n)&&Oi(e,r,o,n)&&Oi(e,s,o,n)&&Oi(e,s,i,n)&&Oi(e,r,i,a)&&Oi(e,r,o,a)&&Oi(e,s,o,a)&&Oi(e,s,i,a):Oi(e,r,i)&&Oi(e,r,o)&&Oi(e,s,o)&&Oi(e,s,i)}function Uh(e,t){return Oi(e,t[0],t[1])}function uG(e,t){return Oi(e,t[0],t[1],t[2])}function Oi(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(i==null||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function hG(e,t){return pb[1]=t.y,pb[0]=t.x,fG(e,pb)}function fG(e,t){return c5(e.rings,t)}function c5(e,t){if(!e)return!1;if(dG(e))return TA(!1,e,t);let r=!1;for(let i=0,n=e.length;i<n;i++)r=TA(r,e[i],t);return r}function dG(e){return!Array.isArray(e[0][0])}function TA(e,t,r){const[i,n]=r;let s=e,o=0;for(let a=0,l=t.length;a<l;a++){o++,o===l&&(o=0);const[c,f]=t[a],[d,p]=t[o];(f<n&&p>=n||p<n&&f>=n)&&c+(n-f)/(p-f)*(d-c)<i&&(s=!s)}return s}function pG(e,t){return l5(e,t)}function mG(e,t){const r=e.hasZ&&t.hasZ;let i,n,s;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ){if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1}return!0}function yG(e,t){const{points:r,hasZ:i}=t,n=i?uG:Uh;for(const s of r)if(n(e,s))return!0;return!1}const Yc=[0,0],Jc=[0,0],Kc=[0,0],Zc=[0,0],gG=[Yc,Jc,Kc,Zc],u5=[[Kc,Yc],[Yc,Jc],[Jc,Zc],[Zc,Kc]];function vG(e,t){return bG(e,t.rings)}function bG(e,t){Yc[0]=e.xmin,Yc[1]=e.ymax,Jc[0]=e.xmax,Jc[1]=e.ymax,Kc[0]=e.xmin,Kc[1]=e.ymin,Zc[0]=e.xmax,Zc[1]=e.ymin;for(const r of gG)if(c5(t,r))return!0;for(const r of t){if(!r.length)continue;let i=r[0];if(Uh(e,i))return!0;for(let n=1;n<r.length;n++){const s=r[n];if(Uh(e,s)||h5(i,s,u5))return!0;i=s}}return!1}function _G(e,t){Yc[0]=e.xmin,Yc[1]=e.ymax,Jc[0]=e.xmax,Jc[1]=e.ymax,Kc[0]=e.xmin,Kc[1]=e.ymin,Zc[0]=e.xmax,Zc[1]=e.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let n=i[0];if(Uh(e,n))return!0;for(let s=1;s<i.length;s++){const o=i[s];if(Uh(e,o)||h5(n,o,u5))return!0;n=o}}return!1}const Zr=[0,0];function wG(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const s=r[n],o=r[n+1];for(let a=t+1;a<e.length;a++)for(let l=0;l<e[a].length-1;l++){const c=e[a][l],f=e[a][l+1];if(X_(s,o,c,f,Zr)&&!(Zr[0]===s[0]&&Zr[1]===s[1]||Zr[0]===c[0]&&Zr[1]===c[1]||Zr[0]===o[0]&&Zr[1]===o[1]||Zr[0]===f[0]&&Zr[1]===f[1]))return!0}}const i=r.length;if(!(i<=4))for(let n=0;n<i-3;n++){let s=i-1;n===0&&(s=i-2);const o=r[n],a=r[n+1];for(let l=n+2;l<s;l++){const c=r[l],f=r[l+1];if(X_(o,a,c,f,Zr)&&!(Zr[0]===o[0]&&Zr[1]===o[1]||Zr[0]===c[0]&&Zr[1]===c[1]||Zr[0]===a[0]&&Zr[1]===a[1]||Zr[0]===f[0]&&Zr[1]===f[1]))return!0}}}return!1}function h5(e,t,r){for(let i=0;i<r.length;i++)if(X_(e,t,r[i][0],r[i][1]))return!0;return!1}function X_(e,t,r,i,n){const[s,o]=e,[a,l]=t,[c,f]=r,[d,p]=i,y=d-c,g=s-c,_=a-s,w=p-f,x=o-f,T=l-o,S=w*_-y*T;if(S===0)return!1;const v=(y*x-w*g)/S,M=(_*x-T*g)/S;return v>=0&&v<=1&&M>=0&&M<=1&&(n&&(n[0]=s+v*(a-s),n[1]=o+v*(l-o)),!0)}function SG(e){switch(e){case"esriGeometryEnvelope":case"extent":return mG;case"esriGeometryMultipoint":case"multipoint":return yG;case"esriGeometryPoint":case"point":return pG;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return vG;case"esriGeometryPolyline":case"polyline":return _G}}var Cn;function xG(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}function ba(e,t,r){return t==null?r:r==null?t:e(t,r)}let jr=Cn=class extends cu{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,n){return xG(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:typeof e=="object"?(e.spatialReference=e.spatialReference==null?or.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:n??or.WGS84}}static fromBounds(e,t){return new Cn({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Cn({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new Lr({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return e.z!=null&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Cn;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,this.zmin!=null&&(e.zmin=this.zmin,e.zmax=this.zmax),this.mmin!=null&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&iy(t,r)&&(e=t.isWebMercator?bh(e):id(e,!0)),e.type==="point"?l5(this,e):e.type==="extent"&&cG(this,e)}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&iy(t,r)&&(e=t.isWebMercator?bh(e):id(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const n=(this.zmax-this.zmin)*t;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*t;this.mmin+=n,this.mmax-=n}return this}intersects(e){if(e==null)return!1;e.type==="mesh"&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!Wc(t,r)&&iy(t,r)&&(e=t.isWebMercator?bh(e):id(e,!0)),SG(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,r!=null&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ba(Math.min,this.zmin,e.zmin),this.zmax=ba(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ba(Math.min,this.mmin,e.mmin),this.mmax=ba(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:e!=null&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=ba(Math.max,this.zmin,e.zmin),this.zmax=ba(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=ba(Math.max,this.mmin,e.mmin),this.mmax=ba(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=ta(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?id(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=mb(i.x,e).x),this.spatialReference=new or(I$((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,n=this.xmin,s=this.xmax;return n>=r&&n<=i&&s>=r&&s<=i||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;const n=r??ta(i);if(n==null)return this;const s=this._getParts(n).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(f)}return c}),hasZ:o,hasM:a,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:n,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let f;e=e||ta(o);const[d,p]=e.valid;f=mb(this.xmin,e);const y=f.x,g=f.frameId;f=mb(this.xmax,e);const _=f.x,w=f.frameId,x=y===_&&a>0;if(a>2*p){const T=new Cn(l<c?y:_,n,p,s,o),S=new Cn(d,n,l<c?_:y,s,o),v=new Cn(0,n,p,s,o),M=new Cn(d,n,0,s,o),O=[],P=[];T.contains(v)&&O.push(g),T.contains(M)&&P.push(g),S.contains(v)&&O.push(w),S.contains(M)&&P.push(w);for(let R=g+1;R<w;R++)O.push(R),P.push(R);t.push({extent:T,frameIds:[g]},{extent:S,frameIds:[w]},{extent:v,frameIds:O},{extent:M,frameIds:P})}else y>_||x?t.push({extent:new Cn(y,n,p,s,o),frameIds:[g]},{extent:new Cn(d,n,_,s,o),frameIds:[w]}):t.push({extent:new Cn(y,n,_,s,o),frameIds:[g]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const n={};r&&(n.zmin=this.zmin,n.zmax=this.zmax),i&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<t.length;s++)t[s].extent.set(n)}return t}};function mb(e,t){const[r,i]=t.valid,n=2*i;let s,o=0;return e>i?(s=Math.ceil(Math.abs(e-i)/n),e-=s*n,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/n),e+=s*n,o=-s),{x:e,frameId:o}}b([A({readOnly:!0})],jr.prototype,"cache",null),b([A({readOnly:!0})],jr.prototype,"center",null),b([A({readOnly:!0})],jr.prototype,"extent",null),b([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jr.prototype,"hasM",null),b([A({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jr.prototype,"hasZ",null),b([A({readOnly:!0})],jr.prototype,"height",null),b([A({readOnly:!0})],jr.prototype,"width",null),b([A({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],jr.prototype,"xmin",void 0),b([A({type:Number,json:{write:!0}})],jr.prototype,"ymin",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],jr.prototype,"mmin",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jr.prototype,"zmin",void 0),b([A({type:Number,json:{write:!0}})],jr.prototype,"xmax",void 0),b([A({type:Number,json:{write:!0}})],jr.prototype,"ymax",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],jr.prototype,"mmax",void 0),b([A({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jr.prototype,"zmax",void 0),jr=Cn=b([oe("esri.geometry.Extent")],jr),jr.prototype.toJSON.isDefaultToJSON=!0;const _n=jr;function jh(e,t,r=!1){let{hasM:i,hasZ:n}=e;Array.isArray(t)?t.length!==4||i||n?t.length===3&&r&&!i?(n=!0,i=!1):t.length===3&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=i}var Q_;function AA(e){return(t,r)=>t==null?r:r==null?t:e(t,r)}function EG(e){return e&&(e.declaredClass==="esri.geometry.SpatialReference"||e.wkid!=null)}let Ca=Q_=class extends cu{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):EG(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=r.points?.[0];return i&&(r.hasZ===void 0&&r.hasM===void 0?(r.hasZ=i.length>2,r.hasM=!1):r.hasZ===void 0?r.hasZ=i.length>3:r.hasM===void 0&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new _n,r=this.hasZ,i=this.hasM,n=r?3:2,s=e[0],o=AA(Math.min),a=AA(Math.max);let l,c,f,d,[p,y]=s,[g,_]=s;for(let w=0,x=e.length;w<x;w++){const T=e[w],[S,v]=T;if(p=o(p,S),y=o(y,v),g=a(g,S),_=a(_,v),r&&T.length>2){const M=T[2];l=o(l,M),f=a(f,M)}if(i&&T.length>n){const M=T[n];c=o(c,M),d=a(d,M)}}return t.xmin=p,t.ymin=y,t.xmax=g,t.ymax=_,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=f):(t.zmin=void 0,t.zmax=void 0),i?(t.mmin=c,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=ge(this.points)}addPoint(e){return jh(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:ge(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new Q_(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new Lr(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new Lr(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(jh(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return e!=null&&e>=0&&e<this.points.length}};b([A({readOnly:!0})],Ca.prototype,"cache",null),b([A()],Ca.prototype,"extent",null),b([A({type:[[Number]],json:{write:{isRequired:!0}}})],Ca.prototype,"points",void 0),b([jt("points")],Ca.prototype,"writePoints",null),Ca=Q_=b([oe("esri.geometry.Multipoint")],Ca),Ca.prototype.toJSON.isDefaultToJSON=!0;const z1=Ca;function nye(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function TG(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}var vg;(function(e){e[e.X=0]="X",e[e.Y=1]="Y",e[e.Z=2]="Z"})(vg||(vg={}));function ux(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}return Math.sqrt(r*r+i*i)}function AG(e,t,r){const i=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,n,e[2]+r*(t[2]-e[2])]:[i,n]}function sye(e,t,r,i){return MG(e,t,r[i],r[i+1])}function MG(e,t,r,i){const[n,s]=t,[o,a]=r,[l,c]=i,f=l-o,d=c-a,p=f*f+d*d,y=(n-o)*f+(s-a)*d,g=Math.min(1,Math.max(0,y/p));return e[0]=o+f*g,e[1]=a+d*g,e}function oye(e,t,r,i,n,s){let o=r,a=i,l=n-o,c=s-a;if(l!==0||c!==0){const f=((e-o)*l+(t-a)*c)/(l*l+c*c);f>1?(o=n,a=s):f>0&&(o+=l*f,a+=c*f)}return l=e-o,c=t-a,l*l+c*c}function f5(e,t){return AG(e,t,.5)}function aye(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=ux(e[i],e[i+1]);return r}function d5(e,t=vg.X,r=vg.Y){let i=0;const n=e.length;let s=e[0];for(let o=1;o<n;o++){const a=e[o];i+=(a[t]-s[t])*(a[r]+s[r]),s=a}if(!p5(e)){const o=e[0];i+=(o[t]-s[t])*(o[r]+s[r])}return i>=0}function p5(e){const t=e.length;return t<3||C1(e[0],e[t-1])}function lye(e){"rings"in e&&(IG(e),OG(e))}function IG(e){if(!("rings"in e))return!1;let t=!1;for(const r of e.rings)p5(r)||(r.push(r[0].slice()),t=!0);return t}function OG(e){if(!("rings"in e)||e.rings.length===0||d5(e.rings[0]))return!1;for(const t of e.rings)t.reverse();return!0}function cye(e){return e.type!=="polygon"&&e.type!=="polyline"||$G(e.type==="polygon"?e.rings:e.paths,e.spatialReference),e}function $G(e,t){const r=ta(t);if(!r)return;const i=r.valid[0],n=r.valid[1],s=n-i;for(const o of e){let a=1/0,l=-1/0;for(const f of o){const d=CG(f[0],i,n);a=Math.min(a,d),l=Math.max(l,d),f[0]=d}const c=l-a;s-c<c&&o.forEach(f=>{f[0]<0&&(f[0]+=s)})}}function CG(e,t,r){const i=r-t;return e<t?r-(t-e)%i:e>r?t+(e-t)%i:e}function uye(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if(e.type==="point"||e.type==="mesh"||e.type==="extent")return!0;if(e.type==="multipoint")return e.points.length===t.points.length;const[r,i]=e.type==="polyline"?[e.paths,t.paths]:[e.rings,t.rings];return r.length===i.length&&r.every((n,s)=>n.length===i[s].length)}function hye(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function NG(e){return e?PG(e.rings,e.hasZ??!1):null}function PG(e,t){if(!e?.length)return null;const r=[],i=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=e.length;s<o;s++){const a=m5(e[s],t,n);a&&i.push(a)}if(i.sort((s,o)=>{let a=s[2]-o[2];return a===0&&t&&(a=s[4]-o[4]),a}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const s=e[0]&&e[0].length?LG(e[0],t):null;if(!s)return null;r[0]=s[0],r[1]=s[1],t&&s.length>2&&(r[2]=s[2])}return r}function m5(e,t,r){let i=0,n=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,c=e.length?e[0][1]:0,f=e.length&&t?e[0][2]:0;for(let p=0;p<e.length;p++){const y=e[p],g=e[(p+1)%e.length],[_,w,x]=y,T=_-l,S=w-c,[v,M,O]=g,P=v-l,R=M-c,k=T*R-P*S;if(o+=k,i+=(T+P)*k,n+=(S+R)*k,t&&y.length>2&&g.length>2){const G=x-f,V=O-f,U=T*V-P*G;s+=(G+V)*U,a+=U}_<r[0]&&(r[0]=_),_>r[1]&&(r[1]=_),w<r[2]&&(r[2]=w),w>r[3]&&(r[3]=w),t&&(x<r[4]&&(r[4]=x),x>r[5]&&(r[5]=x))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,n/(6*o)+c,o];return t&&(r[4]===r[5]||a===0?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=s/(6*a)+f,d[4]=a)),d}function fye(e,t){let r=0,i=0,n=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const c=[e.x,e.y],[f,d]=l,p=f-s,y=d-o,[g,_]=c,w=g-s,x=_-o,T=p*x-w*y;n+=T,r+=(p+w)*T,i+=(y+x)*T,f<t[0]&&(t[0]=f),f>t[1]&&(t[1]=f),d<t[2]&&(t[2]=d),d>t[3]&&(t[3]=d)}return n>0&&(n*=-1),n?(n*=.5,[r/(6*n)+s,i/(6*n)+o,n]):null}function LG(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;for(let l=0,c=e.length;l<c-1;l++){const f=e[l],d=e[l+1];if(f&&d){r[0]=f[0],r[1]=f[1],i[0]=d[0],i[1]=d[1],t&&f.length>2&&d.length>2&&(r[2]=f[2],i[2]=d[2]);const p=ux(r,i);if(p){n+=p;const y=f5(f,d);s+=p*y[0],o+=p*y[1],t&&y.length>2&&(a+=p*y[2])}}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.length?e[0]:null}function kG(e){const{hasZ:t,totalSize:r}=e;if(r===0)return null;const i=[],n=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const o=m5(TG(e),e.hasZ,s);o&&n.push(o)}if(n.sort((o,a)=>{let l=o[2]-a[2];return l===0&&t&&(l=o[4]-a[4]),l}),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const o=e.pathSize?RG(e):null;if(!o)return null;i[0]=o[0],i[1]=o[1],t&&o.length>2&&(i[2]=o[2])}return i}function RG(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,c=e.y,f=e.z;for(;e.nextPoint();){const d=e.x,p=e.y,y=e.z;r[0]=l,r[1]=c,i[0]=d,i[1]=p,t&&(r[2]=f,i[2]=y);const g=ux(r,i);if(g){n+=g;const _=f5(r,i);s+=g*_[0],o+=g*_[1],t&&_.length>2&&(a+=g*_[2])}l=d,c=p,f=y}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const DG=1e-6;function dye(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<DG){const n=kG(e);return n?[n[0],n[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)UG(r,i,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=i[0],r[1]+=i[1],r}const FG=1/3;function UG(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const i=r.x,n=r.y;r.nextPoint();let s,o=r.x-i,a=r.y-n,l=0,c=0;for(;r.nextPoint();)l=r.x-i,c=r.y-n,s=.5*FG*(l*a-c*o),e[0]+=s*(o+l),e[1]+=s*(a+c),o=l,a=c;const f=r.getCurrentRingArea(),d=[i,n];return d[0]-=t[0],d[1]-=t[1],d[0]*=f,d[1]*=f,e[0]+=d[0],e[1]+=d[1],e}function mm(e=VG){return[e[0],e[1],e[2],e[3]]}function y5(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function pye(e,t,r,i,n=mm()){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function mye(e,t=mm()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function yye(e,t){return new _n({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function gye(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function vye(e,t,r){if(t!=null)if("length"in t)e2(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):t.length!==2&&t.length!==3||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else y5(r,e)}function jG(e){return e==null||e[0]>=e[2]?0:e[2]-e[0]}function GG(e){return e==null||e[1]>=e[3]?0:e[3]-e[1]}function bye(e){return jG(e)*GG(e)}function _ye(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t}function wye(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function Sye(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function xye(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Eye(e){return e?y5(e,MA):mm(MA)}function e2(e){return e!=null&&e.length===4}function Tye(e,t){return e2(e)&&e2(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const MA=[1/0,1/0,-1/0,-1/0],VG=[0,0,0,0];function g5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function v5(e){return e.points!==void 0}function b5(e){return e.x!==void 0&&e.y!==void 0}function _5(e){return e.paths!==void 0}function w5(e){return e.rings!==void 0}function S5(e){function t(r,i){return r==null?i:i==null?r:e(r,i)}return t}const nl=S5(Math.min),sl=S5(Math.max);function Aye(e,t){return _5(t)?Gh(e,t.paths,!1,!1):w5(t)?Gh(e,t.rings,!1,!1):v5(t)?hx(e,t.points,!1,!1,!1,!1):g5(t)?x5(e,t):(b5(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function Mye(e){let t,r,i,n;for(e.reset(),t=i=1/0,r=n=-1/0;e.nextPath();){const s=BG(e);t=Math.min(s[0],t),i=Math.min(s[1],i),r=Math.max(s[2],r),n=Math.max(s[3],n)}return mm([t,i,r,n])}function BG(e){let t,r,i,n;for(t=i=1/0,r=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),r=Math.max(e.x,r),n=Math.max(e.y,n);return mm([t,i,r,n])}function Iye(e,t){return _5(t)?Gh(e,t.paths,!0,!1):w5(t)?Gh(e,t.rings,!0,!1):v5(t)?hx(e,t.points,!0,!1,!0,!1):g5(t)?x5(e,t,!0,!1,!0,!1):(b5(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function Gh(e,t,r,i){const n=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[c,f]=t[0][0],[d,p]=t[0][0];for(let y=0;y<t.length;y++){const g=t[y];for(let _=0;_<g.length;_++){const w=g[_],[x,T]=w;if(c=nl(c,x),f=nl(f,T),d=sl(d,x),p=sl(p,T),r&&w.length>2){const S=w[2];s=nl(s,S),o=sl(o,S)}if(i&&w.length>n){const S=w[n];a=nl(s,S),l=sl(o,S)}}}return r?i?(e[0]=c,e[1]=f,e[2]=s,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=l,e.length=8,e):(e[0]=c,e[1]=f,e[2]=s,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):i?(e[0]=c,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=l,e.length=6,e):(e[0]=c,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function x5(e,t,r,i,n,s){const o=t.xmin,a=t.xmax,l=t.ymin,c=t.ymax;let f=t.zmin,d=t.zmax,p=t.mmin,y=t.mmax;return n?(f=f||0,d=d||0,s?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=f,e[3]=p,e[4]=a,e[5]=c,e[6]=d,e[7]=y,e):(e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=c,e[5]=d,e)):s?(p=p||0,y=y||0,e[0]=o,e[1]=l,e[2]=p,e[3]=a,e[4]=c,e[5]=y,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=c,e)}function hx(e,t,r,i,n,s){const o=r?3:2,a=i&&s,l=r&&n;if(!t.length||!t[0].length)return null;let c,f,d,p,[y,g]=t[0],[_,w]=t[0];for(let x=0;x<t.length;x++){const T=t[x],[S,v]=T;if(y=nl(y,S),g=nl(g,v),_=sl(_,S),w=sl(w,v),l&&T.length>2){const M=T[2];c=nl(c,M),f=sl(f,M)}if(a&&T.length>o){const M=T[o];d=nl(c,M),p=sl(f,M)}}return n?(c=c||0,f=f||0,s?(d=d||0,p=p||0,e[0]=y,e[1]=g,e[2]=c,e[3]=d,e[4]=_,e[5]=w,e[6]=f,e[7]=p,e):(e[0]=y,e[1]=g,e[2]=c,e[3]=_,e[4]=w,e[5]=f,e)):s?(d=d||0,p=p||0,e[0]=y,e[1]=g,e[2]=d,e[3]=_,e[4]=w,e[5]=p,e):(e[0]=y,e[1]=g,e[2]=_,e[3]=w,e)}function zG(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function qG(e){return e.points!==void 0}function WG(e){return e.x!==void 0&&e.y!==void 0}function HG(e){return e.paths!==void 0}function YG(e){return e.rings!==void 0}const fx=[];function E5(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function T5(e,t,r,i,n,s){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:n,zmax:s}}function A5(e,t,r,i,n,s){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:n,mmax:s}}function M5(e,t,r,i,n,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:n,ymax:s,zmax:o,mmax:a}}function dx(e,t=!1,r=!1){return t?r?M5(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):T5(e[0],e[1],e[2],e[3],e[4],e[5]):r?A5(e[0],e[1],e[2],e[3],e[4],e[5]):E5(e[0],e[1],e[2],e[3])}function Oye(e){return e?zG(e)?e:WG(e)?KG(e):YG(e)?I5(e):HG(e)?O5(e):qG(e)?JG(e):null:null}function JG(e){const{hasZ:t,hasM:r,points:i}=e;return dx(hx(fx,i,t??!1,r??!1),t,r)}function KG(e){const{x:t,y:r,z:i,m:n}=e,s=n!=null;return i!=null?s?M5(t,r,i,n,t,r,i,n):T5(t,r,i,t,r,i):s?A5(t,r,n,t,r,n):E5(t,r,t,r)}function I5(e){const{hasZ:t,hasM:r,rings:i}=e,n=Gh(fx,i,t??!1,r??!1);return n?dx(n,t,r):null}function O5(e){const{hasZ:t,hasM:r,paths:i}=e,n=Gh(fx,i,t??!1,r??!1);return n?dx(n,t,r):null}var sy;function IA(e){return!Array.isArray(e[0])}function ZG(e){return typeof e[0]?.[0]=="number"}function XG(e){if(!e)return;let{rings:t,hasM:r,hasZ:i,spatialReference:n}=e;switch(t??=[],ZG(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return n??=or.WGS84,{...e,hasM:r,hasZ:i,rings:t,spatialReference:n}}let Hs=sy=class extends cu{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let i=!1,n=!1;for(const o of t)o.hasZ&&(i=!0),o.hasM&&(n=!0);const s={rings:t.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(i&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(n&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:r};return i&&(s.hasZ=!0),n&&(s.hasM=!0),new sy(s)}constructor(e){super(XG(e)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=NG(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new Lr;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=I5(this);if(!t)return null;const r=new _n(t);return r.spatialReference=e,r}get isSelfIntersecting(){return wG(this.rings)}writeRings(e,t){t.rings=ge(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(IA(e)){const i=[];for(let n=0,s=e.length;n<s;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new sy;return e.spatialReference=this.spatialReference,e.rings=ge(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(e==null)return!1;const t=this.spatialReference,r=e.spatialReference;if(t!=null!=(r!=null)||t!=null&&r!=null&&!t.equals(r)||this.rings.length!==e.rings.length)return!1;const i=([n,s,o,a],[l,c,f,d])=>n===l&&s===c&&(o==null&&f==null||o===f)&&(a==null&&d==null||a===d);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],o=e.rings[n];if(!C1(s,o,i))return!1}return!0}contains(e){if(!e)return!1;const t=s5(e,this.spatialReference);return hG(this,t??e)}isClockwise(e){const t=IA(e)?e.map(r=>this.hasZ?this.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y]):e;return d5(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new Lr(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new Lr(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new Lr(r[0],r[1],r[2],r[3],this.spatialReference):new Lr(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(jh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Lr(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new Lr(n,r));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(jh(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.rings.length)return!1;if(t!=null){const i=this.rings[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([A({readOnly:!0})],Hs.prototype,"cache",null),b([A({readOnly:!0})],Hs.prototype,"centroid",null),b([A({readOnly:!0})],Hs.prototype,"extent",null),b([A({readOnly:!0})],Hs.prototype,"isSelfIntersecting",null),b([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],Hs.prototype,"rings",void 0),b([jt("rings")],Hs.prototype,"writeRings",null),Hs=sy=b([oe("esri.geometry.Polygon")],Hs);const yo=Hs;Hs.prototype.toJSON.isDefaultToJSON=!0;var t2;function QG(e){return!Array.isArray(e[0])}function eV(e){return typeof e[0]?.[0]=="number"}function tV(e){if(!e)return;let{paths:t,hasM:r,hasZ:i,spatialReference:n}=e;switch(t??=[],eV(t)&&(t=[t]),t[0]?.[0]?.length){case 4:i??=!0,r??=!0;break;case 3:i??=r!==!0,r??=!i;break;default:i??=!1,r??=!1}return n??=or.WGS84,{...e,hasM:r,hasZ:i,paths:t,spatialReference:n}}let za=t2=class extends cu{constructor(e){super(tV(e)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=O5(this);if(!t)return null;const r=new _n(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=ge(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(QG(e)){const i=[];for(let n=0,s=e.length;n<s;n++)i[n]=e[n].toArray();t[r]=i}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new t2;return e.spatialReference=this.spatialReference,e.paths=ge(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new Lr(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new Lr(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new Lr(r[0],r[1],r[2],r[3],this.spatialReference):new Lr(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(jh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map(n=>new Lr(n,r));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new Lr(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(jh(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(e==null||e<0||e>=this.paths.length)return!1;if(t!=null){const i=this.paths[e];if(r&&(t<0||t>i.length)||!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};b([A({readOnly:!0})],za.prototype,"cache",null),b([A({readOnly:!0})],za.prototype,"extent",null),b([A({type:[[[Number]]],json:{write:{isRequired:!0}}})],za.prototype,"paths",void 0),b([jt("paths")],za.prototype,"writePaths",null),za=t2=b([oe("esri.geometry.Polyline")],za);const Gn=za;za.prototype.toJSON.isDefaultToJSON=!0;function $5(e){return e.xmin!==void 0&&e.ymin!==void 0&&e.xmax!==void 0&&e.ymax!==void 0}function C5(e){return e.points!==void 0}function N5(e){return e.x!==void 0&&e.y!==void 0}function P5(e){return e.paths!==void 0}function px(e){return e.rings!==void 0}function ym(e){return e==null?null:e instanceof cu?e:N5(e)?Lr.fromJSON(e):P5(e)?Gn.fromJSON(e):px(e)?yo.fromJSON(e):C5(e)?z1.fromJSON(e):$5(e)?_n.fromJSON(e):null}function q1(e){return e?N5(e)?"esriGeometryPoint":P5(e)?"esriGeometryPolyline":px(e)?"esriGeometryPolygon":$5(e)?"esriGeometryEnvelope":C5(e)?"esriGeometryMultipoint":null:null}const rV={esriGeometryPoint:Lr,esriGeometryPolyline:Gn,esriGeometryPolygon:yo,esriGeometryEnvelope:_n,esriGeometryMultipoint:z1,esriGeometryMultiPatch:yo};function iV(e){return e&&rV[e]||null}const $ye=Os()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),nV=Os()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),mx={base:cu,key:"type",typeMap:{extent:_n,multipoint:z1,point:Lr,polyline:Gn,polygon:yo}};Gc(mx);const ha=e=>{let t=class extends e{clone(){const r=yl(this);bF(r,"unable to clone instance of non-accessor class");const i=r.metadata,n=r.store,s={},o=new Map;for(const l in i){const c=i[l],f=n?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||f!==st.USER&&f!==st.DEFAULTS&&f!==st.WEB_MAP&&f!==st.WEB_SCENE)continue;const p=this[l];let y=null;y=typeof d=="function"?d(p):d==="reference"?p:b_(p),p!=null&&y==null||(f===st.DEFAULTS?o.set(l,y):s[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=yl(a)?.store;if(l)for(const[c,f]of o)l.set(c,f,st.DEFAULTS)}return a}};return t=b([oe("esri.core.Clonable")],t),t};let OA=class extends ha(ei){};OA=b([oe("esri.core.Clonable")],OA);let oy=class L5{constructor(){this._emitter=new L5.EventEmitter(this)}emit(t,r){return this._emitter.emit(t,r)}on(t,r){return this._emitter.on(t,r)}once(t,r){return this._emitter.once(t,r)}hasEventListener(t){return this._emitter.hasEventListener(t)}};(function(e){class t{constructor(n=null){this._target=n,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(n,s){let o=this._listenersMap?.get(n);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const f="deref"in c?c.deref():c;f?f?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(n,o)),o.length>0}on(n,s){if(Array.isArray(n)){const a=n.map(l=>this.on(l,s));return GS(a)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(n)||[];return o.push(s),this._listenersMap.set(n,o),Ir(()=>{const a=this._listenersMap?.get(n),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(n,s){const o=this.on(n,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(n){const s=this._listenersMap?.get(n);return s!=null&&s.length>0}}e.EventEmitter=t,e.EventedMixin=i=>{let n=class extends i{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return n=b([oe("esri.core.Evented")],n),n};let r=class extends ei{constructor(){super(...arguments),this._emitter=new oy.EventEmitter(this)}destroy(){this._emitter.clear()}emit(i,n){return this._emitter.emit(i,n)}on(i,n){return this._emitter.on(i,n)}once(i,n){return this._emitter.once(i,n)}hasEventListener(i){return this._emitter.hasEventListener(i)}};r=b([oe("esri.core.Evented.EventedAccessor")],r),e.EventedAccessor=r})(oy||(oy={}));const sV=oy;var bt;(function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"})(bt||(bt={}));function oV(e){return(t,r)=>{t[r]=e}}let aV=class extends nC{notify(){const t=this._observers;if(t&&t.length>0){const r=t.slice();for(const i of r)i.onInvalidated(),i.onCommitted()}}};var Ho;let lV=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},cV=class{constructor(t,r,i,n,s){this.target=t,this.added=r,this.removed=i,this.start=n,this.deleteCount=s}};const Mn=new um(lV,void 0,e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1});function $A(e){e&&typeof e=="object"&&"destroy"in e&&typeof e.destroy=="function"&&e.destroy()}function yb(e){return e?e instanceof Bo?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function gb(e){if(e?.length)return e[0]}function uV(e,t,r,i){const n=Math.min(e.length-r,t.length-i);let s=0;for(;s<n&&e[r+s]===t[i+s];)s++;return s}function k5(e,t,r,i){t&&t.forEach((n,s,o)=>{e.push(n),k5(e,r.call(i,n,s,o),r,i)})}const _a=new Set,wa=new Set,Sa=new Set,vb=new Map;let hV=0,Bo=Ho=class extends sV.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Ho}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new aV,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:hV++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Ho?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Je(this._observable),this._items}set items(e){this._emitBeforeChanges(bt.ADD)||(this._splice(0,this.length,yb(e)),this._emitAfterChanges(bt.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,t){if(this.destroyed)return Ir();if(e==="change"){const r=this._chgListeners,i={removed:!1,callback:t};return r.push(i),this._notifications&&this._notifications.push({listeners:r.slice(),items:this._items.slice(),changes:[]}),Ir(()=>{i.removed=!0,r.splice(r.indexOf(i),1)})}return this._emitter.on(e,t)}once(e,t){const r="deref"in t?()=>t.deref():()=>t,i=this.on(e,n=>{r()?.call(null,n),i.remove()});return i}add(e,t){if(Je(this._observable),this._emitBeforeChanges(bt.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(bt.ADD),this}addMany(e,t=this._items.length){if(Je(this._observable),!e?.length)return this;if(this._emitBeforeChanges(bt.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,yb(e)),this._emitAfterChanges(bt.ADD),this}at(e){if(Je(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(bt.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Je(this._observable),this._createNewInstance({items:this._items.map(ge)})}concat(...e){Je(this._observable);const t=e.map(yb);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return;const r=this._splice(0,this.length),i=r.length;for(let n=0;n<i;n++)e.call(t,r[n],n,r);this._emitAfterChanges(bt.REMOVE)}destroyAll(){this.drain($A)}destroyMany(e){const t=this.removeMany(e);return t.forEach($A),t}every(e,t){return Je(this._observable),this._items.every(e,t)}filter(e,t){let r;return Je(this._observable),r=arguments.length===2?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Je(this._observable),this._items.find(e,t)}findIndex(e,t){return Je(this._observable),this._items.findIndex(e,t)}flatten(e,t){Je(this._observable);const r=[];return k5(r,this,e,t),new Ho(r)}forEach(e,t){return Je(this._observable),this._items.forEach(e,t)}getItemAt(e){return Je(this._observable),this._items[e]}getNextIndex(e){Je(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Je(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Je(this._observable),this._items.indexOf(e,t)}join(e=","){return Je(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Je(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Je(this._observable);const r=this._items.map(e,t);return new Ho({items:r})}reorder(e,t=this.length-1){Je(this._observable);const r=this.indexOf(e);if(r!==-1){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(bt.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(bt.MOVE)}return e}}pop(){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return;const e=gb(this._splice(this.length-1,1));return this._emitAfterChanges(bt.REMOVE),e}push(...e){return Je(this._observable),this._emitBeforeChanges(bt.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(bt.ADD)),this.length}reduce(e,t){Je(this._observable);const r=this._items;return arguments.length===2?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Je(this._observable);const r=this._items;return arguments.length===2?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Je(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Je(this._observable),e<0||e>=this.length||this._emitBeforeChanges(bt.REMOVE))return;const t=gb(this._splice(e,1));return this._emitAfterChanges(bt.REMOVE),t}removeMany(e){if(Je(this._observable),!e?.length||this._emitBeforeChanges(bt.REMOVE))return[];const t=e instanceof Ho?e.toArray():e,r=this._items,i=[],n=t.length;for(let s=0;s<n;s++){const o=t[s],a=r.indexOf(o);if(a>-1){const l=1+uV(t,r,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&i.push.apply(i,c),s+=l-1}}return this._emitAfterChanges(bt.REMOVE),i}reverse(){if(Je(this._observable),this._emitBeforeChanges(bt.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(bt.MOVE),this}shift(){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.REMOVE))return;const e=gb(this._splice(0,1));return this._emitAfterChanges(bt.REMOVE),e}slice(e=0,t=this.length){return Je(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Je(this._observable),this._items.some(e,t)}sort(e){if(Je(this._observable),!this.length||this._emitBeforeChanges(bt.MOVE))return this;const t=this._splice(0,this.length);return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(bt.MOVE),this}splice(e,t,...r){Je(this._observable);const i=(t?bt.REMOVE:0)|(r.length?bt.ADD:0);if(this._emitBeforeChanges(i))return[];const n=this._splice(e,t,r)||[];return this._emitAfterChanges(i),n}toArray(){return Je(this._observable),this._items.slice()}toJSON(){return Je(this._observable),this.toArray()}toLocaleString(){return Je(this._observable),this._items.toLocaleString()}toString(){return Je(this._observable),this._items.toString()}unshift(...e){return Je(this._observable),!e.length||this._emitBeforeChanges(bt.ADD)||(this._splice(0,0,e),this._emitAfterChanges(bt.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,n=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=mC(()=>this._dispatchChange())),e<0&&(e+=this.length),t){if(o=i.splice(e,t),this.hasEventListener("before-remove")){const a=Mn.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),i.splice(e,0,s),e+=1,l-=1,c-=1);Mn.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Mn.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Mn.release(a)}}if(r?.length){if(n){const f=[];for(const d of r){const p=n.ensureType(d);p==null&&d!=null||f.push(p)}r=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=e===this.length;if(a||l){const f=Mn.acquire();f.target=this,f.cancellable=!0;const d=Mn.acquire();d.target=this,d.cancellable=!1;for(const p of r)a?(f.reset(p),this.emit("before-add",f),f.defaultPrevented||(c?i.push(p):i.splice(e++,0,p),this._set("length",i.length),l&&(d.reset(p),this.emit("after-add",d)))):(c?i.push(p):i.splice(e++,0,p),this._set("length",i.length),d.reset(p),this.emit("after-add",d));Mn.release(d),Mn.release(f)}else{if(c)for(const f of r)i.push(f);else i.splice(e,0,...r);this._set("length",i.length)}}if((r?.length||o?.length)&&this._notifyChangeEvent(r,o),this.hasEventListener("after-splice")){const a=new cV(this,r,o,e,t);this.emit("after-splice",a)}return o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=Mn.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,Mn.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=Mn.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),Mn.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const r=t.changes;_a.clear(),wa.clear(),Sa.clear();for(const{added:l,removed:c}of r){if(l)if(Sa.size===0&&wa.size===0)for(const f of l)_a.add(f);else for(const f of l)wa.has(f)?(Sa.add(f),wa.delete(f)):Sa.has(f)||_a.add(f);if(c)if(Sa.size===0&&_a.size===0)for(const f of c)wa.add(f);else for(const f of c)_a.has(f)?_a.delete(f):(Sa.delete(f),wa.add(f))}const i=Ba.acquire();_a.forEach(l=>{i.push(l)});const n=Ba.acquire();wa.forEach(l=>{n.push(l)});const s=this._items,o=t.items,a=Ba.acquire();if(Sa.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),t.listeners&&(i.length||n.length||a.length)){const l={target:this,added:i,removed:n,moved:a},c=t.listeners.length;for(let f=0;f<c;f++){const d=t.listeners[f];d.removed||d.callback.call(this,l)}}Ba.release(i),Ba.release(n),Ba.release(a)}_a.clear(),wa.clear(),Sa.clear()}};Bo.ofType=e=>{if(!e)return Ho;if(vb.has(e))return vb.get(e);let t=null;if(typeof e=="function")t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const i in e.typeMap){const n=e.typeMap[i].prototype.declaredClass;t?t+=` | ${n}`:t=n}let r=class extends Ho{};return b([oV({Type:e,ensureType:typeof e=="function"?xs(e):Gc(e)})],r.prototype,"itemType",void 0),r=b([oe(`esri.core.Collection<${t}>`)],r),vb.set(e,r),r},b([A()],Bo.prototype,"_updating",void 0),b([A()],Bo.prototype,"length",void 0),b([A()],Bo.prototype,"items",null),b([A({readOnly:!0})],Bo.prototype,"updating",null),Bo=Ho=b([oe("esri.core.Collection")],Bo);const qt=Bo;async function fV(e,t){const{WhereClause:r}=await Ee(()=>import("./WhereClause-nf6bISOt.js").then(i=>i.W),__vite__mapDeps([8,9,10]),import.meta.url);return r.create(e,{fieldsIndex:t})}function dV(e,t){return e==="1=1"?t??e:t==="1=1"?e??t:e!=null&&e!==""?t!=null&&t!==""?`(${e}) AND (${t})`:e:t}let Fd;const pV=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,r2=globalThis.document?.documentElement;function R5(){const e=r2?.getAttribute("lang"),t=globalThis.navigator?.language;return pV??e??t??"en"}function ao(){return Fd===void 0&&(Fd=R5()),Fd}function kye(e=ao()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(e)?.[1].toLowerCase()}const ay=[];function Rye(e){return ay.push(e),Ir(()=>ay.splice(ay.indexOf(e),1))}const ly=[];function yx(e){return ly.push(e),Ir(()=>ly.splice(ly.indexOf(e),1))}function CA(){const e=R5();Fd!==e&&([...ly].forEach(t=>t(e)),Fd=e,[...ay].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",CA),r2&&new MutationObserver(()=>{CA()}).observe(r2,{attributeFilter:["lang"]});const NA=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class uu extends Error{}class mV extends uu{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class yV extends uu{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class gV extends uu{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class rh extends uu{}class D5 extends uu{constructor(t){super(`Invalid unit ${t}`)}}class pi extends uu{}class xa extends uu{constructor(){super("Zone is an abstract class")}}const be="numeric",Ts="short",yn="long",bg={year:be,month:be,day:be},F5={year:be,month:Ts,day:be},vV={year:be,month:Ts,day:be,weekday:Ts},U5={year:be,month:yn,day:be},j5={year:be,month:yn,day:be,weekday:yn},G5={hour:be,minute:be},V5={hour:be,minute:be,second:be},B5={hour:be,minute:be,second:be,timeZoneName:Ts},z5={hour:be,minute:be,second:be,timeZoneName:yn},q5={hour:be,minute:be,hourCycle:"h23"},W5={hour:be,minute:be,second:be,hourCycle:"h23"},H5={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Ts},Y5={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:yn},J5={year:be,month:be,day:be,hour:be,minute:be},K5={year:be,month:be,day:be,hour:be,minute:be,second:be},Z5={year:be,month:Ts,day:be,hour:be,minute:be},X5={year:be,month:Ts,day:be,hour:be,minute:be,second:be},bV={year:be,month:Ts,day:be,weekday:Ts,hour:be,minute:be},Q5={year:be,month:yn,day:be,hour:be,minute:be,timeZoneName:Ts},eN={year:be,month:yn,day:be,hour:be,minute:be,second:be,timeZoneName:Ts},tN={year:be,month:yn,day:be,weekday:yn,hour:be,minute:be,timeZoneName:yn},rN={year:be,month:yn,day:be,weekday:yn,hour:be,minute:be,second:be,timeZoneName:yn};class gm{get type(){throw new xa}get name(){throw new xa}get ianaName(){return this.name}get isUniversal(){throw new xa}offsetName(t,r){throw new xa}formatOffset(t,r){throw new xa}offset(t){throw new xa}equals(t){throw new xa}get isValid(){throw new xa}}let bb=null;class W1 extends gm{static get instance(){return bb===null&&(bb=new W1),bb}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return hN(t,r,i)}formatOffset(t,r){return Ud(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let cy={};function _V(e){return cy[e]||(cy[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),cy[e]}const wV={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function SV(e,t){const r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,n,s,o,a,l,c,f]=i;return[o,n,s,a,l,c,f]}function xV(e,t){const r=e.formatToParts(t),i=[];for(let n=0;n<r.length;n++){const{type:s,value:o}=r[n],a=wV[s];s==="era"?i[a]=o:ze(a)||(i[a]=parseInt(o,10))}return i}let o0={};class As extends gm{static create(t){return o0[t]||(o0[t]=new As(t)),o0[t]}static resetCache(){o0={},cy={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=As.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:i}){return hN(t,r,i,this.name)}formatOffset(t,r){return Ud(this.offset(t),r)}offset(t){const r=new Date(t);if(isNaN(r))return NaN;const i=_V(this.name);let[n,s,o,a,l,c,f]=i.formatToParts?xV(i,r):SV(i,r);a==="BC"&&(n=-Math.abs(n)+1);const p=Y1({year:n,month:s,day:o,hour:l===24?0:l,minute:c,second:f,millisecond:0});let y=+r;const g=y%1e3;return y-=g>=0?g:1e3+g,(p-y)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let PA={};function EV(e,t={}){const r=JSON.stringify([e,t]);let i=PA[r];return i||(i=new Intl.ListFormat(e,t),PA[r]=i),i}let i2={};function n2(e,t={}){const r=JSON.stringify([e,t]);let i=i2[r];return i||(i=new Intl.DateTimeFormat(e,t),i2[r]=i),i}let s2={};function TV(e,t={}){const r=JSON.stringify([e,t]);let i=s2[r];return i||(i=new Intl.NumberFormat(e,t),s2[r]=i),i}let o2={};function AV(e,t={}){const{base:r,...i}=t,n=JSON.stringify([e,i]);let s=o2[n];return s||(s=new Intl.RelativeTimeFormat(e,t),o2[n]=s),s}let nd=null;function MV(){return nd||(nd=new Intl.DateTimeFormat().resolvedOptions().locale,nd)}let LA={};function IV(e){let t=LA[e];if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,LA[e]=t}return t}function OV(e){const t=e.indexOf("-x-");t!==-1&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(r===-1)return[e];{let i,n;try{i=n2(e).resolvedOptions(),n=e}catch{const l=e.substring(0,r);i=n2(l).resolvedOptions(),n=l}const{numberingSystem:s,calendar:o}=i;return[n,s,o]}}function $V(e,t,r){return(r||t)&&(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`)),e}function CV(e){const t=[];for(let r=1;r<=12;r++){const i=Ue.utc(2009,r,1);t.push(e(i))}return t}function NV(e){const t=[];for(let r=1;r<=7;r++){const i=Ue.utc(2016,11,13+r);t.push(e(i))}return t}function a0(e,t,r,i){const n=e.listingMode();return n==="error"?null:n==="en"?r(t):i(t)}function PV(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class LV{constructor(t,r,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:s,...o}=i;if(!r||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=TV(t,a)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):wx(t,3);return Pr(r,this.padTo)}}}class kV{constructor(t,r,i){this.opts=i,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const o=-1*(t.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;t.offset!==0&&As.create(a).valid?(n=a,this.dt=t):(n="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,n=t.zone.name):(n="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=n2(r,s)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:i}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class RV{constructor(t,r,i){this.opts={style:"long",...i},!r&&cN()&&(this.rtf=AV(t,i))}format(t,r){return this.rtf?this.rtf.format(t,r):sB(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const DV={firstDay:1,minimalDays:4,weekend:[6,7]};class Ot{static fromOpts(t){return Ot.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,i,n,s=!1){const o=t||mr.defaultLocale,a=o||(s?"en-US":MV()),l=r||mr.defaultNumberingSystem,c=i||mr.defaultOutputCalendar,f=a2(n)||mr.defaultWeekSettings;return new Ot(a,l,c,f,o)}static resetCache(){nd=null,i2={},s2={},o2={}}static fromObject({locale:t,numberingSystem:r,outputCalendar:i,weekSettings:n}={}){return Ot.create(t,r,i,n)}constructor(t,r,i,n,s){const[o,a,l]=OV(t);this.locale=o,this.numberingSystem=r||a||null,this.outputCalendar=i||l||null,this.weekSettings=n,this.intl=$V(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=PV(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Ot.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,a2(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return a0(this,t,pN,()=>{const i=r?{month:t,day:"numeric"}:{month:t},n=r?"format":"standalone";return this.monthsCache[n][t]||(this.monthsCache[n][t]=CV(s=>this.extract(s,i,"month"))),this.monthsCache[n][t]})}weekdays(t,r=!1){return a0(this,t,gN,()=>{const i=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},n=r?"format":"standalone";return this.weekdaysCache[n][t]||(this.weekdaysCache[n][t]=NV(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[n][t]})}meridiems(){return a0(this,void 0,()=>vN,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ue.utc(2016,11,13,9),Ue.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return a0(this,t,bN,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[Ue.utc(-40,1,1),Ue.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[t]})}extract(t,r,i){const n=this.dtFormatter(t,r),s=n.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(t={}){return new LV(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new kV(t,this.intl,r)}relFormatter(t={}){return new RV(this.intl,this.isEnglish(),t)}listFormatter(t={}){return EV(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:uN()?IV(this.locale):DV}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let _b=null;class _i extends gm{static get utcInstance(){return _b===null&&(_b=new _i(0)),_b}static instance(t){return t===0?_i.utcInstance:new _i(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new _i(J1(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ud(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ud(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return Ud(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class FV extends gm{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function tl(e,t){if(ze(e)||e===null)return t;if(e instanceof gm)return e;if(zV(e)){const r=e.toLowerCase();return r==="default"?t:r==="local"||r==="system"?W1.instance:r==="utc"||r==="gmt"?_i.utcInstance:_i.parseSpecifier(r)||As.create(e)}else return cl(e)?_i.instance(e):typeof e=="object"&&"offset"in e&&typeof e.offset=="function"?e:new FV(e)}const gx={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},kA={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},UV=gx.hanidec.replace(/[\[|\]]/g,"").split("");function jV(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);if(e[r].search(gx.hanidec)!==-1)t+=UV.indexOf(e[r]);else for(const n in kA){const[s,o]=kA[n];i>=s&&i<=o&&(t+=i-s)}}return parseInt(t,10)}else return t}let ju={};function GV(){ju={}}function es({numberingSystem:e},t=""){const r=e||"latn";return ju[r]||(ju[r]={}),ju[r][t]||(ju[r][t]=new RegExp(`${gx[r]}${t}`)),ju[r][t]}let RA=()=>Date.now(),DA="system",FA=null,UA=null,jA=null,GA=60,VA,BA=null;class mr{static get now(){return RA}static set now(t){RA=t}static set defaultZone(t){DA=t}static get defaultZone(){return tl(DA,W1.instance)}static get defaultLocale(){return FA}static set defaultLocale(t){FA=t}static get defaultNumberingSystem(){return UA}static set defaultNumberingSystem(t){UA=t}static get defaultOutputCalendar(){return jA}static set defaultOutputCalendar(t){jA=t}static get defaultWeekSettings(){return BA}static set defaultWeekSettings(t){BA=a2(t)}static get twoDigitCutoffYear(){return GA}static set twoDigitCutoffYear(t){GA=t%100}static get throwOnInvalid(){return VA}static set throwOnInvalid(t){VA=t}static resetCaches(){Ot.resetCache(),As.resetCache(),Ue.resetCache(),GV()}}class fs{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const iN=[0,31,59,90,120,151,181,212,243,273,304,334],nN=[0,31,60,91,121,152,182,213,244,274,305,335];function Vn(e,t){return new fs("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function vx(e,t,r){const i=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const n=i.getUTCDay();return n===0?7:n}function sN(e,t,r){return r+(vm(e)?nN:iN)[t-1]}function oN(e,t){const r=vm(e)?nN:iN,i=r.findIndex(s=>s<t),n=t-r[i];return{month:i+1,day:n}}function bx(e,t){return(e-t+7)%7+1}function _g(e,t=4,r=1){const{year:i,month:n,day:s}=e,o=sN(i,n,s),a=bx(vx(i,n,s),r);let l=Math.floor((o-a+14-t)/7),c;return l<1?(c=i-1,l=Sp(c,t,r)):l>Sp(i,t,r)?(c=i+1,l=1):c=i,{weekYear:c,weekNumber:l,weekday:a,...K1(e)}}function zA(e,t=4,r=1){const{weekYear:i,weekNumber:n,weekday:s}=e,o=bx(vx(i,1,t),r),a=_h(i);let l=n*7+s-o-7+t,c;l<1?(c=i-1,l+=_h(c)):l>a?(c=i+1,l-=_h(i)):c=i;const{month:f,day:d}=oN(c,l);return{year:c,month:f,day:d,...K1(e)}}function wb(e){const{year:t,month:r,day:i}=e,n=sN(t,r,i);return{year:t,ordinal:n,...K1(e)}}function qA(e){const{year:t,ordinal:r}=e,{month:i,day:n}=oN(t,r);return{year:t,month:i,day:n,...K1(e)}}function WA(e,t){if(!ze(e.localWeekday)||!ze(e.localWeekNumber)||!ze(e.localWeekYear)){if(!ze(e.weekday)||!ze(e.weekNumber)||!ze(e.weekYear))throw new rh("Cannot mix locale-based week fields with ISO-based week fields");return ze(e.localWeekday)||(e.weekday=e.localWeekday),ze(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),ze(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function VV(e,t=4,r=1){const i=H1(e.weekYear),n=Bn(e.weekNumber,1,Sp(e.weekYear,t,r)),s=Bn(e.weekday,1,7);return i?n?s?!1:Vn("weekday",e.weekday):Vn("week",e.weekNumber):Vn("weekYear",e.weekYear)}function BV(e){const t=H1(e.year),r=Bn(e.ordinal,1,_h(e.year));return t?r?!1:Vn("ordinal",e.ordinal):Vn("year",e.year)}function aN(e){const t=H1(e.year),r=Bn(e.month,1,12),i=Bn(e.day,1,wg(e.year,e.month));return t?r?i?!1:Vn("day",e.day):Vn("month",e.month):Vn("year",e.year)}function lN(e){const{hour:t,minute:r,second:i,millisecond:n}=e,s=Bn(t,0,23)||t===24&&r===0&&i===0&&n===0,o=Bn(r,0,59),a=Bn(i,0,59),l=Bn(n,0,999);return s?o?a?l?!1:Vn("millisecond",n):Vn("second",i):Vn("minute",r):Vn("hour",t)}function ze(e){return typeof e>"u"}function cl(e){return typeof e=="number"}function H1(e){return typeof e=="number"&&e%1===0}function zV(e){return typeof e=="string"}function qV(e){return Object.prototype.toString.call(e)==="[object Date]"}function cN(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function uN(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function WV(e){return Array.isArray(e)?e:[e]}function HA(e,t,r){if(e.length!==0)return e.reduce((i,n)=>{const s=[t(n),n];return i&&r(i[0],s[0])===i[0]?i:s},null)[1]}function HV(e,t){return t.reduce((r,i)=>(r[i]=e[i],r),{})}function Vh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a2(e){if(e==null)return null;if(typeof e!="object")throw new pi("Week settings must be an object");if(!Bn(e.firstDay,1,7)||!Bn(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(t=>!Bn(t,1,7)))throw new pi("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Bn(e,t,r){return H1(e)&&e>=t&&e<=r}function YV(e,t){return e-t*Math.floor(e/t)}function Pr(e,t=2){const r=e<0;let i;return r?i="-"+(""+-e).padStart(t,"0"):i=(""+e).padStart(t,"0"),i}function qa(e){if(!(ze(e)||e===null||e===""))return parseInt(e,10)}function Bl(e){if(!(ze(e)||e===null||e===""))return parseFloat(e)}function _x(e){if(!(ze(e)||e===null||e==="")){const t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function wx(e,t,r=!1){const i=10**t;return(r?Math.trunc:Math.round)(e*i)/i}function vm(e){return e%4===0&&(e%100!==0||e%400===0)}function _h(e){return vm(e)?366:365}function wg(e,t){const r=YV(t-1,12)+1,i=e+(t-r)/12;return r===2?vm(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Y1(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function YA(e,t,r){return-bx(vx(e,1,t),r)+t-1}function Sp(e,t=4,r=1){const i=YA(e,t,r),n=YA(e+1,t,r);return(_h(e)-i+n)/7}function l2(e){return e>99?e:e>mr.twoDigitCutoffYear?1900+e:2e3+e}function hN(e,t,r,i=null){const n=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function J1(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const i=parseInt(t,10)||0,n=r<0||Object.is(r,-0)?-i:i;return r*60+n}function fN(e){const t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new pi(`Invalid unit value ${e}`);return t}function Sg(e,t){const r={};for(const i in e)if(Vh(e,i)){const n=e[i];if(n==null)continue;r[t(i)]=fN(n)}return r}function Ud(e,t){const r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return`${n}${Pr(r,2)}:${Pr(i,2)}`;case"narrow":return`${n}${r}${i>0?`:${i}`:""}`;case"techie":return`${n}${Pr(r,2)}${Pr(i,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function K1(e){return HV(e,["hour","minute","second","millisecond"])}const JV=["January","February","March","April","May","June","July","August","September","October","November","December"],dN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],KV=["J","F","M","A","M","J","J","A","S","O","N","D"];function pN(e){switch(e){case"narrow":return[...KV];case"short":return[...dN];case"long":return[...JV];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],yN=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ZV=["M","T","W","T","F","S","S"];function gN(e){switch(e){case"narrow":return[...ZV];case"short":return[...yN];case"long":return[...mN];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const vN=["AM","PM"],XV=["Before Christ","Anno Domini"],QV=["BC","AD"],eB=["B","A"];function bN(e){switch(e){case"narrow":return[...eB];case"short":return[...QV];case"long":return[...XV];default:return null}}function tB(e){return vN[e.hour<12?0:1]}function rB(e,t){return gN(t)[e.weekday-1]}function iB(e,t){return pN(t)[e.month-1]}function nB(e,t){return bN(t)[e.year<0?0:1]}function sB(e,t,r="always",i=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){const d=e==="days";switch(t){case 1:return d?"tomorrow":`next ${n[e][0]}`;case-1:return d?"yesterday":`last ${n[e][0]}`;case 0:return d?"today":`this ${n[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=n[e],f=i?l?c[1]:c[2]||c[1]:l?n[e][0]:e;return o?`${a} ${f} ago`:`in ${a} ${f}`}function JA(e,t){let r="";for(const i of e)i.literal?r+=i.val:r+=t(i.val);return r}const oB={D:bg,DD:F5,DDD:U5,DDDD:j5,t:G5,tt:V5,ttt:B5,tttt:z5,T:q5,TT:W5,TTT:H5,TTTT:Y5,f:J5,ff:Z5,fff:Q5,ffff:tN,F:K5,FF:X5,FFF:eN,FFFF:rN};class bi{static create(t,r={}){return new bi(t,r)}static parseFormat(t){let r=null,i="",n=!1;const s=[];for(let o=0;o<t.length;o++){const a=t.charAt(o);a==="'"?(i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),r=null,i="",n=!n):n||a===r?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,r=a)}return i.length>0&&s.push({literal:n||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(t){return oB[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return Pr(t,r);const i={...this.opts};return r>0&&(i.padTo=r),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,r){const i=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(t,y,g),o=y=>t.isOffsetFixed&&t.offset===0&&y.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,y.format):"",a=()=>i?tB(t):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>i?iB(t,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>i?rB(t,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),f=y=>{const g=bi.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(t,g):y},d=y=>i?nB(t,y):s({era:y},"era"),p=y=>{switch(y){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return n?s({day:"numeric"},"day"):this.num(t.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(t.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(t.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return f(y)}};return JA(bi.parseFormat(r),p)}formatDurationFromString(t,r){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=l=>c=>{const f=i(c);return f?this.num(l.get(f),c.length):c},s=bi.parseFormat(r),o=s.reduce((l,{literal:c,val:f})=>c?l:l.concat(f),[]),a=t.shiftTo(...o.map(i).filter(l=>l));return JA(s,n(a))}}const _N=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Sf(...e){const t=e.reduce((r,i)=>r+i.source,"");return RegExp(`^${t}$`)}function xf(...e){return t=>e.reduce(([r,i,n],s)=>{const[o,a,l]=s(t,n);return[{...r,...o},a||i,l]},[{},null,1]).slice(0,2)}function Ef(e,...t){if(e==null)return[null,null];for(const[r,i]of t){const n=r.exec(e);if(n)return i(n)}return[null,null]}function wN(...e){return(t,r)=>{const i={};let n;for(n=0;n<e.length;n++)i[e[n]]=qa(t[r+n]);return[i,null,r+n]}}const SN=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,aB=`(?:${SN.source}?(?:\\[(${_N.source})\\])?)?`,Sx=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,xN=RegExp(`${Sx.source}${aB}`),xx=RegExp(`(?:T${xN.source})?`),lB=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,cB=/(\d{4})-?W(\d\d)(?:-?(\d))?/,uB=/(\d{4})-?(\d{3})/,hB=wN("weekYear","weekNumber","weekDay"),fB=wN("year","ordinal"),dB=/(\d{4})-(\d\d)-(\d\d)/,EN=RegExp(`${Sx.source} ?(?:${SN.source}|(${_N.source}))?`),pB=RegExp(`(?: ${EN.source})?`);function wh(e,t,r){const i=e[t];return ze(i)?r:qa(i)}function mB(e,t){return[{year:wh(e,t),month:wh(e,t+1,1),day:wh(e,t+2,1)},null,t+3]}function Tf(e,t){return[{hours:wh(e,t,0),minutes:wh(e,t+1,0),seconds:wh(e,t+2,0),milliseconds:_x(e[t+3])},null,t+4]}function bm(e,t){const r=!e[t]&&!e[t+1],i=J1(e[t+1],e[t+2]),n=r?null:_i.instance(i);return[{},n,t+3]}function _m(e,t){const r=e[t]?As.create(e[t]):null;return[{},r,t+1]}const yB=RegExp(`^T?${Sx.source}$`),gB=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function vB(e){const[t,r,i,n,s,o,a,l,c]=e,f=t[0]==="-",d=l&&l[0]==="-",p=(y,g=!1)=>y!==void 0&&(g||y&&f)?-y:y;return[{years:p(Bl(r)),months:p(Bl(i)),weeks:p(Bl(n)),days:p(Bl(s)),hours:p(Bl(o)),minutes:p(Bl(a)),seconds:p(Bl(l),l==="-0"),milliseconds:p(_x(c),d)}]}const bB={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ex(e,t,r,i,n,s,o){const a={year:t.length===2?l2(qa(t)):qa(t),month:dN.indexOf(r)+1,day:qa(i),hour:qa(n),minute:qa(s)};return o&&(a.second=qa(o)),e&&(a.weekday=e.length>3?mN.indexOf(e)+1:yN.indexOf(e)+1),a}const _B=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function wB(e){const[,t,r,i,n,s,o,a,l,c,f,d]=e,p=Ex(t,n,i,r,s,o,a);let y;return l?y=bB[l]:c?y=0:y=J1(f,d),[p,new _i(y)]}function SB(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const xB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,EB=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,TB=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function KA(e){const[,t,r,i,n,s,o,a]=e;return[Ex(t,n,i,r,s,o,a),_i.utcInstance]}function AB(e){const[,t,r,i,n,s,o,a]=e;return[Ex(t,a,r,i,n,s,o),_i.utcInstance]}const MB=Sf(lB,xx),IB=Sf(cB,xx),OB=Sf(uB,xx),$B=Sf(xN),TN=xf(mB,Tf,bm,_m),CB=xf(hB,Tf,bm,_m),NB=xf(fB,Tf,bm,_m),PB=xf(Tf,bm,_m);function LB(e){return Ef(e,[MB,TN],[IB,CB],[OB,NB],[$B,PB])}function kB(e){return Ef(SB(e),[_B,wB])}function RB(e){return Ef(e,[xB,KA],[EB,KA],[TB,AB])}function DB(e){return Ef(e,[gB,vB])}const FB=xf(Tf);function UB(e){return Ef(e,[yB,FB])}const jB=Sf(dB,pB),GB=Sf(EN),VB=xf(Tf,bm,_m);function BB(e){return Ef(e,[jB,TN],[GB,VB])}const ZA="Invalid Duration",AN={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},zB={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...AN},In=146097/400,$u=146097/4800,qB={years:{quarters:4,months:12,weeks:In/7,days:In,hours:In*24,minutes:In*24*60,seconds:In*24*60*60,milliseconds:In*24*60*60*1e3},quarters:{months:3,weeks:In/28,days:In/4,hours:In*24/4,minutes:In*24*60/4,seconds:In*24*60*60/4,milliseconds:In*24*60*60*1e3/4},months:{weeks:$u/7,days:$u,hours:$u*24,minutes:$u*24*60,seconds:$u*24*60*60,milliseconds:$u*24*60*60*1e3},...AN},Sc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],WB=Sc.slice(0).reverse();function Ea(e,t,r=!1){const i={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new yt(i)}function MN(e,t){let r=t.milliseconds??0;for(const i of WB.slice(1))t[i]&&(r+=t[i]*e[i].milliseconds);return r}function XA(e,t){const r=MN(e,t)<0?-1:1;Sc.reduceRight((i,n)=>{if(ze(t[n]))return i;if(i){const s=t[i]*r,o=e[n][i],a=Math.floor(s/o);t[n]+=a*r,t[i]-=a*o*r}return n},null),Sc.reduce((i,n)=>{if(ze(t[n]))return i;if(i){const s=t[i]%1;t[i]-=s,t[n]+=s*e[i][n]}return n},null)}function HB(e){const t={};for(const[r,i]of Object.entries(e))i!==0&&(t[r]=i);return t}class yt{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let i=r?qB:zB;t.matrix&&(i=t.matrix),this.values=t.values,this.loc=t.loc||Ot.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(t,r){return yt.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new pi(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new yt({values:Sg(t,yt.normalizeUnit),loc:Ot.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(cl(t))return yt.fromMillis(t);if(yt.isDuration(t))return t;if(typeof t=="object")return yt.fromObject(t);throw new pi(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[i]=DB(t);return i?yt.fromObject(i,r):yt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[i]=UB(t);return i?yt.fromObject(i,r):yt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new pi("need to specify a reason the Duration is invalid");const i=t instanceof fs?t:new fs(t,r);if(mr.throwOnInvalid)throw new gV(i);return new yt({invalid:i})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new D5(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const i={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?bi.create(this.loc,i).formatDurationFromString(this,t):ZA}toHuman(t={}){if(!this.isValid)return ZA;const r=Sc.map(i=>{const n=this.values[i];return ze(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:i.slice(0,-1)}).format(n)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=wx(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},Ue.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?MN(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t),i={};for(const n of Sc)(Vh(r.values,n)||Vh(this.values,n))&&(i[n]=r.get(n)+this.get(n));return Ea(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const i of Object.keys(this.values))r[i]=fN(t(this.values[i],i));return Ea(this,{values:r},!0)}get(t){return this[yt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...Sg(t,yt.normalizeUnit)};return Ea(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:i,matrix:n}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:n,conversionAccuracy:i};return Ea(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return XA(this.matrix,t),Ea(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=HB(this.normalize().shiftToAll().toObject());return Ea(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(o=>yt.normalizeUnit(o));const r={},i={},n=this.toObject();let s;for(const o of Sc)if(t.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;cl(n[o])&&(a+=n[o]);const l=Math.trunc(a);r[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else cl(n[o])&&(i[o]=n[o]);for(const o in i)i[o]!==0&&(r[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return XA(this.matrix,r),Ea(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Ea(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(i,n){return i===void 0||i===0?n===void 0||n===0:i===n}for(const i of Sc)if(!r(this.values[i],t.values[i]))return!1;return!0}}const Cu="Invalid Interval";function YB(e,t){return!e||!e.isValid?dr.invalid("missing or invalid start"):!t||!t.isValid?dr.invalid("missing or invalid end"):t<e?dr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}class dr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new pi("need to specify a reason the Interval is invalid");const i=t instanceof fs?t:new fs(t,r);if(mr.throwOnInvalid)throw new yV(i);return new dr({invalid:i})}static fromDateTimes(t,r){const i=jf(t),n=jf(r),s=YB(i,n);return s??new dr({start:i,end:n})}static after(t,r){const i=yt.fromDurationLike(r),n=jf(t);return dr.fromDateTimes(n,n.plus(i))}static before(t,r){const i=yt.fromDurationLike(r),n=jf(t);return dr.fromDateTimes(n.minus(i),n)}static fromISO(t,r){const[i,n]=(t||"").split("/",2);if(i&&n){let s,o;try{s=Ue.fromISO(i,r),o=s.isValid}catch{o=!1}let a,l;try{a=Ue.fromISO(n,r),l=a.isValid}catch{l=!1}if(o&&l)return dr.fromDateTimes(s,a);if(o){const c=yt.fromISO(n,r);if(c.isValid)return dr.after(s,c)}else if(l){const c=yt.fromISO(i,r);if(c.isValid)return dr.before(a,c)}}return dr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const i=this.start.startOf(t,r);let n;return r?.useLocaleWeeks?n=this.end.reconfigure({locale:i.locale}):n=this.end,n=n.startOf(t,r),Math.floor(n.diff(i,t).get(t))+(n.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?dr.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(jf).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),i=[];let{s:n}=this,s=0;for(;n<this.e;){const o=r[s]||this.e,a=+o>+this.e?this.e:o;i.push(dr.fromDateTimes(n,a)),n=a,s+=1}return i}splitBy(t){const r=yt.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:i}=this,n=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(r.mapUnits(l=>l*n));s=+a>+this.e?this.e:a,o.push(dr.fromDateTimes(i,s)),i=s,n+=1}return o}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return r>=i?null:dr.fromDateTimes(r,i)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return dr.fromDateTimes(r,i)}static merge(t){const[r,i]=t.sort((n,s)=>n.s-s.s).reduce(([n,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[n,s.union(o)]:[n.concat([s]),o]:[n,o],[[],null]);return i&&r.push(i),r}static xor(t){let r=null,i=0;const n=[],s=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?r=l.time:(r&&+r!=+l.time&&n.push(dr.fromDateTimes(r,l.time)),r=null);return dr.merge(n)}difference(...t){return dr.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Cu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=bg,r={}){return this.isValid?bi.create(this.s.loc.clone(r),t).formatInterval(this):Cu}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Cu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Cu}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Cu}toFormat(t,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Cu}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):yt.invalid(this.invalidReason)}mapEndpoints(t){return dr.fromDateTimes(t(this.s),t(this.e))}}class l0{static hasDST(t=mr.defaultZone){const r=Ue.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return As.isValidZone(t)}static normalizeZone(t){return tl(t,mr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||Ot.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||Ot.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||Ot.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Ot.create(r,i,s)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||Ot.create(r,i,s)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Ot.create(r,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:i=null,locObj:n=null}={}){return(n||Ot.create(r,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Ot.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return Ot.create(r,null,"gregory").eras(t)}static features(){return{relative:cN(),localeWeek:uN()}}}function QA(e,t){const r=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=r(t)-r(e);return Math.floor(yt.fromMillis(i).as("days"))}function JB(e,t,r){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const f=QA(l,c);return(f-f%7)/7}],["days",QA]],n={},s=e;let o,a;for(const[l,c]of i)r.indexOf(l)>=0&&(o=l,n[l]=c(e,t),a=s.plus(n),a>t?(n[l]--,e=s.plus(n),e>t&&(a=e,n[l]--,e=s.plus(n))):e=a);return[e,n,a,o]}function KB(e,t,r,i){let[n,s,o,a]=JB(e,t,r);const l=t-n,c=r.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<t&&(o=n.plus({[a]:1})),o!==n&&(s[a]=(s[a]||0)+l/(o-n)));const f=yt.fromObject(s,i);return c.length>0?yt.fromMillis(l,i).shiftTo(...c).plus(f):f}const ZB="missing Intl.DateTimeFormat.formatToParts support";function St(e,t=r=>r){return{regex:e,deser:([r])=>t(jV(r))}}const XB=" ",IN=`[ ${XB}]`,ON=new RegExp(IN,"g");function QB(e){return e.replace(/\./g,"\\.?").replace(ON,IN)}function e4(e){return e.replace(/\./g,"").replace(ON," ").toLowerCase()}function ts(e,t){return e===null?null:{regex:RegExp(e.map(QB).join("|")),deser:([r])=>e.findIndex(i=>e4(r)===e4(i))+t}}function t4(e,t){return{regex:e,deser:([,r,i])=>J1(r,i),groups:t}}function c0(e){return{regex:e,deser:([t])=>t}}function ez(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function tz(e,t){const r=es(t),i=es(t,"{2}"),n=es(t,"{3}"),s=es(t,"{4}"),o=es(t,"{6}"),a=es(t,"{1,2}"),l=es(t,"{1,3}"),c=es(t,"{1,6}"),f=es(t,"{1,9}"),d=es(t,"{2,4}"),p=es(t,"{4,6}"),y=w=>({regex:RegExp(ez(w.val)),deser:([x])=>x,literal:!0}),_=(w=>{if(e.literal)return y(w);switch(w.val){case"G":return ts(t.eras("short"),0);case"GG":return ts(t.eras("long"),0);case"y":return St(c);case"yy":return St(d,l2);case"yyyy":return St(s);case"yyyyy":return St(p);case"yyyyyy":return St(o);case"M":return St(a);case"MM":return St(i);case"MMM":return ts(t.months("short",!0),1);case"MMMM":return ts(t.months("long",!0),1);case"L":return St(a);case"LL":return St(i);case"LLL":return ts(t.months("short",!1),1);case"LLLL":return ts(t.months("long",!1),1);case"d":return St(a);case"dd":return St(i);case"o":return St(l);case"ooo":return St(n);case"HH":return St(i);case"H":return St(a);case"hh":return St(i);case"h":return St(a);case"mm":return St(i);case"m":return St(a);case"q":return St(a);case"qq":return St(i);case"s":return St(a);case"ss":return St(i);case"S":return St(l);case"SSS":return St(n);case"u":return c0(f);case"uu":return c0(a);case"uuu":return St(r);case"a":return ts(t.meridiems(),0);case"kkkk":return St(s);case"kk":return St(d,l2);case"W":return St(a);case"WW":return St(i);case"E":case"c":return St(r);case"EEE":return ts(t.weekdays("short",!1),1);case"EEEE":return ts(t.weekdays("long",!1),1);case"ccc":return ts(t.weekdays("short",!0),1);case"cccc":return ts(t.weekdays("long",!0),1);case"Z":case"ZZ":return t4(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return t4(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return c0(/[a-z_+-/]{1,256}?/i);case" ":return c0(/[^\S\n\r]/);default:return y(w)}})(e)||{invalidReason:ZB};return _.token=e,_}const rz={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function iz(e,t,r){const{type:i,value:n}=e;if(i==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const s=t[i];let o=i;i==="hour"&&(t.hour12!=null?o=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?o="hour12":o="hour24":o=r.hour12?"hour12":"hour24");let a=rz[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function nz(e){return[`^${e.map(r=>r.regex).reduce((r,i)=>`${r}(${i.source})`,"")}$`,e]}function sz(e,t,r){const i=e.match(t);if(i){const n={};let s=1;for(const o in r)if(Vh(r,o)){const a=r[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,n]}else return[i,{}]}function oz(e){const t=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,i;return ze(e.z)||(r=As.create(e.z)),ze(e.Z)||(r||(r=new _i(e.Z)),i=e.Z),ze(e.q)||(e.M=(e.q-1)*3+1),ze(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),ze(e.u)||(e.S=_x(e.u)),[Object.keys(e).reduce((s,o)=>{const a=t(o);return a&&(s[a]=e[o]),s},{}),r,i]}let Sb=null;function az(){return Sb||(Sb=Ue.fromMillis(1555555555555)),Sb}function lz(e,t){if(e.literal)return e;const r=bi.macroTokenToFormatOpts(e.val),i=PN(r,t);return i==null||i.includes(void 0)?e:i}function $N(e,t){return Array.prototype.concat(...e.map(r=>lz(r,t)))}class CN{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=$N(bi.parseFormat(r),t),this.units=this.tokens.map(i=>tz(i,t)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){const[i,n]=nz(this.units);this.regex=RegExp(i,"i"),this.handlers=n}}explainFromTokens(t){if(this.isValid){const[r,i]=sz(t,this.regex,this.handlers),[n,s,o]=i?oz(i):[null,null,void 0];if(Vh(i,"a")&&Vh(i,"H"))throw new rh("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:i,result:n,zone:s,specificOffset:o}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function NN(e,t,r){return new CN(e,r).explainFromTokens(t)}function cz(e,t,r){const{result:i,zone:n,specificOffset:s,invalidReason:o}=NN(e,t,r);return[i,n,s,o]}function PN(e,t){if(!e)return null;const i=bi.create(t,e).dtFormatter(az()),n=i.formatToParts(),s=i.resolvedOptions();return n.map(o=>iz(o,e,s))}const xb="Invalid DateTime",r4=864e13;function sd(e){return new fs("unsupported zone",`the zone "${e.name}" is not supported`)}function Eb(e){return e.weekData===null&&(e.weekData=_g(e.c)),e.weekData}function Tb(e){return e.localWeekData===null&&(e.localWeekData=_g(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function zl(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Ue({...r,...t,old:r})}function LN(e,t,r){let i=e-t*60*1e3;const n=r.offset(i);if(t===n)return[i,t];i-=(n-t)*60*1e3;const s=r.offset(i);return n===s?[i,n]:[e-Math.min(n,s)*60*1e3,Math.max(n,s)]}function u0(e,t){e+=t*60*1e3;const r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function uy(e,t,r){return LN(Y1(e),t,r)}function i4(e,t){const r=e.o,i=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,s={...e.c,year:i,month:n,day:Math.min(e.c.day,wg(i,n))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},o=yt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Y1(s);let[l,c]=LN(a,r,e.zone);return o!==0&&(l+=o,c=e.zone.offset(l)),{ts:l,o:c}}function Nu(e,t,r,i,n,s){const{setZone:o,zone:a}=r;if(e&&Object.keys(e).length!==0||t){const l=t||a,c=Ue.fromObject(e,{...r,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Ue.invalid(new fs("unparsable",`the input "${n}" can't be parsed as ${i}`))}function h0(e,t,r=!0){return e.isValid?bi.create(Ot.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Ab(e,t){const r=e.c.year>9999||e.c.year<0;let i="";return r&&e.c.year>=0&&(i+="+"),i+=Pr(e.c.year,r?6:4),t?(i+="-",i+=Pr(e.c.month),i+="-",i+=Pr(e.c.day)):(i+=Pr(e.c.month),i+=Pr(e.c.day)),i}function n4(e,t,r,i,n,s){let o=Pr(e.c.hour);return t?(o+=":",o+=Pr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=":")):o+=Pr(e.c.minute),(e.c.millisecond!==0||e.c.second!==0||!r)&&(o+=Pr(e.c.second),(e.c.millisecond!==0||!i)&&(o+=".",o+=Pr(e.c.millisecond,3))),n&&(e.isOffsetFixed&&e.offset===0&&!s?o+="Z":e.o<0?(o+="-",o+=Pr(Math.trunc(-e.o/60)),o+=":",o+=Pr(Math.trunc(-e.o%60))):(o+="+",o+=Pr(Math.trunc(e.o/60)),o+=":",o+=Pr(Math.trunc(e.o%60)))),s&&(o+="["+e.zone.ianaName+"]"),o}const kN={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},uz={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},hz={ordinal:1,hour:0,minute:0,second:0,millisecond:0},RN=["year","month","day","hour","minute","second","millisecond"],fz=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],dz=["year","ordinal","hour","minute","second","millisecond"];function pz(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new D5(e);return t}function s4(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return pz(e)}}function mz(e){return fy[e]||(hy===void 0&&(hy=mr.now()),fy[e]=e.offset(hy)),fy[e]}function o4(e,t){const r=tl(t.zone,mr.defaultZone);if(!r.isValid)return Ue.invalid(sd(r));const i=Ot.fromObject(t);let n,s;if(ze(e.year))n=mr.now();else{for(const l of RN)ze(e[l])&&(e[l]=kN[l]);const o=aN(e)||lN(e);if(o)return Ue.invalid(o);const a=mz(r);[n,s]=uy(e,a,r)}return new Ue({ts:n,zone:r,loc:i,o:s})}function a4(e,t,r){const i=ze(r.round)?!0:r.round,n=(o,a)=>(o=wx(o,i||r.calendary?0:2,!0),t.loc.clone(r).relFormatter(r).format(o,a)),s=o=>r.calendary?t.hasSame(e,o)?0:t.startOf(o).diff(e.startOf(o),o).get(o):t.diff(e,o).get(o);if(r.unit)return n(s(r.unit),r.unit);for(const o of r.units){const a=s(o);if(Math.abs(a)>=1)return n(a,o)}return n(e>t?-0:0,r.units[r.units.length-1])}function l4(e){let t={},r;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],r=Array.from(e).slice(0,e.length-1)):r=Array.from(e),[t,r]}let hy,fy={};class Ue{constructor(t){const r=t.zone||mr.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new fs("invalid input"):null)||(r.isValid?null:sd(r));this.ts=ze(t.ts)?mr.now():t.ts;let n=null,s=null;if(!i)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[n,s]=[t.old.c,t.old.o];else{const a=cl(t.o)&&!t.old?t.o:r.offset(this.ts);n=u0(this.ts,a),i=Number.isNaN(n.year)?new fs("invalid input"):null,n=i?null:n,s=i?null:a}this._zone=r,this.loc=t.loc||Ot.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new Ue({})}static local(){const[t,r]=l4(arguments),[i,n,s,o,a,l,c]=r;return o4({year:i,month:n,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static utc(){const[t,r]=l4(arguments),[i,n,s,o,a,l,c]=r;return t.zone=_i.utcInstance,o4({year:i,month:n,day:s,hour:o,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,r={}){const i=qV(t)?t.valueOf():NaN;if(Number.isNaN(i))return Ue.invalid("invalid input");const n=tl(r.zone,mr.defaultZone);return n.isValid?new Ue({ts:i,zone:n,loc:Ot.fromObject(r)}):Ue.invalid(sd(n))}static fromMillis(t,r={}){if(cl(t))return t<-r4||t>r4?Ue.invalid("Timestamp out of range"):new Ue({ts:t,zone:tl(r.zone,mr.defaultZone),loc:Ot.fromObject(r)});throw new pi(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(cl(t))return new Ue({ts:t*1e3,zone:tl(r.zone,mr.defaultZone),loc:Ot.fromObject(r)});throw new pi("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const i=tl(r.zone,mr.defaultZone);if(!i.isValid)return Ue.invalid(sd(i));const n=Ot.fromObject(r),s=Sg(t,s4),{minDaysInFirstWeek:o,startOfWeek:a}=WA(s,n),l=mr.now(),c=ze(r.specificOffset)?i.offset(l):r.specificOffset,f=!ze(s.ordinal),d=!ze(s.year),p=!ze(s.month)||!ze(s.day),y=d||p,g=s.weekYear||s.weekNumber;if((y||f)&&g)throw new rh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new rh("Can't mix ordinal dates with month/day");const _=g||s.weekday&&!y;let w,x,T=u0(l,c);_?(w=fz,x=uz,T=_g(T,o,a)):f?(w=dz,x=hz,T=wb(T)):(w=RN,x=kN);let S=!1;for(const G of w){const V=s[G];ze(V)?S?s[G]=x[G]:s[G]=T[G]:S=!0}const v=_?VV(s,o,a):f?BV(s):aN(s),M=v||lN(s);if(M)return Ue.invalid(M);const O=_?zA(s,o,a):f?qA(s):s,[P,R]=uy(O,c,i),k=new Ue({ts:P,zone:i,o:R,loc:n});return s.weekday&&y&&t.weekday!==k.weekday?Ue.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${k.toISO()}`):k.isValid?k:Ue.invalid(k.invalid)}static fromISO(t,r={}){const[i,n]=LB(t);return Nu(i,n,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[i,n]=kB(t);return Nu(i,n,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[i,n]=RB(t);return Nu(i,n,r,"HTTP",r)}static fromFormat(t,r,i={}){if(ze(t)||ze(r))throw new pi("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=i,o=Ot.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[a,l,c,f]=cz(o,t,r);return f?Ue.invalid(f):Nu(a,l,i,`format ${r}`,t,c)}static fromString(t,r,i={}){return Ue.fromFormat(t,r,i)}static fromSQL(t,r={}){const[i,n]=BB(t);return Nu(i,n,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new pi("need to specify a reason the DateTime is invalid");const i=t instanceof fs?t:new fs(t,r);if(mr.throwOnInvalid)throw new mV(i);return new Ue({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const i=PN(t,Ot.fromObject(r));return i?i.map(n=>n?n.val:null).join(""):null}static expandFormat(t,r={}){return $N(bi.parseFormat(t),Ot.fromObject(r)).map(n=>n.val).join("")}static resetCache(){hy=void 0,fy={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Eb(this).weekYear:NaN}get weekNumber(){return this.isValid?Eb(this).weekNumber:NaN}get weekday(){return this.isValid?Eb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Tb(this).weekday:NaN}get localWeekNumber(){return this.isValid?Tb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Tb(this).weekYear:NaN}get ordinal(){return this.isValid?wb(this.c).ordinal:NaN}get monthShort(){return this.isValid?l0.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?l0.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?l0.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?l0.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,i=Y1(this.c),n=this.zone.offset(i-t),s=this.zone.offset(i+t),o=this.zone.offset(i-n*r),a=this.zone.offset(i-s*r);if(o===a)return[this];const l=i-o*r,c=i-a*r,f=u0(l,o),d=u0(c,a);return f.hour===d.hour&&f.minute===d.minute&&f.second===d.second&&f.millisecond===d.millisecond?[zl(this,{ts:l}),zl(this,{ts:c})]:[this]}get isInLeapYear(){return vm(this.year)}get daysInMonth(){return wg(this.year,this.month)}get daysInYear(){return this.isValid?_h(this.year):NaN}get weeksInWeekYear(){return this.isValid?Sp(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Sp(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:i,calendar:n}=bi.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:i,outputCalendar:n}}toUTC(t=0,r={}){return this.setZone(_i.instance(t),r)}toLocal(){return this.setZone(mr.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:i=!1}={}){if(t=tl(t,mr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let n=this.ts;if(r||i){const s=t.offset(this.ts),o=this.toObject();[n]=uy(o,s,t)}return zl(this,{ts:n,zone:t})}else return Ue.invalid(sd(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:i}={}){const n=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:i});return zl(this,{loc:n})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=Sg(t,s4),{minDaysInFirstWeek:i,startOfWeek:n}=WA(r,this.loc),s=!ze(r.weekYear)||!ze(r.weekNumber)||!ze(r.weekday),o=!ze(r.ordinal),a=!ze(r.year),l=!ze(r.month)||!ze(r.day),c=a||l,f=r.weekYear||r.weekNumber;if((c||o)&&f)throw new rh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new rh("Can't mix ordinal dates with month/day");let d;s?d=zA({..._g(this.c,i,n),...r},i,n):ze(r.ordinal)?(d={...this.toObject(),...r},ze(r.day)&&(d.day=Math.min(wg(d.year,d.month),d.day))):d=qA({...wb(this.c),...r});const[p,y]=uy(d,this.o,this.zone);return zl(this,{ts:p,o:y})}plus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t);return zl(this,i4(this,r))}minus(t){if(!this.isValid)return this;const r=yt.fromDurationLike(t).negate();return zl(this,i4(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const i={},n=yt.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break}if(n==="weeks")if(r){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(i.weekNumber=this.weekNumber-1),i.weekday=s}else i.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?bi.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):xb}toLocaleString(t=bg,r={}){return this.isValid?bi.create(this.loc.clone(r),t).formatDateTime(this):xb}toLocaleParts(t={}){return this.isValid?bi.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=t==="extended";let a=Ab(this,o);return a+="T",a+=n4(this,o,r,i,n,s),a}toISODate({format:t="extended"}={}){return this.isValid?Ab(this,t==="extended"):null}toISOWeekDate(){return h0(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(n?"T":"")+n4(this,o==="extended",r,t,i,s):null}toRFC2822(){return h0(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return h0(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ab(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(r||t)&&(i&&(n+=" "),r?n+="z":t&&(n+="ZZ")),h0(this,n,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():xb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",i={}){if(!this.isValid||!t.isValid)return yt.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=WV(r).map(yt.normalizeUnit),o=t.valueOf()>this.valueOf(),a=o?this:t,l=o?t:this,c=KB(a,l,s,n);return o?c.negate():c}diffNow(t="milliseconds",r={}){return this.diff(Ue.now(),t,r)}until(t){return this.isValid?dr.fromDateTimes(this,t):this}hasSame(t,r,i){if(!this.isValid)return!1;const n=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(r,i)<=n&&n<=s.endOf(r,i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||Ue.fromObject({},{zone:this.zone}),i=t.padding?this<r?-t.padding:t.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=t.unit;return Array.isArray(t.unit)&&(n=t.unit,s=void 0),a4(r,this.plus(i),{...t,numeric:"always",units:n,unit:s})}toRelativeCalendar(t={}){return this.isValid?a4(t.base||Ue.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Ue.isDateTime))throw new pi("min requires all arguments be DateTimes");return HA(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(Ue.isDateTime))throw new pi("max requires all arguments be DateTimes");return HA(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,i={}){const{locale:n=null,numberingSystem:s=null}=i,o=Ot.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return NN(o,t,r)}static fromStringExplain(t,r,i={}){return Ue.fromFormatExplain(t,r,i)}static buildFormatParser(t,r={}){const{locale:i=null,numberingSystem:n=null}=r,s=Ot.fromOpts({locale:i,numberingSystem:n,defaultToEN:!0});return new CN(s,t)}static fromFormatParser(t,r,i={}){if(ze(t)||ze(r))throw new pi("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=i,o=Ot.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!o.equals(r.locale))throw new pi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${r.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:f}=r.explainFromTokens(t);return f?Ue.invalid(f):Nu(a,l,i,`format ${r.format}`,t,c)}static get DATE_SHORT(){return bg}static get DATE_MED(){return F5}static get DATE_MED_WITH_WEEKDAY(){return vV}static get DATE_FULL(){return U5}static get DATE_HUGE(){return j5}static get TIME_SIMPLE(){return G5}static get TIME_WITH_SECONDS(){return V5}static get TIME_WITH_SHORT_OFFSET(){return B5}static get TIME_WITH_LONG_OFFSET(){return z5}static get TIME_24_SIMPLE(){return q5}static get TIME_24_WITH_SECONDS(){return W5}static get TIME_24_WITH_SHORT_OFFSET(){return H5}static get TIME_24_WITH_LONG_OFFSET(){return Y5}static get DATETIME_SHORT(){return J5}static get DATETIME_SHORT_WITH_SECONDS(){return K5}static get DATETIME_MED(){return Z5}static get DATETIME_MED_WITH_SECONDS(){return X5}static get DATETIME_MED_WITH_WEEKDAY(){return bV}static get DATETIME_FULL(){return Q5}static get DATETIME_FULL_WITH_SECONDS(){return eN}static get DATETIME_HUGE(){return tN}static get DATETIME_HUGE_WITH_SECONDS(){return rN}}function jf(e){if(Ue.isDateTime(e))return e;if(e&&e.valueOf&&cl(e.valueOf()))return Ue.fromJSDate(e);if(e&&typeof e=="object")return Ue.fromObject(e);throw new pi(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const oa="system",Tx="unknown",xp="UTC",yz=Intl.DateTimeFormat().resolvedOptions().timeZone,gz="shortOffset";function vz(e){return"timeZoneIANA"in e}function bz(e){return e.startsWith("UTC")}function Dye(e,t=!1){return{json:{read:{source:e,reader:(r,i)=>i[e]?_z(i[e]):null},write:!!t&&{allowNull:!0,writer(r,i){i[e]=r?wz(r):null}}}}}function _z(e,t=oa){return e?vz(e)?e.timeZoneIANA:Sz(e,t):t}function wz(e){return{timeZoneIANA:e}}function Sz(e,t=oa){if(!e||!NA.has(e.timeZone))return t;const r=NA.get(e.timeZone);return bz(e.timeZone)||e.respectsDaylightSaving?r:xz(r)}function xz(e){const t=Ue.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return r===0?"Etc/UTC":`Etc/GMT${_i.instance(-r).formatOffset(0,"narrow")}`}function Fye(e,t,r,i,n){if(t&&n==="date")return{timeZone:xp,timeZoneName:void 0};const s=i.timeStyle||i.hour,o=r===Tx;return{timeZone:o?n==="timestamp-offset"?void 0:e??xp:r,timeZoneName:o&&s?gz:void 0}}function Uye(e){const t=new Set(["etc/utc","etc/gmt","gmt"]),r=new Set(Intl.supportedValuesOf("timeZone").map(i=>i.toLowerCase()));return e===oa||e===Tx||t.has(e.toLowerCase())||r.has(e.toLowerCase())}const Ez={year:void 0,month:void 0,day:void 0,weekday:void 0},Tz={hour:void 0,minute:void 0,second:void 0},DN={timeZone:xp},Rs={year:"numeric",month:"numeric",day:"numeric"},Gf={year:"numeric",month:"long",day:"numeric"},Vf={year:"numeric",month:"short",day:"numeric"},Bf={year:"numeric",month:"long",weekday:"long",day:"numeric"},Wa={hour:"numeric",minute:"numeric"},Ql={...Wa,second:"numeric"},FN={hourCycle:"h23"},zf={...Wa,...FN},qf={...Ql,...FN},UN={"short-date":Rs,"short-date-short-time":{...Rs,...Wa},"short-date-short-time-24":{...Rs,...zf},"short-date-long-time":{...Rs,...Ql},"short-date-long-time-24":{...Rs,...qf},"short-date-le":Rs,"short-date-le-short-time":{...Rs,...Wa},"short-date-le-short-time-24":{...Rs,...zf},"short-date-le-long-time":{...Rs,...Ql},"short-date-le-long-time-24":{...Rs,...qf},"long-month-day-year":Gf,"long-month-day-year-short-time":{...Gf,...Wa},"long-month-day-year-short-time-24":{...Gf,...zf},"long-month-day-year-long-time":{...Gf,...Ql},"long-month-day-year-long-time-24":{...Gf,...qf},"day-short-month-year":Vf,"day-short-month-year-short-time":{...Vf,...Wa},"day-short-month-year-short-time-24":{...Vf,...zf},"day-short-month-year-long-time":{...Vf,...Ql},"day-short-month-year-long-time-24":{...Vf,...qf},"long-date":Bf,"long-date-short-time":{...Bf,...Wa},"long-date-short-time-24":{...Bf,...zf},"long-date-long-time":{...Bf,...Ql},"long-date-long-time-24":{...Bf,...qf},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Wa,"long-time":Ql},Az=Os()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),jN={ar:"ar-u-nu-latn-ca-gregory"};let c2=new WeakMap;const Z1=UN["short-date-short-time"];function Mz(e){let t=c2.get(e);if(!t){const r=ao(),i=jN[r]||r,n=Mx(e.timeZone??oa),s={...e,timeZone:n};t=new Intl.DateTimeFormat(i,s),c2.set(e,t)}return t}function jye(e){return UN[e]}function Ax(e,t=Z1){return Mz(t).format(e)}function Gye(e,t=Z1){return Ax(new Date(e),{...t,...DN,...Tz})}function Vye(e,t=Z1){return Ax(new Date(`1970-01-01T${e}Z`),{...t,...DN,...Ez})}function Bye(e,t=Z1){if(t.timeZone)return Ax(new Date(e),t);const r=Ue.fromISO(e,{setZone:!0}),i=ao(),n=jN[i]??i,s=r.offset===0?xp:t.timeZone,o={...t,timeZone:s};return r.toLocaleString(o,{locale:n})}function Mx(e){switch(e){case oa:return yz;case Tx:return xp;default:return e}}yx(()=>{c2=new WeakMap});const Iz={ar:"ar-u-nu-latn"};let dy=new WeakMap,GN={};function u2(e){const t=e||GN;if(!dy.has(t)){const r=ao(),i=Iz[ao()]||r;dy.set(t,new Intl.NumberFormat(i,e))}return dy.get(t)}function zye(e={}){const t={};return e.digitSeparator!=null&&(t.useGrouping=e.digitSeparator),e.places!=null&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function qye(e,t){return Object.is(e,-0)&&(e=0),u2(t).format(e)}function Wye(e,t=ao()){if(!e)return null;let r=c4.get(t);if(!r){const i=u2().formatToParts(12345.6),n=[...u2({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map((d,p)=>[d,p])),o=new RegExp(`[${i.find(d=>d.type==="group")?.value}]`,"g"),a=new RegExp(`[${i.find(d=>d.type==="decimal")?.value}]`),l=new RegExp(`[${n.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,f=/[-\u2212\u2013\u2014\u2015]/g;r=d=>{if((d=d.trim().replaceAll(o,"").replace(a,".").replace(l,y=>String(s.get(y))).replaceAll(c,"").replaceAll(f,"-"))==="")return null;const p=Number(d);return isNaN(p)?null:p},c4.set(t,r)}return r(e)}yx(()=>{dy=new WeakMap,GN={}});const c4=new Map,u4=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,Oz={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function h4(e){return e in Oz}const od=[],Sh=new Map;function f4(e){for(const t of Sh.keys())VN(e.pattern,t)&&Sh.delete(t)}function $z(e){return od.includes(e)||(f4(e),od.unshift(e)),Ir(()=>{const t=od.indexOf(e);t>-1&&(od.splice(t,1),f4(e))})}async function Hye(e){const t=ao();Sh.has(e)||Sh.set(e,Nz(e,t));const r=Sh.get(e);return r&&await Pz.add(r),r}function Cz(e){if(!u4.test(e))return null;const t=u4.exec(e);if(t===null)return null;const[,r,i]=t,n=r+(i?"-"+i.toUpperCase():"");return h4(n)?n:h4(r)?r:null}async function Nz(e,t){const r=[];for(const i of od)if(VN(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(n){r.push(n)}throw r.length?new ct("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r}):new ct("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function VN(e,t){return typeof e=="string"?t.startsWith(e):e.test(t)}yx(()=>{Sh.clear()});const Pz=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=kh())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function Lz(e,t,r,i){const n=t.exec(r);if(!n)throw new ct("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=n[1]?`${n[1]}/`:"",o=n[2],a=Cz(i),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let f;try{f=await d4(e(c))}catch(d){if(c===l)throw new ct("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:d});try{f=await d4(e(l))}catch(p){throw new ct("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:p})}}return f}async function d4(e){if(p4.fetchBundleAsset!=null)return p4.fetchBundleAsset(e);const t=await sr(e,{responseType:"text"});return JSON.parse(t.data)}let kz=class{constructor({base:t="",pattern:r,location:i=new URL(window.location.href)}){let n;n=typeof i=="string"?s=>new URL(s,new URL(i,window.location.href)).href:i instanceof URL?s=>new URL(s,i).href:i,this.pattern=typeof r=="string"?new RegExp(`^${r}`):r,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,r){return Lz(this.getAssetUrl,this.matcher,t,r)}};function Rz(e){return new kz(e)}const p4={};$z(Rz({pattern:"esri/",location:GC}));function Ix(e){return typeof e=="string"||e instanceof String}var xh;(function(e){e.HM="HH:mm",e.HMS="HH:mm:ss",e.HMS_MS="HH:mm:ss.SSS"})(xh||(xh={}));const Dz=[xh.HMS_MS,xh.HMS,xh.HM,"TT"],Fz="yyyy-MM-dd";xh.HMS;function m4(e){if(!e||!Ix(e))return null;const t=Ue.fromFormat(e,Fz);return t.isValid?t:null}function y4(e){return e&&Ix(e)?_F(Dz,t=>{const r=Ue.fromFormat(e,t);return r.isValid?r:null})??null:null}function g4(e){if(!e||!Ix(e))return null;const t=Ue.fromISO(e);return t.isValid?t:null}var Bh;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(Bh||(Bh={}));const Uz=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function jz(e){return e!=null&&Uz.has(e.type)}function BN(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function zN(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function qN(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function Gz(e,t,r){const i=e?.domain;if(!i)return null;switch(i.type){case"range":{const{min:n,max:s}=Vz(e);if(n!=null&&+t<n||s!=null&&+t>s)return Bh.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(i.codedValues==null||i.codedValues.every(n=>n==null||n.code!==t))return Bh.INVALID_CODED_VALUE}return null}function Vz(e,t){const r=e?.domain;if(!r||r.type!=="range")return;const i="range"in r?r.range[0]:r.minValue,n="range"in r?r.range[1]:r.maxValue,s=jz(e);return BN(e)||qN(e)||zN(e)?{...Bz(e,n,i),isInteger:s}:{min:i!=null&&typeof i=="number"?i:null,max:n!=null&&typeof n=="number"?n:null,rawMin:i,rawMax:n,isInteger:s}}function Bz(e,t,r){return BN(e)?{min:m4(r)?.toMillis(),max:m4(t)?.toMillis(),rawMin:r,rawMax:t}:qN(e)?{min:y4(r)?.toMillis(),max:y4(t)?.toMillis(),rawMin:r,rawMax:t}:zN(e)?{min:g4(r)?.toMillis(),max:g4(t)?.toMillis(),rawMin:r,rawMax:t}:{max:null,min:null}}const zz=()=>kt.getLogger("esri.support.arcadeOnDemand");let Mb;function WN(){return Mb||(Mb=(async()=>{const e=await Ee(()=>import("./arcadeUtils-B9Zo114Q.js").then(t=>t.i),__vite__mapDeps([11,1,12,9,10,13,14,15,16,17,18,19,20,21,22,4]),import.meta.url);return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),Mb}const Jye=(e,t,r)=>HN.create(e,t,r,null,["$feature","$view"],[]),Kye=(e,t,r,i)=>HN.create(e,t,r,i,["$feature","$view"],[]);let HN=class YN{constructor(t,r,i,n,s,o,a){this.services=null,this.script=t,this.evaluate=n;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=i,this._arcade=r,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=r.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(t,r,i,n,s,o){const{arcade:a,Feature:l,Dictionary:c}=await WN(),f=r instanceof or?r:or.fromJSON(r);let d;try{d=a.parseScript(t,o)}catch(R){return zz().error(new ct("arcade-bad-expression","Failed to parse arcade script",{script:t,error:R})),null}const p=s.reduce((R,k)=>({...R,[k]:null}),{});let y=null;n!=null&&(y=new c(n),y.immutable=!0,p.$config=null);const g=a.scriptUsesGeometryEngine(d),_=g&&a.enableGeometrySupport(),w=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),x=a.scriptIsAsync(d),T=x&&a.enableAsyncSupport(),S={vars:p,spatialReference:f,useAsync:!!T};await Promise.all([_,w,T]);const v=new Set;await a.loadDependentModules(v,d,null,x,g);const M=new c;M.immutable=!1,M.setField("scale",0);const O=a.compileScript(d,S),P=(R,k)=>{const G=R.$view?.timeZone;return"$view"in R&&R.$view&&(M.setField("scale",typeof R.$view=="object"&&"scale"in R.$view?R.$view.scale:void 0),R.$view=M),y&&(R.$config=y),O({vars:R,spatialReference:f,services:k,timeZone:G})};return new YN(t,a,d,P,new l,i,f)}repurposeFeature(t){return t.geometry&&!t.geometry.spatialReference&&(t.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(t.geometry,t.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const qz=/^([0-9_])/,Wz=/[^a-z0-9_\u0080-\uffff]+/gi;function Zye(e){return e==null?null:e.trim().replaceAll(Wz,"_").replace(qz,"F$1")||null}const Hz=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Yz=["field","normalizationField"];function Xye(e,t){if(e!=null&&t!=null){for(const r of Array.isArray(e)?e:[e])if(v4(Hz,r,t),"visualVariables"in r&&r.visualVariables)for(const i of r.visualVariables)v4(Yz,i,t)}}function v4(e,t,r){if(e)for(const i of e){const n=FS(i,t),s=n&&typeof n!="function"&&r.get(n);s&&gf(i,s.name,t)}}function Qye(e,t){if(e!=null&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),i=t.get(e.endField);e.startField=r?.name??null,e.endField=i?.name??null}else{const r=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=i?.name??null}}const Ib=new Set;function Ox(e,t){return e&&t?(Ib.clear(),Ep(Ib,e,t),Array.from(Ib).sort()):[]}function Ep(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:i}of t.fields)e.add(i);else for(const i of r)X1(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const i of r)i!=null&&e.add(i)}}function X1(e,t,r){if(typeof r=="string")if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function ege(e,t){return t==null||e==null?[]:t.includes("*")?(e.fields??[]).map(r=>r.name):t}function tge(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const i=Ox(e,t);return i.length/e.fields.length>=r?["*"]:i}async function Xc(e,t,r){if(!r)return;const{arcadeUtils:i}=await WN(),n=i.extractFieldNames(r,t?.fields?.map(s=>s.name));for(const s of n)X1(e,t,s)}async function JN(e,t,r){if(r&&r!=="1=1"){const i=await fV(r,t);if(!i.isStandardized)throw new ct("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});Ep(e,t,i.fieldNames)}}function rge({displayField:e,fields:t}){return e||(t?.length?Ob(t,"name-or-title")||Ob(t,"unique-identifier")||Ob(t,"type-or-category")||Jz(t):null)}function Jz(e){for(const t of e){if(!t?.name)continue;const r=t.name.toLowerCase();if(r.includes("name")||r.includes("title"))return t.name}return null}function Ob(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}async function ige(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function Kz(e,t,r){r.onStatisticExpression?Xc(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function nge(e,t,r){if(!t||!r||!("fields"in r))return;const i=[],n=r.popupTemplate;i.push(Zz(e,t,n)),r.fields&&i.push(...r.fields.map(async s=>Kz(e,t.fieldsIndex,s))),await Promise.all(i)}async function Zz(e,t,r){const i=[];r?.expressionInfos&&i.push(...r.expressionInfos.map(s=>Xc(e,t.fieldsIndex,s.expression)));const n=r?.content;if(Array.isArray(n))for(const s of n)s.type==="expression"&&s.expressionInfo&&i.push(Xc(e,t.fieldsIndex,s.expressionInfo.expression));await Promise.all(i)}async function sge(e,t,r){t&&(t.timeInfo&&r?.timeExtent&&Ep(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&Ep(e,t.fieldsIndex,[t.floorInfo.floorField]),r?.where!=null&&await JN(e,t.fieldsIndex,r.where))}async function oge(e,t,r){t&&r&&await Promise.all(r.map(i=>Xz(e,t,i)))}async function Xz(e,t,r){t&&r&&(r.valueExpression?await Xc(e,t.fieldsIndex,r.valueExpression):r.field&&X1(e,t.fieldsIndex,r.field))}function age(e){return e?Ox(e.fieldsIndex,KN(e)):[]}function Qz(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?Ox(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const eq=new Set(["oid","global-id","guid"]),tq=new Set(["oid","global-id"]),rq=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function iq(e){const t=new Set;ZN(e).forEach(i=>t.add(i)),Qz(e).forEach(i=>t.add(i.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(i=>t.add(i.toLowerCase())),Object.values(r.transformFieldRoles).forEach(i=>t.add(i.toLowerCase()))),Array.from(t)}function KN(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:i,editDateField:n,editorField:s}=t;return[r,i,n,s].filter(Boolean)}function ZN(e){return KN(e).map(t=>t.toLowerCase())}function lge(e,t){return e.editable&&!eq.has(e.type)&&!ZN(t).includes(e.name?.toLowerCase()??"")}function cge(e,t){const r=e.name?.toLowerCase()??"";return!(t?.objectIdField!=null&&r===t.objectIdField.toLowerCase()||t?.globalIdField!=null&&r===t.globalIdField.toLowerCase()||iq(t).includes(r)||tq.has(e.type)||rq.some(i=>i.test(r)))}async function uge(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r?.length&&await Promise.all(r.map(n=>nq(e,i,n)))}async function nq(e,t,r){if(!r)return;const i=r.getLabelExpression(),n=r.where;if(i.type==="arcade")await Xc(e,t,i.expression);else{const s=i.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{X1(e,t,o.slice(1,-1))})}await JN(e,t,n)}function hge(e){const t=e.defaultValue;return t!==void 0&&e6(e,t)?t:e.nullable?null:void 0}function fge(e){const t=typeof e=="string"?{type:e}:e;return yq(t)?255:t.type==="esriFieldTypeDate"||t.type==="date"?8:void 0}function XN(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function sq(e){return e===null||XN(e)}function oq(e){return e===null||Number.isInteger(e)}function QN(e){return e!=null&&typeof e=="string"}function aq(e){return e===null||QN(e)}function lq(){return!0}function e6(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?oq:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?sq:XN;break;case"string":case"esriFieldTypeString":r=e.nullable?aq:QN;break;default:r=lq}return arguments.length===1?r:r(t)}const cq=["integer","small-integer","big-integer"],uq=["single","double"],hq=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],fq=["esriFieldTypeSingle","esriFieldTypeDouble"],t6=new Set([...cq,...hq]),dq=new Set([...uq,...fq]),pq=vC(t6,dq);function dge(e){return e!=null&&t6.has(e.type)}function mq(e){return e!=null&&pq.has(e.type)}function yq(e){return e!=null&&(e.type==="string"||e.type==="esriFieldTypeString")}function pge(e){return e!=null&&(e.type==="date"||e.type==="esriFieldTypeDate")}function mge(e){return e!=null&&(e.type==="date-only"||e.type==="esriFieldTypeDateOnly")}function yge(e){return e!=null&&(e.type==="timestamp-offset"||e.type==="esriFieldTypeTimestampOffset")}function gge(e){return e!=null&&(e.type==="time-only"||e.type==="esriFieldTypeTimeOnly")}function vge(e){return e!=null&&(e.type==="oid"||e.type==="esriFieldTypeOID")}function bge(e){return e!=null&&(e.type==="global-id"||e.type==="esriFieldTypeGlobalID")}function _ge(e,t){return gq(e,t)===null}var xg,Eg;function wge(e){return e==null||typeof e=="number"&&isNaN(e)?null:e}function gq(e,t){return e==null||e.nullable&&t===null?null:mq(e)&&!vq(e.type,Number(t))?xg.OUT_OF_RANGE:e6(e,t)?e.domain?Gz(e,t):null:Eg.INVALID_TYPE}function vq(e,t){const r=typeof e=="string"?r6(e):e;if(!r)return!1;const i=r.min,n=r.max;return r.isInteger?Number.isInteger(t)&&t>=i&&t<=n:t>=i&&t<=n}function r6(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return bq;case"esriFieldTypeInteger":case"integer":return _q;case"esriFieldTypeBigInteger":case"big-integer":return wq;case"esriFieldTypeSingle":case"single":return Sq;case"esriFieldTypeDouble":case"double":return xq}}(function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(xg||(xg={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(Eg||(Eg={}));const bq={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},_q={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},wq={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Sq={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},xq={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Sge(e,t,r){switch(e){case Bh.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Bh.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case Eg.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case xg.OUT_OF_RANGE:{const{min:i,max:n}=r6(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${i} to ${n}`}}}function xge(e,t){return!Eq(e,t,null)}function Eq(e,t,r){if(!t?.attributes||!e)return!0;const i=new Set(Object.keys(t.attributes));let n=!1;for(const s of e)if(!i.has(s)&&(n=!0,r==null))break;return n}function Ege(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))}function Tq(e){const t=e?.match(/{[^}]+}/g);return t?t.map(r=>r.slice(1,-1).split(":")[0].trim()):[]}let py=class extends tt{constructor(t){super(t),this.type=null}};b([A({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],py.prototype,"type",void 0),py=b([oe("esri.popup.content.Content")],py);const fa=py;var h2;let ec=h2=class extends fa{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new h2({description:this.description,displayType:this.displayType,title:this.title})}};b([A({type:String,json:{write:!0}})],ec.prototype,"description",void 0),b([A({type:["auto","preview","list"],json:{write:!0}})],ec.prototype,"displayType",void 0),b([A({type:String,json:{write:!0}})],ec.prototype,"title",void 0),b([A({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],ec.prototype,"type",void 0),ec=h2=b([oe("esri.popup.content.AttachmentsContent")],ec);const Tp=ec;var f2;let tc=f2=class extends fa{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new f2({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ge(this.outFields):null})}};b([A()],tc.prototype,"creator",void 0),b([A()],tc.prototype,"destroyer",void 0),b([A()],tc.prototype,"outFields",void 0),b([A({type:["custom"],readOnly:!0})],tc.prototype,"type",void 0),tc=f2=b([oe("esri.popup.content.CustomContent")],tc);const Aq=tc;var d2;let Gu=d2=class extends tt{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new d2({title:this.title,expression:this.expression})}};b([A({type:String,json:{write:!0}})],Gu.prototype,"title",void 0),b([A({type:String,json:{write:!0}})],Gu.prototype,"expression",void 0),b([A({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Gu.prototype,"returnType",void 0),Gu=d2=b([oe("esri.popup.ElementExpressionInfo")],Gu);const Mq=Gu;var p2;let ad=p2=class extends fa{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new p2({expressionInfo:this.expressionInfo?.clone()})}};b([A({type:Mq,json:{write:!0}})],ad.prototype,"expressionInfo",void 0),b([A({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],ad.prototype,"type",void 0),ad=p2=b([oe("esri.popup.content.ExpressionContent")],ad);const Q1=ad;function ht(e,t={}){const r=e instanceof sa?e:new sa(e,t),{alwaysWriteDefaults:i,default:n,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=t;return A({type:s?r.apiValues:String,json:{type:r.jsonValues,default:n,name:o,read:!l&&{reader:r.read},write:{writer:r.write,alwaysWriteDefaults:i}},nonNullable:a,readOnly:l})}let Vu=class extends ha(tt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};b([ht(Az)],Vu.prototype,"dateFormat",void 0),b([A({type:Boolean,json:{write:!0}})],Vu.prototype,"digitSeparator",void 0),b([A({type:zr,json:{write:!0}})],Vu.prototype,"places",void 0),Vu=b([oe("esri.popup.support.FieldInfoFormat")],Vu);const Iq=Vu;var m2;let is=m2=class extends tt{constructor(e){super(e),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new m2({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};b([A({type:String,json:{write:!0}})],is.prototype,"fieldName",void 0),b([A({type:Iq,json:{write:!0}})],is.prototype,"format",void 0),b([A({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],is.prototype,"isEditable",void 0),b([A({type:String,json:{write:!0}})],is.prototype,"label",void 0),b([ht(new sa({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],is.prototype,"stringFieldOption",void 0),b([A({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],is.prototype,"statisticType",void 0),b([A({type:String,json:{write:!0}})],is.prototype,"tooltip",void 0),b([A({type:Boolean,json:{write:!0}})],is.prototype,"visible",void 0),is=m2=b([oe("esri.popup.FieldInfo")],is);const i6=is;var y2;let Lo=y2=class extends fa{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map(r=>r.toJSON())}clone(){return new y2(ge({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};b([A({type:Object,json:{write:!0}})],Lo.prototype,"attributes",void 0),b([A({type:String,json:{write:!0}})],Lo.prototype,"description",void 0),b([A({type:[i6]})],Lo.prototype,"fieldInfos",void 0),b([jt("fieldInfos")],Lo.prototype,"writeFieldInfos",null),b([A({type:String,json:{write:!0}})],Lo.prototype,"title",void 0),b([A({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Lo.prototype,"type",void 0),Lo=y2=b([oe("esri.popup.content.FieldsContent")],Lo);const Ap=Lo;let rc=class extends tt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};b([A({type:String,json:{write:!0}})],rc.prototype,"altText",void 0),b([A({type:String,json:{write:!0}})],rc.prototype,"caption",void 0),b([A({type:String,json:{write:!0}})],rc.prototype,"title",void 0),b([A({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],rc.prototype,"type",void 0),rc=b([oe("esri.popup.content.mixins.MediaInfo")],rc);const $x=rc;var g2;let ic=g2=class extends ei{constructor(e){super(e),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new g2({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};b([A()],ic.prototype,"color",void 0),b([A()],ic.prototype,"fieldName",void 0),b([A()],ic.prototype,"tooltip",void 0),b([A()],ic.prototype,"value",void 0),ic=g2=b([oe("esri.popup.content.support.ChartMediaInfoValueSeries")],ic);const Oq=ic;var v2;let Na=v2=class extends tt{constructor(e){super(e),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new v2({colors:ge(this.colors),fields:ge(this.fields),normalizeField:this.normalizeField,series:ge(this.series),tooltipField:this.tooltipField})}};b([A({type:[wt],json:{type:[[zr]],write:!0}})],Na.prototype,"colors",void 0),b([A({type:[String],json:{write:!0}})],Na.prototype,"fields",void 0),b([A({type:String,json:{write:!0}})],Na.prototype,"normalizeField",void 0),b([A({type:[Oq],json:{read:!1}})],Na.prototype,"series",void 0),b([A({type:String,json:{write:!0}})],Na.prototype,"tooltipField",void 0),Na=v2=b([oe("esri.popup.content.support.ChartMediaInfoValue")],Na);const $q=Na;let ld=class extends $x{constructor(t){super(t),this.type=null,this.value=void 0}};b([A({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ld.prototype,"type",void 0),b([A({type:$q,json:{write:!0}})],ld.prototype,"value",void 0),ld=b([oe("esri.popup.content.mixins.ChartMediaInfo")],ld);const ev=ld,tv=Os()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var b2;let my=b2=class extends ev{constructor(e){super(e),this.type="bar-chart"}clone(){return new b2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:tv.write}})],my.prototype,"type",void 0),my=b2=b([oe("esri.popup.content.BarChartMediaInfo")],my);const n6=my;var _2;let yy=_2=class extends ev{constructor(e){super(e),this.type="column-chart"}clone(){return new _2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:tv.write}})],yy.prototype,"type",void 0),yy=_2=b([oe("esri.popup.content.ColumnChartMediaInfo")],yy);const s6=yy;var w2;let cd=w2=class extends tt{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new w2({linkURL:this.linkURL,sourceURL:this.sourceURL})}};b([A({type:String,json:{write:!0}})],cd.prototype,"linkURL",void 0),b([A({type:String,json:{write:!0}})],cd.prototype,"sourceURL",void 0),cd=w2=b([oe("esri.popup.content.support.ImageMediaInfoValue")],cd);const Cq=cd;var S2;let Bu=S2=class extends $x{constructor(e){super(e),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new S2({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};b([A({type:Number,json:{write:!0}})],Bu.prototype,"refreshInterval",void 0),b([A({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Bu.prototype,"type",void 0),b([A({type:Cq,json:{write:!0}})],Bu.prototype,"value",void 0),Bu=S2=b([oe("esri.popup.content.ImageMediaInfo")],Bu);const o6=Bu;var x2;let gy=x2=class extends ev{constructor(e){super(e),this.type="line-chart"}clone(){return new x2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:tv.write}})],gy.prototype,"type",void 0),gy=x2=b([oe("esri.popup.content.LineChartMediaInfo")],gy);const a6=gy;var E2;let vy=E2=class extends ev{constructor(e){super(e),this.type="pie-chart"}clone(){return new E2({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};b([A({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:tv.write}})],vy.prototype,"type",void 0),vy=E2=b([oe("esri.popup.content.PieChartMediaInfo")],vy);const l6=vy,T2={base:$x,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n6,"column-chart":s6,"line-chart":a6,"pie-chart":l6,image:o6}};var A2;let ns=A2=class extends fa{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map(t=>t.type==="image"?o6.fromJSON(t):t.type==="barchart"?n6.fromJSON(t):t.type==="columnchart"?s6.fromJSON(t):t.type==="linechart"?a6.fromJSON(t):t.type==="piechart"?l6.fromJSON(t):void 0).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map(r=>r.toJSON())}clone(){return new A2(ge({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};b([A()],ns.prototype,"activeMediaInfoIndex",void 0),b([A({type:Object,json:{write:!0}})],ns.prototype,"attributes",void 0),b([A({type:String,json:{write:!0}})],ns.prototype,"description",void 0),b([A({types:[T2]})],ns.prototype,"mediaInfos",void 0),b([Sr("mediaInfos")],ns.prototype,"readMediaInfos",null),b([jt("mediaInfos")],ns.prototype,"writeMediaInfos",null),b([A({type:String,json:{write:!0}})],ns.prototype,"title",void 0),b([A({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],ns.prototype,"type",void 0),ns=A2=b([oe("esri.popup.content.MediaContent")],ns);const Mp=ns;var M2;let ud=M2=class extends tt{constructor(e){super(e),this.field=null,this.order=null}clone(){return new M2({field:this.field,order:this.order})}};b([A({type:String,json:{write:!0}})],ud.prototype,"field",void 0),b([A({type:["asc","desc"],json:{write:!0}})],ud.prototype,"order",void 0),ud=M2=b([oe("esri.popup.support.RelatedRecordsInfoFieldOrder")],ud);const c6=ud;let Gs=class extends ha(fa){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};b([A({type:String,json:{write:!0}})],Gs.prototype,"description",void 0),b([A({type:Number,json:{type:zr,write:!0}})],Gs.prototype,"displayCount",void 0),b([A({type:["list"],json:{write:!0}})],Gs.prototype,"displayType",void 0),b([A({type:[c6],json:{write:!0}})],Gs.prototype,"orderByFields",void 0),b([A({type:Number,json:{type:zr,write:!0}})],Gs.prototype,"relationshipId",void 0),b([A({type:String,json:{write:!0}})],Gs.prototype,"title",void 0),b([A({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Gs.prototype,"type",void 0),Gs=b([oe("esri.popup.content.RelationshipContent")],Gs);const Ip=Gs;var I2;let hd=I2=class extends fa{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new I2({text:this.text})}};b([A({type:String,json:{write:!0}})],hd.prototype,"text",void 0),b([A({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],hd.prototype,"type",void 0),hd=I2=b([oe("esri.popup.content.TextContent")],hd);const Op=hd;let Vs=class extends ha(tt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};b([A({type:String,json:{write:!0}})],Vs.prototype,"title",void 0),b([A({type:String,json:{write:!0}})],Vs.prototype,"description",void 0),b([A({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Vs.prototype,"type",void 0),b([A({type:Boolean,json:{read:!1}})],Vs.prototype,"open",void 0),b([A({type:Number,json:{type:zr,write:!0}})],Vs.prototype,"associatedNetworkSourceId",void 0),b([A({type:Number,json:{type:zr,write:!0}})],Vs.prototype,"associatedAssetGroup",void 0),b([A({type:Number,json:{type:zr,write:!0}})],Vs.prototype,"associatedAssetType",void 0),Vs=b([oe("esri.popup.support.UtilityNetworkAssociationType")],Vs);const Nq=Vs;let nc=class extends ha(fa){constructor(t){super(t),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};b([A({type:String,json:{write:!0}})],nc.prototype,"description",void 0),b([A({type:String,json:{write:!0}})],nc.prototype,"title",void 0),b([A({type:[Nq],json:{write:!0}})],nc.prototype,"associationTypes",void 0),b([ht({utilityNetworkAssociations:"utility-network-associations"})],nc.prototype,"type",void 0),nc=b([oe("esri.popup.content.UtilityNetworkAssociationsContent")],nc);const Cx=nc,Pq={base:null,key:"type",typeMap:{attachment:Tp,media:Mp,text:Op,expression:Q1,field:Ap,relationship:Ip,utilityNetworkAssociations:Cx}},Lq={base:null,key:"type",typeMap:{attachment:Tp,media:Mp,text:Op,expression:Q1,field:Ap,relationship:Ip}};var O2;let sc=O2=class extends tt{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new O2({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};b([A({type:String,json:{write:!0}})],sc.prototype,"name",void 0),b([A({type:String,json:{write:!0}})],sc.prototype,"title",void 0),b([A({type:String,json:{write:!0}})],sc.prototype,"expression",void 0),b([A({type:["string","number"],json:{write:!0}})],sc.prototype,"returnType",void 0),sc=O2=b([oe("esri.popup.ExpressionInfo")],sc);const kq=sc;var $2;let fd=$2=class extends tt{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new $2({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};b([A({type:Boolean,json:{write:!0}})],fd.prototype,"returnTopmostRaster",void 0),b([A({type:Boolean,json:{write:!0}})],fd.prototype,"showNoDataRecords",void 0),fd=$2=b([oe("esri.popup.LayerOptions")],fd);const Rq=fd;var C2;let dd=C2=class extends tt{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new C2({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ge(this.orderByFields):null})}};b([A({type:Boolean,json:{write:!0}})],dd.prototype,"showRelatedRecords",void 0),b([A({type:[c6],json:{write:!0}})],dd.prototype,"orderByFields",void 0),dd=C2=b([oe("esri.popup.RelatedRecordsInfo")],dd);const b4=dd;let u6=0;const h6=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+u6++})}};return t=b([oe("esri.core.Identifiable")],t),t},Nge=e=>{let t=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:u6++})}};return t=b([oe("esri.core.Identifiable.NumericIdentifiable")],t),t};let _4=class extends h6(class{}){};_4=b([oe("esri.core.Identifiable")],_4);var N2;let Nn=N2=class extends h6(ei){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new N2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};b([A()],Nn.prototype,"active",void 0),b([A()],Nn.prototype,"className",void 0),b([A()],Nn.prototype,"disabled",void 0),b([A()],Nn.prototype,"icon",void 0),b([A()],Nn.prototype,"id",void 0),b([A()],Nn.prototype,"indicator",void 0),b([A()],Nn.prototype,"title",void 0),b([A()],Nn.prototype,"type",void 0),b([A()],Nn.prototype,"visible",void 0),Nn=N2=b([oe("esri.support.actions.ActionBase")],Nn);const Nx=Nn;var P2;let by=P2=class extends Nx{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new P2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};b([A()],by.prototype,"image",void 0),by=P2=b([oe("esri.support.actions.ActionButton")],by);const Dq=by;var L2;let pd=L2=class extends Nx{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new L2({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};b([A()],pd.prototype,"image",void 0),b([A()],pd.prototype,"value",void 0),pd=L2=b([oe("esri.support.actions.ActionToggle")],pd);const Fq=pd,Wf="relationships/",w4="expression/",Uq=qt.ofType({key:"type",defaultKeyValue:"button",base:Nx,typeMap:{button:Dq,toggle:Fq}}),jq={base:fa,key:"type",typeMap:{media:Mp,custom:Aq,text:Op,attachments:Tp,fields:Ap,expression:Q1,relationship:Ip,utilityNetworkAssociations:Cx}},f6=new Set(["attachments","fields","media","text","expression","relationship"]),Gq=new Set([...f6,"utility-network-associations"]);let $r=class extends ha(tt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(r=>Gc(jq,r)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||pC(t)?t:(kt.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,r){const{popupElements:i}=r;return Array.isArray(i)&&i.length>0?this._readPopupInfoElements(r.description,r.mediaInfos,i):this._readPopupInfo(r)}writeWebSceneContent(t,r,i,n){this._writePopupTemplateContent(t,r,n)}writeWebMapContent(t,r,i,n){this._writePopupTemplateContent(t,r,n)}writeFieldInfos(t,r,i,n){const{content:s}=this,o=Array.isArray(s)?s:null;if(t){const a=o?o.filter(c=>c.type==="fields"):[],l=a.length&&a.every(c=>c.fieldInfos?.length);r.fieldInfos=t.filter(Boolean).map(c=>{const f=c.toJSON(n);return l&&(f.visible=!1),f})}if(o)for(const a of o)a.type==="fields"&&this._writeFieldsContent(a,r)}writeLayerOptions(t,r,i,n){r[i]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(n)}writeTitle(t,r){r.title=t||""}async collectRequiredFields(t,r){const i=this.expressionInfos||[];await this._collectExpressionInfoFields(t,r,[...i,...this._getContentExpressionInfos(this.content,i)]),Ep(t,r,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const r=new Set;return await this.collectRequiredFields(r,t),[...r].sort()}_writePopupTemplateContent(t,r,i){typeof t!="string"?Array.isArray(t)&&(r.popupElements=t.filter(n=>i?.origin==="web-scene"?f6.has(n.type):Gq.has(n.type)).map(n=>n?.toJSON(i)),r.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(r):n.type==="media"?this._writeMediaContent(n,r):n.type==="text"?this._writeTextContent(n,r):n.type==="relationship"&&this._writeRelationshipContent(n,r)})):r.description=t}_writeFieldsContent(t,r){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const i=ge(t.fieldInfos);Array.isArray(r.fieldInfos)?i.forEach(n=>{const s=r.fieldInfos.find(o=>o.fieldName?.toLowerCase()===n.fieldName?.toLowerCase());s?s.visible=!0:r.fieldInfos.push(n)}):r.fieldInfos=i}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,r){const i=t.orderByFields?.map(s=>this._toFieldOrderJSON(s,t.relationshipId))||[],n=[...r.relatedRecordsInfo?.orderByFields||[],...i];r.relatedRecordsInfo={showRelatedRecords:!0,...n?.length&&{orderByFields:n}}}_writeTextContent(t,r){!r.description&&t.text&&(r.description=t.text)}_writeMediaContent(t,r){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const i=ge(t.mediaInfos);Array.isArray(r.mediaInfos)?r.mediaInfos=[...r.mediaInfos,...i]:r.mediaInfos=i}_readPopupInfoElements(t,r,i){const n={description:!1,mediaInfos:!1};return i.map(s=>s.type==="media"?(s.mediaInfos||!r||n.mediaInfos||(s.mediaInfos=r,n.mediaInfos=!0),Mp.fromJSON(s)):s.type==="text"?(s.text||!t||n.description||(s.text=t,n.description=!0),Op.fromJSON(s)):s.type==="attachments"?Tp.fromJSON(s):s.type==="fields"?Ap.fromJSON(s):s.type==="expression"?Q1.fromJSON(s):s.type==="relationship"?Ip.fromJSON(s):s.type==="utilityNetworkAssociations"?Cx.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:r,order:i}=t;if(!r?.startsWith(Wf))return null;const n=r.replace(Wf,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),o=n[1];return typeof s=="number"&&o?Ip.fromJSON({relationshipId:s,orderByFields:[{field:o,order:i}]}):null}_toFieldOrderJSON(t,r){const{order:i,field:n}=t;return{field:`${Wf}${r}/${n}`,order:i}}_readPopupInfo({description:t,mediaInfos:r,showAttachments:i,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];t?s.push(new Op({text:t})):s.push(new Ap),Array.isArray(r)&&r.length&&s.push(Mp.fromJSON({mediaInfos:r})),i&&s.push(Tp.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=n;return o&&a?.length&&a.forEach(l=>{const c=this._toRelationshipContent(l);c&&s.push(c)}),s.length?s:t}_getContentElementFields(t){const r=t?.type;if(r==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(r==="custom")return t.outFields||[];if(r==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(r==="media"){const i=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...i.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return r==="text"?this._extractFieldNames(t.text):r==="relationship"||r==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:r,title:i,value:n}=t,s=n||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:c,linkURL:f}=s,d=[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(c),...this._extractFieldNames(f),...o??[]];return a&&d.push(a),l&&d.push(l),d}_getContentExpressionInfos(t,r){return Array.isArray(t)?t.reduce((i,n)=>[...i,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],r):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((r,i)=>[...r,...this._getContentElementFields(i)],[]):[]}async _collectExpressionInfoFields(t,r,i){i&&await Promise.all(i.map(n=>Xc(t,r,n.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:r,visible:i})=>!(i!==void 0&&!i||!r||r.startsWith(Wf)||r.startsWith(w4))).map(r=>r.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((r,i)=>[...r,...this._getActionFields(i)],[]):[]}_getActionFields(t){const{className:r,title:i,type:n}=t,s=n==="button"||n==="toggle"?t.image:"";return[...this._extractFieldNames(i),...this._extractFieldNames(r),...this._extractFieldNames(s)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return Tq(t).filter(r=>!(r.indexOf(Wf)===0||r.indexOf(w4)===0))}};b([A({type:Uq})],$r.prototype,"actions",void 0),b([A()],$r.prototype,"content",void 0),b([pm("content")],$r.prototype,"castContent",null),b([Sr("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],$r.prototype,"readContent",null),b([jt("web-scene","content",{popupElements:{type:qt.ofType(Lq)},showAttachments:{type:Boolean},mediaInfos:{type:qt.ofType(T2)},description:{type:String},relatedRecordsInfo:{type:b4}})],$r.prototype,"writeWebSceneContent",null),b([jt("content",{popupElements:{type:qt.ofType(Pq)},showAttachments:{type:Boolean},mediaInfos:{type:qt.ofType(T2)},description:{type:String},relatedRecordsInfo:{type:b4}})],$r.prototype,"writeWebMapContent",null),b([A({type:[kq],json:{write:!0}})],$r.prototype,"expressionInfos",void 0),b([A({type:[i6]})],$r.prototype,"fieldInfos",void 0),b([jt("fieldInfos")],$r.prototype,"writeFieldInfos",null),b([A({type:Rq})],$r.prototype,"layerOptions",void 0),b([jt("layerOptions")],$r.prototype,"writeLayerOptions",null),b([A({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],$r.prototype,"lastEditInfoEnabled",void 0),b([A()],$r.prototype,"outFields",void 0),b([A()],$r.prototype,"overwriteActions",void 0),b([A()],$r.prototype,"returnGeometry",void 0),b([A({json:{type:String}})],$r.prototype,"title",void 0),b([jt("title")],$r.prototype,"writeTitle",null),$r=b([oe("esri.PopupTemplate")],$r);const Vq=$r,S4=new sa({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Bq=0,zu=class extends tt{constructor(t){super(t),this.id="sym"+Bq++,this.type=null,this.color=new wt([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,r){}hash(){return JSON.stringify(this.toJSON())}clone(){}};b([A({type:S4.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:S4.write}}})],zu.prototype,"type",void 0),b([A({type:wt,json:{write:{allowNull:!0}}})],zu.prototype,"color",void 0),b([Sr("color")],zu.prototype,"readColor",null),zu=b([oe("esri.symbols.Symbol")],zu);const Ti=zu;var k2;let Pa=k2=class extends Ti{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if(this.data?.type==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const i=r.map(n=>{const s=n.valueExpressionInfo;return s?Xc(e,t,s.expression):null});await Promise.all(i)}}}clone(){return new k2({data:ge(this.data)})}hash(){return O$(JSON.stringify(this.data)).toString()}};b([A({json:{write:!1}})],Pa.prototype,"color",void 0),b([A({json:{write:!0}})],Pa.prototype,"data",void 0),b([Sr("data",["symbol"])],Pa.prototype,"readData",null),b([jt("data",{})],Pa.prototype,"writeData",null),b([ht({CIMSymbolReference:"cim"},{readOnly:!0})],Pa.prototype,"type",void 0),Pa=k2=b([oe("esri.symbols.CIMSymbol")],Pa);const hu=Pa;let qu=class extends tt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,r,i){t||(r[i]=t)}};b([A({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],qu.prototype,"enabled",void 0),b([jt("enabled")],qu.prototype,"writeEnabled",null),b([A({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],qu.prototype,"type",void 0),qu=b([oe("esri.symbols.Symbol3DLayer")],qu);const To=qu,zq=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,qq="screenUtils.toPt: input not recognized!",d6=96;function Dge(e){return e?e/72*d6:0}function go(e){return e?72*e/d6:0}function ar(e){if(typeof e=="string"){const t=e.match(zq);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),n=e.charAt(0)==="-",s=i==="px"?go(r):r;return n?-s:s}return console.warn(qq),null}return e}function Wq(e=0,t=0){return{x:e,y:t}}function Fge(e){return e?Wq(e.x,e.y):null}function Uge(e=0,t=0){return[e,t]}function jge(e=0,t=0,r=0){return[e,t,r]}function Gge(e,t){return t?(t[0]=e.x,t[1]=e.y,t.length>2&&(t[2]=0),t):[e.x,e.y]}function Hq(e){const t=US(100*(1-e));return Math.max(0,Math.min(t,100))}function Yq(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function Jq(e,t){const r=t.transparency!=null?Yq(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new wt([i[0]||0,i[1]||0,i[2]||0,r]):null}function Kq(e,t){t.color=e.toJSON().slice(0,3);const r=Hq(e.a);r!==0&&(t.transparency=r)}const Tl={type:wt,json:{type:[zr],default:null,read:{source:["color","transparency"],reader:Jq},write:{target:{color:{type:[zr]},transparency:{type:zr}},writer:Kq}}},vo={type:Number,cast:ar,json:{write:!0}};let oc=class extends tt{constructor(t){super(t),this.color=new wt([0,0,0,1]),this.extensionLength=0,this.size=go(1)}clone(){}cloneProperties(){return{color:ge(this.color),size:this.size,extensionLength:this.extensionLength}}};b([A({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],oc.prototype,"type",void 0),b([A(Tl)],oc.prototype,"color",void 0),b([A({...vo,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],oc.prototype,"extensionLength",void 0),b([A(vo)],oc.prototype,"size",void 0),oc=b([oe("esri.symbols.edges.Edges3D")],oc);const Px=oc;var R2;let _y=R2=class extends Px{constructor(e){super(e),this.type="sketch"}clone(){return new R2(this.cloneProperties())}};b([ht({sketch:"sketch"},{readOnly:!0})],_y.prototype,"type",void 0),_y=R2=b([oe("esri.symbols.edges.SketchEdges3D")],_y);const Zq=_y;var D2;let wy=D2=class extends Px{constructor(e){super(e),this.type="solid"}clone(){return new D2(this.cloneProperties())}};b([ht({solid:"solid"},{readOnly:!0})],wy.prototype,"type",void 0),wy=D2=b([oe("esri.symbols.edges.SolidEdges3D")],wy);const p6=wy,m6={types:{key:"type",base:Px,typeMap:{solid:p6,sketch:Zq}},json:{write:!0}};function Lx(){return[0,0,0]}function kx(e){return[e[0],e[1],e[2]]}function Af(e,t,r){return[e,t,r]}function Xq(e,t,r){return[e,t,r]}function Qq(e,t=Lx()){const r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function eW(e,t){return new Float64Array(e,t,3)}function y6(){return Lx()}function g6(){return Af(1,1,1)}function v6(){return Af(1,0,0)}function b6(){return Af(0,1,0)}function _6(){return Af(0,0,1)}const tW=y6(),rW=g6(),iW=v6(),nW=b6(),sW=_6();Object.freeze(Object.defineProperty({__proto__:null,ONES:rW,UNIT_X:iW,UNIT_Y:nW,UNIT_Z:sW,ZEROS:tW,clone:kx,create:Lx,createView:eW,freeze:Xq,fromArray:Qq,fromValues:Af,ones:g6,unitX:v6,unitY:b6,unitZ:_6,zeros:y6},Symbol.toStringTag,{value:"Module"}));var F2;let pn=F2=class extends tt{constructor(e){super(e),this.color=null,this.emissiveFactor=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?kx(this.emissiveFactor):null};return new F2(e)}};b([A(Tl)],pn.prototype,"color",void 0),b([A({type:[Number],json:{write:!1}})],pn.prototype,"emissiveFactor",void 0),pn=F2=b([oe("esri.symbols.support.Symbol3DMaterial")],pn);var U2;let La=U2=class extends To{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new U2({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};b([ht({Extrude:"extrude"},{readOnly:!0})],La.prototype,"type",void 0),b([A({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],La.prototype,"size",void 0),b([A({type:pn,json:{write:!0}})],La.prototype,"material",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],La.prototype,"castShadows",void 0),b([A(m6)],La.prototype,"edges",void 0),La=U2=b([oe("esri.symbols.ExtrudeSymbol3DLayer")],La);const w6=La;let md=class extends Ti{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};b([ht({esriSLS:"simple-line"},{readOnly:!0})],md.prototype,"type",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],md.prototype,"width",void 0),md=b([oe("esri.symbols.LineSymbol")],md);const oW=md,aW=["begin","end","begin-end"],S6=["arrow","circle","square","diamond","cross","x"];var j2;let Bs=j2=class extends tt{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]=i?.origin==="web-map"?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){i?.origin==="web-map"||(t[r]=e)}clone(){return new j2({color:ge(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};b([A({type:["begin","end","begin-end"],json:{write:!0}})],Bs.prototype,"placement",void 0),b([ht({"line-marker":"line-marker"},{readOnly:!0}),A({json:{origins:{"web-map":{write:!1}}}})],Bs.prototype,"type",void 0),b([A({type:S6})],Bs.prototype,"style",void 0),b([jt("style")],Bs.prototype,"writeStyle",null),b([A({type:wt,value:null,json:{write:{allowNull:!0}}})],Bs.prototype,"color",null),b([Sr("color")],Bs.prototype,"readColor",null),b([jt("color")],Bs.prototype,"writeColor",null),Bs=j2=b([oe("esri.symbols.LineSymbolMarker")],Bs);const lW=Bs;var G2;const $b=new sa({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let ko=G2=class extends oW{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,n,s){if(e&&typeof e!="string")return e;const o={};return e!=null&&(o.style=e),t!=null&&(o.color=t),r!=null&&(o.width=ar(r)),i!=null&&(o.cap=i),n!=null&&(o.join=n),s!=null&&(o.miterLimit=ar(s)),o}clone(){return new G2({color:ge(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};b([ht({esriSLS:"simple-line"},{readOnly:!0})],ko.prototype,"type",void 0),b([A({type:$b.apiValues,json:{read:$b.read,write:$b.write}})],ko.prototype,"style",void 0),b([A({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],ko.prototype,"cap",void 0),b([A({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:e!=="round"&&r?.origin==null})}}})],ko.prototype,"join",void 0),b([A({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":lW}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],ko.prototype,"marker",void 0),b([A({type:Number,json:{read:!1,write:!1}})],ko.prototype,"miterLimit",void 0),ko=G2=b([oe("esri.symbols.SimpleLineSymbol")],ko);const $s=ko;let yd=class extends Ti{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};b([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":$s}},json:{default:null,write:!0}})],yd.prototype,"outline",void 0),b([A({type:["simple-fill","picture-fill"],readOnly:!0})],yd.prototype,"type",void 0),yd=b([oe("esri.symbols.FillSymbol")],yd);const x6=yd;let Sy=class extends tt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};b([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Sy.prototype,"type",void 0),Sy=b([oe("esri.symbols.patterns.LinePattern3D")],Sy);const E6=Sy,cW=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var V2;const uW=Os()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let gd=V2=class extends E6{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new V2(e)}};b([A({type:["style"]})],gd.prototype,"type",void 0),b([ht(uW),A({type:cW})],gd.prototype,"style",void 0),gd=V2=b([oe("esri.symbols.patterns.LineStylePattern3D")],gd);const Rx=gd;let xy=class extends tt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};b([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],xy.prototype,"type",void 0),xy=b([oe("esri.symbols.patterns.Pattern3D")],xy);const T6=xy,hW=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var B2;let vd=B2=class extends T6{constructor(e){super(e),this.type="style",this.style="solid"}clone(){return new B2({style:this.style})}};b([A({type:["style"]})],vd.prototype,"type",void 0),b([A({type:hW,json:{read:!0,write:!0}})],vd.prototype,"style",void 0),vd=B2=b([oe("esri.symbols.patterns.StylePattern3D")],vd);const A6=vd,fW={types:{key:"type",base:T6,typeMap:{style:A6}},json:{write:!0}},M6={types:{key:"type",base:E6,typeMap:{style:Rx}},json:{write:!0}},jd=new wt("white");new wt("black");const dW=new wt([255,255,255,0]);function pW(e){return e.r===0&&e.g===0&&e.b===0}var z2;let Gd=z2=class extends pn{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?kx(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new z2(e)}};b([ht({multiply:"multiply",replace:"replace",tint:"tint"})],Gd.prototype,"colorMixMode",void 0),Gd=z2=b([oe("esri.symbols.support.Symbol3DFillMaterial")],Gd);function mW(e,t=!1){return e<=w$?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function Hge(e){return(_$(e)?e.length:e.byteLength/8)<=w$?Array.from(e):new Float64Array(e)}function Yge(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function wm(e=vW){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function Dx(e,t,r,i,n,s,o=wm()){return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o[4]=n,o[5]=s,o}function Jge(e,t=wm()){return yW(e,0,e.length/3,t)}function yW(e,t,r,i=wm()){return I6(i,q2),gW(i,e,t,r),i}function Kge(e,t=mW(24)){const[r,i,n,s,o,a]=e;return t[0]=r,t[1]=i,t[2]=n,t[3]=r,t[4]=i,t[5]=a,t[6]=r,t[7]=o,t[8]=n,t[9]=r,t[10]=o,t[11]=a,t[12]=s,t[13]=i,t[14]=n,t[15]=s,t[16]=i,t[17]=a,t[18]=s,t[19]=o,t[20]=n,t[21]=s,t[22]=o,t[23]=a,t}function Zge(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new _n(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Xge(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Qge(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function gW(e,t,r=0,i=t.length/3){let n=e[0],s=e[1],o=e[2],a=e[3],l=e[4],c=e[5];for(let f=0;f<i;f++)n=Math.min(n,t[r+3*f]),s=Math.min(s,t[r+3*f+1]),o=Math.min(o,t[r+3*f+2]),a=Math.max(a,t[r+3*f]),l=Math.max(l,t[r+3*f+1]),c=Math.max(c,t[r+3*f+2]);e[0]=n,e[1]=s,e[2]=o,e[3]=a,e[4]=l,e[5]=c}function Fx(e){return e[0]>=e[3]?0:e[3]-e[0]}function Ux(e){return e[1]>=e[4]?0:e[4]-e[1]}function jx(e){return e[2]>=e[5]?0:e[5]-e[2]}function e1e(e){const t=Fx(e),r=jx(e),i=Ux(e);return Math.sqrt(t*t+r*r+i*i)}function t1e(e,t=[0,0,0]){return t[0]=e[0]+Fx(e)/2,t[1]=e[1]+Ux(e)/2,t[2]=e[2]+jx(e)/2,t}function r1e(e,t=[0,0,0]){return t[0]=Fx(e),t[1]=Ux(e),t[2]=jx(e),t}function i1e(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function n1e(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function I6(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function s1e(e){return e?I6(e,q2):wm(q2)}function o1e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function a1e(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function x4(e){return e.length===6}function l1e(e,t,r){if(e==null||t==null)return e===t;if(!x4(e)||!x4(t))return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}const q2=[1/0,1/0,1/0,-1/0,-1/0,-1/0],vW=[0,0,0,0,0,0];wm();function c1e(e,{isPrimitive:t,width:r,depth:i,height:n}){const s=t?10:1;if(r==null&&n==null&&i==null)return[s*e[0],s*e[1],s*e[2]];const o=Af(r,i,n);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/e[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=e[l]*a);return o}const bW=Dx(-.5,-.5,-.5,.5,.5,.5),_W=Dx(-.5,-.5,0,.5,.5,1),wW=Dx(-.5,-.5,0,.5,.5,.5);function u1e(e){switch(e){case"sphere":case"cube":case"diamond":return bW;case"cylinder":case"cone":case"inverted-cone":return _W;case"tetrahedron":return wW;default:return}}const Gx=["butt","square","round"],SW=[...Gx,"none"],O6=["miter","bevel","round"];var W2;let ac=W2=class extends tt{constructor(e){super(e),this.color=new wt([0,0,0,1]),this.size=go(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new W2(e)}};b([A(Tl)],ac.prototype,"color",void 0),b([A(vo)],ac.prototype,"size",void 0),b([A(M6)],ac.prototype,"pattern",void 0),b([A({type:Gx,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],ac.prototype,"patternCap",void 0),ac=W2=b([oe("esri.symbols.support.Symbol3DOutline")],ac);var Ey;let Ro=Ey=class extends To{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Ey(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Rx({style:e.outline.style}):null,r={size:e.outline?.width??0,color:(e.outline?.color??jd).clone(),pattern:t};return t&&e.outline?.cap&&(r.patternCap=e.outline.cap),new Ey({material:new Gd({color:(e.color??dW).clone()}),pattern:e.style&&e.style!=="solid"?new A6({style:e.style}):null,outline:r})}};b([ht({Fill:"fill"},{readOnly:!0})],Ro.prototype,"type",void 0),b([A({type:Gd,json:{write:!0}})],Ro.prototype,"material",void 0),b([A(fW)],Ro.prototype,"pattern",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Ro.prototype,"castShadows",void 0),b([A({type:ac,json:{write:!0}})],Ro.prototype,"outline",void 0),b([A(m6)],Ro.prototype,"edges",void 0),Ro=Ey=b([oe("esri.symbols.FillSymbol3DLayer")],Ro);const fu=Ro,xW=["none","underline","line-through"],EW=["normal","italic","oblique"],TW=["normal","lighter","bold","bolder"],$6={type:Number,cast:e=>{const t=L1(e);return t===0?1:$1(t,.1,4)},nonNullable:!0},AW=["left","right","center"],MW=["baseline","top","middle","bottom"],C6={type:AW,nonNullable:!0},N6={type:MW,nonNullable:!0},h1e=8;var H2;let Do=H2=class extends tt{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return ar(e)}clone(){return new H2({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};b([A({type:xW,json:{default:"none",write:!0}})],Do.prototype,"decoration",void 0),b([A({type:String,json:{write:!0}})],Do.prototype,"family",void 0),b([A({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],Do.prototype,"size",void 0),b([pm("size")],Do.prototype,"castSize",null),b([A({type:EW,json:{default:"normal",write:!0}})],Do.prototype,"style",void 0),b([A({type:TW,json:{default:"normal",write:!0}})],Do.prototype,"weight",void 0),Do=H2=b([oe("esri.symbols.Font")],Do);const rv=Do;function Sm(e,t){const r=t?.url?.path;if(e&&r&&(e=fm(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const i=LC(e,t.portalItem.itemUrl);i!=null&&IW.test(i)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(i).path)}return(e=Y2(e,t?.portal))&&nv.test(e)?L6(e):e}function iv(e,t,r=Cp.YES){if((e=e&&nv.test(e)?k6(e):e)==null)return e;!vs(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=fm(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const s=Y2(n,t.portal),o=Y2(i,t.portal);i=LC(o,s,s),i!=null&&i!==o&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=P6(i,t?.portal),vs(i)&&(i=ll(i)),t?.resources&&t?.portalItem&&!vs(i)&&!_f(i)&&r===Cp.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function Vx(e,t,r){return Sm(e,r)}function $p(e,t,r,i){const n=iv(e,i);n!==void 0&&(t[r]=n)}const nv=/\/items\/([^/]+)\/resources\/(.*)/,IW=/^\.\/resources\//;function OW(e){return(e?.match(nv)??null)?.[1]??null}function $W(e){const t=e?.match(nv)??null;if(t==null)return null;const r=t[2],i=r.lastIndexOf("/");if(i===-1){const{path:o,extension:a}=pA(r);return{prefix:null,filename:o,extension:a}}const{path:n,extension:s}=pA(r.slice(i+1));return{prefix:r.slice(0,i),filename:n,extension:s}}function P6(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?D_(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function Y2(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=QS();return Rh(i,`${i.scheme}://${r}`)?D_(e,t.portalHostname,r):D_(e,r,t.portalHostname)}function L6(e){if(!e)return e||null;let t=e;return t&&Xt&&!Xt.findCredential(t)&&(t=OC(t),t=t.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),t=t.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),t=t.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),t}function k6(e){if(!e)return e||null;let t=e;return t=t.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),t=t.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),t=t.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),t&&Xt&&!Xt.findCredential(t)&&(t=OC(t)),t}var Cp;(function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"})(Cp||(Cp={}));const f1e=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Cp},ensureMainOnlineDomain:P6,fromCDNUrl:k6,fromJSON:Sm,itemIdFromResourceUrl:OW,prefixAndFilenameFromResourceUrl:$W,read:Vx,toCDNUrl:L6,toJSON:iv,write:$p},Symbol.toStringTag,{value:"Module"}));var J2;const CW=Os()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let lc=J2=class extends tt{constructor(e){super(e)}readHref(e,t,r){return e?Sm(e,r):t.dataURI}writeHref(e,t,r,i){e&&(_f(e)?t.dataURI=e:(t.href=iv(e,i),vs(t.href)&&(t.href=ll(t.href))))}clone(){return new J2({href:this.href,primitive:this.primitive})}};b([A({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],lc.prototype,"href",void 0),b([Sr("href")],lc.prototype,"readHref",null),b([jt("href",{href:{type:String},dataURI:{type:String}})],lc.prototype,"writeHref",null),b([ht(CW)],lc.prototype,"primitive",void 0),lc=J2=b([oe("esri.symbols.support.IconSymbol3DLayerResource")],lc);var K2;let ih=K2=class extends ei{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new K2({x:this.x,y:this.y})}};b([A({type:Number})],ih.prototype,"x",void 0),b([A({type:Number})],ih.prototype,"y",void 0),ih=K2=b([oe("esri.symbols.support.Symbol3DAnchorPosition2D")],ih);var Z2;let bd=Z2=class extends tt{constructor(e){super(e),this.color=new wt([0,0,0,1]),this.size=go(1)}clone(){const e={color:this.color!=null?this.color.clone():null,size:this.size};return new Z2(e)}};b([A(Tl)],bd.prototype,"color",void 0),b([A(vo)],bd.prototype,"size",void 0),bd=Z2=b([oe("esri.symbols.support.Symbol3DIconOutline")],bd);var Wu;const R6="esri.symbols.IconSymbol3DLayer";let ss=Wu=class extends To{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Wu({anchor:this.anchor,anchorPosition:ge(this.anchorPosition),enabled:this.enabled,material:ge(this.material),outline:ge(this.outline),resource:ge(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||jd,r=E4(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||jd).clone()}:null;return new Wu({size:e.size,angle:e.angle,resource:{primitive:PW(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||pW(e.color)?jd:e.color,r=E4(e);return new Wu({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Wu({resource:{href:kC({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};b([A({type:pn,json:{write:!0}})],ss.prototype,"material",void 0),b([A({type:lc,json:{write:!0}})],ss.prototype,"resource",void 0),b([ht({Icon:"icon"},{readOnly:!0})],ss.prototype,"type",void 0),b([A(vo)],ss.prototype,"size",void 0),b([ht({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],ss.prototype,"anchor",void 0),b([A({type:ih,json:{type:[Number],read:{reader:e=>new ih({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ss.prototype,"anchorPosition",void 0),b([A({type:bd,json:{write:!0}})],ss.prototype,"outline",void 0),b([A({type:Number,json:{write:!0,default:0}})],ss.prototype,"angle",void 0),ss=Wu=b([oe(R6)],ss);const xc=ss;function E4(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=T4(e.xoffset),n=T4(e.yoffset);return(i||n)&&t&&r?{x:-i/t,y:n/r}:null}function T4(e){return isFinite(e)?e:0}const NW={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function PW(e){return NW[e]||(kt.getLogger(R6).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}function LW(e,t,r=qt){return t||(t=new r),t===e||(t.removeAll(),RW(e)?t.addMany(e):e&&t.add(e)),t}function kW(e){return e}function RW(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var Ha;(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(Ha||(Ha={}));let DW=class{constructor(){this._resolver=kh(),this._status=Ha.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=Ha.RESOLVED,this._cleanUp()},()=>{this._status=Ha.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===Ha.RESOLVED}isRejected(){return this._status===Ha.REJECTED}isFulfilled(){return this._status!==Ha.PENDING}abort(){this._resolver.reject(bn())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=kh(),r=[...this._resolvingPromises,t.promise],i=this._allPromise=Promise.all(r);i.then(()=>{this.isFulfilled()||this._allPromise!==i||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==i||hm(n)||this._resolver.reject(n)}),t.resolve()}};const FW=e=>{let t=class extends e{constructor(...r){super(...r),this._promiseProps=new DW,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,i){return this._promiseProps.promise.then(()=>this).then(r,i)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}};return t=b([oe("esri.core.Promise")],t),t};let X2=class extends FW(ei){};X2=b([oe("esri.core.Promise")],X2);const UW="not-loaded",jW="loading",GW="failed",A4="loaded",D6=e=>{let t=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(i=>{const n=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=UF(s,l);this.destroyed&&l(new ct("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===UW){this._set("loadStatus",jW);const a=this._loadController=new AbortController;n({signal:a.signal})}return i(),o}})),this.when(()=>{this._set("loadStatus",A4),this._loadController=null},i=>{this._set("loadStatus",GW),this._set("loadError",i),this._loadController=null})}destroy(){this._loadController&&(this._loadController=iC(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===A4}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ct("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return b([A({readOnly:!0})],t.prototype,"loaded",null),b([A({readOnly:!0})],t.prototype,"loadError",void 0),b([A({clonable:!1})],t.prototype,"loadStatus",void 0),b([A({type:[fp],readOnly:!0})],t.prototype,"loadWarnings",null),t=b([oe("esri.core.Loadable")],t),t};let _d=class extends D6(X2){};_d=b([oe("esri.core.Loadable")],_d),function(e){function t(r){return!(!r||!r.load)}e.LoadableMixin=D6,e.isLoadable=t}(_d||(_d={}));const VW=_d;let f0;function BW(e){return f0&&!f0.destroyed||(f0=e()),f0}var Q2;const zW=new sa({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Pn=Q2=class extends ei{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){e!=="asc"&&e!=="desc"||this._set("sortOrder",e)}clone(){return new Q2({categories:this.categories?ge(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let i="";if(this.extent){const o=s5(this.extent,or.WGS84);o!=null&&(i=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:r,bbox:i,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>zW.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};b([A()],Pn.prototype,"categories",void 0),b([A()],Pn.prototype,"disableExtraQuery",void 0),b([A({type:_n})],Pn.prototype,"extent",void 0),b([A()],Pn.prototype,"filter",void 0),b([A()],Pn.prototype,"num",void 0),b([A()],Pn.prototype,"query",void 0),b([A()],Pn.prototype,"sortField",void 0),b([A()],Pn.prototype,"sortOrder",null),b([A()],Pn.prototype,"start",void 0),Pn=Q2=b([oe("esri.portal.PortalQueryParams")],Pn);const eo=Pn;var ew;let Cr=ew=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.portal?.restUrl;return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal.request(this.url+"/categorySchema",e).then(t=>{const r=t.categorySchema||[];return r.some(i=>i.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",e):r})}fetchMembers(e){return this.portal.request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new ct("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new ew({sourceJSON:e});return t.read(e),t}queryItems(e,t){let r=xs(eo,e);const i=this.portal;return parseFloat(i.currentVersion)>5?(r=r||new eo,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new eo,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=this.portal;return r.fetchSelf(r.authMode,!0,t).then(i=>{const n=i.contentCategorySetsGroupQuery;if(n){const s=new eo({disableExtraQuery:!0,num:1,query:n});return r.queryGroups(s,t)}throw new ct("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(i=>{if(i.total){const n=i.results[0],s=new eo({num:1,query:`typekeywords:"${e}"`});return n.queryItems(s,t)}throw new ct("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(i=>i.total?i.results[0].fetchData("json",t).then(n=>{const s=n?.categorySchema;return s?.length?s:[]}):[])}};b([A()],Cr.prototype,"access",void 0),b([A({type:Date})],Cr.prototype,"created",void 0),b([A()],Cr.prototype,"description",void 0),b([A()],Cr.prototype,"id",void 0),b([A()],Cr.prototype,"isInvitationOnly",void 0),b([A({type:Date})],Cr.prototype,"modified",void 0),b([A()],Cr.prototype,"owner",void 0),b([A()],Cr.prototype,"portal",void 0),b([A()],Cr.prototype,"snippet",void 0),b([A()],Cr.prototype,"sortField",void 0),b([A()],Cr.prototype,"sortOrder",void 0),b([A()],Cr.prototype,"sourceJSON",void 0),b([A()],Cr.prototype,"tags",void 0),b([A()],Cr.prototype,"thumbnail",void 0),b([A({readOnly:!0})],Cr.prototype,"thumbnailUrl",null),b([A()],Cr.prototype,"title",void 0),b([A({readOnly:!0})],Cr.prototype,"url",null),Cr=ew=b([oe("esri.portal.PortalGroup")],Cr);const tw=Cr;let cc=class extends ei{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};b([A()],cc.prototype,"nextQueryParams",void 0),b([A()],cc.prototype,"queryParams",void 0),b([A()],cc.prototype,"results",void 0),b([A()],cc.prototype,"total",void 0),cc=b([oe("esri.portal.PortalQueryResult")],cc);const qW=cc;let Fo=class extends tt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ct("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};b([A({type:Date})],Fo.prototype,"created",void 0),b([A()],Fo.prototype,"id",void 0),b([A()],Fo.prototype,"portal",void 0),b([A()],Fo.prototype,"title",void 0),b([A({readOnly:!0})],Fo.prototype,"url",null),b([A()],Fo.prototype,"username",void 0),Fo=b([oe("esri.portal.PortalFolder")],Fo);const WW=Fo;var rw;let Ft=rw=class extends tt{constructor(e){super(e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.portal?.restUrl;return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e?.data,i=e?.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),r!=null&&(typeof r=="string"?n.query.text=r:typeof r=="object"&&(n.query.text=JSON.stringify(r))));let s=this.userContentUrl;return i&&(s+="/"+(typeof i=="string"?i:i.id)),this.portal.request(s+"/addItem",n).then(o=>(t.id=o.id,t.portal=this.portal,t.loaded?t.reload():t.load()))}async deleteItem(e,t=!1){let r=this.userContentUrl;e.ownerFolder&&(r+="/"+e.ownerFolder);const i=t?{permanentDelete:!0}:{};await this.portal.request(r+`/items/${e.id}/delete`,{method:"post",query:i}),e.id=null,e.portal=null}async deleteItems(e,t=!1){e=e.slice();const r=this.userContentUrl+"/deleteItems",i=[],n=e.map(s=>s.id);if(n.length){const s={method:"post",query:{items:n.join(","),permanentDelete:t}},o=await this.portal.request(r,s);for(const a of o.results){const l=e.find(d=>a.itemId===d.id),c=a.success;let f=null;c?(l.id=null,l.portal=null):a.error&&(f=new ct("portal:delete-item-failed",a.error.message,a.error)),i.push({item:l,success:c,error:f})}}return i}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then(t=>{let r;return r=t&&t.folders?t.folders.map(i=>{const n=WW.fromJSON(i);return n.portal=this.portal,n}):[],r})}fetchGroups(){return this.portal.request(this.url??"").then(e=>{let t;return t=e&&e.groups?e.groups.map(r=>{const i=tw.fromJSON(r);return i.portal=this.portal,i}):[],t})}async fetchItems(e){e??={};let t=this.userContentUrl??"";e.folder&&(t+="/"+e.folder.id);const{default:r}=await Ee(()=>import("./PortalItem-Ch5wKdnK.js"),__vite__mapDeps([23,1]),import.meta.url),i={folders:!1,inRecycleBin:!!e.inRecycleBin||null,foldersContent:!(e.folder||!e.includeSubfolderItems)||null,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"},n=await this.portal.request(t,{query:i});let s;return n?.items?(s=n.items.map(o=>{const a=r.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(e=>e.tags)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new tw({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new ct("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(e,t){const r=this.userContentUrl,i=t?{folderID:typeof t=="string"?t:t.id}:null;await this.portal.request(r+`/items/${e.id}/restore`,{method:"post",query:i})}toJSON(){throw new ct("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new rw({sourceJSON:e});return t.read(e),t}};b([A()],Ft.prototype,"access",void 0),b([A({type:Date})],Ft.prototype,"created",void 0),b([A()],Ft.prototype,"culture",void 0),b([A()],Ft.prototype,"description",void 0),b([A()],Ft.prototype,"email",void 0),b([A()],Ft.prototype,"favGroupId",void 0),b([A()],Ft.prototype,"fullName",void 0),b([A({type:Date})],Ft.prototype,"modified",void 0),b([A()],Ft.prototype,"orgId",void 0),b([A()],Ft.prototype,"portal",void 0),b([A()],Ft.prototype,"preferredView",void 0),b([A()],Ft.prototype,"privileges",void 0),b([A()],Ft.prototype,"region",void 0),b([A()],Ft.prototype,"role",void 0),b([A()],Ft.prototype,"roleId",void 0),b([A()],Ft.prototype,"sourceJSON",void 0),b([A()],Ft.prototype,"thumbnail",void 0),b([A({readOnly:!0})],Ft.prototype,"thumbnailUrl",null),b([A()],Ft.prototype,"units",void 0),b([A({readOnly:!0})],Ft.prototype,"userContentUrl",null),b([A({readOnly:!0})],Ft.prototype,"url",null),b([A()],Ft.prototype,"username",void 0),b([A()],Ft.prototype,"userLicenseTypeId",void 0),b([A()],Ft.prototype,"userType",void 0),Ft=rw=b([oe("esri.portal.PortalUser")],Ft);const F6=Ft;var un;let Hf;const M4={PortalGroup:()=>Promise.resolve({default:tw}),PortalItem:()=>Ee(()=>import("./PortalItem-Ch5wKdnK.js"),__vite__mapDeps([23,1]),import.meta.url),PortalUser:()=>Promise.resolve({default:F6})};let me=un=class extends IC(VW){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=$t.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){I4.unregister(this),this.defaultBasemap=Q0(this.defaultBasemap),this.defaultDevBasemap=Q0(this.defaultDevBasemap),this.defaultVectorBasemap=Q0(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=vf(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)$t.request.trustedServers.includes(t)||$t.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,t=!e||this.canSearchPublic;return this.id&&!t?` AND orgid:${this.id}`:null}get hasAPIKey(){return DC(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.slice(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let t=null;return e&&(t=F6.fromJSON(e),t.portal=this),t}load(e){const t=Ee(()=>import("./Basemap-CQf1Qo_D.js").then(r=>r.B),__vite__mapDeps([24,1,25,23,26]),import.meta.url).then(({default:r})=>{mp(e),Hf=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{if(!this.hasAPIKey&&Xt){const i=Xt;this.credential=i.findCredential(this.restUrl),this.credential||this.authMode!==un.AUTH_MODE_AUTO&&this.authMode!==un.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=i.on("credential-create",HW(new WeakRef(this))),I4.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Ee(async()=>{const{default:r}=await import("./ElevationLayer-BTzwEirQ.js");return{default:r}},__vite__mapDeps([27,1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,23,45,46,47,48]),import.meta.url)).default;return e?e.map(r=>new t({id:r.id,url:r.url})):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if(t?.include3d===!0&&this.use3dBasemaps!==!1){const i=await this._fetchBasemaps3D(e,t);r.unshift(...i)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const t=new eo;t.query=this.default3DBasemapQuery,t.disableExtraQuery=!0;const r=(await this.queryItems(t,e)).results.find(i=>i.type==="Web Scene");return r?new Hf({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(t=>t.categorySchema):Bc(e)?Promise.reject(bn()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new eo({num:100,sortField:"title"});if(t?.length){const i=[];for(const n of t)i.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return Bc(e)?Promise.reject(bn()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||ao();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||ao();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return BW(()=>new un)}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",n={authMode:e,query:{culture:ao().toLowerCase()},withCredentials:!0,...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(i,n)}queryPortal(e,t,r,i){const n=xs(eo,t),s=o=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...i}).then(a=>{const l=n.clone();return l.start=a.nextStart,new qW({nextQueryParams:l,queryParams:n,total:a.total,results:un._resultsToTypedArray(o,{portal:this},a,i)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(dC(l),a)));return r&&M4[r]?M4[r]().then(({default:o})=>(mp(i),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ct("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===un.AUTH_MODE_ANONYMOUS||this.authMode===un.AUTH_MODE_NO_PROMPT&&!Xt)return Promise.reject(new ct("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=t=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(t||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=t,this.fetchSelf("immediate"))):this.user&&this.credential===t?null:(this.credential=t,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Xt?Xt.getCredential(this.restUrl,{prompt:this.authMode!==un.AUTH_MODE_NO_PROMPT}).then(t=>e(t)):e(this.credential)}normalizeUrl(e){const t=this.credential?.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then(i=>{const n=un._resultsToTypedArray(r,{portal:this},i);return Promise.all(n.map(s=>typeof s.when=="function"?s.when():i)).then(()=>n,()=>n)})}request(e,t={}){const r={f:"json",...t.query},{authMode:i=this.authMode===un.AUTH_MODE_ANONYMOUS||this.authMode===un.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,c={authMode:i,body:n,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return t.withCredentials&&(c.withCredentials=!0),sr(this._normalizeSSL(e),c).then(f=>f.data)}toJSON(){throw new ct("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new un({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new ct("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new eo;r.query=e||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const i=await this.queryGroups(r,t);if(!i.total)return[];const n=i.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const s=await n.queryItems(r,t);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new Hf({portalItem:o})):[]}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const i=new eo({query:r,disableExtraQuery:!0}),n=await this.queryGroups(i,t);if(!n.total)return[];const s=n.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,t);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Hf({portalItem:a})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Hf.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,i){let n;if(r){const s=i!=null?i.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map(o=>{const a=Object.assign(e?e.fromJSON(o):o,t);return typeof a.load=="function"&&a.load(s),a}))}else n=[];return n}};me.AUTH_MODE_ANONYMOUS="anonymous",me.AUTH_MODE_AUTO="auto",me.AUTH_MODE_IMMEDIATE="immediate",me.AUTH_MODE_NO_PROMPT="no-prompt",b([A()],me.prototype,"access",void 0),b([A()],me.prototype,"allSSL",void 0),b([A()],me.prototype,"authMode",void 0),b([A()],me.prototype,"authorizedCrossOriginDomains",void 0),b([Sr("authorizedCrossOriginDomains")],me.prototype,"readAuthorizedCrossOriginDomains",null),b([A()],me.prototype,"basemapGalleryGroupQuery",void 0),b([A({json:{name:"3DBasemapGalleryGroupQuery"}})],me.prototype,"basemapGalleryGroupQuery3D",void 0),b([A()],me.prototype,"bingKey",void 0),b([A()],me.prototype,"canListApps",void 0),b([A()],me.prototype,"canListData",void 0),b([A()],me.prototype,"canListPreProvisionedItems",void 0),b([A()],me.prototype,"canProvisionDirectPurchase",void 0),b([A()],me.prototype,"canSearchPublic",void 0),b([A()],me.prototype,"canShareBingPublic",void 0),b([A()],me.prototype,"canSharePublic",void 0),b([A()],me.prototype,"canSignInArcGIS",void 0),b([A()],me.prototype,"canSignInIDP",void 0),b([A()],me.prototype,"colorSetsGroupQuery",void 0),b([A()],me.prototype,"commentsEnabled",void 0),b([A({type:Date})],me.prototype,"created",void 0),b([A()],me.prototype,"credential",void 0),b([A()],me.prototype,"culture",void 0),b([A()],me.prototype,"currentVersion",void 0),b([A()],me.prototype,"customBaseUrl",void 0),b([A()],me.prototype,"default3DBasemapQuery",void 0),b([A()],me.prototype,"defaultBasemap",void 0),b([Sr("defaultBasemap")],me.prototype,"readDefaultBasemap",null),b([A()],me.prototype,"defaultDevBasemap",void 0),b([Sr("defaultDevBasemap")],me.prototype,"readDefaultDevBasemap",null),b([A({type:_n})],me.prototype,"defaultExtent",void 0),b([A()],me.prototype,"defaultVectorBasemap",void 0),b([Sr("defaultVectorBasemap")],me.prototype,"readDefaultVectorBasemap",null),b([A()],me.prototype,"description",void 0),b([A()],me.prototype,"devBasemapGalleryGroupQuery",void 0),b([A()],me.prototype,"eueiEnabled",void 0),b([A({readOnly:!0})],me.prototype,"extraQuery",null),b([A()],me.prototype,"featuredGroups",void 0),b([A()],me.prototype,"featuredItemsGroupQuery",void 0),b([A()],me.prototype,"galleryTemplatesGroupQuery",void 0),b([A()],me.prototype,"layoutGroupQuery",void 0),b([A()],me.prototype,"livingAtlasGroupQuery",void 0),b([A({readOnly:!0})],me.prototype,"hasAPIKey",null),b([A()],me.prototype,"hasCategorySchema",void 0),b([A()],me.prototype,"hasClassificationSchema",void 0),b([A()],me.prototype,"helpBase",void 0),b([A()],me.prototype,"helperServices",void 0),b([A()],me.prototype,"helpMap",void 0),b([A()],me.prototype,"homePageFeaturedContent",void 0),b([A()],me.prototype,"homePageFeaturedContentCount",void 0),b([A()],me.prototype,"httpPort",void 0),b([A()],me.prototype,"httpsPort",void 0),b([A()],me.prototype,"id",void 0),b([A()],me.prototype,"ipCntryCode",void 0),b([A({readOnly:!0})],me.prototype,"isOrganization",null),b([A()],me.prototype,"isPortal",void 0),b([A()],me.prototype,"isReadOnly",void 0),b([A({readOnly:!0})],me.prototype,"itemPageUrl",null),b([A()],me.prototype,"layerTemplatesGroupQuery",void 0),b([A()],me.prototype,"maxTokenExpirationMinutes",void 0),b([A({type:Date})],me.prototype,"modified",void 0),b([A()],me.prototype,"name",void 0),b([A()],me.prototype,"portalHostname",void 0),b([A()],me.prototype,"portalMode",void 0),b([A()],me.prototype,"portalProperties",void 0),b([A()],me.prototype,"region",void 0),b([A()],me.prototype,"recycleBinEnabled",void 0),b([A({readOnly:!0})],me.prototype,"restUrl",null),b([A()],me.prototype,"rotatorPanels",void 0),b([A()],me.prototype,"showHomePageDescription",void 0),b([A()],me.prototype,"sourceJSON",void 0),b([A()],me.prototype,"staticImagesUrl",void 0),b([A({json:{name:"2DStylesGroupQuery"}})],me.prototype,"stylesGroupQuery2d",void 0),b([A({json:{name:"stylesGroupQuery"}})],me.prototype,"stylesGroupQuery3d",void 0),b([A()],me.prototype,"supportsHostedServices",void 0),b([A()],me.prototype,"symbolSetsGroupQuery",void 0),b([A()],me.prototype,"templatesGroupQuery",void 0),b([A()],me.prototype,"thumbnail",void 0),b([A({readOnly:!0})],me.prototype,"thumbnailUrl",null),b([A()],me.prototype,"units",void 0),b([A()],me.prototype,"url",void 0),b([A()],me.prototype,"urlKey",void 0),b([Sr("urlKey")],me.prototype,"readUrlKey",null),b([A()],me.prototype,"user",void 0),b([Sr("user")],me.prototype,"readUser",null),b([A()],me.prototype,"use3dBasemaps",void 0),b([A()],me.prototype,"useDefault3dBasemap",void 0),b([A()],me.prototype,"useStandardizedQuery",void 0),b([A()],me.prototype,"useVectorBasemaps",void 0),b([A()],me.prototype,"vectorBasemapGalleryGroupQuery",void 0),me=un=b([oe("esri.portal.Portal")],me);const sv=me,I4=new FinalizationRegistry(e=>{e.remove()});function HW(e){const t=Xt;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch(()=>{})}}let uc=class extends ha(tt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};b([A({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],uc.prototype,"type",void 0),b([A({type:aW,json:{default:"begin-end",write:!0}})],uc.prototype,"placement",void 0),b([A({type:S6,json:{default:"arrow",write:!0}})],uc.prototype,"style",void 0),b([A({type:wt,json:{type:[zr],default:null,write:!0}})],uc.prototype,"color",void 0),uc=b([oe("esri.symbols.LineStyleMarker3D")],uc);const iw=uc;var Ty;let zs=Ty=class extends To{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=go(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Ty(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??go(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Rx({style:e.style}):null,material:new pn({color:(e.color||jd).clone()}),marker:e.marker?new iw({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new Ty(t)}};b([A({type:pn,json:{write:!0}})],zs.prototype,"material",void 0),b([ht({Line:"line"},{readOnly:!0})],zs.prototype,"type",void 0),b([A({type:O6,json:{write:!0,default:"miter"}})],zs.prototype,"join",void 0),b([A({type:Gx,json:{write:!0,default:"butt"}})],zs.prototype,"cap",void 0),b([A(vo)],zs.prototype,"size",void 0),b([A(M6)],zs.prototype,"pattern",void 0),b([A({types:{key:"type",base:iw,typeMap:{style:iw}},json:{write:!0}})],zs.prototype,"marker",void 0),zs=Ty=b([oe("esri.symbols.LineSymbol3DLayer")],zs);const Mf=zs;var nw;const YW=Os()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let wd=nw=class extends tt{clone(){return new nw({href:this.href,primitive:this.primitive})}};b([A({type:String,json:{read:Vx,write:$p}})],wd.prototype,"href",void 0),b([ht(YW)],wd.prototype,"primitive",void 0),wd=nw=b([oe("esri.symbols.support.ObjectSymbol3DLayerResource")],wd);var sw;let vc=sw=class extends ei{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new sw({x:this.x,y:this.y,z:this.z})}};b([A({type:Number})],vc.prototype,"x",void 0),b([A({type:Number})],vc.prototype,"y",void 0),b([A({type:Number})],vc.prototype,"z",void 0),vc=sw=b([oe("esri.symbols.support.Symbol3DAnchorPosition3D")],vc);var ow;let hi=ow=class extends To{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ow({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};b([A({type:pn,json:{write:!0}})],hi.prototype,"material",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],hi.prototype,"castShadows",void 0),b([A({type:wd,json:{write:!0}})],hi.prototype,"resource",void 0),b([ht({Object:"object"},{readOnly:!0})],hi.prototype,"type",void 0),b([A({type:Number,json:{write:!0}})],hi.prototype,"width",void 0),b([A({type:Number,json:{write:!0}})],hi.prototype,"height",void 0),b([A({type:Number,json:{write:!0}})],hi.prototype,"depth",void 0),b([ht({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],hi.prototype,"anchor",void 0),b([A({type:vc,json:{type:[Number],read:{reader:e=>new vc({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],hi.prototype,"anchorPosition",void 0),b([A({type:Number,json:{write:!0}})],hi.prototype,"heading",void 0),b([A({type:Number,json:{write:!0}})],hi.prototype,"tilt",void 0),b([A({type:Number,json:{write:!0}})],hi.prototype,"roll",void 0),b([A({readOnly:!0})],hi.prototype,"isPrimitive",null),hi=ow=b([oe("esri.symbols.ObjectSymbol3DLayer")],hi);const Bx=hi;var aw;let Mi=aw=class extends To{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return e??(t.height==null&&t.size!=null?t.size:void 0)}readHeight(e,t){return e??(t.width==null&&t.size!=null?t.size:void 0)}clone(){return new aw({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};b([A({type:pn,json:{write:!0}})],Mi.prototype,"material",void 0),b([A({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Mi.prototype,"castShadows",void 0),b([ht({Path:"path"},{readOnly:!0})],Mi.prototype,"type",void 0),b([A({type:["circle","quad"],json:{write:!0,default:"circle"}})],Mi.prototype,"profile",void 0),b([A({type:O6,json:{write:!0,default:"miter"}})],Mi.prototype,"join",void 0),b([A({type:SW,json:{write:!0,default:"butt"}})],Mi.prototype,"cap",void 0),b([A({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Mi.prototype,"width",void 0),b([Sr("width",["width","size","height"])],Mi.prototype,"readWidth",null),b([A({type:Number,json:{write:!0}})],Mi.prototype,"height",void 0),b([Sr("height",["height","size","width"])],Mi.prototype,"readHeight",null),b([A({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Mi.prototype,"anchor",void 0),b([A({type:["heading","all"],json:{write:!0,default:"all"}})],Mi.prototype,"profileRotation",void 0),Mi=aw=b([oe("esri.symbols.PathSymbol3DLayer")],Mi);const zx=Mi;var lw;let nh=lw=class extends tt{constructor(){super(...arguments),this.color=new wt([0,0,0,1]),this.size=0}clone(){const e={color:ge(this.color),size:this.size};return new lw(e)}};b([A(Tl)],nh.prototype,"color",void 0),b([A(vo)],nh.prototype,"size",void 0),nh=lw=b([oe("esri.symbols.support.Symbol3DHalo")],nh);let Vd=class extends ha(tt){constructor(t){super(t),this.color=null}};b([A(Tl)],Vd.prototype,"color",void 0),Vd=b([oe("esri.symbols.support.Symbol3DTextBackground")],Vd);var Ay;let Vi=Ay=class extends To{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,i){const n={...i,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Ay({enabled:this.enabled,font:this.font&&ge(this.font),halo:this.halo&&ge(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ge(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Ay({font:e.font!=null?e.font.clone():new rv,halo:JW(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new pn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Vd({color:e.backgroundColor.clone()}):null})}};function JW(e,t){return e&&t!=null&&t>0?new nh({color:ge(e),size:t}):null}b([A({type:rv,json:{write:!0}})],Vi.prototype,"font",null),b([jt("font")],Vi.prototype,"writeFont",null),b([A({type:nh,json:{write:!0}})],Vi.prototype,"halo",void 0),b([A({...C6,json:{default:"center",write:!0}})],Vi.prototype,"horizontalAlignment",void 0),b([A({...$6,json:{default:1,write:!0}})],Vi.prototype,"lineHeight",void 0),b([A({type:pn,json:{write:!0}})],Vi.prototype,"material",void 0),b([A({type:Vd,json:{write:!0}})],Vi.prototype,"background",void 0),b([A(vo)],Vi.prototype,"size",null),b([A({type:String,json:{write:!0}})],Vi.prototype,"text",void 0),b([ht({Text:"text"},{readOnly:!0})],Vi.prototype,"type",void 0),b([A({...N6,json:{default:"baseline",write:!0}})],Vi.prototype,"verticalAlignment",void 0),Vi=Ay=b([oe("esri.symbols.TextSymbol3DLayer")],Vi);const If=Vi;var cw;let ka=cw=class extends To{constructor(e){super(e),this.color=uw.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new cw({color:ge(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};b([A({type:wt,nonNullable:!0,json:{type:[zr],write:(e,t,r)=>t[r]=e.toArray(wt.AlphaMode.UNLESS_OPAQUE),default:()=>uw.clone(),defaultEquals:e=>e.toCss(!0)===uw.toCss(!0)}})],ka.prototype,"color",void 0),b([ht({Water:"water"},{readOnly:!0})],ka.prototype,"type",void 0),b([A({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ka.prototype,"waterbodySize",void 0),b([A({type:Number,json:{write:!0,default:null}})],ka.prototype,"waveDirection",void 0),b([A({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ka.prototype,"waveStrength",void 0),ka=cw=b([oe("esri.symbols.WaterSymbol3DLayer")],ka);const U6=ka,uw=new wt([0,119,190]);var hw;let hc=hw=class extends ei{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new hw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};b([A({type:String})],hc.prototype,"name",void 0),b([A({type:String})],hc.prototype,"styleUrl",void 0),b([A({type:String})],hc.prototype,"styleName",void 0),b([A({type:sv})],hc.prototype,"portal",void 0),hc=hw=b([oe("esri.symbols.support.StyleOrigin")],hc);const fw=hc;var dw;let Bd=dw=class extends ei{constructor(){super(...arguments),this.url=""}clone(){return new dw({url:this.url})}};b([A({type:String})],Bd.prototype,"url",void 0),Bd=dw=b([oe("esri.symbols.support.Thumbnail")],Bd);const j6={icon:xc,object:Bx,line:Mf,path:zx,fill:fu,extrude:w6,text:If,water:U6},KW=qt.ofType({base:To,key:"type",typeMap:j6,errorContext:"symbol-layer"});let qs=class extends Ti{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,i=r?.type,n=i||qt;this._set("symbolLayers",new n)}get color(){return null}set color(t){this.constructed&&kt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){LW(t,this._get("symbolLayers"))}readStyleOrigin(t,r,i){if(t.styleUrl&&t.name){const n=Sm(t.styleUrl,i);return new fw({styleUrl:n,name:t.name})}if(t.styleName&&t.name)return new fw({portal:i?.portal||sv.getDefault(),styleName:t.styleName,name:t.name});i?.messages&&i.messages.push(new fp("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:i,definition:t}))}writeStyleOrigin(t,r,i,n){if(t.styleUrl&&t.name){let s=iv(t.styleUrl,n);vs(s)&&(s=ll(s)),r.styleOrigin={styleUrl:s,name:t.name}}else t.styleName&&t.name&&(t.portal&&n?.portal&&!BU(t.portal.restUrl,n.portal.restUrl)?n?.messages&&n.messages.push(new fp("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof To||t&&j6[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};b([A({json:{read:!1,write:!1}})],qs.prototype,"color",null),b([A({type:KW,nonNullable:!0,json:{write:!0}}),pm(kW)],qs.prototype,"symbolLayers",null),b([A({type:fw})],qs.prototype,"styleOrigin",void 0),b([Sr("styleOrigin")],qs.prototype,"readStyleOrigin",null),b([jt("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],qs.prototype,"writeStyleOrigin",null),b([A({type:Bd,json:{read:!1}})],qs.prototype,"thumbnail",void 0),b([A({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],qs.prototype,"type",void 0),qs=b([oe("esri.symbols.Symbol3D")],qs);const du=qs;let Sd=class extends tt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};b([A({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Sd.prototype,"type",void 0),b([A({readOnly:!0})],Sd.prototype,"visible",void 0),Sd=b([oe("esri.symbols.callouts.Callout3D")],Sd);const G6=Sd;var pw;let My=pw=class extends tt{constructor(e){super(e),this.color=new wt("white")}clone(){return new pw({color:ge(this.color)})}};b([A(Tl)],My.prototype,"color",void 0),My=pw=b([oe("esri.symbols.callouts.LineCallout3DBorder")],My);const ZW=My;var mw;let Ra=mw=class extends G6{constructor(e){super(e),this.type="line",this.color=new wt([0,0,0,1]),this.size=go(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new mw({color:ge(this.color),size:this.size,border:ge(this.border)})}};b([ht({line:"line"})],Ra.prototype,"type",void 0),b([A(Tl)],Ra.prototype,"color",void 0),b([A(vo)],Ra.prototype,"size",void 0),b([A({type:ZW,json:{write:!0}})],Ra.prototype,"border",void 0),b([A({readOnly:!0})],Ra.prototype,"visible",null),Ra=mw=b([oe("esri.symbols.callouts.LineCallout3D")],Ra);const V6=Ra;function qx(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||t.maxWorldLength!=null&&t.maxWorldLength<=0)}function B6(e){if(!e||!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&!!t.visible&&!!qx(e)}const z6={types:{key:"type",base:G6,typeMap:{line:V6}},json:{write:!0}};var yw;let Hu=yw=class extends tt{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new yw({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};b([A(vo)],Hu.prototype,"screenLength",void 0),b([A({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Hu.prototype,"minWorldLength",void 0),b([A({type:Number,json:{write:!0}})],Hu.prototype,"maxWorldLength",void 0),Hu=yw=b([oe("esri.symbols.support.Symbol3DVerticalOffset")],Hu);const Wx=Hu;var Iy;const q6=qt.ofType({base:null,key:"type",typeMap:{text:If}});let Da=Iy=class extends du{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new q6,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return B6(this)}hasVisibleVerticalOffset(){return qx(this)}clone(){return new Iy({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail),callout:ge(this.callout),verticalOffset:ge(this.verticalOffset)})}static fromTextSymbol(e){return new Iy({symbolLayers:new qt([If.fromTextSymbol(e)])})}};b([A({type:Wx,json:{write:!0}})],Da.prototype,"verticalOffset",void 0),b([A(z6)],Da.prototype,"callout",void 0),b([A({json:{read:!1,write:!1}})],Da.prototype,"styleOrigin",void 0),b([A({type:q6})],Da.prototype,"symbolLayers",void 0),b([ht({LabelSymbol3D:"label-3d"},{readOnly:!0})],Da.prototype,"type",void 0),Da=Iy=b([oe("esri.symbols.LabelSymbol3D")],Da);const ov=Da;var Oy;const W6=qt.ofType({base:null,key:"type",typeMap:{line:Mf,path:zx}}),XW=qt.ofType({base:null,key:"type",typeMap:{line:Mf,path:zx}});let xd=Oy=class extends du{constructor(e){super(e),this.symbolLayers=new W6,this.type="line-3d"}clone(){return new Oy({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Oy({symbolLayers:new qt([Mf.fromSimpleLineSymbol(e)])})}};b([A({type:W6,json:{type:XW}})],xd.prototype,"symbolLayers",void 0),b([ht({LineSymbol3D:"line-3d"},{readOnly:!0})],xd.prototype,"type",void 0),xd=Oy=b([oe("esri.symbols.LineSymbol3D")],xd);const pu=xd;let Fa=class extends Ti{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};b([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Fa.prototype,"angle",void 0),b([A({type:["simple-marker","picture-marker"],readOnly:!0})],Fa.prototype,"type",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Fa.prototype,"xoffset",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Fa.prototype,"yoffset",void 0),b([A({cast:e=>e==="auto"?e:L1(ar(e)),json:{write:!0}})],Fa.prototype,"size",void 0),Fa=b([oe("esri.symbols.MarkerSymbol")],Fa);const H6=Fa;var $y;const Y6=qt.ofType({base:null,key:"type",typeMap:{fill:fu}});let Ed=$y=class extends du{constructor(e){super(e),this.symbolLayers=new Y6,this.type="mesh-3d"}clone(){return new $y({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleFillSymbol(e){return new $y({symbolLayers:new qt([fu.fromSimpleFillSymbol(e)])})}};b([A({type:Y6})],Ed.prototype,"symbolLayers",void 0),b([ht({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Ed.prototype,"type",void 0),Ed=$y=b([oe("esri.symbols.MeshSymbol3D")],Ed);const xm=Ed;function QW(e,t,r){return t.imageData?kC({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):J6(t.url,r)}function J6(e,t){if(!vs(e)){const r=tH(t);if(r)return ix(r,"images",e)}return Sm(e,t)}function eH(e,t,r,i){if(_f(e)){const n=bp(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,r&&r.imageData===t.imageData&&r.url&&$p(r.url,t,"url",i)}else $p(e,t,"url",i)}const K6={json:{read:{source:["imageData","url"],reader:QW},write:{writer(e,t,r,i){eH(e,t,this.source,i)}}}},Z6={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=J6(t.url,r)),i}}}};function tH(e){if(!e)return null;const{origin:t,layer:r}=e;if(t!=="service"&&t!=="portal-item")return null;const i=r?.type;return i==="feature"||i==="stream"?r.parsedUrl?.path:i==="map-image"||i==="tile"?e.url?.path:null}var gw;let Ln=gw=class extends x6{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string"&&e.imageData==null)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),r!=null&&(n.width=ar(r)),i!=null&&(n.height=ar(i)),n}clone(){const e=new gw({color:ge(this.color),height:this.height,outline:ge(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};b([ht({esriPFS:"picture-fill"},{readOnly:!0})],Ln.prototype,"type",void 0),b([A(K6)],Ln.prototype,"url",void 0),b([A({type:Number,json:{write:!0}})],Ln.prototype,"xscale",void 0),b([A({type:Number,json:{write:!0}})],Ln.prototype,"yscale",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Ln.prototype,"width",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Ln.prototype,"height",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Ln.prototype,"xoffset",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Ln.prototype,"yoffset",void 0),b([A(Z6)],Ln.prototype,"source",void 0),Ln=gw=b([oe("esri.symbols.PictureFillSymbol")],Ln);const Hx=Ln;var vw;let os=vw=class extends H6{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string"&&e.imageData==null)return e;const i={};return e&&(i.url=e),t!=null&&(i.width=ar(t)),r!=null&&(i.height=ar(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new vw({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",ge(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};b([A({json:{write:!1}})],os.prototype,"color",void 0),b([ht({esriPMS:"picture-marker"},{readOnly:!0})],os.prototype,"type",void 0),b([A(K6)],os.prototype,"url",void 0),b([A(Z6)],os.prototype,"source",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],os.prototype,"height",void 0),b([Sr("height",["height","size"])],os.prototype,"readHeight",null),b([A({type:Number,cast:ar,json:{write:!0}})],os.prototype,"width",void 0),b([A({json:{write:!1}})],os.prototype,"size",void 0),os=vw=b([oe("esri.symbols.PictureMarkerSymbol")],os);const Of=os;var fc;const X6=qt.ofType({base:null,key:"type",typeMap:{icon:xc,object:Bx,text:If}});let dc=fc=class extends du{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new X6,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return B6(this)}hasVisibleVerticalOffset(){return qx(this)}clone(){return new fc({verticalOffset:ge(this.verticalOffset),callout:ge(this.callout),styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new fc({symbolLayers:new qt([xc.fromSimpleMarkerSymbol(e)])})}static fromPictureMarkerSymbol(e){return new fc({symbolLayers:new qt([xc.fromPictureMarkerSymbol(e)])})}static fromCIMSymbol(e){if(e.data?.symbol?.type!=="CIMPointSymbol")return null;const r=e.data.symbol;return new fc(r?.callout?{symbolLayers:new qt([xc.fromCIMSymbol(e)]),callout:new V6({size:.5,color:new wt([0,0,0])}),verticalOffset:new Wx({screenLength:40})}:{symbolLayers:new qt([xc.fromCIMSymbol(e)])})}static fromTextSymbol(e){return new fc({symbolLayers:new qt([If.fromTextSymbol(e)])})}};b([A({type:Wx,json:{write:!0}})],dc.prototype,"verticalOffset",void 0),b([A(z6)],dc.prototype,"callout",void 0),b([A({type:X6,json:{origins:{"web-scene":{write:!0}}}})],dc.prototype,"symbolLayers",void 0),b([ht({PointSymbol3D:"point-3d"},{readOnly:!0})],dc.prototype,"type",void 0),dc=fc=b([oe("esri.symbols.PointSymbol3D")],dc);const Qo=dc;function x1e(e,t,r){return YS(e.map((i,n)=>t.apply(r,[i,n])))}async function E1e(e,t,r){return(await YS(e.map((i,n)=>t.apply(r,[i,n])))).map(i=>i.value)}function Yx(e){return{ok:!0,value:e}}function Jx(e){return{ok:!1,error:e}}function rH(e){return e!=null&&e.ok===!0?e.value:null}function iH(e){return e!=null&&e.ok===!1?e.error:null}async function T1e(e){if(e==null)return{ok:!1,error:new Error("no promise provided")};try{return Yx(await e)}catch(t){return Jx(t)}}async function A1e(e){try{return Yx(await e)}catch(t){return dC(t),Jx(t)}}function M1e(e,t){return new Ua(e,t)}let Ua=class extends ei{get value(){return rH(this._result)}get error(){return iH(this._result)}get finished(){return this._result!=null}constructor(t,r){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=iC(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:i}=this._abortController;this.promise=t(i),this.promise.then(n=>{this._result=Yx(n),this._cleanup()},n=>{this._result=Jx(n),this._cleanup()}),this._abortHandle=zc(r,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=vf(this._abortHandle),this._abortController=null}};b([A()],Ua.prototype,"value",null),b([A()],Ua.prototype,"error",null),b([A()],Ua.prototype,"finished",null),b([A()],Ua.prototype,"promise",void 0),b([A()],Ua.prototype,"_result",void 0),Ua=b([oe("esri.core.asyncUtils.ReactiveTask")],Ua);function nH(e,t,r={}){return Kx(e,t,r,Q6)}function O4(e,t,r={}){return Kx(e,t,r,eP)}function Kx(e,t,r={},i){let n=null;const s=r.once?(o,a)=>{i(o)&&(vf(n),t(o,a))}:(o,a)=>{i(o)&&t(o,a)};if(n=fU(e,s,r.sync,r.equals),r.initial){const o=e();s(o,o)}return n}function sH(e,t,r,i={}){let n=null,s=null,o=null;function a(){n&&s&&(s.remove(),i.onListenerRemove?.(n),n=null,s=null)}function l(f){i.once&&i.once&&vf(o),r(f)}const c=nH(e,(f,d)=>{a(),HS(f)&&(n=f,s=hC(f,t,l),i.onListenerAdd?.(f))},{sync:i.sync,initial:!0});return o=Ir(()=>{c.remove(),a()}),o}function O1e(e,t){return oH(e,eP,t)}function oH(e,t,r){if(Bc(r))return Promise.reject(bn());const i=e();if(t?.(i))return Promise.resolve(i);let n=null;function s(){n=vf(n)}return new Promise((o,a)=>{n=GS([zc(r,()=>{s(),a(bn())}),Kx(e,l=>{s(),o(l)},{sync:!1,once:!0},t??Q6)])})}function Q6(e){return!0}function eP(e){return!!e}const aH={sync:!0},$1e={initial:!0},C1e={sync:!0,initial:!0};var Td;const tP=qt.ofType({base:null,key:"type",typeMap:{extrude:w6,fill:fu,icon:xc,line:Mf,object:Bx,text:If,water:U6}});let Ad=Td=class extends du{constructor(e){super(e),this.symbolLayers=new tP,this.type="polygon-3d"}initialize(){const e=t=>{t.type==="line"&&pp(kt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),t.type==="text"&&pp(kt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const t of this.symbolLayers)e(t);this.addHandles(sH(()=>this.symbolLayers,"after-add",({item:t})=>e(t),aH))}clone(){return new Td({styleOrigin:ge(this.styleOrigin),symbolLayers:ge(this.symbolLayers),thumbnail:ge(this.thumbnail)})}static fromJSON(e){const t=new Td;if(t.read(e),t.symbolLayers.length===2&&t.symbolLayers.at(0).type==="fill"&&t.symbolLayers.at(1).type==="line"){const r=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||e.symbolLayers?.[1]&&e.symbolLayers[1].enable===!1||(r.outline={size:i.size,color:i.material!=null?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new Td({symbolLayers:new qt([fu.fromSimpleFillSymbol(e)])})}};b([A({type:tP,json:{write:!0}})],Ad.prototype,"symbolLayers",void 0),b([ht({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Ad.prototype,"type",void 0),Ad=Td=b([oe("esri.symbols.PolygonSymbol3D")],Ad);const mu=Ad;var bw;const Cb=new sa({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let pc=bw=class extends x6{constructor(...e){super(...e),this.color=new wt([0,0,0,.25]),this.outline=new $s,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new bw({color:ge(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};b([A()],pc.prototype,"color",void 0),b([A()],pc.prototype,"outline",void 0),b([ht({esriSFS:"simple-fill"},{readOnly:!0})],pc.prototype,"type",void 0),b([A({type:Cb.apiValues,json:{read:Cb.read,write:Cb.write}})],pc.prototype,"style",void 0),pc=bw=b([oe("esri.symbols.SimpleFillSymbol")],pc);const yu=pc;var _w;const Nb=new sa({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Ws=_w=class extends H6{constructor(...e){super(...e),this.color=new wt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new $s}normalizeCtorArgs(e,t,r,i){if(e&&typeof e!="string")return e;const n={};return e&&(n.style=e),t!=null&&(n.size=ar(t)),r&&(n.outline=r),i&&(n.color=i),n}writeColor(e,t){e&&this.style!=="x"&&this.style!=="cross"&&(t.color=e.toJSON()),e===null&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new _w({angle:this.angle,color:ge(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};b([A()],Ws.prototype,"color",void 0),b([jt("color")],Ws.prototype,"writeColor",null),b([ht({esriSMS:"simple-marker"},{readOnly:!0})],Ws.prototype,"type",void 0),b([A()],Ws.prototype,"size",void 0),b([A({type:Nb.apiValues,json:{read:Nb.read,write:Nb.write}})],Ws.prototype,"style",void 0),b([A({type:String,json:{write:!0}})],Ws.prototype,"path",null),b([A({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":$s}},json:{default:null,write:!0}})],Ws.prototype,"outline",void 0),Ws=_w=b([oe("esri.symbols.SimpleMarkerSymbol")],Ws);const bo=Ws;var ww;let Yt=ww=class extends Ti{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new rv,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&typeof e!="string")return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}castLineWidth(e){return ar(e)}writeLineHeight(e,t,r,i){i&&typeof i!="string"?i.origin:t[r]=e}clone(){return new ww({angle:this.angle,backgroundColor:ge(this.backgroundColor),borderLineColor:ge(this.borderLineColor),borderLineSize:this.borderLineSize,color:ge(this.color),font:this.font&&this.font.clone(),haloColor:ge(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};b([A({type:wt,json:{write:!0}})],Yt.prototype,"backgroundColor",void 0),b([A({type:wt,json:{write:!0}})],Yt.prototype,"borderLineColor",void 0),b([A({type:Number,json:{write:!0},cast:ar})],Yt.prototype,"borderLineSize",void 0),b([A({type:rv,json:{write:!0}})],Yt.prototype,"font",void 0),b([A({...C6,json:{write:!0}})],Yt.prototype,"horizontalAlignment",void 0),b([A({type:Boolean,json:{write:!0}})],Yt.prototype,"kerning",void 0),b([A({type:wt,json:{write:!0}})],Yt.prototype,"haloColor",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Yt.prototype,"haloSize",void 0),b([A({type:Boolean,json:{write:!0}})],Yt.prototype,"rightToLeft",void 0),b([A({type:Boolean,json:{write:!0}})],Yt.prototype,"rotated",void 0),b([A({type:String,json:{write:!0}})],Yt.prototype,"text",void 0),b([ht({esriTS:"text"},{readOnly:!0})],Yt.prototype,"type",void 0),b([A({...N6,json:{write:!0}})],Yt.prototype,"verticalAlignment",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Yt.prototype,"xoffset",void 0),b([A({type:Number,cast:ar,json:{write:!0}})],Yt.prototype,"yoffset",void 0),b([A({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Yt.prototype,"angle",void 0),b([A({type:Number,json:{write:!0}})],Yt.prototype,"width",void 0),b([A({type:Number})],Yt.prototype,"lineWidth",void 0),b([jt("lineWidth")],Yt.prototype,"writeLineWidth",null),b([pm("lineWidth")],Yt.prototype,"castLineWidth",null),b([A($6)],Yt.prototype,"lineHeight",void 0),b([jt("lineHeight")],Yt.prototype,"writeLineHeight",null),Yt=ww=b([oe("esri.symbols.TextSymbol")],Yt);const $f=Yt;var Sw;let as=Sw=class extends Ti{constructor(e){super(e),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=this.portal!=null?this.portal:sv.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new Sw({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=t!=null?t.cache:null,i=r?this._fetchCacheKey:null;if(r!=null){const a=i&&r.get(i);if(a)return a.clone()}const{resolveWebStyleSymbol:n}=await Ee(()=>import("./webStyleSymbolUtils-Cv0yMv63.js"),__vite__mapDeps([49,50,51,1]),import.meta.url);mp(t);const s=n(this,{portal:this.portal},e,t);s.catch(a=>{kt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return e==="webRef"&&o.type==="point-3d"||e==="cimRef"&&o.type==="cim"?(r?.set(i,o.clone()),o):null}};b([A({json:{write:!1}})],as.prototype,"color",void 0),b([A({type:String,json:{write:!0}})],as.prototype,"styleName",void 0),b([A({type:sv,json:{write:!1}})],as.prototype,"portal",void 0),b([A({type:String,json:{read:Vx,write:$p}})],as.prototype,"styleUrl",void 0),b([A({type:Bd,json:{read:!1}})],as.prototype,"thumbnail",void 0),b([A({type:String,json:{write:!0}})],as.prototype,"name",void 0),b([ht({styleSymbolReference:"web-style"},{readOnly:!0})],as.prototype,"type",void 0),b([A()],as.prototype,"_fetchCacheKey",null),as=Sw=b([oe("esri.symbols.WebStyleSymbol")],as);const Cf=as;function N1e(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function $4(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Zx={base:Ti,key:"type",typeMap:{"simple-fill":yu,"picture-fill":Hx,"picture-marker":Of,"simple-line":$s,"simple-marker":bo,text:$f,"label-3d":ov,"line-3d":pu,"mesh-3d":xm,"point-3d":Qo,"polygon-3d":mu,"web-style":Cf,cim:hu},errorContext:"symbol"},P1e={base:Ti,key:"type",typeMap:{"picture-marker":Of,"simple-marker":bo,"point-3d":Qo,cim:hu},errorContext:"symbol"},L1e={base:Ti,key:"type",typeMap:{"simple-line":$s,"line-3d":pu,cim:hu},errorContext:"symbol"},k1e={base:Ti,key:"type",typeMap:{"simple-fill":yu,"picture-fill":Hx,"polygon-3d":mu,cim:hu},errorContext:"symbol"},R1e={base:Ti,key:"type",typeMap:{"picture-marker":Of,"simple-marker":bo,text:$f,"web-style":Cf,cim:hu},errorContext:"symbol"},lH=J$({types:Zx}),D1e={base:Ti,key:"type",typeMap:{"simple-fill":yu,"picture-fill":Hx,"picture-marker":Of,"simple-line":$s,"simple-marker":bo,text:$f,"line-3d":pu,"mesh-3d":xm,"point-3d":Qo,"polygon-3d":mu,"web-style":Cf,cim:hu},errorContext:"symbol"},F1e={base:Ti,key:"type",typeMap:{text:$f,"label-3d":ov},errorContext:"symbol"},U1e={base:Ti,key:"type",typeMap:{"line-3d":pu,"mesh-3d":xm,"point-3d":Qo,"polygon-3d":mu,"web-style":Cf,cim:hu},errorContext:"symbol"},j1e={base:Ti,key:"type",typeMap:{"label-3d":ov},errorContext:"symbol"},G1e=Gc(Zx);var xw;function cH(e){if(!e)return null;const t={};for(const r in e){const i=ym(e[r]);i&&(t[r]=i)}return Object.keys(t).length!==0?t:null}function uH(e){if(e==null)return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return Object.keys(t).length!==0?t:null}let Bi=xw=class extends ha(tt){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:ey(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&vF(kt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new xw({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const r of[t,this.sourceLayer,this.layer])if(r){if("popupTemplate"in r&&r.popupTemplate)return r.popupTemplate;if(e&&"defaultPopupTemplate"in r&&r.defaultPopupTemplate!=null)return r.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:uH(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:k_(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if(t?.type==="mesh"){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};e==="origin-transform"&&(n.action=i),e==="attributes"&&(n.attributeName=i),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([O4(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),O4(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};b([A({value:null,json:{read:cH}})],Bi.prototype,"aggregateGeometries",null),b([A({value:null})],Bi.prototype,"attributes",null),b([A({value:null,types:mx,json:{read:ym}})],Bi.prototype,"geometry",null),b([A({type:Boolean})],Bi.prototype,"isAggregate",void 0),b([A({clonable:"reference"})],Bi.prototype,"layer",void 0),b([A({clonable:"reference"})],Bi.prototype,"origin",void 0),b([A({type:Vq})],Bi.prototype,"popupTemplate",void 0),b([A({clonable:"reference"})],Bi.prototype,"sourceLayer",void 0),b([A({value:null,types:Zx})],Bi.prototype,"symbol",null),b([A({clonable:!1,json:{read:!1,write:!1}})],Bi.prototype,"_version",void 0),b([A({type:Boolean,value:!0})],Bi.prototype,"visible",null),Bi=xw=b([oe("esri.Graphic")],Bi);const Xx=Bi;function V1e(e){return e!=null&&typeof e=="object"&&"type"in e&&e.type==="subtype-group"&&"sublayers"in e}function B1e(e){return e?.type==="subtype-sublayer"}const z1e={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function C4(e){const t=e?.type;return t==="building-scene"||t==="integrated-mesh"||t==="point-cloud"||t==="scene"}function q1e(e){return e?.type==="feature"&&!e.url&&e.source?.type==="memory"}function W1e(e){const t=e?.type;return(t==="feature"||t==="subtype-group"||t==="oriented-imagery")&&e.source?.type==="feature-layer"}async function H1e(e,t){const r=Xt?.findServerInfo(e);if(r?.currentVersion!=null)return r.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(i===-1)return null;const n=`${e.slice(0,i)}/rest/info`,s=t!=null?t.signal:null,{data:o}=await sr(n,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function hH(e){if(!("capabilities"in e))return!1;switch(e.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function Y1e(e){return hH(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function fH(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function J1e(e){return!!fH(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const Qx=[252,146,31,255],dH=[153,153,153,255],pH={type:"esriSMS",style:"esriSMSCircle",size:6,color:Qx,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},mH={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Qx},yH={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},gH={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},vH={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},bH={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},_H={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},rP=bo.fromJSON(pH),iP=$s.fromJSON(mH),nP=yu.fromJSON(yH),K1e=$f.fromJSON(gH);function Z1e(e){if(e==null)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return rP;case"polyline":return iP;case"polygon":case"extent":return nP}return null}const X1e=bo.fromJSON(vH),Q1e=$s.fromJSON(bH),eve=yu.fromJSON(_H);Qo.fromSimpleMarkerSymbol(rP);pu.fromSimpleLineSymbol(iP);mu.fromSimpleFillSymbol(nP);new xm({symbolLayers:new qt([new fu({material:{color:Qx},edges:new p6({size:go(1),color:new wt(dH)})})])});const wH=new pu({symbolLayers:new qt([new Mf({material:{color:new wt([0,0,0])},size:go(1)})])}),SH=new mu({symbolLayers:new qt([new fu({outline:{color:new wt([0,0,0]),size:go(1)}})])}),N4="#useCIMFallbackSymbology()",Pu={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function xH(e,t=Pu){if(!e)return{symbol:null};const{retainId:r=Pu.retainId,ignoreDrivers:i=Pu.ignoreDrivers,hasLabelingContext:n=Pu.hasLabelingContext,retainCIM:s=Pu.retainCIM,cimFallbackEnabled:o=Pu.cimFallbackEnabled}=t;let a=null;if($4(e)||e instanceof Cf)a=e.clone();else if(e.type==="cim"){const l=e.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?e.clone():Qo.fromCIMSymbol(e);break;case"CIMLineSymbol":o&&(a=wH.clone(),t?.logWarning?.(N4,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=SH.clone(),t?.logWarning?.(N4,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ct("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof $s)a=pu.fromSimpleLineSymbol(e);else if(e instanceof bo)a=Qo.fromSimpleMarkerSymbol(e);else if(e instanceof Of)a=Qo.fromPictureMarkerSymbol(e);else if(e instanceof yu)a=t.geometryType&&t.geometryType==="mesh"?xm.fromSimpleFillSymbol(e):mu.fromSimpleFillSymbol(e);else{if(!(e instanceof $f))return{error:new ct("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};a=n?ov.fromTextSymbol(e):Qo.fromTextSymbol(e)}return r&&a&&a.type!=="cim"&&(a.id=e.id),i&&$4(a)&&a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function tve(e,t,r,i){const n=sP(e,{},{context:i,isLabelSymbol:!1});n!=null&&(t[r]=n)}function rve(e,t,r,i){const n=sP(e,{},{context:i,isLabelSymbol:!0});n!=null&&(t[r]=n)}function P4(e){return e instanceof du||e instanceof Cf}function EH(e){return e instanceof du&&(e.type==="polygon-3d"||e.type==="line-3d")}function sP(e,t,r){if(e==null)return null;const{context:i,isLabelSymbol:n}=r,s=i?.origin,o=i?.messages;if(s==="web-scene"&&!P4(e)){const a=xH(e,{retainCIM:!0,hasLabelingContext:n});return a.symbol!=null?a.symbol.write(t,i):(o?.push(new ct("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:a.error})),null)}return C4(i?.layer)&&EH(e)?(o?.push(new ct("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${i?.layer?.declaredClass}'.`,{symbol:e,context:i})),null):(s==="web-map"||s==="portal-item"&&!C4(i?.layer))&&P4(e)?(o?.push(new ct("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function eE(e,t){return lH(e,null,t)}class Gt{static async Basemap(t){const r=await Ee(()=>import("./Basemap-CQf1Qo_D.js").then(i=>i.B),__vite__mapDeps([24,1,25,23,26]),import.meta.url);return Reflect.construct(r.default,[t])}static async Map(t){const r=await Ee(()=>import("./Map-B4HXk9gg.js"),__vite__mapDeps([52,24,1,25,23,26,53,54,55,56,57,58,30]),import.meta.url);return Reflect.construct(r.default,[t])}static async MapView(t){const r=await Ee(()=>import("./MapView-C80OvaVE.js").then(i=>i.V),__vite__mapDeps([59,1,60,54,48,46,47,32,33,3,4,61,62,52,24,25,23,26,53,55,56,57,58,30,63,29,64,18,15,16,39,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83]),import.meta.url);return Reflect.construct(r.default,[t])}static async FeatureLayer(t){const r=await Ee(()=>import("./FeatureLayer-CSBS7HG-.js"),__vite__mapDeps([84,1,85,86,87,88,89,90,53,43,51,91,37,82,22,10,92,93,94,57,95,96,97,98,99,28,41,42,100,15,16,29,39,101,4,18,102,103,104,105,30,48,106,107,46,47,108,109,38,110,111,112,55,56,113,114,115,116,117,118,119,120,121,122,40,123,124,44,23,45,125,126,127,128,129,130,131,132,133,134,135,136]),import.meta.url);return Reflect.construct(r.default,[t])}static async GraphicsLayer(t){const r=await Ee(()=>import("./GraphicsLayer-CAJ20FIa.js"),__vite__mapDeps([137,63,30,1,110,111,112,55,56,57,126,42,43]),import.meta.url);return Reflect.construct(r.default,[t])}static async ImageryLayer(t){const r=await Ee(()=>import("./ImageryLayer-CBJpXvZl.js"),__vite__mapDeps([138,1,28,30,139,140,48,141,15,16,85,86,87,88,89,90,53,43,51,142,7,93,94,57,95,143,108,144,112,55,56,145,96,97,37,41,42,22,10,146,18,147,148,149,150,20,21,107,46,47,151,38,39,110,111,113,40,44,23,45,125,126,127,128,132,134,136]),import.meta.url);return Reflect.construct(r.default,[t])}static async MapImageLayer(t){const r=await Ee(()=>import("./MapImageLayer-CyTxOE_s.js"),__vite__mapDeps([152,25,28,30,1,109,153,82,39,41,42,43,45,46,47,54,85,86,87,88,89,90,53,51,91,37,22,10,92,93,94,57,95,96,97,98,99,154,155,18,15,16,147,148,149,150,20,21,107,156,19,108,151,101,4,102,130,129,120,121,103,104,105,134,38,110,111,112,55,56,113,40,44,23,125,126,127,128,157,146,132]),import.meta.url);return Reflect.construct(r.default,[t])}static async OpenStreetMapLayer(t){const r=await Ee(()=>import("./OpenStreetMapLayer-BrxK12rK.js"),__vite__mapDeps([158,159,28,30,1,110,111,112,55,56,57,40,41,42,43,44,23,45,46,47,125,126,146,32,33]),import.meta.url);return Reflect.construct(r.default,[t])}static async TileLayer(t){const r=await Ee(()=>import("./TileLayer-BuYPdu0h.js"),__vite__mapDeps([160,25,28,30,1,109,31,32,33,34,35,36,37,153,82,39,41,42,43,45,46,47,54,85,86,87,88,89,90,53,51,91,22,10,92,93,94,57,95,96,97,98,99,154,155,18,15,16,147,148,149,150,20,21,107,156,19,108,151,101,4,102,130,129,120,121,103,104,105,134,38,110,111,112,55,56,113,40,44,23,125,126,146]),import.meta.url);return Reflect.construct(r.default,[t])}static async WMSLayer(t){const r=await Ee(()=>import("./WMSLayer-B7Z8CKI0.js"),__vite__mapDeps([161,54,28,30,1,110,111,112,55,56,57,40,41,42,43,44,23,45,46,47,125,126,127,128,162,39,163,146]),import.meta.url);return Reflect.construct(r.default,[t])}static async ColorBackground(t){const r=await Ee(()=>import("./ColorBackground-CZD_imWe.js"),__vite__mapDeps([83,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async FeatureFilter(t){const r=await Ee(()=>import("./FeatureFilter-dAu7YW85.js"),__vite__mapDeps([117,18,15,16,1]),import.meta.url);return Reflect.construct(r.default,[t])}static async FieldFromJson(t){return(await Ee(()=>import("./Field-7yKaqquJ.js").then(i=>i.F),__vite__mapDeps([15,16]),import.meta.url)).default.fromJSON(t)}static async Query(){const t=await Ee(()=>import("./Query-gAxGVVkN.js").then(r=>r.Q),__vite__mapDeps([18,15,16]),import.meta.url);return Reflect.construct(t.default,[])}static async QueryByIds(t,r,i){const{executeForIds:n}=await Ee(async()=>{const{executeForIds:s}=await import("./query-DnOeTljR.js");return{executeForIds:s}},__vite__mapDeps([164,18,15,16,151,148,149,150,20,21,107,46,1,47,108,156,19,165,102,166,167,168,169,147,170,171,172,173,174,175,176]),import.meta.url);return n(t,r,i)}static async RendererFromJson(t){const{fromJSON:r}=await Ee(async()=>{const{fromJSON:i}=await import("./jsonUtils-DxQxwarO.js").then(n=>n.j);return{fromJSON:i}},__vite__mapDeps([91,85,86,87,88,89,90,53,43,1,51,37,82,22,10,92,93,94,57,95,96,97,98,99]),import.meta.url);return r(t)}}class Be{wkid;latestWkid;wkt;constructor(t,r){typeof t=="string"?this.wkt=t:(this.wkid=t,this.latestWkid=r)}isEqual(t){return!!(this.isWebMercator()&&t.isWebMercator()||this.wkid&&t.wkid&&this.wkid===t.wkid||this.wkt&&t.wkt&&this.wkt===t.wkt||this.latestWkid&&t.latestWkid&&this.latestWkid===t.latestWkid)}clone(){const t=new Be("");return t.latestWkid=this.latestWkid,t.wkid=this.wkid,t.wkt=this.wkt,t}lean(){const t={};return this.wkt?t.wkt=this.wkt:(t.wkid=this.wkid,this.latestWkid&&(t.latestWkid=this.latestWkid)),t}isWebMercator(){const t=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&t.includes(this.wkid)||this.latestWkid&&t.includes(this.latestWkid))}static latLongSR(){return new Be(4326)}static fromConfig(t){if(t.wkt)return new Be(t.wkt);if(t.wkid)return new Be(t.wkid,t.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(t){return t?t instanceof Be?t.clone():typeof t=="string"&&t.startsWith("EPSG:")?new Be(parseInt(t.substring(5).trim())):new Be(t):Be.latLongSR()}static fromESRI(t){if(t.wkt)return new Be(t.wkt);{const r=t.toJSON().latestWkid,i=new Be(t.wkid);return r&&(i.latestWkid=r),i}}toESRI(){return new or(this.lean())}static fromGeoJSON(t){const r=Be.parseGeoJsonCrs(t);return r.substring(0,5)==="EPSG:"?new Be(parseInt(r.slice(5))):new Be(r)}static parseGeoJsonCrs(t){if(t){if(t.type==="name"){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=t.properties.name,n=i.match(r);if(n)return"EPSG:"+n[1];if(i.substring(0,7)!=="urn:ogc")return i}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",t),"EPSG:4326"}toGeoJSON(){const t={type:"name",properties:{name:""}};return this.wkt?t.properties.name=this.wkt:t.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),t}}class gu{sr;id;constructor(t,r){this.id=t?t.toString():"",this.sr=Be.parseSR(r)}get type(){return Ze.UNKNOWN}childIdGenerator(t){return`${this.id}-${t}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Ze.NONE||this.type===Ze.UNKNOWN}geoJsonFactory(t,r){const i={type:t,coordinates:r};return this.sr&&(i.crs=this.sr.toGeoJSON()),i}}class Al extends gu{constructor(){super("no_geometry")}get type(){return Ze.NONE}}let Di=class Md extends gu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=r.slice():this.rawArray=Md.parseXY(r)}get type(){return Ze.POINT}get x(){return this.rawArray[0]}set x(t){this.rawArray[0]=t}get y(){return this.rawArray[1]}set y(t){this.rawArray[1]=t}toArray(){return this.rawArray.slice()}static parseXY(t){let r;if(Array.isArray(t)&&t.length===2)r=t;else{if(t instanceof Md)return t.toArray();r=[t.x,t.y]}if(isNaN(r[0])||isNaN(r[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(r[0]),parseFloat(r[1])]}static fromESRI(t,r){return new Md(r,[t.x,t.y],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Lr({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new Md(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.POINT,this.toArray())}};class en extends gu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=en.arrayDeepCopy(r):r instanceof en?this.rawArray=r.toArray():this.rawArray=en.parsePointSet(r)}get pointArray(){return this.rawArray.map((t,r)=>new Di(this.childIdGenerator(r),t,this.sr,!0))}getAt(t){return new Di(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,r){this.rawArray[r]=Di.parseXY(t)}get length(){return this.rawArray.length}toArray(){return en.arrayDeepCopy(this.rawArray)}static parsePointSet(t){if(Array.isArray(t)){if(t.length===0)throw new Error("no verticies provided");return t.map(r=>Di.parseXY(r))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(t){return t.map(r=>r.slice())}}class Eh extends en{constructor(t,r,i,n){super(t,r,i,n)}get type(){return Ze.MULTIPOINT}static fromESRI(t,r){return new Eh(r,t.points,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new z1({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new Eh(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.MULTIPOINT,this.toArray())}}class ul extends en{constructor(t,r,i,n){if(super(t,r,i,n),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Ze.LINESTRING}static fromESRI(t,r){return new ul(r,t.paths[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Gn({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new ul(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.LINESTRING,this.toArray())}}class cs extends gu{rawArray;constructor(t,r,i,n){if(super(t,r.sr||i),n)this.rawArray=cs.arrayDeepCopy(r);else if(r instanceof cs)this.rawArray=r.toArray();else if(r instanceof en)this.rawArray=[r.toArray()];else if(Array.isArray(r)){if(r.length===0)throw new Error("no lines provided");this.rawArray=r.map(s=>en.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((t,r)=>new ul(this.childIdGenerator(r),t,this.sr,!0))}getAt(t){return new ul(this.childIdGenerator(t),this.rawArray[t],this.sr,!0)}updateAt(t,r){this.rawArray[r]=en.parsePointSet(t)}get length(){return this.rawArray.length}get type(){return Ze.MULTILINESTRING}toArray(){return cs.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.slice()))}static fromESRI(t,r){return new cs(r,t.paths,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new Gn({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new cs(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.MULTILINESTRING,this.toArray())}}class Nc extends en{constructor(t,r,i,n){if(super(t,r,i,n),Nc.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Ze.LINEARRING}updateAt(t,r){const i=this.length-1;r===0?super.updateAt(t,i):r===i&&super.updateAt(t,0),super.updateAt(t,r)}static closeRing(t){const r=t[0],i=t[t.length-1];(r[0]!==i[0]||r[1]!==i[1])&&t.push(r.slice())}static fromESRI(t,r){return new Nc(r,t.rings[0],Be.fromESRI(t.spatialReference),!0)}toESRI(){return new yo({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new Nc(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.POLYGON,[this.toArray()])}}class yi extends gu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=yi.arrayDeepCopy(r):this.rawArray=yi.parsePolygon(r)}addLinearRings(t){t.forEach(r=>this.rawArray.push(r.toArray()))}get ringArray(){return this.rawArray.map((t,r)=>new Nc(this.childIdGenerator(r),t,this.sr,!0))}get type(){return Ze.POLYGON}toArray(){return yi.arrayDeepCopy(this.rawArray)}static parsePolygon(t){let r=[];if(t instanceof yi)return t.toArray();if(t instanceof cs)r=t.toArray();else if(t instanceof en)r=[t.toArray()];else if(Array.isArray(t)){if(t.length===0)throw new Error("no rings provided");r=t.map(i=>en.parsePointSet(i))}else throw new Error("invalid input format for parsePolygon");return r.forEach(i=>Nc.closeRing(i)),r}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.slice()))}static fromESRI(t,r){return new yi(r,t.rings,Be.fromESRI(t.spatialReference),!0)}toESRI(){return new yo({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new yi(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.POLYGON,this.toArray())}}class Yo extends gu{rawArray;constructor(t,r,i,n){super(t,r.sr||i),n?this.rawArray=Yo.arrayDeepCopy(r):this.rawArray=Yo.parseMultiPolygon(r)}addPolygon(t){this.rawArray.push(t.toArray())}get polygonArray(){return this.rawArray.map((t,r)=>new yi(this.childIdGenerator(r),t,this.sr,!0))}get type(){return Ze.MULTIPOLYGON}toArray(){return Yo.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(t){if(t instanceof Yo)return t.toArray();if(t instanceof yi)return[t.toArray()];if(t instanceof cs||t instanceof en)return[yi.parsePolygon(t)];if(Array.isArray(t)){if(t.length===0)throw new Error("no polygons provided");return t.map(r=>yi.parsePolygon(r))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(t){return t.map(r=>r.map(i=>i.map(n=>n.slice())))}static fromESRI(t,r){return new Yo(r,[t.rings],Be.fromESRI(t.spatialReference),!0)}toESRI(){const t=[];return this.toArray().forEach(r=>{r.forEach(i=>t.push(i))}),new yo({rings:t,spatialReference:this.sr.toESRI()})}static fromGeoJSON(t,r){return new Yo(r,t.coordinates,Be.fromGeoJSON(t.crs),!0)}toGeoJSON(){return this.geoJsonFactory(pr.MULTIPOLYGON,this.toArray())}}class ir extends gu{rawMin;rawMax;constructor(t,r,i,n){super(t,r.sr||n),this.rawMin=Di.parseXY(r),this.rawMax=Di.parseXY(i)}get type(){return Ze.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new Di(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(t){return ir.fromESRI(this.toESRI().expand(t),`${this.id}-expanded`)}clone(){return new ir(this.id,this.rawMin,this.rawMax,this.sr)}contains(t){return this.sr.isEqual(t.sr)?this.xmin<=t.x&&this.xmax>=t.x&&this.ymin<=t.y&&this.ymax>=t.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new yi(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(t,r,i,n,s,o){return new ir(t,[r,i],[n,s],o)}static fromConfig(t,r){return new ir(t,[r.xmin,r.ymin],[r.xmax,r.ymax],Be.fromConfig(r.spatialReference))}isEqual(t){return t?this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax:!1}static fromESRI(t,r){return ir.fromParams(r,t.xmin,t.ymin,t.xmax,t.ymax,Be.fromESRI(t.spatialReference))}toESRI(){return new _n({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(t,r){return ir.fromESRI(_n.fromJSON(t),r)}static fromGeoJSON(t,r){if(t.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const i=t.coordinates[0].slice(),n=i.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=t.coordinates[s];i[o]>a[o]&&(i[o]=a[o]),n[o]<a[o]&&(n[o]=a[o])})}),new ir(r,i,n,Be.fromGeoJSON(t.crs))}toGeoJSON(){return this.geoJsonFactory(pr.POLYGON,this.toPolygonArray())}}class aa{c;constructor(t){if(!t){this.c=[0,0,0,1];return}if(Array.isArray(t)){const r=t.length;if(r<3||r>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=t.map((i,n)=>n===3?i:parseInt(i)),r===3&&this.c.push(1)}else if(typeof t=="string"){const r=t.substring(0,1)==="#"?t.substring(1):t;this.c=[0,2,4,6].map(i=>{const n=r.substring(i,i+2);return aa.hexToInt(n)})}else this.c=[t.r,t.g,t.b,t.a??1];this.c.forEach((r,i)=>{r<0&&(console.error("Negative value passed to colour"),this.c[i]=0),r>255&&(console.error("Rotund value passed to colour"),this.c[i]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const t=this.rgba;return t[3]=t[3]*255,`#${t.map(r=>aa.intToHex(r)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new wt(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(t){return t.length===0?255:parseInt(t,16)}static intToHex(t){const r=t.toString(16);return r.length===1?`0${r}`:r}}class Jo{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(t){if(!(typeof t>"u"))if(typeof t=="string"){let r;const i=t.length;if(i===0)return;const n=t.substring(i-2);return n==="px"?r=parseFloat(t.substring(0,i-2))*1.333333:n==="pt"?r=parseFloat(t.substring(0,i-2)):r=parseFloat(t),r}else return t}}class ol extends Jo{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(t){if(t=t||{style:Po.CIRCLE},super(),this._style=t.style||Po.CIRCLE,t.style===Po.ICON){const r=t;this._icon=r.icon||"",this._height=Jo.convToPoints(r.height)||16.5,this._width=Jo.convToPoints(r.width)||16.5,this._size=0,this._colour=new aa,this._outline=new lo,this._path=""}else{const r=t;this._size=Jo.convToPoints(r.size)||12,this._colour=new aa(r.colour??"#ffffff40"),this._outline=new lo(r.outline),this._path=this._style===Po.PATH&&r.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=Jo.convToPoints(t.xOffset)||0,this._yOffset=Jo.convToPoints(t.yOffset)||0,this._angle=t.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(t){this._style===Po.ICON!==t&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const t={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===Po.ICON?{...t,icon:this.icon,width:this.width,height:this.height}:{...t,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let t;return this.styleType===Po.ICON?ol.isImageUrl(this.icon)?(t=new Of,t.url=this.icon,t.width=this.width,t.height=this.height,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new bo,t.color=new wt(this.colour.rgba),t.size=this.width,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle):(t=new bo,t.color=new wt(this.colour.rgba),t.size=this.size,t.xoffset=this.xOffset,t.yoffset=this.yOffset,t.angle=this.angle,t.path=this.path,t.style=this.styleType,t.outline=this.outline.toESRI()),t}static fromESRI(t){const r={xOffset:t.xoffset,yOffset:t.yoffset,angle:t.angle};if(t.type==="simple-marker"){const i=r;i.style=t.style,i.colour=t.color.toRgba(),i.size=t.size,i.path=t.path,i.outline=lo.fromESRI(t.outline).toOptions()}else{const i=r;i.style=Po.ICON,i.width=t.width,i.height=t.height,i.icon=t.url}return new ol(r)}static fromArcServer(t){return ol.fromESRI(eE(t))}static isImageUrl(t){return!!t.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!t.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class lo extends Jo{_style;_width;_miter;_cap;_join;_colour;constructor(t){t=t||{},super(),this._style=t.style||qi.SOLID;const r=Jo.convToPoints(t.width);this._width=typeof r>"u"||r<0?.75:r,this._colour=new aa(t.colour),this._miter=t.miter??2,this._cap=t.cap||s$.ROUND,this._join=t.join||n$.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const t=new $s;return t.width=this.width,t.color=this.colour.toESRI(),t.style=this.styleType,t.cap=this.cap,t.miterLimit=this.miter,t.join=this.join,t}static fromESRI(t){const r={width:t.width,colour:t.color.toRgba(),style:t.style};return new lo(r)}static fromArcServer(t){return lo.fromESRI(eE(t))}}class Np extends Jo{_outlineStyle;_fillColour;_fillStyle;constructor(t){super(),t=t||{},t.fill||(t.fill={}),this._fillColour=new aa(t.fill.colour),this._fillStyle=t.fill.style||o$.SOLID,this._outlineStyle=new lo(t.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const t=this.outline.toESRI(),r=new wt(this.fillColour.rgba),i=new yu;return i.style=this.fillStyleType,i.color=r,i.outline=t,i}static fromESRI(t){const r={fill:{colour:t.color.toRgba(),style:t.style},outline:lo.fromESRI(t.outline).toOptions()};return new Np(r)}static fromArcServer(t){return Np.fromESRI(eE(t))}}class TH{Extent=ir;Graphic=Ss;LineString=ul;LineStyle=lo;LinearRing=Nc;MultiLineString=cs;MultiPoint=Eh;MultiPolygon=Yo;Point=Di;PointStyle=ol;Polygon=yi;PolygonStyle=Np;SpatialReference=Be;esriMapClickToRamp(t,r){return{mapPoint:Di.fromESRI(t.mapPoint,r),screenX:t.x,screenY:t.y,button:t.button,input:t.native.pointerType,clickTime:t.timestamp}}esriMapMouseToRamp(t){return{screenX:t.x,screenY:t.y,button:t.button,moveTime:t.timestamp}}geomRampToEsri(t){return t.toESRI()}geomEsriToRamp(t,r){switch(t.type){case"point":return Di.fromESRI(t,r);case"polyline":{const i=t;return i.paths.length===1?ul.fromESRI(i,r):cs.fromESRI(i,r)}case"polygon":return yi.fromESRI(t,r);case"extent":return ir.fromESRI(t,r);case"multipoint":return Eh.fromESRI(t,r);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomGeoJsonToRamp(t,r){switch(t.type){case pr.POINT:return Di.fromGeoJSON(t,r);case pr.LINESTRING:return ul.fromGeoJSON(t,r);case pr.POLYGON:return yi.fromGeoJSON(t,r);case pr.MULTIPOINT:return Eh.fromGeoJSON(t,r);case pr.MULTILINESTRING:return cs.fromGeoJSON(t,r);case pr.MULTIPOLYGON:return Yo.fromGeoJSON(t,r);default:throw new Error(`Encountered unhandled geometry type ${t.type}`)}}geomRampToGeoJson(t){return t.toGeoJSON()}graphicRampToGeoJson(t){const r={},i={type:"Feature",geometry:this.geomRampToGeoJson(t.geometry),properties:r};return Object.keys(t.attributes).forEach(n=>i.properties[n]=t.attributes[n]),i}graphicGeoJsonToRamp(t,r){if(t.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const i=this.geomGeoJsonToRamp(t.geometry,r),n={};return Object.keys(t.properties.forEach(o=>n[o]=t.properties[o])),new Ss(i,"",n)}graphicRampToEsri(t){const r={attributes:{},id:t.id};return r.geometry=this.geomRampToEsri(t.geometry),Object.keys(t.attributes).forEach(i=>r.attributes[i]=t.attributes[i]),t.style&&(r.symbol=this.styleRampToEsri(t.style)),new Xx(r)}styleRampToEsri(t){return t.toESRI()}styleEsriToRamp(t){switch(t.type){case"picture-marker":case"simple-marker":return ol.fromESRI(t);case"simple-line":return lo.fromESRI(t);case"simple-fill":return Np.fromESRI(t);default:return console.error(`Unsupported ESRI symbol type encountered: ${t.type}`),new ol}}serverGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"esriGeometryPolygon":return Ze.POLYGON;case"esriGeometryPolyline":return Ze.LINESTRING;case"esriGeometryPoint":return Ze.POINT;case"esriGeometryMultipoint":return Ze.MULTIPOINT;case"esriGeometryEnvelope":return Ze.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${t}`),Ze.UNKNOWN}}clientGeomTypeToRampGeomType(t){if(!t)return Ze.NONE;switch(t){case"polygon":return Ze.POLYGON;case"polyline":return Ze.LINESTRING;case"point":return Ze.POINT;case"multipoint":return Ze.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${t}`),Ze.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(t){switch(t){case pr.POINT:return"point";case pr.LINESTRING:case pr.MULTILINESTRING:return"polyline";case pr.POLYGON:case pr.MULTIPOLYGON:return"polygon";case pr.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${t}`)}}isImageUrl(t){return ol.isImageUrl(t)}}class Tg{layerIdx;name;children;uid;isRoot;constructor(t,r,i="",n=!0){this.layerIdx=t,this.name=i,this.isRoot=n,this.children=[],this.uid=r}findChildByUid(t){if(this.uid===t)return this;{let r;return this.children.some(i=>r=i.findChildByUid(t)),r}}findChildByIdx(t){if(this.layerIdx===t)return this;{let r;return this.children.some(i=>r=i.findChildByIdx(t)),r}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class oP{minScale;maxScale;constructor(t=0,r=0){this.minScale=t,this.maxScale=r}isOffScale(t){const r={offScale:!1,zoomIn:!1};return t<this.maxScale&&this.maxScale!==0?(r.offScale=!0,r.zoomIn=!1):t>this.minScale&&this.minScale!==0&&(r.offScale=!0,r.zoomIn=!0),r}}class aP{sql;cache;extent;constructor(t="",r=""){this.sql={[Li.PERMANENT]:t,[Li.INITIAL]:r},this.extent=void 0,this.cache={}}sqlActiveFilters(t=[]){const r=this.sql,i=Object.keys(r).filter(n=>r[n]);return t.length===0?i:i.filter(n=>t.indexOf(n)===-1)}isActive(){return this.sqlActiveFilters([Li.PERMANENT]).length>0}getCombinedSql(t=[]){const r=this.sqlActiveFilters(t),i=r.length;return i===0?"":i===1?this.sql[r[0]]:r.map(n=>`(${this.sql[n]})`).join(" AND ")}setSql(t,r){t===Li.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[t]=r,this.clearCacheSet(t))}getSql(t){return this.sql[t]||""}setExtent(t){t.isEqual(this.extent)||(this.extent=t,this.clearCacheSet(Li.EXTENT))}getCacheKey(t,r){return`_cache$${t.sort().join("$")}${r?"$"+Li.EXTENT:""}$`}getCache(t,r){const i=this.getCacheKey(t,r);return this.cache[i]}setCache(t,r,i){const n=this.getCacheKey(r,i);this.cache[n]=t}cacheActiveKeys(){const t=this.cache;return Object.keys(t).filter(r=>t[r])}clearAllCaches(){this.cache={}}clearCacheSet(t){this.cacheActiveKeys().forEach(r=>{r.indexOf(`$${t}$`)>-1&&delete this.cache[r]})}clearAll(){this.sql={[Li.PERMANENT]:this.sql[Li.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class Pp{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(t,r,i=void 0,n=void 0){this.id=t,this.sr=r.sr.clone(),this._defaultExtent=r.clone(),this._fullExtent=i?.clone(),this._maximumExtent=n?.clone(),i&&!i.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${i.sr}`),n&&!n.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${n.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(t){this._defaultExtent=t.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(t){this._fullExtent=t.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(t){this._maximumExtent=t.clone()}static fromConfig(t){return new Pp(t.id,ir.fromConfig(`${t.id}-extent-default`,t.default),t.full!==void 0?ir.fromConfig(`${t.id}-extent-full`,t.full):void 0,t.maximum!==void 0?ir.fromConfig(`${t.id}-extent-maximum`,t.maximum):void 0)}clone(){return new Pp(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class Tr{realPromise;resolveMe(t){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((t,r)=>{this.resolveMe=i=>{t(i)},this.rejectMe=r})}}var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Em(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function AH(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var Pb,L4;function MH(){if(L4)return Pb;L4=1;var e=function(T){return t(T)&&!r(T)};function t(x){return!!x&&typeof x=="object"}function r(x){var T=Object.prototype.toString.call(x);return T==="[object RegExp]"||T==="[object Date]"||s(x)}var i=typeof Symbol=="function"&&Symbol.for,n=i?Symbol.for("react.element"):60103;function s(x){return x.$$typeof===n}function o(x){return Array.isArray(x)?[]:{}}function a(x,T){return T.clone!==!1&&T.isMergeableObject(x)?_(o(x),x,T):x}function l(x,T,S){return x.concat(T).map(function(v){return a(v,S)})}function c(x,T){if(!T.customMerge)return _;var S=T.customMerge(x);return typeof S=="function"?S:_}function f(x){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(x).filter(function(T){return Object.propertyIsEnumerable.call(x,T)}):[]}function d(x){return Object.keys(x).concat(f(x))}function p(x,T){try{return T in x}catch{return!1}}function y(x,T){return p(x,T)&&!(Object.hasOwnProperty.call(x,T)&&Object.propertyIsEnumerable.call(x,T))}function g(x,T,S){var v={};return S.isMergeableObject(x)&&d(x).forEach(function(M){v[M]=a(x[M],S)}),d(T).forEach(function(M){y(x,M)||(p(x,M)&&S.isMergeableObject(T[M])?v[M]=c(M,S)(x[M],T[M],S):v[M]=a(T[M],S))}),v}function _(x,T,S){S=S||{},S.arrayMerge=S.arrayMerge||l,S.isMergeableObject=S.isMergeableObject||e,S.cloneUnlessOtherwiseSpecified=a;var v=Array.isArray(T),M=Array.isArray(x),O=v===M;return O?v?S.arrayMerge(x,T,S):g(x,T,S):a(T,S)}_.all=function(T,S){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(v,M){return _(v,M,S)},{})};var w=_;return Pb=w,Pb}var IH=MH();const lP=Em(IH);class OH{generateUUID(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(r==="x"?i:i&3|8).toString(16)})}convertImageToCanvas(t,r,i=!0){const n=r??document.createElement("canvas"),s=document.createElement("img");i&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{n.width=s.width,n.height=s.height,n.getContext("2d")?.drawImage(s,0,0),a(n)}),s.addEventListener("error",c=>l(c))});return s.src=t,o}async convertImagetoDataURL(t,r="image/png"){return t.startsWith("data")?t:this.convertImageToCanvas(t).then(i=>i.toDataURL(r)).catch(i=>(console.error("Failed to load crossorigin image",t,i),t))}parseUrlIndex(t){const r={rootUrl:t,index:0},i=/\/(\d+)\/?$/,n=t.match(i);if(n){const s=n[1];r.index=isNaN(parseInt(s))?void 0:parseInt(s),r.rootUrl=t.substr(0,t.length-n[0].length)}else console.warn("Cannot extract layer index from url "+t);return r}controlAvailable(t,r){return r?.disabledControls?.includes(t)?!1:r?.controls?r?.controls?.includes(t):!0}}class Ag{_url;_base;_query;_queryMap={};constructor(t){this._url=t,[this._base,this._query]=t.split("?").concat(""),this._queryMap=this._query.split("&").reduce((r,i)=>{const[n,s]=i.split("=");return r[n]=s,r},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(t){const r=lP.all([{},this.queryMap,t]);return`${this.base}${Object.entries(r).filter(([,n])=>n!==void 0).map(([n,s],o)=>`${o===0?"?":""}${n}=${s}`).join("&")}`}}var Cy={exports:{}},$H=Cy.exports,k4;function cP(){return k4||(k4=1,function(e,t){(function(r,i){e.exports=i(),typeof window=="object"&&(r.Terraformer=i())})($H,function(){var r={},i=6378137,n=57.29577951308232,s=.017453292519943,o={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},a={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}};function l($){return Object.prototype.toString.call($)==="[object Array]"}function c(){var $=Array.prototype.slice.apply(arguments);typeof console!==void 0&&console.warn&&console.warn.apply(console,$)}function f($,j){for(var I in j)j.hasOwnProperty(I)&&($[I]=j[I]);return $}function d($){if($.type)switch($.type){case"Point":return[$.coordinates[0],$.coordinates[1],$.coordinates[0],$.coordinates[1]];case"MultiPoint":return g($.coordinates);case"LineString":return g($.coordinates);case"MultiLineString":return p($.coordinates);case"Polygon":return p($.coordinates);case"MultiPolygon":return y($.coordinates);case"Feature":return $.geometry?d($.geometry):null;case"FeatureCollection":return _($);case"GeometryCollection":return w($);default:throw new Error("Unknown type: "+$.type)}return null}function p($){for(var j=null,I=null,L=null,B=null,Z=0;Z<$.length;Z++)for(var te=$[Z],ee=0;ee<te.length;ee++){var H=te[ee],X=H[0],ve=H[1];(j===null||X<j)&&(j=X),(I===null||X>I)&&(I=X),(L===null||ve<L)&&(L=ve),(B===null||ve>B)&&(B=ve)}return[j,L,I,B]}function y($){for(var j=null,I=null,L=null,B=null,Z=0;Z<$.length;Z++)for(var te=$[Z],ee=0;ee<te.length;ee++)for(var H=te[ee],X=0;X<H.length;X++){var ve=H[X],Ie=ve[0],mt=ve[1];(j===null||Ie<j)&&(j=Ie),(I===null||Ie>I)&&(I=Ie),(L===null||mt<L)&&(L=mt),(B===null||mt>B)&&(B=mt)}return[j,L,I,B]}function g($){for(var j=null,I=null,L=null,B=null,Z=0;Z<$.length;Z++){var te=$[Z],ee=te[0],H=te[1];(j===null||ee<j)&&(j=ee),(I===null||ee>I)&&(I=ee),(L===null||H<L)&&(L=H),(B===null||H>B)&&(B=H)}return[j,L,I,B]}function _($){for(var j=[],I,L=$.features.length-1;L>=0;L--)I=d($.features[L].geometry),j.push([I[0],I[1]]),j.push([I[2],I[3]]);return g(j)}function w($){for(var j=[],I,L=$.geometries.length-1;L>=0;L--)I=d($.geometries[L]),j.push([I[0],I[1]]),j.push([I[2],I[3]]);return g(j)}function x($){var j=d($);return{x:j[0],y:j[1],w:Math.abs(j[0]-j[2]),h:Math.abs(j[1]-j[3])}}function T($){return $*n}function S($){return $*s}function v($,j){for(var I=0;I<$.length;I++)typeof $[I][0]=="number"&&($[I]=j($[I])),typeof $[I]=="object"&&($[I]=v($[I],j));return $}function M($){var j=$[0],I=$[1];return[T(j/i)-Math.floor((T(j/i)+180)/360)*360,T(Math.PI/2-2*Math.atan(Math.exp(-1*I/i)))]}function O($){var j=$[0],I=Math.max(Math.min($[1],89.99999),-89.99999);return[S(j)*i,i/2*Math.log((1+Math.sin(S(I)))/(1-Math.sin(S(I))))]}function P($,j,I){if($.type==="Point")$.coordinates=j($.coordinates);else if($.type==="Feature")$.geometry=P($.geometry,j,!0);else if($.type==="FeatureCollection")for(var L=0;L<$.features.length;L++)$.features[L]=P($.features[L],j,!0);else if($.type==="GeometryCollection")for(var B=0;B<$.geometries.length;B++)$.geometries[B]=P($.geometries[B],j,!0);else $.coordinates=v($.coordinates,j);return I||j===O&&($.crs=o),j===M&&delete $.crs,$}function R($){return P($,O)}function k($){return P($,M)}function G($,j){return $<j?-1:$>j?1:0}function V($,j){return $[0]>j[0]?-1:$[0]<j[0]?1:$[1]>j[1]?-1:$[1]<j[1]?1:0}function U($,j,I){return G((j[0]-$[0])*(I[1]-$[1])-(I[0]-$[0])*(j[1]-$[1]),0)}function Y($,j){var I=j[0]-$[0],L=j[1]-$[1];return I*I+L*L}function se($,j){var I=j;for(var L in $){var B=U(j,I,$[L]);(B===-1||B===0&&Y(j,$[L])>Y(j,I))&&(I=$[L])}return I}function h($){if($.length===0)return[];if($.length===1)return $;for(var j=[$.sort(V)[0]],I=0;I<j.length;I++){var L=se($,j[I]);L!==j[0]&&j.push(L)}return j}function m($){for(var j,I=0;I<$.length-3;I++){var L=$[I],B=$[I+1],Z=$[I+2],te=[B[0]-L[0],B[1]-L[1]],ee=Z[0]*te[1]-Z[1]*te[0]+te[0]*L[1]-te[1]*L[0];if(I===0)ee<0?j=!0:j=!1;else if(j&&ee>0||!j&&ee<0)return!1}return!0}function E($,j){for(var I=!1,L=-1,B=$.length,Z=B-1;++L<B;Z=L)($[L][1]<=j[1]&&j[1]<$[Z][1]||$[Z][1]<=j[1]&&j[1]<$[L][1])&&j[0]<($[Z][0]-$[L][0])*(j[1]-$[L][1])/($[Z][1]-$[L][1])+$[L][0]&&(I=!I);return I}function N($,j){if($&&$.length){if($.length===1)return E($[0],j);if(E($[0],j)){for(var I=1;I<$.length;I++)if(E($[I],j))return!1;return!0}else return!1}else return!1}function q($,j,I,L){var B=(L[0]-I[0])*($[1]-I[1])-(L[1]-I[1])*($[0]-I[0]),Z=(j[0]-$[0])*($[1]-I[1])-(j[1]-$[1])*($[0]-I[0]),te=(L[1]-I[1])*(j[0]-$[0])-(L[0]-I[0])*(j[1]-$[1]);if(te!==0){var ee=B/te,H=Z/te;if(0<=ee&&ee<=1&&0<=H&&H<=1)return!0}return!1}function K($){return!isNaN(parseFloat($))&&isFinite($)}function fe($,j){if(K($[0][0])){if(K(j[0][0])){for(var I=0;I<$.length-1;I++)for(var L=0;L<j.length-1;L++)if(q($[I],$[I+1],j[L],j[L+1]))return!0}else for(var B=0;B<j.length;B++)if(fe($,j[B]))return!0}else for(var Z=0;Z<$.length;Z++)if(fe($[Z],j))return!0;return!1}function ae($){for(var j=[],I=0;I<$.length;I++){var L=$[I].slice();Ae(L[0],L[L.length-1])===!1&&L.push(L[0]),j.push(L)}return j}function Ae($,j){for(var I=0;I<$.length;I++)if($[I]!==j[I])return!1;return!0}function Fe($,j){if($.length!==j.length)return!1;for(var I=$.slice().sort(V),L=j.slice().sort(V),B=0;B<I.length;B++){if(I[B].length!==L[B].length)return!1;for(var Z=0;Z<I.length;Z++)if(I[B][Z]!==L[B][Z])return!1}return!0}var Ve=["length"];function Oe($){if($)switch($.type){case"Point":return new vt($);case"MultiPoint":return new rt($);case"LineString":return new pt($);case"MultiLineString":return new ft($);case"Polygon":return new nt($);case"MultiPolygon":return new Dt($);case"Feature":return new z($);case"FeatureCollection":return new F($);case"GeometryCollection":return new J($);default:throw new Error("Unknown type: "+$.type)}}Oe.prototype.toMercator=function(){return R(this)},Oe.prototype.toGeographic=function(){return k(this)},Oe.prototype.envelope=function(){return x(this)},Oe.prototype.bbox=function(){return d(this)},Oe.prototype.convexHull=function(){var $=[],j,I;if(this.type==="Point")return null;if(this.type==="LineString"||this.type==="MultiPoint")if(this.coordinates&&this.coordinates.length>=3)$=this.coordinates;else return null;else if(this.type==="Polygon"||this.type==="MultiLineString")if(this.coordinates&&this.coordinates.length>0){for(j=0;j<this.coordinates.length;j++)$=$.concat(this.coordinates[j]);if($.length<3)return null}else return null;else if(this.type==="MultiPolygon")if(this.coordinates&&this.coordinates.length>0){for(j=0;j<this.coordinates.length;j++)for(I=0;I<this.coordinates[j].length;I++)$=$.concat(this.coordinates[j][I]);if($.length<3)return null}else return null;else if(this.type==="Feature"){var L=new Oe(this.geometry);return L.convexHull()}return new nt({type:"Polygon",coordinates:ae([h($)])})},Oe.prototype.toJSON=function(){var $={};for(var j in this)this.hasOwnProperty(j)&&Ve.indexOf(j)===-1&&($[j]=this[j]);return $.bbox=d(this),$},Oe.prototype.contains=function($){return new Oe($).within(this)},Oe.prototype.within=function($){var j,I,L,B;if($.type==="Feature"&&($=$.geometry),$.type==="Point"&&this.type==="Point")return Ae(this.coordinates,$.coordinates);if($.type==="MultiLineString"&&this.type==="Point")for(I=0;I<$.coordinates.length;I++){var Z={type:"LineString",coordinates:$.coordinates[I]};if(this.within(Z))return!0}if(($.type==="LineString"||$.type==="MultiPoint")&&this.type==="Point")for(I=0;I<$.coordinates.length;I++){if(this.coordinates.length!==$.coordinates[I].length)return!1;if(Ae(this.coordinates,$.coordinates[I]))return!0}if($.type==="Polygon")if(this.type==="Polygon"){if($.coordinates.length===this.coordinates.length){for(I=0;I<this.coordinates.length;I++)if(Fe(this.coordinates[I],$.coordinates[I]))return!0}return this.coordinates.length&&N($.coordinates,this.coordinates[0][0])?!fe(ae(this.coordinates),ae($.coordinates)):!1}else{if(this.type==="Point")return N($.coordinates,this.coordinates);if(this.type==="LineString"||this.type==="MultiPoint"){if(!this.coordinates||this.coordinates.length===0)return!1;for(I=0;I<this.coordinates.length;I++)if(N($.coordinates,this.coordinates[I])===!1)return!1;return!0}else if(this.type==="MultiLineString"){for(I=0;I<this.coordinates.length;I++){var te=new pt(this.coordinates[I]);if(te.within($)===!1)return B++,!1}return!0}else if(this.type==="MultiPolygon"){for(I=0;I<this.coordinates.length;I++){var ee=new Oe({type:"Polygon",coordinates:this.coordinates[I]});if(ee.within($)===!1)return!1}return!0}}if($.type==="MultiPolygon"){if(this.type==="Point"){if($.coordinates.length){for(I=0;I<$.coordinates.length;I++)if(j=$.coordinates[I],N(j,this.coordinates)&&fe([this.coordinates],$.coordinates)===!1)return!0}return!1}else if(this.type==="Polygon"){for(I=0;I<this.coordinates.length;I++)if($.coordinates[I].length===this.coordinates.length){for(L=0;L<this.coordinates.length;L++)if(Fe(this.coordinates[L],$.coordinates[I][L]))return!0}if(fe(this.coordinates,$.coordinates)===!1&&$.coordinates.length){for(I=0;I<$.coordinates.length;I++)j=$.coordinates[I],N(j,this.coordinates[0][0])===!1?B=!1:B=!0;return B}}else if(this.type==="LineString"||this.type==="MultiPoint")for(I=0;I<$.coordinates.length;I++){var H={type:"Polygon",coordinates:$.coordinates[I]};return!!this.within(H)}else if(this.type==="MultiLineString"){for(I=0;I<this.coordinates.length;I++){var X=new pt(this.coordinates[I]);if(X.within($)===!1)return!1}return!0}else if(this.type==="MultiPolygon"){for(I=0;I<$.coordinates.length;I++){var ve={type:"Polygon",coordinates:$.coordinates[I]};if(this.within(ve)===!1)return!1}return!0}}return!1},Oe.prototype.intersects=function($){$.type==="Feature"&&($=$.geometry);var j=new Oe($);if(this.within($)||j.within(this))return!0;if(this.type!=="Point"&&this.type!=="MultiPoint"&&$.type!=="Point"&&$.type!=="MultiPoint")return fe(this.coordinates,$.coordinates);if(this.type==="Feature"){var I=new Oe(this.geometry);return I.intersects($)}return c("Type "+this.type+" to "+$.type+" intersection is not supported by intersects"),!1};function vt($){var j=Array.prototype.slice.call(arguments);if($&&$.type==="Point"&&$.coordinates)f(this,$);else if($&&l($))this.coordinates=$;else if(j.length>=2)this.coordinates=j;else throw"Terraformer: invalid input for Terraformer.Point";this.type="Point"}vt.prototype=new Oe,vt.prototype.constructor=vt;function rt($){if($&&$.type==="MultiPoint"&&$.coordinates)f(this,$);else if(l($))this.coordinates=$;else throw"Terraformer: invalid input for Terraformer.MultiPoint";this.type="MultiPoint"}rt.prototype=new Oe,rt.prototype.constructor=rt,rt.prototype.forEach=function($){for(var j=0;j<this.coordinates.length;j++)$.apply(this,[this.coordinates[j],j,this.coordinates]);return this},rt.prototype.addPoint=function($){return this.coordinates.push($),this},rt.prototype.insertPoint=function($,j){return this.coordinates.splice(j,0,$),this},rt.prototype.removePoint=function($){return typeof $=="number"?this.coordinates.splice($,1):this.coordinates.splice(this.coordinates.indexOf($),1),this},rt.prototype.get=function($){return new vt(this.coordinates[$])};function pt($){if($&&$.type==="LineString"&&$.coordinates)f(this,$);else if(l($))this.coordinates=$;else throw"Terraformer: invalid input for Terraformer.LineString";this.type="LineString"}pt.prototype=new Oe,pt.prototype.constructor=pt,pt.prototype.addVertex=function($){return this.coordinates.push($),this},pt.prototype.insertVertex=function($,j){return this.coordinates.splice(j,0,$),this},pt.prototype.removeVertex=function($){return this.coordinates.splice($,1),this};function ft($){if($&&$.type==="MultiLineString"&&$.coordinates)f(this,$);else if(l($))this.coordinates=$;else throw"Terraformer: invalid input for Terraformer.MultiLineString";this.type="MultiLineString"}ft.prototype=new Oe,ft.prototype.constructor=ft,ft.prototype.forEach=function($){for(var j=0;j<this.coordinates.length;j++)$.apply(this,[this.coordinates[j],j,this.coordinates])},ft.prototype.get=function($){return new pt(this.coordinates[$])};function nt($){if($&&$.type==="Polygon"&&$.coordinates)f(this,$);else if(l($))this.coordinates=$;else throw"Terraformer: invalid input for Terraformer.Polygon";this.type="Polygon"}nt.prototype=new Oe,nt.prototype.constructor=nt,nt.prototype.addVertex=function($){return this.insertVertex($,this.coordinates[0].length-1),this},nt.prototype.insertVertex=function($,j){return this.coordinates[0].splice(j,0,$),this},nt.prototype.removeVertex=function($){return this.coordinates[0].splice($,1),this},nt.prototype.close=function(){this.coordinates=ae(this.coordinates)},nt.prototype.hasHoles=function(){return this.coordinates.length>1},nt.prototype.holes=function(){var $=[];if(this.hasHoles())for(var j=1;j<this.coordinates.length;j++)$.push(new nt([this.coordinates[j]]));return $};function Dt($){if($&&$.type==="MultiPolygon"&&$.coordinates)f(this,$);else if(l($))this.coordinates=$;else throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.type="MultiPolygon"}Dt.prototype=new Oe,Dt.prototype.constructor=Dt,Dt.prototype.forEach=function($){for(var j=0;j<this.coordinates.length;j++)$.apply(this,[this.coordinates[j],j,this.coordinates])},Dt.prototype.get=function($){return new nt(this.coordinates[$])},Dt.prototype.close=function(){var $=[];return this.forEach(function(j){$.push(ae(j))}),this.coordinates=$,this};function z($){if($&&$.type==="Feature")f(this,$);else if($&&$.type&&$.coordinates)this.geometry=$;else throw"Terraformer: invalid input for Terraformer.Feature";this.type="Feature"}z.prototype=new Oe,z.prototype.constructor=z;function F($){if($&&$.type==="FeatureCollection"&&$.features)f(this,$);else if(l($))this.features=$;else throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.type="FeatureCollection"}F.prototype=new Oe,F.prototype.constructor=F,F.prototype.forEach=function($){for(var j=0;j<this.features.length;j++)$.apply(this,[this.features[j],j,this.features])},F.prototype.get=function($){var j;return this.forEach(function(I){I.id===$&&(j=I)}),new z(j)};function J($){if($&&$.type==="GeometryCollection"&&$.geometries)f(this,$);else if(l($))this.geometries=$;else if($.coordinates&&$.type)this.type="GeometryCollection",this.geometries=[$];else throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection"}J.prototype=new Oe,J.prototype.constructor=J,J.prototype.forEach=function($){for(var j=0;j<this.geometries.length;j++)$.apply(this,[this.geometries[j],j,this.geometries])},J.prototype.get=function($){return new Oe(this.geometries[$])};function le($,j,I){for(var L=O($),B=I||64,Z={type:"Polygon",coordinates:[[]]},te=1;te<=B;te++){var ee=te*(360/B)*Math.PI/180;Z.coordinates[0].push([L[0]+j*Math.cos(ee),L[1]+j*Math.sin(ee)])}return Z.coordinates=ae(Z.coordinates),k(Z)}function ie($,j,I){var L=I||64,B=j||250;if(!$||$.length<2||!B||!L)throw new Error("Terraformer: missing parameter for Terraformer.Circle");f(this,new z({type:"Feature",geometry:le($,B,L),properties:{radius:B,center:$,steps:L}}))}return ie.prototype=new Oe,ie.prototype.constructor=ie,ie.prototype.recalculate=function(){return this.geometry=le(this.properties.center,this.properties.radius,this.properties.steps),this},ie.prototype.center=function($){return $&&(this.properties.center=$,this.recalculate()),this.properties.center},ie.prototype.radius=function($){return $&&(this.properties.radius=$,this.recalculate()),this.properties.radius},ie.prototype.steps=function($){return $&&(this.properties.steps=$,this.recalculate()),this.properties.steps},ie.prototype.toJSON=function(){var $=Oe.prototype.toJSON.call(this);return $},r.Primitive=Oe,r.Point=vt,r.MultiPoint=rt,r.LineString=pt,r.MultiLineString=ft,r.Polygon=nt,r.MultiPolygon=Dt,r.Feature=z,r.FeatureCollection=F,r.GeometryCollection=J,r.Circle=ie,r.toMercator=R,r.toGeographic=k,r.Tools={},r.Tools.positionToMercator=O,r.Tools.positionToGeographic=M,r.Tools.applyConverter=P,r.Tools.toMercator=R,r.Tools.toGeographic=k,r.Tools.createCircle=le,r.Tools.calculateBounds=d,r.Tools.calculateEnvelope=x,r.Tools.coordinatesContainPoint=E,r.Tools.polygonContainsPoint=N,r.Tools.arraysIntersectArrays=fe,r.Tools.coordinatesContainPoint=E,r.Tools.coordinatesEqual=Fe,r.Tools.convexHull=h,r.Tools.isConvex=m,r.MercatorCRS=o,r.GeographicCRS=a,r})}(Cy)),Cy.exports}var CH=cP();function NH(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var Qc=1,eu=2,Th=3,PH=4,Ew=5,R4=6378137,LH=6356752314e-3,D4=.0066943799901413165,zd=484813681109536e-20,de=Math.PI/2,kH=.16666666666666666,RH=.04722222222222222,DH=.022156084656084655,_e=1e-10,si=.017453292519943295,to=57.29577951308232,Mt=Math.PI/4,Lp=Math.PI*2,_r=3.14159265359,ln={};ln.greenwich=0;ln.lisbon=-9.131906111111;ln.paris=2.337229166667;ln.bogota=-74.080916666667;ln.madrid=-3.687938888889;ln.rome=12.452333333333;ln.bern=7.439583333333;ln.jakarta=106.807719444444;ln.ferro=-17.666666666667;ln.brussels=4.367975;ln.stockholm=18.058277777778;ln.athens=23.7163375;ln.oslo=10.722916666667;const FH={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var F4=/[\s_\-\/\(\)]/g;function vl(e,t){if(e[t])return e[t];for(var r=Object.keys(e),i=t.toLowerCase().replace(F4,""),n=-1,s,o;++n<r.length;)if(s=r[n],o=s.toLowerCase().replace(F4,""),o===i)return e[s]}function Tw(e){var t={},r=e.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),i,n,s,o={proj:"projName",datum:"datumCode",rf:function(a){t.rf=parseFloat(a)},lat_0:function(a){t.lat0=a*si},lat_1:function(a){t.lat1=a*si},lat_2:function(a){t.lat2=a*si},lat_ts:function(a){t.lat_ts=a*si},lon_0:function(a){t.long0=a*si},lon_1:function(a){t.long1=a*si},lon_2:function(a){t.long2=a*si},alpha:function(a){t.alpha=parseFloat(a)*si},gamma:function(a){t.rectified_grid_angle=parseFloat(a)},lonc:function(a){t.longc=a*si},x_0:function(a){t.x0=parseFloat(a)},y_0:function(a){t.y0=parseFloat(a)},k_0:function(a){t.k0=parseFloat(a)},k:function(a){t.k0=parseFloat(a)},a:function(a){t.a=parseFloat(a)},b:function(a){t.b=parseFloat(a)},r:function(a){t.a=t.b=parseFloat(a)},r_a:function(){t.R_A=!0},zone:function(a){t.zone=parseInt(a,10)},south:function(){t.utmSouth=!0},towgs84:function(a){t.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){t.to_meter=parseFloat(a)},units:function(a){t.units=a;var l=vl(FH,a);l&&(t.to_meter=l.to_meter)},from_greenwich:function(a){t.from_greenwich=a*si},pm:function(a){var l=vl(ln,a);t.from_greenwich=(l||parseFloat(a))*si},nadgrids:function(a){a==="@null"?t.datumCode="none":t.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(t.axis=a)},approx:function(){t.approx=!0}};for(i in r)n=r[i],i in o?(s=o[i],typeof s=="function"?s(n):t[s]=n):t[i]=n;return typeof t.datumCode=="string"&&t.datumCode!=="WGS84"&&(t.datumCode=t.datumCode.toLowerCase()),t}var kp=1,uP=2,hP=3,Mg=4,fP=5,tE=-1,UH=/\s/,jH=/[A-Za-z]/,GH=/[A-Za-z84_]/,av=/[,\]]/,dP=/[\d\.E\-\+]/;function da(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=kp}da.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==Mg)for(;UH.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case kp:return this.neutral(e);case uP:return this.keyword(e);case Mg:return this.quoted(e);case fP:return this.afterquote(e);case hP:return this.number(e);case tE:return}};da.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=Mg;return}if(av.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};da.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=kp;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=kp,this.currentObject=this.stack.pop(),this.currentObject||(this.state=tE);return}};da.prototype.number=function(e){if(dP.test(e)){this.word+=e;return}if(av.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};da.prototype.quoted=function(e){if(e==='"'){this.state=fP;return}this.word+=e};da.prototype.keyword=function(e){if(GH.test(e)){this.word+=e;return}if(e==="["){var t=[];t.push(this.word),this.level++,this.root===null?this.root=t:this.currentObject.push(t),this.stack.push(this.currentObject),this.currentObject=t,this.state=kp;return}if(av.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};da.prototype.neutral=function(e){if(jH.test(e)){this.word=e,this.state=uP;return}if(e==='"'){this.word="",this.state=Mg;return}if(dP.test(e)){this.word=e,this.state=hP;return}if(av.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};da.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===tE)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function VH(e){var t=new da(e);return t.output()}function U4(e,t,r){Array.isArray(t)&&(r.unshift(t),t=null);var i=t?{}:e,n=r.reduce(function(s,o){return sh(o,s),s},i);t&&(e[t]=n)}function sh(e,t){if(!Array.isArray(e)){t[e]=!0;return}var r=e.shift();if(r==="PARAMETER"&&(r=e.shift()),e.length===1){if(Array.isArray(e[0])){t[r]={},sh(e[0],t[r]);return}t[r]=e[0];return}if(!e.length){t[r]=!0;return}if(r==="TOWGS84"){t[r]=e;return}if(r==="AXIS"){r in t||(t[r]=[]),t[r].push(e);return}Array.isArray(r)||(t[r]={});var i;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":t[r]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&sh(e[2],t[r]);return;case"SPHEROID":case"ELLIPSOID":t[r]={name:e[0],a:e[1],rf:e[2]},e.length===4&&sh(e[3],t[r]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":e[0]=["name",e[0]],U4(t,r,e);return;default:for(i=-1;++i<e.length;)if(!Array.isArray(e[i]))return sh(e,t[r]);return U4(t,r,e)}}var BH=.017453292519943295;function zH(e,t){var r=t[0],i=t[1];!(r in e)&&i in e&&(e[r]=e[i],t.length===3&&(e[r]=t[2](e[r])))}function Ds(e){return e*BH}function qH(e){if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var t="",r=0,i=e.AXIS.length;r<i;++r){var n=[e.AXIS[r][0].toLowerCase(),e.AXIS[r][1].toLowerCase()];n[0].indexOf("north")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="north"?t+="n":n[0].indexOf("south")!==-1||(n[0]==="y"||n[0]==="lat")&&n[1]==="south"?t+="s":n[0].indexOf("east")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="east"?t+="e":(n[0].indexOf("west")!==-1||(n[0]==="x"||n[0]==="lon")&&n[1]==="west")&&(t+="w")}t.length===2&&(t+="u"),t.length===3&&(e.axis=t)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var s=e.GEOGCS;e.type==="GEOGCS"&&(s=e),s&&(s.DATUM?e.datumCode=s.DATUM.name.toLowerCase():e.datumCode=s.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949")&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode.slice(-6)==="_ferro"&&(e.datumCode=e.datumCode.slice(0,-6)),e.datumCode.slice(-8)==="_jakarta"&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(e.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=s.DATUM.SPHEROID.a,e.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(e.datum_params=s.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a);function o(c){var f=e.to_meter||1;return c*f}var a=function(c){return zH(e,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Ds],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Ds],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Ds],["lat0","latitude_of_origin",Ds],["lat0","standard_parallel_1",Ds],["lat1","standard_parallel_1",Ds],["lat2","standard_parallel_2",Ds],["azimuth","Azimuth"],["alpha","azimuth",Ds],["srsCode","name"]];l.forEach(a),!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")?(e.lat0=Ds(e.lat1>0?90:-90),e.lat_ts=e.lat1):!e.lat_ts&&e.lat0&&e.projName==="Polar_Stereographic"&&(e.lat_ts=e.lat0,e.lat0=Ds(e.lat0>0?90:-90))}function pP(e){var t=VH(e),r=t.shift(),i=t.shift();t.unshift(["name",i]),t.unshift(["type",r]);var n={};return sh(t,n),qH(n),n}function Ni(e){var t=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?Ni[e]=Tw(arguments[1]):Ni[e]=pP(arguments[1]):Ni[e]=r}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(i){Array.isArray(i)?Ni.apply(t,i):Ni(i)});if(typeof e=="string"){if(e in Ni)return Ni[e]}else"EPSG"in e?Ni["EPSG:"+e.EPSG]=e:"ESRI"in e?Ni["ESRI:"+e.ESRI]=e:"IAU2000"in e?Ni["IAU2000:"+e.IAU2000]=e:console.log(e);return}}NH(Ni);function WH(e){return typeof e=="string"}function HH(e){return e in Ni}var YH=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function JH(e){return YH.some(function(t){return e.indexOf(t)>-1})}var KH=["3857","900913","3785","102113"];function ZH(e){var t=vl(e,"authority");if(t){var r=vl(t,"epsg");return r&&KH.indexOf(r)>-1}}function XH(e){var t=vl(e,"extension");if(t)return vl(t,"proj4")}function QH(e){return e[0]==="+"}function eY(e){if(WH(e)){if(HH(e))return Ni[e];if(JH(e)){var t=pP(e);if(ZH(t))return Ni["EPSG:3857"];var r=XH(t);return r?Tw(r):t}if(QH(e))return Tw(e)}else return e}function j4(e,t){e=e||{};var r,i;if(!t)return e;for(i in t)r=t[i],r!==void 0&&(e[i]=r);return e}function _o(e,t,r){var i=e*t;return r/Math.sqrt(1-i*i)}function Tm(e){return e<0?-1:1}function Se(e){return Math.abs(e)<=_r?e:e-Tm(e)*Lp}function bs(e,t,r){var i=e*r,n=.5*e;return i=Math.pow((1-i)/(1+i),n),Math.tan(.5*(de-t))/i}function Rp(e,t){for(var r=.5*e,i,n,s=de-2*Math.atan(t),o=0;o<=15;o++)if(i=e*Math.sin(s),n=de-2*Math.atan(t*Math.pow((1-i)/(1+i),r))-s,s+=n,Math.abs(n)<=1e-10)return s;return-9999}function tY(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=_o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function rY(e){var t=e.x,r=e.y;if(r*to>90&&r*to<-90&&t*to>180&&t*to<-180)return null;var i,n;if(Math.abs(Math.abs(r)-de)<=_e)return null;if(this.sphere)i=this.x0+this.a*this.k0*Se(t-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Mt+.5*r));else{var s=Math.sin(r),o=bs(this.e,r,s);i=this.x0+this.a*this.k0*Se(t-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return e.x=i,e.y=n,e}function iY(e){var t=e.x-this.x0,r=e.y-this.y0,i,n;if(this.sphere)n=de-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var s=Math.exp(-r/(this.a*this.k0));if(n=Rp(this.e,s),n===-9999)return null}return i=Se(this.long0+t/(this.a*this.k0)),e.x=i,e.y=n,e}var nY=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const sY={init:tY,forward:rY,inverse:iY,names:nY};function oY(){}function G4(e){return e}var aY=["longlat","identity"];const lY={init:oY,forward:G4,inverse:G4,names:aY};var cY=[sY,lY],Ny={},Ig=[];function mP(e,t){var r=Ig.length;return e.names?(Ig[r]=e,e.names.forEach(function(i){Ny[i.toLowerCase()]=r}),this):(console.log(t),!0)}function uY(e){if(!e)return!1;var t=e.toLowerCase();if(typeof Ny[t]<"u"&&Ig[Ny[t]])return Ig[Ny[t]]}function hY(){cY.forEach(mP)}const fY={start:hY,add:mP,get:uY};var He={};He.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};He.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};He.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};He.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};He.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};He.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};He.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};He.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};He.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};He.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};He.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};He.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};He.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};He.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};He.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};He.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};He.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};He.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};He.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};He.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};He.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};He.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};He.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};He.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};He.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};He.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};He.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};He.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};He.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};He.hough={a:6378270,rf:297,ellipseName:"Hough"};He.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};He.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};He.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};He.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};He.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};He.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};He.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};He.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};He.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};He.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};He.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};He.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var dY=He.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};He.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function pY(e,t,r,i){var n=e*e,s=t*t,o=(n-s)/n,a=0;i?(e*=1-o*(kH+o*(RH+o*DH)),n=e*e,o=0):a=Math.sqrt(o);var l=(n-s)/s;return{es:o,e:a,ep2:l}}function mY(e,t,r,i,n){if(!e){var s=vl(He,i);s||(s=dY),e=s.a,t=s.b,r=s.rf}return r&&!t&&(t=(1-1/r)*e),(r===0||Math.abs(e-t)<_e)&&(n=!0,t=e),{a:e,b:t,rf:r,sphere:n}}var Kr={};Kr.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};Kr.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};Kr.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};Kr.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};Kr.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};Kr.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};Kr.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};Kr.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"};Kr.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"};Kr.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"};Kr.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};Kr.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};Kr.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};Kr.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};Kr.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};Kr.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};Kr.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};Kr.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function yY(e,t,r,i,n,s,o){var a={};return e===void 0||e==="none"?a.datum_type=Ew:a.datum_type=PH,t&&(a.datum_params=t.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=Qc),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=eu,a.datum_params[3]*=zd,a.datum_params[4]*=zd,a.datum_params[5]*=zd,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=Th,a.grids=o),a.a=r,a.b=i,a.es=n,a.ep2=s,a}var yP={};function gY(e,t){var r=new DataView(t),i=_Y(r),n=wY(r,i),s=SY(r,n,i),o={header:n,subgrids:s};return yP[e]=o,o}function vY(e){if(e===void 0)return null;var t=e.split(",");return t.map(bY)}function bY(e){if(e.length===0)return null;var t=e[0]==="@";return t&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!t,grid:null,isNull:!0}:{name:e,mandatory:!t,grid:yP[e]||null,isNull:!1}}function oh(e){return e/3600*Math.PI/180}function _Y(e){var t=e.getInt32(8,!1);return t===11?!1:(t=e.getInt32(8,!0),t!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function wY(e,t){return{nFields:e.getInt32(8,t),nSubgridFields:e.getInt32(24,t),nSubgrids:e.getInt32(40,t),shiftType:Aw(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,t),fromSemiMinorAxis:e.getFloat64(136,t),toSemiMajorAxis:e.getFloat64(152,t),toSemiMinorAxis:e.getFloat64(168,t)}}function Aw(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(t,r)))}function SY(e,t,r){for(var i=176,n=[],s=0;s<t.nSubgrids;s++){var o=EY(e,i,r),a=TY(e,i,o,r),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);n.push({ll:[oh(o.lowerLongitude),oh(o.lowerLatitude)],del:[oh(o.longitudeInterval),oh(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:xY(a)}),i+=176+o.gridNodeCount*16}return n}function xY(e){return e.map(function(t){return[oh(t.longitudeShift),oh(t.latitudeShift)]})}function EY(e,t,r){return{name:Aw(e,t+8,t+16).trim(),parent:Aw(e,t+24,t+24+8).trim(),lowerLatitude:e.getFloat64(t+72,r),upperLatitude:e.getFloat64(t+88,r),lowerLongitude:e.getFloat64(t+104,r),upperLongitude:e.getFloat64(t+120,r),latitudeInterval:e.getFloat64(t+136,r),longitudeInterval:e.getFloat64(t+152,r),gridNodeCount:e.getInt32(t+168,r)}}function TY(e,t,r,i){for(var n=t+176,s=16,o=[],a=0;a<r.gridNodeCount;a++){var l={latitudeShift:e.getFloat32(n+a*s,i),longitudeShift:e.getFloat32(n+a*s+4,i),latitudeAccuracy:e.getFloat32(n+a*s+8,i),longitudeAccuracy:e.getFloat32(n+a*s+12,i)};o.push(l)}return o}function co(e,t){if(!(this instanceof co))return new co(e);t=t||function(c){if(c)throw c};var r=eY(e);if(typeof r!="object"){t("Could not parse to valid json: "+e);return}var i=co.projections.get(r.projName);if(!i){t("Could not get projection name from: "+e);return}if(r.datumCode&&r.datumCode!=="none"){var n=vl(Kr,r.datumCode);n&&(r.datum_params=r.datum_params||(n.towgs84?n.towgs84.split(","):null),r.ellps=n.ellipse,r.datumName=n.datumName?n.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var s=mY(r.a,r.b,r.rf,r.ellps,r.sphere),o=pY(s.a,s.b,s.rf,r.R_A),a=vY(r.nadgrids),l=r.datum||yY(r.datumCode,r.datum_params,s.a,s.b,o.es,o.ep2,a);j4(this,r),j4(this,i),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),t(null,this)}co.projections=fY;co.projections.start();function AY(e,t){return e.datum_type!==t.datum_type||e.a!==t.a||Math.abs(e.es-t.es)>5e-11?!1:e.datum_type===Qc?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]:e.datum_type===eu?e.datum_params[0]===t.datum_params[0]&&e.datum_params[1]===t.datum_params[1]&&e.datum_params[2]===t.datum_params[2]&&e.datum_params[3]===t.datum_params[3]&&e.datum_params[4]===t.datum_params[4]&&e.datum_params[5]===t.datum_params[5]&&e.datum_params[6]===t.datum_params[6]:!0}function gP(e,t,r){var i=e.x,n=e.y,s=e.z?e.z:0,o,a,l,c;if(n<-de&&n>-1.001*de)n=-de;else if(n>de&&n<1.001*de)n=de;else{if(n<-de)return{x:-1/0,y:-1/0,z:e.z};if(n>de)return{x:1/0,y:1/0,z:e.z}}return i>Math.PI&&(i-=2*Math.PI),a=Math.sin(n),c=Math.cos(n),l=a*a,o=r/Math.sqrt(1-t*l),{x:(o+s)*c*Math.cos(i),y:(o+s)*c*Math.sin(i),z:(o*(1-t)+s)*a}}function vP(e,t,r,i){var n=1e-12,s=n*n,o=30,a,l,c,f,d,p,y,g,_,w,x,T,S,v=e.x,M=e.y,O=e.z?e.z:0,P,R,k;if(a=Math.sqrt(v*v+M*M),l=Math.sqrt(v*v+M*M+O*O),a/r<n){if(P=0,l/r<n)return R=de,k=-i,{x:e.x,y:e.y,z:e.z}}else P=Math.atan2(M,v);c=O/l,f=a/l,d=1/Math.sqrt(1-t*(2-t)*f*f),g=f*(1-t)*d,_=c*d,S=0;do S++,y=r/Math.sqrt(1-t*_*_),k=a*g+O*_-y*(1-t*_*_),p=t*y/(y+k),d=1/Math.sqrt(1-p*(2-p)*f*f),w=f*(1-p)*d,x=c*d,T=x*g-w*_,g=w,_=x;while(T*T>s&&S<o);return R=Math.atan(x/Math.abs(w)),{x:P,y:R,z:k}}function MY(e,t,r){if(t===Qc)return{x:e.x+r[0],y:e.y+r[1],z:e.z+r[2]};if(t===eu){var i=r[0],n=r[1],s=r[2],o=r[3],a=r[4],l=r[5],c=r[6];return{x:c*(e.x-l*e.y+a*e.z)+i,y:c*(l*e.x+e.y-o*e.z)+n,z:c*(-a*e.x+o*e.y+e.z)+s}}}function IY(e,t,r){if(t===Qc)return{x:e.x-r[0],y:e.y-r[1],z:e.z-r[2]};if(t===eu){var i=r[0],n=r[1],s=r[2],o=r[3],a=r[4],l=r[5],c=r[6],f=(e.x-i)/c,d=(e.y-n)/c,p=(e.z-s)/c;return{x:f+l*d-a*p,y:-l*f+d+o*p,z:a*f-o*d+p}}}function p0(e){return e===Qc||e===eu}function OY(e,t,r){if(AY(e,t)||e.datum_type===Ew||t.datum_type===Ew)return r;var i=e.a,n=e.es;if(e.datum_type===Th){var s=V4(e,!1,r);if(s!==0)return;i=R4,n=D4}var o=t.a,a=t.b,l=t.es;if(t.datum_type===Th&&(o=R4,a=LH,l=D4),n===l&&i===o&&!p0(e.datum_type)&&!p0(t.datum_type))return r;if(r=gP(r,n,i),p0(e.datum_type)&&(r=MY(r,e.datum_type,e.datum_params)),p0(t.datum_type)&&(r=IY(r,t.datum_type,t.datum_params)),r=vP(r,l,o,a),t.datum_type===Th){var c=V4(t,!0,r);if(c!==0)return}return r}function V4(e,t,r){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var i={x:-r.x,y:r.y},n={x:Number.NaN,y:Number.NaN},s=[];e:for(var o=0;o<e.grids.length;o++){var a=e.grids[o];if(s.push(a.name),a.isNull){n=i;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,f=l.length;c<f;c++){var d=l[c],p=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-p,g=d.ll[1]-p,_=d.ll[0]+(d.lim[0]-1)*d.del[0]+p,w=d.ll[1]+(d.lim[1]-1)*d.del[1]+p;if(!(g>i.y||y>i.x||w<i.y||_<i.x)&&(n=$Y(i,t,d),!isNaN(n.x)))break e}}return isNaN(n.x)?(console.log("Failed to find a grid shift table for location '"+-i.x*to+" "+i.y*to+" tried: '"+s+"'"),-1):(r.x=-n.x,r.y=n.y,0)}function $Y(e,t,r){var i={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return i;var n={x:e.x,y:e.y};n.x-=r.ll[0],n.y-=r.ll[1],n.x=Se(n.x-Math.PI)+Math.PI;var s=B4(n,r);if(t){if(isNaN(s.x))return i;s.x=n.x-s.x,s.y=n.y-s.y;var o=9,a=1e-12,l,c;do{if(c=B4(s,r),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:n.x-(c.x+s.x),y:n.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),i;i.x=Se(s.x+r.ll[0]),i.y=s.y+r.ll[1]}else isNaN(s.x)||(i.x=e.x+s.x,i.y=e.y+s.y);return i}function B4(e,t){var r={x:e.x/t.del[0],y:e.y/t.del[1]},i={x:Math.floor(r.x),y:Math.floor(r.y)},n={x:r.x-1*i.x,y:r.y-1*i.y},s={x:Number.NaN,y:Number.NaN},o;if(i.x<0||i.x>=t.lim[0]||i.y<0||i.y>=t.lim[1])return s;o=i.y*t.lim[0]+i.x;var a={x:t.cvs[o][0],y:t.cvs[o][1]};o++;var l={x:t.cvs[o][0],y:t.cvs[o][1]};o+=t.lim[0];var c={x:t.cvs[o][0],y:t.cvs[o][1]};o--;var f={x:t.cvs[o][0],y:t.cvs[o][1]},d=n.x*n.y,p=n.x*(1-n.y),y=(1-n.x)*(1-n.y),g=(1-n.x)*n.y;return s.x=y*a.x+p*l.x+g*f.x+d*c.x,s.y=y*a.y+p*l.y+g*f.y+d*c.y,s}function z4(e,t,r){var i=r.x,n=r.y,s=r.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(t&&l===2&&r.z===void 0))switch(l===0?(o=i,"ew".indexOf(e.axis[l])!==-1?a="x":a="y"):l===1?(o=n,"ns".indexOf(e.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),e.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":r[a]!==void 0&&(c.z=o);break;case"d":r[a]!==void 0&&(c.z=-o);break;default:return null}return c}function bP(e){var t={x:e[0],y:e[1]};return e.length>2&&(t.z=e[2]),e.length>3&&(t.m=e[3]),t}function CY(e){q4(e.x),q4(e.y)}function q4(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function NY(e,t){return(e.datum.datum_type===Qc||e.datum.datum_type===eu||e.datum.datum_type===Th)&&t.datumCode!=="WGS84"||(t.datum.datum_type===Qc||t.datum.datum_type===eu||t.datum.datum_type===Th)&&e.datumCode!=="WGS84"}function Og(e,t,r,i){var n;Array.isArray(r)?r=bP(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var s=r.z!==void 0;if(CY(r),e.datum&&t.datum&&NY(e,t)&&(n=new co("WGS84"),r=Og(e,n,r,i),e=n),i&&e.axis!=="enu"&&(r=z4(e,!1,r)),e.projName==="longlat")r={x:r.x*si,y:r.y*si,z:r.z||0};else if(e.to_meter&&(r={x:r.x*e.to_meter,y:r.y*e.to_meter,z:r.z||0}),r=e.inverse(r),!r)return;if(e.from_greenwich&&(r.x+=e.from_greenwich),r=OY(e.datum,t.datum,r),!!r)return t.from_greenwich&&(r={x:r.x-t.from_greenwich,y:r.y,z:r.z||0}),t.projName==="longlat"?r={x:r.x*to,y:r.y*to,z:r.z||0}:(r=t.forward(r),t.to_meter&&(r={x:r.x/t.to_meter,y:r.y/t.to_meter,z:r.z||0})),i&&t.axis!=="enu"?z4(t,!0,r):(r&&!s&&delete r.z,r)}var W4=co("WGS84");function Lb(e,t,r,i){var n,s,o;return Array.isArray(r)?(n=Og(e,t,r,i)||{x:NaN,y:NaN},r.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"?typeof n.z=="number"?[n.x,n.y,n.z].concat(r.slice(3)):[n.x,n.y,r[2]].concat(r.slice(3)):[n.x,n.y].concat(r.slice(2)):[n.x,n.y]):(s=Og(e,t,r,i),o=Object.keys(r),o.length===2||o.forEach(function(a){if(typeof e.name<"u"&&e.name==="geocent"||typeof t.name<"u"&&t.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=r[a]}),s)}function H4(e){return e instanceof co?e:e.oProj?e.oProj:co(e)}function Ut(e,t,r){e=H4(e);var i=!1,n;return typeof t>"u"?(t=e,e=W4,i=!0):(typeof t.x<"u"||Array.isArray(t))&&(r=t,t=e,e=W4,i=!0),t=H4(t),r?Lb(e,t,r):(n={forward:function(s,o){return Lb(e,t,s,o)},inverse:function(s,o){return Lb(t,e,s,o)}},i&&(n.oProj=t),n)}var Y4=6,_P="AJSAJS",wP="AFAFAF",ah=65,Wi=73,Rn=79,Id=86,Od=90;const PY={forward:SP,inverse:LY,toPoint:xP};function SP(e,t){return t=t||5,DY(kY({lat:e[1],lon:e[0]}),t)}function LY(e){var t=rE(TP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat,t.lon,t.lat]:[t.left,t.bottom,t.right,t.top]}function xP(e){var t=rE(TP(e.toUpperCase()));return t.lat&&t.lon?[t.lon,t.lat]:[(t.left+t.right)/2,(t.top+t.bottom)/2]}function kb(e){return e*(Math.PI/180)}function J4(e){return 180*(e/Math.PI)}function kY(e){var t=e.lat,r=e.lon,i=6378137,n=.00669438,s=.9996,o,a,l,c,f,d,p,y=kb(t),g=kb(r),_,w;w=Math.floor((r+180)/6)+1,r===180&&(w=60),t>=56&&t<64&&r>=3&&r<12&&(w=32),t>=72&&t<84&&(r>=0&&r<9?w=31:r>=9&&r<21?w=33:r>=21&&r<33?w=35:r>=33&&r<42&&(w=37)),o=(w-1)*6-180+3,_=kb(o),a=n/(1-n),l=i/Math.sqrt(1-n*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),f=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(g-_),p=i*((1-n/4-3*n*n/64-5*n*n*n/256)*y-(3*n/8+3*n*n/32+45*n*n*n/1024)*Math.sin(2*y)+(15*n*n/256+45*n*n*n/1024)*Math.sin(4*y)-35*n*n*n/3072*Math.sin(6*y));var x=s*l*(d+(1-c+f)*d*d*d/6+(5-18*c+c*c+72*f-58*a)*d*d*d*d*d/120)+5e5,T=s*(p+l*Math.tan(y)*(d*d/2+(5-c+9*f+4*f*f)*d*d*d*d/24+(61-58*c+c*c+600*f-330*a)*d*d*d*d*d*d/720));return t<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(x),zoneNumber:w,zoneLetter:RY(t)}}function rE(e){var t=e.northing,r=e.easting,i=e.zoneLetter,n=e.zoneNumber;if(n<0||n>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),f,d,p,y,g,_,w,x,T,S=r-5e5,v=t;i<"N"&&(v-=1e7),w=(n-1)*6-180+3,l=a/(1-a),_=v/s,x=_/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),T=x+(3*c/2-27*c*c*c/32)*Math.sin(2*x)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*x)+151*c*c*c/96*Math.sin(6*x),f=o/Math.sqrt(1-a*Math.sin(T)*Math.sin(T)),d=Math.tan(T)*Math.tan(T),p=l*Math.cos(T)*Math.cos(T),y=o*(1-a)/Math.pow(1-a*Math.sin(T)*Math.sin(T),1.5),g=S/(f*s);var M=T-f*Math.tan(T)/y*(g*g/2-(5+3*d+10*p-4*p*p-9*l)*g*g*g*g/24+(61+90*d+298*p+45*d*d-252*l-3*p*p)*g*g*g*g*g*g/720);M=J4(M);var O=(g-(1+2*d+p)*g*g*g/6+(5-2*p+28*d-3*p*p+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(T);O=w+J4(O);var P;if(e.accuracy){var R=rE({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});P={top:R.lat,right:R.lon,bottom:M,left:O}}else P={lat:M,lon:O};return P}function RY(e){var t="Z";return 84>=e&&e>=72?t="X":72>e&&e>=64?t="W":64>e&&e>=56?t="V":56>e&&e>=48?t="U":48>e&&e>=40?t="T":40>e&&e>=32?t="S":32>e&&e>=24?t="R":24>e&&e>=16?t="Q":16>e&&e>=8?t="P":8>e&&e>=0?t="N":0>e&&e>=-8?t="M":-8>e&&e>=-16?t="L":-16>e&&e>=-24?t="K":-24>e&&e>=-32?t="J":-32>e&&e>=-40?t="H":-40>e&&e>=-48?t="G":-48>e&&e>=-56?t="F":-56>e&&e>=-64?t="E":-64>e&&e>=-72?t="D":-72>e&&e>=-80&&(t="C"),t}function DY(e,t){var r="00000"+e.easting,i="00000"+e.northing;return e.zoneNumber+e.zoneLetter+FY(e.easting,e.northing,e.zoneNumber)+r.substr(r.length-5,t)+i.substr(i.length-5,t)}function FY(e,t,r){var i=EP(r),n=Math.floor(e/1e5),s=Math.floor(t/1e5)%20;return UY(n,s,i)}function EP(e){var t=e%Y4;return t===0&&(t=Y4),t}function UY(e,t,r){var i=r-1,n=_P.charCodeAt(i),s=wP.charCodeAt(i),o=n+e-1,a=s+t,l=!1;o>Od&&(o=o-Od+ah-1,l=!0),(o===Wi||n<Wi&&o>Wi||(o>Wi||n<Wi)&&l)&&o++,(o===Rn||n<Rn&&o>Rn||(o>Rn||n<Rn)&&l)&&(o++,o===Wi&&o++),o>Od&&(o=o-Od+ah-1),a>Id?(a=a-Id+ah-1,l=!0):l=!1,(a===Wi||s<Wi&&a>Wi||(a>Wi||s<Wi)&&l)&&a++,(a===Rn||s<Rn&&a>Rn||(a>Rn||s<Rn)&&l)&&(a++,a===Wi&&a++),a>Id&&(a=a-Id+ah-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function TP(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var t=e.length,r=null,i="",n,s=0;!/[A-Z]/.test(n=e.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+e;i+=n,s++}var o=parseInt(i,10);if(s===0||s+3>t)throw"MGRSPoint bad conversion from: "+e;var a=e.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+e;r=e.substring(s,s+=2);for(var l=EP(o),c=jY(r.charAt(0),l),f=GY(r.charAt(1),l);f<VY(a);)f+=2e6;var d=t-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var p=d/2,y=0,g=0,_,w,x,T,S;return p>0&&(_=1e5/Math.pow(10,p),w=e.substring(s,s+p),y=parseFloat(w)*_,x=e.substring(s+p),g=parseFloat(x)*_),T=y+c,S=g+f,{easting:T,northing:S,zoneLetter:a,zoneNumber:o,accuracy:_}}function jY(e,t){for(var r=_P.charCodeAt(t-1),i=1e5,n=!1;r!==e.charCodeAt(0);){if(r++,r===Wi&&r++,r===Rn&&r++,r>Od){if(n)throw"Bad character: "+e;r=ah,n=!0}i+=1e5}return i}function GY(e,t){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var r=wP.charCodeAt(t-1),i=0,n=!1;r!==e.charCodeAt(0);){if(r++,r===Wi&&r++,r===Rn&&r++,r>Id){if(n)throw"Bad character: "+e;r=ah,n=!0}i+=1e5}return i}function VY(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0)return t;throw"Invalid zone letter: "+e}function zh(e,t,r){if(!(this instanceof zh))return new zh(e,t,r);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof t>"u"){var i=e.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=e,this.y=t,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}zh.fromMGRS=function(e){return new zh(xP(e))};zh.prototype.toMGRS=function(e){return SP([this.x,this.y],e)};var BY=1,zY=.25,K4=.046875,Z4=.01953125,X4=.01068115234375,qY=.75,WY=.46875,HY=.013020833333333334,YY=.007120768229166667,JY=.3645833333333333,KY=.005696614583333333,ZY=.3076171875;function iE(e){var t=[];t[0]=BY-e*(zY+e*(K4+e*(Z4+e*X4))),t[1]=e*(qY-e*(K4+e*(Z4+e*X4)));var r=e*e;return t[2]=r*(WY-e*(HY+e*YY)),r*=e,t[3]=r*(JY-e*KY),t[4]=r*e*ZY,t}function Nf(e,t,r,i){return r*=t,t*=t,i[0]*e-r*(i[1]+t*(i[2]+t*(i[3]+t*i[4])))}var XY=20;function nE(e,t,r){for(var i=1/(1-t),n=e,s=XY;s;--s){var o=Math.sin(n),a=1-t*o*o;if(a=(Nf(n,o,Math.cos(n),r)-e)*(a*Math.sqrt(a))*i,n-=a,Math.abs(a)<_e)return n}return n}function QY(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=iE(this.es),this.ml0=Nf(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function eJ(e){var t=e.x,r=e.y,i=Se(t-this.long0),n,s,o,a=Math.sin(r),l=Math.cos(r);if(this.es){var f=l*i,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),y=Math.pow(p,2),g=Math.abs(l)>_e?Math.tan(r):0,_=Math.pow(g,2),w=Math.pow(_,2);n=1-this.es*Math.pow(a,2),f=f/Math.sqrt(n);var x=Nf(r,a,l,this.en);s=this.a*(this.k0*f*(1+d/6*(1-_+p+d/20*(5-18*_+w+14*p-58*_*p+d/42*(61+179*w-w*_-479*_)))))+this.x0,o=this.a*(this.k0*(x-this.ml0+a*i*f/2*(1+d/12*(5-_+9*p+4*y+d/30*(61+w-58*_+270*p-330*_*p+d/56*(1385+543*w-w*_-3111*_))))))+this.y0}else{var c=l*Math.sin(i);if(Math.abs(Math.abs(c)-1)<_e)return 93;if(s=.5*this.a*this.k0*Math.log((1+c)/(1-c))+this.x0,o=l*Math.cos(i)/Math.sqrt(1-Math.pow(c,2)),c=Math.abs(o),c>=1){if(c-1>_e)return 93;o=0}else o=Math.acos(o);r<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return e.x=s,e.y=o,e}function tJ(e){var t,r,i,n,s=(e.x-this.x0)*(1/this.a),o=(e.y-this.y0)*(1/this.a);if(this.es)if(t=this.ml0+o/this.k0,r=nE(t,this.es,this.en),Math.abs(r)<de){var d=Math.sin(r),p=Math.cos(r),y=Math.abs(p)>_e?Math.tan(r):0,g=this.ep2*Math.pow(p,2),_=Math.pow(g,2),w=Math.pow(y,2),x=Math.pow(w,2);t=1-this.es*Math.pow(d,2);var T=s*Math.sqrt(t)/this.k0,S=Math.pow(T,2);t=t*y,i=r-t*S/(1-this.es)*.5*(1-S/12*(5+3*w-9*g*w+g-4*_-S/30*(61+90*w-252*g*w+45*x+46*g-S/56*(1385+3633*w+4095*x+1574*x*w)))),n=Se(this.long0+T*(1-S/6*(1+2*w+g-S/20*(5+28*w+24*x+8*g*w+6*g-S/42*(61+662*w+1320*x+720*x*w))))/p)}else i=de*Tm(o),n=0;else{var a=Math.exp(s/this.k0),l=.5*(a-1/a),c=this.lat0+o/this.k0,f=Math.cos(c);t=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(l,2))),i=Math.asin(t),o<0&&(i=-i),l===0&&f===0?n=0:n=Se(Math.atan2(l,f)+this.long0)}return e.x=n,e.y=i,e}var rJ=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Py={init:QY,forward:eJ,inverse:tJ,names:rJ};function AP(e){var t=Math.exp(e);return t=(t-1/t)/2,t}function Zi(e,t){e=Math.abs(e),t=Math.abs(t);var r=Math.max(e,t),i=Math.min(e,t)/(r||1);return r*Math.sqrt(1+Math.pow(i,2))}function iJ(e){var t=1+e,r=t-1;return r===0?e:e*Math.log(t)/r}function nJ(e){var t=Math.abs(e);return t=iJ(t*(1+t/(Zi(1,t)+1))),e<0?-t:t}function sE(e,t){for(var r=2*Math.cos(2*t),i=e.length-1,n=e[i],s=0,o;--i>=0;)o=-s+r*n+e[i],s=n,n=o;return t+o*Math.sin(2*t)}function sJ(e,t){for(var r=2*Math.cos(t),i=e.length-1,n=e[i],s=0,o;--i>=0;)o=-s+r*n+e[i],s=n,n=o;return Math.sin(t)*o}function oJ(e){var t=Math.exp(e);return t=(t+1/t)/2,t}function MP(e,t,r){for(var i=Math.sin(t),n=Math.cos(t),s=AP(r),o=oJ(r),a=2*n*o,l=-2*i*s,c=e.length-1,f=e[c],d=0,p=0,y=0,g,_;--c>=0;)g=p,_=d,p=f,d=y,f=-g+a*p-l*d+e[c],y=-_+l*p+a*d;return a=i*o,l=n*s,[a*f-l*y,a*y+l*f]}function aJ(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Py.init.apply(this),this.forward=Py.forward,this.inverse=Py.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),t=e/(2-e),r=t;this.cgb[0]=t*(2+t*(-2/3+t*(-2+t*(116/45+t*(26/45+t*(-2854/675)))))),this.cbg[0]=t*(-2+t*(2/3+t*(4/3+t*(-82/45+t*(32/45+t*(4642/4725)))))),r=r*t,this.cgb[1]=r*(7/3+t*(-8/5+t*(-227/45+t*(2704/315+t*(2323/945))))),this.cbg[1]=r*(5/3+t*(-16/15+t*(-13/9+t*(904/315+t*(-1522/945))))),r=r*t,this.cgb[2]=r*(56/15+t*(-136/35+t*(-1262/105+t*(73814/2835)))),this.cbg[2]=r*(-26/15+t*(34/21+t*(8/5+t*(-12686/2835)))),r=r*t,this.cgb[3]=r*(4279/630+t*(-332/35+t*(-399572/14175))),this.cbg[3]=r*(1237/630+t*(-12/5+t*(-24832/14175))),r=r*t,this.cgb[4]=r*(4174/315+t*(-144838/6237)),this.cbg[4]=r*(-734/315+t*(109598/31185)),r=r*t,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(t,2),this.Qn=this.k0/(1+t)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=t*(-.5+t*(2/3+t*(-37/96+t*(1/360+t*(81/512+t*(-96199/604800)))))),this.gtu[0]=t*(.5+t*(-2/3+t*(5/16+t*(41/180+t*(-127/288+t*(7891/37800)))))),this.utg[1]=r*(-1/48+t*(-1/15+t*(437/1440+t*(-46/105+t*(1118711/3870720))))),this.gtu[1]=r*(13/48+t*(-3/5+t*(557/1440+t*(281/630+t*(-1983433/1935360))))),r=r*t,this.utg[2]=r*(-17/480+t*(37/840+t*(209/4480+t*(-5569/90720)))),this.gtu[2]=r*(61/240+t*(-103/140+t*(15061/26880+t*(167603/181440)))),r=r*t,this.utg[3]=r*(-4397/161280+t*(11/504+t*(830251/7257600))),this.gtu[3]=r*(49561/161280+t*(-179/168+t*(6601661/7257600))),r=r*t,this.utg[4]=r*(-4583/161280+t*(108847/3991680)),this.gtu[4]=r*(34729/80640+t*(-3418889/1995840)),r=r*t,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var i=sE(this.cbg,this.lat0);this.Zb=-this.Qn*(i+sJ(this.gtu,2*i))}function lJ(e){var t=Se(e.x-this.long0),r=e.y;r=sE(this.cbg,r);var i=Math.sin(r),n=Math.cos(r),s=Math.sin(t),o=Math.cos(t);r=Math.atan2(i,o*n),t=Math.atan2(s*n,Zi(i,n*o)),t=nJ(Math.tan(t));var a=MP(this.gtu,2*r,2*t);r=r+a[0],t=t+a[1];var l,c;return Math.abs(t)<=2.623395162778?(l=this.a*(this.Qn*t)+this.x0,c=this.a*(this.Qn*r+this.Zb)+this.y0):(l=1/0,c=1/0),e.x=l,e.y=c,e}function cJ(e){var t=(e.x-this.x0)*(1/this.a),r=(e.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,t=t/this.Qn;var i,n;if(Math.abs(t)<=2.623395162778){var s=MP(this.utg,2*r,2*t);r=r+s[0],t=t+s[1],t=Math.atan(AP(t));var o=Math.sin(r),a=Math.cos(r),l=Math.sin(t),c=Math.cos(t);r=Math.atan2(o*c,Zi(l,c*a)),t=Math.atan2(l,c*a),i=Se(t+this.long0),n=sE(this.cgb,r)}else i=1/0,n=1/0;return e.x=i,e.y=n,e}var uJ=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Ly={init:aJ,forward:lJ,inverse:cJ,names:uJ};function hJ(e,t){if(e===void 0){if(e=Math.floor((Se(t)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var fJ="etmerc";function dJ(){var e=hJ(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*si,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ly.init.apply(this),this.forward=Ly.forward,this.inverse=Ly.inverse}var pJ=["Universal Transverse Mercator System","utm"];const mJ={init:dJ,names:pJ,dependsOn:fJ};function oE(e,t){return Math.pow((1-e)/(1+e),t)}var yJ=20;function gJ(){var e=Math.sin(this.lat0),t=Math.cos(this.lat0);t*=t,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*t*t/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Mt)/(Math.pow(Math.tan(.5*this.lat0+Mt),this.C)*oE(this.e*e,this.ratexp))}function vJ(e){var t=e.x,r=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+Mt),this.C)*oE(this.e*Math.sin(r),this.ratexp))-de,e.x=this.C*t,e}function bJ(e){for(var t=1e-14,r=e.x/this.C,i=e.y,n=Math.pow(Math.tan(.5*i+Mt)/this.K,1/this.C),s=yJ;s>0&&(i=2*Math.atan(n*oE(this.e*Math.sin(e.y),-.5*this.e))-de,!(Math.abs(i-e.y)<t));--s)e.y=i;return s?(e.x=r,e.y=i,e):null}var _J=["gauss"];const aE={init:gJ,forward:vJ,inverse:bJ,names:_J};function wJ(){aE.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function SJ(e){var t,r,i,n;return e.x=Se(e.x-this.long0),aE.forward.apply(this,[e]),t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),n=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*r*i),e.x=n*r*Math.sin(e.x),e.y=n*(this.cosc0*t-this.sinc0*r*i),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function xJ(e){var t,r,i,n,s;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,s=Zi(e.x,e.y)){var o=2*Math.atan2(s,this.R2);t=Math.sin(o),r=Math.cos(o),n=Math.asin(r*this.sinc0+e.y*t*this.cosc0/s),i=Math.atan2(e.x*t,s*this.cosc0*r-e.y*this.sinc0*t)}else n=this.phic0,i=0;return e.x=i,e.y=n,aE.inverse.apply(this,[e]),e.x=Se(e.x+this.long0),e}var EJ=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const TJ={init:wJ,forward:SJ,inverse:xJ,names:EJ};function AJ(e,t,r){return t*=r,Math.tan(.5*(de+e))*Math.pow((1-t)/(1+t),.5*r)}function MJ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&(this.k0=.5*(1+Tm(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=_e&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=_e&&Math.abs(Math.cos(this.lat_ts))>_e&&(this.k0=.5*this.cons*_o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/bs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=_o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-de,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function IJ(e){var t=e.x,r=e.y,i=Math.sin(r),n=Math.cos(r),s,o,a,l,c,f,d=Se(t-this.long0);return Math.abs(Math.abs(t-this.long0)-Math.PI)<=_e&&Math.abs(r+this.lat0)<=_e?(e.x=NaN,e.y=NaN,e):this.sphere?(s=2*this.k0/(1+this.sinlat0*i+this.coslat0*n*Math.cos(d)),e.x=this.a*s*n*Math.sin(d)+this.x0,e.y=this.a*s*(this.coslat0*i-this.sinlat0*n*Math.cos(d))+this.y0,e):(o=2*Math.atan(this.ssfn_(r,i,this.e))-de,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=_e?(c=bs(this.e,r*this.con,this.con*i),f=2*this.a*this.k0*c/this.cons,e.x=this.x0+f*Math.sin(t-this.long0),e.y=this.y0-this.con*f*Math.cos(t-this.long0),e):(Math.abs(this.sinlat0)<_e?(s=2*this.a*this.k0/(1+l*Math.cos(d)),e.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),e.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),e.x=s*l*Math.sin(d)+this.x0,e))}function OJ(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,n,s,o=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return t=this.long0,r=this.lat0,o<=_e?(e.x=t,e.y=r,e):(r=Math.asin(Math.cos(a)*this.sinlat0+e.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<_e?this.lat0>0?t=Se(this.long0+Math.atan2(e.x,-1*e.y)):t=Se(this.long0+Math.atan2(e.x,e.y)):t=Se(this.long0+Math.atan2(e.x*Math.sin(a),o*this.coslat0*Math.cos(a)-e.y*this.sinlat0*Math.sin(a))),e.x=t,e.y=r,e)}else if(Math.abs(this.coslat0)<=_e){if(o<=_e)return r=this.lat0,t=this.long0,e.x=t,e.y=r,e;e.x*=this.con,e.y*=this.con,i=o*this.cons/(2*this.a*this.k0),r=this.con*Rp(this.e,i),t=this.con*Se(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else n=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),t=this.long0,o<=_e?s=this.X0:(s=Math.asin(Math.cos(n)*this.sinX0+e.y*Math.sin(n)*this.cosX0/o),t=Se(this.long0+Math.atan2(e.x*Math.sin(n),o*this.cosX0*Math.cos(n)-e.y*this.sinX0*Math.sin(n)))),r=-1*Rp(this.e,Math.tan(.5*(de+s)));return e.x=t,e.y=r,e}var $J=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const CJ={init:MJ,forward:IJ,inverse:OJ,names:$J,ssfn_:AJ};function NJ(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e),r=this.a,i=this.rf,n=1/i,s=2*n-Math.pow(n,2),o=this.e=Math.sqrt(s);this.R=this.k0*r*Math.sqrt(1-s)/(1-s*Math.pow(t,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(t/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+e/2)),c=Math.log((1+o*t)/(1-o*t));this.K=a-this.alpha*l+this.alpha*o/2*c}function PJ(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),i=-this.alpha*(t+r)+this.K,n=2*(Math.atan(Math.exp(i))-Math.PI/4),s=this.alpha*(e.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(n)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(n)-Math.sin(this.b0)*Math.cos(n)*Math.cos(s));return e.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,e.x=this.R*o+this.x0,e}function LJ(e){for(var t=e.x-this.x0,r=e.y-this.y0,i=t/this.R,n=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(i)),o=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(n))),a=this.lambda0+o/this.alpha,l=0,c=s,f=-1e3,d=0;Math.abs(c-f)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),f=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return e.x=a,e.y=c,e}var kJ=["somerc"];const RJ={init:NJ,forward:PJ,inverse:LJ,names:kJ};var Yu=1e-7;function DJ(e){var t=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof e.PROJECTION=="object"?Object.keys(e.PROJECTION)[0]:e.PROJECTION;return"no_uoff"in e||"no_off"in e||t.indexOf(r)!==-1}function FJ(){var e,t,r,i,n,s,o,a,l,c,f=0,d,p=0,y=0,g=0,_=0,w=0,x=0;this.no_off=DJ(this),this.no_rot="no_rot"in this;var T=!1;"alpha"in this&&(T=!0);var S=!1;if("rectified_grid_angle"in this&&(S=!0),T&&(x=this.alpha),S&&(f=this.rectified_grid_angle*si),T||S)p=this.longc;else if(y=this.long1,_=this.lat1,g=this.long2,w=this.lat2,Math.abs(_-w)<=Yu||(e=Math.abs(_))<=Yu||Math.abs(e-de)<=Yu||Math.abs(Math.abs(this.lat0)-de)<=Yu||Math.abs(Math.abs(w)-de)<=Yu)throw new Error;var v=1-this.es;t=Math.sqrt(v),Math.abs(this.lat0)>_e?(a=Math.sin(this.lat0),r=Math.cos(this.lat0),e=1-this.es*a*a,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/v),this.A=this.B*this.k0*t/e,i=this.B*t/(r*Math.sqrt(e)),n=i*i-1,n<=0?n=0:(n=Math.sqrt(n),this.lat0<0&&(n=-n)),this.E=n+=i,this.E*=Math.pow(bs(this.e,this.lat0,a),this.B)):(this.B=1/t,this.A=this.k0,this.E=i=n=1),T||S?(T?(d=Math.asin(Math.sin(x)/i),S||(f=x)):(d=f,x=Math.asin(i*Math.sin(d))),this.lam0=p-Math.asin(.5*(n-1/n)*Math.tan(d))/this.B):(s=Math.pow(bs(this.e,_,Math.sin(_)),this.B),o=Math.pow(bs(this.e,w,Math.sin(w)),this.B),n=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),e=y-g,e<-Math.pi?g-=Lp:e>Math.pi&&(g+=Lp),this.lam0=Se(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B),d=Math.atan(2*Math.sin(this.B*Se(y-this.lam0))/(n-1/n)),f=x=Math.asin(i*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(i*i-1)/Math.cos(x))),this.lat0<0&&(this.u_0=-this.u_0)),n=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Mt-n)),this.v_pole_s=this.ArB*Math.log(Math.tan(Mt+n))}function UJ(e){var t={},r,i,n,s,o,a,l,c;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-de)>_e){if(o=this.E/Math.pow(bs(this.e,e.y,Math.sin(e.y)),this.B),a=1/o,r=.5*(o-a),i=.5*(o+a),s=Math.sin(this.B*e.x),n=(r*this.singam-s*this.cosgam)/i,Math.abs(Math.abs(n)-1)<_e)throw new Error;c=.5*this.ArB*Math.log((1-n)/(1+n)),a=Math.cos(this.B*e.x),Math.abs(a)<Yu?l=this.A*e.x:l=this.ArB*Math.atan2(r*this.cosgam+s*this.singam,a)}else c=e.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*e.y;return this.no_rot?(t.x=l,t.y=c):(l-=this.u_0,t.x=c*this.cosrot+l*this.sinrot,t.y=l*this.cosrot-c*this.sinrot),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function jJ(e){var t,r,i,n,s,o,a,l={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(r=e.y,t=e.x):(r=e.x*this.cosrot-e.y*this.sinrot,t=e.y*this.cosrot+e.x*this.sinrot+this.u_0),i=Math.exp(-this.BrA*r),n=.5*(i-1/i),s=.5*(i+1/i),o=Math.sin(this.BrA*t),a=(o*this.cosgam+n*this.singam)/s,Math.abs(Math.abs(a)-1)<_e)l.x=0,l.y=a<0?-de:de;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Rp(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(n*this.cosgam-o*this.singam,Math.cos(this.BrA*t))}return l.x+=this.lam0,l}var GJ=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const VJ={init:FJ,forward:UJ,inverse:jJ,names:GJ};function BJ(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<_e)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1),r=Math.cos(this.lat1),i=_o(this.e,t,r),n=bs(this.e,this.lat1,t),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=_o(this.e,s,o),l=bs(this.e,this.lat2,s),c=bs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>_e?this.ns=Math.log(i/a)/Math.log(n/l):this.ns=t,isNaN(this.ns)&&(this.ns=t),this.f0=i/(this.ns*Math.pow(n,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function zJ(e){var t=e.x,r=e.y;Math.abs(2*Math.abs(r)-Math.PI)<=_e&&(r=Tm(r)*(de-2*_e));var i=Math.abs(Math.abs(r)-de),n,s;if(i>_e)n=bs(this.e,r,Math.sin(r)),s=this.a*this.f0*Math.pow(n,this.ns);else{if(i=r*this.ns,i<=0)return null;s=0}var o=this.ns*Se(t-this.long0);return e.x=this.k0*(s*Math.sin(o))+this.x0,e.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,e}function qJ(e){var t,r,i,n,s,o=(e.x-this.x0)/this.k0,a=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(t=Math.sqrt(o*o+a*a),r=1):(t=-Math.sqrt(o*o+a*a),r=-1);var l=0;if(t!==0&&(l=Math.atan2(r*o,r*a)),t!==0||this.ns>0){if(r=1/this.ns,i=Math.pow(t/(this.a*this.f0),r),n=Rp(this.e,i),n===-9999)return null}else n=-de;return s=Se(l/this.ns+this.long0),e.x=s,e.y=n,e}var WJ=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const HJ={init:BJ,forward:zJ,inverse:qJ,names:WJ};function YJ(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function JJ(e){var t,r,i,n,s,o,a,l=e.x,c=e.y,f=Se(l-this.long0);return t=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/t)-this.s45),i=-f*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),s=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(n)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),e.y=a*Math.cos(o)/1,e.x=a*Math.sin(o)/1,this.czech||(e.y*=-1,e.x*=-1),e}function KJ(e){var t,r,i,n,s,o,a,l,c=e.x;e.x=e.y,e.y=c,this.czech||(e.y*=-1,e.x*=-1),o=Math.sqrt(e.x*e.x+e.y*e.y),s=Math.atan2(e.y,e.x),n=s/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),t=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(n)),r=Math.asin(Math.cos(i)*Math.sin(n)/Math.cos(t)),e.x=this.long0-r/this.alfa,a=t,l=0;var f=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-e.y)<1e-10&&(l=1),a=e.y,f+=1;while(l===0&&f<15);return f>=15?null:e}var ZJ=["Krovak","krovak"];const XJ={init:YJ,forward:JJ,inverse:KJ,names:ZJ};function Fi(e,t,r,i,n){return e*n-t*Math.sin(2*n)+r*Math.sin(4*n)-i*Math.sin(6*n)}function Am(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function Mm(e){return .375*e*(1+.25*e*(1+.46875*e))}function Im(e){return .05859375*e*e*(1+.75*e)}function Om(e){return e*e*e*(35/3072)}function qh(e,t,r){var i=t*r;return e/Math.sqrt(1-i*i)}function Ml(e){return Math.abs(e)<de?e:e-Tm(e)*Math.PI}function $g(e,t,r,i,n){var s,o;s=e/t;for(var a=0;a<15;a++)if(o=(e-(t*s-r*Math.sin(2*s)+i*Math.sin(4*s)-n*Math.sin(6*s)))/(t-2*r*Math.cos(2*s)+4*i*Math.cos(4*s)-6*n*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function QJ(){this.sphere||(this.e0=Am(this.es),this.e1=Mm(this.es),this.e2=Im(this.es),this.e3=Om(this.es),this.ml0=this.a*Fi(this.e0,this.e1,this.e2,this.e3,this.lat0))}function eK(e){var t,r,i=e.x,n=e.y;if(i=Se(i-this.long0),this.sphere)t=this.a*Math.asin(Math.cos(n)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0);else{var s=Math.sin(n),o=Math.cos(n),a=qh(this.a,this.e,s),l=Math.tan(n)*Math.tan(n),c=i*Math.cos(n),f=c*c,d=this.es*o*o/(1-this.es),p=this.a*Fi(this.e0,this.e1,this.e2,this.e3,n);t=a*c*(1-f*l*(1/6-(8-l+8*d)*f/120)),r=p-this.ml0+a*s/o*f*(.5+(5-l+6*d)*f/24)}return e.x=t+this.x0,e.y=r+this.y0,e}function tK(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,n;if(this.sphere){var s=r+this.lat0;i=Math.asin(Math.sin(s)*Math.cos(t)),n=Math.atan2(Math.tan(t),Math.cos(s))}else{var o=this.ml0/this.a+r,a=$g(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-de)<=_e)return e.x=this.long0,e.y=de,r<0&&(e.y*=-1),e;var l=qh(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(a),2),d=t*this.a/l,p=d*d;i=a-l*Math.tan(a)/c*d*d*(.5-(1+3*f)*d*d/24),n=d*(1-p*(f/3+(1+3*f)*f*p/15))/Math.cos(a)}return e.x=Se(n+this.long0),e.y=Ml(i),e}var rK=["Cassini","Cassini_Soldner","cass"];const iK={init:QJ,forward:eK,inverse:tK,names:rK};function hl(e,t){var r;return e>1e-7?(r=e*t,(1-e*e)*(t/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*t}var nK=1,sK=2,oK=3,aK=4;function lK(){var e=Math.abs(this.lat0);if(Math.abs(e-de)<_e?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<_e?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=hl(this.e,1),this.mmf=.5/(1-this.es),this.apa=gK(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=hl(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function cK(e){var t,r,i,n,s,o,a,l,c,f,d=e.x,p=e.y;if(d=Se(d-this.long0),this.sphere){if(s=Math.sin(p),f=Math.cos(p),i=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+f*i:1+this.sinph0*s+this.cosph0*f*i,r<=_e)return null;r=Math.sqrt(2/r),t=r*f*Math.sin(d),r*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.lat0)<_e)return null;r=Mt-p*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),t=r*Math.sin(d),r*=i}}else{switch(a=0,l=0,c=0,i=Math.cos(d),n=Math.sin(d),s=Math.sin(p),o=hl(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*i;break;case this.EQUIT:c=1+l*i;break;case this.N_POLE:c=de+p,o=this.qp-o;break;case this.S_POLE:c=p-de,o=this.qp+o;break}if(Math.abs(c)<_e)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?r=this.ymf*c*(this.cosb1*a-this.sinb1*l*i):r=(c=Math.sqrt(2/(1+l*i)))*a*this.ymf,t=this.xmf*c*l*n;break;case this.N_POLE:case this.S_POLE:o>=0?(t=(c=Math.sqrt(o))*n,r=i*(this.mode===this.S_POLE?c:-c)):t=r=0;break}}return e.x=this.a*t+this.x0,e.y=this.a*r+this.y0,e}function uK(e){e.x-=this.x0,e.y-=this.y0;var t=e.x/this.a,r=e.y/this.a,i,n,s,o,a,l,c;if(this.sphere){var f=0,d,p=0;if(d=Math.sqrt(t*t+r*r),n=d*.5,n>1)return null;switch(n=2*Math.asin(n),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(d)<=_e?0:Math.asin(r*p/d),t*=p,r=f*d;break;case this.OBLIQ:n=Math.abs(d)<=_e?this.lat0:Math.asin(f*this.sinph0+r*p*this.cosph0/d),t*=p*this.cosph0,r=(f-Math.sin(n)*this.sinph0)*d;break;case this.N_POLE:r=-r,n=de-n;break;case this.S_POLE:n-=de;break}i=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,r)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(t/=this.dd,r*=this.dd,l=Math.sqrt(t*t+r*r),l<_e)return e.x=this.long0,e.y=this.lat0,e;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),t*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+r*o*this.cosb1/l,a=this.qp*c,r=l*this.cosb1*s-r*this.sinb1*o):(c=r*o/l,a=this.qp*c,r=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),a=t*t+r*r,!a)return e.x=this.long0,e.y=this.lat0,e;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}i=Math.atan2(t,r),n=vK(Math.asin(c),this.apa)}return e.x=Se(this.long0+i),e.y=n,e}var hK=.3333333333333333,fK=.17222222222222222,dK=.10257936507936508,pK=.06388888888888888,mK=.0664021164021164,yK=.016415012942191543;function gK(e){var t,r=[];return r[0]=e*hK,t=e*e,r[0]+=t*fK,r[1]=t*pK,t*=e,r[0]+=t*dK,r[1]+=t*mK,r[2]=t*yK,r}function vK(e,t){var r=e+e;return e+t[0]*Math.sin(r)+t[1]*Math.sin(r+r)+t[2]*Math.sin(r+r+r)}var bK=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const _K={init:lK,forward:cK,inverse:uK,names:bK,S_POLE:nK,N_POLE:sK,EQUIT:oK,OBLIQ:aK};function bl(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function wK(){Math.abs(this.lat1+this.lat2)<_e||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=_o(this.e3,this.sin_po,this.cos_po),this.qs1=hl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=_o(this.e3,this.sin_po,this.cos_po),this.qs2=hl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=hl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>_e?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function SK(e){var t=e.x,r=e.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var i=hl(this.e3,this.sin_phi),n=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,s=this.ns0*Se(t-this.long0),o=n*Math.sin(s)+this.x0,a=this.rh-n*Math.cos(s)+this.y0;return e.x=o,e.y=a,e}function xK(e){var t,r,i,n,s,o;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(t=Math.sqrt(e.x*e.x+e.y*e.y),i=1):(t=-Math.sqrt(e.x*e.x+e.y*e.y),i=-1),n=0,t!==0&&(n=Math.atan2(i*e.x,i*e.y)),i=t*this.ns0/this.a,this.sphere?o=Math.asin((this.c-i*i)/(2*this.ns0)):(r=(this.c-i*i)/this.ns0,o=this.phi1z(this.e3,r)),s=Se(n/this.ns0+this.long0),e.x=s,e.y=o,e}function EK(e,t){var r,i,n,s,o,a=bl(.5*t);if(e<_e)return a;for(var l=e*e,c=1;c<=25;c++)if(r=Math.sin(a),i=Math.cos(a),n=e*r,s=1-n*n,o=.5*s*s/i*(t/(1-l)-r/s+.5/e*Math.log((1-n)/(1+n))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var TK=["Albers_Conic_Equal_Area","Albers","aea"];const AK={init:wK,forward:SK,inverse:xK,names:TK,phi1z:EK};function MK(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function IK(e){var t,r,i,n,s,o,a,l,c=e.x,f=e.y;return i=Se(c-this.long0),t=Math.sin(f),r=Math.cos(f),n=Math.cos(i),o=this.sin_p14*t+this.cos_p14*r*n,s=1,o>0||Math.abs(o)<=_e?(a=this.x0+this.a*s*r*Math.sin(i)/o,l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*r*n)/o):(a=this.x0+this.infinity_dist*r*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*r*n)),e.x=a,e.y=l,e}function OK(e){var t,r,i,n,s,o;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(t=Math.sqrt(e.x*e.x+e.y*e.y))?(n=Math.atan2(t,this.rc),r=Math.sin(n),i=Math.cos(n),o=bl(i*this.sin_p14+e.y*r*this.cos_p14/t),s=Math.atan2(e.x*r,t*this.cos_p14*i-e.y*this.sin_p14*r),s=Se(this.long0+s)):(o=this.phic0,s=0),e.x=s,e.y=o,e}var $K=["gnom"];const CK={init:MK,forward:IK,inverse:OK,names:$K};function NK(e,t){var r=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*de:de;for(var i=Math.asin(.5*t),n,s,o,a,l=0;l<30;l++)if(s=Math.sin(i),o=Math.cos(i),a=e*s,n=Math.pow(1-a*a,2)/(2*o)*(t/(1-e*e)-s/(1-a*a)+.5/e*Math.log((1-a)/(1+a))),i+=n,Math.abs(n)<=1e-10)return i;return NaN}function PK(){this.sphere||(this.k0=_o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function LK(e){var t=e.x,r=e.y,i,n,s=Se(t-this.long0);if(this.sphere)i=this.x0+this.a*s*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=hl(this.e,Math.sin(r));i=this.x0+this.a*this.k0*s,n=this.y0+this.a*o*.5/this.k0}return e.x=i,e.y=n,e}function kK(e){e.x-=this.x0,e.y-=this.y0;var t,r;return this.sphere?(t=Se(this.long0+e.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(r=NK(this.e,2*e.y*this.k0/this.a),t=Se(this.long0+e.x/(this.a*this.k0))),e.x=t,e.y=r,e}var RK=["cea"];const DK={init:PK,forward:LK,inverse:kK,names:RK};function FK(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function UK(e){var t=e.x,r=e.y,i=Se(t-this.long0),n=Ml(r-this.lat0);return e.x=this.x0+this.a*i*this.rc,e.y=this.y0+this.a*n,e}function jK(e){var t=e.x,r=e.y;return e.x=Se(this.long0+(t-this.x0)/(this.a*this.rc)),e.y=Ml(this.lat0+(r-this.y0)/this.a),e}var GK=["Equirectangular","Equidistant_Cylindrical","eqc"];const VK={init:FK,forward:UK,inverse:jK,names:GK};var Q4=20;function BK(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Am(this.es),this.e1=Mm(this.es),this.e2=Im(this.es),this.e3=Om(this.es),this.ml0=this.a*Fi(this.e0,this.e1,this.e2,this.e3,this.lat0)}function zK(e){var t=e.x,r=e.y,i,n,s,o=Se(t-this.long0);if(s=o*Math.sin(r),this.sphere)Math.abs(r)<=_e?(i=this.a*o,n=-1*this.a*this.lat0):(i=this.a*Math.sin(s)/Math.tan(r),n=this.a*(Ml(r-this.lat0)+(1-Math.cos(s))/Math.tan(r)));else if(Math.abs(r)<=_e)i=this.a*o,n=-1*this.ml0;else{var a=qh(this.a,this.e,Math.sin(r))/Math.tan(r);i=a*Math.sin(s),n=this.a*Fi(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*(1-Math.cos(s))}return e.x=i+this.x0,e.y=n+this.y0,e}function qK(e){var t,r,i,n,s,o,a,l,c;if(i=e.x-this.x0,n=e.y-this.y0,this.sphere)if(Math.abs(n+this.a*this.lat0)<=_e)t=Se(i/this.a+this.long0),r=0;else{o=this.lat0+n/this.a,a=i*i/this.a/this.a+o*o,l=o;var f;for(s=Q4;s;--s)if(f=Math.tan(l),c=-1*(o*(l*f+1)-l-.5*(l*l+a)*f)/((l-o)/f-1),l+=c,Math.abs(c)<=_e){r=l;break}t=Se(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(r))}else if(Math.abs(n+this.ml0)<=_e)r=0,t=Se(this.long0+i/this.a);else{o=(this.ml0+n)/this.a,a=i*i/this.a/this.a+o*o,l=o;var d,p,y,g,_;for(s=Q4;s;--s)if(_=this.e*Math.sin(l),d=Math.sqrt(1-_*_)*Math.tan(l),p=this.a*Fi(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=p/this.a,c=(o*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*d)+(o-g)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=_e){r=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),t=Se(this.long0+Math.asin(i*d/this.a)/Math.sin(r))}return e.x=t,e.y=r,e}var WK=["Polyconic","poly"];const HK={init:BK,forward:zK,inverse:qK,names:WK};function YK(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function JK(e){var t,r=e.x,i=e.y,n=i-this.lat0,s=r-this.long0,o=n/zd*1e-5,a=s,l=1,c=0;for(t=1;t<=10;t++)l=l*o,c=c+this.A[t]*l;var f=c,d=a,p=1,y=0,g,_,w=0,x=0;for(t=1;t<=6;t++)g=p*f-y*d,_=y*f+p*d,p=g,y=_,w=w+this.B_re[t]*p-this.B_im[t]*y,x=x+this.B_im[t]*p+this.B_re[t]*y;return e.x=x*this.a+this.x0,e.y=w*this.a+this.y0,e}function KK(e){var t,r=e.x,i=e.y,n=r-this.x0,s=i-this.y0,o=s/this.a,a=n/this.a,l=1,c=0,f,d,p=0,y=0;for(t=1;t<=6;t++)f=l*o-c*a,d=c*o+l*a,l=f,c=d,p=p+this.C_re[t]*l-this.C_im[t]*c,y=y+this.C_im[t]*l+this.C_re[t]*c;for(var g=0;g<this.iterations;g++){var _=p,w=y,x,T,S=o,v=a;for(t=2;t<=6;t++)x=_*p-w*y,T=w*p+_*y,_=x,w=T,S=S+(t-1)*(this.B_re[t]*_-this.B_im[t]*w),v=v+(t-1)*(this.B_im[t]*_+this.B_re[t]*w);_=1,w=0;var M=this.B_re[1],O=this.B_im[1];for(t=2;t<=6;t++)x=_*p-w*y,T=w*p+_*y,_=x,w=T,M=M+t*(this.B_re[t]*_-this.B_im[t]*w),O=O+t*(this.B_im[t]*_+this.B_re[t]*w);var P=M*M+O*O;p=(S*M+v*O)/P,y=(v*M-S*O)/P}var R=p,k=y,G=1,V=0;for(t=1;t<=9;t++)G=G*R,V=V+this.D[t]*G;var U=this.lat0+V*zd*1e5,Y=this.long0+k;return e.x=Y,e.y=U,e}var ZK=["New_Zealand_Map_Grid","nzmg"];const XK={init:YK,forward:JK,inverse:KK,names:ZK};function QK(){}function eZ(e){var t=e.x,r=e.y,i=Se(t-this.long0),n=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return e.x=n,e.y=s,e}function tZ(e){e.x-=this.x0,e.y-=this.y0;var t=Se(this.long0+e.x/this.a),r=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=t,e.y=r,e}var rZ=["Miller_Cylindrical","mill"];const iZ={init:QK,forward:eZ,inverse:tZ,names:rZ};var nZ=20;function sZ(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=iE(this.es)}function oZ(e){var t,r,i=e.x,n=e.y;if(i=Se(i-this.long0),this.sphere){if(!this.m)n=this.n!==1?Math.asin(this.n*Math.sin(n)):n;else for(var s=this.n*Math.sin(n),o=nZ;o;--o){var a=(this.m*n+Math.sin(n)-s)/(this.m+Math.cos(n));if(n-=a,Math.abs(a)<_e)break}t=this.a*this.C_x*i*(this.m+Math.cos(n)),r=this.a*this.C_y*n}else{var l=Math.sin(n),c=Math.cos(n);r=this.a*Nf(n,l,c,this.en),t=this.a*i*c/Math.sqrt(1-this.es*l*l)}return e.x=t,e.y=r,e}function aZ(e){var t,r,i,n;return e.x-=this.x0,i=e.x/this.a,e.y-=this.y0,t=e.y/this.a,this.sphere?(t/=this.C_y,i=i/(this.C_x*(this.m+Math.cos(t))),this.m?t=bl((this.m*t+Math.sin(t))/this.n):this.n!==1&&(t=bl(Math.sin(t)/this.n)),i=Se(i+this.long0),t=Ml(t)):(t=nE(e.y/this.a,this.es,this.en),n=Math.abs(t),n<de?(n=Math.sin(t),r=this.long0+e.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(t)),i=Se(r)):n-_e<de&&(i=this.long0)),e.x=i,e.y=t,e}var lZ=["Sinusoidal","sinu"];const cZ={init:sZ,forward:oZ,inverse:aZ,names:lZ};function uZ(){}function hZ(e){for(var t=e.x,r=e.y,i=Se(t-this.long0),n=r,s=Math.PI*Math.sin(r);;){var o=-(n+Math.sin(n)-s)/(1+Math.cos(n));if(n+=o,Math.abs(o)<_e)break}n/=2,Math.PI/2-Math.abs(r)<_e&&(i=0);var a=.900316316158*this.a*i*Math.cos(n)+this.x0,l=1.4142135623731*this.a*Math.sin(n)+this.y0;return e.x=a,e.y=l,e}function fZ(e){var t,r;e.x-=this.x0,e.y-=this.y0,r=e.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),t=Math.asin(r);var i=Se(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*t+Math.sin(2*t))/Math.PI,Math.abs(r)>1&&(r=1);var n=Math.asin(r);return e.x=i,e.y=n,e}var dZ=["Mollweide","moll"];const pZ={init:uZ,forward:hZ,inverse:fZ,names:dZ};function mZ(){Math.abs(this.lat1+this.lat2)<_e||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Am(this.es),this.e1=Mm(this.es),this.e2=Im(this.es),this.e3=Om(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=_o(this.e,this.sinphi,this.cosphi),this.ml1=Fi(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<_e?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=_o(this.e,this.sinphi,this.cosphi),this.ml2=Fi(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Fi(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function yZ(e){var t=e.x,r=e.y,i;if(this.sphere)i=this.a*(this.g-r);else{var n=Fi(this.e0,this.e1,this.e2,this.e3,r);i=this.a*(this.g-n)}var s=this.ns*Se(t-this.long0),o=this.x0+i*Math.sin(s),a=this.y0+this.rh-i*Math.cos(s);return e.x=o,e.y=a,e}function gZ(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var t,r,i,n;this.ns>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),t=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),t=-1);var s=0;if(r!==0&&(s=Math.atan2(t*e.x,t*e.y)),this.sphere)return n=Se(this.long0+s/this.ns),i=Ml(this.g-r/this.a),e.x=n,e.y=i,e;var o=this.g-r/this.a;return i=$g(o,this.e0,this.e1,this.e2,this.e3),n=Se(this.long0+s/this.ns),e.x=n,e.y=i,e}var vZ=["Equidistant_Conic","eqdc"];const bZ={init:mZ,forward:yZ,inverse:gZ,names:vZ};function _Z(){this.R=this.a}function wZ(e){var t=e.x,r=e.y,i=Se(t-this.long0),n,s;Math.abs(r)<=_e&&(n=this.x0+this.R*i,s=this.y0);var o=bl(2*Math.abs(r/Math.PI));(Math.abs(i)<=_e||Math.abs(Math.abs(r)-de)<=_e)&&(n=this.x0,r>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),l=a*a,c=Math.sin(o),f=Math.cos(o),d=f/(c+f-1),p=d*d,y=d*(2/c-1),g=y*y,_=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(p-g)))/(g+l);i<0&&(_=-_),n=this.x0+_;var w=l+d;return _=Math.PI*this.R*(y*w-a*Math.sqrt((g+l)*(l+1)-w*w))/(g+l),r>=0?s=this.y0+_:s=this.y0-_,e.x=n,e.y=s,e}function SZ(e){var t,r,i,n,s,o,a,l,c,f,d,p,y;return e.x-=this.x0,e.y-=this.y0,d=Math.PI*this.R,i=e.x/d,n=e.y/d,s=i*i+n*n,o=-Math.abs(n)*(1+s),a=o-2*n*n+i*i,l=-2*o+1+2*n*n+s*s,y=n*n/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,f=2*Math.sqrt(-c/3),d=3*y/c/f,Math.abs(d)>1&&(d>=0?d=1:d=-1),p=Math.acos(d)/3,e.y>=0?r=(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:r=-(-f*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,Math.abs(i)<_e?t=this.long0:t=Se(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-n*n)+s*s))/2/i),e.x=t,e.y=r,e}var xZ=["Van_der_Grinten_I","VanDerGrinten","vandg"];const EZ={init:_Z,forward:wZ,inverse:SZ,names:xZ};function TZ(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function AZ(e){var t=e.x,r=e.y,i=Math.sin(e.y),n=Math.cos(e.y),s=Se(t-this.long0),o,a,l,c,f,d,p,y,g,_,w,x,T,S,v,M,O,P,R,k,G,V,U;return this.sphere?Math.abs(this.sin_p12-1)<=_e?(e.x=this.x0+this.a*(de-r)*Math.sin(s),e.y=this.y0-this.a*(de-r)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=_e?(e.x=this.x0+this.a*(de+r)*Math.sin(s),e.y=this.y0+this.a*(de+r)*Math.cos(s),e):(P=this.sin_p12*i+this.cos_p12*n*Math.cos(s),M=Math.acos(P),O=M?M/Math.sin(M):1,e.x=this.x0+this.a*O*n*Math.sin(s),e.y=this.y0+this.a*O*(this.cos_p12*i-this.sin_p12*n*Math.cos(s)),e):(o=Am(this.es),a=Mm(this.es),l=Im(this.es),c=Om(this.es),Math.abs(this.sin_p12-1)<=_e?(f=this.a*Fi(o,a,l,c,de),d=this.a*Fi(o,a,l,c,r),e.x=this.x0+(f-d)*Math.sin(s),e.y=this.y0-(f-d)*Math.cos(s),e):Math.abs(this.sin_p12+1)<=_e?(f=this.a*Fi(o,a,l,c,de),d=this.a*Fi(o,a,l,c,r),e.x=this.x0+(f+d)*Math.sin(s),e.y=this.y0+(f+d)*Math.cos(s),e):(p=i/n,y=qh(this.a,this.e,this.sin_p12),g=qh(this.a,this.e,i),_=Math.atan((1-this.es)*p+this.es*y*this.sin_p12/(g*n)),w=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(s)),w===0?R=Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(w)-Math.PI)<=_e?R=-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):R=Math.asin(Math.sin(s)*Math.cos(_)/Math.sin(w)),x=this.e*this.sin_p12/Math.sqrt(1-this.es),T=this.e*this.cos_p12*Math.cos(w)/Math.sqrt(1-this.es),S=x*T,v=T*T,k=R*R,G=k*R,V=G*R,U=V*R,M=y*R*(1-k*v*(1-v)/6+G/8*S*(1-2*v)+V/120*(v*(4-7*v)-3*x*x*(1-7*v))-U/48*S),e.x=this.x0+M*Math.sin(w),e.y=this.y0+M*Math.cos(w),e))}function MZ(e){e.x-=this.x0,e.y-=this.y0;var t,r,i,n,s,o,a,l,c,f,d,p,y,g,_,w,x,T,S,v,M,O,P,R;return this.sphere?(t=Math.sqrt(e.x*e.x+e.y*e.y),t>2*de*this.a?void 0:(r=t/this.a,i=Math.sin(r),n=Math.cos(r),s=this.long0,Math.abs(t)<=_e?o=this.lat0:(o=bl(n*this.sin_p12+e.y*i*this.cos_p12/t),a=Math.abs(this.lat0)-de,Math.abs(a)<=_e?this.lat0>=0?s=Se(this.long0+Math.atan2(e.x,-e.y)):s=Se(this.long0-Math.atan2(-e.x,e.y)):s=Se(this.long0+Math.atan2(e.x*i,t*this.cos_p12*n-e.y*this.sin_p12*i))),e.x=s,e.y=o,e)):(l=Am(this.es),c=Mm(this.es),f=Im(this.es),d=Om(this.es),Math.abs(this.sin_p12-1)<=_e?(p=this.a*Fi(l,c,f,d,de),t=Math.sqrt(e.x*e.x+e.y*e.y),y=p-t,o=$g(y/this.a,l,c,f,d),s=Se(this.long0+Math.atan2(e.x,-1*e.y)),e.x=s,e.y=o,e):Math.abs(this.sin_p12+1)<=_e?(p=this.a*Fi(l,c,f,d,de),t=Math.sqrt(e.x*e.x+e.y*e.y),y=t-p,o=$g(y/this.a,l,c,f,d),s=Se(this.long0+Math.atan2(e.x,e.y)),e.x=s,e.y=o,e):(t=Math.sqrt(e.x*e.x+e.y*e.y),w=Math.atan2(e.x,e.y),g=qh(this.a,this.e,this.sin_p12),x=Math.cos(w),T=this.e*this.cos_p12*x,S=-T*T/(1-this.es),v=3*this.es*(1-S)*this.sin_p12*this.cos_p12*x/(1-this.es),M=t/g,O=M-S*(1+S)*Math.pow(M,3)/6-v*(1+3*S)*Math.pow(M,4)/24,P=1-S*O*O/2-M*O*O*O/6,_=Math.asin(this.sin_p12*Math.cos(O)+this.cos_p12*Math.sin(O)*x),s=Se(this.long0+Math.asin(Math.sin(w)*Math.sin(O)/Math.cos(_))),R=Math.sin(_),o=Math.atan2((R-this.es*P*this.sin_p12)*Math.tan(_),R*(1-this.es)),e.x=s,e.y=o,e))}var IZ=["Azimuthal_Equidistant","aeqd"];const OZ={init:TZ,forward:AZ,inverse:MZ,names:IZ};function $Z(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function CZ(e){var t,r,i,n,s,o,a,l,c=e.x,f=e.y;return i=Se(c-this.long0),t=Math.sin(f),r=Math.cos(f),n=Math.cos(i),o=this.sin_p14*t+this.cos_p14*r*n,s=1,(o>0||Math.abs(o)<=_e)&&(a=this.a*s*r*Math.sin(i),l=this.y0+this.a*s*(this.cos_p14*t-this.sin_p14*r*n)),e.x=a,e.y=l,e}function NZ(e){var t,r,i,n,s,o,a;return e.x-=this.x0,e.y-=this.y0,t=Math.sqrt(e.x*e.x+e.y*e.y),r=bl(t/this.a),i=Math.sin(r),n=Math.cos(r),o=this.long0,Math.abs(t)<=_e?(a=this.lat0,e.x=o,e.y=a,e):(a=bl(n*this.sin_p14+e.y*i*this.cos_p14/t),s=Math.abs(this.lat0)-de,Math.abs(s)<=_e?(this.lat0>=0?o=Se(this.long0+Math.atan2(e.x,-e.y)):o=Se(this.long0-Math.atan2(-e.x,e.y)),e.x=o,e.y=a,e):(o=Se(this.long0+Math.atan2(e.x*i,t*this.cos_p14*n-e.y*this.sin_p14*i)),e.x=o,e.y=a,e))}var PZ=["ortho"];const LZ={init:$Z,forward:CZ,inverse:NZ,names:PZ};var cr={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},It={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function kZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=de-Mt/2?this.face=cr.TOP:this.lat0<=-(de-Mt/2)?this.face=cr.BOTTOM:Math.abs(this.long0)<=Mt?this.face=cr.FRONT:Math.abs(this.long0)<=de+Mt?this.face=this.long0>0?cr.RIGHT:cr.LEFT:this.face=cr.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function RZ(e){var t={x:0,y:0},r,i,n,s,o,a,l={value:0};if(e.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):r=e.y,i=e.x,this.face===cr.TOP)s=de-r,i>=Mt&&i<=de+Mt?(l.value=It.AREA_0,n=i-de):i>de+Mt||i<=-(de+Mt)?(l.value=It.AREA_1,n=i>0?i-_r:i+_r):i>-(de+Mt)&&i<=-Mt?(l.value=It.AREA_2,n=i+de):(l.value=It.AREA_3,n=i);else if(this.face===cr.BOTTOM)s=de+r,i>=Mt&&i<=de+Mt?(l.value=It.AREA_0,n=-i+de):i<Mt&&i>=-Mt?(l.value=It.AREA_1,n=-i):i<-Mt&&i>=-(de+Mt)?(l.value=It.AREA_2,n=-i-de):(l.value=It.AREA_3,n=i>0?-i+_r:-i-_r);else{var c,f,d,p,y,g,_;this.face===cr.RIGHT?i=Ah(i,+de):this.face===cr.BACK?i=Ah(i,+_r):this.face===cr.LEFT&&(i=Ah(i,-de)),p=Math.sin(r),y=Math.cos(r),g=Math.sin(i),_=Math.cos(i),c=y*_,f=y*g,d=p,this.face===cr.FRONT?(s=Math.acos(c),n=m0(s,d,f,l)):this.face===cr.RIGHT?(s=Math.acos(f),n=m0(s,d,-c,l)):this.face===cr.BACK?(s=Math.acos(-c),n=m0(s,d,-f,l)):this.face===cr.LEFT?(s=Math.acos(-f),n=m0(s,d,c,l)):(s=n=0,l.value=It.AREA_0)}return a=Math.atan(12/_r*(n+Math.acos(Math.sin(n)*Math.cos(Mt))-de)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(n))))),l.value===It.AREA_1?a+=de:l.value===It.AREA_2?a+=_r:l.value===It.AREA_3&&(a+=1.5*_r),t.x=o*Math.cos(a),t.y=o*Math.sin(a),t.x=t.x*this.a+this.x0,t.y=t.y*this.a+this.y0,e.x=t.x,e.y=t.y,e}function DZ(e){var t={lam:0,phi:0},r,i,n,s,o,a,l,c,f,d={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,i=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),r=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?d.value=It.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(d.value=It.AREA_1,r-=de):e.x<0&&-e.x>=Math.abs(e.y)?(d.value=It.AREA_2,r=r<0?r+_r:r-_r):(d.value=It.AREA_3,r+=de),f=_r/12*Math.tan(r),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),n=Math.cos(r),s=Math.tan(i),l=1-n*n*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===cr.TOP)c=Math.acos(l),t.phi=de-c,d.value===It.AREA_0?t.lam=a+de:d.value===It.AREA_1?t.lam=a<0?a+_r:a-_r:d.value===It.AREA_2?t.lam=a-de:t.lam=a;else if(this.face===cr.BOTTOM)c=Math.acos(l),t.phi=c-de,d.value===It.AREA_0?t.lam=-a+de:d.value===It.AREA_1?t.lam=-a:d.value===It.AREA_2?t.lam=-a-de:t.lam=a<0?-a-_r:-a+_r;else{var p,y,g;p=l,f=p*p,f>=1?g=0:g=Math.sqrt(1-f)*Math.sin(a),f+=g*g,f>=1?y=0:y=Math.sqrt(1-f),d.value===It.AREA_1?(f=y,y=-g,g=f):d.value===It.AREA_2?(y=-y,g=-g):d.value===It.AREA_3&&(f=y,y=g,g=-f),this.face===cr.RIGHT?(f=p,p=-y,y=f):this.face===cr.BACK?(p=-p,y=-y):this.face===cr.LEFT&&(f=p,p=y,y=-f),t.phi=Math.acos(-g)-de,t.lam=Math.atan2(y,p),this.face===cr.RIGHT?t.lam=Ah(t.lam,-de):this.face===cr.BACK?t.lam=Ah(t.lam,-_r):this.face===cr.LEFT&&(t.lam=Ah(t.lam,+de))}if(this.es!==0){var _,w,x;_=t.phi<0?1:0,w=Math.tan(t.phi),x=this.b/Math.sqrt(w*w+this.one_minus_f_squared),t.phi=Math.atan(Math.sqrt(this.a*this.a-x*x)/(this.one_minus_f*x)),_&&(t.phi=-t.phi)}return t.lam+=this.long0,e.x=t.lam,e.y=t.phi,e}function m0(e,t,r,i){var n;return e<_e?(i.value=It.AREA_0,n=0):(n=Math.atan2(t,r),Math.abs(n)<=Mt?i.value=It.AREA_0:n>Mt&&n<=de+Mt?(i.value=It.AREA_1,n-=de):n>de+Mt||n<=-(de+Mt)?(i.value=It.AREA_2,n=n>=0?n-_r:n+_r):(i.value=It.AREA_3,n+=de)),n}function Ah(e,t){var r=e+t;return r<-_r?r+=Lp:r>+_r&&(r-=Lp),r}var FZ=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const UZ={init:kZ,forward:RZ,inverse:DZ,names:FZ};var Mw=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],$d=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],IP=.8487,OP=1.3523,$P=to/5,jZ=1/$P,lh=18,Cg=function(e,t){return e[0]+t*(e[1]+t*(e[2]+t*e[3]))},GZ=function(e,t){return e[1]+t*(2*e[2]+t*3*e[3])};function VZ(e,t,r,i){for(var n=t;i;--i){var s=e(n);if(n-=s,Math.abs(s)<r)break}return n}function BZ(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function zZ(e){var t=Se(e.x-this.long0),r=Math.abs(e.y),i=Math.floor(r*$P);i<0?i=0:i>=lh&&(i=lh-1),r=to*(r-jZ*i);var n={x:Cg(Mw[i],r)*t,y:Cg($d[i],r)};return e.y<0&&(n.y=-n.y),n.x=n.x*this.a*IP+this.x0,n.y=n.y*this.a*OP+this.y0,n}function qZ(e){var t={x:(e.x-this.x0)/(this.a*IP),y:Math.abs(e.y-this.y0)/(this.a*OP)};if(t.y>=1)t.x/=Mw[lh][0],t.y=e.y<0?-de:de;else{var r=Math.floor(t.y*lh);for(r<0?r=0:r>=lh&&(r=lh-1);;)if($d[r][0]>t.y)--r;else if($d[r+1][0]<=t.y)++r;else break;var i=$d[r],n=5*(t.y-i[0])/($d[r+1][0]-i[0]);n=VZ(function(s){return(Cg(i,s)-t.y)/GZ(i,s)},n,_e,100),t.x/=Cg(Mw[r],n),t.y=(5*r+n)*si,e.y<0&&(t.y=-t.y)}return t.x=Se(t.x+this.long0),t}var WZ=["Robinson","robin"];const HZ={init:BZ,forward:zZ,inverse:qZ,names:WZ};function YZ(){this.name="geocent"}function JZ(e){var t=gP(e,this.es,this.a);return t}function KZ(e){var t=vP(e,this.es,this.a,this.b);return t}var ZZ=["Geocentric","geocentric","geocent","Geocent"];const XZ={init:YZ,forward:JZ,inverse:KZ,names:ZZ};var mi={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Yf={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function QZ(){if(Object.keys(Yf).forEach(function(r){if(typeof this[r]>"u")this[r]=Yf[r].def;else{if(Yf[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);Yf[r].num&&(this[r]=parseFloat(this[r]))}Yf[r].degrees&&(this[r]=this[r]*si)}.bind(this)),Math.abs(Math.abs(this.lat0)-de)<_e?this.mode=this.lat0<0?mi.S_POLE:mi.N_POLE:Math.abs(this.lat0)<_e?this.mode=mi.EQUIT:(this.mode=mi.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,t=this.azi;this.cg=Math.cos(t),this.sg=Math.sin(t),this.cw=Math.cos(e),this.sw=Math.sin(e)}function eX(e){e.x-=this.long0;var t=Math.sin(e.y),r=Math.cos(e.y),i=Math.cos(e.x),n,s;switch(this.mode){case mi.OBLIQ:s=this.sinph0*t+this.cosph0*r*i;break;case mi.EQUIT:s=r*i;break;case mi.S_POLE:s=-t;break;case mi.N_POLE:s=t;break}switch(s=this.pn1/(this.p-s),n=s*r*Math.sin(e.x),this.mode){case mi.OBLIQ:s*=this.cosph0*t-this.sinph0*r*i;break;case mi.EQUIT:s*=t;break;case mi.N_POLE:s*=-(r*i);break;case mi.S_POLE:s*=r*i;break}var o,a;return o=s*this.cg+n*this.sg,a=1/(o*this.sw*this.h1+this.cw),n=(n*this.cg-s*this.sg)*this.cw*a,s=o*a,e.x=n*this.a,e.y=s*this.a,e}function tX(e){e.x/=this.a,e.y/=this.a;var t={x:e.x,y:e.y},r,i,n;n=1/(this.pn1-e.y*this.sw),r=this.pn1*e.x*n,i=this.pn1*e.y*this.cw*n,e.x=r*this.cg+i*this.sg,e.y=i*this.cg-r*this.sg;var s=Zi(e.x,e.y);if(Math.abs(s)<_e)t.x=0,t.y=e.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case mi.OBLIQ:t.y=Math.asin(o*this.sinph0+e.y*a*this.cosph0/s),e.y=(o-this.sinph0*Math.sin(t.y))*s,e.x*=a*this.cosph0;break;case mi.EQUIT:t.y=Math.asin(e.y*a/s),e.y=o*s,e.x*=a;break;case mi.N_POLE:t.y=Math.asin(o),e.y=-e.y;break;case mi.S_POLE:t.y=-Math.asin(o);break}t.x=Math.atan2(e.x,e.y)}return e.x=t.x+this.long0,e.y=t.y,e}var rX=["Tilted_Perspective","tpers"];const iX={init:QZ,forward:eX,inverse:tX,names:rX};function nX(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,t=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=t,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function sX(e){var t=e.x,r=e.y,i,n,s,o;if(t=t-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var a=this.radius_p/Zi(this.radius_p*Math.cos(r),Math.sin(r));if(n=a*Math.cos(t)*Math.cos(r),s=a*Math.sin(t)*Math.cos(r),o=a*Math.sin(r),(this.radius_g-n)*n-s*s-o*o*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;i=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/Zi(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(s/i),e.y=this.radius_g_1*Math.atan(o/Zi(s,i)))}else this.shape==="sphere"&&(i=Math.cos(r),n=Math.cos(t)*i,s=Math.sin(t)*i,o=Math.sin(r),i=this.radius_g-n,this.flip_axis?(e.x=this.radius_g_1*Math.atan(s/Zi(o,i)),e.y=this.radius_g_1*Math.atan(o/i)):(e.x=this.radius_g_1*Math.atan(s/i),e.y=this.radius_g_1*Math.atan(o/Zi(s,i))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function oX(e){var t=-1,r=0,i=0,n,s,o,a;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Zi(1,i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*Zi(1,r));var l=i/this.radius_p;if(n=r*r+l*l+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(i=Math.tan(e.y/this.radius_g_1),r=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+i*i)):(r=Math.tan(e.x/this.radius_g_1),i=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+r*r)),n=r*r+i*i+t*t,s=2*this.radius_g*t,o=s*s-4*n*this.C,o<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=(-s-Math.sqrt(o))/(2*n),t=this.radius_g+a*t,r*=a,i*=a,e.x=Math.atan2(r,t),e.y=Math.atan(i*Math.cos(e.x)/t)}return e.x=e.x+this.long0,e}var aX=["Geostationary Satellite View","Geostationary_Satellite","geos"];const lX={init:nX,forward:sX,inverse:oX,names:aX};var qd=1.340264,Wd=-.081106,Hd=893e-6,Yd=.003796,Ng=Math.sqrt(3)/2;function cX(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function uX(e){var t=Se(e.x-this.long0),r=e.y,i=Math.asin(Ng*Math.sin(r)),n=i*i,s=n*n*n;return e.x=t*Math.cos(i)/(Ng*(qd+3*Wd*n+s*(7*Hd+9*Yd*n))),e.y=i*(qd+Wd*n+s*(Hd+Yd*n)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function hX(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var t=1e-9,r=12,i=e.y,n,s,o,a,l,c;for(c=0;c<r&&(n=i*i,s=n*n*n,o=i*(qd+Wd*n+s*(Hd+Yd*n))-e.y,a=qd+3*Wd*n+s*(7*Hd+9*Yd*n),i-=l=o/a,!(Math.abs(l)<t));++c);return n=i*i,s=n*n*n,e.x=Ng*e.x*(qd+3*Wd*n+s*(7*Hd+9*Yd*n))/Math.cos(i),e.y=Math.asin(Math.sin(i)/Ng),e.x=Se(e.x+this.long0),e}var fX=["eqearth","Equal Earth","Equal_Earth"];const dX={init:cX,forward:uX,inverse:hX,names:fX};var Dp=1e-10;function pX(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Dp)throw new Error;this.es?(this.en=iE(this.es),this.m1=Nf(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=yX,this.forward=mX):(Math.abs(this.phi1)+Dp>=de?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=vX,this.forward=gX)}function mX(e){var t=Se(e.x-(this.long0||0)),r=e.y,i,n,s;return i=this.am1+this.m1-Nf(r,n=Math.sin(r),s=Math.cos(r),this.en),n=s*t/(i*Math.sqrt(1-this.es*n*n)),e.x=i*Math.sin(n),e.y=this.am1-i*Math.cos(n),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function yX(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,i,n;if(r=Zi(e.x,e.y=this.am1-e.y),n=nE(this.am1+this.m1-r,this.es,this.en),(t=Math.abs(n))<de)t=Math.sin(n),i=r*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*t*t)/Math.cos(n);else if(Math.abs(t-de)<=Dp)i=0;else throw new Error;return e.x=Se(i+(this.long0||0)),e.y=Ml(n),e}function gX(e){var t=Se(e.x-(this.long0||0)),r=e.y,i,n;return n=this.cphi1+this.phi1-r,Math.abs(n)>Dp?(e.x=n*Math.sin(i=t*Math.cos(r)/n),e.y=this.cphi1-n*Math.cos(i)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function vX(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var t,r,i=Zi(e.x,e.y=this.cphi1-e.y);if(r=this.cphi1+this.phi1-i,Math.abs(r)>de)throw new Error;return Math.abs(Math.abs(r)-de)<=Dp?t=0:t=i*Math.atan2(e.x,e.y)/Math.cos(r),e.x=Se(t+(this.long0||0)),e.y=Ml(r),e}var bX=["bonne","Bonne (Werner lat_1=90)"];const _X={init:pX,names:bX};function wX(e){e.Proj.projections.add(Py),e.Proj.projections.add(Ly),e.Proj.projections.add(mJ),e.Proj.projections.add(TJ),e.Proj.projections.add(CJ),e.Proj.projections.add(RJ),e.Proj.projections.add(VJ),e.Proj.projections.add(HJ),e.Proj.projections.add(XJ),e.Proj.projections.add(iK),e.Proj.projections.add(_K),e.Proj.projections.add(AK),e.Proj.projections.add(CK),e.Proj.projections.add(DK),e.Proj.projections.add(VK),e.Proj.projections.add(HK),e.Proj.projections.add(XK),e.Proj.projections.add(iZ),e.Proj.projections.add(cZ),e.Proj.projections.add(pZ),e.Proj.projections.add(bZ),e.Proj.projections.add(EZ),e.Proj.projections.add(OZ),e.Proj.projections.add(LZ),e.Proj.projections.add(UZ),e.Proj.projections.add(HZ),e.Proj.projections.add(XZ),e.Proj.projections.add(iX),e.Proj.projections.add(lX),e.Proj.projections.add(dX),e.Proj.projections.add(_X)}Ut.defaultDatum="WGS84";Ut.Proj=co;Ut.WGS84=new Ut.Proj("WGS84");Ut.Point=zh;Ut.toPoint=bP;Ut.defs=Ni;Ut.nadgrid=gY;Ut.transform=Og;Ut.mgrs=PY;Ut.version="__VERSION__";wX(Ut);const SX="EPSG:4326";class xX{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,Ut.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ut.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ut.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),Ut.defs("EPSG:102100",Ut.defs("EPSG:3857")),Ut.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Ut.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let t=1;for(;t<=60;){const r=t<10?`0${t}`:t;Ut.defs(`EPSG:326${r}`,`+proj=utm +zone=${t} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),t++}}addProjection(t,r){t=typeof t=="number"?`EPSG:${t}`:t,Ut.defs(t,r)}defaultEpsgLookup(t){const r=/urn:ogc:def:crs:EPSG::(\d+)/,i=/EPSG:(\d+)/,n=String(t).match(r)||String(t).match(i)||[];if(n.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${n[1]}.proj4`;sr(a,{responseType:"text"}).then(f=>{f.data?s(f.data):o()},f=>{o(f)})})}epsgLookup(t){return this.espgWorker(t)}setEpsgLookup(t){this.espgWorker=t}normalizeProj(t){if(typeof t=="object"){if(t.wkid)return"EPSG:"+t.wkid;if(t.wkt)return t.wkt}else{if(typeof t=="number")return"EPSG:"+t;if(typeof t=="string")return t}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(t){let r,i="";try{r=this.normalizeProj(t)}catch{return!1}if(!r.startsWith("EPSG:"))return!0;typeof t=="object"&&t.latestWkid&&(i=this.normalizeProj(t.latestWkid));const n=(l,c)=>{l!==c&&Ut.defs(c,Ut.defs(l))};if(Ut.defs(r))return!0;if(i&&Ut.defs(i))return n(i,r),!0;const s=async l=>{try{const c=await this.epsgLookup(l);return c===null||c===""?!1:(Ut.defs(l,c),!0)}catch{return!1}};return await(i?s(i):Promise.resolve(!1))?(n(i,r),!0):s(r)}async checkProjBomber(t){if(t.length>0){const r=t.pop();if(await this.checkProj(r))return this.checkProjBomber(t);throw console.error("Unable to parse or locate projection information for this item:",r),new Error("Could not find projection information, see console for details")}}async projectGeoJson(t,r,i){let n,s;if(r?n=this.normalizeProj(r):n=Be.parseGeoJsonCrs(t.crs),i?s=this.normalizeProj(i):s=SX,s===n)return t;await this.checkProjBomber([n,s]);const o=Ut(n,s).forward;return CH.Tools.applyConverter(t,o)}async projectGeometry(t,r){if(r.type===Ze.EXTENT)return this.projectExtent(t,r);await this.checkProjBomber([t,r.sr]);const i=r.toGeoJSON(),n=await this.projectGeoJson(i,this.normalizeProj(r.sr),this.normalizeProj(t)),s=Lh.geom.geomGeoJsonToRamp(n,r.id);return s.sr=Be.parseSR(t),s}async projectExtent(t,r){const i=(_,w,x)=>{if(x===0)return[_,w];const T=[(_[0]+w[0])/2,(_[1]+w[1])/2];if(x===1)return[_,T,w];if(x>1){const S=i(_,T,x-1),v=i(T,w,x-1);return S.concat(v.slice(1))}return[[]]},n=r.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(_=>i(n[_],n[_+1],3).slice(1)).forEach(_=>s=s.concat(_));const o=new yi("warpy",[s],r.sr,!0),a=await this.projectGeometry(t,o),l=a.toArray().pop()||[],c=l.map(_=>_[0]),f=l.map(_=>_[1]),d=Math.min.apply(null,c),p=Math.max.apply(null,c),y=Math.min.apply(null,f),g=Math.max.apply(null,f);return ir.fromParams(r.id+"_projected",d,y,p,g,a.sr)}}class EX{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new xX,this.geom=new TH,this.sharedUtils=new OH}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(t){const r=i=>i.map(n=>({level:n[0],resolution:n[1],scale:n[2]}));if(t===this.DEFAULT_LAMBERT)return r([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(t===this.DEFAULT_MERCATOR)return r([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${t}`)}}class Rr{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(t){this.$iApi=t}}function TX(e){return typeof e=="function"&&e.render&&typeof e.render=="function"}function AX(e){const t=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof e=="object"&&!e.functional&&t.some(r=>e[r]!==void 0)}function CP(e){return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string")&&Object.values(e).every(t=>t instanceof HTMLElement)}function MX(e){return typeof e=="object"&&e.default!==void 0}var y0={exports:{}},eM;function IX(){if(eM)return y0.exports;eM=1;function e(){}return e.prototype={on:function(t,r,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:r,ctx:i}),this},once:function(t,r,i){var n=this;function s(){n.off(t,s),r.apply(i,arguments)}return s._=r,this.on(t,s,i)},emit:function(t){var r=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,s=i.length;for(n;n<s;n++)i[n].fn.apply(i[n].ctx,r);return this},off:function(t,r){var i=this.e||(this.e={}),n=i[t],s=[];if(n&&r)for(var o=0,a=n.length;o<a;o++)n[o].fn!==r&&n[o].fn._!==r&&s.push(n[o]);return s.length?i[t]=s:delete i[t],this}},y0.exports=e,y0.exports.TinyEmitter=e,y0.exports}var OX=IX();/**
* @vue/shared v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tn(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const lt={},Mh=[],Si=()=>{},Cd=()=>!1,vu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),lE=e=>e.startsWith("onUpdate:"),ut=Object.assign,cE=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},$X=Object.prototype.hasOwnProperty,Et=(e,t)=>$X.call(e,t),Te=Array.isArray,Ih=e=>Pf(e)==="[object Map]",bu=e=>Pf(e)==="[object Set]",tM=e=>Pf(e)==="[object Date]",CX=e=>Pf(e)==="[object RegExp]",je=e=>typeof e=="function",Ke=e=>typeof e=="string",wn=e=>typeof e=="symbol",Pt=e=>e!==null&&typeof e=="object",uE=e=>(Pt(e)||je(e))&&je(e.then)&&je(e.catch),NP=Object.prototype.toString,Pf=e=>NP.call(e),NX=e=>Pf(e).slice(8,-1),lv=e=>Pf(e)==="[object Object]",hE=e=>Ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fl=Tn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),PX=Tn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cv=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},LX=/-(\w)/g,er=cv(e=>e.replace(LX,(t,r)=>r?r.toUpperCase():"")),kX=/\B([A-Z])/g,Xi=cv(e=>e.replace(kX,"-$1").toLowerCase()),Il=cv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pc=cv(e=>e?`on${Il(e)}`:""),ki=(e,t)=>!Object.is(e,t),Oh=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},PP=(e,t,r,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:r})},Pg=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Lg=e=>{const t=Ke(e)?Number(e):NaN;return isNaN(t)?e:t};let rM;const LP=()=>rM||(rM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function RX(e,t){return e+JSON.stringify(t,(r,i)=>typeof i=="function"?i.toString():i)}const DX="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",FX=Tn(DX);function Ol(e){if(Te(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],n=Ke(i)?kP(i):Ol(i);if(n)for(const s in n)t[s]=n[s]}return t}else if(Ke(e)||Pt(e))return e}const UX=/;(?![^(]*\))/g,jX=/:([^]+)/,GX=/\/\*[^]*?\*\//g;function kP(e){const t={};return e.replace(GX,"").split(UX).forEach(r=>{if(r){const i=r.split(jX);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function vr(e){let t="";if(Ke(e))t=e;else if(Te(e))for(let r=0;r<e.length;r++){const i=vr(e[r]);i&&(t+=i+" ")}else if(Pt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function RP(e){if(!e)return null;let{class:t,style:r}=e;return t&&!Ke(t)&&(e.class=vr(t)),r&&(e.style=Ol(r)),e}const VX="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",BX="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",zX="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",qX="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",WX=Tn(VX),HX=Tn(BX),YX=Tn(zX),JX=Tn(qX),KX="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ZX=Tn(KX);function DP(e){return!!e||e===""}function XX(e,t){if(e.length!==t.length)return!1;let r=!0;for(let i=0;r&&i<e.length;i++)r=_l(e[i],t[i]);return r}function _l(e,t){if(e===t)return!0;let r=tM(e),i=tM(t);if(r||i)return r&&i?e.getTime()===t.getTime():!1;if(r=wn(e),i=wn(t),r||i)return e===t;if(r=Te(e),i=Te(t),r||i)return r&&i?XX(e,t):!1;if(r=Pt(e),i=Pt(t),r||i){if(!r||!i)return!1;const n=Object.keys(e).length,s=Object.keys(t).length;if(n!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!_l(e[o],t[o]))return!1}}return String(e)===String(t)}function uv(e,t){return e.findIndex(r=>_l(r,t))}const FP=e=>!!(e&&e.__v_isRef===!0),zt=e=>Ke(e)?e:e==null?"":Te(e)||Pt(e)&&(e.toString===NP||!je(e.toString))?FP(e)?zt(e.value):JSON.stringify(e,UP,2):String(e),UP=(e,t)=>FP(t)?UP(e,t.value):Ih(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,n],s)=>(r[Rb(i,s)+" =>"]=n,r),{})}:bu(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Rb(r))}:wn(t)?Rb(t):Pt(t)&&!Te(t)&&!lv(t)?String(t):t,Rb=(e,t="")=>{var r;return wn(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pi;class hv{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pi,!t&&Pi&&(this.index=(Pi.scopes||(Pi.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Pi;try{return Pi=this,t()}finally{Pi=r}}}on(){Pi=this}off(){Pi=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function $m(e){return new hv(e)}function fv(){return Pi}function fE(e,t=!1){Pi&&Pi.cleanups.push(e)}let Vt;const Db=new WeakSet;class Wh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pi&&Pi.active&&Pi.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Db.has(this)&&(Db.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||GP(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,iM(this),VP(this);const t=Vt,r=_s;Vt=this,_s=!0;try{return this.fn()}finally{BP(this),Vt=t,_s=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)mE(t);this.deps=this.depsTail=void 0,iM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Db.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Iw(this)&&this.run()}get dirty(){return Iw(this)}}let jP=0,ch;function GP(e){e.flags|=8,e.next=ch,ch=e}function dE(){jP++}function pE(){if(--jP>0)return;let e;for(;ch;){let t=ch,r;for(;t;)t.flags&=-9,t=t.next;for(t=ch,ch=void 0;t;){if(t.flags&1)try{t.trigger()}catch(i){e||(e=i)}r=t.next,t.next=void 0,t=r}}if(e)throw e}function VP(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function BP(e){let t,r=e.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),mE(i),QX(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=r}function Iw(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zP(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zP(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fp))return;e.globalVersion=Fp;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Iw(e)){e.flags&=-3;return}const r=Vt,i=_s;Vt=e,_s=!0;try{VP(e);const n=e.fn(e._value);(t.version===0||ki(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Vt=r,_s=i,BP(e),e.flags&=-3}}function mE(e,t=!1){const{dep:r,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),r.subs===e&&(r.subs=i),!r.subs&&r.computed){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)mE(s,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function QX(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}function qP(e,t){e.effect instanceof Wh&&(e=e.effect.fn);const r=new Wh(e);t&&ut(r,t);try{r.run()}catch(n){throw r.stop(),n}const i=r.run.bind(r);return i.effect=r,i}function WP(e){e.effect.stop()}let _s=!0;const HP=[];function $l(){HP.push(_s),_s=!1}function Cl(){const e=HP.pop();_s=e===void 0?!0:e}function iM(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Vt;Vt=void 0;try{t()}finally{Vt=r}}}let Fp=0;class eQ{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dv{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Vt||!_s||Vt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Vt)r=this.activeLink=new eQ(Vt,this),Vt.deps?(r.prevDep=Vt.depsTail,Vt.depsTail.nextDep=r,Vt.depsTail=r):Vt.deps=Vt.depsTail=r,YP(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Vt.depsTail,r.nextDep=void 0,Vt.depsTail.nextDep=r,Vt.depsTail=r,Vt.deps===r&&(Vt.deps=i)}return r}trigger(t){this.version++,Fp++,this.notify(t)}notify(t){dE();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{pE()}}}function YP(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)YP(i)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const kg=new WeakMap,Lc=Symbol(""),Ow=Symbol(""),Up=Symbol("");function Ei(e,t,r){if(_s&&Vt){let i=kg.get(e);i||kg.set(e,i=new Map);let n=i.get(r);n||(i.set(r,n=new dv),n.target=e,n.map=i,n.key=r),n.track()}}function ra(e,t,r,i,n,s){const o=kg.get(e);if(!o){Fp++;return}const a=l=>{l&&l.trigger()};if(dE(),t==="clear")o.forEach(a);else{const l=Te(e),c=l&&hE(r);if(l&&r==="length"){const f=Number(i);o.forEach((d,p)=>{(p==="length"||p===Up||!wn(p)&&p>=f)&&a(d)})}else switch(r!==void 0&&a(o.get(r)),c&&a(o.get(Up)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Lc)),Ih(e)&&a(o.get(Ow)));break;case"delete":l||(a(o.get(Lc)),Ih(e)&&a(o.get(Ow)));break;case"set":Ih(e)&&a(o.get(Lc));break}}pE()}function tQ(e,t){const r=kg.get(e);return r&&r.get(t)}function Lu(e){const t=qe(e);return t===e?t:(Ei(t,"iterate",Up),rn(e)?t:t.map(gi))}function pv(e){return Ei(e=qe(e),"iterate",Up),e}const rQ={__proto__:null,[Symbol.iterator](){return Fb(this,Symbol.iterator,gi)},concat(...e){return Lu(this).concat(...e.map(t=>Te(t)?Lu(t):t))},entries(){return Fb(this,"entries",e=>(e[1]=gi(e[1]),e))},every(e,t){return Oo(this,"every",e,t,void 0,arguments)},filter(e,t){return Oo(this,"filter",e,t,r=>r.map(gi),arguments)},find(e,t){return Oo(this,"find",e,t,gi,arguments)},findIndex(e,t){return Oo(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Oo(this,"findLast",e,t,gi,arguments)},findLastIndex(e,t){return Oo(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Oo(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ub(this,"includes",e)},indexOf(...e){return Ub(this,"indexOf",e)},join(e){return Lu(this).join(e)},lastIndexOf(...e){return Ub(this,"lastIndexOf",e)},map(e,t){return Oo(this,"map",e,t,void 0,arguments)},pop(){return Jf(this,"pop")},push(...e){return Jf(this,"push",e)},reduce(e,...t){return nM(this,"reduce",e,t)},reduceRight(e,...t){return nM(this,"reduceRight",e,t)},shift(){return Jf(this,"shift")},some(e,t){return Oo(this,"some",e,t,void 0,arguments)},splice(...e){return Jf(this,"splice",e)},toReversed(){return Lu(this).toReversed()},toSorted(e){return Lu(this).toSorted(e)},toSpliced(...e){return Lu(this).toSpliced(...e)},unshift(...e){return Jf(this,"unshift",e)},values(){return Fb(this,"values",gi)}};function Fb(e,t,r){const i=pv(e),n=i[t]();return i!==e&&!rn(e)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.value&&(s.value=r(s.value)),s}),n}const iQ=Array.prototype;function Oo(e,t,r,i,n,s){const o=pv(e),a=o!==e&&!rn(e),l=o[t];if(l!==iQ[t]){const d=l.apply(e,s);return a?gi(d):d}let c=r;o!==e&&(a?c=function(d,p){return r.call(this,gi(d),p,e)}:r.length>2&&(c=function(d,p){return r.call(this,d,p,e)}));const f=l.call(o,c,i);return a&&n?n(f):f}function nM(e,t,r,i){const n=pv(e);let s=r;return n!==e&&(rn(e)?r.length>3&&(s=function(o,a,l){return r.call(this,o,a,l,e)}):s=function(o,a,l){return r.call(this,o,gi(a),l,e)}),n[t](s,...i)}function Ub(e,t,r){const i=qe(e);Ei(i,"iterate",Up);const n=i[t](...r);return(n===-1||n===!1)&&Cm(r[0])?(r[0]=qe(r[0]),i[t](...r)):n}function Jf(e,t,r=[]){$l(),dE();const i=qe(e)[t].apply(e,r);return pE(),Cl(),i}const nQ=Tn("__proto__,__v_isRef,__isVue"),JP=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wn));function sQ(e){wn(e)||(e=String(e));const t=qe(this);return Ei(t,"has",e),t.hasOwnProperty(e)}class KP{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){const n=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw")return i===(n?s?rL:tL:s?eL:QP).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const o=Te(t);if(!n){let l;if(o&&(l=rQ[r]))return l;if(r==="hasOwnProperty")return sQ}const a=Reflect.get(t,r,gt(t)?t:i);return(wn(r)?JP.has(r):nQ(r))||(n||Ei(t,"get",r),s)?a:gt(a)?o&&hE(r)?a:a.value:Pt(a)?n?gv(a):Jr(a):a}}class ZP extends KP{constructor(t=!1){super(!1,t)}set(t,r,i,n){let s=t[r];if(!this._isShallow){const l=la(s);if(!rn(i)&&!la(i)&&(s=qe(s),i=qe(i)),!Te(t)&&gt(s)&&!gt(i))return l?!1:(s.value=i,!0)}const o=Te(t)&&hE(r)?Number(r)<t.length:Et(t,r),a=Reflect.set(t,r,i,gt(t)?t:n);return t===qe(n)&&(o?ki(i,s)&&ra(t,"set",r,i):ra(t,"add",r,i)),a}deleteProperty(t,r){const i=Et(t,r);t[r];const n=Reflect.deleteProperty(t,r);return n&&i&&ra(t,"delete",r,void 0),n}has(t,r){const i=Reflect.has(t,r);return(!wn(r)||!JP.has(r))&&Ei(t,"has",r),i}ownKeys(t){return Ei(t,"iterate",Te(t)?"length":Lc),Reflect.ownKeys(t)}}class XP extends KP{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const oQ=new ZP,aQ=new XP,lQ=new ZP(!0),cQ=new XP(!0),yE=e=>e,mv=e=>Reflect.getPrototypeOf(e);function g0(e,t,r=!1,i=!1){e=e.__v_raw;const n=qe(e),s=qe(t);r||(ki(t,s)&&Ei(n,"get",t),Ei(n,"get",s));const{has:o}=mv(n),a=i?yE:r?vE:gi;if(o.call(n,t))return a(e.get(t));if(o.call(n,s))return a(e.get(s));e!==n&&e.get(t)}function v0(e,t=!1){const r=this.__v_raw,i=qe(r),n=qe(e);return t||(ki(e,n)&&Ei(i,"has",e),Ei(i,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function b0(e,t=!1){return e=e.__v_raw,!t&&Ei(qe(e),"iterate",Lc),Reflect.get(e,"size",e)}function sM(e,t=!1){!t&&!rn(e)&&!la(e)&&(e=qe(e));const r=qe(this);return mv(r).has.call(r,e)||(r.add(e),ra(r,"add",e,e)),this}function oM(e,t,r=!1){!r&&!rn(t)&&!la(t)&&(t=qe(t));const i=qe(this),{has:n,get:s}=mv(i);let o=n.call(i,e);o||(e=qe(e),o=n.call(i,e));const a=s.call(i,e);return i.set(e,t),o?ki(t,a)&&ra(i,"set",e,t):ra(i,"add",e,t),this}function aM(e){const t=qe(this),{has:r,get:i}=mv(t);let n=r.call(t,e);n||(e=qe(e),n=r.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return n&&ra(t,"delete",e,void 0),s}function lM(){const e=qe(this),t=e.size!==0,r=e.clear();return t&&ra(e,"clear",void 0,void 0),r}function _0(e,t){return function(i,n){const s=this,o=s.__v_raw,a=qe(o),l=t?yE:e?vE:gi;return!e&&Ei(a,"iterate",Lc),o.forEach((c,f)=>i.call(n,l(c),l(f),s))}}function w0(e,t,r){return function(...i){const n=this.__v_raw,s=qe(n),o=Ih(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...i),f=r?yE:t?vE:gi;return!t&&Ei(s,"iterate",l?Ow:Lc),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[f(d[0]),f(d[1])]:f(d),done:p}},[Symbol.iterator](){return this}}}}function Ta(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function uQ(){const e={get(s){return g0(this,s)},get size(){return b0(this)},has:v0,add:sM,set:oM,delete:aM,clear:lM,forEach:_0(!1,!1)},t={get(s){return g0(this,s,!1,!0)},get size(){return b0(this)},has:v0,add(s){return sM.call(this,s,!0)},set(s,o){return oM.call(this,s,o,!0)},delete:aM,clear:lM,forEach:_0(!1,!0)},r={get(s){return g0(this,s,!0)},get size(){return b0(this,!0)},has(s){return v0.call(this,s,!0)},add:Ta("add"),set:Ta("set"),delete:Ta("delete"),clear:Ta("clear"),forEach:_0(!0,!1)},i={get(s){return g0(this,s,!0,!0)},get size(){return b0(this,!0)},has(s){return v0.call(this,s,!0)},add:Ta("add"),set:Ta("set"),delete:Ta("delete"),clear:Ta("clear"),forEach:_0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=w0(s,!1,!1),r[s]=w0(s,!0,!1),t[s]=w0(s,!1,!0),i[s]=w0(s,!0,!0)}),[e,r,t,i]}const[hQ,fQ,dQ,pQ]=uQ();function yv(e,t){const r=t?e?pQ:dQ:e?fQ:hQ;return(i,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Et(r,n)&&n in i?r:i,n,s)}const mQ={get:yv(!1,!1)},yQ={get:yv(!1,!0)},gQ={get:yv(!0,!1)},vQ={get:yv(!0,!0)},QP=new WeakMap,eL=new WeakMap,tL=new WeakMap,rL=new WeakMap;function bQ(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _Q(e){return e.__v_skip||!Object.isExtensible(e)?0:bQ(NX(e))}function Jr(e){return la(e)?e:vv(e,!1,oQ,mQ,QP)}function gE(e){return vv(e,!1,lQ,yQ,eL)}function gv(e){return vv(e,!0,aQ,gQ,tL)}function iL(e){return vv(e,!0,cQ,vQ,rL)}function vv(e,t,r,i,n){if(!Pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=n.get(e);if(s)return s;const o=_Q(e);if(o===0)return e;const a=new Proxy(e,o===2?i:r);return n.set(e,a),a}function gn(e){return la(e)?gn(e.__v_raw):!!(e&&e.__v_isReactive)}function la(e){return!!(e&&e.__v_isReadonly)}function rn(e){return!!(e&&e.__v_isShallow)}function Cm(e){return e?!!e.__v_raw:!1}function qe(e){const t=e&&e.__v_raw;return t?qe(t):e}function Mr(e){return!Et(e,"__v_skip")&&Object.isExtensible(e)&&PP(e,"__v_skip",!0),e}const gi=e=>Pt(e)?Jr(e):e,vE=e=>Pt(e)?gv(e):e;function gt(e){return e?e.__v_isRef===!0:!1}function ne(e){return nL(e,!1)}function Lf(e){return nL(e,!0)}function nL(e,t){return gt(e)?e:new wQ(e,t)}class wQ{constructor(t,r){this.dep=new dv,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:qe(t),this._value=r?t:gi(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,i=this.__v_isShallow||rn(t)||la(t);t=i?t:qe(t),ki(t,r)&&(this._rawValue=t,this._value=i?t:gi(t),this.dep.trigger())}}function sL(e){e.dep&&e.dep.trigger()}function Ne(e){return gt(e)?e.value:e}function oL(e){return je(e)?e():Ne(e)}const SQ={get:(e,t,r)=>t==="__v_raw"?e:Ne(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const n=e[t];return gt(n)&&!gt(r)?(n.value=r,!0):Reflect.set(e,t,r,i)}};function bv(e){return gn(e)?e:new Proxy(e,SQ)}class xQ{constructor(t){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new dv,{get:i,set:n}=t(r.track.bind(r),r.trigger.bind(r));this._get=i,this._set=n}get value(){return this._value=this._get()}set value(t){this._set(t)}}function bE(e){return new xQ(e)}function _E(e){const t=Te(e)?new Array(e.length):{};for(const r in e)t[r]=lL(e,r);return t}class EQ{constructor(t,r,i){this._object=t,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return tQ(qe(this._object),this._key)}}class TQ{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function aL(e,t,r){return gt(e)?e:je(e)?new TQ(e):Pt(e)&&arguments.length>1?lL(e,t,r):ne(e)}function lL(e,t,r){const i=e[t];return gt(i)?i:new EQ(e,t,r)}class AQ{constructor(t,r,i){this.fn=t,this.setter=r,this._value=void 0,this.dep=new dv(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fp-1,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Vt!==this)return GP(this),!0}get value(){const t=this.dep.track();return zP(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function MQ(e,t,r=!1){let i,n;return je(e)?i=e:(i=e.get,n=e.set),new AQ(i,n,r)}const cL={GET:"get",HAS:"has",ITERATE:"iterate"},uL={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},S0={},Rg=new WeakMap;let Ya;function hL(){return Ya}function wE(e,t=!1,r=Ya){if(r){let i=Rg.get(r);i||Rg.set(r,i=[]),i.push(e)}}function IQ(e,t,r=lt){const{immediate:i,deep:n,once:s,scheduler:o,augmentJob:a,call:l}=r,c=v=>n?v:rn(v)||n===!1||n===0?Ko(v,1):Ko(v);let f,d,p,y,g=!1,_=!1;if(gt(e)?(d=()=>e.value,g=rn(e)):gn(e)?(d=()=>c(e),g=!0):Te(e)?(_=!0,g=e.some(v=>gn(v)||rn(v)),d=()=>e.map(v=>{if(gt(v))return v.value;if(gn(v))return c(v);if(je(v))return l?l(v,2):v()})):je(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){$l();try{p()}finally{Cl()}}const v=Ya;Ya=f;try{return l?l(e,3,[y]):e(y)}finally{Ya=v}}:d=Si,t&&n){const v=d,M=n===!0?1/0:n;d=()=>Ko(v(),M)}const w=fv(),x=()=>{f.stop(),w&&cE(w.effects,f)};if(s&&t){const v=t;t=(...M)=>{v(...M),x()}}let T=_?new Array(e.length).fill(S0):S0;const S=v=>{if(!(!(f.flags&1)||!f.dirty&&!v))if(t){const M=f.run();if(n||g||(_?M.some((O,P)=>ki(O,T[P])):ki(M,T))){p&&p();const O=Ya;Ya=f;try{const P=[M,T===S0?void 0:_&&T[0]===S0?[]:T,y];l?l(t,3,P):t(...P),T=M}finally{Ya=O}}}else f.run()};return a&&a(S),f=new Wh(d),f.scheduler=o?()=>o(S,!1):S,y=v=>wE(v,!1,f),p=f.onStop=()=>{const v=Rg.get(f);if(v){if(l)l(v,4);else for(const M of v)M();Rg.delete(f)}},t?i?S(!0):T=f.run():o?o(S.bind(null,!0),!0):f.run(),x.pause=f.pause.bind(f),x.resume=f.resume.bind(f),x.stop=x,x}function Ko(e,t=1/0,r){if(t<=0||!Pt(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,gt(e))Ko(e.value,t,r);else if(Te(e))for(let i=0;i<e.length;i++)Ko(e[i],t,r);else if(bu(e)||Ih(e))e.forEach(i=>{Ko(i,t,r)});else if(lv(e)){for(const i in e)Ko(e[i],t,r);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Ko(e[i],t,r)}return e}/**
* @vue/runtime-core v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const fL=[];function OQ(e){fL.push(e)}function $Q(){fL.pop()}function dL(e,t){}const pL={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},CQ={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function _u(e,t,r,i){try{return i?e(...i):e()}catch(n){Nl(n,t,r)}}function Sn(e,t,r,i){if(je(e)){const n=_u(e,t,r,i);return n&&uE(n)&&n.catch(s=>{Nl(s,t,r)}),n}if(Te(e)){const n=[];for(let s=0;s<e.length;s++)n.push(Sn(e[s],t,r,i));return n}}function Nl(e,t,r,i=!0){const n=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||lt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,l,c)===!1)return}a=a.parent}if(s){$l(),_u(s,null,10,[e,l,c]),Cl();return}}NQ(e,r,n,i,o)}function NQ(e,t,r,i=!0,n=!1){if(n)throw e;console.error(e)}let jp=!1,$w=!1;const Ri=[];let Ys=0;const $h=[];let Ja=null,Ju=0;const mL=Promise.resolve();let SE=null;function Cs(e){const t=SE||mL;return e?t.then(this?e.bind(this):e):t}function PQ(e){let t=jp?Ys+1:0,r=Ri.length;for(;t<r;){const i=t+r>>>1,n=Ri[i],s=Vp(n);s<e||s===e&&n.flags&2?t=i+1:r=i}return t}function xE(e){if(!(e.flags&1)){const t=Vp(e),r=Ri[Ri.length-1];!r||!(e.flags&2)&&t>=Vp(r)?Ri.push(e):Ri.splice(PQ(t),0,e),e.flags|=1,yL()}}function yL(){!jp&&!$w&&($w=!0,SE=mL.then(gL))}function Gp(e){Te(e)?$h.push(...e):Ja&&e.id===-1?Ja.splice(Ju+1,0,e):e.flags&1||($h.push(e),e.flags|=1),yL()}function cM(e,t,r=jp?Ys+1:0){for(;r<Ri.length;r++){const i=Ri[r];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Ri.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Dg(e){if($h.length){const t=[...new Set($h)].sort((r,i)=>Vp(r)-Vp(i));if($h.length=0,Ja){Ja.push(...t);return}for(Ja=t,Ju=0;Ju<Ja.length;Ju++){const r=Ja[Ju];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ja=null,Ju=0}}const Vp=e=>e.id==null?e.flags&2?-1:1/0:e.id;function gL(e){$w=!1,jp=!0;try{for(Ys=0;Ys<Ri.length;Ys++){const t=Ri[Ys];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_u(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ys<Ri.length;Ys++){const t=Ri[Ys];t&&(t.flags&=-2)}Ys=0,Ri.length=0,Dg(),jp=!1,SE=null,(Ri.length||$h.length)&&gL()}}let Ku,x0=[];function vL(e,t){var r,i;Ku=e,Ku?(Ku.enabled=!0,x0.forEach(({event:n,args:s})=>Ku.emit(n,...s)),x0=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{vL(s,t)}),setTimeout(()=>{Ku||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,x0=[])},3e3)):x0=[]}let qr=null,_v=null;function Bp(e){const t=qr;return qr=e,_v=e&&e.type.__scopeId||null,t}function bL(e){_v=e}function _L(){_v=null}const wL=e=>Or;function Or(e,t=qr,r){if(!t||e._n)return e;const i=(...n)=>{i._d&&Bg(-1);const s=Bp(t);let o;try{o=e(...n)}finally{Bp(s),i._d&&Bg(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Ct(e,t){if(qr===null)return e;const r=Dm(qr),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[s,o,a,l=lt]=t[n];s&&(je(s)&&(s={mounted:s,updated:s}),s.deep&&Ko(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Zs(e,t,r,i){const n=e.dirs,s=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&($l(),Sn(l,r,8,[e.el,a,e,t]),Cl())}}const SL=Symbol("_vte"),xL=e=>e.__isTeleport,Jd=e=>e&&(e.disabled||e.disabled===""),LQ=e=>e&&(e.defer||e.defer===""),uM=e=>typeof SVGElement<"u"&&e instanceof SVGElement,hM=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Cw=(e,t)=>{const r=e&&e.to;return Ke(r)?t?t(r):null:r},kQ={name:"Teleport",__isTeleport:!0,process(e,t,r,i,n,s,o,a,l,c){const{mc:f,pc:d,pbc:p,o:{insert:y,querySelector:g,createText:_,createComment:w}}=c,x=Jd(t.props);let{shapeFlag:T,children:S,dynamicChildren:v}=t;if(e==null){const M=t.el=_(""),O=t.anchor=_("");y(M,r,i),y(O,r,i);const P=(k,G)=>{T&16&&(n&&n.isCE&&(n.ce._teleportTarget=k),f(S,k,G,n,s,o,a,l))},R=()=>{const k=t.target=Cw(t.props,g),G=EL(k,t,_,y);k&&(o!=="svg"&&uM(k)?o="svg":o!=="mathml"&&hM(k)&&(o="mathml"),x||(P(k,G),ky(t)))};x&&(P(r,O),ky(t)),LQ(t.props)?Qr(R,s):R()}else{t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,O=t.target=e.target,P=t.targetAnchor=e.targetAnchor,R=Jd(e.props),k=R?r:O,G=R?M:P;if(o==="svg"||uM(O)?o="svg":(o==="mathml"||hM(O))&&(o="mathml"),v?(p(e.dynamicChildren,v,k,n,s,o,a),qE(e,t,!0)):l||d(e,t,k,G,n,s,o,a,!1),x)R?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):E0(t,r,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=Cw(t.props,g);V&&E0(t,V,null,c,0)}else R&&E0(t,O,P,c,1);ky(t)}},remove(e,t,r,{um:i,o:{remove:n}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:f,target:d,props:p}=e;if(d&&(n(c),n(f)),s&&n(l),o&16){const y=s||!Jd(p);for(let g=0;g<a.length;g++){const _=a[g];i(_,t,r,y,!!_.dynamicChildren)}}},move:E0,hydrate:RQ};function E0(e,t,r,{o:{insert:i},m:n},s=2){s===0&&i(e.targetAnchor,t,r);const{el:o,anchor:a,shapeFlag:l,children:c,props:f}=e,d=s===2;if(d&&i(o,t,r),(!d||Jd(f))&&l&16)for(let p=0;p<c.length;p++)n(c[p],t,r,2);d&&i(a,t,r)}function RQ(e,t,r,i,n,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:f}},d){const p=t.target=Cw(t.props,l);if(p){const y=p._lpa||p.firstChild;if(t.shapeFlag&16)if(Jd(t.props))t.anchor=d(o(e),t,a(e),r,i,n,s),t.targetStart=y,t.targetAnchor=y&&o(y);else{t.anchor=o(e);let g=y;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,p._lpa=t.targetAnchor&&o(t.targetAnchor);break}}g=o(g)}t.targetAnchor||EL(p,t,f,c),d(y&&o(y),t,p,r,i,n,s)}ky(t)}return t.anchor&&o(t.anchor)}const EE=kQ;function ky(e){const t=e.ctx;if(t&&t.ut){let r=e.targetStart;for(;r&&r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}function EL(e,t,r,i){const n=t.targetStart=r(""),s=t.targetAnchor=r("");return n[SL]=s,e&&(i(n,e),i(s,e)),s}const Ka=Symbol("_leaveCb"),T0=Symbol("_enterCb");function wv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ai(()=>{e.isMounted=!0}),Ns(()=>{e.isUnmounting=!0}),e}const On=[Function,Array],Sv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:On,onEnter:On,onAfterEnter:On,onEnterCancelled:On,onBeforeLeave:On,onLeave:On,onAfterLeave:On,onLeaveCancelled:On,onBeforeAppear:On,onAppear:On,onAfterAppear:On,onAppearCancelled:On},TL=e=>{const t=e.subTree;return t.component?TL(t.component):t},DQ={name:"BaseTransition",props:Sv,setup(e,{slots:t}){const r=kr(),i=wv();return()=>{const n=t.default&&Nm(t.default(),!0);if(!n||!n.length)return;const s=AL(n),o=qe(e),{mode:a}=o;if(i.isLeaving)return jb(s);const l=fM(s);if(!l)return jb(s);let c=tu(l,o,i,r,p=>c=p);l.type!==xr&&wo(l,c);const f=r.subTree,d=f&&fM(f);if(d&&d.type!==xr&&!us(l,d)&&TL(r).type!==xr){const p=tu(d,o,i,r);if(wo(d,p),a==="out-in"&&l.type!==xr)return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete p.afterLeave},jb(s);a==="in-out"&&l.type!==xr&&(p.delayLeave=(y,g,_)=>{const w=ML(i,d);w[String(d.key)]=d,y[Ka]=()=>{g(),y[Ka]=void 0,delete c.delayedLeave},c.delayedLeave=_})}return s}}};function AL(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==xr){t=r;break}}return t}const TE=DQ;function ML(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function tu(e,t,r,i,n){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:f,onEnterCancelled:d,onBeforeLeave:p,onLeave:y,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:w,onAppear:x,onAfterAppear:T,onAppearCancelled:S}=t,v=String(e.key),M=ML(r,e),O=(k,G)=>{k&&Sn(k,i,9,G)},P=(k,G)=>{const V=G[1];O(k,G),Te(k)?k.every(U=>U.length<=1)&&V():k.length<=1&&V()},R={mode:o,persisted:a,beforeEnter(k){let G=l;if(!r.isMounted)if(s)G=w||l;else return;k[Ka]&&k[Ka](!0);const V=M[v];V&&us(e,V)&&V.el[Ka]&&V.el[Ka](),O(G,[k])},enter(k){let G=c,V=f,U=d;if(!r.isMounted)if(s)G=x||c,V=T||f,U=S||d;else return;let Y=!1;const se=k[T0]=h=>{Y||(Y=!0,h?O(U,[k]):O(V,[k]),R.delayedLeave&&R.delayedLeave(),k[T0]=void 0)};G?P(G,[k,se]):se()},leave(k,G){const V=String(e.key);if(k[T0]&&k[T0](!0),r.isUnmounting)return G();O(p,[k]);let U=!1;const Y=k[Ka]=se=>{U||(U=!0,G(),se?O(_,[k]):O(g,[k]),k[Ka]=void 0,M[V]===e&&delete M[V])};M[V]=e,y?P(y,[k,Y]):Y()},clone(k){const G=tu(k,t,r,i,n);return n&&n(G),G}};return R}function jb(e){if(Pm(e))return e=Is(e),e.children=null,e}function fM(e){if(!Pm(e))return xL(e.type)&&e.children?AL(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&je(r.default))return r.default()}}function wo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Nm(e,t=!1,r){let i=[],n=0;for(let s=0;s<e.length;s++){let o=e[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===Lt?(o.patchFlag&128&&n++,i=i.concat(Nm(o.children,t,a))):(t||o.type!==xr)&&i.push(a!=null?Is(o,{key:a}):o)}if(n>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function at(e,t){return je(e)?ut({name:e.name},t,{setup:e}):e}function IL(){const e=kr();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function AE(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Fg(e){const t=kr(),r=Lf(null);if(t){const n=t.refs===lt?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>r.value,set:s=>r.value=s})}return r}function Ug(e,t,r,i,n=!1){if(Te(e)){e.forEach((g,_)=>Ug(g,t&&(Te(t)?t[_]:t),r,i,n));return}if(dl(i)&&!n)return;const s=i.shapeFlag&4?Dm(i.component):i.el,o=n?null:s,{i:a,r:l}=e,c=t&&t.r,f=a.refs===lt?a.refs={}:a.refs,d=a.setupState,p=qe(d),y=d===lt?()=>!1:g=>Et(p,g);if(c!=null&&c!==l&&(Ke(c)?(f[c]=null,y(c)&&(d[c]=null)):gt(c)&&(c.value=null)),je(l))_u(l,a,12,[o,f]);else{const g=Ke(l),_=gt(l);if(g||_){const w=()=>{if(e.f){const x=g?y(l)?d[l]:f[l]:l.value;n?Te(x)&&cE(x,s):Te(x)?x.includes(s)||x.push(s):g?(f[l]=[s],y(l)&&(d[l]=f[l])):(l.value=[s],e.k&&(f[e.k]=l.value))}else g?(f[l]=o,y(l)&&(d[l]=o)):_&&(l.value=o,e.k&&(f[e.k]=o))};o?(w.id=-1,Qr(w,r)):w()}}}let dM=!1;const ku=()=>{dM||(console.error("Hydration completed but contains mismatches."),dM=!0)},FQ=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",UQ=e=>e.namespaceURI.includes("MathML"),A0=e=>{if(e.nodeType===1){if(FQ(e))return"svg";if(UQ(e))return"mathml"}},uh=e=>e.nodeType===8;function jQ(e){const{mt:t,p:r,o:{patchProp:i,createText:n,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=e,f=(S,v)=>{if(!v.hasChildNodes()){r(null,S,v),Dg(),v._vnode=S;return}d(v.firstChild,S,null,null,null),Dg(),v._vnode=S},d=(S,v,M,O,P,R=!1)=>{R=R||!!v.dynamicChildren;const k=uh(S)&&S.data==="[",G=()=>_(S,v,M,O,P,k),{type:V,ref:U,shapeFlag:Y,patchFlag:se}=v;let h=S.nodeType;v.el=S,se===-2&&(R=!1,v.dynamicChildren=null);let m=null;switch(V){case uo:h!==3?v.children===""?(l(v.el=n(""),o(S),S),m=S):m=G():(S.data!==v.children&&(ku(),S.data=v.children),m=s(S));break;case xr:T(S)?(m=s(S),x(v.el=S.content.firstChild,S,M)):h!==8||k?m=G():m=s(S);break;case pl:if(k&&(S=s(S),h=S.nodeType),h===1||h===3){m=S;const E=!v.children.length;for(let N=0;N<v.staticCount;N++)E&&(v.children+=m.nodeType===1?m.outerHTML:m.data),N===v.staticCount-1&&(v.anchor=m),m=s(m);return k?s(m):m}else G();break;case Lt:k?m=g(S,v,M,O,P,R):m=G();break;default:if(Y&1)(h!==1||v.type.toLowerCase()!==S.tagName.toLowerCase())&&!T(S)?m=G():m=p(S,v,M,O,P,R);else if(Y&6){v.slotScopeIds=P;const E=o(S);if(k?m=w(S):uh(S)&&S.data==="teleport start"?m=w(S,S.data,"teleport end"):m=s(S),t(v,E,null,M,O,A0(E),R),dl(v)){let N;k?(N=Xe(Lt),N.anchor=m?m.previousSibling:E.lastChild):N=S.nodeType===3?ho(""):Xe("div"),N.el=S,v.component.subTree=N}}else Y&64?h!==8?m=G():m=v.type.hydrate(S,v,M,O,P,R,e,y):Y&128&&(m=v.type.hydrate(S,v,M,O,A0(o(S)),P,R,e,d))}return U!=null&&Ug(U,null,O,v),m},p=(S,v,M,O,P,R)=>{R=R||!!v.dynamicChildren;const{type:k,props:G,patchFlag:V,shapeFlag:U,dirs:Y,transition:se}=v,h=k==="input"||k==="option";if(h||V!==-1){Y&&Zs(v,null,M,"created");let m=!1;if(T(S)){m=u8(O,se)&&M&&M.vnode.props&&M.vnode.props.appear;const N=S.content.firstChild;m&&se.beforeEnter(N),x(N,S,M),v.el=S=N}if(U&16&&!(G&&(G.innerHTML||G.textContent))){let N=y(S.firstChild,v,S,M,O,P,R);for(;N;){M0(S,1)||ku();const q=N;N=N.nextSibling,a(q)}}else if(U&8){let N=v.children;N[0]===`
`&&(S.tagName==="PRE"||S.tagName==="TEXTAREA")&&(N=N.slice(1)),S.textContent!==N&&(M0(S,0)||ku(),S.textContent=v.children)}if(G){if(h||!R||V&48){const N=S.tagName.includes("-");for(const q in G)(h&&(q.endsWith("value")||q==="indeterminate")||vu(q)&&!fl(q)||q[0]==="."||N)&&i(S,q,null,G[q],void 0,M)}else if(G.onClick)i(S,"onClick",null,G.onClick,void 0,M);else if(V&4&&gn(G.style))for(const N in G.style)G.style[N]}let E;(E=G&&G.onVnodeBeforeMount)&&Hi(E,M,v),Y&&Zs(v,null,M,"beforeMount"),((E=G&&G.onVnodeMounted)||Y||m)&&b8(()=>{E&&Hi(E,M,v),m&&se.enter(S),Y&&Zs(v,null,M,"mounted")},O)}return S.nextSibling},y=(S,v,M,O,P,R,k)=>{k=k||!!v.dynamicChildren;const G=v.children,V=G.length;for(let U=0;U<V;U++){const Y=k?G[U]:G[U]=Ji(G[U]),se=Y.type===uo;S?(se&&!k&&U+1<V&&Ji(G[U+1]).type===uo&&(l(n(S.data.slice(Y.children.length)),M,s(S)),S.data=Y.children),S=d(S,Y,O,P,R,k)):se&&!Y.children?l(Y.el=n(""),M):(M0(M,1)||ku(),r(null,Y,M,null,O,P,A0(M),R))}return S},g=(S,v,M,O,P,R)=>{const{slotScopeIds:k}=v;k&&(P=P?P.concat(k):k);const G=o(S),V=y(s(S),v,G,M,O,P,R);return V&&uh(V)&&V.data==="]"?s(v.anchor=V):(ku(),l(v.anchor=c("]"),G,V),V)},_=(S,v,M,O,P,R)=>{if(M0(S.parentElement,1)||ku(),v.el=null,R){const V=w(S);for(;;){const U=s(S);if(U&&U!==V)a(U);else break}}const k=s(S),G=o(S);return a(S),r(null,v,G,k,M,O,A0(G),P),k},w=(S,v="[",M="]")=>{let O=0;for(;S;)if(S=s(S),S&&uh(S)&&(S.data===v&&O++,S.data===M)){if(O===0)return s(S);O--}return S},x=(S,v,M)=>{const O=v.parentNode;O&&O.replaceChild(S,v);let P=M;for(;P;)P.vnode.el===v&&(P.vnode.el=P.subTree.el=S),P=P.parent},T=S=>S.nodeType===1&&S.tagName==="TEMPLATE";return[f,d]}const pM="data-allow-mismatch",GQ={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function M0(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(pM);)e=e.parentElement;const r=e&&e.getAttribute(pM);if(r==null)return!1;if(r==="")return!0;{const i=r.split(",");return t===0&&i.includes("children")?!0:r.split(",").includes(GQ[t])}}const OL=(e=1e4)=>t=>{const r=requestIdleCallback(t,{timeout:e});return()=>cancelIdleCallback(r)};function VQ(e){const{top:t,left:r,bottom:i,right:n}=e.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(t>0&&t<s||i>0&&i<s)&&(r>0&&r<o||n>0&&n<o)}const $L=e=>(t,r)=>{const i=new IntersectionObserver(n=>{for(const s of n)if(s.isIntersecting){i.disconnect(),t();break}},e);return r(n=>{if(n instanceof Element){if(VQ(n))return t(),i.disconnect(),!1;i.observe(n)}}),()=>i.disconnect()},CL=e=>t=>{if(e){const r=matchMedia(e);if(r.matches)t();else return r.addEventListener("change",t,{once:!0}),()=>r.removeEventListener("change",t)}},NL=(e=[])=>(t,r)=>{Ke(e)&&(e=[e]);let i=!1;const n=o=>{i||(i=!0,s(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{r(o=>{for(const a of e)o.removeEventListener(a,n)})};return r(o=>{for(const a of e)o.addEventListener(a,n,{once:!0})}),s};function BQ(e,t){if(uh(e)&&e.data==="["){let r=1,i=e.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(uh(i))if(i.data==="]"){if(--r===0)break}else i.data==="["&&r++;i=i.nextSibling}}else t(e)}const dl=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ME(e){je(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:i,delay:n=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,f,d=0;const p=()=>(d++,c=null,y()),y=()=>{let g;return c||(g=c=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((w,x)=>{l(_,()=>w(p()),()=>x(_),d+1)});throw _}).then(_=>g!==c&&c?c:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),f=_,_)))};return at({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,_,w){const x=s?()=>{const T=s(w,S=>BQ(g,S));T&&(_.bum||(_.bum=[])).push(T)}:w;f?x():y().then(()=>!_.isUnmounted&&x())},get __asyncResolved(){return f},setup(){const g=Br;if(AE(g),f)return()=>Gb(f,g);const _=S=>{c=null,Nl(S,g,13,!i)};if(a&&g.suspense||Rm)return y().then(S=>()=>Gb(S,g)).catch(S=>(_(S),()=>i?Xe(i,{error:S}):null));const w=ne(!1),x=ne(),T=ne(!!n);return n&&setTimeout(()=>{T.value=!1},n),o!=null&&setTimeout(()=>{if(!w.value&&!x.value){const S=new Error(`Async component timed out after ${o}ms.`);_(S),x.value=S}},o),y().then(()=>{w.value=!0,g.parent&&Pm(g.parent.vnode)&&g.parent.update()}).catch(S=>{_(S),x.value=S}),()=>{if(w.value&&f)return Gb(f,g);if(x.value&&i)return Xe(i,{error:x.value});if(r&&!T.value)return Xe(r)}}})}function Gb(e,t){const{ref:r,props:i,children:n,ce:s}=t.vnode,o=Xe(e,i,n);return o.ref=r,o.ce=s,delete t.vnode.ce,o}const Pm=e=>e.type.__isKeepAlive,zQ={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=kr(),i=r.ctx;if(!i.renderer)return()=>{const T=t.default&&t.default();return T&&T.length===1?T[0]:T};const n=new Map,s=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:c,um:f,o:{createElement:d}}}=i,p=d("div");i.activate=(T,S,v,M,O)=>{const P=T.component;c(T,S,v,0,a),l(P.vnode,T,S,v,P,a,M,T.slotScopeIds,O),Qr(()=>{P.isDeactivated=!1,P.a&&Oh(P.a);const R=T.props&&T.props.onVnodeMounted;R&&Hi(R,P.parent,T)},a)},i.deactivate=T=>{const S=T.component;Gg(S.m),Gg(S.a),c(T,p,null,1,a),Qr(()=>{S.da&&Oh(S.da);const v=T.props&&T.props.onVnodeUnmounted;v&&Hi(v,S.parent,T),S.isDeactivated=!0},a)};function y(T){Vb(T),f(T,r,a,!0)}function g(T){n.forEach((S,v)=>{const M=Vw(S.type);M&&!T(M)&&_(v)})}function _(T){const S=n.get(T);S&&(!o||!us(S,o))?y(S):o&&Vb(o),n.delete(T),s.delete(T)}ti(()=>[e.include,e.exclude],([T,S])=>{T&&g(v=>Nd(T,v)),S&&g(v=>!Nd(S,v))},{flush:"post",deep:!0});let w=null;const x=()=>{w!=null&&(Vg(r.subTree.type)?Qr(()=>{n.set(w,I0(r.subTree))},r.subTree.suspense):n.set(w,I0(r.subTree)))};return ai(x),kf(x),Ns(()=>{n.forEach(T=>{const{subTree:S,suspense:v}=r,M=I0(S);if(T.type===M.type&&T.key===M.key){Vb(M);const O=M.component.da;O&&Qr(O,v);return}y(T)})}),()=>{if(w=null,!t.default)return o=null;const T=t.default(),S=T[0];if(T.length>1)return o=null,T;if(!Ms(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let v=I0(S);if(v.type===xr)return o=null,v;const M=v.type,O=Vw(dl(v)?v.type.__asyncResolved||{}:M),{include:P,exclude:R,max:k}=e;if(P&&(!O||!Nd(P,O))||R&&O&&Nd(R,O))return v.shapeFlag&=-257,o=v,S;const G=v.key==null?M:v.key,V=n.get(G);return v.el&&(v=Is(v),S.shapeFlag&128&&(S.ssContent=v)),w=G,V?(v.el=V.el,v.component=V.component,v.transition&&wo(v,v.transition),v.shapeFlag|=512,s.delete(G),s.add(G)):(s.add(G),k&&s.size>parseInt(k,10)&&_(s.values().next().value)),v.shapeFlag|=256,o=v,Vg(S.type)?S:v}}},PL=zQ;function Nd(e,t){return Te(e)?e.some(r=>Nd(r,t)):Ke(e)?e.split(",").includes(t):CX(e)?(e.lastIndex=0,e.test(t)):!1}function IE(e,t){LL(e,"a",t)}function OE(e,t){LL(e,"da",t)}function LL(e,t,r=Br){const i=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(xv(t,i,r),r){let n=r.parent;for(;n&&n.parent;)Pm(n.parent.vnode)&&qQ(i,t,r,n),n=n.parent}}function qQ(e,t,r,i){const n=xv(t,e,i,!0);wu(()=>{cE(i[t],n)},r)}function Vb(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function I0(e){return e.shapeFlag&128?e.ssContent:e}function xv(e,t,r=Br,i=!1){if(r){const n=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...o)=>{$l();const a=iu(r),l=Sn(t,r,e,o);return a(),Cl(),l});return i?n.unshift(s):n.push(s),s}}const pa=e=>(t,r=Br)=>{(!Rm||e==="sp")&&xv(e,(...i)=>t(...i),r)},Lm=pa("bm"),ai=pa("m"),$E=pa("bu"),kf=pa("u"),Ns=pa("bum"),wu=pa("um"),CE=pa("sp"),NE=pa("rtg"),PE=pa("rtc");function LE(e,t=Br){xv("ec",e,t)}const kE="components",WQ="directives";function wr(e,t){return DE(kE,e,!0,t)||e}const kL=Symbol.for("v-ndc");function RE(e){return Ke(e)?DE(kE,e,!1)||e:e||kL}function Nt(e){return DE(WQ,e)}function DE(e,t,r=!0,i=!1){const n=qr||Br;if(n){const s=n.type;if(e===kE){const a=Vw(s,!1);if(a&&(a===t||a===er(t)||a===Il(er(t))))return s}const o=mM(n[e]||s[e],t)||mM(n.appContext[e],t);return!o&&i?s:o}}function mM(e,t){return e&&(e[t]||e[er(t)]||e[Il(er(t))])}function Pl(e,t,r,i){let n;const s=r&&r[i],o=Te(e);if(o||Ke(e)){const a=o&&gn(e);let l=!1;a&&(l=!rn(e),e=pv(e)),n=new Array(e.length);for(let c=0,f=e.length;c<f;c++)n[c]=t(l?gi(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,s&&s[a])}else if(Pt(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const f=a[l];n[l]=t(e[f],f,l,s&&s[l])}}else n=[];return r&&(r[i]=n),n}function RL(e,t){for(let r=0;r<t.length;r++){const i=t[r];if(Te(i))for(let n=0;n<i.length;n++)e[i[n].name]=i[n].fn;else i&&(e[i.name]=i.key?(...n)=>{const s=i.fn(...n);return s&&(s.key=i.key),s}:i.fn)}return e}function ds(e,t,r={},i,n){if(qr.ce||qr.parent&&dl(qr.parent)&&qr.parent.ce)return t!=="default"&&(r.name=t),pe(),Wt(Lt,null,[Xe("slot",r,i&&i())],64);let s=e[t];s&&s._c&&(s._d=!1),pe();const o=s&&FE(s(r)),a=Wt(Lt,{key:(r.key||o&&o.key||`_${t}`)+(!o&&i?"_fb":"")},o||(i?i():[]),o&&e._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function FE(e){return e.some(t=>Ms(t)?!(t.type===xr||t.type===Lt&&!FE(t.children)):!0)?e:null}function DL(e,t){const r={};for(const i in e)r[t&&/[A-Z]/.test(i)?`on:${i}`:Pc(i)]=e[i];return r}const Nw=e=>e?A8(e)?Dm(e):Nw(e.parent):null,Kd=ut(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Nw(e.parent),$root:e=>Nw(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>UE(e),$forceUpdate:e=>e.f||(e.f=()=>{xE(e.update)}),$nextTick:e=>e.n||(e.n=Cs.bind(e.proxy)),$watch:e=>lee.bind(e)}),Bb=(e,t)=>e!==lt&&!e.__isScriptSetup&&Et(e,t),Pw={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const y=o[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return n[t];case 4:return r[t];case 3:return s[t]}else{if(Bb(i,t))return o[t]=1,i[t];if(n!==lt&&Et(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&Et(c,t))return o[t]=3,s[t];if(r!==lt&&Et(r,t))return o[t]=4,r[t];Lw&&(o[t]=0)}}const f=Kd[t];let d,p;if(f)return t==="$attrs"&&Ei(e.attrs,"get",""),f(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==lt&&Et(r,t))return o[t]=4,r[t];if(p=l.config.globalProperties,Et(p,t))return p[t]},set({_:e},t,r){const{data:i,setupState:n,ctx:s}=e;return Bb(n,t)?(n[t]=r,!0):i!==lt&&Et(i,t)?(i[t]=r,!0):Et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:n,propsOptions:s}},o){let a;return!!r[o]||e!==lt&&Et(e,o)||Bb(t,o)||(a=s[0])&&Et(a,o)||Et(i,o)||Et(Kd,o)||Et(n.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Et(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}},HQ=ut({},Pw,{get(e,t){if(t!==Symbol.unscopables)return Pw.get(e,t,e)},has(e,t){return t[0]!=="_"&&!FX(t)}});function FL(){return null}function UL(){return null}function jL(e){}function GL(e){}function VL(){return null}function BL(){}function zL(e,t){return null}function qL(){return HL().slots}function WL(){return HL().attrs}function HL(){const e=kr();return e.setupContext||(e.setupContext=$8(e))}function zp(e){return Te(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}function YL(e,t){const r=zp(e);for(const i in t){if(i.startsWith("__skip"))continue;let n=r[i];n?Te(n)||je(n)?n=r[i]={type:n,default:t[i]}:n.default=t[i]:n===null&&(n=r[i]={default:t[i]}),n&&t[`__skip_${i}`]&&(n.skipFactory=!0)}return r}function JL(e,t){return!e||!t?e||t:Te(e)&&Te(t)?e.concat(t):ut({},zp(e),zp(t))}function KL(e,t){const r={};for(const i in e)t.includes(i)||Object.defineProperty(r,i,{enumerable:!0,get:()=>e[i]});return r}function ZL(e){const t=kr();let r=e();return Uw(),uE(r)&&(r=r.catch(i=>{throw iu(t),i})),[r,()=>iu(t)]}let Lw=!0;function YQ(e){const t=UE(e),r=e.proxy,i=e.ctx;Lw=!1,t.beforeCreate&&yM(t.beforeCreate,e,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:c,created:f,beforeMount:d,mounted:p,beforeUpdate:y,updated:g,activated:_,deactivated:w,beforeDestroy:x,beforeUnmount:T,destroyed:S,unmounted:v,render:M,renderTracked:O,renderTriggered:P,errorCaptured:R,serverPrefetch:k,expose:G,inheritAttrs:V,components:U,directives:Y,filters:se}=t;if(c&&JQ(c,i,null),o)for(const E in o){const N=o[E];je(N)&&(i[E]=N.bind(r))}if(n){const E=n.call(r,r);Pt(E)&&(e.data=Jr(E))}if(Lw=!0,s)for(const E in s){const N=s[E],q=je(N)?N.bind(r,r):je(N.get)?N.get.bind(r,r):Si,K=!je(N)&&je(N.set)?N.set.bind(r):Si,fe=it({get:q,set:K});Object.defineProperty(i,E,{enumerable:!0,configurable:!0,get:()=>fe.value,set:ae=>fe.value=ae})}if(a)for(const E in a)XL(a[E],i,r,E);if(l){const E=je(l)?l.call(r):l;Reflect.ownKeys(E).forEach(N=>{jE(N,E[N])})}f&&yM(f,e,"c");function m(E,N){Te(N)?N.forEach(q=>E(q.bind(r))):N&&E(N.bind(r))}if(m(Lm,d),m(ai,p),m($E,y),m(kf,g),m(IE,_),m(OE,w),m(LE,R),m(PE,O),m(NE,P),m(Ns,T),m(wu,v),m(CE,k),Te(G))if(G.length){const E=e.exposed||(e.exposed={});G.forEach(N=>{Object.defineProperty(E,N,{get:()=>r[N],set:q=>r[N]=q})})}else e.exposed||(e.exposed={});M&&e.render===Si&&(e.render=M),V!=null&&(e.inheritAttrs=V),U&&(e.components=U),Y&&(e.directives=Y),k&&AE(e)}function JQ(e,t,r=Si){Te(e)&&(e=kw(e));for(const i in e){const n=e[i];let s;Pt(n)?"default"in n?s=Hr(n.from||i,n.default,!0):s=Hr(n.from||i):s=Hr(n),gt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[i]=s}}function yM(e,t,r){Sn(Te(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function XL(e,t,r,i){let n=i.includes(".")?d8(r,i):()=>r[i];if(Ke(e)){const s=t[e];je(s)&&ti(n,s)}else if(je(e))ti(n,e.bind(r));else if(Pt(e))if(Te(e))e.forEach(s=>XL(s,t,r,i));else{const s=je(e.handler)?e.handler.bind(r):t[e.handler];je(s)&&ti(n,s,e)}}function UE(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!n.length&&!r&&!i?l=t:(l={},n.length&&n.forEach(c=>jg(l,c,o,!0)),jg(l,t,o)),Pt(t)&&s.set(t,l),l}function jg(e,t,r,i=!1){const{mixins:n,extends:s}=t;s&&jg(e,s,r,!0),n&&n.forEach(o=>jg(e,o,r,!0));for(const o in t)if(!(i&&o==="expose")){const a=KQ[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const KQ={data:gM,props:vM,emits:vM,methods:Pd,computed:Pd,beforeCreate:Ii,created:Ii,beforeMount:Ii,mounted:Ii,beforeUpdate:Ii,updated:Ii,beforeDestroy:Ii,beforeUnmount:Ii,destroyed:Ii,unmounted:Ii,activated:Ii,deactivated:Ii,errorCaptured:Ii,serverPrefetch:Ii,components:Pd,directives:Pd,watch:XQ,provide:gM,inject:ZQ};function gM(e,t){return t?e?function(){return ut(je(e)?e.call(this,this):e,je(t)?t.call(this,this):t)}:t:e}function ZQ(e,t){return Pd(kw(e),kw(t))}function kw(e){if(Te(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ii(e,t){return e?[...new Set([].concat(e,t))]:t}function Pd(e,t){return e?ut(Object.create(null),e,t):t}function vM(e,t){return e?Te(e)&&Te(t)?[...new Set([...e,...t])]:ut(Object.create(null),zp(e),zp(t??{})):t}function XQ(e,t){if(!e)return t;if(!t)return e;const r=ut(Object.create(null),e);for(const i in t)r[i]=Ii(e[i],t[i]);return r}function QL(){return{app:null,config:{isNativeTag:Cd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QQ=0;function eee(e,t){return function(i,n=null){je(i)||(i=ut({},i)),n!=null&&!Pt(n)&&(n=null);const s=QL(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:QQ++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:t3,get config(){return s.config},set config(f){},use(f,...d){return o.has(f)||(f&&je(f.install)?(o.add(f),f.install(c,...d)):je(f)&&(o.add(f),f(c,...d))),c},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),c},component(f,d){return d?(s.components[f]=d,c):s.components[f]},directive(f,d){return d?(s.directives[f]=d,c):s.directives[f]},mount(f,d,p){if(!l){const y=c._ceVNode||Xe(i,n);return y.appContext=s,p===!0?p="svg":p===!1&&(p=void 0),d&&t?t(y,f):e(y,f,p),l=!0,c._container=f,f.__vue_app__=c,Dm(y.component)}},onUnmount(f){a.push(f)},unmount(){l&&(Sn(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(f,d){return s.provides[f]=d,c},runWithContext(f){const d=kc;kc=c;try{return f()}finally{kc=d}}};return c}}let kc=null;function jE(e,t){if(Br){let r=Br.provides;const i=Br.parent&&Br.parent.provides;i===r&&(r=Br.provides=Object.create(i)),r[e]=t}}function Hr(e,t,r=!1){const i=Br||qr;if(i||kc){const n=kc?kc._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return r&&je(t)?t.call(i&&i.proxy):t}}function GE(){return!!(Br||qr||kc)}const e8={},t8=()=>Object.create(e8),r8=e=>Object.getPrototypeOf(e)===e8;function tee(e,t,r,i=!1){const n={},s=t8();e.propsDefaults=Object.create(null),i8(e,t,n,s);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);r?e.props=i?n:gE(n):e.type.props?e.props=n:e.props=s,e.attrs=s}function ree(e,t,r,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=e,a=qe(n),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let p=f[d];if(Ev(e.emitsOptions,p))continue;const y=t[p];if(l)if(Et(s,p))y!==s[p]&&(s[p]=y,c=!0);else{const g=er(p);n[g]=Rw(l,a,g,y,e,!1)}else y!==s[p]&&(s[p]=y,c=!0)}}}else{i8(e,t,n,s)&&(c=!0);let f;for(const d in a)(!t||!Et(t,d)&&((f=Xi(d))===d||!Et(t,f)))&&(l?r&&(r[d]!==void 0||r[f]!==void 0)&&(n[d]=Rw(l,a,d,void 0,e,!0)):delete n[d]);if(s!==a)for(const d in s)(!t||!Et(t,d))&&(delete s[d],c=!0)}c&&ra(e.attrs,"set","")}function i8(e,t,r,i){const[n,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(fl(l))continue;const c=t[l];let f;n&&Et(n,f=er(l))?!s||!s.includes(f)?r[f]=c:(a||(a={}))[f]=c:Ev(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=qe(r),c=a||lt;for(let f=0;f<s.length;f++){const d=s[f];r[d]=Rw(n,l,d,c[d],e,!Et(c,d))}}return o}function Rw(e,t,r,i,n,s){const o=e[r];if(o!=null){const a=Et(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&je(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const f=iu(n);i=c[r]=l.call(null,t),f()}}else i=l;n.ce&&n.ce._setProp(r,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Xi(r))&&(i=!0))}return i}const iee=new WeakMap;function n8(e,t,r=!1){const i=r?iee:t.propsCache,n=i.get(e);if(n)return n;const s=e.props,o={},a=[];let l=!1;if(!je(e)){const f=d=>{l=!0;const[p,y]=n8(d,t,!0);ut(o,p),y&&a.push(...y)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!s&&!l)return Pt(e)&&i.set(e,Mh),Mh;if(Te(s))for(let f=0;f<s.length;f++){const d=er(s[f]);bM(d)&&(o[d]=lt)}else if(s)for(const f in s){const d=er(f);if(bM(d)){const p=s[f],y=o[d]=Te(p)||je(p)?{type:p}:ut({},p),g=y.type;let _=!1,w=!0;if(Te(g))for(let x=0;x<g.length;++x){const T=g[x],S=je(T)&&T.name;if(S==="Boolean"){_=!0;break}else S==="String"&&(w=!1)}else _=je(g)&&g.name==="Boolean";y[0]=_,y[1]=w,(_||Et(y,"default"))&&a.push(d)}}const c=[o,a];return Pt(e)&&i.set(e,c),c}function bM(e){return e[0]!=="$"&&!fl(e)}const s8=e=>e[0]==="_"||e==="$stable",VE=e=>Te(e)?e.map(Ji):[Ji(e)],nee=(e,t,r)=>{if(t._n)return t;const i=Or((...n)=>VE(t(...n)),r);return i._c=!1,i},o8=(e,t,r)=>{const i=e._ctx;for(const n in e){if(s8(n))continue;const s=e[n];if(je(s))t[n]=nee(n,s,i);else if(s!=null){const o=VE(s);t[n]=()=>o}}},a8=(e,t)=>{const r=VE(t);e.slots.default=()=>r},l8=(e,t,r)=>{for(const i in t)(r||i!=="_")&&(e[i]=t[i])},see=(e,t,r)=>{const i=e.slots=t8();if(e.vnode.shapeFlag&32){const n=t._;n?(l8(i,t,r),r&&PP(i,"_",n,!0)):o8(t,i)}else t&&a8(e,t)},oee=(e,t,r)=>{const{vnode:i,slots:n}=e;let s=!0,o=lt;if(i.shapeFlag&32){const a=t._;a?r&&a===1?s=!1:l8(n,t,r):(s=!t.$stable,o8(t,n)),o=t}else t&&(a8(e,t),o={default:1});if(s)for(const a in n)!s8(a)&&o[a]==null&&delete n[a]},Qr=b8;function BE(e){return c8(e)}function zE(e){return c8(e,jQ)}function c8(e,t){const r=LP();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:f,parentNode:d,nextSibling:p,setScopeId:y=Si,insertStaticContent:g}=e,_=(z,F,J,le=null,ie=null,$=null,j=void 0,I=null,L=!!F.dynamicChildren)=>{if(z===F)return;z&&!us(z,F)&&(le=vt(z),ae(z,ie,$,!0),z=null),F.patchFlag===-2&&(L=!1,F.dynamicChildren=null);const{type:B,ref:Z,shapeFlag:te}=F;switch(B){case uo:w(z,F,J,le);break;case xr:x(z,F,J,le);break;case pl:z==null&&T(F,J,le,j);break;case Lt:U(z,F,J,le,ie,$,j,I,L);break;default:te&1?M(z,F,J,le,ie,$,j,I,L):te&6?Y(z,F,J,le,ie,$,j,I,L):(te&64||te&128)&&B.process(z,F,J,le,ie,$,j,I,L,ft)}Z!=null&&ie&&Ug(Z,z&&z.ref,$,F||z,!F)},w=(z,F,J,le)=>{if(z==null)i(F.el=a(F.children),J,le);else{const ie=F.el=z.el;F.children!==z.children&&c(ie,F.children)}},x=(z,F,J,le)=>{z==null?i(F.el=l(F.children||""),J,le):F.el=z.el},T=(z,F,J,le)=>{[z.el,z.anchor]=g(z.children,F,J,le,z.el,z.anchor)},S=({el:z,anchor:F},J,le)=>{let ie;for(;z&&z!==F;)ie=p(z),i(z,J,le),z=ie;i(F,J,le)},v=({el:z,anchor:F})=>{let J;for(;z&&z!==F;)J=p(z),n(z),z=J;n(F)},M=(z,F,J,le,ie,$,j,I,L)=>{F.type==="svg"?j="svg":F.type==="math"&&(j="mathml"),z==null?O(F,J,le,ie,$,j,I,L):k(z,F,ie,$,j,I,L)},O=(z,F,J,le,ie,$,j,I)=>{let L,B;const{props:Z,shapeFlag:te,transition:ee,dirs:H}=z;if(L=z.el=o(z.type,$,Z&&Z.is,Z),te&8?f(L,z.children):te&16&&R(z.children,L,null,le,ie,zb(z,$),j,I),H&&Zs(z,null,le,"created"),P(L,z,z.scopeId,j,le),Z){for(const ve in Z)ve!=="value"&&!fl(ve)&&s(L,ve,null,Z[ve],$,le);"value"in Z&&s(L,"value",null,Z.value,$),(B=Z.onVnodeBeforeMount)&&Hi(B,le,z)}H&&Zs(z,null,le,"beforeMount");const X=u8(ie,ee);X&&ee.beforeEnter(L),i(L,F,J),((B=Z&&Z.onVnodeMounted)||X||H)&&Qr(()=>{B&&Hi(B,le,z),X&&ee.enter(L),H&&Zs(z,null,le,"mounted")},ie)},P=(z,F,J,le,ie)=>{if(J&&y(z,J),le)for(let $=0;$<le.length;$++)y(z,le[$]);if(ie){let $=ie.subTree;if(F===$||Vg($.type)&&($.ssContent===F||$.ssFallback===F)){const j=ie.vnode;P(z,j,j.scopeId,j.slotScopeIds,ie.parent)}}},R=(z,F,J,le,ie,$,j,I,L=0)=>{for(let B=L;B<z.length;B++){const Z=z[B]=I?Za(z[B]):Ji(z[B]);_(null,Z,F,J,le,ie,$,j,I)}},k=(z,F,J,le,ie,$,j)=>{const I=F.el=z.el;let{patchFlag:L,dynamicChildren:B,dirs:Z}=F;L|=z.patchFlag&16;const te=z.props||lt,ee=F.props||lt;let H;if(J&&ql(J,!1),(H=ee.onVnodeBeforeUpdate)&&Hi(H,J,F,z),Z&&Zs(F,z,J,"beforeUpdate"),J&&ql(J,!0),(te.innerHTML&&ee.innerHTML==null||te.textContent&&ee.textContent==null)&&f(I,""),B?G(z.dynamicChildren,B,I,J,le,zb(F,ie),$):j||N(z,F,I,null,J,le,zb(F,ie),$,!1),L>0){if(L&16)V(I,te,ee,J,ie);else if(L&2&&te.class!==ee.class&&s(I,"class",null,ee.class,ie),L&4&&s(I,"style",te.style,ee.style,ie),L&8){const X=F.dynamicProps;for(let ve=0;ve<X.length;ve++){const Ie=X[ve],mt=te[Ie],Ht=ee[Ie];(Ht!==mt||Ie==="value")&&s(I,Ie,mt,Ht,ie,J)}}L&1&&z.children!==F.children&&f(I,F.children)}else!j&&B==null&&V(I,te,ee,J,ie);((H=ee.onVnodeUpdated)||Z)&&Qr(()=>{H&&Hi(H,J,F,z),Z&&Zs(F,z,J,"updated")},le)},G=(z,F,J,le,ie,$,j)=>{for(let I=0;I<F.length;I++){const L=z[I],B=F[I],Z=L.el&&(L.type===Lt||!us(L,B)||L.shapeFlag&70)?d(L.el):J;_(L,B,Z,null,le,ie,$,j,!0)}},V=(z,F,J,le,ie)=>{if(F!==J){if(F!==lt)for(const $ in F)!fl($)&&!($ in J)&&s(z,$,F[$],null,ie,le);for(const $ in J){if(fl($))continue;const j=J[$],I=F[$];j!==I&&$!=="value"&&s(z,$,I,j,ie,le)}"value"in J&&s(z,"value",F.value,J.value,ie)}},U=(z,F,J,le,ie,$,j,I,L)=>{const B=F.el=z?z.el:a(""),Z=F.anchor=z?z.anchor:a("");let{patchFlag:te,dynamicChildren:ee,slotScopeIds:H}=F;H&&(I=I?I.concat(H):H),z==null?(i(B,J,le),i(Z,J,le),R(F.children||[],J,Z,ie,$,j,I,L)):te>0&&te&64&&ee&&z.dynamicChildren?(G(z.dynamicChildren,ee,J,ie,$,j,I),(F.key!=null||ie&&F===ie.subTree)&&qE(z,F,!0)):N(z,F,J,Z,ie,$,j,I,L)},Y=(z,F,J,le,ie,$,j,I,L)=>{F.slotScopeIds=I,z==null?F.shapeFlag&512?ie.ctx.activate(F,J,le,j,L):se(F,J,le,ie,$,j,L):h(z,F,L)},se=(z,F,J,le,ie,$,j)=>{const I=z.component=T8(z,le,ie);if(Pm(z)&&(I.ctx.renderer=ft),M8(I,!1,j),I.asyncDep){if(ie&&ie.registerDep(I,m,j),!z.el){const L=I.subTree=Xe(xr);x(null,L,F,J)}}else m(I,z,F,J,ie,$,j)},h=(z,F,J)=>{const le=F.component=z.component;if(dee(z,F,J))if(le.asyncDep&&!le.asyncResolved){E(le,F,J);return}else le.next=F,le.update();else F.el=z.el,le.vnode=F},m=(z,F,J,le,ie,$,j)=>{const I=()=>{if(z.isMounted){let{next:te,bu:ee,u:H,parent:X,vnode:ve}=z;{const Dr=h8(z);if(Dr){te&&(te.el=ve.el,E(z,te,j)),Dr.asyncDep.then(()=>{z.isUnmounted||I()});return}}let Ie=te,mt;ql(z,!1),te?(te.el=ve.el,E(z,te,j)):te=ve,ee&&Oh(ee),(mt=te.props&&te.props.onVnodeBeforeUpdate)&&Hi(mt,X,te,ve),ql(z,!0);const Ht=Ry(z),fr=z.subTree;z.subTree=Ht,_(fr,Ht,d(fr.el),vt(fr),z,ie,$),te.el=Ht.el,Ie===null&&KE(z,Ht.el),H&&Qr(H,ie),(mt=te.props&&te.props.onVnodeUpdated)&&Qr(()=>Hi(mt,X,te,ve),ie)}else{let te;const{el:ee,props:H}=F,{bm:X,m:ve,parent:Ie,root:mt,type:Ht}=z,fr=dl(F);if(ql(z,!1),X&&Oh(X),!fr&&(te=H&&H.onVnodeBeforeMount)&&Hi(te,Ie,F),ql(z,!0),ee&&Dt){const Dr=()=>{z.subTree=Ry(z),Dt(ee,z.subTree,z,ie,null)};fr&&Ht.__asyncHydrate?Ht.__asyncHydrate(ee,z,Dr):Dr()}else{mt.ce&&mt.ce._injectChildStyle(Ht);const Dr=z.subTree=Ry(z);_(null,Dr,J,le,z,ie,$),F.el=Dr.el}if(ve&&Qr(ve,ie),!fr&&(te=H&&H.onVnodeMounted)){const Dr=F;Qr(()=>Hi(te,Ie,Dr),ie)}(F.shapeFlag&256||Ie&&dl(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&z.a&&Qr(z.a,ie),z.isMounted=!0,F=J=le=null}};z.scope.on();const L=z.effect=new Wh(I);z.scope.off();const B=z.update=L.run.bind(L),Z=z.job=L.runIfDirty.bind(L);Z.i=z,Z.id=z.uid,L.scheduler=()=>xE(Z),ql(z,!0),B()},E=(z,F,J)=>{F.component=z;const le=z.vnode.props;z.vnode=F,z.next=null,ree(z,F.props,le,J),oee(z,F.children,J),$l(),cM(z),Cl()},N=(z,F,J,le,ie,$,j,I,L=!1)=>{const B=z&&z.children,Z=z?z.shapeFlag:0,te=F.children,{patchFlag:ee,shapeFlag:H}=F;if(ee>0){if(ee&128){K(B,te,J,le,ie,$,j,I,L);return}else if(ee&256){q(B,te,J,le,ie,$,j,I,L);return}}H&8?(Z&16&&Oe(B,ie,$),te!==B&&f(J,te)):Z&16?H&16?K(B,te,J,le,ie,$,j,I,L):Oe(B,ie,$,!0):(Z&8&&f(J,""),H&16&&R(te,J,le,ie,$,j,I,L))},q=(z,F,J,le,ie,$,j,I,L)=>{z=z||Mh,F=F||Mh;const B=z.length,Z=F.length,te=Math.min(B,Z);let ee;for(ee=0;ee<te;ee++){const H=F[ee]=L?Za(F[ee]):Ji(F[ee]);_(z[ee],H,J,null,ie,$,j,I,L)}B>Z?Oe(z,ie,$,!0,!1,te):R(F,J,le,ie,$,j,I,L,te)},K=(z,F,J,le,ie,$,j,I,L)=>{let B=0;const Z=F.length;let te=z.length-1,ee=Z-1;for(;B<=te&&B<=ee;){const H=z[B],X=F[B]=L?Za(F[B]):Ji(F[B]);if(us(H,X))_(H,X,J,null,ie,$,j,I,L);else break;B++}for(;B<=te&&B<=ee;){const H=z[te],X=F[ee]=L?Za(F[ee]):Ji(F[ee]);if(us(H,X))_(H,X,J,null,ie,$,j,I,L);else break;te--,ee--}if(B>te){if(B<=ee){const H=ee+1,X=H<Z?F[H].el:le;for(;B<=ee;)_(null,F[B]=L?Za(F[B]):Ji(F[B]),J,X,ie,$,j,I,L),B++}}else if(B>ee)for(;B<=te;)ae(z[B],ie,$,!0),B++;else{const H=B,X=B,ve=new Map;for(B=X;B<=ee;B++){const $e=F[B]=L?Za(F[B]):Ji(F[B]);$e.key!=null&&ve.set($e.key,B)}let Ie,mt=0;const Ht=ee-X+1;let fr=!1,Dr=0;const re=new Array(Ht);for(B=0;B<Ht;B++)re[B]=0;for(B=H;B<=te;B++){const $e=z[B];if(mt>=Ht){ae($e,ie,$,!0);continue}let Ye;if($e.key!=null)Ye=ve.get($e.key);else for(Ie=X;Ie<=ee;Ie++)if(re[Ie-X]===0&&us($e,F[Ie])){Ye=Ie;break}Ye===void 0?ae($e,ie,$,!0):(re[Ye-X]=B+1,Ye>=Dr?Dr=Ye:fr=!0,_($e,F[Ye],J,null,ie,$,j,I,L),mt++)}const Me=fr?aee(re):Mh;for(Ie=Me.length-1,B=Ht-1;B>=0;B--){const $e=X+B,Ye=F[$e],Qe=$e+1<Z?F[$e+1].el:le;re[B]===0?_(null,Ye,J,Qe,ie,$,j,I,L):fr&&(Ie<0||B!==Me[Ie]?fe(Ye,J,Qe,2):Ie--)}}},fe=(z,F,J,le,ie=null)=>{const{el:$,type:j,transition:I,children:L,shapeFlag:B}=z;if(B&6){fe(z.component.subTree,F,J,le);return}if(B&128){z.suspense.move(F,J,le);return}if(B&64){j.move(z,F,J,ft);return}if(j===Lt){i($,F,J);for(let te=0;te<L.length;te++)fe(L[te],F,J,le);i(z.anchor,F,J);return}if(j===pl){S(z,F,J);return}if(le!==2&&B&1&&I)if(le===0)I.beforeEnter($),i($,F,J),Qr(()=>I.enter($),ie);else{const{leave:te,delayLeave:ee,afterLeave:H}=I,X=()=>i($,F,J),ve=()=>{te($,()=>{X(),H&&H()})};ee?ee($,X,ve):ve()}else i($,F,J)},ae=(z,F,J,le=!1,ie=!1)=>{const{type:$,props:j,ref:I,children:L,dynamicChildren:B,shapeFlag:Z,patchFlag:te,dirs:ee,cacheIndex:H}=z;if(te===-2&&(ie=!1),I!=null&&Ug(I,null,J,z,!0),H!=null&&(F.renderCache[H]=void 0),Z&256){F.ctx.deactivate(z);return}const X=Z&1&&ee,ve=!dl(z);let Ie;if(ve&&(Ie=j&&j.onVnodeBeforeUnmount)&&Hi(Ie,F,z),Z&6)Ve(z.component,J,le);else{if(Z&128){z.suspense.unmount(J,le);return}X&&Zs(z,null,F,"beforeUnmount"),Z&64?z.type.remove(z,F,J,ft,le):B&&!B.hasOnce&&($!==Lt||te>0&&te&64)?Oe(B,F,J,!1,!0):($===Lt&&te&384||!ie&&Z&16)&&Oe(L,F,J),le&&Ae(z)}(ve&&(Ie=j&&j.onVnodeUnmounted)||X)&&Qr(()=>{Ie&&Hi(Ie,F,z),X&&Zs(z,null,F,"unmounted")},J)},Ae=z=>{const{type:F,el:J,anchor:le,transition:ie}=z;if(F===Lt){Fe(J,le);return}if(F===pl){v(z);return}const $=()=>{n(J),ie&&!ie.persisted&&ie.afterLeave&&ie.afterLeave()};if(z.shapeFlag&1&&ie&&!ie.persisted){const{leave:j,delayLeave:I}=ie,L=()=>j(J,$);I?I(z.el,$,L):L()}else $()},Fe=(z,F)=>{let J;for(;z!==F;)J=p(z),n(z),z=J;n(F)},Ve=(z,F,J)=>{const{bum:le,scope:ie,job:$,subTree:j,um:I,m:L,a:B}=z;Gg(L),Gg(B),le&&Oh(le),ie.stop(),$&&($.flags|=8,ae(j,z,F,J)),I&&Qr(I,F),Qr(()=>{z.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},Oe=(z,F,J,le=!1,ie=!1,$=0)=>{for(let j=$;j<z.length;j++)ae(z[j],F,J,le,ie)},vt=z=>{if(z.shapeFlag&6)return vt(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const F=p(z.anchor||z.el),J=F&&F[SL];return J?p(J):F};let rt=!1;const pt=(z,F,J)=>{z==null?F._vnode&&ae(F._vnode,null,null,!0):_(F._vnode||null,z,F,null,null,null,J),F._vnode=z,rt||(rt=!0,cM(),Dg(),rt=!1)},ft={p:_,um:ae,m:fe,r:Ae,mt:se,mc:R,pc:N,pbc:G,n:vt,o:e};let nt,Dt;return t&&([nt,Dt]=t(ft)),{render:pt,hydrate:nt,createApp:eee(pt,nt)}}function zb({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function ql({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function u8(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qE(e,t,r=!1){const i=e.children,n=t.children;if(Te(i)&&Te(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Za(n[s]),a.el=o.el),!r&&a.patchFlag!==-2&&qE(o,a)),a.type===uo&&(a.el=o.el)}}function aee(e){const t=e.slice(),r=[0];let i,n,s,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(n=r[r.length-1],e[n]<c){t[i]=n,r.push(i);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,e[r[a]]<c?s=a+1:o=a;c<e[r[s]]&&(s>0&&(t[i]=r[s-1]),r[s]=i)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=t[o];return r}function h8(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:h8(t)}function Gg(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const WE=Symbol.for("v-scx"),HE=()=>Hr(WE);function f8(e,t){return km(e,null,t)}function YE(e,t){return km(e,null,{flush:"post"})}function JE(e,t){return km(e,null,{flush:"sync"})}function ti(e,t,r){return km(e,t,r)}function km(e,t,r=lt){const{immediate:i,deep:n,flush:s,once:o}=r,a=ut({},r);let l;if(Rm)if(s==="sync"){const p=HE();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!t||i)a.once=!0;else{const p=()=>{};return p.stop=Si,p.resume=Si,p.pause=Si,p}const c=Br;a.call=(p,y,g)=>Sn(p,c,y,g);let f=!1;s==="post"?a.scheduler=p=>{Qr(p,c&&c.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(p,y)=>{y?p():xE(p)}),a.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const d=IQ(e,t,a);return l&&l.push(d),d}function lee(e,t,r){const i=this.proxy,n=Ke(e)?e.includes(".")?d8(i,e):()=>i[e]:e.bind(i,i);let s;je(t)?s=t:(s=t.handler,r=t);const o=iu(this),a=km(n,s.bind(i),r);return o(),a}function d8(e,t){const r=t.split(".");return()=>{let i=e;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function p8(e,t,r=lt){const i=kr(),n=er(t),s=Xi(t),o=m8(e,t),a=bE((l,c)=>{let f,d=lt,p;return JE(()=>{const y=e[t];ki(f,y)&&(f=y,c())}),{get(){return l(),r.get?r.get(f):f},set(y){const g=r.set?r.set(y):y;if(!ki(g,f)&&!(d!==lt&&ki(y,d)))return;const _=i.vnode.props;_&&(t in _||n in _||s in _)&&(`onUpdate:${t}`in _||`onUpdate:${n}`in _||`onUpdate:${s}`in _)||(f=y,c()),i.emit(`update:${t}`,g),ki(y,g)&&ki(y,d)&&!ki(g,p)&&c(),d=y,p=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||lt:a,done:!1}:{done:!0}}}},a}const m8=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${er(t)}Modifiers`]||e[`${Xi(t)}Modifiers`];function cee(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||lt;let n=r;const s=t.startsWith("update:"),o=s&&m8(i,t.slice(7));o&&(o.trim&&(n=r.map(f=>Ke(f)?f.trim():f)),o.number&&(n=r.map(Pg)));let a,l=i[a=Pc(t)]||i[a=Pc(er(t))];!l&&s&&(l=i[a=Pc(Xi(t))]),l&&Sn(l,e,6,n);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Sn(c,e,6,n)}}function y8(e,t,r=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const s=e.emits;let o={},a=!1;if(!je(e)){const l=c=>{const f=y8(c,t,!0);f&&(a=!0,ut(o,f))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(Pt(e)&&i.set(e,null),null):(Te(s)?s.forEach(l=>o[l]=null):ut(o,s),Pt(e)&&i.set(e,o),o)}function Ev(e,t){return!e||!vu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Et(e,t[0].toLowerCase()+t.slice(1))||Et(e,Xi(t))||Et(e,t))}function Ry(e){const{type:t,vnode:r,proxy:i,withProxy:n,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:f,props:d,data:p,setupState:y,ctx:g,inheritAttrs:_}=e,w=Bp(e);let x,T;try{if(r.shapeFlag&4){const v=n||i,M=v;x=Ji(c.call(M,v,f,d,y,p,g)),T=a}else{const v=t;x=Ji(v.length>1?v(d,{attrs:a,slots:o,emit:l}):v(d,null)),T=t.props?a:hee(a)}}catch(v){Zd.length=0,Nl(v,e,1),x=Xe(xr)}let S=x;if(T&&_!==!1){const v=Object.keys(T),{shapeFlag:M}=S;v.length&&M&7&&(s&&v.some(lE)&&(T=fee(T,s)),S=Is(S,T,!1,!0))}return r.dirs&&(S=Is(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&wo(S,r.transition),x=S,Bp(w),x}function uee(e,t=!0){let r;for(let i=0;i<e.length;i++){const n=e[i];if(Ms(n)){if(n.type!==xr||n.children==="v-if"){if(r)return;r=n}}else return}return r}const hee=e=>{let t;for(const r in e)(r==="class"||r==="style"||vu(r))&&((t||(t={}))[r]=e[r]);return t},fee=(e,t)=>{const r={};for(const i in e)(!lE(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function dee(e,t,r){const{props:i,children:n,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?_M(i,o,c):!!o;if(l&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const p=f[d];if(o[p]!==i[p]&&!Ev(c,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?_M(i,o,c):!0:!!o;return!1}function _M(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(t[s]!==e[s]&&!Ev(r,s))return!0}return!1}function KE({vnode:e,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=r,t=t.parent;else break}}const Vg=e=>e.__isSuspense;let Dw=0;const pee={name:"Suspense",__isSuspense:!0,process(e,t,r,i,n,s,o,a,l,c){if(e==null)mee(t,r,i,n,s,o,a,l,c);else{if(s&&s.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}yee(e,t,r,i,n,o,a,l,c)}},hydrate:gee,normalize:vee},g8=pee;function qp(e,t){const r=e.props&&e.props[t];je(r)&&r()}function mee(e,t,r,i,n,s,o,a,l){const{p:c,o:{createElement:f}}=l,d=f("div"),p=e.suspense=v8(e,n,i,t,d,r,s,o,a,l);c(null,p.pendingBranch=e.ssContent,d,null,i,p,s,o),p.deps>0?(qp(e,"onPending"),qp(e,"onFallback"),c(null,e.ssFallback,t,r,i,null,s,o),Ch(p,e.ssFallback)):p.resolve(!1,!0)}function yee(e,t,r,i,n,s,o,a,{p:l,um:c,o:{createElement:f}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const p=t.ssContent,y=t.ssFallback,{activeBranch:g,pendingBranch:_,isInFallback:w,isHydrating:x}=d;if(_)d.pendingBranch=p,us(p,_)?(l(_,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0?d.resolve():w&&(x||(l(g,y,r,i,n,null,s,o,a),Ch(d,y)))):(d.pendingId=Dw++,x?(d.isHydrating=!1,d.activeBranch=_):c(_,n,d),d.deps=0,d.effects.length=0,d.hiddenContainer=f("div"),w?(l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0?d.resolve():(l(g,y,r,i,n,null,s,o,a),Ch(d,y))):g&&us(p,g)?(l(g,p,r,i,n,d,s,o,a),d.resolve(!0)):(l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&us(p,g))l(g,p,r,i,n,d,s,o,a),Ch(d,p);else if(qp(t,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=Dw++,l(null,p,d.hiddenContainer,null,n,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:T,pendingId:S}=d;T>0?setTimeout(()=>{d.pendingId===S&&d.fallback(y)},T):T===0&&d.fallback(y)}}function v8(e,t,r,i,n,s,o,a,l,c,f=!1){const{p:d,m:p,um:y,n:g,o:{parentNode:_,remove:w}}=c;let x;const T=bee(e);T&&t&&t.pendingBranch&&(x=t.pendingId,t.deps++);const S=e.props?Lg(e.props.timeout):void 0,v=s,M={vnode:e,parent:t,parentComponent:r,namespace:o,container:i,hiddenContainer:n,deps:0,pendingId:Dw++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(O=!1,P=!1){const{vnode:R,activeBranch:k,pendingBranch:G,pendingId:V,effects:U,parentComponent:Y,container:se}=M;let h=!1;M.isHydrating?M.isHydrating=!1:O||(h=k&&G.transition&&G.transition.mode==="out-in",h&&(k.transition.afterLeave=()=>{V===M.pendingId&&(p(G,se,s===v?g(k):s,0),Gp(U))}),k&&(_(k.el)===se&&(s=g(k)),y(k,Y,M,!0)),h||p(G,se,s,0)),Ch(M,G),M.pendingBranch=null,M.isInFallback=!1;let m=M.parent,E=!1;for(;m;){if(m.pendingBranch){m.effects.push(...U),E=!0;break}m=m.parent}!E&&!h&&Gp(U),M.effects=[],T&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!P&&t.resolve()),qp(R,"onResolve")},fallback(O){if(!M.pendingBranch)return;const{vnode:P,activeBranch:R,parentComponent:k,container:G,namespace:V}=M;qp(P,"onFallback");const U=g(R),Y=()=>{M.isInFallback&&(d(null,O,G,U,k,null,V,a,l),Ch(M,O))},se=O.transition&&O.transition.mode==="out-in";se&&(R.transition.afterLeave=Y),M.isInFallback=!0,y(R,k,null,!0),se||Y()},move(O,P,R){M.activeBranch&&p(M.activeBranch,O,P,R),M.container=O},next(){return M.activeBranch&&g(M.activeBranch)},registerDep(O,P,R){const k=!!M.pendingBranch;k&&M.deps++;const G=O.vnode.el;O.asyncDep.catch(V=>{Nl(V,O,0)}).then(V=>{if(O.isUnmounted||M.isUnmounted||M.pendingId!==O.suspenseId)return;O.asyncResolved=!0;const{vnode:U}=O;jw(O,V,!1),G&&(U.el=G);const Y=!G&&O.subTree.el;P(O,U,_(G||O.subTree.el),G?null:g(O.subTree),M,o,R),Y&&w(Y),KE(O,U.el),k&&--M.deps===0&&M.resolve()})},unmount(O,P){M.isUnmounted=!0,M.activeBranch&&y(M.activeBranch,r,O,P),M.pendingBranch&&y(M.pendingBranch,r,O,P)}};return M}function gee(e,t,r,i,n,s,o,a,l){const c=t.suspense=v8(t,i,r,e.parentNode,document.createElement("div"),null,n,s,o,a,!0),f=l(e,c.pendingBranch=t.ssContent,r,c,s,o);return c.deps===0&&c.resolve(!1,!0),f}function vee(e){const{shapeFlag:t,children:r}=e,i=t&32;e.ssContent=wM(i?r.default:r),e.ssFallback=i?wM(r.fallback):Xe(xr)}function wM(e){let t;if(je(e)){const r=ru&&e._c;r&&(e._d=!1,pe()),e=e(),r&&(e._d=!0,t=wi,_8())}return Te(e)&&(e=uee(e)),e=Ji(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(r=>r!==e)),e}function b8(e,t){t&&t.pendingBranch?Te(e)?t.effects.push(...e):t.effects.push(e):Gp(e)}function Ch(e,t){e.activeBranch=t;const{vnode:r,parentComponent:i}=e;let n=t.el;for(;!n&&t.component;)t=t.component.subTree,n=t.el;r.el=n,i&&i.subTree===r&&(i.vnode.el=n,KE(i,n))}function bee(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const Lt=Symbol.for("v-fgt"),uo=Symbol.for("v-txt"),xr=Symbol.for("v-cmt"),pl=Symbol.for("v-stc"),Zd=[];let wi=null;function pe(e=!1){Zd.push(wi=e?null:[])}function _8(){Zd.pop(),wi=Zd[Zd.length-1]||null}let ru=1;function Bg(e){ru+=e,e<0&&wi&&(wi.hasOnce=!0)}function w8(e){return e.dynamicChildren=ru>0?wi||Mh:null,_8(),ru>0&&wi&&wi.push(e),e}function xe(e,t,r,i,n,s){return w8(ue(e,t,r,i,n,s,!0))}function Wt(e,t,r,i,n){return w8(Xe(e,t,r,i,n,!0))}function Ms(e){return e?e.__v_isVNode===!0:!1}function us(e,t){return e.type===t.type&&e.key===t.key}function S8(e){}const x8=({key:e})=>e??null,Dy=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ke(e)||gt(e)||je(e)?{i:qr,r:e,k:t,f:!!r}:e:null);function ue(e,t=null,r=null,i=0,n=null,s=e===Lt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&x8(t),ref:t&&Dy(t),scopeId:_v,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qr};return a?(XE(l,r),s&128&&e.normalize(l)):r&&(l.shapeFlag|=Ke(r)?8:16),ru>0&&!o&&wi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&wi.push(l),l}const Xe=_ee;function _ee(e,t=null,r=null,i=0,n=null,s=!1){if((!e||e===kL)&&(e=xr),Ms(e)){const a=Is(e,t,!0);return r&&XE(a,r),ru>0&&!s&&wi&&(a.shapeFlag&6?wi[wi.indexOf(e)]=a:wi.push(a)),a.patchFlag=-2,a}if(Tee(e)&&(e=e.__vccOpts),t){t=ZE(t);let{class:a,style:l}=t;a&&!Ke(a)&&(t.class=vr(a)),Pt(l)&&(Cm(l)&&!Te(l)&&(l=ut({},l)),t.style=Ol(l))}const o=Ke(e)?1:Vg(e)?128:xL(e)?64:Pt(e)?4:je(e)?2:0;return ue(e,t,r,i,n,o,s,!0)}function ZE(e){return e?Cm(e)||r8(e)?ut({},e):e:null}function Is(e,t,r=!1,i=!1){const{props:n,ref:s,patchFlag:o,children:a,transition:l}=e,c=t?Tv(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&x8(c),ref:t&&t.ref?r&&s?Te(s)?s.concat(Dy(t)):[s,Dy(t)]:Dy(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Lt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Is(e.ssContent),ssFallback:e.ssFallback&&Is(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&wo(f,l.clone(f)),f}function ho(e=" ",t=0){return Xe(uo,null,e,t)}function E8(e,t){const r=Xe(pl,null,e);return r.staticCount=t,r}function Kt(e="",t=!1){return t?(pe(),Wt(xr,null,e)):Xe(xr,null,e)}function Ji(e){return e==null||typeof e=="boolean"?Xe(xr):Te(e)?Xe(Lt,null,e.slice()):Ms(e)?Za(e):Xe(uo,null,String(e))}function Za(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Is(e)}function XE(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Te(t))r=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),XE(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!r8(t)?t._ctx=qr:n===3&&qr&&(qr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else je(t)?(t={default:t,_ctx:qr},r=32):(t=String(t),i&64?(r=16,t=[ho(t)]):r=8);e.children=t,e.shapeFlag|=r}function Tv(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=vr([t.class,i.class]));else if(n==="style")t.style=Ol([t.style,i.style]);else if(vu(n)){const s=t[n],o=i[n];o&&s!==o&&!(Te(s)&&s.includes(o))&&(t[n]=s?[].concat(s,o):o)}else n!==""&&(t[n]=i[n])}return t}function Hi(e,t,r,i=null){Sn(e,t,7,[r,i])}const wee=QL();let See=0;function T8(e,t,r){const i=e.type,n=(t?t.appContext:e.appContext)||wee,s={uid:See++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:n8(i,n),emitsOptions:y8(i,n),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:i.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=cee.bind(null,s),e.ce&&e.ce(s),s}let Br=null;const kr=()=>Br||qr;let zg,Fw;{const e=LP(),t=(r,i)=>{let n;return(n=e[r])||(n=e[r]=[]),n.push(i),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};zg=t("__VUE_INSTANCE_SETTERS__",r=>Br=r),Fw=t("__VUE_SSR_SETTERS__",r=>Rm=r)}const iu=e=>{const t=Br;return zg(e),e.scope.on(),()=>{e.scope.off(),zg(t)}},Uw=()=>{Br&&Br.scope.off(),zg(null)};function A8(e){return e.vnode.shapeFlag&4}let Rm=!1;function M8(e,t=!1,r=!1){t&&Fw(t);const{props:i,children:n}=e.vnode,s=A8(e);tee(e,i,s,t),see(e,n,r);const o=s?xee(e,t):void 0;return t&&Fw(!1),o}function xee(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Pw);const{setup:i}=r;if(i){const n=e.setupContext=i.length>1?$8(e):null,s=iu(e);$l();const o=_u(i,e,0,[e.props,n]);if(Cl(),s(),uE(o)){if(dl(e)||AE(e),o.then(Uw,Uw),t)return o.then(a=>{jw(e,a,t)}).catch(a=>{Nl(a,e,0)});e.asyncDep=o}else jw(e,o,t)}else O8(e,t)}function jw(e,t,r){je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pt(t)&&(e.setupState=bv(t)),O8(e,r)}let qg,Gw;function QE(e){qg=e,Gw=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,HQ))}}const I8=()=>!qg;function O8(e,t,r){const i=e.type;if(!e.render){if(!t&&qg&&!i.render){const n=i.template||UE(e).template;if(n){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ut(ut({isCustomElement:s,delimiters:a},o),l);i.render=qg(n,c)}}e.render=i.render||Si,Gw&&Gw(e)}{const n=iu(e);$l();try{YQ(e)}finally{Cl(),n()}}}const Eee={get(e,t){return Ei(e,"get",""),e[t]}};function $8(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Eee),slots:e.slots,emit:e.emit,expose:t}}function Dm(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(bv(Mr(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Kd)return Kd[r](e)},has(t,r){return r in t||r in Kd}})):e.proxy}function Vw(e,t=!0){return je(e)?e.displayName||e.name:e.name||t&&e.__name}function Tee(e){return je(e)&&"__vccOpts"in e}const it=(e,t)=>MQ(e,t,Rm);function zn(e,t,r){const i=arguments.length;return i===2?Pt(t)&&!Te(t)?Ms(t)?Xe(e,null,[t]):Xe(e,t):Xe(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ms(r)&&(r=[r]),Xe(e,t,r))}function C8(){}function N8(e,t,r,i){const n=r[i];if(n&&e3(n,e))return n;const s=t();return s.memo=e.slice(),s.cacheIndex=i,r[i]=s}function e3(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let i=0;i<r.length;i++)if(ki(r[i],t[i]))return!1;return ru>0&&wi&&wi.push(e),!0}const t3="3.5.9",P8=Si,L8=CQ,k8=Ku,R8=vL,Aee={createComponentInstance:T8,setupComponent:M8,renderComponentRoot:Ry,setCurrentRenderingInstance:Bp,isVNode:Ms,normalizeVNode:Ji,getComponentPublicInstance:Dm,ensureValidVNode:FE,pushWarningContext:OQ,popWarningContext:$Q},D8=Aee,F8=null,U8=null,j8=null;/**
* @vue/runtime-dom v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bw;const SM=typeof window<"u"&&window.trustedTypes;if(SM)try{Bw=SM.createPolicy("vue",{createHTML:e=>e})}catch{}const G8=Bw?e=>Bw.createHTML(e):e=>e,Mee="http://www.w3.org/2000/svg",Iee="http://www.w3.org/1998/Math/MathML",zo=typeof document<"u"?document:null,xM=zo&&zo.createElement("template"),Oee={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const n=t==="svg"?zo.createElementNS(Mee,e):t==="mathml"?zo.createElementNS(Iee,e):r?zo.createElement(e,{is:r}):zo.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>zo.createTextNode(e),createComment:e=>zo.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zo.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,n,s){const o=r?r.previousSibling:t.lastChild;if(n&&(n===s||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{xM.innerHTML=G8(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const a=xM.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Aa="transition",Kf="animation",Hh=Symbol("_vtc"),V8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B8=ut({},Sv,V8),$ee=e=>(e.displayName="Transition",e.props=B8,e),Av=$ee((e,{slots:t})=>zn(TE,z8(e),t)),Wl=(e,t=[])=>{Te(e)?e.forEach(r=>r(...t)):e&&e(...t)},EM=e=>e?Te(e)?e.some(t=>t.length>1):e.length>1:!1;function z8(e){const t={};for(const U in e)U in V8||(t[U]=e[U]);if(e.css===!1)return t;const{name:r="v",type:i,duration:n,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:f=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=e,g=Cee(n),_=g&&g[0],w=g&&g[1],{onBeforeEnter:x,onEnter:T,onEnterCancelled:S,onLeave:v,onLeaveCancelled:M,onBeforeAppear:O=x,onAppear:P=T,onAppearCancelled:R=S}=t,k=(U,Y,se)=>{ja(U,Y?f:a),ja(U,Y?c:o),se&&se()},G=(U,Y)=>{U._isLeaving=!1,ja(U,d),ja(U,y),ja(U,p),Y&&Y()},V=U=>(Y,se)=>{const h=U?P:T,m=()=>k(Y,U,se);Wl(h,[Y,m]),TM(()=>{ja(Y,U?l:s),Uo(Y,U?f:a),EM(h)||AM(Y,i,_,m)})};return ut(t,{onBeforeEnter(U){Wl(x,[U]),Uo(U,s),Uo(U,o)},onBeforeAppear(U){Wl(O,[U]),Uo(U,l),Uo(U,c)},onEnter:V(!1),onAppear:V(!0),onLeave(U,Y){U._isLeaving=!0;const se=()=>G(U,Y);Uo(U,d),Uo(U,p),W8(),TM(()=>{U._isLeaving&&(ja(U,d),Uo(U,y),EM(v)||AM(U,i,w,se))}),Wl(v,[U,se])},onEnterCancelled(U){k(U,!1),Wl(S,[U])},onAppearCancelled(U){k(U,!0),Wl(R,[U])},onLeaveCancelled(U){G(U),Wl(M,[U])}})}function Cee(e){if(e==null)return null;if(Pt(e))return[qb(e.enter),qb(e.leave)];{const t=qb(e);return[t,t]}}function qb(e){return Lg(e)}function Uo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Hh]||(e[Hh]=new Set)).add(t)}function ja(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const r=e[Hh];r&&(r.delete(t),r.size||(e[Hh]=void 0))}function TM(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Nee=0;function AM(e,t,r,i){const n=e._endId=++Nee,s=()=>{n===e._endId&&i()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:l}=q8(e,t);if(!o)return i();const c=o+"end";let f=0;const d=()=>{e.removeEventListener(c,p),s()},p=y=>{y.target===e&&++f>=l&&d()};setTimeout(()=>{f<l&&d()},a+1),e.addEventListener(c,p)}function q8(e,t){const r=window.getComputedStyle(e),i=g=>(r[g]||"").split(", "),n=i(`${Aa}Delay`),s=i(`${Aa}Duration`),o=MM(n,s),a=i(`${Kf}Delay`),l=i(`${Kf}Duration`),c=MM(a,l);let f=null,d=0,p=0;t===Aa?o>0&&(f=Aa,d=o,p=s.length):t===Kf?c>0&&(f=Kf,d=c,p=l.length):(d=Math.max(o,c),f=d>0?o>c?Aa:Kf:null,p=f?f===Aa?s.length:l.length:0);const y=f===Aa&&/\b(transform|all)(,|$)/.test(i(`${Aa}Property`).toString());return{type:f,timeout:d,propCount:p,hasTransform:y}}function MM(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,i)=>IM(r)+IM(e[i])))}function IM(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function W8(){return document.body.offsetHeight}function Pee(e,t,r){const i=e[Hh];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Wg=Symbol("_vod"),H8=Symbol("_vsh"),Mv={beforeMount(e,{value:t},{transition:r}){e[Wg]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Zf(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),Zf(e,!0),i.enter(e)):i.leave(e,()=>{Zf(e,!1)}):Zf(e,t))},beforeUnmount(e,{value:t}){Zf(e,t)}};function Zf(e,t){e.style.display=t?e[Wg]:"none",e[H8]=!t}function Lee(){Mv.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Y8=Symbol("");function J8(e){const t=kr();if(!t)return;const r=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>Hg(s,n))},i=()=>{const n=e(t.proxy);t.ce?Hg(t.ce,n):zw(t.subTree,n),r(n)};Lm(()=>{YE(i)}),ai(()=>{const n=new MutationObserver(i);n.observe(t.subTree.el.parentNode,{childList:!0}),wu(()=>n.disconnect())})}function zw(e,t){if(e.shapeFlag&128){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{zw(r.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Hg(e.el,t);else if(e.type===Lt)e.children.forEach(r=>zw(r,t));else if(e.type===pl){let{el:r,anchor:i}=e;for(;r&&(Hg(r,t),r!==i);)r=r.nextSibling}}function Hg(e,t){if(e.nodeType===1){const r=e.style;let i="";for(const n in t)r.setProperty(`--${n}`,t[n]),i+=`--${n}: ${t[n]};`;r[Y8]=i}}const kee=/(^|;)\s*display\s*:/;function Ree(e,t,r){const i=e.style,n=Ke(r);let s=!1;if(r&&!n){if(t)if(Ke(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Fy(i,a,"")}else for(const o in t)r[o]==null&&Fy(i,o,"");for(const o in r)o==="display"&&(s=!0),Fy(i,o,r[o])}else if(n){if(t!==r){const o=i[Y8];o&&(r+=";"+o),i.cssText=r,s=kee.test(r)}}else t&&e.removeAttribute("style");Wg in e&&(e[Wg]=s?i.display:"",e[H8]&&(i.display="none"))}const OM=/\s*!important$/;function Fy(e,t,r){if(Te(r))r.forEach(i=>Fy(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=Dee(e,t);OM.test(r)?e.setProperty(Xi(i),r.replace(OM,""),"important"):e[i]=r}}const $M=["Webkit","Moz","ms"],Wb={};function Dee(e,t){const r=Wb[t];if(r)return r;let i=er(t);if(i!=="filter"&&i in e)return Wb[t]=i;i=Il(i);for(let n=0;n<$M.length;n++){const s=$M[n]+i;if(s in e)return Wb[t]=s}return t}const CM="http://www.w3.org/1999/xlink";function NM(e,t,r,i,n,s=ZX(t)){i&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(CM,t.slice(6,t.length)):e.setAttributeNS(CM,t,r):r==null||s&&!DP(r)?e.removeAttribute(t):e.setAttribute(t,s?"":wn(r)?String(r):r)}function Fee(e,t,r,i){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?G8(r):r);return}const n=e.tagName;if(t==="value"&&n!=="PROGRESS"&&!n.includes("-")){const o=n==="OPTION"?e.getAttribute("value")||"":e.value,a=r==null?e.type==="checkbox"?"on":"":String(r);(o!==a||!("_value"in e))&&(e.value=a),r==null&&e.removeAttribute(t),e._value=r;return}let s=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=DP(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(t)}function Zo(e,t,r,i){e.addEventListener(t,r,i)}function Uee(e,t,r,i){e.removeEventListener(t,r,i)}const PM=Symbol("_vei");function jee(e,t,r,i,n=null){const s=e[PM]||(e[PM]={}),o=s[t];if(i&&o)o.value=i;else{const[a,l]=Gee(t);if(i){const c=s[t]=zee(i,n);Zo(e,a,c,l)}else o&&(Uee(e,a,o,l),s[t]=void 0)}}const LM=/(?:Once|Passive|Capture)$/;function Gee(e){let t;if(LM.test(e)){t={};let i;for(;i=e.match(LM);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xi(e.slice(2)),t]}let Hb=0;const Vee=Promise.resolve(),Bee=()=>Hb||(Vee.then(()=>Hb=0),Hb=Date.now());function zee(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Sn(qee(i,r.value),t,5,[i])};return r.value=e,r.attached=Bee(),r}function qee(e,t){if(Te(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const kM=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Wee=(e,t,r,i,n,s)=>{const o=n==="svg";t==="class"?Pee(e,i,o):t==="style"?Ree(e,r,i):vu(t)?lE(t)||jee(e,t,r,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hee(e,t,i,o))?(Fee(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&NM(e,t,i,o,s,t!=="value")):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),NM(e,t,i,o))};function Hee(e,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&kM(t)&&je(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return kM(t)&&Ke(r)?!1:!!(t in e||e._isVueCE&&(/[A-Z]/.test(t)||!Ke(r)))}const RM={};/*! #__NO_SIDE_EFFECTS__ */function r3(e,t,r){const i=at(e,t);lv(i)&&ut(i,t);class n extends Fm{constructor(o){super(i,o,r)}}return n.def=i,n}/*! #__NO_SIDE_EFFECTS__ */const K8=(e,t)=>r3(e,t,a3),Yee=typeof HTMLElement<"u"?HTMLElement:class{};class Fm extends Yee{constructor(t,r={},i=Sl){super(),this._def=t,this._props=r,this._createApp=i,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&i!==Sl?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof Fm){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Cs(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);this._ob=new MutationObserver(i=>{for(const n of i)this._setAttr(n.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(i,n=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=i;let a;if(s&&!Te(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Lg(this._props[l])),(a||(a=Object.create(null)))[er(l)]=!0)}this._numberProps=a,n&&this._resolveProps(i),this.shadowRoot&&this._applyStyles(o),this._mount(i)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(i=>t(this._def=i,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const i in r)Et(this,i)||Object.defineProperty(this,i,{get:()=>Ne(r[i])})}_resolveProps(t){const{props:r}=t,i=Te(r)?r:Object.keys(r||{});for(const n of Object.keys(this))n[0]!=="_"&&i.includes(n)&&this._setProp(n,this[n]);for(const n of i.map(er))Object.defineProperty(this,n,{get(){return this._getProp(n)},set(s){this._setProp(n,s,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const r=this.hasAttribute(t);let i=r?this.getAttribute(t):RM;const n=er(t);r&&this._numberProps&&this._numberProps[n]&&(i=Lg(i)),this._setProp(n,i,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,r,i=!0,n=!1){r!==this._props[t]&&(r===RM?delete this._props[t]:(this._props[t]=r,t==="key"&&this._app&&(this._app._ceVNode.key=r)),n&&this._instance&&this._update(),i&&(r===!0?this.setAttribute(Xi(t),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Xi(t),r+""):r||this.removeAttribute(Xi(t))))}_update(){Nh(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const r=Xe(this._def,ut(t,this._props));return this._instance||(r.ce=i=>{this._instance=i,i.ce=this,i.isCE=!0;const n=(s,o)=>{this.dispatchEvent(new CustomEvent(s,lv(o[0])?ut({detail:o},o[0]):{detail:o}))};i.emit=(s,...o)=>{n(s,o),Xi(s)!==s&&n(Xi(s),o)},this._setParent()}),r}_applyStyles(t,r){if(!t)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const i=this._nonce;for(let n=t.length-1;n>=0;n--){const s=document.createElement("style");i&&s.setAttribute("nonce",i),s.textContent=t[n],this.shadowRoot.prepend(s)}}_parseSlots(){const t=this._slots={};let r;for(;r=this.firstChild;){const i=r.nodeType===1&&r.getAttribute("slot")||"default";(t[i]||(t[i]=[])).push(r),this.removeChild(r)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let i=0;i<t.length;i++){const n=t[i],s=n.getAttribute("name")||"default",o=this._slots[s],a=n.parentNode;if(o)for(const l of o){if(r&&l.nodeType===1){const c=r+"-s",f=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=f.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,n)}else for(;n.firstChild;)a.insertBefore(n.firstChild,n);a.removeChild(n)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function i3(e){const t=kr(),r=t&&t.ce;return r||null}function Z8(){const e=i3();return e&&e.shadowRoot}function X8(e="$style"){{const t=kr();if(!t)return lt;const r=t.type.__cssModules;if(!r)return lt;const i=r[e];return i||lt}}const Q8=new WeakMap,ek=new WeakMap,Yg=Symbol("_moveCb"),DM=Symbol("_enterCb"),Jee=e=>(delete e.props.mode,e),Kee=Jee({name:"TransitionGroup",props:ut({},B8,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=kr(),i=wv();let n,s;return kf(()=>{if(!n.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!ete(n[0].el,r.vnode.el,o))return;n.forEach(Zee),n.forEach(Xee);const a=n.filter(Qee);W8(),a.forEach(l=>{const c=l.el,f=c.style;Uo(c,o),f.transform=f.webkitTransform=f.transitionDuration="";const d=c[Yg]=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c[Yg]=null,ja(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=qe(e),a=z8(o);let l=o.tag||Lt;if(n=[],s)for(let c=0;c<s.length;c++){const f=s[c];f.el&&f.el instanceof Element&&(n.push(f),wo(f,tu(f,a,i,r)),Q8.set(f,f.el.getBoundingClientRect()))}s=t.default?Nm(t.default()):[];for(let c=0;c<s.length;c++){const f=s[c];f.key!=null&&wo(f,tu(f,a,i,r))}return Xe(l,null,s)}}}),Iv=Kee;function Zee(e){const t=e.el;t[Yg]&&t[Yg](),t[DM]&&t[DM]()}function Xee(e){ek.set(e,e.el.getBoundingClientRect())}function Qee(e){const t=Q8.get(e),r=ek.get(e),i=t.left-r.left,n=t.top-r.top;if(i||n){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${i}px,${n}px)`,s.transitionDuration="0s",e}}function ete(e,t,r){const i=e.cloneNode(),n=e[Hh];n&&n.forEach(a=>{a.split(/\s+/).forEach(l=>l&&i.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=q8(i);return s.removeChild(i),o}const wl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Te(t)?r=>Oh(t,r):t};function tte(e){e.target.composing=!0}function FM(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Wn=Symbol("_assign"),Wp={created(e,{modifiers:{lazy:t,trim:r,number:i}},n){e[Wn]=wl(n);const s=i||n.props&&n.props.type==="number";Zo(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r&&(a=a.trim()),s&&(a=Pg(a)),e[Wn](a)}),r&&Zo(e,"change",()=>{e.value=e.value.trim()}),t||(Zo(e,"compositionstart",tte),Zo(e,"compositionend",FM),Zo(e,"change",FM))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:i,trim:n,number:s}},o){if(e[Wn]=wl(o),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?Pg(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===r||n&&e.value.trim()===l)||(e.value=l))}},Ov={deep:!0,created(e,t,r){e[Wn]=wl(r),Zo(e,"change",()=>{const i=e._modelValue,n=Yh(e),s=e.checked,o=e[Wn];if(Te(i)){const a=uv(i,n),l=a!==-1;if(s&&!l)o(i.concat(n));else if(!s&&l){const c=[...i];c.splice(a,1),o(c)}}else if(bu(i)){const a=new Set(i);s?a.add(n):a.delete(n),o(a)}else o(tk(e,s))})},mounted:UM,beforeUpdate(e,t,r){e[Wn]=wl(r),UM(e,t,r)}};function UM(e,{value:t},r){e._modelValue=t;let i;Te(t)?i=uv(t,r.props.value)>-1:bu(t)?i=t.has(r.props.value):i=_l(t,tk(e,!0)),e.checked!==i&&(e.checked=i)}const $v={created(e,{value:t},r){e.checked=_l(t,r.props.value),e[Wn]=wl(r),Zo(e,"change",()=>{e[Wn](Yh(e))})},beforeUpdate(e,{value:t,oldValue:r},i){e[Wn]=wl(i),t!==r&&(e.checked=_l(t,i.props.value))}},n3={deep:!0,created(e,{value:t,modifiers:{number:r}},i){const n=bu(t);Zo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Pg(Yh(o)):Yh(o));e[Wn](e.multiple?n?new Set(s):s:s[0]),e._assigning=!0,Cs(()=>{e._assigning=!1})}),e[Wn]=wl(i)},mounted(e,{value:t}){jM(e,t)},beforeUpdate(e,t,r){e[Wn]=wl(r)},updated(e,{value:t}){e._assigning||jM(e,t)}};function jM(e,t){const r=e.multiple,i=Te(t);if(!(r&&!i&&!bu(t))){for(let n=0,s=e.options.length;n<s;n++){const o=e.options[n],a=Yh(o);if(r)if(i){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=uv(t,a)>-1}else o.selected=t.has(a);else if(_l(Yh(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Yh(e){return"_value"in e?e._value:e.value}function tk(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const s3={created(e,t,r){O0(e,t,r,null,"created")},mounted(e,t,r){O0(e,t,r,null,"mounted")},beforeUpdate(e,t,r,i){O0(e,t,r,i,"beforeUpdate")},updated(e,t,r,i){O0(e,t,r,i,"updated")}};function rk(e,t){switch(e){case"SELECT":return n3;case"TEXTAREA":return Wp;default:switch(t){case"checkbox":return Ov;case"radio":return $v;default:return Wp}}}function O0(e,t,r,i,n){const o=rk(e.tagName,r.props&&r.props.type)[n];o&&o(e,t,r,i)}function rte(){Wp.getSSRProps=({value:e})=>({value:e}),$v.getSSRProps=({value:e},t)=>{if(t.props&&_l(t.props.value,e))return{checked:!0}},Ov.getSSRProps=({value:e},t)=>{if(Te(e)){if(t.props&&uv(e,t.props.value)>-1)return{checked:!0}}else if(bu(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},s3.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const r=rk(t.type.toUpperCase(),t.props&&t.props.type);if(r.getSSRProps)return r.getSSRProps(e,t)}}const ite=["ctrl","shift","alt","meta"],nte={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ite.some(r=>e[`${r}Key`]&&!t.includes(r))},Um=(e,t)=>{const r=e._withMods||(e._withMods={}),i=t.join(".");return r[i]||(r[i]=(n,...s)=>{for(let o=0;o<t.length;o++){const a=nte[t[o]];if(a&&a(n,t))return}return e(n,...s)})},ste={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},o3=(e,t)=>{const r=e._withKeys||(e._withKeys={}),i=t.join(".");return r[i]||(r[i]=n=>{if(!("key"in n))return;const s=Xi(n.key);if(t.some(o=>o===s||ste[o]===s))return e(n)})},ik=ut({patchProp:Wee},Oee);let Xd,GM=!1;function nk(){return Xd||(Xd=BE(ik))}function sk(){return Xd=GM?Xd:zE(ik),GM=!0,Xd}const Nh=(...e)=>{nk().render(...e)},ok=(...e)=>{sk().hydrate(...e)},Sl=(...e)=>{const t=nk().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=lk(i);if(!n)return;const s=t._component;!je(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,ak(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t},a3=(...e)=>{const t=sk().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=lk(i);if(n)return r(n,!0,ak(n))},t};function ak(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lk(e){return Ke(e)?document.querySelector(e):e}let VM=!1;const ck=()=>{VM||(VM=!0,rte(),Lee())},ote=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:TE,BaseTransitionPropsValidators:Sv,Comment:xr,DeprecationTypes:j8,EffectScope:hv,ErrorCodes:pL,ErrorTypeStrings:L8,Fragment:Lt,KeepAlive:PL,ReactiveEffect:Wh,Static:pl,Suspense:g8,Teleport:EE,Text:uo,TrackOpTypes:cL,Transition:Av,TransitionGroup:Iv,TriggerOpTypes:uL,VueElement:Fm,assertNumber:dL,callWithAsyncErrorHandling:Sn,callWithErrorHandling:_u,camelize:er,capitalize:Il,cloneVNode:Is,compatUtils:U8,computed:it,createApp:Sl,createBlock:Wt,createCommentVNode:Kt,createElementBlock:xe,createElementVNode:ue,createHydrationRenderer:zE,createPropsRestProxy:KL,createRenderer:BE,createSSRApp:a3,createSlots:RL,createStaticVNode:E8,createTextVNode:ho,createVNode:Xe,customRef:bE,defineAsyncComponent:ME,defineComponent:at,defineCustomElement:r3,defineEmits:UL,defineExpose:jL,defineModel:BL,defineOptions:GL,defineProps:FL,defineSSRCustomElement:K8,defineSlots:VL,devtools:k8,effect:qP,effectScope:$m,getCurrentInstance:kr,getCurrentScope:fv,getCurrentWatcher:hL,getTransitionRawChildren:Nm,guardReactiveProps:ZE,h:zn,handleError:Nl,hasInjectionContext:GE,hydrate:ok,hydrateOnIdle:OL,hydrateOnInteraction:NL,hydrateOnMediaQuery:CL,hydrateOnVisible:$L,initCustomFormatter:C8,initDirectivesForSSR:ck,inject:Hr,isMemoSame:e3,isProxy:Cm,isReactive:gn,isReadonly:la,isRef:gt,isRuntimeOnly:I8,isShallow:rn,isVNode:Ms,markRaw:Mr,mergeDefaults:YL,mergeModels:JL,mergeProps:Tv,nextTick:Cs,normalizeClass:vr,normalizeProps:RP,normalizeStyle:Ol,onActivated:IE,onBeforeMount:Lm,onBeforeUnmount:Ns,onBeforeUpdate:$E,onDeactivated:OE,onErrorCaptured:LE,onMounted:ai,onRenderTracked:PE,onRenderTriggered:NE,onScopeDispose:fE,onServerPrefetch:CE,onUnmounted:wu,onUpdated:kf,onWatcherCleanup:wE,openBlock:pe,popScopeId:_L,provide:jE,proxyRefs:bv,pushScopeId:bL,queuePostFlushCb:Gp,reactive:Jr,readonly:gv,ref:ne,registerRuntimeCompiler:QE,render:Nh,renderList:Pl,renderSlot:ds,resolveComponent:wr,resolveDirective:Nt,resolveDynamicComponent:RE,resolveFilter:F8,resolveTransitionHooks:tu,setBlockTracking:Bg,setDevtoolsHook:R8,setTransitionHooks:wo,shallowReactive:gE,shallowReadonly:iL,shallowRef:Lf,ssrContextKey:WE,ssrUtils:D8,stop:WP,toDisplayString:zt,toHandlerKey:Pc,toHandlers:DL,toRaw:qe,toRef:aL,toRefs:_E,toValue:oL,transformVNodeArgs:S8,triggerRef:sL,unref:Ne,useAttrs:WL,useCssModule:X8,useCssVars:J8,useHost:i3,useId:IL,useModel:p8,useSSRContext:HE,useShadowRoot:Z8,useSlots:qL,useTemplateRef:Fg,useTransitionState:wv,vModelCheckbox:Ov,vModelDynamic:s3,vModelRadio:$v,vModelSelect:n3,vModelText:Wp,vShow:Mv,version:t3,warn:P8,watch:ti,watchEffect:f8,watchPostEffect:YE,watchSyncEffect:JE,withAsyncContext:ZL,withCtx:Or,withDefaults:zL,withDirectives:Ct,withKeys:o3,withMemo:N8,withModifiers:Um,withScopeId:wL},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hp=Symbol(""),Qd=Symbol(""),l3=Symbol(""),Jg=Symbol(""),uk=Symbol(""),nu=Symbol(""),hk=Symbol(""),fk=Symbol(""),c3=Symbol(""),u3=Symbol(""),jm=Symbol(""),h3=Symbol(""),dk=Symbol(""),f3=Symbol(""),d3=Symbol(""),p3=Symbol(""),m3=Symbol(""),y3=Symbol(""),g3=Symbol(""),pk=Symbol(""),mk=Symbol(""),Cv=Symbol(""),Kg=Symbol(""),v3=Symbol(""),b3=Symbol(""),Yp=Symbol(""),Gm=Symbol(""),_3=Symbol(""),qw=Symbol(""),ate=Symbol(""),Ww=Symbol(""),Zg=Symbol(""),lte=Symbol(""),cte=Symbol(""),w3=Symbol(""),ute=Symbol(""),hte=Symbol(""),S3=Symbol(""),yk=Symbol(""),Jh={[Hp]:"Fragment",[Qd]:"Teleport",[l3]:"Suspense",[Jg]:"KeepAlive",[uk]:"BaseTransition",[nu]:"openBlock",[hk]:"createBlock",[fk]:"createElementBlock",[c3]:"createVNode",[u3]:"createElementVNode",[jm]:"createCommentVNode",[h3]:"createTextVNode",[dk]:"createStaticVNode",[f3]:"resolveComponent",[d3]:"resolveDynamicComponent",[p3]:"resolveDirective",[m3]:"resolveFilter",[y3]:"withDirectives",[g3]:"renderList",[pk]:"renderSlot",[mk]:"createSlots",[Cv]:"toDisplayString",[Kg]:"mergeProps",[v3]:"normalizeClass",[b3]:"normalizeStyle",[Yp]:"normalizeProps",[Gm]:"guardReactiveProps",[_3]:"toHandlers",[qw]:"camelize",[ate]:"capitalize",[Ww]:"toHandlerKey",[Zg]:"setBlockTracking",[lte]:"pushScopeId",[cte]:"popScopeId",[w3]:"withCtx",[ute]:"unref",[hte]:"isRef",[S3]:"withMemo",[yk]:"isMemoSame"};function fte(e){Object.getOwnPropertySymbols(e).forEach(t=>{Jh[t]=e[t]})}const An={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function dte(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:An}}function Jp(e,t,r,i,n,s,o,a=!1,l=!1,c=!1,f=An){return e&&(a?(e.helper(nu),e.helper(Xh(e.inSSR,c))):e.helper(Zh(e.inSSR,c)),o&&e.helper(y3)),{type:13,tag:t,props:r,children:i,patchFlag:n,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:f}}function Rc(e,t=An){return{type:17,loc:t,elements:e}}function qn(e,t=An){return{type:15,loc:t,properties:e}}function Ar(e,t){return{type:16,loc:An,key:Ke(e)?et(e,!0):e,value:t}}function et(e,t=!1,r=An,i=0){return{type:4,loc:r,content:e,isStatic:t,constType:t?3:i}}function ws(e,t=An){return{type:8,loc:t,children:e}}function Vr(e,t=[],r=An){return{type:14,loc:r,callee:e,arguments:t}}function Kh(e,t=void 0,r=!1,i=!1,n=An){return{type:18,params:e,returns:t,newline:r,isSlot:i,loc:n}}function Hw(e,t,r,i=!0){return{type:19,test:e,consequent:t,alternate:r,newline:i,loc:An}}function pte(e,t,r=!1){return{type:20,index:e,value:t,needPauseTracking:r,needArraySpread:!1,loc:An}}function mte(e){return{type:21,body:e,loc:An}}function Zh(e,t){return e||t?c3:u3}function Xh(e,t){return e||t?hk:fk}function x3(e,{helper:t,removeHelper:r,inSSR:i}){e.isBlock||(e.isBlock=!0,r(Zh(i,e.isComponent)),t(nu),t(Xh(i,e.isComponent)))}const BM=new Uint8Array([123,123]),zM=new Uint8Array([125,125]);function qM(e){return e>=97&&e<=122||e>=65&&e<=90}function fn(e){return e===32||e===10||e===9||e===12||e===13}function Ma(e){return e===47||e===62||fn(e)}function Xg(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}const ci={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let yte=class{constructor(t,r){this.stack=t,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=BM,this.delimiterClose=zM,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=BM,this.delimiterClose=zM}getPos(t){let r=1,i=t+1;for(let n=this.newlines.length-1;n>=0;n--){const s=this.newlines[n];if(t>s){r=n+2,i=t-s;break}}return{column:i,line:r,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Ma(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||fn(t)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const i=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=i}this.sectionStart=r+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ci.TitleEnd||this.currentSequence===ci.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===ci.Cdata[this.sequenceIndex]?++this.sequenceIndex===ci.Cdata.length&&(this.state=28,this.currentSequence=ci.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ci.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,r){this.enterRCDATA(t,r),this.state=31}enterRCDATA(t,r){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=r}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):qM(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Ma(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Ma(t)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Xg("</"+r),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){fn(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=qM(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||fn(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):fn(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):fn(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Ma(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Ma(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Ma(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Ma(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Ma(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):fn(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):fn(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,r){(t===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){fn(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=ci.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===ci.ScriptEnd[3]?this.startSpecial(ci.ScriptEnd,4):t===ci.StyleEnd[3]?this.startSpecial(ci.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===ci.TitleEnd[3]?this.startSpecial(ci.TitleEnd,4):t===ci.TextareaEnd[3]?this.startSpecial(ci.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===ci.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,r){}};function WM(e,{compatConfig:t}){const r=t&&t[e];return e==="MODE"?r||3:r}function Dc(e,t){const r=WM("MODE",t),i=WM(e,t);return r===3?i===!0:i!==!1}function Kp(e,t,r,...i){return Dc(e,t)}function E3(e){throw e}function gk(e){}function nr(e,t,r,i){const n=`https://vuejs.org/error-reference/#compiler-${e}`,s=new SyntaxError(String(n));return s.code=e,s.loc=t,s}const tn=e=>e.type===4&&e.isStatic;function vk(e){switch(e){case"Teleport":case"teleport":return Qd;case"Suspense":case"suspense":return l3;case"KeepAlive":case"keep-alive":return Jg;case"BaseTransition":case"base-transition":return uk}}const gte=/^\d|[^\$\w\xA0-\uFFFF]/,T3=e=>!gte.test(e),vte=/[A-Za-z_$\xA0-\uFFFF]/,bte=/[\.\?\w$\xA0-\uFFFF]/,_te=/\s+[.[]\s*|\s*[.[]\s+/g,bk=e=>e.type===4?e.content:e.loc.source,wte=e=>{const t=bk(e).trim().replace(_te,a=>a.trim());let r=0,i=[],n=0,s=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(r){case 0:if(l==="[")i.push(r),r=1,n++;else if(l==="(")i.push(r),r=2,s++;else if(!(a===0?vte:bte).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(r),r=3,o=l):l==="["?n++:l==="]"&&(--n||(r=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(r),r=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===t.length-1)return!1;--s||(r=i.pop())}break;case 3:l===o&&(r=i.pop(),o=null);break}}return!n&&!s},_k=wte,Ste=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,xte=e=>Ste.test(bk(e)),Ete=xte;function Un(e,t,r=!1){for(let i=0;i<e.props.length;i++){const n=e.props[i];if(n.type===7&&(r||n.exp)&&(Ke(t)?n.name===t:t.test(n.name)))return n}}function Nv(e,t,r=!1,i=!1){for(let n=0;n<e.props.length;n++){const s=e.props[n];if(s.type===6){if(r)continue;if(s.name===t&&(s.value||i))return s}else if(s.name==="bind"&&(s.exp||i)&&Ec(s.arg,t))return s}}function Ec(e,t){return!!(e&&tn(e)&&e.content===t)}function Tte(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function Yb(e){return e.type===5||e.type===2}function Ate(e){return e.type===7&&e.name==="slot"}function Qg(e){return e.type===1&&e.tagType===3}function e1(e){return e.type===1&&e.tagType===2}const Mte=new Set([Yp,Gm]);function wk(e,t=[]){if(e&&!Ke(e)&&e.type===14){const r=e.callee;if(!Ke(r)&&Mte.has(r))return wk(e.arguments[0],t.concat(e))}return[e,t]}function t1(e,t,r){let i,n=e.type===13?e.props:e.arguments[2],s=[],o;if(n&&!Ke(n)&&n.type===14){const a=wk(n);n=a[0],s=a[1],o=s[s.length-1]}if(n==null||Ke(n))i=qn([t]);else if(n.type===14){const a=n.arguments[0];!Ke(a)&&a.type===15?HM(t,a)||a.properties.unshift(t):n.callee===_3?i=Vr(r.helper(Kg),[qn([t]),n]):n.arguments.unshift(qn([t])),!i&&(i=n)}else n.type===15?(HM(t,n)||n.properties.unshift(t),i=n):(i=Vr(r.helper(Kg),[qn([t]),n]),o&&o.callee===Gm&&(o=s[s.length-2]));e.type===13?o?o.arguments[0]=i:e.props=i:o?o.arguments[0]=i:e.arguments[2]=i}function HM(e,t){let r=!1;if(e.key.type===4){const i=e.key.content;r=t.properties.some(n=>n.key.type===4&&n.key.content===i)}return r}function Zp(e,t){return`_${t}_${e.replace(/[^\w]/g,(r,i)=>r==="-"?"_":e.charCodeAt(i).toString())}`}function Ite(e){return e.type===14&&e.callee===S3?e.arguments[1].returns:e}const Ote=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,Sk={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Cd,isPreTag:Cd,isIgnoreNewlineTag:Cd,isCustomElement:Cd,onError:E3,onWarn:gk,comments:!1,prefixIdentifiers:!1};let Tt=Sk,Xp=null,ia="",di=null,dt=null,zi="",jo=-1,mc=-1,A3=0,Xa=!1,Yw=null;const tr=[],gr=new yte(tr,{onerr:$o,ontext(e,t){$0(ni(e,t),e,t)},ontextentity(e,t,r){$0(e,t,r)},oninterpolation(e,t){if(Xa)return $0(ni(e,t),e,t);let r=e+gr.delimiterOpen.length,i=t-gr.delimiterClose.length;for(;fn(ia.charCodeAt(r));)r++;for(;fn(ia.charCodeAt(i-1));)i--;let n=ni(r,i);n.includes("&")&&(n=Tt.decodeEntities(n,!1)),Jw({type:5,content:jy(n,!1,Nr(r,i)),loc:Nr(e,t)})},onopentagname(e,t){const r=ni(e,t);di={type:1,tag:r,ns:Tt.getNamespace(r,tr[0],Tt.ns),tagType:0,props:[],children:[],loc:Nr(e-1,t),codegenNode:void 0}},onopentagend(e){JM(e)},onclosetag(e,t){const r=ni(e,t);if(!Tt.isVoidTag(r)){let i=!1;for(let n=0;n<tr.length;n++)if(tr[n].tag.toLowerCase()===r.toLowerCase()){i=!0,n>0&&$o(24,tr[0].loc.start.offset);for(let o=0;o<=n;o++){const a=tr.shift();Uy(a,t,o<n)}break}i||$o(23,xk(e,60))}},onselfclosingtag(e){const t=di.tag;di.isSelfClosing=!0,JM(e),tr[0]&&tr[0].tag===t&&Uy(tr.shift(),e)},onattribname(e,t){dt={type:6,name:ni(e,t),nameLoc:Nr(e,t),value:void 0,loc:Nr(e)}},ondirname(e,t){const r=ni(e,t),i=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!Xa&&i===""&&$o(26,e),Xa||i==="")dt={type:6,name:r,nameLoc:Nr(e,t),value:void 0,loc:Nr(e)};else if(dt={type:7,name:i,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[et("prop")]:[],loc:Nr(e)},i==="pre"){Xa=gr.inVPre=!0,Yw=di;const n=di.props;for(let s=0;s<n.length;s++)n[s].type===7&&(n[s]=Ute(n[s]))}},ondirarg(e,t){if(e===t)return;const r=ni(e,t);if(Xa)dt.name+=r,Tc(dt.nameLoc,t);else{const i=r[0]!=="[";dt.arg=jy(i?r:r.slice(1,-1),i,Nr(e,t),i?3:0)}},ondirmodifier(e,t){const r=ni(e,t);if(Xa)dt.name+="."+r,Tc(dt.nameLoc,t);else if(dt.name==="slot"){const i=dt.arg;i&&(i.content+="."+r,Tc(i.loc,t))}else{const i=et(r,!0,Nr(e,t));dt.modifiers.push(i)}},onattribdata(e,t){zi+=ni(e,t),jo<0&&(jo=e),mc=t},onattribentity(e,t,r){zi+=e,jo<0&&(jo=t),mc=r},onattribnameend(e){const t=dt.loc.start.offset,r=ni(t,e);dt.type===7&&(dt.rawName=r),di.props.some(i=>(i.type===7?i.rawName:i.name)===r)&&$o(2,t)},onattribend(e,t){if(di&&dt){if(Tc(dt.loc,t),e!==0)if(zi.includes("&")&&(zi=Tt.decodeEntities(zi,!0)),dt.type===6)dt.name==="class"&&(zi=Tk(zi).trim()),e===1&&!zi&&$o(13,t),dt.value={type:2,content:zi,loc:e===1?Nr(jo,mc):Nr(jo-1,mc+1)},gr.inSFCRoot&&di.tag==="template"&&dt.name==="lang"&&zi&&zi!=="html"&&gr.enterRCDATA(Xg("</template"),0);else{let r=0;dt.exp=jy(zi,!1,Nr(jo,mc),0,r),dt.name==="for"&&(dt.forParseResult=Cte(dt.exp));let i=-1;dt.name==="bind"&&(i=dt.modifiers.findIndex(n=>n.content==="sync"))>-1&&Kp("COMPILER_V_BIND_SYNC",Tt,dt.loc,dt.rawName)&&(dt.name="model",dt.modifiers.splice(i,1))}(dt.type!==7||dt.name!=="pre")&&di.props.push(dt)}zi="",jo=mc=-1},oncomment(e,t){Tt.comments&&Jw({type:3,content:ni(e,t),loc:Nr(e-4,t+3)})},onend(){const e=ia.length;for(let t=0;t<tr.length;t++)Uy(tr[t],e-1),$o(24,tr[t].loc.start.offset)},oncdata(e,t){tr[0].ns!==0?$0(ni(e,t),e,t):$o(1,e-9)},onprocessinginstruction(e){(tr[0]?tr[0].ns:Tt.ns)===0&&$o(21,e-1)}}),YM=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,$te=/^\(|\)$/g;function Cte(e){const t=e.loc,r=e.content,i=r.match(Ote);if(!i)return;const[,n,s]=i,o=(d,p,y=!1)=>{const g=t.start.offset+p,_=g+d.length;return jy(d,!1,Nr(g,_),0,y?1:0)},a={source:o(s.trim(),r.indexOf(s,n.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=n.trim().replace($te,"").trim();const c=n.indexOf(l),f=l.match(YM);if(f){l=l.replace(YM,"").trim();const d=f[1].trim();let p;if(d&&(p=r.indexOf(d,c+l.length),a.key=o(d,p,!0)),f[2]){const y=f[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function ni(e,t){return ia.slice(e,t)}function JM(e){gr.inSFCRoot&&(di.innerLoc=Nr(e+1,e+1)),Jw(di);const{tag:t,ns:r}=di;r===0&&Tt.isPreTag(t)&&A3++,Tt.isVoidTag(t)?Uy(di,e):(tr.unshift(di),(r===1||r===2)&&(gr.inXML=!0)),di=null}function $0(e,t,r){{const s=tr[0]&&tr[0].tag;s!=="script"&&s!=="style"&&e.includes("&")&&(e=Tt.decodeEntities(e,!1))}const i=tr[0]||Xp,n=i.children[i.children.length-1];n&&n.type===2?(n.content+=e,Tc(n.loc,r)):i.children.push({type:2,content:e,loc:Nr(t,r)})}function Uy(e,t,r=!1){r?Tc(e.loc,xk(t,60)):Tc(e.loc,Nte(t,62)+1),gr.inSFCRoot&&(e.children.length?e.innerLoc.end=ut({},e.children[e.children.length-1].loc.end):e.innerLoc.end=ut({},e.innerLoc.start),e.innerLoc.source=ni(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:i,ns:n,children:s}=e;if(Xa||(i==="slot"?e.tagType=2:KM(e)?e.tagType=3:Lte(e)&&(e.tagType=1)),gr.inRCDATA||(e.children=Ek(s)),n===0&&Tt.isIgnoreNewlineTag(i)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}n===0&&Tt.isPreTag(i)&&A3--,Yw===e&&(Xa=gr.inVPre=!1,Yw=null),gr.inXML&&(tr[0]?tr[0].ns:Tt.ns)===0&&(gr.inXML=!1);{const o=e.props;if(!gr.inSFCRoot&&Dc("COMPILER_NATIVE_TEMPLATE",Tt)&&e.tag==="template"&&!KM(e)){const l=tr[0]||Xp,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Kp("COMPILER_INLINE_TEMPLATE",Tt,a.loc)&&e.children.length&&(a.value={type:2,content:ni(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function Nte(e,t){let r=e;for(;ia.charCodeAt(r)!==t&&r<ia.length-1;)r++;return r}function xk(e,t){let r=e;for(;ia.charCodeAt(r)!==t&&r>=0;)r--;return r}const Pte=new Set(["if","else","else-if","for","slot"]);function KM({tag:e,props:t}){if(e==="template"){for(let r=0;r<t.length;r++)if(t[r].type===7&&Pte.has(t[r].name))return!0}return!1}function Lte({tag:e,props:t}){if(Tt.isCustomElement(e))return!1;if(e==="component"||kte(e.charCodeAt(0))||vk(e)||Tt.isBuiltInComponent&&Tt.isBuiltInComponent(e)||Tt.isNativeTag&&!Tt.isNativeTag(e))return!0;for(let r=0;r<t.length;r++){const i=t[r];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(Kp("COMPILER_IS_ON_ELEMENT",Tt,i.loc))return!0}}else if(i.name==="bind"&&Ec(i.arg,"is")&&Kp("COMPILER_IS_ON_ELEMENT",Tt,i.loc))return!0}return!1}function kte(e){return e>64&&e<91}const Rte=/\r\n/g;function Ek(e,t){const r=Tt.whitespace!=="preserve";let i=!1;for(let n=0;n<e.length;n++){const s=e[n];if(s.type===2)if(A3)s.content=s.content.replace(Rte,`
`);else if(Dte(s.content)){const o=e[n-1]&&e[n-1].type,a=e[n+1]&&e[n+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Fte(s.content)))?(i=!0,e[n]=null):s.content=" "}else r&&(s.content=Tk(s.content))}return i?e.filter(Boolean):e}function Dte(e){for(let t=0;t<e.length;t++)if(!fn(e.charCodeAt(t)))return!1;return!0}function Fte(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r===10||r===13)return!0}return!1}function Tk(e){let t="",r=!1;for(let i=0;i<e.length;i++)fn(e.charCodeAt(i))?r||(t+=" ",r=!0):(t+=e[i],r=!1);return t}function Jw(e){(tr[0]||Xp).children.push(e)}function Nr(e,t){return{start:gr.getPos(e),end:t==null?t:gr.getPos(t),source:t==null?t:ni(e,t)}}function Tc(e,t){e.end=gr.getPos(t),e.source=ni(e.start.offset,t)}function Ute(e){const t={type:6,name:e.rawName,nameLoc:Nr(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const r=e.exp.loc;r.end.offset<e.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),t.value={type:2,content:e.exp.content,loc:r}}return t}function jy(e,t=!1,r,i=0,n=0){return et(e,t,r,i)}function $o(e,t,r){Tt.onError(nr(e,Nr(t,t)))}function jte(){gr.reset(),di=null,dt=null,zi="",jo=-1,mc=-1,tr.length=0}function Gte(e,t){if(jte(),ia=e,Tt=ut({},Sk),t){let n;for(n in t)t[n]!=null&&(Tt[n]=t[n])}gr.mode=Tt.parseMode==="html"?1:Tt.parseMode==="sfc"?2:0,gr.inXML=Tt.ns===1||Tt.ns===2;const r=t&&t.delimiters;r&&(gr.delimiterOpen=Xg(r[0]),gr.delimiterClose=Xg(r[1]));const i=Xp=dte([],e);return gr.parse(ia),i.loc=Nr(0,e.length),i.children=Ek(i.children),Xp=null,i}function Vte(e,t){Gy(e,void 0,t,Ak(e,e.children[0]))}function Ak(e,t){const{children:r}=e;return r.length===1&&t.type===1&&!e1(t)}function Gy(e,t,r,i=!1,n=!1){const{children:s}=e,o=[];for(let f=0;f<s.length;f++){const d=s[f];if(d.type===1&&d.tagType===0){const p=i?0:mn(d,r);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&Ik(d,r)>=2){const _=Ok(d);_&&(y.props=r.hoist(_))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(d.type===12&&(i?0:mn(d,r))>=2){o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&r.scopes.vSlot++,Gy(d,e,r,!1,n),p&&r.scopes.vSlot--}else if(d.type===11)Gy(d,e,r,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)Gy(d.branches[p],e,r,d.branches[p].children.length===1,n)}let a=!1;if(o.length===s.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Te(e.codegenNode.children))e.codegenNode.children=l(Rc(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Te(e.codegenNode.children)&&e.codegenNode.children.type===15){const f=c(e.codegenNode,"default");f&&(f.returns=l(Rc(f.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Te(t.codegenNode.children)&&t.codegenNode.children.type===15){const f=Un(e,"slot",!0),d=f&&f.arg&&c(t.codegenNode,f.arg);d&&(d.returns=l(Rc(d.returns)),a=!0)}}if(!a)for(const f of o)f.codegenNode=r.cache(f.codegenNode);function l(f){const d=r.cache(f);return n&&r.hmr&&(d.needArraySpread=!0),d}function c(f,d){if(f.children&&!Te(f.children)&&f.children.type===15){const p=f.children.properties.find(y=>y.key===d||y.key.content===d);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(s,r,e)}function mn(e,t){const{constantCache:r}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const i=r.get(e);if(i!==void 0)return i;const n=e.codegenNode;if(n.type!==13||n.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(n.patchFlag===void 0){let o=3;const a=Ik(e,t);if(a===0)return r.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=mn(e.children[l],t);if(c===0)return r.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const f=mn(c.exp,t);if(f===0)return r.set(e,0),0;f<o&&(o=f)}}if(n.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return r.set(e,0),0;t.removeHelper(nu),t.removeHelper(Xh(t.inSSR,n.isComponent)),n.isBlock=!1,t.helper(Zh(t.inSSR,n.isComponent))}return r.set(e,o),o}else return r.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return mn(e.content,t);case 4:return e.constType;case 8:let s=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Ke(a)||wn(a))continue;const l=mn(a,t);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const Bte=new Set([v3,b3,Yp,Gm]);function Mk(e,t){if(e.type===14&&!Ke(e.callee)&&Bte.has(e.callee)){const r=e.arguments[0];if(r.type===4)return mn(r,t);if(r.type===14)return Mk(r,t)}return 0}function Ik(e,t){let r=3;const i=Ok(e);if(i&&i.type===15){const{properties:n}=i;for(let s=0;s<n.length;s++){const{key:o,value:a}=n[s],l=mn(o,t);if(l===0)return l;l<r&&(r=l);let c;if(a.type===4?c=mn(a,t):a.type===14?c=Mk(a,t):c=0,c===0)return c;c<r&&(r=c)}}return r}function Ok(e){const t=e.codegenNode;if(t.type===13)return t.props}function zte(e,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:i=!1,hmr:n=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=Si,isCustomElement:f=Si,expressionPlugins:d=[],scopeId:p=null,slotted:y=!0,ssr:g=!1,inSSR:_=!1,ssrCssVars:w="",bindingMetadata:x=lt,inline:T=!1,isTS:S=!1,onError:v=E3,onWarn:M=gk,compatConfig:O}){const P=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),R={filename:t,selfName:P&&Il(er(P[1])),prefixIdentifiers:r,hoistStatic:i,hmr:n,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:y,ssr:g,inSSR:_,ssrCssVars:w,bindingMetadata:x,inline:T,isTS:S,onError:v,onWarn:M,compatConfig:O,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(k){const G=R.helpers.get(k)||0;return R.helpers.set(k,G+1),k},removeHelper(k){const G=R.helpers.get(k);if(G){const V=G-1;V?R.helpers.set(k,V):R.helpers.delete(k)}},helperString(k){return`_${Jh[R.helper(k)]}`},replaceNode(k){R.parent.children[R.childIndex]=R.currentNode=k},removeNode(k){const G=R.parent.children,V=k?G.indexOf(k):R.currentNode?R.childIndex:-1;!k||k===R.currentNode?(R.currentNode=null,R.onNodeRemoved()):R.childIndex>V&&(R.childIndex--,R.onNodeRemoved()),R.parent.children.splice(V,1)},onNodeRemoved:Si,addIdentifiers(k){},removeIdentifiers(k){},hoist(k){Ke(k)&&(k=et(k)),R.hoists.push(k);const G=et(`_hoisted_${R.hoists.length}`,!1,k.loc,2);return G.hoisted=k,G},cache(k,G=!1){const V=pte(R.cached.length,k,G);return R.cached.push(V),V}};return R.filters=new Set,R}function qte(e,t){const r=zte(e,t);Pv(e,r),t.hoistStatic&&Vte(e,r),t.ssr||Wte(e,r),e.helpers=new Set([...r.helpers.keys()]),e.components=[...r.components],e.directives=[...r.directives],e.imports=r.imports,e.hoists=r.hoists,e.temps=r.temps,e.cached=r.cached,e.transformed=!0,e.filters=[...r.filters]}function Wte(e,t){const{helper:r}=t,{children:i}=e;if(i.length===1){const n=i[0];if(Ak(e,n)&&n.codegenNode){const s=n.codegenNode;s.type===13&&x3(s,t),e.codegenNode=s}else e.codegenNode=n}else if(i.length>1){let n=64;e.codegenNode=Jp(t,r(Hp),void 0,e.children,n,void 0,void 0,!0,void 0,!1)}}function Hte(e,t){let r=0;const i=()=>{r--};for(;r<e.children.length;r++){const n=e.children[r];Ke(n)||(t.grandParent=t.parent,t.parent=e,t.childIndex=r,t.onNodeRemoved=i,Pv(n,t))}}function Pv(e,t){t.currentNode=e;const{nodeTransforms:r}=t,i=[];for(let s=0;s<r.length;s++){const o=r[s](e,t);if(o&&(Te(o)?i.push(...o):i.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(jm);break;case 5:t.ssr||t.helper(Cv);break;case 9:for(let s=0;s<e.branches.length;s++)Pv(e.branches[s],t);break;case 10:case 11:case 1:case 0:Hte(e,t);break}t.currentNode=e;let n=i.length;for(;n--;)i[n]()}function $k(e,t){const r=Ke(e)?i=>i===e:i=>e.test(i);return(i,n)=>{if(i.type===1){const{props:s}=i;if(i.tagType===3&&s.some(Ate))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&r(l.name)){s.splice(a,1),a--;const c=t(i,l,n);c&&o.push(c)}}return o}}}const Lv="/*@__PURE__*/",Ck=e=>`${Jh[e]}: _${Jh[e]}`;function Yte(e,{mode:t="function",prefixIdentifiers:r=t==="module",sourceMap:i=!1,filename:n="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:f=!1,isTS:d=!1,inSSR:p=!1}){const y={mode:t,prefixIdentifiers:r,sourceMap:i,filename:n,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:f,isTS:d,inSSR:p,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(_){return`_${Jh[_]}`},push(_,w=-2,x){y.code+=_},indent(){g(++y.indentLevel)},deindent(_=!1){_?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(_){y.push(`
`+"  ".repeat(_),0)}return y}function Jte(e,t={}){const r=Yte(e,t);t.onContextCreated&&t.onContextCreated(r);const{mode:i,push:n,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:f}=r,d=Array.from(e.helpers),p=d.length>0,y=!s&&i!=="module";Kte(e,r);const _=f?"ssrRender":"render",x=(f?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(n(`function ${_}(${x}) {`),o(),y&&(n("with (_ctx) {"),o(),p&&(n(`const { ${d.map(Ck).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(Jb(e.components,"component",r),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(Jb(e.directives,"directive",r),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),Jb(e.filters,"filter",r),l()),e.temps>0){n("let ");for(let T=0;T<e.temps;T++)n(`${T>0?", ":""}_temp${T}`)}return(e.components.length||e.directives.length||e.temps)&&(n(`
`,0),l()),f||n("return "),e.codegenNode?xi(e.codegenNode,r):n("null"),y&&(a(),n("}")),a(),n("}"),{ast:e,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function Kte(e,t){const{ssr:r,prefixIdentifiers:i,push:n,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,f=Array.from(e.helpers);if(f.length>0&&(n(`const _Vue = ${c}
`,-1),e.hoists.length)){const d=[c3,u3,jm,h3,dk].filter(p=>f.includes(p)).map(Ck).join(", ");n(`const { ${d} } = _Vue
`,-1)}Zte(e.hoists,t),s(),n("return ")}function Jb(e,t,{helper:r,push:i,newline:n,isTS:s}){const o=r(t==="filter"?m3:t==="component"?f3:p3);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),i(`const ${Zp(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<e.length-1&&n()}}function Zte(e,t){if(!e.length)return;t.pure=!0;const{push:r,newline:i}=t;i();for(let n=0;n<e.length;n++){const s=e[n];s&&(r(`const _hoisted_${n+1} = `),xi(s,t),i())}t.pure=!1}function M3(e,t){const r=e.length>3||!1;t.push("["),r&&t.indent(),Vm(e,t,r),r&&t.deindent(),t.push("]")}function Vm(e,t,r=!1,i=!0){const{push:n,newline:s}=t;for(let o=0;o<e.length;o++){const a=e[o];Ke(a)?n(a,-3):Te(a)?M3(a,t):xi(a,t),o<e.length-1&&(r?(i&&n(","),s()):i&&n(", "))}}function xi(e,t){if(Ke(e)){t.push(e,-3);return}if(wn(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:xi(e.codegenNode,t);break;case 2:Xte(e,t);break;case 4:Nk(e,t);break;case 5:Qte(e,t);break;case 12:xi(e.codegenNode,t);break;case 8:Pk(e,t);break;case 3:tre(e,t);break;case 13:rre(e,t);break;case 14:nre(e,t);break;case 15:sre(e,t);break;case 17:ore(e,t);break;case 18:are(e,t);break;case 19:lre(e,t);break;case 20:cre(e,t);break;case 21:Vm(e.body,t,!0,!1);break}}function Xte(e,t){t.push(JSON.stringify(e.content),-3,e)}function Nk(e,t){const{content:r,isStatic:i}=e;t.push(i?JSON.stringify(r):r,-3,e)}function Qte(e,t){const{push:r,helper:i,pure:n}=t;n&&r(Lv),r(`${i(Cv)}(`),xi(e.content,t),r(")")}function Pk(e,t){for(let r=0;r<e.children.length;r++){const i=e.children[r];Ke(i)?t.push(i,-3):xi(i,t)}}function ere(e,t){const{push:r}=t;if(e.type===8)r("["),Pk(e,t),r("]");else if(e.isStatic){const i=T3(e.content)?e.content:JSON.stringify(e.content);r(i,-2,e)}else r(`[${e.content}]`,-3,e)}function tre(e,t){const{push:r,helper:i,pure:n}=t;n&&r(Lv),r(`${i(jm)}(${JSON.stringify(e.content)})`,-3,e)}function rre(e,t){const{push:r,helper:i,pure:n}=t,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:f,isBlock:d,disableTracking:p,isComponent:y}=e;let g;l&&(g=String(l)),f&&r(i(y3)+"("),d&&r(`(${i(nu)}(${p?"true":""}), `),n&&r(Lv);const _=d?Xh(t.inSSR,y):Zh(t.inSSR,y);r(i(_)+"(",-2,e),Vm(ire([s,o,a,g,c]),t),r(")"),d&&r(")"),f&&(r(", "),xi(f,t),r(")"))}function ire(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(r=>r||"null")}function nre(e,t){const{push:r,helper:i,pure:n}=t,s=Ke(e.callee)?e.callee:i(e.callee);n&&r(Lv),r(s+"(",-2,e),Vm(e.arguments,t),r(")")}function sre(e,t){const{push:r,indent:i,deindent:n,newline:s}=t,{properties:o}=e;if(!o.length){r("{}",-2,e);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&i();for(let l=0;l<o.length;l++){const{key:c,value:f}=o[l];ere(c,t),r(": "),xi(f,t),l<o.length-1&&(r(","),s())}a&&n(),r(a?"}":" }")}function ore(e,t){M3(e.elements,t)}function are(e,t){const{push:r,indent:i,deindent:n}=t,{params:s,returns:o,body:a,newline:l,isSlot:c}=e;c&&r(`_${Jh[w3]}(`),r("(",-2,e),Te(s)?Vm(s,t):s&&xi(s,t),r(") => "),(l||a)&&(r("{"),i()),o?(l&&r("return "),Te(o)?M3(o,t):xi(o,t)):a&&xi(a,t),(l||a)&&(n(),r("}")),c&&(e.isNonScopedSlot&&r(", undefined, true"),r(")"))}function lre(e,t){const{test:r,consequent:i,alternate:n,newline:s}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(r.type===4){const d=!T3(r.content);d&&o("("),Nk(r,t),d&&o(")")}else o("("),xi(r,t),o(")");s&&a(),t.indentLevel++,s||o(" "),o("? "),xi(i,t),t.indentLevel--,s&&c(),s||o(" "),o(": ");const f=n.type===19;f||t.indentLevel++,xi(n,t),f||t.indentLevel--,s&&l(!0)}function cre(e,t){const{push:r,helper:i,indent:n,deindent:s,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&r("[...("),r(`_cache[${e.index}] || (`),a&&(n(),r(`${i(Zg)}(-1),`),o(),r("(")),r(`_cache[${e.index}] = `),xi(e.value,t),a&&(r(`).cacheIndex = ${e.index},`),o(),r(`${i(Zg)}(1),`),o(),r(`_cache[${e.index}]`),s()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const ure=$k(/^(if|else|else-if)$/,(e,t,r)=>hre(e,t,r,(i,n,s)=>{const o=r.parent.children;let a=o.indexOf(i),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)i.codegenNode=XM(n,l,r);else{const c=fre(i.codegenNode);c.alternate=XM(n,l+i.branches.length-1,r)}}}));function hre(e,t,r,i){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;r.onError(nr(28,t.loc)),t.exp=et("true",!1,n)}if(t.name==="if"){const n=ZM(e,t),s={type:9,loc:e.loc,branches:[n]};if(r.replaceNode(s),i)return i(s,n,!0)}else{const n=r.parent.children;let s=n.indexOf(e);for(;s-->=-1;){const o=n[s];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(nr(30,e.loc)),r.removeNode();const a=ZM(e,t);o.branches.push(a);const l=i&&i(o,a,!1);Pv(a,r),l&&l(),r.currentNode=null}else r.onError(nr(30,e.loc));break}}}function ZM(e,t){const r=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:r&&!Un(e,"for")?e.children:[e],userKey:Nv(e,"key"),isTemplateIf:r}}function XM(e,t,r){return e.condition?Hw(e.condition,QM(e,t,r),Vr(r.helper(jm),['""',"true"])):QM(e,t,r)}function QM(e,t,r){const{helper:i}=r,n=Ar("key",et(`${t}`,!1,An,2)),{children:s}=e,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const l=o.codegenNode;return t1(l,n,r),l}else return Jp(r,i(Hp),qn([n]),s,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=Ite(l);return c.type===13&&x3(c,r),t1(c,n,r),l}}function fre(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const dre=(e,t,r)=>{const{modifiers:i,loc:n}=e,s=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return r.onError(nr(52,s.loc)),{props:[Ar(s,et("",!0,n))]};Lk(e),o=e.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=er(s.content):s.content=`${r.helperString(qw)}(${s.content})`:(s.children.unshift(`${r.helperString(qw)}(`),s.children.push(")"))),r.inSSR||(i.some(a=>a.content==="prop")&&eI(s,"."),i.some(a=>a.content==="attr")&&eI(s,"^")),{props:[Ar(s,o)]}},Lk=(e,t)=>{const r=e.arg,i=er(r.content);e.exp=et(i,!1,r.loc)},eI=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},pre=$k("for",(e,t,r)=>{const{helper:i,removeHelper:n}=r;return mre(e,t,r,s=>{const o=Vr(i(g3),[s.source]),a=Qg(e),l=Un(e,"memo"),c=Nv(e,"key",!1,!0);c&&c.type===7&&!c.exp&&Lk(c);const f=c&&(c.type===6?c.value?et(c.value.content,!0):void 0:c.exp),d=c&&f?Ar("key",f):null,p=s.source.type===4&&s.source.constType>0,y=p?64:c?128:256;return s.codegenNode=Jp(r,i(Hp),void 0,o,y,void 0,void 0,!0,!p,!1,e.loc),()=>{let g;const{children:_}=s,w=_.length!==1||_[0].type!==1,x=e1(e)?e:a&&e.children.length===1&&e1(e.children[0])?e.children[0]:null;if(x?(g=x.codegenNode,a&&d&&t1(g,d,r)):w?g=Jp(r,i(Hp),d?qn([d]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=_[0].codegenNode,a&&d&&t1(g,d,r),g.isBlock!==!p&&(g.isBlock?(n(nu),n(Xh(r.inSSR,g.isComponent))):n(Zh(r.inSSR,g.isComponent))),g.isBlock=!p,g.isBlock?(i(nu),i(Xh(r.inSSR,g.isComponent))):i(Zh(r.inSSR,g.isComponent))),l){const T=Kh(Kw(s.parseResult,[et("_cached")]));T.body=mte([ws(["const _memo = (",l.exp,")"]),ws(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${r.helperString(yk)}(_cached, _memo)) return _cached`]),ws(["const _item = ",g]),et("_item.memo = _memo"),et("return _item")]),o.arguments.push(T,et("_cache"),et(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Kh(Kw(s.parseResult),g,!0))}})});function mre(e,t,r,i){if(!t.exp){r.onError(nr(31,t.loc));return}const n=t.forParseResult;if(!n){r.onError(nr(32,t.loc));return}kk(n);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=r,{source:l,value:c,key:f,index:d}=n,p={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:f,objectIndexAlias:d,parseResult:n,children:Qg(e)?e.children:[e]};r.replaceNode(p),a.vFor++;const y=i&&i(p);return()=>{a.vFor--,y&&y()}}function kk(e,t){e.finalized||(e.finalized=!0)}function Kw({value:e,key:t,index:r},i=[]){return yre([e,t,r,...i])}function yre(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((r,i)=>r||et("_".repeat(i+1),!1))}const tI=et("undefined",!1),gre=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const r=Un(e,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},vre=(e,t,r,i)=>Kh(e,r,!1,!0,r.length?r[0].loc:i);function bre(e,t,r=vre){t.helper(w3);const{children:i,loc:n}=e,s=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Un(e,"slot",!0);if(l){const{arg:w,exp:x}=l;w&&!tn(w)&&(a=!0),s.push(Ar(w||et("default",!0),r(x,void 0,i,n)))}let c=!1,f=!1;const d=[],p=new Set;let y=0;for(let w=0;w<i.length;w++){const x=i[w];let T;if(!Qg(x)||!(T=Un(x,"slot",!0))){x.type!==3&&d.push(x);continue}if(l){t.onError(nr(37,T.loc));break}c=!0;const{children:S,loc:v}=x,{arg:M=et("default",!0),exp:O,loc:P}=T;let R;tn(M)?R=M?M.content:"default":a=!0;const k=Un(x,"for"),G=r(O,k,S,v);let V,U;if(V=Un(x,"if"))a=!0,o.push(Hw(V.exp,C0(M,G,y++),tI));else if(U=Un(x,/^else(-if)?$/,!0)){let Y=w,se;for(;Y--&&(se=i[Y],se.type===3););if(se&&Qg(se)&&Un(se,/^(else-)?if$/)){let h=o[o.length-1];for(;h.alternate.type===19;)h=h.alternate;h.alternate=U.exp?Hw(U.exp,C0(M,G,y++),tI):C0(M,G,y++)}else t.onError(nr(30,U.loc))}else if(k){a=!0;const Y=k.forParseResult;Y?(kk(Y),o.push(Vr(t.helper(g3),[Y.source,Kh(Kw(Y),C0(M,G),!0)]))):t.onError(nr(32,k.loc))}else{if(R){if(p.has(R)){t.onError(nr(38,P));continue}p.add(R),R==="default"&&(f=!0)}s.push(Ar(M,G))}}if(!l){const w=(x,T)=>{const S=r(x,void 0,T,n);return t.compatConfig&&(S.isNonScopedSlot=!0),Ar("default",S)};c?d.length&&d.some(x=>Rk(x))&&(f?t.onError(nr(39,d[0].loc)):s.push(w(void 0,d))):s.push(w(void 0,i))}const g=a?2:Vy(e.children)?3:1;let _=qn(s.concat(Ar("_",et(g+"",!1))),n);return o.length&&(_=Vr(t.helper(mk),[_,Rc(o)])),{slots:_,hasDynamicSlots:a}}function C0(e,t,r){const i=[Ar("name",e),Ar("fn",t)];return r!=null&&i.push(Ar("key",et(String(r),!0))),qn(i)}function Vy(e){for(let t=0;t<e.length;t++){const r=e[t];switch(r.type){case 1:if(r.tagType===2||Vy(r.children))return!0;break;case 9:if(Vy(r.branches))return!0;break;case 10:case 11:if(Vy(r.children))return!0;break}}return!1}function Rk(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():Rk(e.content)}const Dk=new WeakMap,_re=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:i,props:n}=e,s=e.tagType===1;let o=s?wre(e,t):`"${i}"`;const a=Pt(o)&&o.callee===d3;let l,c,f=0,d,p,y,g=a||o===Qd||o===l3||!s&&(i==="svg"||i==="foreignObject"||i==="math");if(n.length>0){const _=Fk(e,t,void 0,s,a);l=_.props,f=_.patchFlag,p=_.dynamicPropNames;const w=_.directives;y=w&&w.length?Rc(w.map(x=>xre(x,t))):void 0,_.shouldUseBlock&&(g=!0)}if(e.children.length>0)if(o===Jg&&(g=!0,f|=1024),s&&o!==Qd&&o!==Jg){const{slots:w,hasDynamicSlots:x}=bre(e,t);c=w,x&&(f|=1024)}else if(e.children.length===1&&o!==Qd){const w=e.children[0],x=w.type,T=x===5||x===8;T&&mn(w,t)===0&&(f|=1),T||x===2?c=w:c=e.children}else c=e.children;p&&p.length&&(d=Ere(p)),e.codegenNode=Jp(t,o,l,c,f===0?void 0:f,d,y,!!g,!1,s,e.loc)};function wre(e,t,r=!1){let{tag:i}=e;const n=Zw(i),s=Nv(e,"is",!1,!0);if(s)if(n||Dc("COMPILER_IS_ON_ELEMENT",t)){let a;if(s.type===6?a=s.value&&et(s.value.content,!0):(a=s.exp,a||(a=et("is",!1,s.arg.loc))),a)return Vr(t.helper(d3),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(i=s.value.content.slice(4));const o=vk(i)||t.isBuiltInComponent(i);return o?(r||t.helper(o),o):(t.helper(f3),t.components.add(i),Zp(i,"component"))}function Fk(e,t,r=e.props,i,n,s=!1){const{tag:o,loc:a,children:l}=e;let c=[];const f=[],d=[],p=l.length>0;let y=!1,g=0,_=!1,w=!1,x=!1,T=!1,S=!1,v=!1;const M=[],O=G=>{c.length&&(f.push(qn(rI(c),a)),c=[]),G&&f.push(G)},P=()=>{t.scopes.vFor>0&&c.push(Ar(et("ref_for",!0),et("true")))},R=({key:G,value:V})=>{if(tn(G)){const U=G.content,Y=vu(U);if(Y&&(!i||n)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!fl(U)&&(T=!0),Y&&fl(U)&&(v=!0),Y&&V.type===14&&(V=V.arguments[0]),V.type===20||(V.type===4||V.type===8)&&mn(V,t)>0)return;U==="ref"?_=!0:U==="class"?w=!0:U==="style"?x=!0:U!=="key"&&!M.includes(U)&&M.push(U),i&&(U==="class"||U==="style")&&!M.includes(U)&&M.push(U)}else S=!0};for(let G=0;G<r.length;G++){const V=r[G];if(V.type===6){const{loc:U,name:Y,nameLoc:se,value:h}=V;let m=!0;if(Y==="ref"&&(_=!0,P()),Y==="is"&&(Zw(o)||h&&h.content.startsWith("vue:")||Dc("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Ar(et(Y,!0,se),et(h?h.content:"",m,h?h.loc:U)))}else{const{name:U,arg:Y,exp:se,loc:h,modifiers:m}=V,E=U==="bind",N=U==="on";if(U==="slot"){i||t.onError(nr(40,h));continue}if(U==="once"||U==="memo"||U==="is"||E&&Ec(Y,"is")&&(Zw(o)||Dc("COMPILER_IS_ON_ELEMENT",t))||N&&s)continue;if((E&&Ec(Y,"key")||N&&p&&Ec(Y,"vue:before-update"))&&(y=!0),E&&Ec(Y,"ref")&&P(),!Y&&(E||N)){if(S=!0,se)if(E){if(P(),O(),Dc("COMPILER_V_BIND_OBJECT_ORDER",t)){f.unshift(se);continue}f.push(se)}else O({type:14,loc:h,callee:t.helper(_3),arguments:i?[se]:[se,"true"]});else t.onError(nr(E?34:35,h));continue}E&&m.some(K=>K.content==="prop")&&(g|=32);const q=t.directiveTransforms[U];if(q){const{props:K,needRuntime:fe}=q(V,e,t);!s&&K.forEach(R),N&&Y&&!tn(Y)?O(qn(K,a)):c.push(...K),fe&&(d.push(V),wn(fe)&&Dk.set(V,fe))}else PX(U)||(d.push(V),p&&(y=!0))}}let k;if(f.length?(O(),f.length>1?k=Vr(t.helper(Kg),f,a):k=f[0]):c.length&&(k=qn(rI(c),a)),S?g|=16:(w&&!i&&(g|=2),x&&!i&&(g|=4),M.length&&(g|=8),T&&(g|=32)),!y&&(g===0||g===32)&&(_||v||d.length>0)&&(g|=512),!t.inSSR&&k)switch(k.type){case 15:let G=-1,V=-1,U=!1;for(let h=0;h<k.properties.length;h++){const m=k.properties[h].key;tn(m)?m.content==="class"?G=h:m.content==="style"&&(V=h):m.isHandlerKey||(U=!0)}const Y=k.properties[G],se=k.properties[V];U?k=Vr(t.helper(Yp),[k]):(Y&&!tn(Y.value)&&(Y.value=Vr(t.helper(v3),[Y.value])),se&&(x||se.value.type===4&&se.value.content.trim()[0]==="["||se.value.type===17)&&(se.value=Vr(t.helper(b3),[se.value])));break;case 14:break;default:k=Vr(t.helper(Yp),[Vr(t.helper(Gm),[k])]);break}return{props:k,directives:d,patchFlag:g,dynamicPropNames:M,shouldUseBlock:y}}function rI(e){const t=new Map,r=[];for(let i=0;i<e.length;i++){const n=e[i];if(n.key.type===8||!n.key.isStatic){r.push(n);continue}const s=n.key.content,o=t.get(s);o?(s==="style"||s==="class"||vu(s))&&Sre(o,n):(t.set(s,n),r.push(n))}return r}function Sre(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Rc([e.value,t.value],e.loc)}function xre(e,t){const r=[],i=Dk.get(e);i?r.push(t.helperString(i)):(t.helper(p3),t.directives.add(e.name),r.push(Zp(e.name,"directive")));const{loc:n}=e;if(e.exp&&r.push(e.exp),e.arg&&(e.exp||r.push("void 0"),r.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||r.push("void 0"),r.push("void 0"));const s=et("true",!1,n);r.push(qn(e.modifiers.map(o=>Ar(o,s)),n))}return Rc(r,e.loc)}function Ere(e){let t="[";for(let r=0,i=e.length;r<i;r++)t+=JSON.stringify(e[r]),r<i-1&&(t+=", ");return t+"]"}function Zw(e){return e==="component"||e==="Component"}const Tre=(e,t)=>{if(e1(e)){const{children:r,loc:i}=e,{slotName:n,slotProps:s}=Are(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",n,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),r.length&&(o[3]=Kh([],r,!1,!1,i),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=Vr(t.helper(pk),o,i)}};function Are(e,t){let r='"default"',i;const n=[];for(let s=0;s<e.props.length;s++){const o=e.props[s];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=er(o.name),n.push(o)));else if(o.name==="bind"&&Ec(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=er(o.arg.content);r=o.exp=et(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&tn(o.arg)&&(o.arg.content=er(o.arg.content)),n.push(o)}if(n.length>0){const{props:s,directives:o}=Fk(e,t,n,!1,!1);i=s,o.length&&t.onError(nr(36,o[0].loc))}return{slotName:r,slotProps:i}}const Uk=(e,t,r,i)=>{const{loc:n,modifiers:s,arg:o}=e;!e.exp&&!s.length&&r.onError(nr(35,n));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const p=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?Pc(er(d)):`on:${d}`;a=et(p,!0,o.loc)}else a=ws([`${r.helperString(Ww)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(Ww)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const d=_k(l),p=!(d||Ete(l)),y=l.content.includes(";");(p||c&&d)&&(l=ws([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let f={props:[Ar(a,l||et("() => {}",!1,n))]};return i&&(f=i(f)),c&&(f.props[0].value=r.cache(f.props[0].value)),f.props.forEach(d=>d.key.isHandlerKey=!0),f},Mre=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const r=e.children;let i,n=!1;for(let s=0;s<r.length;s++){const o=r[s];if(Yb(o)){n=!0;for(let a=s+1;a<r.length;a++){const l=r[a];if(Yb(l))i||(i=r[s]=ws([o],o.loc)),i.children.push(" + ",l),r.splice(a,1),a--;else{i=void 0;break}}}}if(!(!n||r.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(s=>s.type===7&&!t.directiveTransforms[s.name])&&e.tag!=="template")))for(let s=0;s<r.length;s++){const o=r[s];if(Yb(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&mn(o,t)===0&&a.push("1"),r[s]={type:12,content:o,loc:o.loc,codegenNode:Vr(t.helper(h3),a)}}}}},iI=new WeakSet,Ire=(e,t)=>{if(e.type===1&&Un(e,"once",!0))return iI.has(e)||t.inVOnce||t.inSSR?void 0:(iI.add(e),t.inVOnce=!0,t.helper(Zg),()=>{t.inVOnce=!1;const r=t.currentNode;r.codegenNode&&(r.codegenNode=t.cache(r.codegenNode,!0))})},jk=(e,t,r)=>{const{exp:i,arg:n}=e;if(!i)return r.onError(nr(41,e.loc)),N0();const s=i.loc.source.trim(),o=i.type===4?i.content:s,a=r.bindingMetadata[s];if(a==="props"||a==="props-aliased")return r.onError(nr(44,i.loc)),N0();if(!o.trim()||!_k(i)&&!!1)return r.onError(nr(42,i.loc)),N0();const c=n||et("modelValue",!0),f=n?tn(n)?`onUpdate:${er(n.content)}`:ws(['"onUpdate:" + ',n]):"onUpdate:modelValue";let d;const p=r.isTS?"($event: any)":"$event";d=ws([`${p} => ((`,i,") = $event)"]);const y=[Ar(c,e.exp),Ar(f,d)];if(e.modifiers.length&&t.tagType===1){const g=e.modifiers.map(w=>w.content).map(w=>(T3(w)?w:JSON.stringify(w))+": true").join(", "),_=n?tn(n)?`${n.content}Modifiers`:ws([n,' + "Modifiers"']):"modelModifiers";y.push(Ar(_,et(`{ ${g} }`,!1,e.loc,2)))}return N0(y)};function N0(e=[]){return{props:e}}const Ore=/[\w).+\-_$\]]/,$re=(e,t)=>{Dc("COMPILER_FILTERS",t)&&(e.type===5?r1(e.content,t):e.type===1&&e.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&r1(r.exp,t)}))};function r1(e,t){if(e.type===4)nI(e,t);else for(let r=0;r<e.children.length;r++){const i=e.children[r];typeof i=="object"&&(i.type===4?nI(i,t):i.type===8?r1(e,t):i.type===5&&r1(i.content,t))}}function nI(e,t){const r=e.content;let i=!1,n=!1,s=!1,o=!1,a=0,l=0,c=0,f=0,d,p,y,g,_=[];for(y=0;y<r.length;y++)if(p=d,d=r.charCodeAt(y),i)d===39&&p!==92&&(i=!1);else if(n)d===34&&p!==92&&(n=!1);else if(s)d===96&&p!==92&&(s=!1);else if(o)d===47&&p!==92&&(o=!1);else if(d===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(f=y+1,g=r.slice(0,y).trim()):w();else{switch(d){case 34:n=!0;break;case 39:i=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let x=y-1,T;for(;x>=0&&(T=r.charAt(x),T===" ");x--);(!T||!Ore.test(T))&&(o=!0)}}g===void 0?g=r.slice(0,y).trim():f!==0&&w();function w(){_.push(r.slice(f,y).trim()),f=y+1}if(_.length){for(y=0;y<_.length;y++)g=Cre(g,_[y],t);e.content=g,e.ast=void 0}}function Cre(e,t,r){r.helper(m3);const i=t.indexOf("(");if(i<0)return r.filters.add(t),`${Zp(t,"filter")}(${e})`;{const n=t.slice(0,i),s=t.slice(i+1);return r.filters.add(n),`${Zp(n,"filter")}(${e}${s!==")"?","+s:s}`}}const sI=new WeakSet,Nre=(e,t)=>{if(e.type===1){const r=Un(e,"memo");return!r||sI.has(e)?void 0:(sI.add(e),()=>{const i=e.codegenNode||t.currentNode.codegenNode;i&&i.type===13&&(e.tagType!==1&&x3(i,t),e.codegenNode=Vr(t.helper(S3),[r.exp,Kh(void 0,i),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function Pre(e){return[[Ire,ure,Nre,pre,$re,Tre,_re,gre,Mre],{on:Uk,bind:dre,model:jk}]}function Lre(e,t={}){const r=t.onError||E3,i=t.mode==="module";t.prefixIdentifiers===!0?r(nr(47)):i&&r(nr(48));const n=!1;t.cacheHandlers&&r(nr(49)),t.scopeId&&!i&&r(nr(50));const s=ut({},t,{prefixIdentifiers:n}),o=Ke(e)?Gte(e,s):e,[a,l]=Pre();return qte(o,ut({},s,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:ut({},l,t.directiveTransforms||{})})),Jte(o,s)}const kre=()=>({props:[]});/**
* @vue/compiler-dom v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gk=Symbol(""),Vk=Symbol(""),Bk=Symbol(""),zk=Symbol(""),Xw=Symbol(""),qk=Symbol(""),Wk=Symbol(""),Hk=Symbol(""),Yk=Symbol(""),Jk=Symbol("");fte({[Gk]:"vModelRadio",[Vk]:"vModelCheckbox",[Bk]:"vModelText",[zk]:"vModelSelect",[Xw]:"vModelDynamic",[qk]:"withModifiers",[Wk]:"withKeys",[Hk]:"vShow",[Yk]:"Transition",[Jk]:"TransitionGroup"});let Ru;function Rre(e,t=!1){return Ru||(Ru=document.createElement("div")),t?(Ru.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Ru.children[0].getAttribute("foo")):(Ru.innerHTML=e,Ru.textContent)}const Dre={parseMode:"html",isVoidTag:JX,isNativeTag:e=>WX(e)||HX(e)||YX(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:Rre,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return Yk;if(e==="TransitionGroup"||e==="transition-group")return Jk},getNamespace(e,t,r){let i=t?t.ns:r;if(t&&i===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(n=>n.type===6&&n.name==="encoding"&&n.value!=null&&(n.value.content==="text/html"||n.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(e==="svg")return 1;if(e==="math")return 2}return i}},Fre=e=>{e.type===1&&e.props.forEach((t,r)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[r]={type:7,name:"bind",arg:et("style",!0,t.loc),exp:Ure(t.value.content,t.loc),modifiers:[],loc:t.loc})})},Ure=(e,t)=>{const r=kP(e);return et(JSON.stringify(r),!1,t,3)};function ml(e,t){return nr(e,t)}const jre=(e,t,r)=>{const{exp:i,loc:n}=e;return i||r.onError(ml(53,n)),t.children.length&&(r.onError(ml(54,n)),t.children.length=0),{props:[Ar(et("innerHTML",!0,n),i||et("",!0))]}},Gre=(e,t,r)=>{const{exp:i,loc:n}=e;return i||r.onError(ml(55,n)),t.children.length&&(r.onError(ml(56,n)),t.children.length=0),{props:[Ar(et("textContent",!0),i?mn(i,r)>0?i:Vr(r.helperString(Cv),[i],n):et("",!0))]}},Vre=(e,t,r)=>{const i=jk(e,t,r);if(!i.props.length||t.tagType===1)return i;e.arg&&r.onError(ml(58,e.arg.loc));const{tag:n}=t,s=r.isCustomElement(n);if(n==="input"||n==="textarea"||n==="select"||s){let o=Bk,a=!1;if(n==="input"||s){const l=Nv(t,"type");if(l){if(l.type===7)o=Xw;else if(l.value)switch(l.value.content){case"radio":o=Gk;break;case"checkbox":o=Vk;break;case"file":a=!0,r.onError(ml(59,e.loc));break}}else Tte(t)&&(o=Xw)}else n==="select"&&(o=zk);a||(i.needRuntime=r.helper(o))}else r.onError(ml(57,e.loc));return i.props=i.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),i},Bre=Tn("passive,once,capture"),zre=Tn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),qre=Tn("left,right"),Kk=Tn("onkeyup,onkeydown,onkeypress"),Wre=(e,t,r,i)=>{const n=[],s=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&Kp("COMPILER_V_ON_NATIVE",r)||Bre(l)?o.push(l):qre(l)?tn(e)?Kk(e.content.toLowerCase())?n.push(l):s.push(l):(n.push(l),s.push(l)):zre(l)?s.push(l):n.push(l)}return{keyModifiers:n,nonKeyModifiers:s,eventOptionModifiers:o}},oI=(e,t)=>tn(e)&&e.content.toLowerCase()==="onclick"?et(t,!0):e.type!==4?ws(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Hre=(e,t,r)=>Uk(e,t,r,i=>{const{modifiers:n}=e;if(!n.length)return i;let{key:s,value:o}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=Wre(s,n,r,e.loc);if(l.includes("right")&&(s=oI(s,"onContextmenu")),l.includes("middle")&&(s=oI(s,"onMouseup")),l.length&&(o=Vr(r.helper(qk),[o,JSON.stringify(l)])),a.length&&(!tn(s)||Kk(s.content.toLowerCase()))&&(o=Vr(r.helper(Wk),[o,JSON.stringify(a)])),c.length){const f=c.map(Il).join("");s=tn(s)?et(`${s.content}${f}`,!0):ws(["(",s,`) + "${f}"`])}return{props:[Ar(s,o)]}}),Yre=(e,t,r)=>{const{exp:i,loc:n}=e;return i||r.onError(ml(61,n)),{props:[],needRuntime:r.helper(Hk)}},Jre=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},Kre=[Fre],Zre={cloak:kre,html:jre,text:Gre,model:Vre,on:Hre,show:Yre};function Xre(e,t={}){return Lre(e,ut({},Dre,t,{nodeTransforms:[Jre,...Kre,...t.nodeTransforms||[]],directiveTransforms:ut({},Zre,t.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.9
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const aI=Object.create(null);function Zk(e,t){if(!Ke(e))if(e.nodeType)e=e.innerHTML;else return Si;const r=RX(e,t),i=aI[r];if(i)return i;if(e[0]==="#"){const a=document.querySelector(e);e=a?a.innerHTML:""}const n=ut({hoistStatic:!0,onError:void 0,onWarn:Si},t);!n.isCustomElement&&typeof customElements<"u"&&(n.isCustomElement=a=>!!customElements.get(a));const{code:s}=Xre(e,n),o=new Function("Vue",s)(ote);return o._rc=!0,aI[r]=o}QE(Zk);const nve=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:TE,BaseTransitionPropsValidators:Sv,Comment:xr,DeprecationTypes:j8,EffectScope:hv,ErrorCodes:pL,ErrorTypeStrings:L8,Fragment:Lt,KeepAlive:PL,ReactiveEffect:Wh,Static:pl,Suspense:g8,Teleport:EE,Text:uo,TrackOpTypes:cL,Transition:Av,TransitionGroup:Iv,TriggerOpTypes:uL,VueElement:Fm,assertNumber:dL,callWithAsyncErrorHandling:Sn,callWithErrorHandling:_u,camelize:er,capitalize:Il,cloneVNode:Is,compatUtils:U8,compile:Zk,computed:it,createApp:Sl,createBlock:Wt,createCommentVNode:Kt,createElementBlock:xe,createElementVNode:ue,createHydrationRenderer:zE,createPropsRestProxy:KL,createRenderer:BE,createSSRApp:a3,createSlots:RL,createStaticVNode:E8,createTextVNode:ho,createVNode:Xe,customRef:bE,defineAsyncComponent:ME,defineComponent:at,defineCustomElement:r3,defineEmits:UL,defineExpose:jL,defineModel:BL,defineOptions:GL,defineProps:FL,defineSSRCustomElement:K8,defineSlots:VL,devtools:k8,effect:qP,effectScope:$m,getCurrentInstance:kr,getCurrentScope:fv,getCurrentWatcher:hL,getTransitionRawChildren:Nm,guardReactiveProps:ZE,h:zn,handleError:Nl,hasInjectionContext:GE,hydrate:ok,hydrateOnIdle:OL,hydrateOnInteraction:NL,hydrateOnMediaQuery:CL,hydrateOnVisible:$L,initCustomFormatter:C8,initDirectivesForSSR:ck,inject:Hr,isMemoSame:e3,isProxy:Cm,isReactive:gn,isReadonly:la,isRef:gt,isRuntimeOnly:I8,isShallow:rn,isVNode:Ms,markRaw:Mr,mergeDefaults:YL,mergeModels:JL,mergeProps:Tv,nextTick:Cs,normalizeClass:vr,normalizeProps:RP,normalizeStyle:Ol,onActivated:IE,onBeforeMount:Lm,onBeforeUnmount:Ns,onBeforeUpdate:$E,onDeactivated:OE,onErrorCaptured:LE,onMounted:ai,onRenderTracked:PE,onRenderTriggered:NE,onScopeDispose:fE,onServerPrefetch:CE,onUnmounted:wu,onUpdated:kf,onWatcherCleanup:wE,openBlock:pe,popScopeId:_L,provide:jE,proxyRefs:bv,pushScopeId:bL,queuePostFlushCb:Gp,reactive:Jr,readonly:gv,ref:ne,registerRuntimeCompiler:QE,render:Nh,renderList:Pl,renderSlot:ds,resolveComponent:wr,resolveDirective:Nt,resolveDynamicComponent:RE,resolveFilter:F8,resolveTransitionHooks:tu,setBlockTracking:Bg,setDevtoolsHook:R8,setTransitionHooks:wo,shallowReactive:gE,shallowReadonly:iL,shallowRef:Lf,ssrContextKey:WE,ssrUtils:D8,stop:WP,toDisplayString:zt,toHandlerKey:Pc,toHandlers:DL,toRaw:qe,toRef:aL,toRefs:_E,toValue:oL,transformVNodeArgs:S8,triggerRef:sL,unref:Ne,useAttrs:WL,useCssModule:X8,useCssVars:J8,useHost:i3,useId:IL,useModel:p8,useSSRContext:HE,useShadowRoot:Z8,useSlots:qL,useTemplateRef:Fg,useTransitionState:wv,vModelCheckbox:Ov,vModelDynamic:s3,vModelRadio:$v,vModelSelect:n3,vModelText:Wp,vShow:Mv,version:t3,warn:P8,watch:ti,watchEffect:f8,watchPostEffect:YE,watchSyncEffect:JE,withAsyncContext:ZL,withCtx:Or,withDefaults:zL,withDirectives:Ct,withKeys:o3,withMemo:N8,withModifiers:Um,withScopeId:wL},Symbol.toStringTag,{value:"Module"}));var Qre=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Xk;const kv=e=>Xk=e,Qk=Symbol();function Qw(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var ep;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(ep||(ep={}));function eie(){const e=$m(!0),t=e.run(()=>ne({}));let r=[],i=[];const n=Mr({install(s){kv(n),n._a=s,s.provide(Qk,n),s.config.globalProperties.$pinia=n,i.forEach(o=>r.push(o)),i=[]},use(s){return!this._a&&!Qre?i.push(s):r.push(s),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return n}const eR=()=>{};function lI(e,t,r,i=eR){e.push(t);const n=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!r&&fv()&&fE(n),n}function Du(e,...t){e.slice().forEach(r=>{r(...t)})}const tie=e=>e();function eS(e,t){e instanceof Map&&t instanceof Map&&t.forEach((r,i)=>e.set(i,r)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],n=e[r];Qw(n)&&Qw(i)&&e.hasOwnProperty(r)&&!gt(i)&&!gn(i)?e[r]=eS(n,i):e[r]=i}return e}const rie=Symbol();function iie(e){return!Qw(e)||!e.hasOwnProperty(rie)}const{assign:Ga}=Object;function nie(e){return!!(gt(e)&&e.effect)}function sie(e,t,r,i){const{state:n,actions:s,getters:o}=t,a=r.state.value[e];let l;function c(){a||(r.state.value[e]=n?n():{});const f=_E(r.state.value[e]);return Ga(f,s,Object.keys(o||{}).reduce((d,p)=>(d[p]=Mr(it(()=>{kv(r);const y=r._s.get(e);return o[p].call(y,y)})),d),{}))}return l=tR(e,c,t,r,i,!0),l}function tR(e,t,r={},i,n,s){let o;const a=Ga({actions:{}},r),l={deep:!0};let c,f,d=[],p=[],y;const g=i.state.value[e];!s&&!g&&(i.state.value[e]={}),ne({});let _;function w(R){let k;c=f=!1,typeof R=="function"?(R(i.state.value[e]),k={type:ep.patchFunction,storeId:e,events:y}):(eS(i.state.value[e],R),k={type:ep.patchObject,payload:R,storeId:e,events:y});const G=_=Symbol();Cs().then(()=>{_===G&&(c=!0)}),f=!0,Du(d,k,i.state.value[e])}const x=s?function(){const{state:k}=r,G=k?k():{};this.$patch(V=>{Ga(V,G)})}:eR;function T(){o.stop(),d=[],p=[],i._s.delete(e)}function S(R,k){return function(){kv(i);const G=Array.from(arguments),V=[],U=[];function Y(m){V.push(m)}function se(m){U.push(m)}Du(p,{args:G,name:R,store:M,after:Y,onError:se});let h;try{h=k.apply(this&&this.$id===e?this:M,G)}catch(m){throw Du(U,m),m}return h instanceof Promise?h.then(m=>(Du(V,m),m)).catch(m=>(Du(U,m),Promise.reject(m))):(Du(V,h),h)}}const v={_p:i,$id:e,$onAction:lI.bind(null,p),$patch:w,$reset:x,$subscribe(R,k={}){const G=lI(d,R,k.detached,()=>V()),V=o.run(()=>ti(()=>i.state.value[e],U=>{(k.flush==="sync"?f:c)&&R({storeId:e,type:ep.direct,events:y},U)},Ga({},l,k)));return G},$dispose:T},M=Jr(v);i._s.set(e,M);const P=(i._a&&i._a.runWithContext||tie)(()=>i._e.run(()=>(o=$m()).run(t)));for(const R in P){const k=P[R];if(gt(k)&&!nie(k)||gn(k))s||(g&&iie(k)&&(gt(k)?k.value=g[R]:eS(k,g[R])),i.state.value[e][R]=k);else if(typeof k=="function"){const G=S(R,k);P[R]=G,a.actions[R]=k}}return Ga(M,P),Ga(qe(M),P),Object.defineProperty(M,"$state",{get:()=>i.state.value[e],set:R=>{w(k=>{Ga(k,R)})}}),i._p.forEach(R=>{Ga(M,o.run(()=>R({store:M,app:i._a,pinia:i,options:a})))}),g&&s&&r.hydrate&&r.hydrate(M.$state,g),c=!0,f=!0,M}function hr(e,t,r){let i,n;const s=typeof t=="function";typeof e=="string"?(i=e,n=s?r:t):(n=e,i=e.id);function o(a,l){const c=GE();return a=a||(c?Hr(Qk,null):null),a&&kv(a),a=Xk,a._s.has(i)||(s?tR(i,t,n,a):sie(i,n,a)),a._s.get(i)}return o.$id=i,o}const i1=hr("appbar",()=>{const e=ne({}),t=ne([]),r=ne([]),i=it(()=>t.value.map(o=>o.map(a=>e.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function n(o){r.value.includes(o)||r.value.push(o)}function s(o){const a=r.value.indexOf(o);a!==-1&&r.value.splice(a,1),o in e.value&&delete e.value[o],t.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:e,order:t,temporary:r,visible:i,addTempButton:n,removeButton:s}}),tS=hr("grid",()=>{const e=ne({}),t=ne(),r=ne();function i(a){e.value={...e.value,[a.id]:a}}function n(a){e.value[a]!==void 0&&delete e.value[a]}function s(a){return Object.keys(e.value).find(l=>e.value[l].layerIds.includes(a))}function o(a,l){e.value[a].layerIds=e.value[a].layerIds.filter(c=>c!==l)}return{grids:e,panel:t,currentId:r,addGrid:i,removeGrid:n,getGridId:s,removeLayer:o}});function Ac(e,t,r,i){var n,s=!1,o=0;function a(){n&&clearTimeout(n)}function l(){a(),s=!0}typeof t!="boolean"&&(i=r,r=t,t=void 0);function c(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];var y=this,g=Date.now()-o;if(s)return;function _(){o=Date.now(),r.apply(y,d)}function w(){n=void 0}i&&!n&&_(),a(),i===void 0&&g>e?_():t!==!0&&(n=setTimeout(i?w:_,i===void 0?e-g:e))}return c.cancel=l,c}function n1(e,t,r){return r===void 0?Ac(e,t,!1):Ac(e,r,t!==!1)}const al=hr("map-caption",()=>{const e=ne({text:{},logo:{}}),t=ne({}),r=ne({}),i=ne({});function n(o){o!==void 0?t.value.isImperialScale=o:t.value.isImperialScale=!t.value.isImperialScale}function s(o){e.value.text.value=o.text.value,e.value.text.disabled=o.text.disabled,e.value.logo.altText=o.logo.altText,e.value.logo.link=o.logo.link,e.value.logo.value=o.logo.value,e.value.logo.disabled=o.logo.disabled}return{attribution:e,scale:t,coords:r,langtoggle:i,toggleScale:n,setAttribution:s}}),Kb=(e,t)=>{const r=[...e];for(;r.length>0;){const i=r.shift();if(t(i))return i;i&&r.push(...i.sublayers)}},ro=hr("layer",()=>{const e=ne([]),t=ne([]),r=ne([]);function i(d){return Kb(e.value,p=>p?.uid===d)}function n(d){return Kb(e.value,p=>p?.id===d)}function s(d){return Kb(e.value,p=>p!==void 0&&(p.id===d||p.uid===d))}function o(d){t.value=[...t.value,d]}function a(d,p=void 0){e.value=[...e.value,d],d.mapLayer&&((p===void 0||p<0)&&(console.error("Map layer added to store with invalid index!"),p=r.value.length),r.value.splice(p,0,d.id),r.value=[...r.value])}function l(d,p){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(p<0){console.error("Negative index passed to layer store reorder");return}p>=r.value.length&&(p=r.value.length-1);const y=r.value.findIndex(g=>g===d.id);y!==-1&&y!==p&&(r.value.splice(y,1),r.value.splice(p,0,d.id),r.value=[...r.value])}function c(d){const p=e.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(e.value=p,d.mapLayer){const y=r.value.filter(g=>g!==d.id);r.value=y}}function f(d){const p=t.value.filter(y=>y.id!==d);t.value=p}return{layers:e,mapOrder:r,layerConfigs:t,getLayerByUid:i,getLayerById:n,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:f}}),Qi=hr("config",()=>{const e=ne({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),t=ne([]),r=ne(),i=ne({}),n=ne({});function s(l){if(i.value[n.value[l]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return i.value[n.value[l]]}function o(l){const c={...e.value,...l};if(e.value=c,Array.isArray(e.value.layers)){const f=ro();f.layerConfigs=[...f.layerConfigs,e.value.layers]}}function a(l){const c=l.configLangs,f=l.config,d=l.allLangs;c!==void 0&&c.length>0&&c.forEach(p=>{i.value[p]=f,n.value[p]=p}),d!==void 0&&d.length>0&&d.forEach(p=>{n.value[p]=Object.keys(i.value)[0]})}return{config:e,startingFixtures:t,activeBasemapConfig:r,registeredConfigs:i,registeredLangs:n,getActiveConfig:s,newConfig:o,registerConfig:a}}),rR=hr("details",()=>{const e=ne([]),t=ne({}),r=ne({}),i=ne(),n=ne(0),s=ne(0),o=ne(!0),a=ne();function l(f){const d=e.value.findIndex(p=>p.uid===f.uid);d!==-1&&e.value.splice(d,1)}function c(f){t.value={...t.value,[f.id]:f}}return{payload:e,properties:t,defaultTemplates:r,currentFeatureId:i,activeGreedy:n,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Dn=hr("fixture",()=>{const e=ne({}),t=ne({});function r(o){return o.map(a=>t.value[a].getPromise())}function i(o){if(e.value={...e.value,[o.id]:Mr(o)},o.id in t.value)t.value[o.id].resolveMe(Mr(o));else{const a=new Tr;a.resolveMe(Mr(o)),t.value={...t.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function n(o){delete e.value[o.id],e.value={...e.value},delete t.value[o.id],t.value={...t.value},typeof o.removed=="function"&&o.removed()}function s(o){t.value={...t.value,[o]:new Tr}}return{items:e,loadPromises:t,getLoadPromises:r,addFixture:i,removeFixture:n,addLoadPromise:s}});var Ce=(e=>(e.APPBAR_BUTTON_CLICK="appbar/click",e.COMPONENT="ramp/component",e.CONFIG_CHANGE="config/configchanged",e.DETAILS_TOGGLE="details/toggle",e.FILTER_CHANGE="filter/change",e.FIXTURE_ADDED="fixture/added",e.FIXTURE_REMOVED="fixture/removed",e.GRID_TOGGLE="grid/toggle",e.HELP_TOGGLE="help/toggle",e.LANG_CHANGE="lang/change",e.LAYER_DRAWSTATECHANGE="layer/drawstatechange",e.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",e.LAYER_LAYERSTATECHANGE="layer/layerstatechange",e.LAYER_OPACITYCHANGE="layer/opacitychange",e.LAYER_REGISTERED="layer/registered",e.LAYER_RELOAD_END="layer/reloadend",e.LAYER_RELOAD_START="layer/reloadstart",e.LAYER_REMOVE="layer/remove",e.LAYER_VISIBILITYCHANGE="layer/visibilitychange",e.MAP_BASEMAPCHANGE="map/basemapchanged",e.MAP_BLUR="map/blur",e.MAP_CLICK="map/click",e.MAP_CREATED="map/created",e.MAP_DESTROYED="map/destroyed",e.MAP_DOUBLECLICK="map/doubleclick",e.MAP_EXTENTCHANGE="map/extentchanged",e.MAP_FOCUS="map/focus",e.MAP_GRAPHICHIT="map/graphichit",e.MAP_IDENTIFY="map/identify",e.MAP_KEYDOWN="map/keydown",e.MAP_KEYUP="map/keyup",e.MAP_MOUSEDOWN="map/mousedown",e.MAP_MOUSELEAVE="map/mouseleave",e.MAP_MOUSEMOVE="map/mousemove",e.MAP_MOUSEMOVE_END="map/mousemoveend",e.MAP_MOUSEMOVE_START="map/mousemovestart",e.MAP_REFRESH_END="map/refreshend",e.MAP_REFRESH_START="map/refreshstart",e.MAP_REORDER="map/reorder",e.MAP_RESIZED="map/resized",e.MAP_SCALECHANGE="map/scalechanged",e.MAP_START="map/start",e.METADATA_TOGGLE="metadata/toggle",e.PANEL_CLOSED="panel/closed",e.PANEL_MINIMIZED="panel/minimized",e.PANEL_OPENED="panel/opened",e.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",e.REORDER_TOGGLE="reorder/toggle",e.SETTINGS_TOGGLE="settings/toggle",e.USER_LAYER_ADDED="user/layeradded",e.WIZARD_TOGGLE="wizard/toggle",e))(Ce||{}),rS=(e=>(e.CONFIG_CHANGE_UPDATES_MAP_ATTRIBS="ramp_config_change_updates_map_attribs",e.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",e.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",e.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",e.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",e.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",e.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",e.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",e.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",e.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",e.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",e.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",e.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",e.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",e.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",e.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",e.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",e.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",e.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",e.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",e.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",e.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",e.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",e.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",e.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",e.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",e.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",e.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",e.TOGGLE_DETAILS="ramp_toggle_details",e.TOGGLE_GRID="ramp_toggle_grid",e.TOGGLE_HELP="ramp_toggle_help",e.TOGGLE_METADATA="ramp_toggle_metadata",e.TOGGLE_REORDER="ramp_toggle_reorder",e.TOGGLE_SETTINGS="ramp_toggle_settings",e.TOGGLE_WIZARD="ramp_toggle_wizard",e))(rS||{});class oie{eventName;handlerName;handlerFunc;constructor(t,r,i){this.eventName=t,this.handlerName=r,this.handlerFunc=i}}class aie extends Rr{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(t){super(t),this._eventBus=new OX.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Ce).filter(r=>typeof r=="string"&&r.indexOf("/")>-1)}findHandler(t){return this._eventRegister.find(r=>r.handlerName===t)}handlerNamer(t){return this._funCounter++,t.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(t){(Array.isArray(t)?t:[t]).forEach(i=>{this._nameRegister.indexOf(i)===-1&&this._nameRegister.push(i)})}eventNames(){return this._nameRegister.slice()}on(t,r,i=""){if(this.findHandler(i))throw new Error("Duplicate handler name registration: "+i);i||(i=this.handlerNamer(t));const n=new oie(t,i,r);return this._eventRegister.push(n),this._eventBus.on(t,r),i}off(t){const r=this.findHandler(t);r&&(this._eventRegister.splice(this._eventRegister.indexOf(r),1),this._eventBus.off(r.eventName,r.handlerFunc))}offAll(t=""){this.activeHandlers(t).forEach(i=>this.off(i))}removeDefaultEvents(){Object.values(rS).forEach(t=>{this.off(t)})}emit(t,...r){this._eventBus.emit(t,...r)}once(t,r,i=""){i||(i=this.handlerNamer(t));const n=(...s)=>{r(...s),this.off(i)};return this.on(t,n,i)}activeHandlers(t=""){return t===""?this._eventRegister.map(r=>r.handlerName):this._eventRegister.filter(r=>r.eventName===t).map(r=>r.handlerName)}addDefaultEvents(t){return(!Array.isArray(t)||t.length===0)&&(t=Object.values(rS)),t.map(r=>this.defaultHandlerFactory(r))}defaultHandlerFactory(t){let r;switch(t){case"ramp_config_change_updates_map_attribs":r=i=>{const n=i.map.basemaps.find(s=>s.id===this.$iApi.geo.map.getCurrentBasemapId());this.$iApi.geo.map.caption.updateAttribution(n?.attribution)},this.$iApi.event.on("config/configchanged",r,t);break;case"ramp_layer_error_updates_legend":r=i=>{if(i.layer.layerState===yr.ERROR){const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(i.layer)}},this.$iApi.event.on("layer/layerstatechange",r,t);break;case"ramp_layer_register_binds_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(i)},this.$iApi.event.on("layer/registered",r,t);break;case"ramp_layer_reload_end_binds_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&n.updateLegend(i)},this.$iApi.event.on("layer/reloadend",r,t);break;case"ramp_layer_reload_start_updates_legend":r=i=>{if(!i.isSublayer){const n=this.$iApi.fixture.get("legend");n&&n.reloadLayerItem(i.uid)}},this.$iApi.event.on("layer/reloadstart",r,t);break;case"ramp_layer_remove_checks_grid":r=i=>{if(this.$iApi.fixture.get("grid")){const n=tS(this.$vApp.$pinia),s=n.getGridId(i.id);if(s===void 0)return;if(n.removeLayer(s,i.id),n.grids[s].layerIds.length===0){n.removeGrid(s);const o=n.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),n.currentId=void 0}}}},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_remove_updates_details":r=i=>{const n=rR(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&n.removeLayer(i)},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_remove_updates_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&(n.removeLayerItem(i),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:i.name})))},this.$iApi.event.on("layer/remove",r,t);break;case"ramp_layer_useradd_updates_legend":r=i=>{const n=this.$iApi.fixture.get("legend");n&&n.addLayerItem(i)},this.$iApi.event.on("user/layeradded",r,t);break;case"ramp_map_basemap_checks_tile_proj":r=i=>{i.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(n=>n.layerType===ke.TILE).forEach(n=>{n.checkProj()})},this.$iApi.event.on("map/basemapchanged",r,t);break;case"ramp_map_basemap_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(Qi(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",r,t);break;case"ramp_map_blur_updates_key_handler":r=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",r,t);break;case"ramp_map_click_runs_identify":r=i=>{i.button===0&&this.$iApi.geo.map.runIdentify(i)},this.on("map/click",r,t);break;case"ramp_map_created_initializes_fixtures":r=()=>{const i=Dn(this.$vApp.$pinia).items;Object.keys(i).forEach(n=>{i[n].initialized?.()})},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,t);break;case"ramp_map_created_updates_map_attribs":r=()=>{this.$iApi.geo.map.caption.updateAttribution(Qi(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&r(),this.$iApi.event.on("map/created",r,t);break;case"ramp_map_extent_updates_maptip":r=()=>{if(this.$iApi.geo.map.keysActive){const i=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(i)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",Ac(50,!0,()=>r()),t);break;case"ramp_map_graphichit_creates_maptip":r=i=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(i)},this.$iApi.event.on("map/graphichit",r,t);break;case"ramp_map_identify_opens_identify_results":r=i=>{const n=this.$iApi.fixture.get("details");n&&n.openDetails(i.results)},this.on("map/identify",r,t);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",Ac(50,()=>{const i=al(this.$vApp.$pinia);i.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(s=>{i.coords={formattedString:s}})}),t);break;case"ramp_map_keydown_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyDown(i)},this.$iApi.event.on("map/keydown",r,t);break;case"ramp_map_keyup_updates_key_handler":r=i=>{this.$iApi.geo.map.mapKeyUp(i)},this.$iApi.event.on("map/keyup",r,t);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",Ac(50,i=>{const n=al(this.$vApp.$pinia);n.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(i)).then(o=>{n.coords={formattedString:o}})}),t);break;case"ramp_map_mouse_updates_maptip":r=i=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:i.screenX,screenY:i.screenY})},this.$iApi.event.on("map/mousemove",Ac(50,i=>r(i)),t);break;case"ramp_map_mouseleave_removes_maptip":r=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",r);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",n1(100,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",n1(300,()=>this.$iApi.geo.map.caption.updateScale()),t);break;case"ramp_panel_close_updates_appbar":r=i=>{const n=i1(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!n.order.flat().find(s=>s===i.id)&&n.removeButton(i.id)},this.on("panel/closed",r,t);break;case"ramp_panel_open_updates_appbar":r=i=>{const n=i1(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!i.teleport||i.teleport?.showAppbarButton)&&!n.order.flat().find(s=>s===i.id)&&n.addTempButton(i.id)},this.on("panel/opened",r,t);break;case"ramp_toggle_details":r=(i,n)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(i,n)},this.$iApi.event.on("details/toggle",r,t);break;case"ramp_toggle_grid":r=(i,n)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(i.id,n)},this.$iApi.event.on("grid/toggle",r,t);break;case"ramp_toggle_help":r=i=>{const n=this.$iApi.fixture.get("help");n&&n.toggleHelp(i)},this.$iApi.event.on("help/toggle",r,t);break;case"ramp_toggle_metadata":r=(i,n)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(i,n)},this.$iApi.event.on("metadata/toggle",r,t);break;case"ramp_toggle_reorder":r=i=>{const n=this.$iApi.fixture.get("layer-reorder");n&&n.toggleLayerReorder(i)},this.$iApi.event.on("reorder/toggle",r,t);break;case"ramp_toggle_settings":r=(i,n)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(i,n)},this.$iApi.event.on("settings/toggle",r,t);break;case"ramp_toggle_wizard":r=i=>{const n=this.$iApi.fixture.get("wizard");n&&n.toggleWizard(i)},this.$iApi.event.on("wizard/toggle",r,t);break;default:return console.error(`Unrecognized default event handler name encountered: ${t}`),`ERROR_NOT_REGISTERED__${t}`}return t}}/*!
  * shared v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const s1=typeof window<"u",Ll=(e,t=!1)=>t?Symbol.for(e):Symbol(e),lie=(e,t,r)=>cie({l:e,k:t,s:r}),cie=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Er=e=>typeof e=="number"&&isFinite(e),uie=e=>nR(e)==="[object Date]",xl=e=>nR(e)==="[object RegExp]",Rv=e=>We(e)&&Object.keys(e).length===0,oi=Object.assign,hie=Object.create,Rt=(e=null)=>hie(e);let cI;const Xo=()=>cI||(cI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Rt());function uI(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const fie=Object.prototype.hasOwnProperty;function ps(e,t){return fie.call(e,t)}const Qt=Array.isArray,Bt=e=>typeof e=="function",we=e=>typeof e=="string",ot=e=>typeof e=="boolean",_t=e=>e!==null&&typeof e=="object",die=e=>_t(e)&&Bt(e.then)&&Bt(e.catch),iR=Object.prototype.toString,nR=e=>iR.call(e),We=e=>{if(!_t(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},pie=e=>e==null?"":Qt(e)||We(e)&&e.toString===iR?JSON.stringify(e,null,2):String(e);function mie(e,t=""){return e.reduce((r,i,n)=>n===0?r+i:r+t+i,"")}function Dv(e){let t=e;return()=>++t}function yie(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const P0=e=>!_t(e)||Qt(e);function By(e,t){if(P0(e)||P0(t))throw new Error("Invalid value");const r=[{src:e,des:t}];for(;r.length;){const{src:i,des:n}=r.pop();Object.keys(i).forEach(s=>{s!=="__proto__"&&(_t(i[s])&&!_t(n[s])&&(n[s]=Array.isArray(i[s])?[]:Rt()),P0(n[s])||P0(i[s])?n[s]=i[s]:r.push({src:i[s],des:n[s]}))})}}/*!
  * message-compiler v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function gie(e,t,r){return{line:e,column:t,offset:r}}function o1(e,t,r){return{start:e,end:t}}const vie=/\{([0-9a-zA-Z]+)\}/g;function sR(e,...t){return t.length===1&&bie(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(vie,(r,i)=>t.hasOwnProperty(i)?t[i]:"")}const oR=Object.assign,hI=e=>typeof e=="string",bie=e=>e!==null&&typeof e=="object";function aR(e,t=""){return e.reduce((r,i,n)=>n===0?r+i:r+t+i,"")}const I3={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},_ie={[I3.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function wie(e,t,...r){const i=sR(_ie[e],...r||[]),n={message:String(i),code:e};return t&&(n.location=t),n}const Ge={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Sie={[Ge.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ge.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ge.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ge.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ge.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ge.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ge.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ge.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ge.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ge.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ge.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ge.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ge.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ge.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ge.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ge.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Rf(e,t,r={}){const{domain:i,messages:n,args:s}=r,o=sR((n||Sie)[e]||"",...s||[]),a=new SyntaxError(String(o));return a.code=e,t&&(a.location=t),a.domain=i,a}function xie(e){throw e}const Co=" ",Eie="\r",$i=`
`,Tie="\u2028",Aie="\u2029";function Mie(e){const t=e;let r=0,i=1,n=1,s=0;const o=P=>t[P]===Eie&&t[P+1]===$i,a=P=>t[P]===$i,l=P=>t[P]===Aie,c=P=>t[P]===Tie,f=P=>o(P)||a(P)||l(P)||c(P),d=()=>r,p=()=>i,y=()=>n,g=()=>s,_=P=>o(P)||l(P)||c(P)?$i:t[P],w=()=>_(r),x=()=>_(r+s);function T(){return s=0,f(r)&&(i++,n=0),o(r)&&r++,r++,n++,t[r]}function S(){return o(r+s)&&s++,s++,t[r+s]}function v(){r=0,i=1,n=1,s=0}function M(P=0){s=P}function O(){const P=r+s;for(;P!==r;)T();s=0}return{index:d,line:p,column:y,peekOffset:g,charAt:_,currentChar:w,currentPeek:x,next:T,peek:S,reset:v,resetPeek:M,skipToPeek:O}}const Ia=void 0,Iie=".",fI="'",Oie="tokenizer";function $ie(e,t={}){const r=t.location!==!1,i=Mie(e),n=()=>i.index(),s=()=>gie(i.line(),i.column(),i.index()),o=s(),a=n(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:f}=t;function d(I,L,B,...Z){const te=c();if(L.column+=B,L.offset+=B,f){const ee=r?o1(te.startLoc,L):null,H=Rf(I,ee,{domain:Oie,args:Z});f(H)}}function p(I,L,B){I.endLoc=s(),I.currentType=L;const Z={type:L};return r&&(Z.loc=o1(I.startLoc,I.endLoc)),B!=null&&(Z.value=B),Z}const y=I=>p(I,14);function g(I,L){return I.currentChar()===L?(I.next(),L):(d(Ge.EXPECTED_TOKEN,s(),0,L),"")}function _(I){let L="";for(;I.currentPeek()===Co||I.currentPeek()===$i;)L+=I.currentPeek(),I.peek();return L}function w(I){const L=_(I);return I.skipToPeek(),L}function x(I){if(I===Ia)return!1;const L=I.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L===95}function T(I){if(I===Ia)return!1;const L=I.charCodeAt(0);return L>=48&&L<=57}function S(I,L){const{currentType:B}=L;if(B!==2)return!1;_(I);const Z=x(I.currentPeek());return I.resetPeek(),Z}function v(I,L){const{currentType:B}=L;if(B!==2)return!1;_(I);const Z=I.currentPeek()==="-"?I.peek():I.currentPeek(),te=T(Z);return I.resetPeek(),te}function M(I,L){const{currentType:B}=L;if(B!==2)return!1;_(I);const Z=I.currentPeek()===fI;return I.resetPeek(),Z}function O(I,L){const{currentType:B}=L;if(B!==8)return!1;_(I);const Z=I.currentPeek()===".";return I.resetPeek(),Z}function P(I,L){const{currentType:B}=L;if(B!==9)return!1;_(I);const Z=x(I.currentPeek());return I.resetPeek(),Z}function R(I,L){const{currentType:B}=L;if(!(B===8||B===12))return!1;_(I);const Z=I.currentPeek()===":";return I.resetPeek(),Z}function k(I,L){const{currentType:B}=L;if(B!==10)return!1;const Z=()=>{const ee=I.currentPeek();return ee==="{"?x(I.peek()):ee==="@"||ee==="%"||ee==="|"||ee===":"||ee==="."||ee===Co||!ee?!1:ee===$i?(I.peek(),Z()):U(I,!1)},te=Z();return I.resetPeek(),te}function G(I){_(I);const L=I.currentPeek()==="|";return I.resetPeek(),L}function V(I){const L=_(I),B=I.currentPeek()==="%"&&I.peek()==="{";return I.resetPeek(),{isModulo:B,hasSpace:L.length>0}}function U(I,L=!0){const B=(te=!1,ee="",H=!1)=>{const X=I.currentPeek();return X==="{"?ee==="%"?!1:te:X==="@"||!X?ee==="%"?!0:te:X==="%"?(I.peek(),B(te,"%",!0)):X==="|"?ee==="%"||H?!0:!(ee===Co||ee===$i):X===Co?(I.peek(),B(!0,Co,H)):X===$i?(I.peek(),B(!0,$i,H)):!0},Z=B();return L&&I.resetPeek(),Z}function Y(I,L){const B=I.currentChar();return B===Ia?Ia:L(B)?(I.next(),B):null}function se(I){const L=I.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L>=48&&L<=57||L===95||L===36}function h(I){return Y(I,se)}function m(I){const L=I.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L>=48&&L<=57||L===95||L===36||L===45}function E(I){return Y(I,m)}function N(I){const L=I.charCodeAt(0);return L>=48&&L<=57}function q(I){return Y(I,N)}function K(I){const L=I.charCodeAt(0);return L>=48&&L<=57||L>=65&&L<=70||L>=97&&L<=102}function fe(I){return Y(I,K)}function ae(I){let L="",B="";for(;L=q(I);)B+=L;return B}function Ae(I){w(I);const L=I.currentChar();return L!=="%"&&d(Ge.EXPECTED_TOKEN,s(),0,L),I.next(),"%"}function Fe(I){let L="";for(;;){const B=I.currentChar();if(B==="{"||B==="}"||B==="@"||B==="|"||!B)break;if(B==="%")if(U(I))L+=B,I.next();else break;else if(B===Co||B===$i)if(U(I))L+=B,I.next();else{if(G(I))break;L+=B,I.next()}else L+=B,I.next()}return L}function Ve(I){w(I);let L="",B="";for(;L=E(I);)B+=L;return I.currentChar()===Ia&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),B}function Oe(I){w(I);let L="";return I.currentChar()==="-"?(I.next(),L+=`-${ae(I)}`):L+=ae(I),I.currentChar()===Ia&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),L}function vt(I){return I!==fI&&I!==$i}function rt(I){w(I),g(I,"'");let L="",B="";for(;L=Y(I,vt);)L==="\\"?B+=pt(I):B+=L;const Z=I.currentChar();return Z===$i||Z===Ia?(d(Ge.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),Z===$i&&(I.next(),g(I,"'")),B):(g(I,"'"),B)}function pt(I){const L=I.currentChar();switch(L){case"\\":case"'":return I.next(),`\\${L}`;case"u":return ft(I,L,4);case"U":return ft(I,L,6);default:return d(Ge.UNKNOWN_ESCAPE_SEQUENCE,s(),0,L),""}}function ft(I,L,B){g(I,L);let Z="";for(let te=0;te<B;te++){const ee=fe(I);if(!ee){d(Ge.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${L}${Z}${I.currentChar()}`);break}Z+=ee}return`\\${L}${Z}`}function nt(I){return I!=="{"&&I!=="}"&&I!==Co&&I!==$i}function Dt(I){w(I);let L="",B="";for(;L=Y(I,nt);)B+=L;return B}function z(I){let L="",B="";for(;L=h(I);)B+=L;return B}function F(I){const L=B=>{const Z=I.currentChar();return Z==="{"||Z==="%"||Z==="@"||Z==="|"||Z==="("||Z===")"||!Z||Z===Co?B:(B+=Z,I.next(),L(B))};return L("")}function J(I){w(I);const L=g(I,"|");return w(I),L}function le(I,L){let B=null;switch(I.currentChar()){case"{":return L.braceNest>=1&&d(Ge.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),I.next(),B=p(L,2,"{"),w(I),L.braceNest++,B;case"}":return L.braceNest>0&&L.currentType===2&&d(Ge.EMPTY_PLACEHOLDER,s(),0),I.next(),B=p(L,3,"}"),L.braceNest--,L.braceNest>0&&w(I),L.inLinked&&L.braceNest===0&&(L.inLinked=!1),B;case"@":return L.braceNest>0&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),B=ie(I,L)||y(L),L.braceNest=0,B;default:{let te=!0,ee=!0,H=!0;if(G(I))return L.braceNest>0&&d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),B=p(L,1,J(I)),L.braceNest=0,L.inLinked=!1,B;if(L.braceNest>0&&(L.currentType===5||L.currentType===6||L.currentType===7))return d(Ge.UNTERMINATED_CLOSING_BRACE,s(),0),L.braceNest=0,$(I,L);if(te=S(I,L))return B=p(L,5,Ve(I)),w(I),B;if(ee=v(I,L))return B=p(L,6,Oe(I)),w(I),B;if(H=M(I,L))return B=p(L,7,rt(I)),w(I),B;if(!te&&!ee&&!H)return B=p(L,13,Dt(I)),d(Ge.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,B.value),w(I),B;break}}return B}function ie(I,L){const{currentType:B}=L;let Z=null;const te=I.currentChar();switch((B===8||B===9||B===12||B===10)&&(te===$i||te===Co)&&d(Ge.INVALID_LINKED_FORMAT,s(),0),te){case"@":return I.next(),Z=p(L,8,"@"),L.inLinked=!0,Z;case".":return w(I),I.next(),p(L,9,".");case":":return w(I),I.next(),p(L,10,":");default:return G(I)?(Z=p(L,1,J(I)),L.braceNest=0,L.inLinked=!1,Z):O(I,L)||R(I,L)?(w(I),ie(I,L)):P(I,L)?(w(I),p(L,12,z(I))):k(I,L)?(w(I),te==="{"?le(I,L)||Z:p(L,11,F(I))):(B===8&&d(Ge.INVALID_LINKED_FORMAT,s(),0),L.braceNest=0,L.inLinked=!1,$(I,L))}}function $(I,L){let B={type:14};if(L.braceNest>0)return le(I,L)||y(L);if(L.inLinked)return ie(I,L)||y(L);switch(I.currentChar()){case"{":return le(I,L)||y(L);case"}":return d(Ge.UNBALANCED_CLOSING_BRACE,s(),0),I.next(),p(L,3,"}");case"@":return ie(I,L)||y(L);default:{if(G(I))return B=p(L,1,J(I)),L.braceNest=0,L.inLinked=!1,B;const{isModulo:te,hasSpace:ee}=V(I);if(te)return ee?p(L,0,Fe(I)):p(L,4,Ae(I));if(U(I))return p(L,0,Fe(I));break}}return B}function j(){const{currentType:I,offset:L,startLoc:B,endLoc:Z}=l;return l.lastType=I,l.lastOffset=L,l.lastStartLoc=B,l.lastEndLoc=Z,l.offset=n(),l.startLoc=s(),i.currentChar()===Ia?p(l,14):$(i,l)}return{nextToken:j,currentOffset:n,currentPosition:s,context:c}}const Cie="parser",Nie=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Pie(e,t,r){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(t||r,16);return i<=55295||i>=57344?String.fromCodePoint(i):"�"}}}function Lie(e={}){const t=e.location!==!1,{onError:r,onWarn:i}=e;function n(S,v,M,O,...P){const R=S.currentPosition();if(R.offset+=O,R.column+=O,r){const k=t?o1(M,R):null,G=Rf(v,k,{domain:Cie,args:P});r(G)}}function s(S,v,M,O,...P){const R=S.currentPosition();if(R.offset+=O,R.column+=O,i){const k=t?o1(M,R):null;i(wie(v,k,P))}}function o(S,v,M){const O={type:S};return t&&(O.start=v,O.end=v,O.loc={start:M,end:M}),O}function a(S,v,M,O){t&&(S.end=v,S.loc&&(S.loc.end=M))}function l(S,v){const M=S.context(),O=o(3,M.offset,M.startLoc);return O.value=v,a(O,S.currentOffset(),S.currentPosition()),O}function c(S,v){const M=S.context(),{lastOffset:O,lastStartLoc:P}=M,R=o(5,O,P);return R.index=parseInt(v,10),S.nextToken(),a(R,S.currentOffset(),S.currentPosition()),R}function f(S,v,M){const O=S.context(),{lastOffset:P,lastStartLoc:R}=O,k=o(4,P,R);return k.key=v,M===!0&&(k.modulo=!0),S.nextToken(),a(k,S.currentOffset(),S.currentPosition()),k}function d(S,v){const M=S.context(),{lastOffset:O,lastStartLoc:P}=M,R=o(9,O,P);return R.value=v.replace(Nie,Pie),S.nextToken(),a(R,S.currentOffset(),S.currentPosition()),R}function p(S){const v=S.nextToken(),M=S.context(),{lastOffset:O,lastStartLoc:P}=M,R=o(8,O,P);return v.type!==12?(n(S,Ge.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),R.value="",a(R,O,P),{nextConsumeToken:v,node:R}):(v.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,rs(v)),R.value=v.value||"",a(R,S.currentOffset(),S.currentPosition()),{node:R})}function y(S,v){const M=S.context(),O=o(7,M.offset,M.startLoc);return O.value=v,a(O,S.currentOffset(),S.currentPosition()),O}function g(S){const v=S.context(),M=o(6,v.offset,v.startLoc);let O=S.nextToken();if(O.type===9){const P=p(S);M.modifier=P.node,O=P.nextConsumeToken||S.nextToken()}switch(O.type!==10&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(O)),O=S.nextToken(),O.type===2&&(O=S.nextToken()),O.type){case 11:O.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(O)),M.key=y(S,O.value||"");break;case 5:O.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(O)),M.key=f(S,O.value||"");break;case 6:O.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(O)),M.key=c(S,O.value||"");break;case 7:O.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(O)),M.key=d(S,O.value||"");break;default:{n(S,Ge.UNEXPECTED_EMPTY_LINKED_KEY,v.lastStartLoc,0);const P=S.context(),R=o(7,P.offset,P.startLoc);return R.value="",a(R,P.offset,P.startLoc),M.key=R,a(M,P.offset,P.startLoc),{nextConsumeToken:O,node:M}}}return a(M,S.currentOffset(),S.currentPosition()),{node:M}}function _(S){const v=S.context(),M=v.currentType===1?S.currentOffset():v.offset,O=v.currentType===1?v.endLoc:v.startLoc,P=o(2,M,O);P.items=[];let R=null,k=null;do{const U=R||S.nextToken();switch(R=null,U.type){case 0:U.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(U)),P.items.push(l(S,U.value||""));break;case 6:U.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(U)),P.items.push(c(S,U.value||""));break;case 4:k=!0;break;case 5:U.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(U)),P.items.push(f(S,U.value||"",!!k)),k&&(s(S,I3.USE_MODULO_SYNTAX,v.lastStartLoc,0,rs(U)),k=null);break;case 7:U.value==null&&n(S,Ge.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,rs(U)),P.items.push(d(S,U.value||""));break;case 8:{const Y=g(S);P.items.push(Y.node),R=Y.nextConsumeToken||null;break}}}while(v.currentType!==14&&v.currentType!==1);const G=v.currentType===1?v.lastOffset:S.currentOffset(),V=v.currentType===1?v.lastEndLoc:S.currentPosition();return a(P,G,V),P}function w(S,v,M,O){const P=S.context();let R=O.items.length===0;const k=o(1,v,M);k.cases=[],k.cases.push(O);do{const G=_(S);R||(R=G.items.length===0),k.cases.push(G)}while(P.currentType!==14);return R&&n(S,Ge.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(k,S.currentOffset(),S.currentPosition()),k}function x(S){const v=S.context(),{offset:M,startLoc:O}=v,P=_(S);return v.currentType===14?P:w(S,M,O,P)}function T(S){const v=$ie(S,oR({},e)),M=v.context(),O=o(0,M.offset,M.startLoc);return t&&O.loc&&(O.loc.source=S),O.body=x(v),e.onCacheKey&&(O.cacheKey=e.onCacheKey(S)),M.currentType!==14&&n(v,Ge.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,S[M.offset]||""),a(O,v.currentOffset(),v.currentPosition()),O}return{parse:T}}function rs(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function kie(e,t={}){const r={ast:e,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function dI(e,t){for(let r=0;r<e.length;r++)O3(e[r],t)}function O3(e,t){switch(e.type){case 1:dI(e.cases,t),t.helper("plural");break;case 2:dI(e.items,t);break;case 6:{O3(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Rie(e,t={}){const r=kie(e);r.helper("normalize"),e.body&&O3(e.body,r);const i=r.context();e.helpers=Array.from(i.helpers)}function Die(e){const t=e.body;return t.type===2?pI(t):t.cases.forEach(r=>pI(r)),e}function pI(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let r=0;r<e.items.length;r++){const i=e.items[r];if(!(i.type===3||i.type===9)||i.value==null)break;t.push(i.value)}if(t.length===e.items.length){e.static=aR(t);for(let r=0;r<e.items.length;r++){const i=e.items[r];(i.type===3||i.type===9)&&delete i.value}}}}const Fie="minifier";function Zu(e){switch(e.t=e.type,e.type){case 0:{const t=e;Zu(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,r=t.cases;for(let i=0;i<r.length;i++)Zu(r[i]);t.c=r,delete t.cases;break}case 2:{const t=e,r=t.items;for(let i=0;i<r.length;i++)Zu(r[i]);t.i=r,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Zu(t.key),t.k=t.key,delete t.key,t.modifier&&(Zu(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw Rf(Ge.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Fie,args:[e.type]})}delete e.type}const Uie="parser";function jie(e,t){const{sourceMap:r,filename:i,breakLineCode:n,needIndent:s}=t,o=t.location!==!1,a={filename:i,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:s,indentLevel:0};o&&e.loc&&(a.source=e.loc.source);const l=()=>a;function c(w,x){a.code+=w}function f(w,x=!0){const T=x?n:"";c(s?T+"  ".repeat(w):T)}function d(w=!0){const x=++a.indentLevel;w&&f(x)}function p(w=!0){const x=--a.indentLevel;w&&f(x)}function y(){f(a.indentLevel)}return{context:l,push:c,indent:d,deindent:p,newline:y,helper:w=>`_${w}`,needIndent:()=>a.needIndent}}function Gie(e,t){const{helper:r}=e;e.push(`${r("linked")}(`),Qh(e,t.key),t.modifier?(e.push(", "),Qh(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Vie(e,t){const{helper:r,needIndent:i}=e;e.push(`${r("normalize")}([`),e.indent(i());const n=t.items.length;for(let s=0;s<n&&(Qh(e,t.items[s]),s!==n-1);s++)e.push(", ");e.deindent(i()),e.push("])")}function Bie(e,t){const{helper:r,needIndent:i}=e;if(t.cases.length>1){e.push(`${r("plural")}([`),e.indent(i());const n=t.cases.length;for(let s=0;s<n&&(Qh(e,t.cases[s]),s!==n-1);s++)e.push(", ");e.deindent(i()),e.push("])")}}function zie(e,t){t.body?Qh(e,t.body):e.push("null")}function Qh(e,t){const{helper:r}=e;switch(t.type){case 0:zie(e,t);break;case 1:Bie(e,t);break;case 2:Vie(e,t);break;case 6:Gie(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${r("interpolate")}(${r("list")}(${t.index}))`,t);break;case 4:e.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Rf(Ge.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:Uie,args:[t.type]})}}const qie=(e,t={})=>{const r=hI(t.mode)?t.mode:"normal",i=hI(t.filename)?t.filename:"message.intl",n=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:r==="arrow"?";":`
`,o=t.needIndent?t.needIndent:r!=="arrow",a=e.helpers||[],l=jie(e,{mode:r,filename:i,sourceMap:n,breakLineCode:s,needIndent:o});l.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${aR(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),Qh(l,e),l.deindent(o),l.push("}"),delete e.helpers;const{code:c,map:f}=l.context();return{ast:e,code:c,map:f?f.toJSON():void 0}};function Wie(e,t={}){const r=oR({},t),i=!!r.jit,n=!!r.minify,s=r.optimize==null?!0:r.optimize,a=Lie(r).parse(e);return i?(s&&Die(a),n&&Zu(a),{ast:a,code:""}):(Rie(a,r),qie(a,r))}/*!
  * core-base v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function Hie(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Xo().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Xo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Xo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const kl=[];kl[0]={w:[0],i:[3,0],"[":[4],o:[7]};kl[1]={w:[1],".":[2],"[":[4],o:[7]};kl[2]={w:[2],i:[3,0],0:[3,0]};kl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};kl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};kl[5]={"'":[4,0],o:8,l:[5,0]};kl[6]={'"':[4,0],o:8,l:[6,0]};const Yie=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Jie(e){return Yie.test(e)}function Kie(e){const t=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t===r&&(t===34||t===39)?e.slice(1,-1):e}function Zie(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Xie(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Jie(t)?Kie(t):"*"+t}function Qie(e){const t=[];let r=-1,i=0,n=0,s,o,a,l,c,f,d;const p=[];p[0]=()=>{o===void 0?o=a:o+=a},p[1]=()=>{o!==void 0&&(t.push(o),o=void 0)},p[2]=()=>{p[0](),n++},p[3]=()=>{if(n>0)n--,i=4,p[0]();else{if(n=0,o===void 0||(o=Xie(o),o===!1))return!1;p[1]()}};function y(){const g=e[r+1];if(i===5&&g==="'"||i===6&&g==='"')return r++,a="\\"+g,p[0](),!0}for(;i!==null;)if(r++,s=e[r],!(s==="\\"&&y())){if(l=Zie(s),d=kl[i],c=d[l]||d.l||8,c===8||(i=c[0],c[1]!==void 0&&(f=p[c[1]],f&&(a=s,f()===!1))))return;if(i===7)return t}}const mI=new Map;function ene(e,t){return _t(e)?e[t]:null}function tne(e,t){if(!_t(e))return null;let r=mI.get(t);if(r||(r=Qie(t),r&&mI.set(t,r)),!r)return null;const i=r.length;let n=e,s=0;for(;s<i;){const o=n[r[s]];if(o===void 0||Bt(n))return null;n=o,s++}return n}const rne=e=>e,ine=e=>"",nne="text",sne=e=>e.length===0?"":mie(e),one=pie;function yI(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function ane(e){const t=Er(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Er(e.named.count)||Er(e.named.n))?Er(e.named.count)?e.named.count:Er(e.named.n)?e.named.n:t:t}function lne(e,t){t.count||(t.count=e),t.n||(t.n=e)}function cne(e={}){const t=e.locale,r=ane(e),i=_t(e.pluralRules)&&we(t)&&Bt(e.pluralRules[t])?e.pluralRules[t]:yI,n=_t(e.pluralRules)&&we(t)&&Bt(e.pluralRules[t])?yI:void 0,s=x=>x[i(r,x.length,n)],o=e.list||[],a=x=>o[x],l=e.named||Rt();Er(e.pluralIndex)&&lne(r,l);const c=x=>l[x];function f(x){const T=Bt(e.messages)?e.messages(x):_t(e.messages)?e.messages[x]:!1;return T||(e.parent?e.parent.message(x):ine)}const d=x=>e.modifiers?e.modifiers[x]:rne,p=We(e.processor)&&Bt(e.processor.normalize)?e.processor.normalize:sne,y=We(e.processor)&&Bt(e.processor.interpolate)?e.processor.interpolate:one,g=We(e.processor)&&we(e.processor.type)?e.processor.type:nne,w={list:a,named:c,plural:s,linked:(x,...T)=>{const[S,v]=T;let M="text",O="";T.length===1?_t(S)?(O=S.modifier||O,M=S.type||M):we(S)&&(O=S||O):T.length===2&&(we(S)&&(O=S||O),we(v)&&(M=v||M));const P=f(x)(w),R=M==="vnode"&&Qt(P)&&O?P[0]:P;return O?d(O)(R,M):R},message:f,type:g,interpolate:y,normalize:p,values:oi(Rt(),o,l)};return w}let Qp=null;function une(e){Qp=e}function hne(e,t,r){Qp&&Qp.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:r})}const fne=dne("function:translate");function dne(e){return t=>Qp&&Qp.emit(e,t)}const lR=I3.__EXTEND_POINT__,Hl=Dv(lR),pne={NOT_FOUND_KEY:lR,FALLBACK_TO_TRANSLATE:Hl(),CANNOT_FORMAT_NUMBER:Hl(),FALLBACK_TO_NUMBER_FORMAT:Hl(),CANNOT_FORMAT_DATE:Hl(),FALLBACK_TO_DATE_FORMAT:Hl(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Hl(),__EXTEND_POINT__:Hl()},cR=Ge.__EXTEND_POINT__,Yl=Dv(cR),ms={INVALID_ARGUMENT:cR,INVALID_DATE_ARGUMENT:Yl(),INVALID_ISO_DATE_ARGUMENT:Yl(),NOT_SUPPORT_NON_STRING_MESSAGE:Yl(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Yl(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Yl(),NOT_SUPPORT_LOCALE_TYPE:Yl(),__EXTEND_POINT__:Yl()};function io(e){return Rf(e,null,void 0)}function $3(e,t){return t.locale!=null?gI(t.locale):gI(e.locale)}let Zb;function gI(e){if(we(e))return e;if(Bt(e)){if(e.resolvedOnce&&Zb!=null)return Zb;if(e.constructor.name==="Function"){const t=e();if(die(t))throw io(ms.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Zb=t}else throw io(ms.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw io(ms.NOT_SUPPORT_LOCALE_TYPE)}function mne(e,t,r){return[...new Set([r,...Qt(t)?t:_t(t)?Object.keys(t):we(t)?[t]:[r]])]}function uR(e,t,r){const i=we(r)?r:ef,n=e;n.__localeChainCache||(n.__localeChainCache=new Map);let s=n.__localeChainCache.get(i);if(!s){s=[];let o=[r];for(;Qt(o);)o=vI(s,o,t);const a=Qt(t)||!We(t)?t:t.default?t.default:null;o=we(a)?[a]:a,Qt(o)&&vI(s,o,!1),n.__localeChainCache.set(i,s)}return s}function vI(e,t,r){let i=!0;for(let n=0;n<t.length&&ot(i);n++){const s=t[n];we(s)&&(i=yne(e,t[n],r))}return i}function yne(e,t,r){let i;const n=t.split("-");do{const s=n.join("-");i=gne(e,s,r),n.splice(-1,1)}while(n.length&&i===!0);return i}function gne(e,t,r){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";const n=t.replace(/!/g,"");e.push(n),(Qt(r)||We(r))&&r[n]&&(i=r[n])}return i}const vne="9.14.2",Fv=-1,ef="en-US",bI="",_I=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function bne(){return{upper:(e,t)=>t==="text"&&we(e)?e.toUpperCase():t==="vnode"&&_t(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&we(e)?e.toLowerCase():t==="vnode"&&_t(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&we(e)?_I(e):t==="vnode"&&_t(e)&&"__v_isVNode"in e?_I(e.children):e}}let hR;function wI(e){hR=e}let fR;function _ne(e){fR=e}let dR;function wne(e){dR=e}let pR=null;const Sne=e=>{pR=e},xne=()=>pR;let mR=null;const SI=e=>{mR=e},Ene=()=>mR;let xI=0;function Tne(e={}){const t=Bt(e.onWarn)?e.onWarn:yie,r=we(e.version)?e.version:vne,i=we(e.locale)||Bt(e.locale)?e.locale:ef,n=Bt(i)?ef:i,s=Qt(e.fallbackLocale)||We(e.fallbackLocale)||we(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:n,o=We(e.messages)?e.messages:Xb(n),a=We(e.datetimeFormats)?e.datetimeFormats:Xb(n),l=We(e.numberFormats)?e.numberFormats:Xb(n),c=oi(Rt(),e.modifiers,bne()),f=e.pluralRules||Rt(),d=Bt(e.missing)?e.missing:null,p=ot(e.missingWarn)||xl(e.missingWarn)?e.missingWarn:!0,y=ot(e.fallbackWarn)||xl(e.fallbackWarn)?e.fallbackWarn:!0,g=!!e.fallbackFormat,_=!!e.unresolving,w=Bt(e.postTranslation)?e.postTranslation:null,x=We(e.processor)?e.processor:null,T=ot(e.warnHtmlMessage)?e.warnHtmlMessage:!0,S=!!e.escapeParameter,v=Bt(e.messageCompiler)?e.messageCompiler:hR,M=Bt(e.messageResolver)?e.messageResolver:fR||ene,O=Bt(e.localeFallbacker)?e.localeFallbacker:dR||mne,P=_t(e.fallbackContext)?e.fallbackContext:void 0,R=e,k=_t(R.__datetimeFormatters)?R.__datetimeFormatters:new Map,G=_t(R.__numberFormatters)?R.__numberFormatters:new Map,V=_t(R.__meta)?R.__meta:{};xI++;const U={version:r,cid:xI,locale:i,fallbackLocale:s,messages:o,modifiers:c,pluralRules:f,missing:d,missingWarn:p,fallbackWarn:y,fallbackFormat:g,unresolving:_,postTranslation:w,processor:x,warnHtmlMessage:T,escapeParameter:S,messageCompiler:v,messageResolver:M,localeFallbacker:O,fallbackContext:P,onWarn:t,__meta:V};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=k,U.__numberFormatters=G,__INTLIFY_PROD_DEVTOOLS__&&hne(U,r,V),U}const Xb=e=>({[e]:Rt()});function C3(e,t,r,i,n){const{missing:s,onWarn:o}=e;if(s!==null){const a=s(e,r,t,n);return we(a)?a:t}else return t}function Xf(e,t,r){const i=e;i.__localeChainCache=new Map,e.localeFallbacker(e,r,t)}function Ane(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Mne(e,t){const r=t.indexOf(e);if(r===-1)return!1;for(let i=r+1;i<t.length;i++)if(Ane(e,t[i]))return!0;return!1}function Qb(e){return r=>Ine(r,e)}function Ine(e,t){const r=$ne(t);if(r==null)throw em(0);if(N3(r)===1){const s=Nne(r);return e.plural(s.reduce((o,a)=>[...o,EI(e,a)],[]))}else return EI(e,r)}const One=["b","body"];function $ne(e){return Rl(e,One)}const Cne=["c","cases"];function Nne(e){return Rl(e,Cne,[])}function EI(e,t){const r=Lne(t);if(r!=null)return e.type==="text"?r:e.normalize([r]);{const i=Rne(t).reduce((n,s)=>[...n,iS(e,s)],[]);return e.normalize(i)}}const Pne=["s","static"];function Lne(e){return Rl(e,Pne)}const kne=["i","items"];function Rne(e){return Rl(e,kne,[])}function iS(e,t){const r=N3(t);switch(r){case 3:return L0(t,r);case 9:return L0(t,r);case 4:{const i=t;if(ps(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(ps(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw em(r)}case 5:{const i=t;if(ps(i,"i")&&Er(i.i))return e.interpolate(e.list(i.i));if(ps(i,"index")&&Er(i.index))return e.interpolate(e.list(i.index));throw em(r)}case 6:{const i=t,n=jne(i),s=Vne(i);return e.linked(iS(e,s),n?iS(e,n):void 0,e.type)}case 7:return L0(t,r);case 8:return L0(t,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const Dne=["t","type"];function N3(e){return Rl(e,Dne)}const Fne=["v","value"];function L0(e,t){const r=Rl(e,Fne);if(r)return r;throw em(t)}const Une=["m","modifier"];function jne(e){return Rl(e,Une)}const Gne=["k","key"];function Vne(e){const t=Rl(e,Gne);if(t)return t;throw em(6)}function Rl(e,t,r){for(let i=0;i<t.length;i++){const n=t[i];if(ps(e,n)&&e[n]!=null)return e[n]}return r}function em(e){return new Error(`unhandled node type: ${e}`)}const yR=e=>e;let hh=Rt();function tf(e){return _t(e)&&N3(e)===0&&(ps(e,"b")||ps(e,"body"))}function gR(e,t={}){let r=!1;const i=t.onError||xie;return t.onError=n=>{r=!0,i(n)},{...Wie(e,t),detectError:r}}const Bne=(e,t)=>{if(!we(e))throw io(ms.NOT_SUPPORT_NON_STRING_MESSAGE);{ot(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||yR)(e),n=hh[i];if(n)return n;const{code:s,detectError:o}=gR(e,t),a=new Function(`return ${s}`)();return o?a:hh[i]=a}};function zne(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&we(e)){ot(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||yR)(e),n=hh[i];if(n)return n;const{ast:s,detectError:o}=gR(e,{...t,location:!1,jit:!0}),a=Qb(s);return o?a:hh[i]=a}else{const r=e.cacheKey;if(r){const i=hh[r];return i||(hh[r]=Qb(e))}else return Qb(e)}}const TI=()=>"",jn=e=>Bt(e);function AI(e,...t){const{fallbackFormat:r,postTranslation:i,unresolving:n,messageCompiler:s,fallbackLocale:o,messages:a}=e,[l,c]=nS(...t),f=ot(c.missingWarn)?c.missingWarn:e.missingWarn,d=ot(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,p=ot(c.escapeParameter)?c.escapeParameter:e.escapeParameter,y=!!c.resolvedMessage,g=we(c.default)||ot(c.default)?ot(c.default)?s?l:()=>l:c.default:r?s?l:()=>l:"",_=r||g!=="",w=$3(e,c);p&&qne(c);let[x,T,S]=y?[l,w,a[w]||Rt()]:vR(e,l,w,o,d,f),v=x,M=l;if(!y&&!(we(v)||tf(v)||jn(v))&&_&&(v=g,M=v),!y&&(!(we(v)||tf(v)||jn(v))||!we(T)))return n?Fv:l;let O=!1;const P=()=>{O=!0},R=jn(v)?v:bR(e,l,T,v,M,P);if(O)return v;const k=Yne(e,T,S,c),G=cne(k),V=Wne(e,R,G),U=i?i(V,l):V;if(__INTLIFY_PROD_DEVTOOLS__){const Y={timestamp:Date.now(),key:we(l)?l:jn(v)?v.key:"",locale:T||(jn(v)?v.locale:""),format:we(v)?v:jn(v)?v.source:"",message:U};Y.meta=oi({},e.__meta,xne()||{}),fne(Y)}return U}function qne(e){Qt(e.list)?e.list=e.list.map(t=>we(t)?uI(t):t):_t(e.named)&&Object.keys(e.named).forEach(t=>{we(e.named[t])&&(e.named[t]=uI(e.named[t]))})}function vR(e,t,r,i,n,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=e,f=c(e,i,r);let d=Rt(),p,y=null;const g="translate";for(let _=0;_<f.length&&(p=f[_],d=o[p]||Rt(),(y=l(d,t))===null&&(y=d[t]),!(we(y)||tf(y)||jn(y)));_++)if(!Mne(p,f)){const w=C3(e,t,p,s,g);w!==t&&(y=w)}return[y,p,d]}function bR(e,t,r,i,n,s){const{messageCompiler:o,warnHtmlMessage:a}=e;if(jn(i)){const c=i;return c.locale=c.locale||r,c.key=c.key||t,c}if(o==null){const c=()=>i;return c.locale=r,c.key=t,c}const l=o(i,Hne(e,r,n,i,a,s));return l.locale=r,l.key=t,l.source=i,l}function Wne(e,t,r){return t(r)}function nS(...e){const[t,r,i]=e,n=Rt();if(!we(t)&&!Er(t)&&!jn(t)&&!tf(t))throw io(ms.INVALID_ARGUMENT);const s=Er(t)?String(t):(jn(t),t);return Er(r)?n.plural=r:we(r)?n.default=r:We(r)&&!Rv(r)?n.named=r:Qt(r)&&(n.list=r),Er(i)?n.plural=i:we(i)?n.default=i:We(i)&&oi(n,i),[s,n]}function Hne(e,t,r,i,n,s){return{locale:t,key:r,warnHtmlMessage:n,onError:o=>{throw s&&s(o),o},onCacheKey:o=>lie(t,r,o)}}function Yne(e,t,r,i){const{modifiers:n,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:f}=e,p={locale:t,modifiers:n,pluralRules:s,messages:y=>{let g=o(r,y);if(g==null&&f){const[,,_]=vR(f,y,t,a,l,c);g=o(_,y)}if(we(g)||tf(g)){let _=!1;const x=bR(e,y,t,g,y,()=>{_=!0});return _?TI:x}else return jn(g)?g:TI}};return e.processor&&(p.processor=e.processor),i.list&&(p.list=i.list),i.named&&(p.named=i.named),Er(i.plural)&&(p.pluralIndex=i.plural),p}function MI(e,...t){const{datetimeFormats:r,unresolving:i,fallbackLocale:n,onWarn:s,localeFallbacker:o}=e,{__datetimeFormatters:a}=e,[l,c,f,d]=sS(...t),p=ot(f.missingWarn)?f.missingWarn:e.missingWarn;ot(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,g=$3(e,f),_=o(e,n,g);if(!we(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let w={},x,T=null;const S="datetime format";for(let O=0;O<_.length&&(x=_[O],w=r[x]||{},T=w[l],!We(T));O++)C3(e,l,x,p,S);if(!We(T)||!we(x))return i?Fv:l;let v=`${x}__${l}`;Rv(d)||(v=`${v}__${JSON.stringify(d)}`);let M=a.get(v);return M||(M=new Intl.DateTimeFormat(x,oi({},T,d)),a.set(v,M)),y?M.formatToParts(c):M.format(c)}const _R=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function sS(...e){const[t,r,i,n]=e,s=Rt();let o=Rt(),a;if(we(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw io(ms.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw io(ms.INVALID_ISO_DATE_ARGUMENT)}}else if(uie(t)){if(isNaN(t.getTime()))throw io(ms.INVALID_DATE_ARGUMENT);a=t}else if(Er(t))a=t;else throw io(ms.INVALID_ARGUMENT);return we(r)?s.key=r:We(r)&&Object.keys(r).forEach(l=>{_R.includes(l)?o[l]=r[l]:s[l]=r[l]}),we(i)?s.locale=i:We(i)&&(o=i),We(n)&&(o=n),[s.key||"",a,s,o]}function II(e,t,r){const i=e;for(const n in r){const s=`${t}__${n}`;i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function OI(e,...t){const{numberFormats:r,unresolving:i,fallbackLocale:n,onWarn:s,localeFallbacker:o}=e,{__numberFormatters:a}=e,[l,c,f,d]=oS(...t),p=ot(f.missingWarn)?f.missingWarn:e.missingWarn;ot(f.fallbackWarn)?f.fallbackWarn:e.fallbackWarn;const y=!!f.part,g=$3(e,f),_=o(e,n,g);if(!we(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let w={},x,T=null;const S="number format";for(let O=0;O<_.length&&(x=_[O],w=r[x]||{},T=w[l],!We(T));O++)C3(e,l,x,p,S);if(!We(T)||!we(x))return i?Fv:l;let v=`${x}__${l}`;Rv(d)||(v=`${v}__${JSON.stringify(d)}`);let M=a.get(v);return M||(M=new Intl.NumberFormat(x,oi({},T,d)),a.set(v,M)),y?M.formatToParts(c):M.format(c)}const wR=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function oS(...e){const[t,r,i,n]=e,s=Rt();let o=Rt();if(!Er(t))throw io(ms.INVALID_ARGUMENT);const a=t;return we(r)?s.key=r:We(r)&&Object.keys(r).forEach(l=>{wR.includes(l)?o[l]=r[l]:s[l]=r[l]}),we(i)?s.locale=i:We(i)&&(o=i),We(n)&&(o=n),[s.key||"",a,s,o]}function $I(e,t,r){const i=e;for(const n in r){const s=`${t}__${n}`;i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}Hie();/*!
  * vue-i18n v9.14.2
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const Jne="9.14.2";function Kne(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Xo().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Xo().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Xo().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Xo().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Xo().__INTLIFY_PROD_DEVTOOLS__=!1)}const SR=pne.__EXTEND_POINT__,No=Dv(SR);No(),No(),No(),No(),No(),No(),No(),No(),No();const xR=ms.__EXTEND_POINT__,Gi=Dv(xR),Yr={UNEXPECTED_RETURN_TYPE:xR,INVALID_ARGUMENT:Gi(),MUST_BE_CALL_SETUP_TOP:Gi(),NOT_INSTALLED:Gi(),NOT_AVAILABLE_IN_LEGACY_MODE:Gi(),REQUIRED_VALUE:Gi(),INVALID_VALUE:Gi(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Gi(),NOT_INSTALLED_WITH_PROVIDE:Gi(),UNEXPECTED_ERROR:Gi(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Gi(),BRIDGE_SUPPORT_VUE_2_ONLY:Gi(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Gi(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Gi(),__EXTEND_POINT__:Gi()};function ri(e,...t){return Rf(e,null,void 0)}const aS=Ll("__translateVNode"),lS=Ll("__datetimeParts"),cS=Ll("__numberParts"),ER=Ll("__setPluralRules"),TR=Ll("__injectWithOption"),uS=Ll("__dispose");function tm(e){if(!_t(e))return e;for(const t in e)if(ps(e,t))if(!t.includes("."))_t(e[t])&&tm(e[t]);else{const r=t.split("."),i=r.length-1;let n=e,s=!1;for(let o=0;o<i;o++){if(r[o]in n||(n[r[o]]=Rt()),!_t(n[r[o]])){s=!0;break}n=n[r[o]]}s||(n[r[i]]=e[t],delete e[t]),_t(n[r[i]])&&tm(n[r[i]])}return e}function Uv(e,t){const{messages:r,__i18n:i,messageResolver:n,flatJson:s}=t,o=We(r)?r:Qt(i)?Rt():{[e]:Rt()};if(Qt(i)&&i.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||Rt(),By(c,o[l])):By(c,o)}else we(a)&&By(JSON.parse(a),o)}),n==null&&s)for(const a in o)ps(o,a)&&tm(o[a]);return o}function AR(e){return e.type}function MR(e,t,r){let i=_t(t.messages)?t.messages:Rt();"__i18nGlobal"in r&&(i=Uv(e.locale.value,{messages:i,__i18n:r.__i18nGlobal}));const n=Object.keys(i);n.length&&n.forEach(s=>{e.mergeLocaleMessage(s,i[s])});{if(_t(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(o=>{e.mergeDateTimeFormat(o,t.datetimeFormats[o])})}if(_t(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(o=>{e.mergeNumberFormat(o,t.numberFormats[o])})}}}function CI(e){return Xe(uo,null,e,0)}const NI="__INTLIFY_META__",PI=()=>[],Zne=()=>!1;let LI=0;function kI(e){return(t,r,i,n)=>e(r,i,kr()||void 0,n)}const Xne=()=>{const e=kr();let t=null;return e&&(t=AR(e)[NI])?{[NI]:t}:null};function P3(e={},t){const{__root:r,__injectWithOption:i}=e,n=r===void 0,s=e.flatJson,o=s1?ne:Lf,a=!!e.translateExistCompatible;let l=ot(e.inheritLocale)?e.inheritLocale:!0;const c=o(r&&l?r.locale.value:we(e.locale)?e.locale:ef),f=o(r&&l?r.fallbackLocale.value:we(e.fallbackLocale)||Qt(e.fallbackLocale)||We(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:c.value),d=o(Uv(c.value,e)),p=o(We(e.datetimeFormats)?e.datetimeFormats:{[c.value]:{}}),y=o(We(e.numberFormats)?e.numberFormats:{[c.value]:{}});let g=r?r.missingWarn:ot(e.missingWarn)||xl(e.missingWarn)?e.missingWarn:!0,_=r?r.fallbackWarn:ot(e.fallbackWarn)||xl(e.fallbackWarn)?e.fallbackWarn:!0,w=r?r.fallbackRoot:ot(e.fallbackRoot)?e.fallbackRoot:!0,x=!!e.fallbackFormat,T=Bt(e.missing)?e.missing:null,S=Bt(e.missing)?kI(e.missing):null,v=Bt(e.postTranslation)?e.postTranslation:null,M=r?r.warnHtmlMessage:ot(e.warnHtmlMessage)?e.warnHtmlMessage:!0,O=!!e.escapeParameter;const P=r?r.modifiers:We(e.modifiers)?e.modifiers:{};let R=e.pluralRules||r&&r.pluralRules,k;k=(()=>{n&&SI(null);const H={version:Jne,locale:c.value,fallbackLocale:f.value,messages:d.value,modifiers:P,pluralRules:R,missing:S===null?void 0:S,missingWarn:g,fallbackWarn:_,fallbackFormat:x,unresolving:!0,postTranslation:v===null?void 0:v,warnHtmlMessage:M,escapeParameter:O,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};H.datetimeFormats=p.value,H.numberFormats=y.value,H.__datetimeFormatters=We(k)?k.__datetimeFormatters:void 0,H.__numberFormatters=We(k)?k.__numberFormatters:void 0;const X=Tne(H);return n&&SI(X),X})(),Xf(k,c.value,f.value);function V(){return[c.value,f.value,d.value,p.value,y.value]}const U=it({get:()=>c.value,set:H=>{c.value=H,k.locale=c.value}}),Y=it({get:()=>f.value,set:H=>{f.value=H,k.fallbackLocale=f.value,Xf(k,c.value,H)}}),se=it(()=>d.value),h=it(()=>p.value),m=it(()=>y.value);function E(){return Bt(v)?v:null}function N(H){v=H,k.postTranslation=H}function q(){return T}function K(H){H!==null&&(S=kI(H)),T=H,k.missing=S}const fe=(H,X,ve,Ie,mt,Ht)=>{V();let fr;try{__INTLIFY_PROD_DEVTOOLS__,n||(k.fallbackContext=r?Ene():void 0),fr=H(k)}finally{__INTLIFY_PROD_DEVTOOLS__,n||(k.fallbackContext=void 0)}if(ve!=="translate exists"&&Er(fr)&&fr===Fv||ve==="translate exists"&&!fr){const[Dr,re]=X();return r&&w?Ie(r):mt(Dr)}else{if(Ht(fr))return fr;throw ri(Yr.UNEXPECTED_RETURN_TYPE)}};function ae(...H){return fe(X=>Reflect.apply(AI,null,[X,...H]),()=>nS(...H),"translate",X=>Reflect.apply(X.t,X,[...H]),X=>X,X=>we(X))}function Ae(...H){const[X,ve,Ie]=H;if(Ie&&!_t(Ie))throw ri(Yr.INVALID_ARGUMENT);return ae(X,ve,oi({resolvedMessage:!0},Ie||{}))}function Fe(...H){return fe(X=>Reflect.apply(MI,null,[X,...H]),()=>sS(...H),"datetime format",X=>Reflect.apply(X.d,X,[...H]),()=>bI,X=>we(X))}function Ve(...H){return fe(X=>Reflect.apply(OI,null,[X,...H]),()=>oS(...H),"number format",X=>Reflect.apply(X.n,X,[...H]),()=>bI,X=>we(X))}function Oe(H){return H.map(X=>we(X)||Er(X)||ot(X)?CI(String(X)):X)}const rt={normalize:Oe,interpolate:H=>H,type:"vnode"};function pt(...H){return fe(X=>{let ve;const Ie=X;try{Ie.processor=rt,ve=Reflect.apply(AI,null,[Ie,...H])}finally{Ie.processor=null}return ve},()=>nS(...H),"translate",X=>X[aS](...H),X=>[CI(X)],X=>Qt(X))}function ft(...H){return fe(X=>Reflect.apply(OI,null,[X,...H]),()=>oS(...H),"number format",X=>X[cS](...H),PI,X=>we(X)||Qt(X))}function nt(...H){return fe(X=>Reflect.apply(MI,null,[X,...H]),()=>sS(...H),"datetime format",X=>X[lS](...H),PI,X=>we(X)||Qt(X))}function Dt(H){R=H,k.pluralRules=R}function z(H,X){return fe(()=>{if(!H)return!1;const ve=we(X)?X:c.value,Ie=le(ve),mt=k.messageResolver(Ie,H);return a?mt!=null:tf(mt)||jn(mt)||we(mt)},()=>[H],"translate exists",ve=>Reflect.apply(ve.te,ve,[H,X]),Zne,ve=>ot(ve))}function F(H){let X=null;const ve=uR(k,f.value,c.value);for(let Ie=0;Ie<ve.length;Ie++){const mt=d.value[ve[Ie]]||{},Ht=k.messageResolver(mt,H);if(Ht!=null){X=Ht;break}}return X}function J(H){const X=F(H);return X??(r?r.tm(H)||{}:{})}function le(H){return d.value[H]||{}}function ie(H,X){if(s){const ve={[H]:X};for(const Ie in ve)ps(ve,Ie)&&tm(ve[Ie]);X=ve[H]}d.value[H]=X,k.messages=d.value}function $(H,X){d.value[H]=d.value[H]||{};const ve={[H]:X};if(s)for(const Ie in ve)ps(ve,Ie)&&tm(ve[Ie]);X=ve[H],By(X,d.value[H]),k.messages=d.value}function j(H){return p.value[H]||{}}function I(H,X){p.value[H]=X,k.datetimeFormats=p.value,II(k,H,X)}function L(H,X){p.value[H]=oi(p.value[H]||{},X),k.datetimeFormats=p.value,II(k,H,X)}function B(H){return y.value[H]||{}}function Z(H,X){y.value[H]=X,k.numberFormats=y.value,$I(k,H,X)}function te(H,X){y.value[H]=oi(y.value[H]||{},X),k.numberFormats=y.value,$I(k,H,X)}LI++,r&&s1&&(ti(r.locale,H=>{l&&(c.value=H,k.locale=H,Xf(k,c.value,f.value))}),ti(r.fallbackLocale,H=>{l&&(f.value=H,k.fallbackLocale=H,Xf(k,c.value,f.value))}));const ee={id:LI,locale:U,fallbackLocale:Y,get inheritLocale(){return l},set inheritLocale(H){l=H,H&&r&&(c.value=r.locale.value,f.value=r.fallbackLocale.value,Xf(k,c.value,f.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:se,get modifiers(){return P},get pluralRules(){return R||{}},get isGlobal(){return n},get missingWarn(){return g},set missingWarn(H){g=H,k.missingWarn=g},get fallbackWarn(){return _},set fallbackWarn(H){_=H,k.fallbackWarn=_},get fallbackRoot(){return w},set fallbackRoot(H){w=H},get fallbackFormat(){return x},set fallbackFormat(H){x=H,k.fallbackFormat=x},get warnHtmlMessage(){return M},set warnHtmlMessage(H){M=H,k.warnHtmlMessage=H},get escapeParameter(){return O},set escapeParameter(H){O=H,k.escapeParameter=H},t:ae,getLocaleMessage:le,setLocaleMessage:ie,mergeLocaleMessage:$,getPostTranslationHandler:E,setPostTranslationHandler:N,getMissingHandler:q,setMissingHandler:K,[ER]:Dt};return ee.datetimeFormats=h,ee.numberFormats=m,ee.rt=Ae,ee.te=z,ee.tm=J,ee.d=Fe,ee.n=Ve,ee.getDateTimeFormat=j,ee.setDateTimeFormat=I,ee.mergeDateTimeFormat=L,ee.getNumberFormat=B,ee.setNumberFormat=Z,ee.mergeNumberFormat=te,ee[TR]=i,ee[aS]=pt,ee[lS]=nt,ee[cS]=ft,ee}function Qne(e){const t=we(e.locale)?e.locale:ef,r=we(e.fallbackLocale)||Qt(e.fallbackLocale)||We(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,i=Bt(e.missing)?e.missing:void 0,n=ot(e.silentTranslationWarn)||xl(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=ot(e.silentFallbackWarn)||xl(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,o=ot(e.fallbackRoot)?e.fallbackRoot:!0,a=!!e.formatFallbackMessages,l=We(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,f=Bt(e.postTranslation)?e.postTranslation:void 0,d=we(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,y=ot(e.sync)?e.sync:!0;let g=e.messages;if(We(e.sharedMessages)){const O=e.sharedMessages;g=Object.keys(O).reduce((R,k)=>{const G=R[k]||(R[k]={});return oi(G,O[k]),R},g||{})}const{__i18n:_,__root:w,__injectWithOption:x}=e,T=e.datetimeFormats,S=e.numberFormats,v=e.flatJson,M=e.translateExistCompatible;return{locale:t,fallbackLocale:r,messages:g,flatJson:v,datetimeFormats:T,numberFormats:S,missing:i,missingWarn:n,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:f,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:y,translateExistCompatible:M,__i18n:_,__root:w,__injectWithOption:x}}function hS(e={},t){{const r=P3(Qne(e)),{__extender:i}=e,n={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return ot(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=ot(s)?!s:s},get silentFallbackWarn(){return ot(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=ot(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,l]=s,c={};let f=null,d=null;if(!we(o))throw ri(Yr.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Qt(a)?f=a:We(a)&&(d=a),Qt(l)?f=l:We(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let f=null,d=null;if(!we(o))throw ri(Yr.INVALID_ARGUMENT);const p=o;return we(a)?c.locale=a:Er(a)?c.plural=a:Qt(a)?f=a:We(a)&&(d=a),we(l)?c.locale=l:Qt(l)?f=l:We(l)&&(d=l),Reflect.apply(r.t,r,[p,f||d||{},c])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return n.__extender=i,n}}const L3={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function ese({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((i,n)=>[...i,...n.type===Lt?n.children:[n]],[]):t.reduce((r,i)=>{const n=e[i];return n&&(r[i]=n()),r},Rt())}function IR(e){return Lt}const tse=at({name:"i18n-t",props:oi({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Er(e)||!isNaN(e)}},L3),setup(e,t){const{slots:r,attrs:i}=t,n=e.i18n||lr({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(d=>d!=="_"),o=Rt();e.locale&&(o.locale=e.locale),e.plural!==void 0&&(o.plural=we(e.plural)?+e.plural:e.plural);const a=ese(t,s),l=n[aS](e.keypath,a,o),c=oi(Rt(),i),f=we(e.tag)||_t(e.tag)?e.tag:IR();return zn(f,c,l)}}}),RI=tse;function rse(e){return Qt(e)&&!we(e[0])}function OR(e,t,r,i){const{slots:n,attrs:s}=t;return()=>{const o={part:!0};let a=Rt();e.locale&&(o.locale=e.locale),we(e.format)?o.key=e.format:_t(e.format)&&(we(e.format.key)&&(o.key=e.format.key),a=Object.keys(e.format).reduce((p,y)=>r.includes(y)?oi(Rt(),p,{[y]:e.format[y]}):p,Rt()));const l=i(e.value,o,a);let c=[o.key];Qt(l)?c=l.map((p,y)=>{const g=n[p.type],_=g?g({[p.type]:p.value,index:y,parts:l}):[p.value];return rse(_)&&(_[0].key=`${p.type}-${y}`),_}):we(l)&&(c=[l]);const f=oi(Rt(),s),d=we(e.tag)||_t(e.tag)?e.tag:IR();return zn(d,f,c)}}const ise=at({name:"i18n-n",props:oi({value:{type:Number,required:!0},format:{type:[String,Object]}},L3),setup(e,t){const r=e.i18n||lr({useScope:e.scope,__useComponent:!0});return OR(e,t,wR,(...i)=>r[cS](...i))}}),DI=ise,nse=at({name:"i18n-d",props:oi({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},L3),setup(e,t){const r=e.i18n||lr({useScope:e.scope,__useComponent:!0});return OR(e,t,_R,(...i)=>r[lS](...i))}}),FI=nse;function sse(e,t){const r=e;if(e.mode==="composition")return r.__getInstance(t)||e.global;{const i=r.__getInstance(t);return i!=null?i.__composer:e.global.__composer}}function ose(e){const t=o=>{const{instance:a,modifiers:l,value:c}=o;if(!a||!a.$)throw ri(Yr.UNEXPECTED_ERROR);const f=sse(e,a.$),d=UI(c);return[Reflect.apply(f.t,f,[...jI(d)]),f]};return{created:(o,a)=>{const[l,c]=t(a);s1&&e.global===c&&(o.__i18nWatcher=ti(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=l},unmounted:o=>{s1&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,c=UI(a);o.textContent=Reflect.apply(l.t,l,[...jI(c)])}},getSSRProps:o=>{const[a]=t(o);return{textContent:a}}}}function UI(e){if(we(e))return{path:e};if(We(e)){if(!("path"in e))throw ri(Yr.REQUIRED_VALUE,"path");return e}else throw ri(Yr.INVALID_VALUE)}function jI(e){const{path:t,locale:r,args:i,choice:n,plural:s}=e,o={},a=i||{};return we(r)&&(o.locale=r),Er(n)&&(o.plural=n),Er(s)&&(o.plural=s),[t,a,o]}function ase(e,t,...r){const i=We(r[0])?r[0]:{},n=!!i.useI18nComponentName;(ot(i.globalInstall)?i.globalInstall:!0)&&([n?"i18n":RI.name,"I18nT"].forEach(o=>e.component(o,RI)),[DI.name,"I18nN"].forEach(o=>e.component(o,DI)),[FI.name,"I18nD"].forEach(o=>e.component(o,FI))),e.directive("t",ose(t))}function lse(e,t,r){return{beforeCreate(){const i=kr();if(!i)throw ri(Yr.UNEXPECTED_ERROR);const n=this.$options;if(n.i18n){const s=n.i18n;if(n.__i18n&&(s.__i18n=n.__i18n),s.__root=t,this===this.$root)this.$i18n=GI(e,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=hS(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(n.__i18n)if(this===this.$root)this.$i18n=GI(e,n);else{this.$i18n=hS({__i18n:n.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;n.__i18nGlobal&&MR(t,n,n),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=kr();if(!i)throw ri(Yr.UNEXPECTED_ERROR);const n=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,n.__disposer&&(n.__disposer(),delete n.__disposer,delete n.__extender),r.__deleteInstance(i),delete this.$i18n}}}function GI(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ER](t.pluralizationRules||e.pluralizationRules);const r=Uv(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(r).forEach(i=>e.mergeLocaleMessage(i,r[i])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i])),t.numberFormats&&Object.keys(t.numberFormats).forEach(i=>e.mergeNumberFormat(i,t.numberFormats[i])),e}const cse=Ll("global-vue-i18n");function use(e={},t){const r=__VUE_I18N_LEGACY_API__&&ot(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,i=ot(e.globalInjection)?e.globalInjection:!0,n=__VUE_I18N_LEGACY_API__&&r?!!e.allowComposition:!0,s=new Map,[o,a]=hse(e,r),l=Ll("");function c(p){return s.get(p)||null}function f(p,y){s.set(p,y)}function d(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return n},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,p),We(g[0])){const x=g[0];p.__composerExtend=x.__composerExtend,p.__vueI18nExtend=x.__vueI18nExtend}let _=null;!r&&i&&(_=_se(y,p.global)),__VUE_I18N_FULL_INSTALL__&&ase(y,p,...g),__VUE_I18N_LEGACY_API__&&r&&y.mixin(lse(a,a.__composer,p));const w=y.unmount;y.unmount=()=>{_&&_(),p.dispose(),w()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:f,__deleteInstance:d};return p}}function lr(e={}){const t=kr();if(t==null)throw ri(Yr.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw ri(Yr.NOT_INSTALLED);const r=fse(t),i=pse(r),n=AR(t),s=dse(e,n);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!e.__useComponent){if(!r.allowComposition)throw ri(Yr.NOT_AVAILABLE_IN_LEGACY_MODE);return vse(t,s,i,e)}if(s==="global")return MR(i,e,n),i;if(s==="parent"){let l=mse(r,t,e.__useComponent);return l==null&&(l=i),l}const o=r;let a=o.__getInstance(t);if(a==null){const l=oi({},e);"__i18n"in n&&(l.__i18n=n.__i18n),i&&(l.__root=i),a=P3(l),o.__composerExtend&&(a[uS]=o.__composerExtend(a)),gse(o,t,a),o.__setInstance(t,a)}return a}function hse(e,t,r){const i=$m();{const n=__VUE_I18N_LEGACY_API__&&t?i.run(()=>hS(e)):i.run(()=>P3(e));if(n==null)throw ri(Yr.UNEXPECTED_ERROR);return[i,n]}}function fse(e){{const t=Hr(e.isCE?cse:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw ri(e.isCE?Yr.NOT_INSTALLED_WITH_PROVIDE:Yr.UNEXPECTED_ERROR);return t}}function dse(e,t){return Rv(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function pse(e){return e.mode==="composition"?e.global:e.global.__composer}function mse(e,t,r=!1){let i=null;const n=t.root;let s=yse(t,r);for(;s!=null;){const o=e;if(e.mode==="composition")i=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(i=a.__composer,r&&i&&!i[TR]&&(i=null))}if(i!=null||n===s)break;s=s.parent}return i}function yse(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function gse(e,t,r){ai(()=>{},t),wu(()=>{const i=r;e.__deleteInstance(t);const n=i[uS];n&&(n(),delete i[uS])},t)}function vse(e,t,r,i={}){const n=t==="local",s=Lf(null);if(n&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw ri(Yr.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=ot(i.inheritLocale)?i.inheritLocale:!we(i.locale),a=ne(!n||o?r.locale.value:we(i.locale)?i.locale:ef),l=ne(!n||o?r.fallbackLocale.value:we(i.fallbackLocale)||Qt(i.fallbackLocale)||We(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:a.value),c=ne(Uv(a.value,i)),f=ne(We(i.datetimeFormats)?i.datetimeFormats:{[a.value]:{}}),d=ne(We(i.numberFormats)?i.numberFormats:{[a.value]:{}}),p=n?r.missingWarn:ot(i.missingWarn)||xl(i.missingWarn)?i.missingWarn:!0,y=n?r.fallbackWarn:ot(i.fallbackWarn)||xl(i.fallbackWarn)?i.fallbackWarn:!0,g=n?r.fallbackRoot:ot(i.fallbackRoot)?i.fallbackRoot:!0,_=!!i.fallbackFormat,w=Bt(i.missing)?i.missing:null,x=Bt(i.postTranslation)?i.postTranslation:null,T=n?r.warnHtmlMessage:ot(i.warnHtmlMessage)?i.warnHtmlMessage:!0,S=!!i.escapeParameter,v=n?r.modifiers:We(i.modifiers)?i.modifiers:{},M=i.pluralRules||n&&r.pluralRules;function O(){return[a.value,l.value,c.value,f.value,d.value]}const P=it({get:()=>s.value?s.value.locale.value:a.value,set:F=>{s.value&&(s.value.locale.value=F),a.value=F}}),R=it({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:F=>{s.value&&(s.value.fallbackLocale.value=F),l.value=F}}),k=it(()=>s.value?s.value.messages.value:c.value),G=it(()=>f.value),V=it(()=>d.value);function U(){return s.value?s.value.getPostTranslationHandler():x}function Y(F){s.value&&s.value.setPostTranslationHandler(F)}function se(){return s.value?s.value.getMissingHandler():w}function h(F){s.value&&s.value.setMissingHandler(F)}function m(F){return O(),F()}function E(...F){return s.value?m(()=>Reflect.apply(s.value.t,null,[...F])):m(()=>"")}function N(...F){return s.value?Reflect.apply(s.value.rt,null,[...F]):""}function q(...F){return s.value?m(()=>Reflect.apply(s.value.d,null,[...F])):m(()=>"")}function K(...F){return s.value?m(()=>Reflect.apply(s.value.n,null,[...F])):m(()=>"")}function fe(F){return s.value?s.value.tm(F):{}}function ae(F,J){return s.value?s.value.te(F,J):!1}function Ae(F){return s.value?s.value.getLocaleMessage(F):{}}function Fe(F,J){s.value&&(s.value.setLocaleMessage(F,J),c.value[F]=J)}function Ve(F,J){s.value&&s.value.mergeLocaleMessage(F,J)}function Oe(F){return s.value?s.value.getDateTimeFormat(F):{}}function vt(F,J){s.value&&(s.value.setDateTimeFormat(F,J),f.value[F]=J)}function rt(F,J){s.value&&s.value.mergeDateTimeFormat(F,J)}function pt(F){return s.value?s.value.getNumberFormat(F):{}}function ft(F,J){s.value&&(s.value.setNumberFormat(F,J),d.value[F]=J)}function nt(F,J){s.value&&s.value.mergeNumberFormat(F,J)}const Dt={get id(){return s.value?s.value.id:-1},locale:P,fallbackLocale:R,messages:k,datetimeFormats:G,numberFormats:V,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(F){s.value&&(s.value.inheritLocale=F)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:v},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(F){s.value&&(s.value.missingWarn=F)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(F){s.value&&(s.value.fallbackRoot=F)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(F){s.value&&(s.value.fallbackFormat=F)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:T},set warnHtmlMessage(F){s.value&&(s.value.warnHtmlMessage=F)},get escapeParameter(){return s.value?s.value.escapeParameter:S},set escapeParameter(F){s.value&&(s.value.escapeParameter=F)},t:E,getPostTranslationHandler:U,setPostTranslationHandler:Y,getMissingHandler:se,setMissingHandler:h,rt:N,d:q,n:K,tm:fe,te:ae,getLocaleMessage:Ae,setLocaleMessage:Fe,mergeLocaleMessage:Ve,getDateTimeFormat:Oe,setDateTimeFormat:vt,mergeDateTimeFormat:rt,getNumberFormat:pt,setNumberFormat:ft,mergeNumberFormat:nt};function z(F){F.locale.value=a.value,F.fallbackLocale.value=l.value,Object.keys(c.value).forEach(J=>{F.mergeLocaleMessage(J,c.value[J])}),Object.keys(f.value).forEach(J=>{F.mergeDateTimeFormat(J,f.value[J])}),Object.keys(d.value).forEach(J=>{F.mergeNumberFormat(J,d.value[J])}),F.escapeParameter=S,F.fallbackFormat=_,F.fallbackRoot=g,F.fallbackWarn=y,F.missingWarn=p,F.warnHtmlMessage=T}return Lm(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw ri(Yr.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const F=s.value=e.proxy.$i18n.__composer;t==="global"?(a.value=F.locale.value,l.value=F.fallbackLocale.value,c.value=F.messages.value,f.value=F.datetimeFormats.value,d.value=F.numberFormats.value):n&&z(F)}),Dt}const bse=["locale","fallbackLocale","availableLocales"],VI=["t","rt","d","n","tm","te"];function _se(e,t){const r=Object.create(null);return bse.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s)throw ri(Yr.UNEXPECTED_ERROR);const o=gt(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,n,o)}),e.config.globalProperties.$i18n=r,VI.forEach(n=>{const s=Object.getOwnPropertyDescriptor(t,n);if(!s||!s.value)throw ri(Yr.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,s)}),()=>{delete e.config.globalProperties.$i18n,VI.forEach(n=>{delete e.config.globalProperties[`$${n}`]})}}Kne();__INTLIFY_JIT_COMPILATION__?wI(zne):wI(Bne);_ne(tne);wne(uR);if(__INTLIFY_PROD_DEVTOOLS__){const e=Xo();e.__INTLIFY__=!0,une(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const wse={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"current","map.export":"export map","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/","select.items":" Use Arrow-up/down to select a value. Use Alt+Shift+Arrow-up/down to toggle the select menu"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"français","lang-native":"Français","ramp.about.open":"Ouvrir À propos de PCAR","ramp.about":"À propos de PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous déplacer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un élément de la liste est sélectionné, vous pouvez appuyer sur « Espace » ou « Entrée » pour cliquer sur l'élément. Vous pouvez également vous déplacer au sein de l'élément de la liste au moyen de la touche « Tab ».","keyboardInstructions.map":"Lorsque la carte est sélectionnée, utilisez le pavé curseur pour vous déplacer et appuyez sur « Entrée »  pour sélectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer à l'échelle métrique","map.toggleScaleToImperial":"Passer à l'échelle impériale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Français","map.language.curr":"actuel","map.export":"exporter la carte","notifications.open":"Ouvrir la fenêtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"Développer","notifications.controls.collapse":"Réduire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entrée ou sur la barre d'espacement pour accéder au panneau","panels.controls.close":"Fermer","panels.controls.pin":"Épingler","panels.controls.unpin":"Désépingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"Réduire","panels.controls.expand":"Développer","panels.controls.collapse":"Réduire","panels.controls.moveRight":"Aller à droite","panels.controls.moveLeft":"Aller à gauche","panels.controls.items":"Utilisez les touches fléchées pour naviguer entre les éléments","panels.alert.open":"Fenêtre {name} ouverte","panels.alert.close":"Fenêtre {name} fermée","panels.alert.minimize":"Fenêtre {name} réduite","layer.error":"Échec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que prévu","layer.longdraw":"{id} prend plus de temps que prévu à extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont été désactivés pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement désactivé.","layer.noexportmap":"La tentative d’ajouter {name} comme couche d’imagerie cartographique a échouée car elle n’a pu être activé pour ce service","caption.attributionDefaultText":"Propulsé par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home","select.items":"Utilisez Flèche haut/bas pour sélectionner une valeur. Utilisez Alt+Shift+Flèche haut/bas pour basculer le menu de sélection"}},BI="en",Sse={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function xse(){return use({legacy:!1,locale:document.documentElement.getAttribute("lang")||BI,fallbackLocale:BI,globalInjection:!0,messages:wse,numberFormats:Sse})}var e_={exports:{}};/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/var zI;function Ese(){return zI||(zI=1,function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},r=e.exports,i=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,f={};l<c;l++)if(o=a[l],o&&o[1]in t){for(l=0;l<o.length;l++)f[a[0][l]]=o[l];return f}return!1}(),n={change:i.fullscreenchange,error:i.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||t.documentElement;var f=o[i.requestFullscreen]();f instanceof Promise&&f.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=t[i.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=n[o];l&&t.addEventListener(l,a,!1)},off:function(o,a){var l=n[o];l&&t.removeEventListener(l,a,!1)},raw:i};if(!i){r?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!t[i.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[i.fullscreenEnabled]}}}),r?e.exports=s:window.screenfull=s})()}(e_)),e_.exports}var Tse=Ese();const Fs=Em(Tse);var Ld={exports:{}};Ld.exports;var qI;function Ase(){return qI||(qI=1,function(e,t){var r=200,i="__lodash_hash_undefined__",n=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object GeneratorFunction]",p="[object Map]",y="[object Number]",g="[object Object]",_="[object Promise]",w="[object RegExp]",x="[object Set]",T="[object String]",S="[object Symbol]",v="[object WeakMap]",M="[object ArrayBuffer]",O="[object DataView]",P="[object Float32Array]",R="[object Float64Array]",k="[object Int8Array]",G="[object Int16Array]",V="[object Int32Array]",U="[object Uint8Array]",Y="[object Uint8ClampedArray]",se="[object Uint16Array]",h="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,E=/\w*$/,N=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,K={};K[s]=K[o]=K[M]=K[O]=K[a]=K[l]=K[P]=K[R]=K[k]=K[G]=K[V]=K[p]=K[y]=K[g]=K[w]=K[x]=K[T]=K[S]=K[U]=K[Y]=K[se]=K[h]=!0,K[c]=K[f]=K[v]=!1;var fe=typeof d0=="object"&&d0&&d0.Object===Object&&d0,ae=typeof self=="object"&&self&&self.Object===Object&&self,Ae=fe||ae||Function("return this")(),Fe=t&&!t.nodeType&&t,Ve=Fe&&!0&&e&&!e.nodeType&&e,Oe=Ve&&Ve.exports===Fe;function vt(D,Q){return D.set(Q[0],Q[1]),D}function rt(D,Q){return D.add(Q),D}function pt(D,Q){for(var ce=-1,Pe=D?D.length:0;++ce<Pe&&Q(D[ce],ce,D)!==!1;);return D}function ft(D,Q){for(var ce=-1,Pe=Q.length,ii=D.length;++ce<Pe;)D[ii+ce]=Q[ce];return D}function nt(D,Q,ce,Pe){for(var ii=-1,Ui=D?D.length:0;++ii<Ui;)ce=Q(ce,D[ii],ii,D);return ce}function Dt(D,Q){for(var ce=-1,Pe=Array(D);++ce<D;)Pe[ce]=Q(ce);return Pe}function z(D,Q){return D?.[Q]}function F(D){var Q=!1;if(D!=null&&typeof D.toString!="function")try{Q=!!(D+"")}catch{}return Q}function J(D){var Q=-1,ce=Array(D.size);return D.forEach(function(Pe,ii){ce[++Q]=[ii,Pe]}),ce}function le(D,Q){return function(ce){return D(Q(ce))}}function ie(D){var Q=-1,ce=Array(D.size);return D.forEach(function(Pe){ce[++Q]=Pe}),ce}var $=Array.prototype,j=Function.prototype,I=Object.prototype,L=Ae["__core-js_shared__"],B=function(){var D=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),Z=j.toString,te=I.hasOwnProperty,ee=I.toString,H=RegExp("^"+Z.call(te).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),X=Oe?Ae.Buffer:void 0,ve=Ae.Symbol,Ie=Ae.Uint8Array,mt=le(Object.getPrototypeOf,Object),Ht=Object.create,fr=I.propertyIsEnumerable,Dr=$.splice,re=Object.getOwnPropertySymbols,Me=X?X.isBuffer:void 0,$e=le(Object.keys,Object),Ye=Iu(Ae,"DataView"),Qe=Iu(Ae,"Map"),Fr=Iu(Ae,"Promise"),li=Iu(Ae,"Set"),Ls=Iu(Ae,"WeakMap"),ya=Iu(Object,"create"),Ao=Vl(Ye),Df=Vl(Qe),Eu=Vl(Fr),ga=Vl(li),Xv=Vl(Ls),Tu=ve?ve.prototype:void 0,Ul=Tu?Tu.valueOf:void 0;function jl(D){var Q=-1,ce=D?D.length:0;for(this.clear();++Q<ce;){var Pe=D[Q];this.set(Pe[0],Pe[1])}}function n7(){this.__data__=ya?ya(null):{}}function s7(D){return this.has(D)&&delete this.__data__[D]}function o7(D){var Q=this.__data__;if(ya){var ce=Q[D];return ce===i?void 0:ce}return te.call(Q,D)?Q[D]:void 0}function a7(D){var Q=this.__data__;return ya?Q[D]!==void 0:te.call(Q,D)}function l7(D,Q){var ce=this.__data__;return ce[D]=ya&&Q===void 0?i:Q,this}jl.prototype.clear=n7,jl.prototype.delete=s7,jl.prototype.get=o7,jl.prototype.has=a7,jl.prototype.set=l7;function Mo(D){var Q=-1,ce=D?D.length:0;for(this.clear();++Q<ce;){var Pe=D[Q];this.set(Pe[0],Pe[1])}}function c7(){this.__data__=[]}function u7(D){var Q=this.__data__,ce=Hm(Q,D);if(ce<0)return!1;var Pe=Q.length-1;return ce==Pe?Q.pop():Dr.call(Q,ce,1),!0}function h7(D){var Q=this.__data__,ce=Hm(Q,D);return ce<0?void 0:Q[ce][1]}function f7(D){return Hm(this.__data__,D)>-1}function d7(D,Q){var ce=this.__data__,Pe=Hm(ce,D);return Pe<0?ce.push([D,Q]):ce[Pe][1]=Q,this}Mo.prototype.clear=c7,Mo.prototype.delete=u7,Mo.prototype.get=h7,Mo.prototype.has=f7,Mo.prototype.set=d7;function Au(D){var Q=-1,ce=D?D.length:0;for(this.clear();++Q<ce;){var Pe=D[Q];this.set(Pe[0],Pe[1])}}function p7(){this.__data__={hash:new jl,map:new(Qe||Mo),string:new jl}}function m7(D){return Ym(this,D).delete(D)}function y7(D){return Ym(this,D).get(D)}function g7(D){return Ym(this,D).has(D)}function v7(D,Q){return Ym(this,D).set(D,Q),this}Au.prototype.clear=p7,Au.prototype.delete=m7,Au.prototype.get=y7,Au.prototype.has=g7,Au.prototype.set=v7;function Mu(D){this.__data__=new Mo(D)}function b7(){this.__data__=new Mo}function _7(D){return this.__data__.delete(D)}function w7(D){return this.__data__.get(D)}function S7(D){return this.__data__.has(D)}function x7(D,Q){var ce=this.__data__;if(ce instanceof Mo){var Pe=ce.__data__;if(!Qe||Pe.length<r-1)return Pe.push([D,Q]),this;ce=this.__data__=new Au(Pe)}return ce.set(D,Q),this}Mu.prototype.clear=b7,Mu.prototype.delete=_7,Mu.prototype.get=w7,Mu.prototype.has=S7,Mu.prototype.set=x7;function E7(D,Q){var ce=tb(D)||Y7(D)?Dt(D.length,String):[],Pe=ce.length,ii=!!Pe;for(var Ui in D)te.call(D,Ui)&&!(ii&&(Ui=="length"||z7(Ui,Pe)))&&ce.push(Ui);return ce}function ST(D,Q,ce){var Pe=D[Q];(!(te.call(D,Q)&&AT(Pe,ce))||ce===void 0&&!(Q in D))&&(D[Q]=ce)}function Hm(D,Q){for(var ce=D.length;ce--;)if(AT(D[ce][0],Q))return ce;return-1}function T7(D,Q){return D&&xT(Q,rb(Q),D)}function Qv(D,Q,ce,Pe,ii,Ui,Io){var ji;if(Pe&&(ji=Ui?Pe(D,ii,Ui,Io):Pe(D)),ji!==void 0)return ji;if(!Jm(D))return D;var OT=tb(D);if(OT){if(ji=G7(D),!Q)return F7(D,ji)}else{var Ou=Gl(D),$T=Ou==f||Ou==d;if(K7(D))return C7(D,Q);if(Ou==g||Ou==s||$T&&!Ui){if(F(D))return Ui?D:{};if(ji=V7($T?{}:D),!Q)return U7(D,T7(ji,D))}else{if(!K[Ou])return Ui?D:{};ji=B7(D,Ou,Qv,Q)}}Io||(Io=new Mu);var CT=Io.get(D);if(CT)return CT;if(Io.set(D,ji),!OT)var NT=ce?j7(D):rb(D);return pt(NT||D,function(ib,Km){NT&&(Km=ib,ib=D[Km]),ST(ji,Km,Qv(ib,Q,ce,Pe,Km,D,Io))}),ji}function A7(D){return Jm(D)?Ht(D):{}}function M7(D,Q,ce){var Pe=Q(D);return tb(D)?Pe:ft(Pe,ce(D))}function I7(D){return ee.call(D)}function O7(D){if(!Jm(D)||W7(D))return!1;var Q=IT(D)||F(D)?H:N;return Q.test(Vl(D))}function $7(D){if(!TT(D))return $e(D);var Q=[];for(var ce in Object(D))te.call(D,ce)&&ce!="constructor"&&Q.push(ce);return Q}function C7(D,Q){if(Q)return D.slice();var ce=new D.constructor(D.length);return D.copy(ce),ce}function eb(D){var Q=new D.constructor(D.byteLength);return new Ie(Q).set(new Ie(D)),Q}function N7(D,Q){var ce=Q?eb(D.buffer):D.buffer;return new D.constructor(ce,D.byteOffset,D.byteLength)}function P7(D,Q,ce){var Pe=Q?ce(J(D),!0):J(D);return nt(Pe,vt,new D.constructor)}function L7(D){var Q=new D.constructor(D.source,E.exec(D));return Q.lastIndex=D.lastIndex,Q}function k7(D,Q,ce){var Pe=Q?ce(ie(D),!0):ie(D);return nt(Pe,rt,new D.constructor)}function R7(D){return Ul?Object(Ul.call(D)):{}}function D7(D,Q){var ce=Q?eb(D.buffer):D.buffer;return new D.constructor(ce,D.byteOffset,D.length)}function F7(D,Q){var ce=-1,Pe=D.length;for(Q||(Q=Array(Pe));++ce<Pe;)Q[ce]=D[ce];return Q}function xT(D,Q,ce,Pe){ce||(ce={});for(var ii=-1,Ui=Q.length;++ii<Ui;){var Io=Q[ii],ji=void 0;ST(ce,Io,ji===void 0?D[Io]:ji)}return ce}function U7(D,Q){return xT(D,ET(D),Q)}function j7(D){return M7(D,rb,ET)}function Ym(D,Q){var ce=D.__data__;return q7(Q)?ce[typeof Q=="string"?"string":"hash"]:ce.map}function Iu(D,Q){var ce=z(D,Q);return O7(ce)?ce:void 0}var ET=re?le(re,Object):Q7,Gl=I7;(Ye&&Gl(new Ye(new ArrayBuffer(1)))!=O||Qe&&Gl(new Qe)!=p||Fr&&Gl(Fr.resolve())!=_||li&&Gl(new li)!=x||Ls&&Gl(new Ls)!=v)&&(Gl=function(D){var Q=ee.call(D),ce=Q==g?D.constructor:void 0,Pe=ce?Vl(ce):void 0;if(Pe)switch(Pe){case Ao:return O;case Df:return p;case Eu:return _;case ga:return x;case Xv:return v}return Q});function G7(D){var Q=D.length,ce=D.constructor(Q);return Q&&typeof D[0]=="string"&&te.call(D,"index")&&(ce.index=D.index,ce.input=D.input),ce}function V7(D){return typeof D.constructor=="function"&&!TT(D)?A7(mt(D)):{}}function B7(D,Q,ce,Pe){var ii=D.constructor;switch(Q){case M:return eb(D);case a:case l:return new ii(+D);case O:return N7(D,Pe);case P:case R:case k:case G:case V:case U:case Y:case se:case h:return D7(D,Pe);case p:return P7(D,Pe,ce);case y:case T:return new ii(D);case w:return L7(D);case x:return k7(D,Pe,ce);case S:return R7(D)}}function z7(D,Q){return Q=Q??n,!!Q&&(typeof D=="number"||q.test(D))&&D>-1&&D%1==0&&D<Q}function q7(D){var Q=typeof D;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?D!=="__proto__":D===null}function W7(D){return!!B&&B in D}function TT(D){var Q=D&&D.constructor,ce=typeof Q=="function"&&Q.prototype||I;return D===ce}function Vl(D){if(D!=null){try{return Z.call(D)}catch{}try{return D+""}catch{}}return""}function H7(D){return Qv(D,!0,!0)}function AT(D,Q){return D===Q||D!==D&&Q!==Q}function Y7(D){return J7(D)&&te.call(D,"callee")&&(!fr.call(D,"callee")||ee.call(D)==s)}var tb=Array.isArray;function MT(D){return D!=null&&Z7(D.length)&&!IT(D)}function J7(D){return X7(D)&&MT(D)}var K7=Me||eD;function IT(D){var Q=Jm(D)?ee.call(D):"";return Q==f||Q==d}function Z7(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=n}function Jm(D){var Q=typeof D;return!!D&&(Q=="object"||Q=="function")}function X7(D){return!!D&&typeof D=="object"}function rb(D){return MT(D)?E7(D):$7(D)}function Q7(){return[]}function eD(){return!1}e.exports=H7}(Ld,Ld.exports)),Ld.exports}var Mse=Ase();const WI=Em(Mse),a1=hr("maptip",()=>{const e=ne(void 0),t=ne(void 0),r=ne("");function i(o){e.value=o}function n(o){t.value=o}function s(o){r.value=o}return{maptipInstance:e,maptipPoint:t,content:r,setMaptipInstance:i,setMaptipPoint:n,setMaptipContent:s}}),Ise=at({__name:"esri-map",setup(e){const t=a1(),r=Hr("iApi"),i=it(()=>t.maptipPoint),n=it(()=>t.maptipInstance),s=it(()=>t.content),o=Jr([]);o.push(ti(i,()=>{if(i.value){let l,c;const f=r.geo.map.getPixelWidth()/2,d=0,p=r.geo.map.mapPointToScreenPoint(i.value);l=p.screenX-f,c=d-p.screenY,n.value.setProps({offset:[l,c]}),s.value&&s.value!==""&&n.value.show()}else n.value.hide()})),o.push(ti(s,l=>{l&&l!==""&&i?(n.value.setContent(l),n.value.show()):n.value.hide()})),Ns(()=>{o.forEach(l=>l())});const a=()=>{r.geo.map.setMouseFocus()};return(l,c)=>{const f=Nt("tippy");return Ct((pe(),xe("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:a,onKeydown:c[0]||(c[0]=o3(Um(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[f,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var $R={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},k3={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Ose=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],l1={CSS:{},springs:{}};function no(e,t,r){return Math.min(Math.max(e,t),r)}function tp(e,t){return e.indexOf(t)>-1}function t_(e,t){return e.apply(null,t)}var De={arr:function(e){return Array.isArray(e)},obj:function(e){return tp(Object.prototype.toString.call(e),"Object")},pth:function(e){return De.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||De.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return De.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return De.hex(e)||De.rgb(e)||De.hsl(e)},key:function(e){return!$R.hasOwnProperty(e)&&!k3.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function CR(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function NR(e,t){var r=CR(e),i=no(De.und(r[0])?1:r[0],.1,100),n=no(De.und(r[1])?100:r[1],.1,100),s=no(De.und(r[2])?10:r[2],.1,100),o=no(De.und(r[3])?0:r[3],.1,100),a=Math.sqrt(n/i),l=s/(2*Math.sqrt(n*i)),c=l<1?a*Math.sqrt(1-l*l):0,f=1,d=l<1?(l*a+-o)/c:-o+a;function p(g){var _=t?t*g/1e3:g;return l<1?_=Math.exp(-_*l*a)*(f*Math.cos(c*_)+d*Math.sin(c*_)):_=(f+d*_)*Math.exp(-_*a),g===0||g===1?g:1-_}function y(){var g=l1.springs[e];if(g)return g;for(var _=1/6,w=0,x=0;;)if(w+=_,p(w)===1){if(x++,x>=16)break}else x=0;var T=w*_*1e3;return l1.springs[e]=T,T}return t?p:y}function $se(e){return e===void 0&&(e=10),function(t){return Math.ceil(no(t,1e-6,1)*e)*(1/e)}}var Cse=function(){var e=11,t=1/(e-1);function r(f,d){return 1-3*d+3*f}function i(f,d){return 3*d-6*f}function n(f){return 3*f}function s(f,d,p){return((r(d,p)*f+i(d,p))*f+n(d))*f}function o(f,d,p){return 3*r(d,p)*f*f+2*i(d,p)*f+n(d)}function a(f,d,p,y,g){var _,w,x=0;do w=d+(p-d)/2,_=s(w,y,g)-f,_>0?p=w:d=w;while(Math.abs(_)>1e-7&&++x<10);return w}function l(f,d,p,y){for(var g=0;g<4;++g){var _=o(d,p,y);if(_===0)return d;var w=s(d,p,y)-f;d-=w/_}return d}function c(f,d,p,y){if(!(0<=f&&f<=1&&0<=p&&p<=1))return;var g=new Float32Array(e);if(f!==d||p!==y)for(var _=0;_<e;++_)g[_]=s(_*t,f,p);function w(x){for(var T=0,S=1,v=e-1;S!==v&&g[S]<=x;++S)T+=t;--S;var M=(x-g[S])/(g[S+1]-g[S]),O=T+M*t,P=o(O,f,p);return P>=.001?l(x,O,f,p):P===0?O:a(x,T,T+t,f,p)}return function(x){return f===d&&p===y||x===0||x===1?x:s(w(x),d,y)}}return c}(),PR=function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var n,s=4;i<((n=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((n*3-2)/22-i,2)}},Elastic:function(i,n){i===void 0&&(i=1),n===void 0&&(n=.5);var s=no(i,1,10),o=no(n,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(i,n){t[i]=function(){return function(s){return Math.pow(s,n+2)}}}),Object.keys(t).forEach(function(i){var n=t[i];e["easeIn"+i]=n,e["easeOut"+i]=function(s,o){return function(a){return 1-n(s,o)(1-a)}},e["easeInOut"+i]=function(s,o){return function(a){return a<.5?n(s,o)(a*2)/2:1-n(s,o)(a*-2+2)/2}},e["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-n(s,o)(1-a*2))/2:(n(s,o)(a*2-1)+1)/2}}}),e}();function R3(e,t){if(De.fnc(e))return e;var r=e.split("(")[0],i=PR[r],n=CR(e);switch(r){case"spring":return NR(e,t);case"cubicBezier":return t_(Cse,n);case"steps":return t_($se,n);default:return t_(i,n)}}function LR(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function jv(e,t){for(var r=e.length,i=arguments.length>=2?arguments[1]:void 0,n=[],s=0;s<r;s++)if(s in e){var o=e[s];t.call(i,o,s,e)&&n.push(o)}return n}function Gv(e){return e.reduce(function(t,r){return t.concat(De.arr(r)?Gv(r):r)},[])}function HI(e){return De.arr(e)?e:(De.str(e)&&(e=LR(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function D3(e,t){return e.some(function(r){return r===t})}function F3(e){var t={};for(var r in e)t[r]=e[r];return t}function fS(e,t){var r=F3(e);for(var i in e)r[i]=t.hasOwnProperty(i)?t[i]:e[i];return r}function Vv(e,t){var r=F3(e);for(var i in t)r[i]=De.und(e[i])?t[i]:e[i];return r}function Nse(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function Pse(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(a,l,c,f){return l+l+c+c+f+f}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),n=parseInt(i[1],16),s=parseInt(i[2],16),o=parseInt(i[3],16);return"rgba("+n+","+s+","+o+",1)"}function Lse(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,n=parseInt(t[3],10)/100,s=t[4]||1;function o(p,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?p+(y-p)*6*g:g<1/2?y:g<2/3?p+(y-p)*(2/3-g)*6:p}var a,l,c;if(i==0)a=l=c=n;else{var f=n<.5?n*(1+i):n+i-n*i,d=2*n-f;a=o(d,f,r+1/3),l=o(d,f,r),c=o(d,f,r-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function kse(e){if(De.rgb(e))return Nse(e);if(De.hex(e))return Pse(e);if(De.hsl(e))return Lse(e)}function na(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function Rse(e){if(tp(e,"translate")||e==="perspective")return"px";if(tp(e,"rotate")||tp(e,"skew"))return"deg"}function dS(e,t){return De.fnc(e)?e(t.target,t.id,t.total):e}function so(e,t){return e.getAttribute(t)}function U3(e,t,r){var i=na(t);if(D3([r,"deg","rad","turn"],i))return t;var n=l1.CSS[t+r];if(!De.und(n))return n;var s=100,o=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+r;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return l1.CSS[t+r]=c,c}function kR(e,t,r){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return r?U3(e,n,r):n}}function j3(e,t){if(De.dom(e)&&!De.inp(e)&&(!De.nil(so(e,t))||De.svg(e)&&e[t]))return"attribute";if(De.dom(e)&&D3(Ose,t))return"transform";if(De.dom(e)&&t!=="transform"&&kR(e,t))return"css";if(e[t]!=null)return"object"}function RR(e){if(De.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map,n;n=r.exec(t);)i.set(n[1],n[2]);return i}}function Dse(e,t,r,i){var n=tp(t,"scale")?1:0+Rse(t),s=RR(e).get(t)||n;return r&&(r.transforms.list.set(t,s),r.transforms.last=t),i?U3(e,s,i):s}function G3(e,t,r,i){switch(j3(e,t)){case"transform":return Dse(e,t,i,r);case"css":return kR(e,t,r);case"attribute":return so(e,t);default:return e[t]||0}}function V3(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var i=na(e)||0,n=parseFloat(t),s=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return n+s+i;case"-":return n-s+i;case"*":return n*s+i}}function DR(e,t){if(De.col(e))return kse(e);if(/\s/g.test(e))return e;var r=na(e),i=r?e.substr(0,e.length-r.length):e;return t?i+t:i}function B3(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Fse(e){return Math.PI*2*so(e,"r")}function Use(e){return so(e,"width")*2+so(e,"height")*2}function jse(e){return B3({x:so(e,"x1"),y:so(e,"y1")},{x:so(e,"x2"),y:so(e,"y2")})}function FR(e){for(var t=e.points,r=0,i,n=0;n<t.numberOfItems;n++){var s=t.getItem(n);n>0&&(r+=B3(i,s)),i=s}return r}function Gse(e){var t=e.points;return FR(e)+B3(t.getItem(t.numberOfItems-1),t.getItem(0))}function UR(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return Fse(e);case"rect":return Use(e);case"line":return jse(e);case"polyline":return FR(e);case"polygon":return Gse(e)}}function Vse(e){var t=UR(e);return e.setAttribute("stroke-dasharray",t),t}function Bse(e){for(var t=e.parentNode;De.svg(t)&&De.svg(t.parentNode);)t=t.parentNode;return t}function jR(e,t){var r=t||{},i=r.el||Bse(e),n=i.getBoundingClientRect(),s=so(i,"viewBox"),o=n.width,a=n.height,l=r.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function zse(e,t){var r=De.str(e)?LR(e)[0]:e,i=t||100;return function(n){return{property:n,el:r,svg:jR(r),totalLength:UR(r)*(i/100)}}}function qse(e,t,r){function i(f){f===void 0&&(f=0);var d=t+f>=1?t+f:0;return e.el.getPointAtLength(d)}var n=jR(e.el,e.svg),s=i(),o=i(-1),a=i(1),l=r?1:n.w/n.vW,c=r?1:n.h/n.vH;switch(e.property){case"x":return(s.x-n.x)*l;case"y":return(s.y-n.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function YI(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=DR(De.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(r)?i.match(r).map(Number):[0],strings:De.str(e)||t?i.split(r):[]}}function z3(e){var t=e?Gv(De.arr(e)?e.map(HI):HI(e)):[];return jv(t,function(r,i,n){return n.indexOf(r)===i})}function GR(e){var t=z3(e);return t.map(function(r,i){return{target:r,id:i,total:t.length,transforms:{list:RR(r)}}})}function Wse(e,t){var r=F3(t);if(/^spring/.test(r.easing)&&(r.duration=NR(r.easing)),De.arr(e)){var i=e.length,n=i===2&&!De.obj(e[0]);n?e={value:e}:De.fnc(t.duration)||(r.duration=t.duration/i)}var s=De.arr(e)?e:[e];return s.map(function(o,a){var l=De.obj(o)&&!De.pth(o)?o:{value:o};return De.und(l.delay)&&(l.delay=a?0:t.delay),De.und(l.endDelay)&&(l.endDelay=a===s.length-1?t.endDelay:0),l}).map(function(o){return Vv(o,r)})}function Hse(e){for(var t=jv(Gv(e.map(function(s){return Object.keys(s)})),function(s){return De.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),r={},i=function(s){var o=t[s];r[o]=e.map(function(a){var l={};for(var c in a)De.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},n=0;n<t.length;n++)i(n);return r}function Yse(e,t){var r=[],i=t.keyframes;i&&(t=Vv(Hse(i),t));for(var n in t)De.key(n)&&r.push({name:n,tweens:Wse(t[n],e)});return r}function Jse(e,t){var r={};for(var i in e){var n=dS(e[i],t);De.arr(n)&&(n=n.map(function(s){return dS(s,t)}),n.length===1&&(n=n[0])),r[i]=n}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function Kse(e,t){var r;return e.tweens.map(function(i){var n=Jse(i,t),s=n.value,o=De.arr(s)?s[1]:s,a=na(o),l=G3(t.target,e.name,a,t),c=r?r.to.original:l,f=De.arr(s)?s[0]:c,d=na(f)||na(l),p=a||d;return De.und(o)&&(o=c),n.from=YI(f,p),n.to=YI(V3(o,f),p),n.start=r?r.end:0,n.end=n.start+n.delay+n.duration+n.endDelay,n.easing=R3(n.easing,n.duration),n.isPath=De.pth(s),n.isPathTargetInsideSVG=n.isPath&&De.svg(t.target),n.isColor=De.col(n.from.original),n.isColor&&(n.round=1),r=n,n})}var VR={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,i,n){if(i.list.set(t,r),t===i.last||n){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),e.style.transform=s}}};function BR(e,t){var r=GR(e);r.forEach(function(i){for(var n in t){var s=dS(t[n],i),o=i.target,a=na(s),l=G3(o,n,a,i),c=a||na(l),f=V3(DR(s,c),l),d=j3(o,n);VR[d](o,n,f,i.transforms,!0)}})}function Zse(e,t){var r=j3(e.target,t.name);if(r){var i=Kse(t,e),n=i[i.length-1];return{type:r,property:t.name,animatable:e,tweens:i,duration:n.end,delay:i[0].delay,endDelay:n.endDelay}}}function Xse(e,t){return jv(Gv(e.map(function(r){return t.map(function(i){return Zse(r,i)})})),function(r){return!De.und(r)})}function zR(e,t){var r=e.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},n={};return n.duration=r?Math.max.apply(Math,e.map(function(s){return i(s)+s.duration})):t.duration,n.delay=r?Math.min.apply(Math,e.map(function(s){return i(s)+s.delay})):t.delay,n.endDelay=r?n.duration-Math.max.apply(Math,e.map(function(s){return i(s)+s.duration-s.endDelay})):t.endDelay,n}var JI=0;function Qse(e){var t=fS($R,e),r=fS(k3,e),i=Yse(r,e),n=GR(e.targets),s=Xse(n,i),o=zR(s,r),a=JI;return JI++,Vv(t,{id:a,children:[],animatables:n,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var hs=[],qR=function(){var e;function t(){!e&&(!KI()||!ur.suspendWhenDocumentHidden)&&hs.length>0&&(e=requestAnimationFrame(r))}function r(n){for(var s=hs.length,o=0;o<s;){var a=hs[o];a.paused?(hs.splice(o,1),s--):(a.tick(n),o++)}e=o>0?requestAnimationFrame(r):void 0}function i(){ur.suspendWhenDocumentHidden&&(KI()?e=cancelAnimationFrame(e):(hs.forEach(function(n){return n._onDocumentVisibility()}),qR()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),t}();function KI(){return!!document&&document.hidden}function ur(e){e===void 0&&(e={});var t=0,r=0,i=0,n,s=0,o=null;function a(T){var S=window.Promise&&new Promise(function(v){return o=v});return T.finished=S,S}var l=Qse(e);a(l);function c(){var T=l.direction;T!=="alternate"&&(l.direction=T!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,n.forEach(function(S){return S.reversed=l.reversed})}function f(T){return l.reversed?l.duration-T:T}function d(){t=0,r=f(l.currentTime)*(1/ur.speed)}function p(T,S){S&&S.seek(T-S.timelineOffset)}function y(T){if(l.reversePlayback)for(var v=s;v--;)p(T,n[v]);else for(var S=0;S<s;S++)p(T,n[S])}function g(T){for(var S=0,v=l.animations,M=v.length;S<M;){var O=v[S],P=O.animatable,R=O.tweens,k=R.length-1,G=R[k];k&&(G=jv(R,function(Oe){return T<Oe.end})[0]||G);for(var V=no(T-G.start-G.delay,0,G.duration)/G.duration,U=isNaN(V)?1:G.easing(V),Y=G.to.strings,se=G.round,h=[],m=G.to.numbers.length,E=void 0,N=0;N<m;N++){var q=void 0,K=G.to.numbers[N],fe=G.from.numbers[N]||0;G.isPath?q=qse(G.value,U*K,G.isPathTargetInsideSVG):q=fe+U*(K-fe),se&&(G.isColor&&N>2||(q=Math.round(q*se)/se)),h.push(q)}var ae=Y.length;if(!ae)E=h[0];else{E=Y[0];for(var Ae=0;Ae<ae;Ae++){Y[Ae];var Fe=Y[Ae+1],Ve=h[Ae];isNaN(Ve)||(Fe?E+=Ve+Fe:E+=Ve+" ")}}VR[O.type](P.target,O.property,E,P.transforms),O.currentValue=E,S++}}function _(T){l[T]&&!l.passThrough&&l[T](l)}function w(){l.remaining&&l.remaining!==!0&&l.remaining--}function x(T){var S=l.duration,v=l.delay,M=S-l.endDelay,O=f(T);l.progress=no(O/S*100,0,100),l.reversePlayback=O<l.currentTime,n&&y(O),!l.began&&l.currentTime>0&&(l.began=!0,_("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,_("loopBegin")),O<=v&&l.currentTime!==0&&g(0),(O>=M&&l.currentTime!==S||!S)&&g(S),O>v&&O<M?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,_("changeBegin")),_("change"),g(O)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,_("changeComplete")),l.currentTime=no(O,0,S),l.began&&_("update"),T>=S&&(r=0,w(),l.remaining?(t=i,_("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,_("loopComplete"),_("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var T=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=T==="reverse",l.remaining=l.loop,n=l.children,s=n.length;for(var S=s;S--;)l.children[S].reset();(l.reversed&&l.loop!==!0||T==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(T,S){return BR(T,S),l},l.tick=function(T){i=T,t||(t=i),x((i+(r-t))*ur.speed)},l.seek=function(T){x(f(T))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,hs.push(l),d(),qR())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(T){var S=z3(T);WR(S,l)},l.reset(),l.autoplay&&l.play(),l}function ZI(e,t){for(var r=t.length;r--;)D3(e,t[r].animatable.target)&&t.splice(r,1)}function WR(e,t){var r=t.animations,i=t.children;ZI(e,r);for(var n=i.length;n--;){var s=i[n],o=s.animations;ZI(e,o),!o.length&&!s.children.length&&i.splice(n,1)}!r.length&&!i.length&&t.pause()}function eoe(e){for(var t=z3(e),r=hs.length;r--;){var i=hs[r];WR(t,i)}}function toe(e,t){t===void 0&&(t={});var r=t.direction||"normal",i=t.easing?R3(t.easing):null,n=t.grid,s=t.axis,o=t.from||0,a=o==="first",l=o==="center",c=o==="last",f=De.arr(e),d=parseFloat(f?e[0]:e),p=f?parseFloat(e[1]):0,y=na(f?e[1]:e)||0,g=t.start||0+(f?d:0),_=[],w=0;return function(x,T,S){if(a&&(o=0),l&&(o=(S-1)/2),c&&(o=S-1),!_.length){for(var v=0;v<S;v++){if(!n)_.push(Math.abs(o-v));else{var M=l?(n[0]-1)/2:o%n[0],O=l?(n[1]-1)/2:Math.floor(o/n[0]),P=v%n[0],R=Math.floor(v/n[0]),k=M-P,G=O-R,V=Math.sqrt(k*k+G*G);s==="x"&&(V=-k),s==="y"&&(V=-G),_.push(V)}w=Math.max.apply(Math,_)}i&&(_=_.map(function(Y){return i(Y/w)*w})),r==="reverse"&&(_=_.map(function(Y){return s?Y<0?Y*-1:-Y:Math.abs(w-Y)}))}var U=f?(p-d)/w:d;return g+U*(Math.round(_[T]*100)/100)+y}}function roe(e){e===void 0&&(e={});var t=ur(e);return t.duration=0,t.add=function(r,i){var n=hs.indexOf(t),s=t.children;n>-1&&hs.splice(n,1);function o(p){p.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=Vv(r,fS(k3,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=De.und(i)?c:V3(i,c),o(t),t.seek(l.timelineOffset);var f=ur(l);o(f),s.push(f);var d=zR(s,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}ur.version="3.2.1";ur.speed=1;ur.suspendWhenDocumentHidden=!0;ur.running=hs;ur.remove=eoe;ur.get=G3;ur.set=BR;ur.convertPx=U3;ur.path=zse;ur.setDashoffset=Vse;ur.stagger=toe;ur.timeline=roe;ur.easing=R3;ur.penner=PR;ur.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};class HR{resizeObserver;constructor(t){this.resizeObserver="ResizeObserver"in self?new ResizeObserver(function(r){const i={xs:200,sm:576,md:768,lg:960};r.forEach(function(n){const s=n.target.dataset.breakpoints?JSON.parse(n.target.dataset.breakpoints):t??i;Object.keys(s).forEach(function(o){const a=s[o];n.contentRect.width>=a?n.target.classList.add(o):n.target.classList.remove(o)})})}):void 0}observe(t){this.resizeObserver?.observe(t)}}const ioe=["data-cy"],YR=at({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(e){const t=ne(null),r=e,i=ne(!1);ai(()=>{r.panel.teleport&&new HR({xs:0,sm:461,...r.panel.teleport.breakpoints}).observe(t.value)});const n=(l,c,f)=>{if(i.value)return c();ur({targets:l,opacity:{value:f,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{n(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(i.value=r.panel.isScreenLoaded(r.panel.route.screen),t.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{n(l,c,[0,1])};return(l,c)=>{const f=Nt("focus-container");return pe(),xe("div",{class:vr(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",e.panel.expanded?"flex-grow max-w-full":""]),style:Ol(e.panel.style),"data-cy":e.panel.id,ref_key:"componentEl",ref:t},[Xe(Av,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:Or(()=>[Ct((pe(),Wt(RE(e.panel.route.screen),Tv({class:"h-full"},e.panel.route.props,{panel:e.panel}),null,16,["panel"])),[[f]])]),_:1})],14,ioe)}}}),su=hr("panel",()=>{const e=ne(void 0),t=ne(void 0),r=ne(0),i=ne(0),n=ne(!1),s=ne(!0),o=ne({}),a=ne({}),l=ne([]),c=ne([]),f=ne([]),d=it(()=>i.value);function p(V){return V==="xs"&&f.value.length>0?[f.value.slice().pop()]:f.value}function y(V){const U=[];return V.forEach(Y=>{Y in a.value&&U.push(a.value[Y].getPromise())}),U}function g(V){O(V),v(),t.value=void 0}function _(V){P(V),v()}function w(V,U){R(V,U),v()}function x(V){k(V),v()}function T(V){r.value=V,v()}function S(V){n.value=V}function v(){let V=r.value;const U=[],Y=350,se=12,h=600;for(let m=l.value.length-1;m>=0;m--){const E=l.value[m];let N=E.width||Y;if(n.value?N=V:N+=se,E.id==="grid"&&(N=Math.max(Math.min(N,V),h)),(V>=N&&!n.value||U.length===0)&&(V-=N,U.unshift(E)),E.id==="grid"&&V<h)break}if(e.value&&!U.includes(e.value)&&!n.value){let m;for(let K=0;K<U.length-1&&V<(e.value.width||Y)+se;K++)m=U.shift(),V+=m.width||Y;V>=(e.value.width||Y)?U.unshift(e.value):t.value||(m=U.shift(),U.unshift(e.value));const E=l.value.indexOf(e.value),N=l.value.indexOf(m),q=l.value.slice();N>-1&&(q.splice(E,1),q.splice(N,0,e.value)),l.value=q}i.value=V,f.value=U}function M(V){if(o.value={...o.value,[V.id]:V},V.id in a.value)a.value[V.id].resolveMe(V);else{const U=new Tr;U.resolveMe(V),a.value={...a.value,[V.id]:U}}}function O(V){V.teleport?c.value=[...c.value,V]:(l.value=[...l.value,V],t.value=V)}function P(V){if(V.teleport){const U=c.value.indexOf(V);U!==-1&&(c.value=[...c.value.slice(0,U),...c.value.slice(U+1)])}else{const U=l.value.indexOf(V);U!==-1&&(l.value=[...l.value.slice(0,U),...l.value.slice(U+1)])}}function R(V,U){const Y=l.value.indexOf(V),se=U==="right"?1:-1;f.value.includes(l.value[Y+se])&&([l.value[Y],l.value[Y+se]]=[l.value[Y+se],l.value[Y]])}function k(V){o.value[V.id]!==void 0&&delete o.value[V.id],a.value[V.id]!==void 0&&delete a.value[V.id];const U=f.value.indexOf(V);U!==-1&&(f.value=[...f.value.slice(0,U),...f.value.slice(U+1)]),e.value&&e.value.id==V.id&&(e.value=void 0)}function G(V){a.value={...a.value,[V]:new Tr}}return{items:o,regPromises:a,orderedItems:l,pinned:e,priority:t,visible:f,stackWidth:r,remWidth:i,mobileView:n,reorderable:s,teleported:c,getRemainingWidth:d,getVisible:p,getRegPromises:y,openPanel:g,closePanel:_,movePanel:w,removePanel:x,setStackWidth:T,setMobileView:S,updateVisible:v,registerPanel:M,addRegPromise:G}}),noe=at({__name:"panel-stack",setup(e){const t=su(),r=Hr("iApi"),i=ne(),n=it(()=>t.mobileView);ai(()=>{new ResizeObserver(f=>{const d=!(r?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");n.value!==d&&(t.mobileView=d,r?.event.emit(Ce.RAMP_MOBILEVIEW_CHANGE,d)),t.setStackWidth(f[0].contentRect.width)}).observe(i.value?.$el)});const s=c=>t.getVisible(c),o=(c,f)=>{l(c,f,[[6,0],[0,1]])},a=(c,f)=>{const[d,p]=[c.children[0].getBoundingClientRect(),c.parentElement.getBoundingClientRect()];c.style.width=`${d.width}px`,c.style.height=`${d.height}px`,c.style.left=`${d.left-p.left}px`,c.style.position="absolute",l(c,f,[[0,-6],[1,0]])},l=(c,f,d)=>{ur({targets:c,duration:300,translateY:{value:d[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:d[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:f})};return(c,f)=>(pe(),Wt(Iv,{onEnter:o,onLeave:a,name:"panel-container",tag:"div",ref_key:"el",ref:i},{default:Or(()=>[(pe(!0),xe(Lt,null,Pl(s(Ne(r).screenSize),d=>(pe(),Wt(YR,{key:`${d.id}`,panel:d},null,8,["panel"]))),128))]),_:1},512))}}),ma=(e,t)=>{const r=e.__vccOpts||e;for(const[i,n]of t)r[i]=n;return r},soe=ma(noe,[["__scopeId","data-v-f32e4f15"]]);var nn="top",Jn="bottom",Kn="right",sn="left",q3="auto",Bm=[nn,Jn,Kn,sn],rf="start",rm="end",ooe="clippingParents",JR="viewport",Qf="popper",aoe="reference",XI=Bm.reduce(function(e,t){return e.concat([t+"-"+rf,t+"-"+rm])},[]),KR=[].concat(Bm,[q3]).reduce(function(e,t){return e.concat([t,t+"-"+rf,t+"-"+rm])},[]),loe="beforeRead",coe="read",uoe="afterRead",hoe="beforeMain",foe="main",doe="afterMain",poe="beforeWrite",moe="write",yoe="afterWrite",goe=[loe,coe,uoe,hoe,foe,doe,poe,moe,yoe];function So(e){return e?(e.nodeName||"").toLowerCase():null}function xn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ou(e){var t=xn(e).Element;return e instanceof t||e instanceof Element}function Hn(e){var t=xn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function W3(e){if(typeof ShadowRoot>"u")return!1;var t=xn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function voe(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},n=t.attributes[r]||{},s=t.elements[r];!Hn(s)||!So(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function boe(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var n=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Hn(n)||!So(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}const _oe={name:"applyStyles",enabled:!0,phase:"write",fn:voe,effect:boe,requires:["computeStyles"]};function fo(e){return e.split("-")[0]}var Fc=Math.max,c1=Math.min,nf=Math.round;function pS(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ZR(){return!/^((?!chrome|android).)*safari/i.test(pS())}function sf(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var i=e.getBoundingClientRect(),n=1,s=1;t&&Hn(e)&&(n=e.offsetWidth>0&&nf(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&nf(i.height)/e.offsetHeight||1);var o=ou(e)?xn(e):window,a=o.visualViewport,l=!ZR()&&r,c=(i.left+(l&&a?a.offsetLeft:0))/n,f=(i.top+(l&&a?a.offsetTop:0))/s,d=i.width/n,p=i.height/s;return{width:d,height:p,top:f,right:c+d,bottom:f+p,left:c,x:c,y:f}}function H3(e){var t=sf(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function XR(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&W3(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ca(e){return xn(e).getComputedStyle(e)}function woe(e){return["table","td","th"].indexOf(So(e))>=0}function Dl(e){return((ou(e)?e.ownerDocument:e.document)||window.document).documentElement}function Bv(e){return So(e)==="html"?e:e.assignedSlot||e.parentNode||(W3(e)?e.host:null)||Dl(e)}function QI(e){return!Hn(e)||ca(e).position==="fixed"?null:e.offsetParent}function Soe(e){var t=/firefox/i.test(pS()),r=/Trident/i.test(pS());if(r&&Hn(e)){var i=ca(e);if(i.position==="fixed")return null}var n=Bv(e);for(W3(n)&&(n=n.host);Hn(n)&&["html","body"].indexOf(So(n))<0;){var s=ca(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function zm(e){for(var t=xn(e),r=QI(e);r&&woe(r)&&ca(r).position==="static";)r=QI(r);return r&&(So(r)==="html"||So(r)==="body"&&ca(r).position==="static")?t:r||Soe(e)||t}function Y3(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function rp(e,t,r){return Fc(e,c1(t,r))}function xoe(e,t,r){var i=rp(e,t,r);return i>r?r:i}function QR(){return{top:0,right:0,bottom:0,left:0}}function e9(e){return Object.assign({},QR(),e)}function t9(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var Eoe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,e9(typeof t!="number"?t:t9(t,Bm))};function Toe(e){var t,r=e.state,i=e.name,n=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=fo(r.placement),l=Y3(a),c=[sn,Kn].indexOf(a)>=0,f=c?"height":"width";if(!(!s||!o)){var d=Eoe(n.padding,r),p=H3(s),y=l==="y"?nn:sn,g=l==="y"?Jn:Kn,_=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],w=o[l]-r.rects.reference[l],x=zm(s),T=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=_/2-w/2,v=d[y],M=T-p[f]-d[g],O=T/2-p[f]/2+S,P=rp(v,O,M),R=l;r.modifiersData[i]=(t={},t[R]=P,t.centerOffset=P-O,t)}}function Aoe(e){var t=e.state,r=e.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||XR(t.elements.popper,n)&&(t.elements.arrow=n))}const Moe={name:"arrow",enabled:!0,phase:"main",fn:Toe,effect:Aoe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function of(e){return e.split("-")[1]}var Ioe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ooe(e,t){var r=e.x,i=e.y,n=t.devicePixelRatio||1;return{x:nf(r*n)/n||0,y:nf(i*n)/n||0}}function eO(e){var t,r=e.popper,i=e.popperRect,n=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=o.x,y=p===void 0?0:p,g=o.y,_=g===void 0?0:g,w=typeof f=="function"?f({x:y,y:_}):{x:y,y:_};y=w.x,_=w.y;var x=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),S=sn,v=nn,M=window;if(c){var O=zm(r),P="clientHeight",R="clientWidth";if(O===xn(r)&&(O=Dl(r),ca(O).position!=="static"&&a==="absolute"&&(P="scrollHeight",R="scrollWidth")),O=O,n===nn||(n===sn||n===Kn)&&s===rm){v=Jn;var k=d&&O===M&&M.visualViewport?M.visualViewport.height:O[P];_-=k-i.height,_*=l?1:-1}if(n===sn||(n===nn||n===Jn)&&s===rm){S=Kn;var G=d&&O===M&&M.visualViewport?M.visualViewport.width:O[R];y-=G-i.width,y*=l?1:-1}}var V=Object.assign({position:a},c&&Ioe),U=f===!0?Ooe({x:y,y:_},xn(r)):{x:y,y:_};if(y=U.x,_=U.y,l){var Y;return Object.assign({},V,(Y={},Y[v]=T?"0":"",Y[S]=x?"0":"",Y.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",Y))}return Object.assign({},V,(t={},t[v]=T?_+"px":"",t[S]=x?y+"px":"",t.transform="",t))}function $oe(e){var t=e.state,r=e.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:fo(t.placement),variation:of(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,eO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,eO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Coe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$oe,data:{}};var k0={passive:!0};function Noe(e){var t=e.state,r=e.instance,i=e.options,n=i.scroll,s=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,l=xn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(f){f.addEventListener("scroll",r.update,k0)}),a&&l.addEventListener("resize",r.update,k0),function(){s&&c.forEach(function(f){f.removeEventListener("scroll",r.update,k0)}),a&&l.removeEventListener("resize",r.update,k0)}}const Poe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Noe,data:{}};var Loe={left:"right",right:"left",bottom:"top",top:"bottom"};function zy(e){return e.replace(/left|right|bottom|top/g,function(t){return Loe[t]})}var koe={start:"end",end:"start"};function tO(e){return e.replace(/start|end/g,function(t){return koe[t]})}function J3(e){var t=xn(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function K3(e){return sf(Dl(e)).left+J3(e).scrollLeft}function Roe(e,t){var r=xn(e),i=Dl(e),n=r.visualViewport,s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;var c=ZR();(c||!c&&t==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a+K3(e),y:l}}function Doe(e){var t,r=Dl(e),i=J3(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Fc(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Fc(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+K3(e),l=-i.scrollTop;return ca(n||r).direction==="rtl"&&(a+=Fc(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function Z3(e){var t=ca(e),r=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function r9(e){return["html","body","#document"].indexOf(So(e))>=0?e.ownerDocument.body:Hn(e)&&Z3(e)?e:r9(Bv(e))}function ip(e,t){var r;t===void 0&&(t=[]);var i=r9(e),n=i===((r=e.ownerDocument)==null?void 0:r.body),s=xn(i),o=n?[s].concat(s.visualViewport||[],Z3(i)?i:[]):i,a=t.concat(o);return n?a:a.concat(ip(Bv(o)))}function mS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Foe(e,t){var r=sf(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function rO(e,t,r){return t===JR?mS(Roe(e,r)):ou(t)?Foe(t,r):mS(Doe(Dl(e)))}function Uoe(e){var t=ip(Bv(e)),r=["absolute","fixed"].indexOf(ca(e).position)>=0,i=r&&Hn(e)?zm(e):e;return ou(i)?t.filter(function(n){return ou(n)&&XR(n,i)&&So(n)!=="body"}):[]}function joe(e,t,r,i){var n=t==="clippingParents"?Uoe(e):[].concat(t),s=[].concat(n,[r]),o=s[0],a=s.reduce(function(l,c){var f=rO(e,c,i);return l.top=Fc(f.top,l.top),l.right=c1(f.right,l.right),l.bottom=c1(f.bottom,l.bottom),l.left=Fc(f.left,l.left),l},rO(e,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function i9(e){var t=e.reference,r=e.element,i=e.placement,n=i?fo(i):null,s=i?of(i):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(n){case nn:l={x:o,y:t.y-r.height};break;case Jn:l={x:o,y:t.y+t.height};break;case Kn:l={x:t.x+t.width,y:a};break;case sn:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=n?Y3(n):null;if(c!=null){var f=c==="y"?"height":"width";switch(s){case rf:l[c]=l[c]-(t[f]/2-r[f]/2);break;case rm:l[c]=l[c]+(t[f]/2-r[f]/2);break}}return l}function af(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=i===void 0?e.placement:i,s=r.strategy,o=s===void 0?e.strategy:s,a=r.boundary,l=a===void 0?ooe:a,c=r.rootBoundary,f=c===void 0?JR:c,d=r.elementContext,p=d===void 0?Qf:d,y=r.altBoundary,g=y===void 0?!1:y,_=r.padding,w=_===void 0?0:_,x=e9(typeof w!="number"?w:t9(w,Bm)),T=p===Qf?aoe:Qf,S=e.rects.popper,v=e.elements[g?T:p],M=joe(ou(v)?v:v.contextElement||Dl(e.elements.popper),l,f,o),O=sf(e.elements.reference),P=i9({reference:O,element:S,strategy:"absolute",placement:n}),R=mS(Object.assign({},S,P)),k=p===Qf?R:O,G={top:M.top-k.top+x.top,bottom:k.bottom-M.bottom+x.bottom,left:M.left-k.left+x.left,right:k.right-M.right+x.right},V=e.modifiersData.offset;if(p===Qf&&V){var U=V[n];Object.keys(G).forEach(function(Y){var se=[Kn,Jn].indexOf(Y)>=0?1:-1,h=[nn,Jn].indexOf(Y)>=0?"y":"x";G[Y]+=U[h]*se})}return G}function Goe(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?KR:l,f=of(i),d=f?a?XI:XI.filter(function(g){return of(g)===f}):Bm,p=d.filter(function(g){return c.indexOf(g)>=0});p.length===0&&(p=d);var y=p.reduce(function(g,_){return g[_]=af(e,{placement:_,boundary:n,rootBoundary:s,padding:o})[fo(_)],g},{});return Object.keys(y).sort(function(g,_){return y[g]-y[_]})}function Voe(e){if(fo(e)===q3)return[];var t=zy(e);return[tO(e),t,tO(t)]}function Boe(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,g=y===void 0?!0:y,_=r.allowedAutoPlacements,w=t.options.placement,x=fo(w),T=x===w,S=l||(T||!g?[zy(w)]:Voe(w)),v=[w].concat(S).reduce(function(Fe,Ve){return Fe.concat(fo(Ve)===q3?Goe(t,{placement:Ve,boundary:f,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:_}):Ve)},[]),M=t.rects.reference,O=t.rects.popper,P=new Map,R=!0,k=v[0],G=0;G<v.length;G++){var V=v[G],U=fo(V),Y=of(V)===rf,se=[nn,Jn].indexOf(U)>=0,h=se?"width":"height",m=af(t,{placement:V,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),E=se?Y?Kn:sn:Y?Jn:nn;M[h]>O[h]&&(E=zy(E));var N=zy(E),q=[];if(s&&q.push(m[U]<=0),a&&q.push(m[E]<=0,m[N]<=0),q.every(function(Fe){return Fe})){k=V,R=!1;break}P.set(V,q)}if(R)for(var K=g?3:1,fe=function(Ve){var Oe=v.find(function(vt){var rt=P.get(vt);if(rt)return rt.slice(0,Ve).every(function(pt){return pt})});if(Oe)return k=Oe,"break"},ae=K;ae>0;ae--){var Ae=fe(ae);if(Ae==="break")break}t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}}const zoe={name:"flip",enabled:!0,phase:"main",fn:Boe,requiresIfExists:["offset"],data:{_skip:!1}};function iO(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function nO(e){return[nn,Kn,Jn,sn].some(function(t){return e[t]>=0})}function qoe(e){var t=e.state,r=e.name,i=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,o=af(t,{elementContext:"reference"}),a=af(t,{altBoundary:!0}),l=iO(o,i),c=iO(a,n,s),f=nO(l),d=nO(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}const Woe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qoe};function Hoe(e,t,r){var i=fo(e),n=[sn,nn].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[sn,Kn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function Yoe(e){var t=e.state,r=e.options,i=e.name,n=r.offset,s=n===void 0?[0,0]:n,o=KR.reduce(function(f,d){return f[d]=Hoe(d,t.rects,s),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}const Joe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Yoe};function Koe(e){var t=e.state,r=e.name;t.modifiersData[r]=i9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Zoe={name:"popperOffsets",enabled:!0,phase:"read",fn:Koe,data:{}};function Xoe(e){return e==="x"?"y":"x"}function Qoe(e){var t=e.state,r=e.options,i=e.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,g=r.tetherOffset,_=g===void 0?0:g,w=af(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),x=fo(t.placement),T=of(t.placement),S=!T,v=Y3(x),M=Xoe(v),O=t.modifiersData.popperOffsets,P=t.rects.reference,R=t.rects.popper,k=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,G=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(O){if(s){var Y,se=v==="y"?nn:sn,h=v==="y"?Jn:Kn,m=v==="y"?"height":"width",E=O[v],N=E+w[se],q=E-w[h],K=y?-R[m]/2:0,fe=T===rf?P[m]:R[m],ae=T===rf?-R[m]:-P[m],Ae=t.elements.arrow,Fe=y&&Ae?H3(Ae):{width:0,height:0},Ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:QR(),Oe=Ve[se],vt=Ve[h],rt=rp(0,P[m],Fe[m]),pt=S?P[m]/2-K-rt-Oe-G.mainAxis:fe-rt-Oe-G.mainAxis,ft=S?-P[m]/2+K+rt+vt+G.mainAxis:ae+rt+vt+G.mainAxis,nt=t.elements.arrow&&zm(t.elements.arrow),Dt=nt?v==="y"?nt.clientTop||0:nt.clientLeft||0:0,z=(Y=V?.[v])!=null?Y:0,F=E+pt-z-Dt,J=E+ft-z,le=rp(y?c1(N,F):N,E,y?Fc(q,J):q);O[v]=le,U[v]=le-E}if(a){var ie,$=v==="x"?nn:sn,j=v==="x"?Jn:Kn,I=O[M],L=M==="y"?"height":"width",B=I+w[$],Z=I-w[j],te=[nn,sn].indexOf(x)!==-1,ee=(ie=V?.[M])!=null?ie:0,H=te?B:I-P[L]-R[L]-ee+G.altAxis,X=te?I+P[L]+R[L]-ee-G.altAxis:Z,ve=y&&te?xoe(H,I,X):rp(y?H:B,I,y?X:Z);O[M]=ve,U[M]=ve-I}t.modifiersData[i]=U}}const eae={name:"preventOverflow",enabled:!0,phase:"main",fn:Qoe,requiresIfExists:["offset"]};function tae(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function rae(e){return e===xn(e)||!Hn(e)?J3(e):tae(e)}function iae(e){var t=e.getBoundingClientRect(),r=nf(t.width)/e.offsetWidth||1,i=nf(t.height)/e.offsetHeight||1;return r!==1||i!==1}function nae(e,t,r){r===void 0&&(r=!1);var i=Hn(t),n=Hn(t)&&iae(t),s=Dl(t),o=sf(e,n,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((So(t)!=="body"||Z3(s))&&(a=rae(t)),Hn(t)?(l=sf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=K3(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function sae(e){var t=new Map,r=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&n(l)}}),i.push(s)}return e.forEach(function(s){r.has(s.name)||n(s)}),i}function oae(e){var t=sae(e);return goe.reduce(function(r,i){return r.concat(t.filter(function(n){return n.phase===i}))},[])}function aae(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function lae(e){var t=e.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var sO={placement:"bottom",modifiers:[],strategy:"absolute"};function oO(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function cae(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,n=t.defaultOptions,s=n===void 0?sO:n;return function(a,l,c){c===void 0&&(c=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},sO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(x){var T=typeof x=="function"?x(f.options):x;_(),f.options=Object.assign({},s,f.options,T),f.scrollParents={reference:ou(a)?ip(a):a.contextElement?ip(a.contextElement):[],popper:ip(l)};var S=oae(lae([].concat(i,f.options.modifiers)));return f.orderedModifiers=S.filter(function(v){return v.enabled}),g(),y.update()},forceUpdate:function(){if(!p){var x=f.elements,T=x.reference,S=x.popper;if(oO(T,S)){f.rects={reference:nae(T,zm(S),f.options.strategy==="fixed"),popper:H3(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(G){return f.modifiersData[G.name]=Object.assign({},G.data)});for(var v=0;v<f.orderedModifiers.length;v++){if(f.reset===!0){f.reset=!1,v=-1;continue}var M=f.orderedModifiers[v],O=M.fn,P=M.options,R=P===void 0?{}:P,k=M.name;typeof O=="function"&&(f=O({state:f,options:R,name:k,instance:y})||f)}}}},update:aae(function(){return new Promise(function(w){y.forceUpdate(),w(f)})}),destroy:function(){_(),p=!0}};if(!oO(a,l))return y;y.setOptions(c).then(function(w){!p&&c.onFirstUpdate&&c.onFirstUpdate(w)});function g(){f.orderedModifiers.forEach(function(w){var x=w.name,T=w.options,S=T===void 0?{}:T,v=w.effect;if(typeof v=="function"){var M=v({state:f,name:x,instance:y,options:S}),O=function(){};d.push(M||O)}})}function _(){d.forEach(function(w){return w()}),d=[]}return y}}var uae=[Poe,Zoe,Coe,_oe,Joe,zoe,eae,Moe,Woe],hae=cae({defaultModifiers:uae});const fae=["content","aria-label"],X3=at({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(e){const t=ne(!1),r=ne(null),i=Jr([]),n=ne(),s=ne(),o=ne(),a=e;i.push(ti(t,()=>{r.value.update()}));const l=()=>{t.value=!t.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:t.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},f=()=>{o.value._tippy.hide()};return ai(()=>{window.addEventListener("click",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{t.value=!1}),window.addEventListener("focusin",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",f),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",f),Cs(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:p}){const{bottom:y}=af(p);y>0?(p.styles.popper.overflowY=y>100?"auto":void 0,p.styles.popper.overflowX="hidden",p.styles.popper.height=`${p.rects.popper.height-y-8}px`):p.styles.popper.height="auto"}};o.value&&s.value&&(r.value=hae(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Ns(()=>{i.forEach(d=>d()),window.removeEventListener("click",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{t.value=!1}),window.removeEventListener("focusin",d=>{(!n.value||!n.value.contains(d.target))&&(t.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",f),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",f),t.value=!1}),(d,p)=>{const y=Nt("tippy");return pe(),xe("div",{ref_key:"el",ref:n},[Ct((pe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:e.tooltip,"aria-label":e.ariaLabel?String(e.ariaLabel):String(e.tooltip),ref_key:"dropdownTrigger",ref:o},[ds(d.$slots,"header")],8,fae)),[[y,{placement:e.tooltipPlacement,theme:e.tooltipTheme,animation:e.tooltipAnimation,appendTo:"parent",trigger:"manual"}]]),Ct(ue("div",{onClick:p[0]||(p[0]=g=>r.value.update()),class:vr(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":e.centered}]),ref_key:"dropdown",ref:s},[ds(d.$slots,"default",{close:()=>t.value=!t.value})],2),[[Mv,t.value]])],512)}}}),po=hr("notification",()=>{const e=ne([]),t=ne({}),r=it(()=>e.value.length>=99?99:e.value.length);function i(c){e.value=[c,...e.value]}function n(c){if(e.value.includes(c)){const f=e.value.indexOf(c);c instanceof n9&&l(c),f>-1&&e.value.splice(f,1)}}function s(c){t.value[c.id]=c}function o(c,f){t.value[c]&&(t.value[c].messageList.push(f),e.value.includes(t.value[c])||(e.value=[t.value[c],...e.value]))}function a(){Object.values(t.value).forEach(c=>l(c)),e.value=[]}function l(c){const f=e.value.indexOf(c);f>-1&&e.value.splice(f,1),c.messageList=[]}return{notificationStack:e,groups:t,notificationNumber:r,showNotification:i,removeNotification:n,registerGroup:s,addToGroup:o,clearAll:a}}),dae={class:"h-full flex flex-col"},pae={class:"w-full flex mb-6"},mae=["content","aria-label"],yae=at({__name:"screen",props:{panel:{type:Object,required:!0}},setup(e){const t=po(),{t:r}=lr(),i=it(()=>t.notificationNumber),n=()=>t.clearAll();return(s,o)=>{const a=wr("panel-screen"),l=Nt("tippy");return pe(),Wt(a,{panel:e.panel},{header:Or(()=>[ho(zt(Ne(r)("notifications.title")),1)]),content:Or(()=>[ue("div",dae,[ue("div",pae,[Ct((pe(),xe("button",{type:"button",onClick:n,class:vr(["p-4 ml-auto",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ne(r)("notifications.controls.clearAll"),"aria-label":Ne(r)("notifications.controls.clearAll")},o[0]||(o[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,mae)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),Xe(s9,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var vn=(e=>(e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(vn||{});class gae extends Rr{notificationStore;constructor(t){super(t),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":Mr(yae)},alertName:"notifications.title"}}),this.notificationStore=po(this.$vApp.$pinia)}show(t,r){this.notificationStore.showNotification({type:t,message:r})}addGroup(t,r,i){if(this.getGroup(t))throw new Error("Duplicate notification group id registration: "+t);const n=new n9(this.$iApi,t,r,i);return this.notificationStore.registerGroup(n),n}getGroup(t){return this.notificationStore.groups[t]}}class n9 extends Rr{notificationStore=po(this.$vApp.$pinia);id;message;type;messageList=[];constructor(t,r,i,n){super(t),this.id=r,this.type=i,this.message=n}show(t){this.notificationStore.addToGroup(this.id,t)}}const vae=["content"],bae={class:"flex items-center text-left"},_ae={class:"select-text cursor-text"},wae=["content"],Sae={key:0,class:"text-left"},xae=at({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(e){const t=po(),{t:r}=lr(),i=e,n=ne(!1),s=Jr({[vn.WARNING]:"⚠",[vn.INFO]:"ℹ️",[vn.ERROR]:"❌"}),o=l=>{t.removeNotification(l)},a=()=>{if(!i.notification.messageList)return!1};return(l,c)=>{const f=Nt("tippy");return Ct((pe(),xe("li",{class:vr(["flex-col default-focus-style p-4",e.notification.messageList?"cursor-pointer":""]),content:Ne(r)(n.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>n.value=!n.value)},[ue("div",bae,[ue("span",null,[ho(zt(s[e.notification.type])+" ",1),ue("span",_ae,zt(e.notification.message),1)]),c[4]||(c[4]=ue("span",{class:"flex-grow"},null,-1)),e.notification.messageList?(pe(),xe("div",{key:0,class:vr(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":n.value}])},c[2]||(c[2]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[ue("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Kt("",!0),Ct((pe(),xe("button",{type:"button",onClick:c[0]||(c[0]=Um(d=>o(e.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:Ne(r)("notifications.controls.dismiss")},c[3]||(c[3]=[ue("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[ue("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,wae)),[[f,{theme:"ramp4",animation:"scale"}]])]),e.notification.messageList&&n.value?(pe(),xe("div",Sae,[(pe(!0),xe(Lt,null,Pl(e.notification.messageList,(d,p)=>(pe(),xe("p",{key:e.notification.id+d+p},zt(d),1))),128))])):Kt("",!0)],10,vae)),[[f,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Eae=["content"],Tae={key:0,class:"w-full border-b border-black"},Aae={key:1,class:"flex flex-col items-center h-full"},s9=at({__name:"notification-list",setup(e){const t=po(),{t:r}=lr(),i=ne(),n=()=>{i.value._tippy.hide()},s=a=>{a.key==="Tab"&&i.value?.matches(":focus")&&i.value._tippy.show()};ai(()=>{i.value?.addEventListener("blur",n),i.value?.addEventListener("keyup",s)}),Ns(()=>{i.value?.removeEventListener("blur",n),i.value?.removeEventListener("keyup",s)});const o=it(()=>t.notificationStack);return(a,l)=>{const c=Nt("focus-item"),f=Nt("focus-list"),d=Nt("tippy");return pe(),xe("div",null,[o.value.length>0?Ct((pe(),xe("ul",{key:0,content:Ne(r)("panels.controls.items"),ref_key:"el",ref:i},[(pe(!0),xe(Lt,null,Pl(o.value,(p,y)=>(pe(),xe(Lt,{key:p.message+y},[y>0?(pe(),xe("div",Tae)):Kt("",!0),Ct(Xe(xae,{class:vr([p.type]),notification:p},null,8,["class","notification"]),[[c]])],64))),128))],8,Eae)),[[f],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(pe(),xe("div",Aae,[l[0]||(l[0]=ue("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[ue("path",{d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),ue("span",null,zt(Ne(r)("notifications.empty")),1),l[2]||(l[2]=ue("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),Mae={class:"flex items-center hover:text-white"},Iae=["aria-label"],Oae={key:0,class:"number rounded-full w-18 text-white"},$ae={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},Cae={class:"pb-8 border-b border-gray-600"},Nae={class:"absolute flex right-3 top-3"},Pae=["content","aria-label"],Lae=at({__name:"caption-button",setup(e){const t=po(),{t:r}=lr(),i=it(()=>t.notificationNumber),n=()=>t.clearAll();return(s,o)=>{const a=wr("close"),l=Nt("tippy");return pe(),Wt(X3,{position:"top-start",tooltip:Ne(r)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:Or(()=>[ue("div",Mae,[(pe(),xe("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":Ne(r)("notifications.open")},o[0]||(o[0]=[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,Iae)),i.value&&i.value>0?(pe(),xe("span",Oae,zt(i.value),1)):Kt("",!0)])]),default:Or(c=>[ue("div",$ae,[ue("div",null,[ue("h4",Cae,zt(Ne(r)("notifications.title")),1),ue("div",Nae,[Ct((pe(),xe("button",{type:"button",onClick:n,class:vr(["p-4 mr-6",[i.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:Ne(r)("notifications.controls.clearAll"),"aria-label":Ne(r)("notifications.controls.clearAll")},o[1]||(o[1]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[ue("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),ue("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),ue("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),ue("path",{d:"M22 22l-5 -5"}),ue("path",{d:"M17 22l5 -5"})],-1)]),10,Pae)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),Xe(a,{onClick:c.close},null,8,["onClick"])])]),Xe(s9,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),kae=ma(Lae,[["__scopeId","data-v-77b1750c"]]),Rae={class:"flex hover:text-white"},Dae=["aria-label"],Fae={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},Uae={class:"pb-8 border-b border-gray-600 mb-10"},jae={class:"absolute right-5 top-5"},Gae={class:"select-text"},Vae={class:"font-bold cursor-text"},Bae={class:"text-sm cursor-text"},zae={class:"text-sm cursor-text"},qae=at({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(e){const{t}=lr(),r=it(()=>`${td.major}.${td.minor}.${td.patch}`),i=it(()=>td.hash.slice(0,9)),n=it(()=>{let s=new Date(td.timestamp);if(isNaN(s))return"dev mode, no date";{const o=a=>a<10?"0"+a.toString():a.toString();return`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()} ${s.getHours()}:${o(s.getMinutes())}:${o(s.getSeconds())}`}});return(s,o)=>{const a=wr("close"),l=wr("dropdown-menu"),c=Nt("focus-item");return Ct((pe(),Wt(l,{class:"pointer-events-auto sm:flex",position:e.position,tooltip:Ne(t)("ramp.about"),tooltipPlacement:e.position},{header:Or(()=>[ue("div",Rae,[(pe(),xe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":Ne(t)("ramp.about.open")},o[0]||(o[0]=[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,Dae))])]),default:Or(f=>[ue("div",Fae,[ue("div",null,[ue("h4",Uae,zt(Ne(t)("ramp.about")),1),ue("div",jae,[Xe(a,{onClick:f.close},null,8,["onClick"])]),ue("div",Gae,[ue("div",null,[ue("span",Vae,zt(r.value),1),ue("span",Bae," ["+zt(i.value)+"] ",1)]),ue("div",null,[ue("span",zae,zt(n.value),1)]),o[1]||(o[1]=ue("div",{class:"mt-5"},[ue("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[ue("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),ho(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[c]])}}}),Wae=ma(qae,[["__scopeId","data-v-bb2f62b1"]]),Hae={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},Yae={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},Jae=["href","aria-label"],Kae=["src","alt"],Zae={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},Xae={class:"flex min-w-fit justify-end"},Qae={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},ele=["aria-pressed","aria-label","content"],tle={class:"relative top-1 text-sm sm:text-base"},rle={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},ile=["onClick"],nle={key:0,class:"sr-only"},sle=at({__name:"map-caption",setup(e){const t=al(),r=Qi(),{t:i}=lr(),n=Hr("iApi"),s=it(()=>t.scale),o=it(()=>t.attribution),a=it(()=>t.coords),l=it(()=>t.langtoggle),c=it(()=>r.config.map),f=ne([]),d=Jr([]);d.push(ti(c,_=>{_&&n.geo.map.caption.createCaption(c.value?.caption)})),Ns(()=>{d.forEach(_=>_())}),kf(()=>{Cs(()=>{n.$i18n.locale.value&&f.value.length==0&&(f.value=n.$i18n.availableLocales)})});const p=_=>{n.$i18n.locale.value!=_&&n.setLanguage(_)},y=()=>{t.toggleScale(),n.geo.map.caption.updateScale()},g=(_=!1)=>i(_?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(_,w)=>{const x=wr("dropdown-menu"),T=Nt("truncate"),S=Nt("tippy");return pe(),xe("div",Hae,[Xe(Wae,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),Xe(kae,{class:"sm:block display-none"}),o.value?.logo.disabled?Kt("",!0):(pe(),xe("span",Yae,[ue("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[ue("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,Kae)],8,Jae)])),o.value?.text.disabled?Kt("",!0):Ct((pe(),xe("span",Zae,[ho(zt(o.value?.text.value),1)])),[[T,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),w[0]||(w[0]=ue("span",{class:"flex-grow w-15"},null,-1)),ue("div",Xae,[a.value?.disabled?Kt("",!0):Ct((pe(),xe("div",Qae,[ho(zt(a.value?.formattedString),1)])),[[T,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),s.value?.disabled?Kt("",!0):Ct((pe(),xe("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:y,"aria-pressed":s.value?.isImperialScale,"aria-label":`
                    ${s.value?.label} - ${g(s.value?.isImperialScale)}
                `,content:g(s.value?.isImperialScale)},[ue("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:Ol({width:s.value?.width})},null,4),ue("span",tle,zt(s.value?.label),1)],8,ele)),[[S,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Kt("",!0):(pe(),Wt(x,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:Ne(i)("map.changeLanguage"),ariaLabel:`${Ne(i)("map.language.short")} - ${Ne(i)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:Or(()=>[ue("span",rle,zt(Ne(i)("map.language.short")),1)]),default:Or(()=>[(pe(!0),xe(Lt,null,Pl(f.value,(v,M)=>(pe(),xe("a",{key:`${v}-${M}`,class:vr(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":v===Ne(n).$i18n.locale.value}]),href:"javascript:;",onClick:O=>p(v)},[ho(zt(Ne(i)("map.language."+v))+" ",1),v===Ne(n).$i18n.locale.value?(pe(),xe("span",nle,zt(Ne(i)("map.language.curr")),1)):Kt("",!0)],10,ile))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),ole=["content","aria-label"],ale={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},lle=at({__name:"floating-button",setup(e){const t=po(),r=Hr("iApi"),{t:i}=lr(),n=it(()=>t.notificationNumber);return(s,o)=>{const a=Nt("tippy");return Ct((pe(),xe("button",{type:"button",onClick:o[0]||(o[0]=l=>Ne(r).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:Ne(i)("notifications.title"),"aria-label":Ne(i)("notifications.title")},[o[1]||(o[1]=ue("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),n.value&&n.value>0?(pe(),xe("span",ale,zt(n.value),1)):Kt("",!0)],8,ole)),[[a]])}}}),cle=ma(lle,[["__scopeId","data-v-db7ed22c"]]),ule={class:"flex items-center mb-20"},hle={class:"text-xl"},fle=at({__name:"keyboard-instructions",setup(e){const t=Hr("iApi"),{t:r}=lr(),i=ne(!1),n=ne(["app","lists","map"]),s=ne([]),o=ne(null),a=ne(null);ai(()=>{s.value.push(t.event.on("openKeyboardInstructions",()=>{i.value=!0,Cs(()=>{o.value.focus()})}))}),Ns(()=>{s.value.forEach(c=>t?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),i.value=!1)};return(c,f)=>{const d=wr("close");return i.value?(pe(),xe("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:f[3]||(f[3]=p=>i.value=!1),onKeydown:l},[ue("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:f[2]||(f[2]=Um(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[ue("div",ule,[ue("h2",hle,zt(Ne(r)("keyboardInstructions.title")),1),Xe(d,{class:"ml-auto",onClick:f[0]||(f[0]=p=>i.value=!1)})]),(pe(!0),xe(Lt,null,Pl(n.value,p=>(pe(),xe("p",{class:"whitespace-pre-line pb-10",key:p},zt(Ne(r)(`keyboardInstructions.${p}`)),1))),128)),ue("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:f[1]||(f[1]=p=>i.value=!1),ref_key:"lastEl",ref:a},zt(Ne(r)("keyboardInstructions.OK")),513)],512)],32)):Kt("",!0)}}}),Xu=hr("instance",()=>({started:ne(!1)})),dle={class:"h-full relative"},ple={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},mle={class:"absolute top-8 w-full flex justify-center"},yle={key:1,class:"w-full h-full"},gle=at({__name:"shell",setup(e){const t=Hr("iApi"),r=Xu(),i=Dn(),n=su(),{t:s}=lr(),o=it(()=>i.items.appbar),a=()=>{t?.event.emit("openKeyboardInstructions")},l=()=>n.teleported;return(c,f)=>(pe(),xe("div",dle,[ue("div",ple,[f[0]||(f[0]=ue("div",{class:"sr-only screen-reader-alert"},null,-1)),ue("div",mle,[ue("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},zt(Ne(s)("keyboardInstructions.open")),1)]),Xe(fle),Xe(soe,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Kt("",!0):(pe(),Wt(cle,{key:0})),Xe(sle,{class:"z-30"})]),Ne(r).started?(pe(),Wt(Ise,{key:0})):(pe(),xe("div",yle,f[1]||(f[1]=[ue("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(pe(!0),xe(Lt,null,Pl(l(),d=>(pe(),Wt(EE,{to:d.teleport?.target,key:d.id},[(pe(),Wt(YR,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),vle=ma(gle,[["__scopeId","data-v-14234f96"]]);/*!
  * vue-tippy v6.4.4
  * (c) 2024 
  * @license MIT
  */var on="top",Zn="bottom",Xn="right",an="left",Q3="auto",qm=[on,Zn,Xn,an],lf="start",im="end",ble="clippingParents",o9="viewport",ed="popper",_le="reference",aO=qm.reduce(function(e,t){return e.concat([t+"-"+lf,t+"-"+im])},[]),a9=[].concat(qm,[Q3]).reduce(function(e,t){return e.concat([t,t+"-"+lf,t+"-"+im])},[]),wle="beforeRead",Sle="read",xle="afterRead",Ele="beforeMain",Tle="main",Ale="afterMain",Mle="beforeWrite",Ile="write",Ole="afterWrite",$le=[wle,Sle,xle,Ele,Tle,Ale,Mle,Ile,Ole];function xo(e){return e?(e.nodeName||"").toLowerCase():null}function Ps(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function cf(e){var t=Ps(e).Element;return e instanceof t||e instanceof Element}function Yn(e){var t=Ps(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function l9(e){if(typeof ShadowRoot>"u")return!1;var t=Ps(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Cle(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var i=t.styles[r]||{},n=t.attributes[r]||{},s=t.elements[r];!Yn(s)||!xo(s)||(Object.assign(s.style,i),Object.keys(n).forEach(function(o){var a=n[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Nle(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(i){var n=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:r[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Yn(n)||!xo(n)||(Object.assign(n.style,a),Object.keys(s).forEach(function(l){n.removeAttribute(l)}))})}}var c9={name:"applyStyles",enabled:!0,phase:"write",fn:Cle,effect:Nle,requires:["computeStyles"]};function mo(e){return e.split("-")[0]}var Uc=Math.max,u1=Math.min,uf=Math.round;function hf(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),i=1,n=1;if(Yn(e)&&t){var s=e.offsetHeight,o=e.offsetWidth;o>0&&(i=uf(r.width)/o||1),s>0&&(n=uf(r.height)/s||1)}return{width:r.width/i,height:r.height/n,top:r.top/n,right:r.right/i,bottom:r.bottom/n,left:r.left/i,x:r.left/i,y:r.top/n}}function eT(e){var t=hf(e),r=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:i}}function u9(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&l9(r)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Eo(e){return Ps(e).getComputedStyle(e)}function Ple(e){return["table","td","th"].indexOf(xo(e))>=0}function Fl(e){return((cf(e)?e.ownerDocument:e.document)||window.document).documentElement}function zv(e){return xo(e)==="html"?e:e.assignedSlot||e.parentNode||(l9(e)?e.host:null)||Fl(e)}function lO(e){return!Yn(e)||Eo(e).position==="fixed"?null:e.offsetParent}function Lle(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&Yn(e)){var i=Eo(e);if(i.position==="fixed")return null}for(var n=zv(e);Yn(n)&&["html","body"].indexOf(xo(n))<0;){var s=Eo(n);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return n;n=n.parentNode}return null}function Wm(e){for(var t=Ps(e),r=lO(e);r&&Ple(r)&&Eo(r).position==="static";)r=lO(r);return r&&(xo(r)==="html"||xo(r)==="body"&&Eo(r).position==="static")?t:r||Lle(e)||t}function tT(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function np(e,t,r){return Uc(e,u1(t,r))}function kle(e,t,r){var i=np(e,t,r);return i>r?r:i}function h9(){return{top:0,right:0,bottom:0,left:0}}function f9(e){return Object.assign({},h9(),e)}function d9(e,t){return t.reduce(function(r,i){return r[i]=e,r},{})}var Rle=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,f9(typeof t!="number"?t:d9(t,qm))};function Dle(e){var t,r=e.state,i=e.name,n=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,a=mo(r.placement),l=tT(a),c=[an,Xn].indexOf(a)>=0,f=c?"height":"width";if(!(!s||!o)){var d=Rle(n.padding,r),p=eT(s),y=l==="y"?on:an,g=l==="y"?Zn:Xn,_=r.rects.reference[f]+r.rects.reference[l]-o[l]-r.rects.popper[f],w=o[l]-r.rects.reference[l],x=Wm(s),T=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,S=_/2-w/2,v=d[y],M=T-p[f]-d[g],O=T/2-p[f]/2+S,P=np(v,O,M),R=l;r.modifiersData[i]=(t={},t[R]=P,t.centerOffset=P-O,t)}}function Fle(e){var t=e.state,r=e.options,i=r.element,n=i===void 0?"[data-popper-arrow]":i;n!=null&&(typeof n=="string"&&(n=t.elements.popper.querySelector(n),!n)||u9(t.elements.popper,n)&&(t.elements.arrow=n))}var Ule={name:"arrow",enabled:!0,phase:"main",fn:Dle,effect:Fle,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ff(e){return e.split("-")[1]}var jle={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gle(e){var t=e.x,r=e.y,i=window,n=i.devicePixelRatio||1;return{x:uf(t*n)/n||0,y:uf(r*n)/n||0}}function cO(e){var t,r=e.popper,i=e.popperRect,n=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,d=e.isFixed,p=f===!0?Gle(o):typeof f=="function"?f(o):o,y=p.x,g=y===void 0?0:y,_=p.y,w=_===void 0?0:_,x=o.hasOwnProperty("x"),T=o.hasOwnProperty("y"),S=an,v=on,M=window;if(c){var O=Wm(r),P="clientHeight",R="clientWidth";if(O===Ps(r)&&(O=Fl(r),Eo(O).position!=="static"&&a==="absolute"&&(P="scrollHeight",R="scrollWidth")),O=O,n===on||(n===an||n===Xn)&&s===im){v=Zn;var k=d&&M.visualViewport?M.visualViewport.height:O[P];w-=k-i.height,w*=l?1:-1}if(n===an||(n===on||n===Zn)&&s===im){S=Xn;var G=d&&M.visualViewport?M.visualViewport.width:O[R];g-=G-i.width,g*=l?1:-1}}var V=Object.assign({position:a},c&&jle);if(l){var U;return Object.assign({},V,(U={},U[v]=T?"0":"",U[S]=x?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",U))}return Object.assign({},V,(t={},t[v]=T?w+"px":"",t[S]=x?g+"px":"",t.transform="",t))}function Vle(e){var t=e.state,r=e.options,i=r.gpuAcceleration,n=i===void 0?!0:i,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:mo(t.placement),variation:ff(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,cO(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,cO(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Ble={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vle,data:{}},R0={passive:!0};function zle(e){var t=e.state,r=e.instance,i=e.options,n=i.scroll,s=n===void 0?!0:n,o=i.resize,a=o===void 0?!0:o,l=Ps(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(f){f.addEventListener("scroll",r.update,R0)}),a&&l.addEventListener("resize",r.update,R0),function(){s&&c.forEach(function(f){f.removeEventListener("scroll",r.update,R0)}),a&&l.removeEventListener("resize",r.update,R0)}}var qle={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zle,data:{}},Wle={left:"right",right:"left",bottom:"top",top:"bottom"};function qy(e){return e.replace(/left|right|bottom|top/g,function(t){return Wle[t]})}var Hle={start:"end",end:"start"};function uO(e){return e.replace(/start|end/g,function(t){return Hle[t]})}function rT(e){var t=Ps(e),r=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:r,scrollTop:i}}function iT(e){return hf(Fl(e)).left+rT(e).scrollLeft}function Yle(e){var t=Ps(e),r=Fl(e),i=t.visualViewport,n=r.clientWidth,s=r.clientHeight,o=0,a=0;return i&&(n=i.width,s=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:n,height:s,x:o+iT(e),y:a}}function Jle(e){var t,r=Fl(e),i=rT(e),n=(t=e.ownerDocument)==null?void 0:t.body,s=Uc(r.scrollWidth,r.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=Uc(r.scrollHeight,r.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-i.scrollLeft+iT(e),l=-i.scrollTop;return Eo(n||r).direction==="rtl"&&(a+=Uc(r.clientWidth,n?n.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function nT(e){var t=Eo(e),r=t.overflow,i=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+n+i)}function p9(e){return["html","body","#document"].indexOf(xo(e))>=0?e.ownerDocument.body:Yn(e)&&nT(e)?e:p9(zv(e))}function sp(e,t){var r;t===void 0&&(t=[]);var i=p9(e),n=i===((r=e.ownerDocument)==null?void 0:r.body),s=Ps(i),o=n?[s].concat(s.visualViewport||[],nT(i)?i:[]):i,a=t.concat(o);return n?a:a.concat(sp(zv(o)))}function yS(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Kle(e){var t=hf(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function hO(e,t){return t===o9?yS(Yle(e)):cf(t)?Kle(t):yS(Jle(Fl(e)))}function Zle(e){var t=sp(zv(e)),r=["absolute","fixed"].indexOf(Eo(e).position)>=0,i=r&&Yn(e)?Wm(e):e;return cf(i)?t.filter(function(n){return cf(n)&&u9(n,i)&&xo(n)!=="body"&&(r?Eo(n).position!=="static":!0)}):[]}function Xle(e,t,r){var i=t==="clippingParents"?Zle(e):[].concat(t),n=[].concat(i,[r]),s=n[0],o=n.reduce(function(a,l){var c=hO(e,l);return a.top=Uc(c.top,a.top),a.right=u1(c.right,a.right),a.bottom=u1(c.bottom,a.bottom),a.left=Uc(c.left,a.left),a},hO(e,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function m9(e){var t=e.reference,r=e.element,i=e.placement,n=i?mo(i):null,s=i?ff(i):null,o=t.x+t.width/2-r.width/2,a=t.y+t.height/2-r.height/2,l;switch(n){case on:l={x:o,y:t.y-r.height};break;case Zn:l={x:o,y:t.y+t.height};break;case Xn:l={x:t.x+t.width,y:a};break;case an:l={x:t.x-r.width,y:a};break;default:l={x:t.x,y:t.y}}var c=n?tT(n):null;if(c!=null){var f=c==="y"?"height":"width";switch(s){case lf:l[c]=l[c]-(t[f]/2-r[f]/2);break;case im:l[c]=l[c]+(t[f]/2-r[f]/2);break}}return l}function nm(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=i===void 0?e.placement:i,s=r.boundary,o=s===void 0?ble:s,a=r.rootBoundary,l=a===void 0?o9:a,c=r.elementContext,f=c===void 0?ed:c,d=r.altBoundary,p=d===void 0?!1:d,y=r.padding,g=y===void 0?0:y,_=f9(typeof g!="number"?g:d9(g,qm)),w=f===ed?_le:ed,x=e.rects.popper,T=e.elements[p?w:f],S=Xle(cf(T)?T:T.contextElement||Fl(e.elements.popper),o,l),v=hf(e.elements.reference),M=m9({reference:v,element:x,strategy:"absolute",placement:n}),O=yS(Object.assign({},x,M)),P=f===ed?O:v,R={top:S.top-P.top+_.top,bottom:P.bottom-S.bottom+_.bottom,left:S.left-P.left+_.left,right:P.right-S.right+_.right},k=e.modifiersData.offset;if(f===ed&&k){var G=k[n];Object.keys(R).forEach(function(V){var U=[Xn,Zn].indexOf(V)>=0?1:-1,Y=[on,Zn].indexOf(V)>=0?"y":"x";R[V]+=G[Y]*U})}return R}function Qle(e,t){t===void 0&&(t={});var r=t,i=r.placement,n=r.boundary,s=r.rootBoundary,o=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?a9:l,f=ff(i),d=f?a?aO:aO.filter(function(g){return ff(g)===f}):qm,p=d.filter(function(g){return c.indexOf(g)>=0});p.length===0&&(p=d);var y=p.reduce(function(g,_){return g[_]=nm(e,{placement:_,boundary:n,rootBoundary:s,padding:o})[mo(_)],g},{});return Object.keys(y).sort(function(g,_){return y[g]-y[_]})}function ece(e){if(mo(e)===Q3)return[];var t=qy(e);return[uO(e),t,uO(t)]}function tce(e){var t=e.state,r=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!0:o,l=r.fallbackPlacements,c=r.padding,f=r.boundary,d=r.rootBoundary,p=r.altBoundary,y=r.flipVariations,g=y===void 0?!0:y,_=r.allowedAutoPlacements,w=t.options.placement,x=mo(w),T=x===w,S=l||(T||!g?[qy(w)]:ece(w)),v=[w].concat(S).reduce(function(Fe,Ve){return Fe.concat(mo(Ve)===Q3?Qle(t,{placement:Ve,boundary:f,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:_}):Ve)},[]),M=t.rects.reference,O=t.rects.popper,P=new Map,R=!0,k=v[0],G=0;G<v.length;G++){var V=v[G],U=mo(V),Y=ff(V)===lf,se=[on,Zn].indexOf(U)>=0,h=se?"width":"height",m=nm(t,{placement:V,boundary:f,rootBoundary:d,altBoundary:p,padding:c}),E=se?Y?Xn:an:Y?Zn:on;M[h]>O[h]&&(E=qy(E));var N=qy(E),q=[];if(s&&q.push(m[U]<=0),a&&q.push(m[E]<=0,m[N]<=0),q.every(function(Fe){return Fe})){k=V,R=!1;break}P.set(V,q)}if(R)for(var K=g?3:1,fe=function(Ve){var Oe=v.find(function(vt){var rt=P.get(vt);if(rt)return rt.slice(0,Ve).every(function(pt){return pt})});if(Oe)return k=Oe,"break"},ae=K;ae>0;ae--){var Ae=fe(ae);if(Ae==="break")break}t.placement!==k&&(t.modifiersData[i]._skip=!0,t.placement=k,t.reset=!0)}}var rce={name:"flip",enabled:!0,phase:"main",fn:tce,requiresIfExists:["offset"],data:{_skip:!1}};function fO(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function dO(e){return[on,Xn,Zn,an].some(function(t){return e[t]>=0})}function ice(e){var t=e.state,r=e.name,i=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,o=nm(t,{elementContext:"reference"}),a=nm(t,{altBoundary:!0}),l=fO(o,i),c=fO(a,n,s),f=dO(l),d=dO(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":d})}var nce={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ice};function sce(e,t,r){var i=mo(e),n=[an,on].indexOf(i)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*n,[an,Xn].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function oce(e){var t=e.state,r=e.options,i=e.name,n=r.offset,s=n===void 0?[0,0]:n,o=a9.reduce(function(f,d){return f[d]=sce(d,t.rects,s),f},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}var ace={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:oce};function lce(e){var t=e.state,r=e.name;t.modifiersData[r]=m9({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var cce={name:"popperOffsets",enabled:!0,phase:"read",fn:lce,data:{}};function uce(e){return e==="x"?"y":"x"}function hce(e){var t=e.state,r=e.options,i=e.name,n=r.mainAxis,s=n===void 0?!0:n,o=r.altAxis,a=o===void 0?!1:o,l=r.boundary,c=r.rootBoundary,f=r.altBoundary,d=r.padding,p=r.tether,y=p===void 0?!0:p,g=r.tetherOffset,_=g===void 0?0:g,w=nm(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:f}),x=mo(t.placement),T=ff(t.placement),S=!T,v=tT(x),M=uce(v),O=t.modifiersData.popperOffsets,P=t.rects.reference,R=t.rects.popper,k=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,G=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(O){if(s){var Y,se=v==="y"?on:an,h=v==="y"?Zn:Xn,m=v==="y"?"height":"width",E=O[v],N=E+w[se],q=E-w[h],K=y?-R[m]/2:0,fe=T===lf?P[m]:R[m],ae=T===lf?-R[m]:-P[m],Ae=t.elements.arrow,Fe=y&&Ae?eT(Ae):{width:0,height:0},Ve=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:h9(),Oe=Ve[se],vt=Ve[h],rt=np(0,P[m],Fe[m]),pt=S?P[m]/2-K-rt-Oe-G.mainAxis:fe-rt-Oe-G.mainAxis,ft=S?-P[m]/2+K+rt+vt+G.mainAxis:ae+rt+vt+G.mainAxis,nt=t.elements.arrow&&Wm(t.elements.arrow),Dt=nt?v==="y"?nt.clientTop||0:nt.clientLeft||0:0,z=(Y=V?.[v])!=null?Y:0,F=E+pt-z-Dt,J=E+ft-z,le=np(y?u1(N,F):N,E,y?Uc(q,J):q);O[v]=le,U[v]=le-E}if(a){var ie,$=v==="x"?on:an,j=v==="x"?Zn:Xn,I=O[M],L=M==="y"?"height":"width",B=I+w[$],Z=I-w[j],te=[on,an].indexOf(x)!==-1,ee=(ie=V?.[M])!=null?ie:0,H=te?B:I-P[L]-R[L]-ee+G.altAxis,X=te?I+P[L]+R[L]-ee-G.altAxis:Z,ve=y&&te?kle(H,I,X):np(y?H:B,I,y?X:Z);O[M]=ve,U[M]=ve-I}t.modifiersData[i]=U}}var fce={name:"preventOverflow",enabled:!0,phase:"main",fn:hce,requiresIfExists:["offset"]};function dce(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function pce(e){return e===Ps(e)||!Yn(e)?rT(e):dce(e)}function mce(e){var t=e.getBoundingClientRect(),r=uf(t.width)/e.offsetWidth||1,i=uf(t.height)/e.offsetHeight||1;return r!==1||i!==1}function yce(e,t,r){r===void 0&&(r=!1);var i=Yn(t),n=Yn(t)&&mce(t),s=Fl(t),o=hf(e,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!r)&&((xo(t)!=="body"||nT(s))&&(a=pce(t)),Yn(t)?(l=hf(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=iT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function gce(e){var t=new Map,r=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function n(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var l=t.get(a);l&&n(l)}}),i.push(s)}return e.forEach(function(s){r.has(s.name)||n(s)}),i}function vce(e){var t=gce(e);return $le.reduce(function(r,i){return r.concat(t.filter(function(n){return n.phase===i}))},[])}function bce(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function _ce(e){var t=e.reduce(function(r,i){var n=r[i.name];return r[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,r},{});return Object.keys(t).map(function(r){return t[r]})}var pO={placement:"bottom",modifiers:[],strategy:"absolute"};function mO(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function wce(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,i=r===void 0?[]:r,n=t.defaultOptions,s=n===void 0?pO:n;return function(a,l,c){c===void 0&&(c=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},pO,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],p=!1,y={state:f,setOptions:function(x){var T=typeof x=="function"?x(f.options):x;_(),f.options=Object.assign({},s,f.options,T),f.scrollParents={reference:cf(a)?sp(a):a.contextElement?sp(a.contextElement):[],popper:sp(l)};var S=vce(_ce([].concat(i,f.options.modifiers)));return f.orderedModifiers=S.filter(function(v){return v.enabled}),g(),y.update()},forceUpdate:function(){if(!p){var x=f.elements,T=x.reference,S=x.popper;if(mO(T,S)){f.rects={reference:yce(T,Wm(S),f.options.strategy==="fixed"),popper:eT(S)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(G){return f.modifiersData[G.name]=Object.assign({},G.data)});for(var v=0;v<f.orderedModifiers.length;v++){if(f.reset===!0){f.reset=!1,v=-1;continue}var M=f.orderedModifiers[v],O=M.fn,P=M.options,R=P===void 0?{}:P,k=M.name;typeof O=="function"&&(f=O({state:f,options:R,name:k,instance:y})||f)}}}},update:bce(function(){return new Promise(function(w){y.forceUpdate(),w(f)})}),destroy:function(){_(),p=!0}};if(!mO(a,l))return y;y.setOptions(c).then(function(w){!p&&c.onFirstUpdate&&c.onFirstUpdate(w)});function g(){f.orderedModifiers.forEach(function(w){var x=w.name,T=w.options,S=T===void 0?{}:T,v=w.effect;if(typeof v=="function"){var M=v({state:f,name:x,instance:y,options:S}),O=function(){};d.push(M||O)}})}function _(){d.forEach(function(w){return w()}),d=[]}return y}}var Sce=[qle,cce,Ble,c9,ace,rce,fce,Ule,nce],xce=wce({defaultModifiers:Sce}),Ece="tippy-box",y9="tippy-content",g9="tippy-backdrop",v9="tippy-arrow",b9="tippy-svg-arrow",yc={passive:!0,capture:!0},_9=function(){return document.body};function r_(e,t,r){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(r)?r[t]:r)}return e}function sT(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function w9(e,t){return typeof e=="function"?e.apply(void 0,t):e}function yO(e,t){if(t===0)return e;var r;return function(i){clearTimeout(r),r=setTimeout(function(){e(i)},t)}}function Tce(e,t){var r=Object.assign({},e);return t.forEach(function(i){delete r[i]}),r}function Ace(e){return e.split(/\s+/).filter(Boolean)}function bc(e){return[].concat(e)}function gO(e,t){e.indexOf(t)===-1&&e.push(t)}function Mce(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function S9(e){return e.split("-")[0]}function df(e){return[].slice.call(e)}function vO(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function jc(){return document.createElement("div")}function qv(e){return["Element","Fragment"].some(function(t){return sT(e,t)})}function Ice(e){return sT(e,"NodeList")}function oT(e){return sT(e,"MouseEvent")}function Oce(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function $ce(e){return qv(e)?[e]:Ice(e)?df(e):Array.isArray(e)?e:df(document.querySelectorAll(e))}function i_(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function sm(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function x9(e){var t,r=bc(e),i=r[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function Cce(e,t){var r=t.clientX,i=t.clientY;return e.every(function(n){var s=n.popperRect,o=n.popperState,a=n.props,l=a.interactiveBorder,c=S9(o.placement),f=o.modifiersData.offset;if(!f)return!0;var d=c==="bottom"?f.top.y:0,p=c==="top"?f.bottom.y:0,y=c==="right"?f.left.x:0,g=c==="left"?f.right.x:0,_=s.top-i+d>l,w=i-s.bottom-p>l,x=s.left-r+y>l,T=r-s.right-g>l;return _||w||x||T})}function n_(e,t,r){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){e[i](n,r)})}function bO(e,t){for(var r=t;r;){var i;if(e.contains(r))return!0;r=r.getRootNode==null||(i=r.getRootNode())==null?void 0:i.host}return!1}var Xs={isTouch:!1},_O=0;function Nce(){Xs.isTouch||(Xs.isTouch=!0,window.performance&&document.addEventListener("mousemove",E9))}function E9(){var e=performance.now();e-_O<20&&(Xs.isTouch=!1,document.removeEventListener("mousemove",E9)),_O=e}function Pce(){var e=document.activeElement;if(Oce(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Lce(){document.addEventListener("touchstart",Nce,yc),window.addEventListener("blur",Pce)}var kce=typeof window<"u"&&typeof document<"u",Rce=kce?!!window.msCrypto:!1,Dce={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Fce={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ys=Object.assign({appendTo:_9,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Dce,Fce),Uce=Object.keys(ys),jce=function(t){var r=Object.keys(t);r.forEach(function(i){ys[i]=t[i]})};function T9(e){var t=e.plugins||[],r=t.reduce(function(i,n){var s=n.name,o=n.defaultValue;if(s){var a;i[s]=e[s]!==void 0?e[s]:(a=ys[s])!=null?a:o}return i},{});return Object.assign({},e,r)}function Gce(e,t){var r=t?Object.keys(T9(Object.assign({},ys,{plugins:t}))):Uce,i=r.reduce(function(n,s){var o=(e.getAttribute("data-tippy-"+s)||"").trim();if(!o)return n;if(s==="content")n[s]=o;else try{n[s]=JSON.parse(o)}catch{n[s]=o}return n},{});return i}function wO(e,t){var r=Object.assign({},t,{content:w9(t.content,[e])},t.ignoreAttributes?{}:Gce(e,t.plugins));return r.aria=Object.assign({},ys.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var Vce=function(){return"innerHTML"};function gS(e,t){e[Vce()]=t}function SO(e){var t=jc();return e===!0?t.className=v9:(t.className=b9,qv(e)?t.appendChild(e):gS(t,e)),t}function xO(e,t){qv(t.content)?(gS(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?gS(e,t.content):e.textContent=t.content)}function h1(e){var t=e.firstElementChild,r=df(t.children);return{box:t,content:r.find(function(i){return i.classList.contains(y9)}),arrow:r.find(function(i){return i.classList.contains(v9)||i.classList.contains(b9)}),backdrop:r.find(function(i){return i.classList.contains(g9)})}}function A9(e){var t=jc(),r=jc();r.className=Ece,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var i=jc();i.className=y9,i.setAttribute("data-state","hidden"),xO(i,e.props),t.appendChild(r),r.appendChild(i),n(e.props,e.props);function n(s,o){var a=h1(t),l=a.box,c=a.content,f=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&xO(c,e.props),o.arrow?f?s.arrow!==o.arrow&&(l.removeChild(f),l.appendChild(SO(o.arrow))):l.appendChild(SO(o.arrow)):f&&l.removeChild(f)}return{popper:t,onUpdate:n}}A9.$$tippy=!0;var Bce=1,D0=[],s_=[];function zce(e,t){var r=wO(e,Object.assign({},ys,T9(vO(t)))),i,n,s,o=!1,a=!1,l=!1,c=!1,f,d,p,y=[],g=yO(F,r.interactiveDebounce),_,w=Bce++,x=null,T=Mce(r.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},v={id:w,reference:e,popper:jc(),popperInstance:x,props:r,state:S,plugins:T,clearDelayTimeouts:H,setProps:X,setContent:ve,show:Ie,hide:mt,hideWithInteractivity:Ht,enable:te,disable:ee,unmount:fr,destroy:Dr};if(!r.render)return v;var M=r.render(v),O=M.popper,P=M.onUpdate;O.setAttribute("data-tippy-root",""),O.id="tippy-"+v.id,v.popper=O,e._tippy=v,O._tippy=v;var R=T.map(function(re){return re.fn(v)}),k=e.hasAttribute("aria-expanded");return nt(),K(),E(),N("onCreate",[v]),r.showOnCreate&&B(),O.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),O.addEventListener("mouseleave",function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&se().addEventListener("mousemove",g)}),v;function G(){var re=v.props.touch;return Array.isArray(re)?re:[re,0]}function V(){return G()[0]==="hold"}function U(){var re;return!!((re=v.props.render)!=null&&re.$$tippy)}function Y(){return _||e}function se(){var re=Y().parentNode;return re?x9(re):document}function h(){return h1(O)}function m(re){return v.state.isMounted&&!v.state.isVisible||Xs.isTouch||f&&f.type==="focus"?0:r_(v.props.delay,re?0:1,ys.delay)}function E(re){re===void 0&&(re=!1),O.style.pointerEvents=v.props.interactive&&!re?"":"none",O.style.zIndex=""+v.props.zIndex}function N(re,Me,$e){if($e===void 0&&($e=!0),R.forEach(function(Qe){Qe[re]&&Qe[re].apply(Qe,Me)}),$e){var Ye;(Ye=v.props)[re].apply(Ye,Me)}}function q(){var re=v.props.aria;if(re.content){var Me="aria-"+re.content,$e=O.id,Ye=bc(v.props.triggerTarget||e);Ye.forEach(function(Qe){var Fr=Qe.getAttribute(Me);if(v.state.isVisible)Qe.setAttribute(Me,Fr?Fr+" "+$e:$e);else{var li=Fr&&Fr.replace($e,"").trim();li?Qe.setAttribute(Me,li):Qe.removeAttribute(Me)}})}}function K(){if(!(k||!v.props.aria.expanded)){var re=bc(v.props.triggerTarget||e);re.forEach(function(Me){v.props.interactive?Me.setAttribute("aria-expanded",v.state.isVisible&&Me===Y()?"true":"false"):Me.removeAttribute("aria-expanded")})}}function fe(){se().removeEventListener("mousemove",g),D0=D0.filter(function(re){return re!==g})}function ae(re){if(!(Xs.isTouch&&(l||re.type==="mousedown"))){var Me=re.composedPath&&re.composedPath()[0]||re.target;if(!(v.props.interactive&&bO(O,Me))){if(bc(v.props.triggerTarget||e).some(function($e){return bO($e,Me)})){if(Xs.isTouch||v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[v,re]);v.props.hideOnClick===!0&&(v.clearDelayTimeouts(),v.hide(),a=!0,setTimeout(function(){a=!1}),v.state.isMounted||Oe())}}}function Ae(){l=!0}function Fe(){l=!1}function Ve(){var re=se();re.addEventListener("mousedown",ae,!0),re.addEventListener("touchend",ae,yc),re.addEventListener("touchstart",Fe,yc),re.addEventListener("touchmove",Ae,yc)}function Oe(){var re=se();re.removeEventListener("mousedown",ae,!0),re.removeEventListener("touchend",ae,yc),re.removeEventListener("touchstart",Fe,yc),re.removeEventListener("touchmove",Ae,yc)}function vt(re,Me){pt(re,function(){!v.state.isVisible&&O.parentNode&&O.parentNode.contains(O)&&Me()})}function rt(re,Me){pt(re,Me)}function pt(re,Me){var $e=h().box;function Ye(Qe){Qe.target===$e&&(n_($e,"remove",Ye),Me())}if(re===0)return Me();n_($e,"remove",d),n_($e,"add",Ye),d=Ye}function ft(re,Me,$e){$e===void 0&&($e=!1);var Ye=bc(v.props.triggerTarget||e);Ye.forEach(function(Qe){Qe.addEventListener(re,Me,$e),y.push({node:Qe,eventType:re,handler:Me,options:$e})})}function nt(){V()&&(ft("touchstart",z,{passive:!0}),ft("touchend",J,{passive:!0})),Ace(v.props.trigger).forEach(function(re){if(re!=="manual")switch(ft(re,z),re){case"mouseenter":ft("mouseleave",J);break;case"focus":ft(Rce?"focusout":"blur",le);break;case"focusin":ft("focusout",le);break}})}function Dt(){y.forEach(function(re){var Me=re.node,$e=re.eventType,Ye=re.handler,Qe=re.options;Me.removeEventListener($e,Ye,Qe)}),y=[]}function z(re){var Me,$e=!1;if(!(!v.state.isEnabled||ie(re)||a)){var Ye=((Me=f)==null?void 0:Me.type)==="focus";f=re,_=re.currentTarget,K(),!v.state.isVisible&&oT(re)&&D0.forEach(function(Qe){return Qe(re)}),re.type==="click"&&(v.props.trigger.indexOf("mouseenter")<0||o)&&v.props.hideOnClick!==!1&&v.state.isVisible?$e=!0:B(re),re.type==="click"&&(o=!$e),$e&&!Ye&&Z(re)}}function F(re){var Me=re.target,$e=Y().contains(Me)||O.contains(Me);if(!(re.type==="mousemove"&&$e)){var Ye=L().concat(O).map(function(Qe){var Fr,li=Qe._tippy,Ls=(Fr=li.popperInstance)==null?void 0:Fr.state;return Ls?{popperRect:Qe.getBoundingClientRect(),popperState:Ls,props:r}:null}).filter(Boolean);Cce(Ye,re)&&(fe(),Z(re))}}function J(re){var Me=ie(re)||v.props.trigger.indexOf("click")>=0&&o;if(!Me){if(v.props.interactive){v.hideWithInteractivity(re);return}Z(re)}}function le(re){v.props.trigger.indexOf("focusin")<0&&re.target!==Y()||v.props.interactive&&re.relatedTarget&&O.contains(re.relatedTarget)||Z(re)}function ie(re){return Xs.isTouch?V()!==re.type.indexOf("touch")>=0:!1}function $(){j();var re=v.props,Me=re.popperOptions,$e=re.placement,Ye=re.offset,Qe=re.getReferenceClientRect,Fr=re.moveTransition,li=U()?h1(O).arrow:null,Ls=Qe?{getBoundingClientRect:Qe,contextElement:Qe.contextElement||Y()}:e,ya={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Eu){var ga=Eu.state;if(U()){var Xv=h(),Tu=Xv.box;["placement","reference-hidden","escaped"].forEach(function(Ul){Ul==="placement"?Tu.setAttribute("data-placement",ga.placement):ga.attributes.popper["data-popper-"+Ul]?Tu.setAttribute("data-"+Ul,""):Tu.removeAttribute("data-"+Ul)}),ga.attributes.popper={}}}},Ao=[{name:"offset",options:{offset:Ye}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Fr}},ya];U()&&li&&Ao.push({name:"arrow",options:{element:li,padding:3}}),Ao.push.apply(Ao,Me?.modifiers||[]),v.popperInstance=xce(Ls,O,Object.assign({},Me,{placement:$e,onFirstUpdate:p,modifiers:Ao}))}function j(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function I(){var re=v.props.appendTo,Me,$e=Y();v.props.interactive&&re===_9||re==="parent"?Me=$e.parentNode:Me=w9(re,[$e]),Me.contains(O)||Me.appendChild(O),v.state.isMounted=!0,$()}function L(){return df(O.querySelectorAll("[data-tippy-root]"))}function B(re){v.clearDelayTimeouts(),re&&N("onTrigger",[v,re]),Ve();var Me=m(!0),$e=G(),Ye=$e[0],Qe=$e[1];Xs.isTouch&&Ye==="hold"&&Qe&&(Me=Qe),Me?i=setTimeout(function(){v.show()},Me):v.show()}function Z(re){if(v.clearDelayTimeouts(),N("onUntrigger",[v,re]),!v.state.isVisible){Oe();return}if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(re.type)>=0&&o)){var Me=m(!1);Me?n=setTimeout(function(){v.state.isVisible&&v.hide()},Me):s=requestAnimationFrame(function(){v.hide()})}}function te(){v.state.isEnabled=!0}function ee(){v.hide(),v.state.isEnabled=!1}function H(){clearTimeout(i),clearTimeout(n),cancelAnimationFrame(s)}function X(re){if(!v.state.isDestroyed){N("onBeforeUpdate",[v,re]),Dt();var Me=v.props,$e=wO(e,Object.assign({},Me,vO(re),{ignoreAttributes:!0}));v.props=$e,nt(),Me.interactiveDebounce!==$e.interactiveDebounce&&(fe(),g=yO(F,$e.interactiveDebounce)),Me.triggerTarget&&!$e.triggerTarget?bc(Me.triggerTarget).forEach(function(Ye){Ye.removeAttribute("aria-expanded")}):$e.triggerTarget&&e.removeAttribute("aria-expanded"),K(),E(),P&&P(Me,$e),v.popperInstance&&($(),L().forEach(function(Ye){requestAnimationFrame(Ye._tippy.popperInstance.forceUpdate)})),N("onAfterUpdate",[v,re])}}function ve(re){v.setProps({content:re})}function Ie(){var re=v.state.isVisible,Me=v.state.isDestroyed,$e=!v.state.isEnabled,Ye=Xs.isTouch&&!v.props.touch,Qe=r_(v.props.duration,0,ys.duration);if(!(re||Me||$e||Ye)&&!Y().hasAttribute("disabled")&&(N("onShow",[v],!1),v.props.onShow(v)!==!1)){if(v.state.isVisible=!0,U()&&(O.style.visibility="visible"),E(),Ve(),v.state.isMounted||(O.style.transition="none"),U()){var Fr=h(),li=Fr.box,Ls=Fr.content;i_([li,Ls],0)}p=function(){var Ao;if(!(!v.state.isVisible||c)){if(c=!0,O.offsetHeight,O.style.transition=v.props.moveTransition,U()&&v.props.animation){var Df=h(),Eu=Df.box,ga=Df.content;i_([Eu,ga],Qe),sm([Eu,ga],"visible")}q(),K(),gO(s_,v),(Ao=v.popperInstance)==null||Ao.forceUpdate(),N("onMount",[v]),v.props.animation&&U()&&rt(Qe,function(){v.state.isShown=!0,N("onShown",[v])})}},I()}}function mt(){var re=!v.state.isVisible,Me=v.state.isDestroyed,$e=!v.state.isEnabled,Ye=r_(v.props.duration,1,ys.duration);if(!(re||Me||$e)&&(N("onHide",[v],!1),v.props.onHide(v)!==!1)){if(v.state.isVisible=!1,v.state.isShown=!1,c=!1,o=!1,U()&&(O.style.visibility="hidden"),fe(),Oe(),E(!0),U()){var Qe=h(),Fr=Qe.box,li=Qe.content;v.props.animation&&(i_([Fr,li],Ye),sm([Fr,li],"hidden"))}q(),K(),v.props.animation?U()&&vt(Ye,v.unmount):v.unmount()}}function Ht(re){se().addEventListener("mousemove",g),gO(D0,g),g(re)}function fr(){v.state.isVisible&&v.hide(),v.state.isMounted&&(j(),L().forEach(function(re){re._tippy.unmount()}),O.parentNode&&O.parentNode.removeChild(O),s_=s_.filter(function(re){return re!==v}),v.state.isMounted=!1,N("onHidden",[v]))}function Dr(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),Dt(),delete e._tippy,v.state.isDestroyed=!0,N("onDestroy",[v]))}}function Le(e,t){t===void 0&&(t={});var r=ys.plugins.concat(t.plugins||[]);Lce();var i=Object.assign({},t,{plugins:r}),n=$ce(e),s=n.reduce(function(o,a){var l=a&&zce(a,i);return l&&o.push(l),o},[]);return qv(e)?s[0]:s}Le.defaultProps=ys;Le.setDefaultProps=jce;Le.currentInput=Xs;var qce=Object.assign({},c9,{effect:function(t){var r=t.state,i={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,i.popper),r.styles=i,r.elements.arrow&&Object.assign(r.elements.arrow.style,i.arrow)}}),Wce=function(t,r){var i;r===void 0&&(r={});var n=t,s=[],o=[],a,l=r.overrides,c=[],f=!1;function d(){o=n.map(function(v){return bc(v.props.triggerTarget||v.reference)}).reduce(function(v,M){return v.concat(M)},[])}function p(){s=n.map(function(v){return v.reference})}function y(v){n.forEach(function(M){v?M.enable():M.disable()})}function g(v){return n.map(function(M){var O=M.setProps;return M.setProps=function(P){O(P),M.reference===a&&v.setProps(P)},function(){M.setProps=O}})}function _(v,M){var O=o.indexOf(M);if(M!==a){a=M;var P=(l||[]).concat("content").reduce(function(R,k){return R[k]=n[O].props[k],R},{});v.setProps(Object.assign({},P,{getReferenceClientRect:typeof P.getReferenceClientRect=="function"?P.getReferenceClientRect:function(){var R;return(R=s[O])==null?void 0:R.getBoundingClientRect()}}))}}y(!1),p(),d();var w={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){a=null},onClickOutside:function(O){O.props.showOnCreate&&!f&&(f=!0,a=null)},onShow:function(O){O.props.showOnCreate&&!f&&(f=!0,_(O,s[0]))},onTrigger:function(O,P){_(O,P.currentTarget)}}}},x=Le(jc(),Object.assign({},Tce(r,["overrides"]),{plugins:[w].concat(r.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},r.popperOptions,{modifiers:[].concat(((i=r.popperOptions)==null?void 0:i.modifiers)||[],[qce])})})),T=x.show;x.show=function(v){if(T(),!a&&v==null)return _(x,s[0]);if(!(a&&v==null)){if(typeof v=="number")return s[v]&&_(x,s[v]);if(n.indexOf(v)>=0){var M=v.reference;return _(x,M)}if(s.indexOf(v)>=0)return _(x,v)}},x.showNext=function(){var v=s[0];if(!a)return x.show(0);var M=s.indexOf(a);x.show(s[M+1]||v)},x.showPrevious=function(){var v=s[s.length-1];if(!a)return x.show(v);var M=s.indexOf(a),O=s[M-1]||v;x.show(O)};var S=x.setProps;return x.setProps=function(v){l=v.overrides||l,S(v)},x.setInstances=function(v){y(!0),c.forEach(function(M){return M()}),n=v,y(!1),p(),d(),c=g(x),x.setProps({triggerTarget:o})},c=g(x),x},Hce={name:"animateFill",defaultValue:!1,fn:function(t){var r;if(!((r=t.props.render)!=null&&r.$$tippy))return{};var i=h1(t.popper),n=i.box,s=i.content,o=t.props.animateFill?Yce():null;return{onCreate:function(){o&&(n.insertBefore(o,n.firstElementChild),n.setAttribute("data-animatefill",""),n.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=n.style.transitionDuration,c=Number(l.replace("ms",""));s.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,sm([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&sm([o],"hidden")}}}};function Yce(){var e=jc();return e.className=g9,sm([e],"hidden"),e}var vS={clientX:0,clientY:0},F0=[];function M9(e){var t=e.clientX,r=e.clientY;vS={clientX:t,clientY:r}}function Jce(e){e.addEventListener("mousemove",M9)}function Kce(e){e.removeEventListener("mousemove",M9)}var Zce={name:"followCursor",defaultValue:!1,fn:function(t){var r=t.reference,i=x9(t.props.triggerTarget||r),n=!1,s=!1,o=!0,a=t.props;function l(){return t.props.followCursor==="initial"&&t.state.isVisible}function c(){i.addEventListener("mousemove",p)}function f(){i.removeEventListener("mousemove",p)}function d(){n=!0,t.setProps({getReferenceClientRect:null}),n=!1}function p(_){var w=_.target?r.contains(_.target):!0,x=t.props.followCursor,T=_.clientX,S=_.clientY,v=r.getBoundingClientRect(),M=T-v.left,O=S-v.top;(w||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var R=r.getBoundingClientRect(),k=T,G=S;x==="initial"&&(k=R.left+M,G=R.top+O);var V=x==="horizontal"?R.top:G,U=x==="vertical"?R.right:k,Y=x==="horizontal"?R.bottom:G,se=x==="vertical"?R.left:k;return{width:U-se,height:Y-V,top:V,right:U,bottom:Y,left:se}}})}function y(){t.props.followCursor&&(F0.push({instance:t,doc:i}),Jce(i))}function g(){F0=F0.filter(function(_){return _.instance!==t}),F0.filter(function(_){return _.doc===i}).length===0&&Kce(i)}return{onCreate:y,onDestroy:g,onBeforeUpdate:function(){a=t.props},onAfterUpdate:function(w,x){var T=x.followCursor;n||T!==void 0&&a.followCursor!==T&&(g(),T?(y(),t.state.isMounted&&!s&&!l()&&c()):(f(),d()))},onMount:function(){t.props.followCursor&&!s&&(o&&(p(vS),o=!1),l()||c())},onTrigger:function(w,x){oT(x)&&(vS={clientX:x.clientX,clientY:x.clientY}),s=x.type==="focus"},onHidden:function(){t.props.followCursor&&(d(),f(),o=!0)}}}};function Xce(e,t){var r;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat((((r=e.popperOptions)==null?void 0:r.modifiers)||[]).filter(function(i){var n=i.name;return n!==t.name}),[t])})}}var Qce={name:"inlinePositioning",defaultValue:!1,fn:function(t){var r=t.reference;function i(){return!!t.props.inlinePositioning}var n,s=-1,o=!1,a=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(y){var g=y.state;i()&&(a.indexOf(g.placement)!==-1&&(a=[]),n!==g.placement&&a.indexOf(g.placement)===-1&&(a.push(g.placement),t.setProps({getReferenceClientRect:function(){return c(g.placement)}})),n=g.placement)}};function c(p){return eue(S9(p),r.getBoundingClientRect(),df(r.getClientRects()),s)}function f(p){o=!0,t.setProps(p),o=!1}function d(){o||f(Xce(t.props,l))}return{onCreate:d,onAfterUpdate:d,onTrigger:function(y,g){if(oT(g)){var _=df(t.reference.getClientRects()),w=_.find(function(T){return T.left-2<=g.clientX&&T.right+2>=g.clientX&&T.top-2<=g.clientY&&T.bottom+2>=g.clientY}),x=_.indexOf(w);s=x>-1?x:s}},onHidden:function(){s=-1}}}};function eue(e,t,r,i){if(r.length<2||e===null)return t;if(r.length===2&&i>=0&&r[0].left>r[1].right)return r[i]||t;switch(e){case"top":case"bottom":{var n=r[0],s=r[r.length-1],o=e==="top",a=n.top,l=s.bottom,c=o?n.left:s.left,f=o?n.right:s.right,d=f-c,p=l-a;return{top:a,bottom:l,left:c,right:f,width:d,height:p}}case"left":case"right":{var y=Math.min.apply(Math,r.map(function(O){return O.left})),g=Math.max.apply(Math,r.map(function(O){return O.right})),_=r.filter(function(O){return e==="left"?O.left===y:O.right===g}),w=_[0].top,x=_[_.length-1].bottom,T=y,S=g,v=S-T,M=x-w;return{top:w,bottom:x,left:T,right:S,width:v,height:M}}default:return t}}var tue={name:"sticky",defaultValue:!1,fn:function(t){var r=t.reference,i=t.popper;function n(){return t.popperInstance?t.popperInstance.state.elements.reference:r}function s(c){return t.props.sticky===!0||t.props.sticky===c}var o=null,a=null;function l(){var c=s("reference")?n().getBoundingClientRect():null,f=s("popper")?i.getBoundingClientRect():null;(c&&EO(o,c)||f&&EO(a,f))&&t.popperInstance&&t.popperInstance.update(),o=c,a=f,t.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){t.props.sticky&&l()}}}};function EO(e,t){return e&&t?e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left:!0}Le.setDefaultProps({render:A9});Le.setDefaultProps({onShow:e=>{if(!e.props.content)return!1}});function aT(e,t={},r={mount:!0,appName:"Tippy"}){r=Object.assign({mount:!0,appName:"Tippy"},r);const i=kr(),n=ne(),s=ne({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=Lf();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=P=>{let R,k=gt(P)?P.value:P;return Ms(k)?(o.value||(o.value=Sl({name:r.appName,setup:()=>()=>gt(P)?P.value:P}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),R=()=>l()):typeof k=="object"?(o.value||(o.value=Sl({name:r.appName,setup:()=>()=>zn(gt(P)?P.value:P)}),i&&Object.assign(o.value._context,i.appContext),o.value.mount(l())),R=()=>l()):R=k,R},f=P=>{let R={};return gt(P)?R=P.value||{}:gn(P)?R={...P}:R={...P},R.content&&(R.content=c(R.content)),R.triggerTarget&&(R.triggerTarget=gt(R.triggerTarget)?R.triggerTarget.value:R.triggerTarget),(!R.plugins||!Array.isArray(R.plugins))&&(R.plugins=[]),R.plugins=R.plugins.filter(k=>k.name!=="vueTippyReactiveState"),R.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),R},d=()=>{n.value&&n.value.setProps(f(t))},p=()=>{!n.value||!t.content||n.value.setContent(c(t.content))},y=P=>{var R;(R=n.value)===null||R===void 0||R.setContent(c(P))},g=P=>{var R;(R=n.value)===null||R===void 0||R.setProps(f(P))},_=()=>{var P;n.value&&(n.value.destroy(),n.value=void 0),a=null,(P=o.value)===null||P===void 0||P.unmount(),o.value=void 0},w=()=>{var P;(P=n.value)===null||P===void 0||P.show()},x=()=>{var P;(P=n.value)===null||P===void 0||P.hide()},T=()=>{var P;(P=n.value)===null||P===void 0||P.disable(),s.value.isEnabled=!1},S=()=>{var P;(P=n.value)===null||P===void 0||P.enable(),s.value.isEnabled=!0},v=()=>{var P;(P=n.value)===null||P===void 0||P.unmount()},M=()=>{if(!e)return;let P=gt(e)?e.value:e;typeof P=="function"&&(P=P()),P&&(n.value=Le(P,f(t)),P.$tippy=O)},O={tippy:n,refresh:d,refreshContent:p,setContent:y,setProps:g,destroy:_,hide:x,show:w,disable:T,enable:S,unmount:v,mount:M,state:s};return r.mount&&(i?i.isMounted?M():ai(M):M()),i&&wu(()=>{_()}),gt(t)||gn(t)?ti(t,d,{immediate:!1}):gt(t.content)&&ti(t.content,p,{immediate:!1}),O}function rue(e,t){const r=ne();return ai(()=>{const n=(Array.isArray(e)?e.map(s=>s.value):typeof e=="function"?e():e.value).map(s=>s instanceof Element?s._tippy:s).filter(Boolean);r.value=Wce(n,t?{allowHTML:!0,...t}:{allowHTML:!0})}),{singleton:r}}function iue(e){return typeof e=="function"?e():Ne(e)}function nue(e){var t,r;const i=iue(e);return(r=(t=i)===null||t===void 0?void 0:t.$el)!==null&&r!==void 0?r:i}const sue=at({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Le.defaultProps.appendTo},aria:{default:()=>Le.defaultProps.aria},delay:{default:()=>Le.defaultProps.delay},duration:{default:()=>Le.defaultProps.duration},getReferenceClientRect:{default:()=>Le.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Le.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Le.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Le.defaultProps.interactive},interactiveBorder:{default:()=>Le.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Le.defaultProps.interactiveDebounce},moveTransition:{default:()=>Le.defaultProps.moveTransition},offset:{default:()=>Le.defaultProps.offset},onAfterUpdate:{default:()=>Le.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Le.defaultProps.onBeforeUpdate},onCreate:{default:()=>Le.defaultProps.onCreate},onDestroy:{default:()=>Le.defaultProps.onDestroy},onHidden:{default:()=>Le.defaultProps.onHidden},onHide:{default:()=>Le.defaultProps.onHide},onMount:{default:()=>Le.defaultProps.onMount},onShow:{default:()=>Le.defaultProps.onShow},onShown:{default:()=>Le.defaultProps.onShown},onTrigger:{default:()=>Le.defaultProps.onTrigger},onUntrigger:{default:()=>Le.defaultProps.onUntrigger},onClickOutside:{default:()=>Le.defaultProps.onClickOutside},placement:{default:()=>Le.defaultProps.placement},plugins:{default:()=>Le.defaultProps.plugins},popperOptions:{default:()=>Le.defaultProps.popperOptions},render:{default:()=>Le.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Le.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Le.defaultProps.touch},trigger:{default:()=>Le.defaultProps.trigger},triggerTarget:{default:()=>Le.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Le.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Le.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Le.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Le.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Le.defaultProps.allowHTML},animation:{default:()=>Le.defaultProps.animation},arrow:{default:()=>Le.defaultProps.arrow},content:{default:()=>Le.defaultProps.content},inertia:{default:()=>Le.defaultProps.inertia},maxWidth:{default:()=>Le.defaultProps.maxWidth},role:{default:()=>Le.defaultProps.role},theme:{default:()=>Le.defaultProps.theme},zIndex:{default:()=>Le.defaultProps.zIndex}},emits:["state"],setup(e,{slots:t,emit:r,expose:i}){const n=ne(),s=ne(),o=ne(),a=ne(!1),l=()=>{let y={...e};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>nue(n);e.to&&(typeof Element<"u"&&e.to instanceof Element?c=()=>e.to:e.to==="parent"?c=()=>{let y=n.value;return y||(y=n.value=s.value.parentElement),y}:(typeof e.to=="string"||e.to instanceof String)&&(c=()=>document.querySelector(e.to)));const f=aT(c,l());let d=t.content;!d&&e.to==="parent"&&(d=t.default),ai(()=>{a.value=!0,Cs(()=>{d&&f.setContent(()=>o.value)})}),ti(f.state,()=>{r("state",Ne(f.state))},{immediate:!0,deep:!0}),ti(()=>e,()=>{f.setProps(l()),d&&f.setContent(()=>o.value)},{deep:!0});let p=Jr({elem:n,contentElem:o,mounted:a,...f});return i(p),()=>{const y=(typeof e.contentTag=="string",e.contentTag),g=d?zn(y,{ref:o,style:{display:a.value?"inherit":"none"},class:e.contentClass},d(p)):null;if(e.to==="parent"){const x=[];if(!n.value){const T=zn("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});x.push(T)}return g&&x.push(g),x}const _=t.default?t.default(p):[];if(!e.tag){const x=zn(_[0],{ref:n,"data-v-tippy":""});return g?[x,g]:x}const w=(typeof e.tag=="string",e.tag);return zn(w,{ref:n,"data-v-tippy":""},g?[_,g]:_)}}}),oue=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let bS={};Object.keys(Le.defaultProps).forEach(e=>{oue.includes(e)?bS[e]={type:Boolean,default:function(){return Le.defaultProps[e]}}:bS[e]={default:function(){return Le.defaultProps[e]}}});const aue=at({props:bS,setup(e){const t=ne([]),{singleton:r}=rue(t,e);return{instances:t,singleton:r}},mounted(){var e;const r=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(r).map(i=>i._tippy).filter(Boolean),(e=this.singleton)===null||e===void 0||e.setInstances(this.instances)},render(){let e=this.$slots.default?this.$slots.default():[];return zn(()=>e)}}),lue={mounted(e,t,r){const i=typeof t.value=="string"?{content:t.value}:t.value||{},n=Object.keys(t.modifiers||{}),s=n.find(a=>a!=="arrow"),o=n.findIndex(a=>a==="arrow")!==-1;s&&(i.placement=i.placement||s),o&&(i.arrow=i.arrow!==void 0?i.arrow:!0),r.props&&r.props.onTippyShow&&(i.onShow=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),r.props&&r.props.onTippyShown&&(i.onShown=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),r.props&&r.props.onTippyHidden&&(i.onHidden=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),r.props&&r.props.onTippyHide&&(i.onHide=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),r.props&&r.props.onTippyMount&&(i.onMount=function(...a){var l;return(l=r.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),e.getAttribute("title")&&!i.content&&(i.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!i.content&&(i.content=e.getAttribute("content")),aT(e,i)},unmounted(e){e.$tippy?e.$tippy.destroy():e._tippy&&e._tippy.destroy()},updated(e,t){const r=typeof t.value=="string"?{content:t.value}:t.value||{};e.getAttribute("title")&&!r.content&&(r.content=e.getAttribute("title"),e.removeAttribute("title")),e.getAttribute("content")&&!r.content&&(r.content=e.getAttribute("content")),e.$tippy?e.$tippy.setProps(r||{}):e._tippy&&e._tippy.setProps(r||{})}},cue={install(e,t={}){Le.setDefaultProps(t.defaultProps||{}),e.directive(t.directive||"tippy",lue),e.component(t.component||"tippy",sue),e.component(t.componentSingleton||"tippy-singleton",aue)}},I9=Le.setDefaultProps;I9({ignoreAttributes:!0,plugins:[tue,Qce,Zce,Hce]});const uue=at({name:"App",components:{Shell:vle},setup(){const e=kr();ai(()=>{new HR().observe(e?.proxy?.$refs["app-size"]),I9({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),hue=["lang"],fue={class:"h-full",ref:"app-size"};function due(e,t,r,i,n,s){const o=wr("shell");return pe(),xe("div",{class:"ramp-app ramp-styles animation-enabled",lang:e.$i18n.locale},[ue("div",fue,[Xe(o)],512)],8,hue)}const pue=ma(uue,[["render",due]]),Qs="focus-list",Jl="focus-item",mue="focus-icon",yue="focus-container",Ph=`[${Qs}],[${yue}]`,U0="truncate-text",j0="show-truncate",fh="focused",_S=`button,input,select,a,textarea,[contenteditable],[${Qs}],[${mue}],[tabIndex]`,gue={mounted(e,t){+e.getAttribute("tabindex")<=0&&e.setAttribute("tabindex","0"),e.toggleAttribute(Qs,!0),new vue(e,t.value)},updated(e){O9(e)}};function O9(e){e.querySelectorAll(_S).forEach(r=>{if(r.closest(Ph)===e||r.closest(Ph)===r&&r.parentElement.closest(Ph)===e)if(r.closest(`[${Qs}],.${fh}`).classList.contains(fh))r.setAttribute("tabindex","0");else{r.setAttribute("tabindex","-1");return}})}class vue{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(t,r){this.element=t,this.highlightedItem=this.element,this.isHorizontal=r==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const i=this;t.addEventListener("keydown",function(n){i.onKeydown(n)}),t.addEventListener("focus",function(){i.onFocus()}),t.addEventListener("blur",function(){i.onBlur()}),t.addEventListener("mousedown",function(){i.onMousedown()}),t.addEventListener("touchstart",function(){i.onTouchstart()}),document.addEventListener("click",function(n){t.contains(n.target)?i.onClick(n):i.defocusItem(i.highlightedItem)})}setTabIndex(t,r=this.element){r.querySelectorAll(_S).forEach(n=>{(t===-1||n.closest(Ph)===this.element||n.closest(Ph)===n&&n.parentElement.closest(Ph)===this.element||n.closest(`[${Qs}],.${fh}`).classList.contains(fh))&&n.setAttribute("tabindex",t.toString())})}defocusItem(t){t.classList.remove(fh),this.setTabIndex(-1,t),t._tippy&&t._tippy.hide(),t.getAttribute(Jl)===j0&&t.querySelector(`[${U0}]`)?._tippy?.hide()}focusItem(t){t.classList.add(fh),this.setAriaActiveDescendant(t),this.setTabIndex(0,t),t.scrollIntoView({block:"nearest"}),t._tippy&&!this.isTapped&&t._tippy.show(),t.getAttribute(Jl)===j0&&t.querySelector(`[${U0}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(t){this.element.setAttribute("aria-activedescendant",t.getAttribute("id"))}shiftHighlight(t,r=!1){if(this.defocusItem(this.highlightedItem),r)if(this.highlightedItem===this.element)this.highlightedItem=t[t.length-1];else{const i=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[i-1]||t[t.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=t[0];else{const i=Array.prototype.indexOf.call(t,this.highlightedItem);this.highlightedItem=t[i+1]||t[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(t){const r=this,i=Array.prototype.filter.call(this.element.querySelectorAll(`[${Jl}]`),n=>n.closest(`[${Qs}]`)===r.element&&!!n.offsetParent);if(i.length!==0)switch(t.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;t.preventDefault(),t.stopPropagation(),this.shiftHighlight(i);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":t.target===this.element&&this.highlightedItem!==this.element&&(t.preventDefault(),t.stopPropagation(),this.highlightedItem.click());break;case"Tab":this.highlightedItem!==this.element&&(this.highlightedItem.querySelectorAll(_S).length===0&&this.defocusItem(this.highlightedItem),t.shiftKey&&(t.preventDefault(),t.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(t){this.defocusItem(this.highlightedItem);let r=t.target;if(!r.hasAttribute(Qs))for(;r.parentElement.closest(`[${Qs}]`)!==this.element;)r=r.parentElement.closest(`[${Qs}]`);this.highlightedItem=r.closest(`[${Jl}]`)||r.closest(`[${Qs}]`)||this.highlightedItem,r.hasAttribute(`${Jl}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(Jl)===j0&&this.highlightedItem.querySelector(`[${U0}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),O9(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(Jl)===j0&&this.highlightedItem.querySelector(`[${U0}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const TO="focus-item",bue={beforeMount(e,t){e.hasAttribute("id")||e.setAttribute("id",_ue()),t.value?e.setAttribute(TO,t.value):e.toggleAttribute(TO,!0)}};function _ue(){let e;do e="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(e)!==null);return e}const lT="focus-container",$9="focus-list",wue="focus-icon",o_=`[${$9}],[${lT}]`,AO=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${$9}],[${lT}],[${wue}],[tabIndex]`;let a_=[];const Sue={mounted(e){[...document.querySelectorAll(".inner-shell")].some(r=>r.contains(e))&&a_.push(new xue(e))},beforeUnmount(e){a_=a_.filter(t=>t.element===e?(t.removeEventListeners(),!1):!0)}};class xue{element;constructor(t){this.element=t,this.element.toggleAttribute(lT,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const r=this;this.element.addEventListener("keypress",function(i){r.onKeypress(i)}),this.element.addEventListener("click",function(){r.onClick()}),this.element.addEventListener("focusout",function(i){r.onFocusOut(i)}),this.element.addEventListener("focus",function(){r.onFocus()})}removeEventListeners(){const t=this;this.element.removeEventListener("keypress",function(r){t.onKeypress(r)}),this.element.removeEventListener("click",function(){t.onClick()}),this.element.removeEventListener("focusout",function(r){t.onFocusOut(r)}),this.element.removeEventListener("focus",function(){t.onFocus()})}onKeypress(t){t.target===this.element&&(t.key==="Enter"||t.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(t){this.element.contains(t.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(AO),()=>!0).forEach(r=>{r.tabIndex=-1})}enableTabbing(){let t;return Array.prototype.map.call(this.element.querySelectorAll(AO),r=>{(r.closest(o_)===this.element||r.closest(o_)===r&&r.parentElement.closest(o_)===this.element)&&r.offsetParent&&(r.tabIndex=0,t===void 0&&(t=r))}),t}}const Eue="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",Tue="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",pf=(e,t)=>{for(const r in t)e[r]=t[r];return e},wS="numeric",SS="ascii",xS="alpha",Wy="asciinumeric",G0="alphanumeric",ES="domain",C9="emoji",Aue="scheme",Mue="slashscheme",MO="whitespace";function Iue(e,t){return e in t||(t[e]=[]),t[e]}function Mc(e,t,r){t[wS]&&(t[Wy]=!0,t[G0]=!0),t[SS]&&(t[Wy]=!0,t[xS]=!0),t[Wy]&&(t[G0]=!0),t[xS]&&(t[G0]=!0),t[G0]&&(t[ES]=!0),t[C9]&&(t[ES]=!0);for(const i in t){const n=Iue(i,r);n.indexOf(e)<0&&n.push(e)}}function Oue(e,t){const r={};for(const i in t)t[i].indexOf(e)>=0&&(r[i]=!0);return r}function dn(e){e===void 0&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}dn.groups={};dn.prototype={accepts(){return!!this.t},go(e){const t=this,r=t.j[e];if(r)return r;for(let i=0;i<t.jr.length;i++){const n=t.jr[i][0],s=t.jr[i][1];if(s&&n.test(e))return s}return t.jd},has(e,t){return t===void 0&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,r,i){for(let n=0;n<e.length;n++)this.tt(e[n],t,r,i)},tr(e,t,r,i){i=i||dn.groups;let n;return t&&t.j?n=t:(n=new dn(t),r&&i&&Mc(t,r,i)),this.jr.push([e,n]),n},ts(e,t,r,i){let n=this;const s=e.length;if(!s)return n;for(let o=0;o<s-1;o++)n=n.tt(e[o]);return n.tt(e[s-1],t,r,i)},tt(e,t,r,i){i=i||dn.groups;const n=this;if(t&&t.j)return n.j[e]=t,t;const s=t;let o,a=n.go(e);if(a?(o=new dn,pf(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new dn,s){if(i)if(o.t&&typeof o.t=="string"){const l=pf(Oue(o.t,i),r);Mc(s,l,i)}else r&&Mc(s,r,i);o.t=s}return n.j[e]=o,o}};const Re=(e,t,r,i,n)=>e.ta(t,r,i,n),$n=(e,t,r,i,n)=>e.tr(t,r,i,n),IO=(e,t,r,i,n)=>e.ts(t,r,i,n),ye=(e,t,r,i,n)=>e.tt(t,r,i,n),Go="WORD",TS="UWORD",om="LOCALHOST",AS="TLD",MS="UTLD",Hy="SCHEME",Qu="SLASH_SCHEME",f1="NUM",N9="WS",cT="NL",dh="OPENBRACE",op="OPENBRACKET",ap="OPENANGLEBRACKET",lp="OPENPAREN",_c="CLOSEBRACE",ph="CLOSEBRACKET",mh="CLOSEANGLEBRACKET",wc="CLOSEPAREN",d1="AMPERSAND",p1="APOSTROPHE",m1="ASTERISK",Qa="AT",y1="BACKSLASH",g1="BACKTICK",v1="CARET",rl="COLON",uT="COMMA",b1="DOLLAR",Js="DOT",_1="EQUALS",hT="EXCLAMATION",Ks="HYPHEN",w1="PERCENT",S1="PIPE",x1="PLUS",E1="POUND",T1="QUERY",fT="QUOTE",dT="SEMI",qo="SLASH",cp="TILDE",A1="UNDERSCORE",P9="EMOJI",M1="SYM";var L9=Object.freeze({__proto__:null,WORD:Go,UWORD:TS,LOCALHOST:om,TLD:AS,UTLD:MS,SCHEME:Hy,SLASH_SCHEME:Qu,NUM:f1,WS:N9,NL:cT,OPENBRACE:dh,OPENBRACKET:op,OPENANGLEBRACKET:ap,OPENPAREN:lp,CLOSEBRACE:_c,CLOSEBRACKET:ph,CLOSEANGLEBRACKET:mh,CLOSEPAREN:wc,AMPERSAND:d1,APOSTROPHE:p1,ASTERISK:m1,AT:Qa,BACKSLASH:y1,BACKTICK:g1,CARET:v1,COLON:rl,COMMA:uT,DOLLAR:b1,DOT:Js,EQUALS:_1,EXCLAMATION:hT,HYPHEN:Ks,PERCENT:w1,PIPE:S1,PLUS:x1,POUND:E1,QUERY:T1,QUOTE:fT,SEMI:dT,SLASH:qo,TILDE:cp,UNDERSCORE:A1,EMOJI:P9,SYM:M1});const Fu=/[a-z]/,l_=/\p{L}/u,c_=/\p{Emoji}/u,u_=/\d/,OO=/\s/,$O=`
`,$ue="️",Cue="‍";let V0=null,B0=null;function Nue(e){e===void 0&&(e=[]);const t={};dn.groups=t;const r=new dn;V0==null&&(V0=CO(Eue)),B0==null&&(B0=CO(Tue)),ye(r,"'",p1),ye(r,"{",dh),ye(r,"[",op),ye(r,"<",ap),ye(r,"(",lp),ye(r,"}",_c),ye(r,"]",ph),ye(r,">",mh),ye(r,")",wc),ye(r,"&",d1),ye(r,"*",m1),ye(r,"@",Qa),ye(r,"`",g1),ye(r,"^",v1),ye(r,":",rl),ye(r,",",uT),ye(r,"$",b1),ye(r,".",Js),ye(r,"=",_1),ye(r,"!",hT),ye(r,"-",Ks),ye(r,"%",w1),ye(r,"|",S1),ye(r,"+",x1),ye(r,"#",E1),ye(r,"?",T1),ye(r,'"',fT),ye(r,"/",qo),ye(r,";",dT),ye(r,"~",cp),ye(r,"_",A1),ye(r,"\\",y1);const i=$n(r,u_,f1,{[wS]:!0});$n(i,u_,i);const n=$n(r,Fu,Go,{[SS]:!0});$n(n,Fu,n);const s=$n(r,l_,TS,{[xS]:!0});$n(s,Fu),$n(s,l_,s);const o=$n(r,OO,N9,{[MO]:!0});ye(r,$O,cT,{[MO]:!0}),ye(o,$O),$n(o,OO,o);const a=$n(r,c_,P9,{[C9]:!0});$n(a,c_,a),ye(a,$ue,a);const l=ye(a,Cue);$n(l,c_,a);const c=[[Fu,n]],f=[[Fu,null],[l_,s]];for(let d=0;d<V0.length;d++)Oa(r,V0[d],AS,Go,c);for(let d=0;d<B0.length;d++)Oa(r,B0[d],MS,TS,f);Mc(AS,{tld:!0,ascii:!0},t),Mc(MS,{utld:!0,alpha:!0},t),Oa(r,"file",Hy,Go,c),Oa(r,"mailto",Hy,Go,c),Oa(r,"http",Qu,Go,c),Oa(r,"https",Qu,Go,c),Oa(r,"ftp",Qu,Go,c),Oa(r,"ftps",Qu,Go,c),Mc(Hy,{scheme:!0,ascii:!0},t),Mc(Qu,{slashscheme:!0,ascii:!0},t),e=e.sort((d,p)=>d[0]>p[0]?1:-1);for(let d=0;d<e.length;d++){const p=e[d][0],g=e[d][1]?{[Aue]:!0}:{[Mue]:!0};p.indexOf("-")>=0?g[ES]=!0:Fu.test(p)?u_.test(p)?g[Wy]=!0:g[SS]=!0:g[wS]=!0,IO(r,p,p,g)}return IO(r,"localhost",om,{ascii:!0}),r.jd=new dn(M1),{start:r,tokens:pf({groups:t},L9)}}function Pue(e,t){const r=Lue(t.replace(/[A-Z]/g,a=>a.toLowerCase())),i=r.length,n=[];let s=0,o=0;for(;o<i;){let a=e,l=null,c=0,f=null,d=-1,p=-1;for(;o<i&&(l=a.go(r[o]));)a=l,a.accepts()?(d=0,p=0,f=a):d>=0&&(d+=r[o].length,p++),c+=r[o].length,s+=r[o].length,o++;s-=d,o-=p,c-=d,n.push({t:f.t,v:t.slice(s-c,s),s:s-c,e:s})}return n}function Lue(e){const t=[],r=e.length;let i=0;for(;i<r;){let n=e.charCodeAt(i),s,o=n<55296||n>56319||i+1===r||(s=e.charCodeAt(i+1))<56320||s>57343?e[i]:e.slice(i,i+2);t.push(o),i+=o.length}return t}function Oa(e,t,r,i,n){let s;const o=t.length;for(let a=0;a<o-1;a++){const l=t[a];e.j[l]?s=e.j[l]:(s=new dn(i),s.jr=n.slice(),e.j[l]=s),e=s}return s=new dn(r),s.jr=n.slice(),e.j[t[o-1]]=s,s}function CO(e){const t=[],r=[];let i=0,n="0123456789";for(;i<e.length;){let s=0;for(;n.indexOf(e[i+s])>=0;)s++;if(s>0){t.push(r.join(""));let o=parseInt(e.substring(i,i+s),10);for(;o>0;o--)r.pop();i+=s}else e[i]==="_"?(t.push(r.join("")),i++):(r.push(e[i]),i++)}return t}const am={defaultProtocol:"http",events:null,format:NO,formatHref:NO,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function pT(e,t){t===void 0&&(t=null);let r=pf({},am);e&&(r=pf(r,e instanceof pT?e.o:e));const i=r.ignoreTags,n=[];for(let s=0;s<i.length;s++)n.push(i[s].toUpperCase());this.o=r,t&&(this.defaultRender=t),this.ignoreTags=n}pT.prototype={o:am,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,r){const i=t!=null;let n=this.o[e];return n&&(typeof n=="object"?(n=r.t in n?n[r.t]:am[e],typeof n=="function"&&i&&(n=n(t,r))):typeof n=="function"&&i&&(n=n(t,r.t,r)),n)},getObj(e,t,r){let i=this.o[e];return typeof i=="function"&&t!=null&&(i=i(t,r.t,r)),i},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function NO(e){return e}function k9(e,t){this.t="token",this.v=e,this.tk=t}k9.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),r=e.get("truncate",t,this),i=e.get("format",t,this);return r&&i.length>r?i.substring(0,r)+"…":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return e===void 0&&(e=am.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,r=this.toFormattedHref(e),i=e.get("tagName",r,t),n=this.toFormattedString(e),s={},o=e.get("className",r,t),a=e.get("target",r,t),l=e.get("rel",r,t),c=e.getObj("attributes",r,t),f=e.getObj("events",r,t);return s.href=r,o&&(s.class=o),a&&(s.target=a),l&&(s.rel=l),c&&pf(s,c),{tagName:i,attributes:s,content:n,eventListeners:f}}};function Wv(e,t){class r extends k9{constructor(n,s){super(n,s),this.t=e}}for(const i in t)r.prototype[i]=t[i];return r.t=e,r}const PO=Wv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),LO=Wv("text"),kue=Wv("nl"),Kl=Wv("url",{isLink:!0,toHref(e){return e===void 0&&(e=am.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==om&&e[1].t===rl}}),Xr=e=>new dn(e);function Rue(e){let{groups:t}=e;const r=t.domain.concat([d1,m1,Qa,y1,g1,v1,b1,_1,Ks,f1,w1,S1,x1,E1,qo,M1,cp,A1]),i=[p1,mh,_c,ph,wc,rl,uT,Js,hT,ap,dh,op,lp,T1,fT,dT],n=[d1,p1,m1,y1,g1,v1,_c,b1,_1,Ks,f1,dh,w1,S1,x1,E1,T1,qo,M1,cp,A1],s=Xr(),o=ye(s,cp);Re(o,n,o),Re(o,t.domain,o);const a=Xr(),l=Xr(),c=Xr();Re(s,t.domain,a),Re(s,t.scheme,l),Re(s,t.slashscheme,c),Re(a,n,o),Re(a,t.domain,a);const f=ye(a,Qa);ye(o,Qa,f),ye(l,Qa,f),ye(c,Qa,f);const d=ye(o,Js);Re(d,n,o),Re(d,t.domain,o);const p=Xr();Re(f,t.domain,p),Re(p,t.domain,p);const y=ye(p,Js);Re(y,t.domain,p);const g=Xr(PO);Re(y,t.tld,g),Re(y,t.utld,g),ye(f,om,g);const _=ye(p,Ks);Re(_,t.domain,p),Re(g,t.domain,p),ye(g,Js,y),ye(g,Ks,_);const w=ye(g,rl);Re(w,t.numeric,PO);const x=ye(a,Ks),T=ye(a,Js);Re(x,t.domain,a),Re(T,n,o),Re(T,t.domain,a);const S=Xr(Kl);Re(T,t.tld,S),Re(T,t.utld,S),Re(S,t.domain,a),Re(S,n,o),ye(S,Js,T),ye(S,Ks,x),ye(S,Qa,f);const v=ye(S,rl),M=Xr(Kl);Re(v,t.numeric,M);const O=Xr(Kl),P=Xr();Re(O,r,O),Re(O,i,P),Re(P,r,O),Re(P,i,P),ye(S,qo,O),ye(M,qo,O);const R=ye(l,rl),k=ye(c,rl),G=ye(k,qo);ye(G,qo,R),Re(l,t.domain,a),ye(l,Js,T),ye(l,Ks,x),Re(c,t.domain,a),ye(c,Js,T),ye(c,Ks,x),Re(R,t.domain,O),ye(R,qo,O);const V=ye(O,dh),U=ye(O,op),Y=ye(O,ap),se=ye(O,lp);ye(P,dh,V),ye(P,op,U),ye(P,ap,Y),ye(P,lp,se),ye(V,_c,O),ye(U,ph,O),ye(Y,mh,O),ye(se,wc,O),ye(V,_c,O);const h=Xr(Kl),m=Xr(Kl),E=Xr(Kl),N=Xr(Kl);Re(V,r,h),Re(U,r,m),Re(Y,r,E),Re(se,r,N);const q=Xr(),K=Xr(),fe=Xr(),ae=Xr();return Re(V,i),Re(U,i),Re(Y,i),Re(se,i),Re(h,r,h),Re(m,r,m),Re(E,r,E),Re(N,r,N),Re(h,i,h),Re(m,i,m),Re(E,i,E),Re(N,i,N),Re(q,r,q),Re(K,r,m),Re(fe,r,E),Re(ae,r,N),Re(q,i,q),Re(K,i,K),Re(fe,i,fe),Re(ae,i,ae),ye(m,ph,O),ye(E,mh,O),ye(N,wc,O),ye(h,_c,O),ye(K,ph,O),ye(fe,mh,O),ye(ae,wc,O),ye(q,wc,O),ye(s,om,S),ye(s,cT,kue),{start:s,tokens:L9}}function Due(e,t,r){let i=r.length,n=0,s=[],o=[];for(;n<i;){let a=e,l=null,c=null,f=0,d=null,p=-1;for(;n<i&&!(l=a.go(r[n].t));)o.push(r[n++]);for(;n<i&&(c=l||a.go(r[n].t));)l=null,a=c,a.accepts()?(p=0,d=a):p>=0&&p++,n++,f++;if(p<0)n-=f,n<i&&(o.push(r[n]),n++);else{o.length>0&&(s.push(h_(LO,t,o)),o=[]),n-=p,f-=p;const y=d.t,g=r.slice(n-f,n);s.push(h_(y,t,g))}}return o.length>0&&s.push(h_(LO,t,o)),s}function h_(e,t,r){const i=r[0].s,n=r[r.length-1].e,s=t.slice(i,n);return new e(s,r)}const Ci={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Fue(){Ci.scanner=Nue(Ci.customSchemes);for(let e=0;e<Ci.tokenQueue.length;e++)Ci.tokenQueue[e][1]({scanner:Ci.scanner});Ci.parser=Rue(Ci.scanner.tokens);for(let e=0;e<Ci.pluginQueue.length;e++)Ci.pluginQueue[e][1]({scanner:Ci.scanner,parser:Ci.parser});Ci.initialized=!0}function Uue(e){return Ci.initialized||Fue(),Due(Ci.parser.start,e,Pue(Ci.scanner.start,e))}var jue={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},Gue=/^#[xX]([A-Fa-f0-9]+)$/,Vue=/^#([0-9]+)$/,Bue=/^([A-Za-z0-9]+)$/,zue=function(){function e(t){this.named=t}return e.prototype.parse=function(t){if(t){var r=t.match(Gue);if(r)return String.fromCharCode(parseInt(r[1],16));if(r=t.match(Vue),r)return String.fromCharCode(parseInt(r[1],10));if(r=t.match(Bue),r)return this.named[r[1]]||"&"+r[1]+";"}},e}(),que=/[\t\n\f ]/,Wue=/[A-Za-z]/,Hue=/\r\n?/g;function ui(e){return que.test(e)}function kO(e){return Wue.test(e)}function Yue(e){return e.replace(Hue,`
`)}var Jue=function(){function e(t,r,i){i===void 0&&(i="precompile"),this.delegate=t,this.entityParser=r,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var n=this.peek();if(n==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&n===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var n=this.peek(),s=this.tagNameBuffer;n==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):n==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(n))},tagOpen:function(){var n=this.consume();n==="!"?this.transitionTo("markupDeclarationOpen"):n==="/"?this.transitionTo("endTagOpen"):(n==="@"||n===":"||kO(n))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(n))},markupDeclarationOpen:function(){var n=this.consume();if(n==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=n.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var n=this.consume();ui(n)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var n=this.consume();ui(n)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase()))},doctypeName:function(){var n=this.consume();ui(n)?this.transitionTo("afterDoctypeName"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(n.toLowerCase())},afterDoctypeName:function(){var n=this.consume();if(!ui(n))if(n===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=n.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var n=this.peek();ui(n)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):n==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):n==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):n===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},doctypePublicIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypePublicIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(n)},afterDoctypePublicIdentifier:function(){var n=this.consume();ui(n)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var n=this.consume();ui(n)||(n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):n==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):n==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var n=this.consume();n==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},doctypeSystemIdentifierSingleQuoted:function(){var n=this.consume();n==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):n===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(n)},afterDoctypeSystemIdentifier:function(){var n=this.consume();ui(n)||n===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var n=this.consume();n==="-"?this.transitionTo("commentStartDash"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(n),this.transitionTo("comment"))},commentStartDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var n=this.consume();n==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(n)},commentEndDash:function(){var n=this.consume();n==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+n),this.transitionTo("comment"))},commentEnd:function(){var n=this.consume();n===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+n),this.transitionTo("comment"))},tagName:function(){var n=this.consume();ui(n)?this.transitionTo("beforeAttributeName"):n==="/"?this.transitionTo("selfClosingStartTag"):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(n)},endTagName:function(){var n=this.consume();ui(n)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):n==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):n===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(n)},beforeAttributeName:function(){var n=this.peek();if(ui(n)){this.consume();return}else n==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var n=this.peek();ui(n)?(this.transitionTo("afterAttributeName"),this.consume()):n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):n==='"'||n==="'"||n==="<"?(this.delegate.reportSyntaxError(n+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(n)):(this.consume(),this.delegate.appendToAttributeName(n))},afterAttributeName:function(){var n=this.peek();if(ui(n)){this.consume();return}else n==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(n))},beforeAttributeValue:function(){var n=this.peek();ui(n)?this.consume():n==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):n===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(n))},attributeValueDoubleQuoted:function(){var n=this.consume();n==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueSingleQuoted:function(){var n=this.consume();n==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):n==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(n)},attributeValueUnquoted:function(){var n=this.peek();ui(n)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):n==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):n===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(n))},afterAttributeValueQuoted:function(){var n=this.peek();ui(n)?(this.consume(),this.transitionTo("beforeAttributeName")):n==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):n===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var n=this.peek();n===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var n=this.consume();(n==="@"||n===":"||kO(n))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(n))}},this.reset()}return e.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},e.prototype.transitionTo=function(t){this.state=t},e.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},e.prototype.tokenizePart=function(t){for(this.input+=Yue(t);this.index<this.input.length;){var r=this.states[this.state];if(r!==void 0)r.call(this);else throw new Error("unhandled state "+this.state)}},e.prototype.tokenizeEOF=function(){this.flushData()},e.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},e.prototype.peek=function(){return this.input.charAt(this.index)},e.prototype.consume=function(){var t=this.peek();return this.index++,t===`
`?(this.line++,this.column=0):this.column++,t},e.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(t!==-1){var r=this.input.slice(this.index,t),i=this.entityParser.parse(r);if(i){for(var n=r.length;n;)this.consume(),n--;return this.consume(),i}}},e.prototype.markTagStart=function(){this.delegate.tagOpen()},e.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},e.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return t==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||t==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||t==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},e}(),Kue=function(){function e(t,r){r===void 0&&(r={}),this.options=r,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Jue(this,t,r.mode),this._currentAttribute=void 0}return e.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},e.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},e.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},e.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},e.prototype.current=function(){var t=this.token;if(t===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return t;for(var r=0;r<arguments.length;r++)if(t.type===arguments[r])return t;throw new Error("token type was unexpectedly "+t.type)},e.prototype.push=function(t){this.token=t,this.tokens.push(t)},e.prototype.currentAttribute=function(){return this._currentAttribute},e.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},e.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},e.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},e.prototype.appendToDoctypePublicIdentifier=function(t){var r=this.current("Doctype");r.publicIdentifier===void 0?r.publicIdentifier=t:r.publicIdentifier+=t},e.prototype.appendToDoctypeSystemIdentifier=function(t){var r=this.current("Doctype");r.systemIdentifier===void 0?r.systemIdentifier=t:r.systemIdentifier+=t},e.prototype.endDoctype=function(){this.addLocInfo()},e.prototype.beginData=function(){this.push({type:"Chars",chars:""})},e.prototype.appendToData=function(t){this.current("Chars").chars+=t},e.prototype.finishData=function(){this.addLocInfo()},e.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},e.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},e.prototype.finishComment=function(){this.addLocInfo()},e.prototype.tagOpen=function(){},e.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},e.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},e.prototype.finishTag=function(){this.addLocInfo()},e.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},e.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},e.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},e.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},e.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},e.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},e.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},e.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},e}();function Zue(e,t){var r=new Kue(new zue(jue),t);return r.tokenize(e)}const R9="LinkifyResult",I1="StartTag",D9="EndTag",IS="Chars",Xue="Comment",Que="Doctype";function ehe(e,t){t===void 0&&(t={});const r=Zue(e),i=[],n=[],s=new pT(t,ihe);for(let o=0;o<r.length;o++){const a=r[o];if(a.type===I1){i.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let f=i.length;rhe(l,r,++o,i),o+=i.length-f-1}else if(a.type!==IS)i.push(a);else{const l=the(a.chars,s);i.push.apply(i,l)}}for(let o=0;o<i.length;o++){const a=i[o];switch(a.type){case R9:n.push(a.rendered);break;case I1:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+she(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",n.push(l);break}case D9:n.push(`</${a.tagName}>`);break;case IS:n.push(OS(a.chars));break;case Xue:n.push(`<!--${OS(a.chars)}-->`);break;case Que:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",n.push(l);break}}}return n.join("")}function the(e,t){const r=Uue(e),i=[];for(let n=0;n<r.length;n++){const s=r[n];s.t==="nl"&&t.get("nl2br")?i.push({type:I1,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!t.check(s)?i.push({type:IS,chars:s.toString()}):i.push({type:R9,rendered:t.render(s)})}return i}function rhe(e,t,r,i){let n=1;for(;r<t.length&&n>0;){let s=t[r];s.type===I1&&s.tagName.toUpperCase()===e?n++:s.type===D9&&s.tagName.toUpperCase()===e&&n--,i.push(s),r++}return i}function ihe(e){let{tagName:t,attributes:r,content:i}=e;return`<${t} ${nhe(r)}>${OS(i)}</${t}>`}function OS(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function F9(e){return e.replace(/"/g,"&quot;")}function nhe(e){const t=[];for(const r in e){const i=e[r]+"";t.push(`${r}="${F9(i)}"`)}return t.join(" ")}function she(e){const t=[];for(let r=0;r<e.length;r++){const i=e[r][0],n=e[r][1]+"";t.push(`${i}="${F9(n)}"`)}return t}const ohe="truncate-text",ahe="truncate-trigger",lhe={beforeMount(e,t){!e.classList.contains("truncate")&&!t.value?.noTruncateClass&&e.classList.add("truncate"),e.toggleAttribute(ohe,!0)},mounted(e,t){let r;t.value&&t.value.externalTrigger&&(r=e.closest(`[${ahe}]`)),aT(e,{content:RO(e.textContent),onShow:che,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:r,...t.value?.options||{}})},updated(e,t){e._tippy&&(e._tippy.setContent(RO(e.textContent)),t.value&&t.value.options&&e._tippy.setProps(t.value.options))},unmounted(e){e._tippy&&e._tippy.destroy()}};function che(e){if(!(e.reference.clientWidth<e.reference.scrollWidth||e.reference.clientHeight<e.reference.scrollHeight))return!1}function RO(e){if(e===null)return"";let t=ehe(e,{target:"_blank",validate:{url:r=>/^https?:\/\//.test(r)}});return t=`<div style='word-break: break-word;'>${t}</div>`,t}const uhe=["content"],hhe={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},fhe={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},dhe={key:1},phe={key:0,class:"flex"},mhe=["innerHTML"],yhe={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},ghe=at({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(e,{expose:t}){const{t:r}=lr(),i=su(),n=i1(),s=Hr("iApi"),o=Fg("el"),a=Fg("contentEl"),l=ne();t({el:o});const c=e,f=it(()=>s?.fixture.get("appbar")?n.temporary:[]),d=it(()=>i.mobileView),p=it(()=>i.reorderable),y=x=>x.scrollHeight>x.clientHeight,g=()=>!d.value&&!c.panel.teleport,_=x=>{c.panel.move(x),x==="left"&&Cs(()=>{(o.value?.querySelector(".move-left")).focus()})},w=it(()=>c.screenId?c.panel.screens[c.screenId][s?.$i18n.locale.value??"en"]:null);return ai(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",x=>{x.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Ns(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",x=>{x.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(x,T)=>{const S=wr("back"),v=wr("panel-options-menu"),M=wr("left"),O=wr("right"),P=wr("pin"),R=wr("expand"),k=wr("minimize"),G=wr("close"),V=Nt("truncate"),U=Nt("focus-item"),Y=Nt("tippy");return Ct((pe(),xe("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${Ne(r)(e.panel.alertName)+". "+Ne(r)("panels.access")}</div>`,ref_key:"el",ref:o},[e.header?(pe(),xe("header",hhe,[Xe(S,{class:vr(e.panel.teleport?"display-none":"block sm:display-none"),onClick:T[0]||(T[0]=se=>e.panel.close())},null,8,["class"]),Ct((pe(),xe("h2",fhe,[x.$slots.header?ds(x.$slots,"header",{key:0}):(pe(),xe("div",dhe,zt(Ne(r)(e.panel.alertName)),1))])),[[V]]),x.$slots.controls?(pe(),Wt(v,{key:0},{default:Or(()=>[ds(x.$slots,"controls")]),_:3})):Kt("",!0),ue("div",{class:vr(e.panel.teleport?"flex":"display-none sm:flex")},[e.panel.teleport?Kt("",!0):(pe(),xe("div",phe,[p.value?(pe(),Wt(M,{key:0,onClick:T[1]||(T[1]=se=>_("left")),active:!e.panel.isLeftMostPanel},null,8,["active"])):Kt("",!0),p.value?(pe(),Wt(O,{key:1,onClick:T[2]||(T[2]=se=>_("right")),active:!e.panel.isRightMostPanel},null,8,["active"])):Kt("",!0),Xe(P,{onClick:T[3]||(T[3]=se=>e.panel.pin()),active:e.panel.isPinned},null,8,["active"]),e.panel.controls&&e.panel.controls.expand?(pe(),Wt(R,{key:2,onClick:T[4]||(T[4]=se=>e.panel.expand()),active:e.panel.expanded},null,8,["active"])):Kt("",!0)])),e.panel.button&&f.value?.includes(e.panel.id)?(pe(),Wt(k,{key:1,onClick:T[5]||(T[5]=se=>e.panel.minimize())})):Kt("",!0),Xe(G,{onClick:T[6]||(T[6]=se=>e.panel.close())})],2)])):Kt("",!0),e.content?(pe(),xe("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[x.$slots.content?ds(x.$slots,"content",{key:0}):w.value?(pe(),xe("div",{key:1,innerHTML:w.value.innerHTML},null,8,mhe)):Kt("",!0)],512)):Kt("",!0),e.footer?Ct((pe(),xe("div",yhe,[ds(x.$slots,"footer")])),[[U]]):Kt("",!0)],8,uhe)),[[Y,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:e.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),vhe={class:"relative"},bhe=["content","aria-label"],_he=["transform"],whe=at({__name:"pin",props:{active:Boolean},setup(e){const{t}=lr();return(r,i)=>{const n=Nt("tippy");return pe(),xe("div",vhe,[Ct((pe(),xe("button",{type:"button",class:vr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ne(t)(e.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":Ne(t)(e.active?"panels.controls.unpin":"panels.controls.pin")},[(pe(),xe("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${e.active?30:0})`},i[0]||(i[0]=[ue("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,_he))],10,bhe)),[[n,{placement:"bottom",hideOnClick:!1}]])])}}}),She={class:"relative"},xhe=["content","aria-label"],Ehe=at({__name:"close",props:{active:Boolean},setup(e){const{t}=lr();return(r,i)=>{const n=Nt("tippy");return pe(),xe("div",She,[Ct((pe(),xe("button",{type:"button",class:vr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ne(t)("panels.controls.close"),"aria-label":Ne(t)("panels.controls.close")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[ue("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,xhe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),The={class:"relative"},Ahe=["content","aria-label"],Mhe=at({__name:"back",props:{active:Boolean},setup(e){const{t}=lr();return(r,i)=>{const n=Nt("tippy");return pe(),xe("div",The,[Ct((pe(),xe("button",{type:"button",class:vr(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":e.active}]),content:Ne(t)("panels.controls.back"),"aria-label":Ne(t)("panels.controls.back")},i[0]||(i[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[ue("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,Ahe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Ihe={class:"w-32 h-32"},Ohe=["content"],$he={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Che={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},Nhe=at({__name:"expand",props:{active:Boolean},setup(e){const{t}=lr();return(r,i)=>{const n=Nt("tippy");return pe(),xe("div",Ihe,[Ct((pe(),xe("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:Ne(t)(`panels.controls.${e.active?"collapse":"expand"}`)},[e.active?(pe(),xe("svg",Che,i[1]||(i[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),ue("path",{d:"M4 12h16v2H4z"},null,-1)]))):(pe(),xe("svg",$he,i[0]||(i[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ue("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,Ohe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),Phe={class:"relative"},Lhe=["content","aria-label"],khe=at({__name:"minimize",props:{active:Boolean},setup(e){const{t}=lr();return(r,i)=>{const n=Nt("tippy");return pe(),xe("div",Phe,[Ct((pe(),xe("button",{type:"button",class:vr(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":e.active}]),content:Ne(t)("panels.controls.minimize"),"aria-label":Ne(t)("panels.controls.minimize")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[ue("path",{d:"M0 0h24v24H0V0z",fill:"none"}),ue("path",{d:"M6 19h12v2H6z"})],-1)]),10,Lhe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Rhe={class:"relative"},Dhe=["content","aria-label"],Fhe=at({__name:"right",props:{active:Boolean},setup(e){const{t}=lr();return(r,i)=>{const n=Nt("tippy");return pe(),xe("div",Rhe,[Ct((pe(),xe("button",{type:"button",class:vr(["p-8",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ne(t)("panels.controls.moveRight"),"aria-label":Ne(t)("panels.controls.moveRight")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,Dhe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Uhe={class:"relative"},jhe=["content","aria-label"],Ghe=at({__name:"left",props:{active:Boolean},setup(e){const{t}=lr();return(r,i)=>{const n=Nt("tippy");return pe(),xe("div",Uhe,[Ct((pe(),xe("button",{type:"button",class:vr(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":e.active,"text-gray-300":!e.active}]),content:Ne(t)("panels.controls.moveLeft"),"aria-label":Ne(t)("panels.controls.moveLeft")},i[0]||(i[0]=[ue("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[ue("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,jhe)),[[n,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),Vhe=at({__name:"panel-options-menu",setup(e){const{t}=lr();return(r,i)=>(pe(),Wt(X3,{class:"flex",tooltip:Ne(t)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:Or(()=>i[0]||(i[0]=[ue("div",{class:"p-6"},[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[ue("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:Or(()=>[ds(r.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),Bhe=ma(Vhe,[["__scopeId","data-v-5a275ac2"]]),zhe={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},qhe={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},Whe=at({__name:"fullscreen-nav",setup(e){const{t}=lr(),r=Hr("iApi"),i=()=>{r.toggleFullscreen()};return(n,s)=>{const o=wr("mapnav-button");return pe(),Wt(o,{onClickFunction:i,tooltip:Ne(t)("mapnav.fullscreen")},{default:Or(()=>[Ne(r).isFullscreen?(pe(),xe("svg",zhe,s[0]||(s[0]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(pe(),xe("svg",qhe,s[1]||(s[1]=[ue("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),ue("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),Hhe=at({__name:"geolocator-nav",setup(e){const{t}=lr(),r=Hr("iApi");let i=Jr([]);const n=async()=>{if(i.length)s(i);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?r.notify.show(vn.ERROR,t("mapnav.geolocator.error.permission")):r.notify.show(vn.ERROR,t("mapnav.geolocator.error.internal"))});a&&(i=[a.coords.longitude,a.coords.latitude],s(i))}},s=a=>{let l=new Di("geolocation",a,Be.latLongSR(),!0);r.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=wr("mapnav-button");return pe(),Wt(c,{onClickFunction:n,tooltip:Ne(t)("mapnav.geolocator")},{default:Or(()=>l[0]||(l[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),Yhe=at({__name:"home-nav",setup(e){const{t}=lr(),r=Hr("iApi"),i=()=>{const n=r.geo.map.getExtentSet();r.geo.map.zoomMapTo(n.fullExtent)};return(n,s)=>{const o=wr("mapnav-button");return pe(),Wt(o,{onClickFunction:i,tooltip:Ne(t)("mapnav.home")},{default:Or(()=>s[0]||(s[0]=[ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[ue("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),ue("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),Jhe={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},Khe=["content","aria-label"],Zhe=at({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){return(t,r)=>{const i=Nt("focus-item"),n=Nt("tippy");return pe(),xe("div",Jhe,[Ct((pe(),xe("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:r[0]||(r[0]=s=>e.onClickFunction()),content:e.tooltip,"aria-label":typeof e.tooltip=="string"?e.tooltip:""},[ds(t.$slots,"default")],8,Khe)),[[i],[n,{placement:"left"}]])])}}}),Xhe={class:"relative",tabindex:"-1"},Qhe=["aria-label","content"],efe=at({__name:"button",props:{onClickFunction:{type:Function,required:!0},id:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(e){const t=Hr("iApi"),r=e,i=()=>t?.event.emit(Ce.APPBAR_BUTTON_CLICK,r.id);return(n,s)=>{const o=Nt("focus-item"),a=Nt("tippy");return pe(),xe("div",Xhe,[Ct((pe(),xe("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{e.onClickFunction(),i()}),"aria-label":String(e.tooltip),content:`<div style='word-break: break-word;'>${e.tooltip}</div>`},[ds(n.$slots,"default",{},void 0,!0)],8,Qhe)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),tfe=ma(efe,[["__scopeId","data-v-4e07c09f"]]),rfe=hr("areas-of-interest",()=>({areas:ne([])})),ife=hr("export",()=>{const e=ne({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),t=ne("");function r(i){if(e.value[i.name]!==void 0){const n=e.value[i.name];e.value[i.name]=i.selected!==void 0?i.selected:!n}}return{componentSelectedState:e,fileName:t,toggleSelected:r}}),nfe=hr("extentguard",()=>{const e=ne(!1);function t(l){e.value=l}const r=ne(!1);function i(l){r.value=l}const n=ne(!1);function s(l){n.value=l}const o=ne([]);function a(l){o.value=l}return{active:e,setActive:t,enforcing:r,setEnforcing:i,alwaysOn:n,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),Hv=function e(t){function r(n,s,o){var a,l={};if(Array.isArray(n))return n.concat(s);for(a in n)l[o?a.toLowerCase():a]=n[a];for(a in s){var c=o?a.toLowerCase():a,f=s[a];l[c]=c in l&&typeof f=="object"?r(l[c],f,c=="headers"):f}return l}function i(n,s,o,a,l){var c=typeof n!="string"?(s=n).url:n,f={config:s},d=r(t,s),p={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(p.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),p["content-type"]="application/json");try{p[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:r(d.headers,p,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(f[g]=y[g]);return d.responseType=="stream"?(f.data=y.body,f):y[d.responseType||"text"]().then(function(_){f.data=_,f.data=JSON.parse(_)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?f:Promise.reject(f)})})}return t=t||{},i.request=i,i.get=function(n,s){return i(n,s,"get")},i.delete=function(n,s){return i(n,s,"delete")},i.head=function(n,s){return i(n,s,"head")},i.options=function(n,s){return i(n,s,"options")},i.post=function(n,s,o){return i(n,o,"post",s)},i.put=function(n,s,o){return i(n,o,"put",s)},i.patch=function(n,s,o){return i(n,o,"patch",s)},i.all=Promise.all.bind(Promise),i.spread=function(n){return n.apply.bind(n,n)},i.CancelToken=typeof AbortController=="function"?AbortController:Object,i.defaults=t,i.create=e,i}(),sfe={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},f_={en:{},fr:{}};class ofe{list={};listFetched=!1;constructor(t,r){Hv.get(r).then(i=>{i.data.definitions.forEach(n=>f_[t][n.code]=n.description),Object.keys(f_[t]).forEach(n=>{this.list[n]=f_[t][n]}),this.listFetched=!0})}fsaToProvinces(t){const r={};let i=sfe[t.substring(0,1).toUpperCase()];return typeof i=="number"&&(i=[i]),i.forEach(n=>{r[n]=this.list[n]}),r}}function afe(e,t){return new ofe(e,t)}const z0={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"Région De Tri D'Acheminement",NTS:"Système National De Référence Cartographique",COORD:"Latitude/Longitude",SCALE:"Échelle"}};class lfe{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(t,r){Hv.get(r).then(i=>{i.data.definitions.forEach(n=>{z0[t][n.code]=n.term.split(`${n.code}-`)[1]}),Object.keys(z0[t]).forEach(n=>{this.allTypes[n]=z0[t][n],this.validTypes[n]=z0[t][n]}),this.typesFetched=!0})}filterValidTypes(t){if(this.filterComplete)return this.validTypes;if(t=typeof t=="string"?[t]:t,t&&t.length>0)for(const r of t)delete this.validTypes[r];return this.filterComplete=!0,this.validTypes}}function cfe(e,t){return new lfe(e,t)}function ufe(e,t){const r=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,i=/^\d{2,3}[A-P]/,n=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(r.test(t)&&!e.disabledSearchTypes.includes("LAT/LNG")){const s=t.slice(0,-1);return new hfe(e,s)}else return n.test(t)&&!e.disabledSearchTypes.includes("FSA")?new ffe(e,t):i.test(t)&&!e.disabledSearchTypes.includes("NTS")?new dfe(e,t.substring(0,6).toUpperCase()):new pfe(e,t)}class Yv{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(t,r){this.query=r,this.config=t}search(){return this.jsonRequest(this.getUrl()).then(t=>this.normalizeNameItems(t.items)).catch(()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}getUrl(t,r,i,n){let s="";return t?s=this.config.geoLocateUrl+"?q="+this.query:(i&&n?s=`${this.config.geoNameUrl}?lat=${i}&lon=${n}&num=${this.config.maxResults}`:s=`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(s+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(s+="&category=O")),s}normalizeNameItems(t){return t.filter(r=>this.config.types.validTypes[r.concise.code]).map(r=>({name:r.name,location:r.location,province:this.config.provinces.list[r.province.code],type:this.config.types.allTypes[r.concise.code],LatLon:{lat:r.latitude,lon:r.longitude},bbox:r.bbox,order:this.config.sortOrder.indexOf(r.concise.code)>=0?this.config.sortOrder.indexOf(r.concise.code):this.config.sortOrder.length}))}jsonRequest(t){return new Promise((r,i)=>{const n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="json",n.onload=()=>{if(n.status===200){const s=typeof n.response=="string"?JSON.parse(n.response):n.response;r(s)}else i("Could not load results from remote service.")},n.send()})}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(t,r,i){return this.jsonRequest(this.getUrl(!1,i,t,r)).then(n=>this.normalizeNameItems(n.items)).catch(()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}}class hfe extends Yv{constructor(t,r){super(t,r),this.resultType="latlong";const n=r.split(/[\s|,|;|]/).filter(a=>!isNaN(a)&&a!=="").map(a=>parseFloat(a)),s=.015,o=[n[1]-s,n[0]-s,n[1]+s,n[0]+s];this.latLongResult={name:`${n[0]},${n[1]}`,location:{latitude:n[0],longitude:n[1]},type:"Latitude/Longitude",position:[n[1],n[0]],bbox:o},this.onComplete=new Promise((a,l)=>{this.nameByLatLon(n[0],n[1]).then(c=>{c?(this.results=c,a(this)):l("Given lat lon coordinates cannot be found")})})}}class ffe extends Yv{constructor(t,r){r=r.substring(0,3).toUpperCase(),super(t,r),this.resultType="fsa",this.onComplete=new Promise(i=>{this.formatLocationResult().then(n=>{n?(this.featureResults.push(n),this.nameByLatLon(n.LatLon.lat,n.LatLon.lon,Object.keys(n._provinces).map(s=>parseInt(s))).then(s=>{this.results=s,i(this)})):(console.log("FSA code given cannot be found."),i(this))})})}formatLocationResult(){return this.locateByQuery().then(t=>{if(t.length===1&&this.query){const r=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(r).map(i=>r[i]).join(","),_provinces:r,LatLon:{lat:t[0].geometry.coordinates[1],lon:t[0].geometry.coordinates[0]}}}}).catch(()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")})}}class dfe extends Yv{unitName;unit;mapSheets=[];constructor(t,r){super(t,r),this.resultType="nts",r=isNaN(parseInt(r[2]))?"0"+r:r,this.unitName=r,this.onComplete=new Promise(i=>{this.locateByQuery().then(n=>{if(n.length>0&&this.query){const s=this.locateToResult(n);this.unit=s[0],this.mapSheets=s,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then(o=>{this.results=o,i(this)})}else console.log("Given NTS code not found"),i(this)}).catch(()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),i(this)})})}locateToResult(t){return t.map(i=>{const n=i.title.split(" ");return{nts:n.shift()||"",location:n.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:i.geometry.coordinates[1],lon:i.geometry.coordinates[0]},bbox:i.bbox}})}equals(t){return this.unitName===t.unitName}}class pfe extends Yv{constructor(t,r){r=encodeURIComponent(r.trim()),super(t,r),this.resultType="address",this.onComplete=new Promise(i=>{this.locateByQuery().then(n=>{this.featureResults=this.locateToResult(n),this.search().then(s=>{this.results=s,i(this)})}).catch(()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then(n=>{this.results=n,i(this)})})})}locateToResult(t){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:t.filter(i=>i.type?.includes("Street")).map(i=>{const[n,s,o]=i.title.split(", ");return{name:n,city:s.split(" Of ").pop(),province:o,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:i.geometry.coordinates[1],lon:i.geometry.coordinates[0]}}})}}const DO="https://geogratis.gc.ca/services/geolocation/@{language}/locate",FO="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",UO="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",jO="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",mfe={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class GO{config;constructor(t,r){let i,n,s,o;const a=r?.serviceUrls;a?(i=a.geoLocation?a.geoLocation:DO,n=a.geoNames?a.geoNames:FO,s=a.geoProvince?a.geoProvince:UO,o=a.geoTypes?a.geoTypes:jO):(i=DO,n=FO,s=UO,o=jO),i=i.replace("@{language}",t),n=n.replace("@{language}",t),s=s.replace("@{language}",t),o=o.replace("@{language}",t);const l=r?.settings;let c,f,d,p,y;l?(c=l.categories?l.categories:[],f=l.sortOrder?l.sortOrder:[],d=l.disabledSearchTypes?l.disabledSearchTypes:[],p=l.maxResults>0?l.maxResults:100,y=!!l.officialOnly):(c=[],f=[],d=[],p=100,y=!1),this.config={language:t,geoNameUrl:n,geoLocateUrl:i,types:cfe(t,o),provinces:afe(t,s),categories:c,sortOrder:f,disabledSearchTypes:d,maxResults:p,officialOnly:y},this.config.types.filterValidTypes(r?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=r?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(t){this._provinceList=t}set typeList(t){this._typeList=t}levenshteinDistance(t,r){r=r.toLowerCase().trim();const i=decodeURI(t.query.toLowerCase().replace("*","")),n=[];for(let s=0;s<=r.length;s++){n[s]=[s];for(let o=1;o<=i.length;o++)n[s][o]=s===0?o:Math.min(n[s][o-1]+1,n[s-1][o]+.2,n[s-1][o-1]+(i[o-1]===r[s-1]?0:1))}return n[r.length][i.length]}findProvinceObj(t){return this.provinceList.find(r=>r.name===t)}query(t){return ufe(this.config,t.toUpperCase()).onComplete.then(r=>{let i=[];r.featureResults.length>0?r.resultType==="fsa"?i=r.featureResults.map(s=>({name:s.fsa,bbox:[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:-1})):r.resultType==="nts"?i=r.featureResults.map(s=>({name:s.nts,bbox:s.bbox??[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon},order:-1})):r.resultType==="address"&&(i=r.featureResults.map(s=>({name:s.name,bbox:[s.LatLon.lon+.002,s.LatLon.lat-.002,s.LatLon.lon-.002,s.LatLon.lat+.002],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.city,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length})),this.config.sortOrder.length>0&&(i=i.sort((s,o)=>this.levenshteinDistance(r,s.name)>this.levenshteinDistance(r,o.name)?1:-1))):r.resultType==="latlong"&&(i=[r.latLongResult],i[0].order=-1);const n=r.results.map(s=>({name:s.name,bbox:s.bbox,type:s.type,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:s.order}));return{results:i.concat(n).slice(0,this.config.maxResults).sort((s,o)=>this.config.sortOrder.length>0?s.order>o.order?1:-1:this.levenshteinDistance(r,s.name)>this.levenshteinDistance(r,o.name)?1:-1),failedServs:r.failedServs}})}fetchProvinces(){return new Promise(t=>{const r=setInterval(()=>{if(this.config.provinces.listFetched){clearInterval(r);const i=[],n={code:-1,abbr:"...",name:"..."};i.push(n);const s=this.config.provinces.list;for(const o in s)i.push({code:o,abbr:mfe[o],name:s[o]});this.provinceList=i,t(this.provinceList)}})})}fetchTypes(){return new Promise(t=>{const r=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(r);const i=[],n={code:-1,name:"..."};i.push(n);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||i.push({code:o,name:s[o]});this.typeList=i,t(this.typeList)}},250)})}}function VO(e,t,r){return e&&t.extent&&(r=r.filter(i=>i.bbox[0]<=t.extent.xmax&&i.bbox[1]<=t.extent.ymax&&i.bbox[2]>=t.extent.xmin&&i.bbox[3]>=t.extent.ymin)),t.province&&t.province!=="..."&&(r=r.filter(i=>i.location.province?.name&&i.location.province.name===t.province)),t.type&&t.type!=="..."&&(r=r.filter(i=>i.type===t.type)),r}const yfe=hr("geosearch",()=>{const e=ne(new GO("en",void 0)),t=ne({type:"",province:"",extent:void 0}),r=ne(!1),i=ne(""),n=ne(""),s=ne(""),o=ne([]),a=ne([]),l=ne(!1),c=ne([]),f=it(()=>new Promise(S=>{e.value.fetchProvinces().then(v=>{v.sort((M,O)=>M.name>O.name?1:-1),S(v)})})),d=it(()=>new Promise(S=>{e.value.fetchTypes().then(v=>{v.sort((M,O)=>M.name>O.name?1:-1),S(v)})}));function p(S,v){e.value=new GO(S,v)}function y(S){l.value=!0;const v=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!v)o.value=[],a.value=[],l.value=!1;else if(v&&v!==s.value||S){const M=setInterval(()=>{e.value.config.provinces.listFetched&&e.value.config.types.typesFetched&&(clearInterval(M),e.value.query(`${v}*`).then(O=>{c.value=O.failedServs,s.value=v,a.value=O.results;const P=VO(r.value,t.value,a.value);o.value=P||[],l.value=!1}))},250)}else{const M=VO(r.value,t.value,a.value);o.value=M||[],l.value=!1}}function g(S){t.value.province=typeof S.province>"u"?"":S.province,y(S.forceReRun)}function _(S){t.value.type=typeof S.type>"u"?"":S.type,y(S.forceReRun)}function w(S){s.value=i.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),i.value=S,y()}function x(S){const v={a:"àáâãäåāăąǎȁȃȧạảấầẩẫậắằẳẵặ",b:"ḃɓḅḇ",c:"çćĉċč",d:"ďḋḍḏḑḓ",e:"èéêëēĕėęěȅȇẹẻẽếềểễệ",f:"ƒḟ",g:"ĝğġģǧǵḡ",h:"ĥȟḣḥḧḩḫẖ",i:"ìíîïĩīĭįıȉȋịỉĩ",j:"ĵǰɉ",k:"ķĸƙḳḵ",l:"ĺļľŀłḷḹḻḽ",m:"ḿṁṃ",n:"ñńņňŉŋǹṅṇṉṋ",o:"òóôõöōŏőơǒǫǭȍȏȯọỏốồổỗộớờởỡợ",p:"ṕṗ",r:"ŕŗřȑȓṛṝṟ",s:"śŝşšșṡṣṥṧṩ",t:"ţťŧțṫṭṯṱẗ",u:"ùúûüũūŭůűųưǔǖǘǚǜȕȗụủứừửữự",v:"ṽṿ",w:"ẁẃŵẅẇẉẋ",x:"ẋẍ",y:"ỳýŷÿỹȳẏẙỵỷỹ",z:"źżžẑẓẕ"};S=S.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),n.value=Array.from(S).map(M=>Object.keys(v).includes(M)?"["+M+v[M]+"]":M.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function T(S){if(S.visible!==void 0&&(r.value=S.visible),S.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");t.value.extent=S.extent,y()}return{GSservice:e,queryParams:t,resultsVisible:r,searchVal:i,searchRegex:n,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:f,getTypes:d,initService:p,runQuery:y,setProvince:g,setType:_,setSearchTerm:w,setSearchRegex:x,setMapExtent:T}}),gfe=hr("help",()=>({location:ne("./help/")}));var U9=(e=>(e.Visibility="visibilityButton",e.Expand="expandButton",e))(U9||{}),$S=(e=>(e.Item="item",e.Placeholder="placeholder",e.Error="error",e))($S||{});class j9 extends Rr{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(t,r,i){super(t),this._uid=Lh.sharedUtils.generateUUID(),this._name=r.name,this._type=r.type??"placeholder",this._parent=i,this._children=[],this._loadPromise=new Tr,this._hidden=r.hidden??!1,this._expanded=r.expanded??!0,this._visibility=!0,this._exclusive=r.exclusive??!1,this._controls=r.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=r.disabledControls?.slice(),this._lastVisible,this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(t){this._name=t}get type(){return this._type}get children(){return this._children}set children(t){this._children=t}get parent(){return this._parent}set parent(t){this._parent=t}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(t){return this._disabledControls?.includes(t)?!1:this._controls?.includes(t)}setControl(t,r){r&&this._disabledControls?.includes(t)?(this._disabledControls=this._disabledControls.filter(i=>i!==t),this._controls?.push(t)):!r&&this._controls?.includes(t)&&(this._controls=this._controls.filter(i=>i!==t),this._disabledControls?.push(t))}toggleHidden(t){this._hidden=t??!this.hidden}toggleExpanded(t){this._expanded=t??!this.expanded}toggleVisibility(t,r=!0){if(this.visibility!==t){if(this._visibility=t??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!0,!1)):this.children.forEach(i=>i.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof Va)||this._lastVisible.layerControlAvailable(br.Visibility)))this._lastVisible.toggleVisibility(!0);else{const i=this.children.find(n=>!(n instanceof Va)||n.layerControlAvailable(br.Visibility));i&&i.toggleVisibility(!0)}else this._lastVisible=this.children.find(i=>i.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&r&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(r=>r.visibility&&r!==this&&r.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(t){this instanceof Va&&!this.layerControlAvailable(br.Visibility)||(this.exclusive?t.visibility?(this.children.forEach(r=>{r.uid!==t.uid&&r.toggleVisibility(!1,!1)}),this._lastVisible=t,this._visibility=!0,this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=t):this.children.some(r=>r.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(r=>r.visibility),this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof Va&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const t={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},r=[];return this.children.forEach(i=>{r.push(i.getConfig())}),this.exclusive?t.exclusiveVisibility=r:t.children=r,t}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new Tr}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class Va extends j9{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(t,r,i){super(t,r,i),this._type=$S.Placeholder,this._layerId=r.layerId,this._layerIdx=r.sublayerIndex,this._isSublayer=r.sublayerIndex!==void 0,this._layerControls=r.layerControls??[],this._origLayerControls=r.layerControls,this._layerDisabledControls=r.disabledLayerControls??[],this._origLayerDisabledControls=r.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=r.symbologyExpanded||!1,r.coverIcon&&(this._coverIcon=r.coverIcon),r.description&&(this._description=r.description),this._symbologyRenderStyle=r.symbologyRenderStyle??"icons",this._customSymbology=!!r.symbologyStack,this._symbologyStack=r.symbologyStack?.map(n=>({uid:this.$iApi.geo.shared.generateUUID(),label:n.text,definitionClause:n.sqlQuery,imgUrl:n.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=r.maxLines&&[1,2,3,4,5,6].includes(r.maxLines)?r.maxLines:void 0}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(t){this._layer=t,this._layerId=t.id,this._layerIdx=t.isSublayer?t.layerIdx:void 0,this._layerUid=t.uid,this._name=this._name||t.name,this._symbologyStack=this._customSymbology?this._symbologyStack:t.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(t){this._layerOffscale=t}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(t){this._layerRedrawing=t}get coverIcon(){return this._coverIcon}set coverIcon(t){this._coverIcon=t}get description(){return this._description}set description(t){this._description=t}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(t){this._treeGrown=t}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(t){this._symbologyRenderStyle=t}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(t){this._symbologyStack=t}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const t={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...t}}toggleVisibility(t,r=!0,i=!1){if(!(!this.layerControlAvailable(br.Visibility)&&!i)&&(super.toggleVisibility(t,r),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const n=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{n||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(t){return this._symbologyExpanded=t??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(t,r){this._symbologyStack.some(i=>((t===void 0||i.uid===t)&&(i.visibility=r,i.lastVisbility=r),t!==void 0&&i.uid===t))}load(t){const r=t instanceof gT?t:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);r&&(this.layer=r,this._layerRedrawing=r.mapLayer&&r.drawState!==Ki.UP_TO_DATE,r.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:r.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),r.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Ce.LAYER_VISIBILITYCHANGE,i=>{i.layer.uid===this.layer.uid&&this._type===$S.Item&&this.toggleVisibility(i.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Ce.LAYER_DRAWSTATECHANGE,i=>{this.layer.uid===i.layer.uid&&(i.layer.drawState===Ki.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=i.layer.drawState===Ki.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?r.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Ce.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(t){return this._layerDisabledControls?.includes(t)?!1:!!this._layerControls?.includes(t)}updateLayerControls(){const t=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=t?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=t?.disabledControls??[])}}var vfe=(e=>(e.Title="title",e.Text="text",e.Image="image",e.Markdown="markdown",e.Template="template",e))(vfe||{});class BO extends j9{_infoType;_content;constructor(t,r,i){super(t,r,i),this._infoType=r.infoType??"title",this._content=r.content??"",r.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(r.infoType||r.content)&&(this._controls=r.controls?.slice()??[U9.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(t){this._content=t}getConfig(){const t={infoType:this._infoType,content:this._content};return{...super.getConfig(),...t}}}const bfe=hr("legend",()=>{const e=ne(),t=ne([]),r=ne([]),i=ne(!0),n=ne(3);function s(l){if(l.parent===void 0)t.value.push(l.item);else{if(!(l.item instanceof BO)&&!(l.item instanceof Va)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=f=>(f=f.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),f.forEach(d=>{d.children=c(d.children)}),f=f.filter(d=>!(d instanceof BO&&!d.children.length&&d.content==="")),f);t.value=c(t.value)}function a(l){if(l.oldItem.parent===void 0){const c=t.value,f=c.indexOf(l.oldItem);f>-1&&(t.value[f]=l.newItem),t.value=c}else{const c=l.oldItem.parent.children,f=c.indexOf(l.oldItem);f>-1&&(c[f]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:e,multilineItems:i,maxLines:n,children:t,headerControls:r,addItem:s,removeItem:o,replaceItem:a}}),_fe=hr("mapnav",()=>{const e=ne({}),t=ne([]);function r(i){i in e.value&&delete e.value[i];const n=t.value.indexOf(i);n!==-1&&t.value.splice(n,1)}return{items:e,order:t,removeItem:r}}),wfe=hr("metadata",()=>{const e=ne(""),t=ne({type:"LineString",coordinates:[]});return{status:e,response:t}}),Sfe=hr("northarrow",()=>{const e=ne(""),t=ne("");return{arrowIcon:e,poleIcon:t}}),xfe=hr("overviewmap",()=>{const e=ne({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),t=ne({}),r=ne(!0),i=ne(1.5),n=ne("#FF0000"),s=ne(1),o=ne("#000000"),a=ne(.25);function l(c){e.value.initialBasemapId=c}return{mapConfig:e,basemaps:t,startMinimized:r,expandFactor:i,borderColour:n,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),Efe=hr("scrollguard",()=>{const e=ne(!1);function t(r){e.value=r}return{enabled:e,setEnabled:t}});var fi=(e=>(e[e.UPLOAD=0]="UPLOAD",e[e.FORMAT=1]="FORMAT",e[e.CONFIGURE=2]="CONFIGURE",e))(fi||{});const Tfe=hr("wizard",()=>{const e={id:"Placeholder",layerType:ke.UNKNOWN,url:""},t=ne(),r=ne(""),i=ne(""),n=ne(!0),s=ne(null),o=ne({config:e,configOptions:[]}),a=ne(fi.UPLOAD);function l(c){switch(a.value){case fi.UPLOAD:c===fi.UPLOAD?r.value="":c===fi.FORMAT&&(a.value=fi.FORMAT);break;case fi.FORMAT:c===fi.UPLOAD?(s.value&&(r.value="",s.value=null),i.value="",a.value=fi.UPLOAD):c===fi.CONFIGURE&&(a.value=fi.CONFIGURE);break;case fi.CONFIGURE:c===fi.UPLOAD?(r.value="",i.value="",s.value=null,n.value=!0,o.value={config:e,configOptions:[]},a.value=fi.UPLOAD):c===fi.FORMAT&&(o.value={config:e,configOptions:[]},n.value=!0,a.value=fi.FORMAT);break}}return{layerSource:t,url:r,typeSelection:i,nested:n,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class Afe{fixture;panel;event;geo;notify;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(t,r,i){this.event=new aie(this);const n=Mfe(t,this);this.$vApp=n.app,this.$element=n.element,this.$i18n=n.i18n,this.$rootEl=n.app.$root?.$el,this.fixture=new fpe(this),this.panel=new dpe(this),this.geo=new upe(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new gae(this),this._isFullscreen=Fs.isEnabled&&!!this.$vApp.$root&&Fs.isFullscreen&&Fs.element===this.$vApp.$root.$el,Fs.isEnabled&&Fs.onchange(()=>{this._isFullscreen=Fs.isEnabled&&!!this.$vApp.$root&&Fs.isFullscreen&&Fs.element===this.$vApp.$root.$el}),this.initialize(!0,r,i)}initialize(t,r,i){const n=Qi(this.$vApp.$pinia),s=su(this.$vApp.$pinia),o=a1(this.$vApp.$pinia);if(r?.configs!==void 0){const l=r.configs,c=l[this.$i18n.locale.value]??l[Object.keys(l)[0]];n.newConfig(c),n.registerConfig({config:c,configLangs:Object.keys(l),allLangs:Object.keys(this.$i18n.messages.value)});for(const g in l)n.registerConfig({config:l[g],configLangs:[g]});n.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const f=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(f),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let _=0;c.layers.forEach(w=>{const x=this.geo.layer.createLayer(w);this.geo.map.addLayer(x,_).catch(()=>{}),x.mapLayer&&_++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(_=>_.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(_=>{this.panel.open({id:_.id,screen:_.screen}),_.pin&&this.panel.pin(_.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},p=c.system?.zoomIcon||"globe",y=d[p]||p;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const _={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,w=>_[w])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}i||(i={});const a=Xu(this.$vApp.$pinia);i?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Ce.MAP_START)),t&&(i.loadDefaultFixtures!==!1||r?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(r?.startingFixtures):t||this.fixture.restore(),i.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reload(t,r){const i=Xu(this.$vApp.$pinia),n=po(this.$vApp.$pinia),s=Qi(this.$vApp.$pinia),o=Dn(this.$vApp.$pinia),a=ro(this.$vApp.$pinia),l=tS(this.$vApp.$pinia),c=!!t;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(d=>{l.removeGrid(d)}),i.started=!1,this.geo.map.destroyMap(),a.$reset(),r?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),t===void 0&&(t=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),n.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,t,r)}component(t,r){if(r){const i=this.$element.component(t,r);return this.event.emit(Ce.COMPONENT,t),i}return this.$element.component(t)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const t=this.$vApp.$root.$refs["app-size"].classList;return t.contains("lg")?"lg":t.contains("md")?"md":t.contains("sm")?"sm":"xs"}getConfig(){const t=Qi(this.$vApp.$pinia);return JSON.parse(JSON.stringify(t.getActiveConfig(this.language)))}useStore(t){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(t)&&!this.fixture.exists(t)))switch(t){case"appbar":return i1(this.$vApp.$pinia);case"areas-of-interest":return rfe(this.$vApp.$pinia);case"details":return rR(this.$vApp.$pinia);case"export":return ife(this.$vApp.$pinia);case"extentguard":return nfe(this.$vApp.$pinia);case"geosearch":return yfe(this.$vApp.$pinia);case"grid":return tS(this.$vApp.$pinia);case"help":return gfe(this.$vApp.$pinia);case"legend":return bfe(this.$vApp.$pinia);case"mapnav":return _fe(this.$vApp.$pinia);case"metadata":return wfe(this.$vApp.$pinia);case"northarrow":return Sfe(this.$vApp.$pinia);case"overviewmap":return xfe(this.$vApp.$pinia);case"scrollguard":return Efe(this.$vApp.$pinia);case"wizard":return Tfe(this.$vApp.$pinia);case"config":return Qi(this.$vApp.$pinia);case"fixture":return Dn(this.$vApp.$pinia);case"instance":return Xu(this.$vApp.$pinia);case"layer":return ro(this.$vApp.$pinia);case"map-caption":return al(this.$vApp.$pinia);case"maptip":return a1(this.$vApp.$pinia);case"notification":return po(this.$vApp.$pinia);case"panel":return su(this.$vApp.$pinia);default:console.error(`The store ${t} does not exist.`);return}}setLanguage(t){if(this.$i18n.locale.value===t)return;const r=Qi(this.$vApp.$pinia),i=po(this.$vApp.$pinia),n=r.registeredLangs;Object.keys(r.registeredConfigs).length===1&&i.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=t;const o=this.getConfig();n[s]!==n[t]&&(this.event.emit(Ce.CONFIG_CHANGE,o),this.reload()),this.event.emit(Ce.LANG_CHANGE,{oldLang:s,newLang:t})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){Fs.isEnabled&&Fs.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Xu(this.$vApp.$pinia).started}updateAlert(t){const r=this.$vApp.$el.querySelector(".screen-reader-alert");r.childNodes.length>0&&(r.innerHTML="");const i=document.createElement("span");i.setAttribute("role","alert");const n=document.createTextNode(t);i.appendChild(n),r.insertBefore(i,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const t=Xu(this.$vApp.$pinia);!t.started&&this.startRequired?(this.event.emit(Ce.MAP_START),t.started=!0):t.started&&console.warn("start has already been called")}containsValidHtml(t){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(t)}representsObject(t){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(t)}}function Mfe(e,t){const r=eie();r.use(({store:o})=>{const a=WI(o.$state);o.$reset=()=>o.$patch(WI(a))});const i=xse(),n=Sl(pue).use(i).use(cue,{directive:"tippy",component:"tippy"}).use(r);n.directive("focus-container",Sue),n.directive("focus-list",gue),n.directive("focus-item",bue),n.directive("truncate",lhe),n.component("panel-screen",ghe),n.component("pin",whe),n.component("close",Ehe),n.component("back",Mhe),n.component("expand",Nhe),n.component("panel-options-menu",Bhe),n.component("dropdown-menu",X3),n.component("minimize",khe),n.component("right",Fhe),n.component("left",Ghe),n.component("fullscreen-nav-button",Whe),n.component("geolocator-nav-button",Hhe),n.component("home-nav-button",Yhe),n.component("mapnav-button",Zhe),n.component("appbar-button",tfe),n.component("transition",Av),n.component("transition-group",Iv),n.config.globalProperties.$iApi=t,n.config.globalProperties.$pinia=r,n.provide("iApi",t);const s=n.mount(e);return{element:n,app:s,i18n:i.global}}class mT{esriBasemap;config;createErr=!1;constructor(t){this.config=t}static async create(t){const r=new mT(t),i=t.layers.map(o=>{if(o.layerType===ke.TILE)return Gt.TileLayer({url:o.url,opacity:o.opacity});if(o.layerType===ke.MAPIMAGE)return Gt.MapImageLayer({url:o.url,opacity:o.opacity});if(o.layerType===ke.OSM)return Gt.OpenStreetMapLayer({opacity:o.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${o.layerType}`)}),s=(await Promise.allSettled(i)).filter(o=>o.status==="rejected"?(console.error(o.reason),r.createErr=!0,!1):!0).map(o=>{if(o.status==="fulfilled")return o.value;throw new Error("TS is fun")});return r.esriBasemap=await Gt.Basemap({baseLayers:s,title:t.name||"",id:t.id}),r}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(t){this.config.name=t||""}get description(){return this.config.description}set description(t){this.config.description=t||""}get altText(){return this.config.altText}set altText(t){this.config.altText=t||""}get attribution(){return this.config.attribution}set attribution(t){this.config.attribution=t}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class Ife extends Rr{esriMap;_basemapStore;created=!1;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(t){super(t),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new Tr,this.handlers=[],this.pointZoomScale=5e4}noMapErr(){console.error("Attempted to manipulate the map before calling createMap()")}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(t,r){const i=l=>{this.$iApi.notify.show(vn.ERROR,this.$iApi.$i18n.t("layer.error",{id:l.name}))},n=t.basemaps.map(l=>mT.create(l)),o=(await Promise.all(n)).filter(l=>(l.createErr&&i(l),l.esriBasemap.baseLayers.length>0));o.forEach(l=>{l.esriBasemap.baseLayers.forEach(c=>{c.watch("loadStatus",()=>{c.loadStatus==="loaded"?this.trackFirstBasemap=!1:c.loadStatus==="failed"&&(i(l),this.trackFirstBasemap&&this.recoverBasemap(l.tileSchemaId))})})}),this._basemapStore=o,t.labelsDefault&&(this.labelsDefault.visible=t.labelsDefault.visible);const a={};this.esriMap=Mr(await Gt.Map(a)),this.pointZoomScale=t.pointZoomScale&&t.pointZoomScale>0?t.pointZoomScale:5e4,this._targetDiv=r,this.createMapView(t.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(t=>t.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(t,r){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(t,r)}async createMapView(t){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new Tr,this.created=!1,this.handlers.forEach(t=>t.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(t){const r=this._basemapStore.find(i=>i.id===t);if(r)return r;throw new Error(`Invalid basemap id requested: ${t}`)}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const r=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=qe(r.esriBasemap)}async setBasemap(t){return this.abstractError(),!1}async recoverBasemap(t){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap.id;this.noMapErr()}geomToMapSR(t){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(t.sr)?Promise.resolve(t):this.$iApi.geo.proj.projectGeometry(this._rampSR,t)}async zoomMapTo(t,r,i=!0,n=200,s="ease"){if(this.esriView){if(t.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(t),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Ze.POINT&&(a.scale=r||this.pointZoomScale);const l={animate:i,duration:n,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?ir.fromESRI(this.esriView.extent):(this.noMapErr(),ir.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),Pp.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Be.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(t){return t>0?(this.pointZoomScale=t,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${t}.`),!1)}}class Ofe extends Rr{maptipStore;constructor(t){super(t),this.maptipStore=a1(this.$vApp.$pinia)}#e=void 0;#t=void 0;async checkAtCoord(t){this.#t=t;const r=await this.$iApi.geo.map.getGraphicAtCoord(t);if(this.#t!==t)return;if(!r){this.clear();return}const i=this.$iApi.geo.layer.getLayer(r.layerId);if(i?.geomType!=Ze.POLYGON&&this.#e&&this.#e.layerId===r.layerId&&this.#e.oid===r.oid&&this.#e.layerIdx===r.layerIdx)return;if(this.clear(),this.#e=r,!i){console.error(`graphic hit test returned non-existent layer id: ${r.layerId}`);return}if(!i.hovertips)return;const n=await i.getIcon(r.oid),s=await i.getGraphic(r.oid,{getAttribs:!0});this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(t)),this.$iApi.event.emit(Ce.MAP_GRAPHICHIT,{layer:i,graphicHit:r,attributes:s.attributes,icon:n,screenPoint:t})}generateDefaultMaptip(t){this.setContent(`<div class="flex items-center space-x-5"><span>${t.icon}</span><span class="line-clamp-3">${t.attributes[t.layer.config.tooltipField||t.layer.nameField]}</span></div>`)}clear(){this.#e=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(t){this.maptipStore.setMaptipPoint(t)}setContent(t){this.maptipStore.setMaptipContent(t)}}class $fe extends Rr{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(t){super(t),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(t){if(!t)return;const r=al(this.$vApp.$pinia);if(r.coords.disabled=!1,r.scale.disabled=!1,r.scale.isImperialScale=!1,t.mapCoords)if(t.mapCoords.disabled)r.coords.disabled=!0;else{const i=t.mapCoords.formatter;i!==void 0&&this.setPointFormatter(i)}if(t.scaleBar)if(t.scaleBar.disabled)r.scale.disabled=!0;else{const i=t.scaleBar.imperialScale;i!==void 0&&(r.toggleScale(i),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}r.langtoggle={disabled:t?.langToggle?.disabled??!1}}updateAttribution(t){const r={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},i={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},n={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(t?(t.logo?t.logo.disabled?n.logo.disabled=!0:(n.logo.altText=t.logo.altText||i.altText,n.logo.link=t.logo.link||i.link,n.logo.value=t.logo.value||i.value):(n.logo.altText=i.altText,n.logo.link=i.link,n.logo.value=i.value),t.text?t.text.disabled?n.text.disabled=!0:n.text.value=t.text.value||r.value:n.text.value=r.value,al(this.$vApp.$pinia).setAttribution(n)):(n.logo.altText=i.altText,n.logo.link=i.link,n.logo.value=i.value,n.text.value=r.value),!t||t.text?.disabled||!t.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap.baseLayers.map(c=>new Promise(f=>{let d=0;const p=o/a,y=setInterval(function(){c.loaded&&!c.loadError?(clearInterval(y),f(c)):d>p&&(clearInterval(y),f(null)),d++},a)})).toArray();Promise.all(l).then(c=>{s=c.filter(d=>d?.copyright).map(d=>d.copyright).join(" | "),n.text.value=s||n.text.value||r.value,al(this.$vApp.$pinia).setAttribution(n)})}}updateScale(){const t=al(this.$vApp.$pinia),r=t.scale;if(r?.disabled)return;const i=r?.isImperialScale||!1,n=this.scaleHelper().find(s=>s.isImperialScale===i)??{isImperialScale:!1,units:"error",pixels:1,distance:1};t.scale={width:`${n.pixels}px`,label:`${this.$iApi.$i18n.n(n.distance,"number")}${n.units}`,isImperialScale:i}}async formatPoint(t){return t?await this.pointFormatter(t):""}setPointFormatter(t){if(typeof t=="string"){if(!(t in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${t}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[t]}else this.pointFormatter=t}scaleHelper(){const t=window.innerWidth>600?70:35,r=this.$iApi.geo.map.getResolution(),i=[],n=r*t,s=1609.34,o=3.28084,a=n>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(i.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),n>1e3){const f=r*t/(c?s:1e3),d=Math.round(f).toString().length,p=Math.pow(10,d-1);i[l].distance=Math.ceil(f/p)*p,i[l].pixels=i[l].distance*(c?s:1e3)/r}else i[l].distance=Math.ceil(c?n*o:n),i[l].pixels=n/r}return i}wrapValue(t,r,i){return((t-r)%(i-r)+(i-r))%(i-r)+r}async formatLatLongDMS(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s="°",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.floor(Math.abs((i-o)*60)),l=Math.floor((Math.abs(i)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(n))*(n<0?-1:1),f=Math.floor(Math.abs((n-c)*60)),d=Math.floor((Math.abs(n)-Math.abs(c)-f/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(f,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatLatLongDDM(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s="°",o=Math.floor(Math.abs(i))*(i<0?-1:1),a=Math.abs((i-o)*60),l=Math.floor(Math.abs(n))*(n<0?-1:1),c=Math.abs((n-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatLatLongDD(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s="°",o=Math.abs(i),a=Math.abs(n);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>n?"west":"east"))}`}async formatMercator(t){const r=await this.$iApi.geo.proj.projectGeometry(102100,t);return`${this.$iApi.$i18n.n(Math.floor(r.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(r.y),"number")} m`}async formatLambert(t){const r=await this.$iApi.geo.proj.projectGeometry(3978,t);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(r.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>r.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(r.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(r.y>0?"north":"south"))}`}async formatUTM(t){const r=await this.$iApi.geo.proj.projectGeometry(4326,t),i=this.wrapValue(r.y,-90,90),n=this.wrapValue(r.x,-180,180),s=Math.ceil((n+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),t);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(i>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(t){const r=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),t);return`${this.$iApi.$i18n.n(r.x,"number")} | ${this.$iApi.$i18n.n(r.y,"number")}`}}class Cfe extends Ife{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:0,load:0,fail:0};constructor(t){super(t),this.maptip=new Ofe(t),this.caption=new $fe(t),this.mapMouseThrottle=0}async createMap(t,r){this.setMapMouseThrottle(t.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=t.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=t.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=t.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(t,r),this.viewPromise.then(()=>{this.$iApi.event.emit(Ce.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(t=>t.uid).forEach(t=>this.removeLayer(t)),super.destroyMap(),this.$iApi.event.emit(Ce.MAP_DESTROYED)}async createMapView(t){const i=Qi(this.$vApp.$pinia).config.map;if(!i)throw new Error("Attempted to create map view without a map config");const n=(typeof t=="string"?await this.findBasemap(t):t)||await this.findBasemap(i.initialBasemapId),s=i.tileSchemas.find(l=>l.id===n.tileSchemaId);if(!s)throw new Error(`Could not find tile schema for the given basemap id: ${n.id}`);const o=i.extentSets.find(l=>l.id===s.extentSetId);if(!o)throw new Error(`Could not find extent set with the given id: ${s.extentSetId}`);this._rampExtentSet=Pp.fromConfig(o),this._rampSR=this._rampExtentSet.sr.clone();const a=i.lodSets.find(l=>l.id===s.lodSetId);if(!a)throw new Error(`Could not find lod set with the given id: ${s.lodSetId}`);this.esriView=Mr(await Gt.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:a.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:n.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:this.esriView.watch("extent",l=>{if(l){const c=this.$iApi.geo.geom.geomEsriToRamp(l,"map_extent_event");this.$iApi.event.emit(Ce.MAP_EXTENTCHANGE,c),this.$iApi.event.emit(Ce.FILTER_CHANGE,{extent:c,filterKey:Li.EXTENT})}})}),this.handlers.push({type:"scale",handler:this.esriView.watch("scale",l=>{this.$iApi.event.emit(Ce.MAP_SCALECHANGE,l)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",l=>{this.$iApi.event.emit(Ce.MAP_RESIZED,{height:l.height,width:l.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",l=>{this.$iApi.event.emit(Ce.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",l=>{this.$iApi.event.emit(Ce.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(l,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",n1(100,!0,l=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",n1(100,l=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(l))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",l=>{setTimeout(()=>{this.$iApi.event.emit(Ce.MAP_MOUSELEAVE,l.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",l=>{this.$iApi.event.emit(Ce.MAP_MOUSEDOWN,l.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",l=>{this.$iApi.event.emit(Ce.MAP_KEYDOWN,l.native),l.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",l=>{this.$iApi.event.emit(Ce.MAP_KEYUP,l.native),l.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",l=>{this.$iApi.event.emit(Ce.MAP_FOCUS,l.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",l=>{this.$iApi.event.emit(Ce.MAP_BLUR,l.native)})}),this.esriView.container.addEventListener("touchmove",l=>{l.preventDefault()}),this.esriView.watch("fatalError",()=>{const l=new IntersectionObserver(c=>{c.forEach(f=>{f.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),l.disconnect())})});l.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(n),s.recoveryBasemap?.basemapId){const l=s.recoveryBasemap.timeout??8e3;l>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(s.id)},l)}})}destroyMapView(){this.esriView?.container.removeEventListener("touchmove",t=>{t.preventDefault()}),super.destroyMapView()}async applyBasemap(t){if(!this.esriMap){this.noMapErr();return}const r=typeof t=="string"?await this.findBasemap(t):t;this.esriMap.basemap=qe(r.esriBasemap);const i=Qi(this.$vApp.$pinia);i.activeBasemapConfig=r.config}async setBasemap(t){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const r=Qi(this.$vApp.$pinia),i=await this.findBasemap(t),s=r.activeBasemapConfig.tileSchemaId!==i.tileSchemaId;if(s){const o=this.getExtent().center(),a=this.getScale();this._viewPromise=new Tr,this.created=!1,this.$iApi.event.emit(Ce.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(i),await this.viewPromise.then(()=>{this.$iApi.event.emit(Ce.MAP_REFRESH_END),this.$iApi.event.emit(Ce.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:s});const l=this.findClosestScale(a);this.$iApi.geo.proj.projectGeometry(this._rampSR,o).then(c=>this.zoomMapTo(c,l,!1))})}else{await this.applyBasemap(i);const o=await Gt.ColorBackground({color:new aa(i.backgroundColour).toESRI()});this.esriView.background=o,this.$iApi.event.emit(Ce.MAP_BASEMAPCHANGE,{basemapId:t,schemaChanged:s})}return s}async recoverBasemap(t){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const i=Qi(this.$vApp.$pinia).config.map;if(i){const n=i.tileSchemas.find(s=>s.id===t);if(n?.recoveryBasemap?.basemapId){const s=await this.findBasemap(n.recoveryBasemap.basemapId);await this.applyBasemap(s)}}}addLayer(t,r=void 0){return new Promise((i,n)=>{if(this.esriMap||(this.noMapErr(),n()),t.initiationState!==rr.INITIATING&&t.initiationState!==rr.INITIATED&&t.layerState!==yr.ERROR&&t.initiate(),t.mapLayer&&r===void 0){const c=this.$iApi.geo.layer.layerOrderIds();if(t.isCosmetic)r=c.length;else{const f=this.$iApi.geo.layer.allLayers();let d=!0;for(let p=c.length-1;p>=0&&d;p--){const y=f.find(g=>g.id===c[p]);y&&!y.isCosmetic&&(r=p+1,d=!1)}d&&(r=0)}}ro(this.$vApp.$pinia).addLayer(t,r),this.$iApi.event.emit(Ce.LAYER_REGISTERED,t);const o=Date.now();let a=0;const l=setInterval(()=>{a+=250,a>=t.expectedTime.fail||t.layerState===yr.ERROR?(clearInterval(l),t.lastCancel<o&&console.error(`Failed to add layer: ${t.id}.`),n()):t.initiationState===rr.INITIATED&&(t.esriLayer||!t.mapLayer)&&(clearInterval(l),t.mapLayer?this.insertToEsriMap(t):t.onLoad(),i())},250)})}insertToEsriMap(t){let r=0;const i=this.$iApi.geo.layer.getLayerPosition(t.id)??-1;if(i>0){const n=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=i-1;o>-1;o--){const a=n[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){r=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}i>-1&&this.esriMap?.add(t.esriLayer,r)}reorder(t,r,i=!1){if(r<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(t.isSublayer&&(t=t.parentLayer),!t.mapLayer){console.error("Attempted to reorder a data layer");return}const n=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(i){if(t.isCosmetic)return;if(r>0){const l=s.filter(c=>{const f=n.find(d=>d.id===c);return f?!f.isCosmetic:(console.error("Layer reorder had critical error"),!1)});r>=l.length&&(console.error("non-cosmetic reorder index was too high"),r=l.length-1),r=s.indexOf(l[r])}}else r>=s.length&&(console.error("reorder index was too high"),r=s.length-1);const o=s.indexOf(t.id);if(o===r)return;if(ro(this.$vApp.$pinia).reorderLayer(t,r),t.esriLayer&&this.esriMap.layers.indexOf(t.esriLayer)>-1){let l=0;if(r>0){s=this.$iApi.geo.layer.layerOrderIds();for(let c=r-1;c>-1;c--){const f=s[c],d=n.find(p=>p.id===f);if(d&&d.esriLayer){const p=this.esriMap.layers.indexOf(d.esriLayer);if(p>-1){const y=r<o?1:0;l=p+y;break}}else d||console.error("Layer reorder had critical error")}}this.esriMap.reorder(t.esriLayer,l)}this.$iApi.event.emit(Ce.MAP_REORDER,{layer:t,newIndex:r})}removeSublayer(t){let r,i;if(typeof t=="string")r=t,i=this.$iApi.geo.layer.getLayer(r);else{if(!t.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${t}`);r=t.uid,i=t}if(!i)throw new Error("Sublayer could not be found for removal.");i.visibility=!1,i.isRemoved=!0,this.$iApi.event.emit(Ce.LAYER_REMOVE,t),i.parentLayer?.sublayers.every(n=>n.isRemoved)&&this.removeLayer(i.parentLayer)}removeLayer(t){if(!this.esriMap){this.noMapErr();return}let r;if(t instanceof gT?r=t:r=this.$iApi.geo.layer.getLayer(t),!r)throw new Error("Layer could not be found for removal.");if(r.isSublayer){this.removeSublayer(r);return}r.supportsSublayers&&r.sublayers.forEach(n=>{n.isRemoved||this.removeSublayer(n)});const i=ro(this.$vApp.$pinia);i.removeLayer(r),i.removeLayerConfig(r.id),r.removeEsriLayer(),r.initiationState===rr.INITIATED&&r.terminate(),r.isRemoved=!0,this.$iApi.event.emit(Ce.LAYER_REMOVE,r)}setMapMouseThrottle(t){if(t<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=t;const r=this.handlers.findIndex(i=>i.type==="pointer-move");if(r!==-1){const i=this.handlers[r];this.handlers.splice(r,1),i.handler.remove()}return r!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return Ac(this.mapMouseThrottle,t=>{this.$iApi.event.emit(Ce.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(t))})}async zoomToLevel(t){if(this.esriView)return this.esriView.goTo({zoom:t});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(t){if(!this.esriView){this.noMapErr();return}const r=t.isOffScale(this.getScale());if(!r.offScale)return;const i=this.esriView.constraints.lods;if(!i)return this.zoomMapTo(this.getExtent().center(),(r.zoomIn,t.minScale));const n=r.zoomIn?i:[...i].reverse(),s=n.find(o=>r.zoomIn?o.scale<t.minScale:o.scale>t.maxScale)||n[n.length-1];return this.zoomToLevel(s.level)}findClosestScale(t){const r=this.esriView?.constraints.lods;if(!r)return t;const i=r.map(s=>Math.abs(s.scale-t)),n=i.indexOf(Math.min(...i));return r[n].scale}async takeScreenshot(t){if(this.esriView)return t.quality||(t.quality=1),t.format||(t.format="png"),this.esriView.takeScreenshot(t);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(t){return this.esriView?Di.fromESRI(this.esriView.toMap({x:t.screenX,y:t.screenY}),"mappoint"):(this.noMapErr(),new Di("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(t){if(this.esriView){const r=this.esriView.toScreen(t.toESRI());return{screenX:r.x,screenY:r.y}}else return this.noMapErr(),{screenX:1,screenY:1}}runIdentify(t){const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let i;if(t instanceof Di){const c=this.mapPointToScreenPoint(t);i={mapPoint:t,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else i=t;if(r===void 0)return{click:i,results:[]};let n=Promise.resolve([]);r.some(c=>c.identifyMode===Gr.HYBRID||c.identifyMode===Gr.SYMBOLIC)&&(n=this.esriView.hitTest({x:i.screenX,y:i.screenY}).then(c=>c.results.map(f=>({layerId:f.layer.id,layerIdx:0,oid:f.graphic.getObjectId()}))));const s={geometry:i.mapPoint,hitTest:n},o=r.filter(c=>c.supportsIdentify).map(c=>(s.tolerance=i.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(s))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:i};return this.$iApi.event.emit(Ce.MAP_IDENTIFY,l),l}async getGraphicAtCoord(t){if(!this.esriView){this.noMapErr();return}const r=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===ke.GRAPHIC);if(r.length===0)return;const i=await this.esriView.hitTest({x:t.screenX,y:t.screenY});if(i.results.length===0)return;const n=i.results;let s,o;const a=new Set;if(n.some(l=>{if(a.has(l.layer.id))return!1;const c=r.find(f=>f.id===l.layer.id);return c?(!c.isCosmetic&&c.layerType!==ke.GRAPHIC&&(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(t){const r=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this._activeKeys.some(n=>r.includes(n))||this.keyPan()):r.includes(t.key)&&!this._activeKeys.includes(t.key)?(this._activeKeys.push(t.key),this.keyZoom(t)):t.key==="Enter"?this.runIdentify(this.getExtent().center()):t.key==="Tab"&&this._activeKeys.push(t.key)}mapKeyUp(t){const r=["=","-"];this._activeKeys.includes(t.key)&&!r.includes(t.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this._activeKeys.some(i=>r.includes(i))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(t=>!["Control","Shift"].includes(t)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(t){clearInterval(this._panInterval),t.key==="="?await this.zoomIn():t.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(t.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const t=this.getExtent().center(),r=this.mapPointToScreenPoint(t),i=this.screenPointToMapPoint({screenX:r.screenX+5,screenY:r.screenY+5}),n=Math.abs(i.x-t.x),s=Math.abs(i.y-t.y);let o=0,a=0,l=1;for(let f=0;f<this._activeKeys.length;++f)switch(this._activeKeys[f]){case"ArrowLeft":o-=n;break;case"ArrowRight":o+=n;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{t.x+=l*o,t.y+=l*a,this.zoomMapTo(t,c,!1)},25)}}const Nfe={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},Pfe={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},Lfe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},kfe={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},Rfe={circlePoint:Nfe,solidLine:Pfe,outlinedPoly:Lfe,boundingBoxPoly:kfe};var Yy={exports:{}},Dfe=Yy.exports,zO;function Ffe(){return zO||(zO=1,function(e,t){(function(r,i){if(e.exports=i(cP()),typeof r.navigator=="object"){if(!r.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");r.Terraformer.ArcGIS=i(r.Terraformer)}})(Dfe,function(r){var i={};function n(w){var x=0,T=0,S=[],v,M,O,P;O=w.match(/((\+|\-)[^\+\-]+)/g),P=parseInt(O[0],32);for(var R=1;R<O.length;R+=2)v=parseInt(O[R],32)+x,x=v,M=parseInt(O[R+1],32)+T,T=M,S.push([v/P,M/P]);return S}function s(w){return o(w[0],w[w.length-1])||w.push(w[0]),w}function o(w,x){for(var T=0;T<w.length;T++)if(w[T]!==x[T])return!1;return!0}function a(w){var x={};for(var T in w)w.hasOwnProperty(T)&&(x[T]=w[T]);return x}function l(w){var x=0,T=0,S=w.length,v=w[T],M;for(T;T<S-1;T++)M=w[T+1],x+=(M[0]-v[0])*(M[1]+v[1]),v=M;return x>=0}function c(w){var x=[],T=w.slice(0),S=s(T.shift().slice(0));if(S.length>=4){l(S)||S.reverse(),x.push(S);for(var v=0;v<T.length;v++){var M=s(T[v].slice(0));M.length>=4&&(l(M)&&M.reverse(),x.push(M))}}return x}function f(w){for(var x=[],T=0;T<w.length;T++)for(var S=c(w[T]),v=S.length-1;v>=0;v--){var M=S[v].slice(0);x.push(M)}return x}function d(w,x){var T=r.Tools.arraysIntersectArrays(w,x),S=r.Tools.coordinatesContainPoint(w,x[0]);return!!(!T&&S)}function p(w){for(var x=[],T=[],S,v,M,O=0;O<w.length;O++){var P=s(w[O].slice(0));if(!(P.length<4))if(l(P)){var R=[P.slice().reverse()];x.push(R)}else T.push(P.slice().reverse())}for(var k=[];T.length;){M=T.pop();var G=!1;for(S=x.length-1;S>=0;S--)if(v=x[S][0],d(v,M)){x[S].push(M),G=!0;break}G||k.push(M)}for(;k.length;){M=k.pop();var V=!1;for(S=x.length-1;S>=0;S--)if(v=x[S][0],r.Tools.arraysIntersectArrays(v,M)){x[S].push(M),V=!0;break}V||x.push([M.reverse()])}return x.length===1?{type:"Polygon",coordinates:x[0]}:{type:"MultiPolygon",coordinates:x}}function y(w,x){var T={};return x=x||{},x.idAttribute=x.idAttribute||void 0,w.spatialReference&&(w.spatialReference.wkid===3857||w.spatialReference.wkid===102100)&&(T.crs=r.MercatorCRS),typeof w.x=="number"&&typeof w.y=="number"&&(T.type="Point",T.coordinates=[w.x,w.y],(w.z||w.m)&&T.coordinates.push(w.z),w.m&&T.coordinates.push(w.m)),w.points&&(T.type="MultiPoint",T.coordinates=w.points.slice(0)),w.paths&&(w.paths.length===1?(T.type="LineString",T.coordinates=w.paths[0].slice(0)):(T.type="MultiLineString",T.coordinates=w.paths.slice(0))),w.rings&&(T=p(w.rings.slice(0))),typeof w.xmin=="number"&&typeof w.ymin=="number"&&typeof w.xmax=="number"&&typeof w.ymax=="number"&&(T.type="Polygon",T.coordinates=[[[w.xmax,w.ymax],[w.xmin,w.ymax],[w.xmin,w.ymin],[w.xmax,w.ymin],[w.xmax,w.ymax]]]),(w.compressedGeometry||w.geometry||w.attributes)&&(T.type="Feature",w.compressedGeometry&&(w.geometry={paths:[n(w.compressedGeometry)]}),T.geometry=w.geometry?y(w.geometry):null,T.properties=w.attributes?a(w.attributes):null,w.attributes&&(T.id=w.attributes[x.idAttribute]||w.attributes.OBJECTID||w.attributes.FID)),new r.Primitive(T)}function g(w,x){var T;x=x||{};var S=x.idAttribute||"OBJECTID";x.sr?T={wkid:x.sr}:w&&w.crs&&w.crs.properties.name!="urn:ogc:def:crs:OGC:1.3:CRS84"?T=null:T={wkid:4326};var v={},M;switch(w.type){case"Point":v.x=w.coordinates[0],v.y=w.coordinates[1],w.coordinates[2]&&(v.z=w.coordinates[2]),w.coordinates[3]&&(v.m=w.coordinates[3]),v.spatialReference=T;break;case"MultiPoint":v.points=w.coordinates.slice(0),v.spatialReference=T;break;case"LineString":v.paths=[w.coordinates.slice(0)],v.spatialReference=T;break;case"MultiLineString":v.paths=w.coordinates.slice(0),v.spatialReference=T;break;case"Polygon":v.rings=c(w.coordinates.slice(0)),v.spatialReference=T;break;case"MultiPolygon":v.rings=f(w.coordinates.slice(0)),v.spatialReference=T;break;case"Feature":w.geometry&&(v.geometry=g(w.geometry,x)),v.attributes=w.properties?a(w.properties):{},w.id&&(v.attributes[S]=w.id);break;case"FeatureCollection":for(v=[],M=0;M<w.features.length;M++)v.push(g(w.features[M],x));break;case"GeometryCollection":for(v=[],M=0;M<w.geometries.length;M++)v.push(g(w.geometries[M],x));break}return v}function _(w){return new r.LineString(n(w))}return i.parse=y,i.convert=g,i.toGeoJSON=y,i.fromGeoJSON=g,i.parseCompressedGeometry=_,i})}(Yy)),Yy.exports}var Ufe=Ffe();const jfe=Em(Ufe);function G9(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+"]"}).join(",")+"}")}function Gfe(e,t){var r=G9(e);return function(i,n){return t(r(i),n,e)}}function Vfe(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var n in i)n in t||r.push(t[n]=n)}),r}function yT(e){var t=new RegExp('["'+e+`
]`),r=e.charCodeAt(0);function i(c,f){var d,p,y=n(c,function(g,_){if(d)return d(g,_-1);p=g,d=f?Gfe(g,f):G9(g)});return y.columns=p,y}function n(c,f){var d={},p={},y=[],g=c.length,_=0,w=0,x,T;function S(){if(_>=g)return p;if(T)return T=!1,d;var M=_,O;if(c.charCodeAt(M)===34){for(var P=M;P++<g;)if(c.charCodeAt(P)===34){if(c.charCodeAt(P+1)!==34)break;++P}return _=P+2,O=c.charCodeAt(P+1),O===13?(T=!0,c.charCodeAt(P+2)===10&&++_):O===10&&(T=!0),c.slice(M+1,P).replace(/""/g,'"')}for(;_<g;){var R=1;if(O=c.charCodeAt(_++),O===10)T=!0;else if(O===13)T=!0,c.charCodeAt(_)===10&&(++_,++R);else if(O!==r)continue;return c.slice(M,_-R)}return c.slice(M)}for(;(x=S())!==p;){for(var v=[];x!==d&&x!==p;)v.push(x),x=S();f&&(v=f(v,w++))==null||y.push(v)}return y}function s(c,f){return f==null&&(f=Vfe(c)),[f.map(l).join(e)].concat(c.map(function(d){return f.map(function(p){return l(d[p])}).join(e)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(e)}function l(c){return c==null?"":t.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:i,parseRows:n,format:s,formatRows:o}}var Jv=yT(","),Bfe=Jv.parse,zfe=Jv.parseRows,qfe=Jv.format,Wfe=Jv.formatRows,Kv=yT("	"),Hfe=Kv.parse,Yfe=Kv.parseRows,Jfe=Kv.format,Kfe=Kv.formatRows;const Zfe=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:qfe,csvFormatRows:Wfe,csvParse:Bfe,csvParseRows:zfe,dsvFormat:yT,tsvFormat:Jfe,tsvFormatRows:Kfe,tsvParse:Hfe,tsvParseRows:Yfe},Symbol.toStringTag,{value:"Module"})),Xfe=AH(Zfe);var Zl={exports:{}},qO;function Qfe(){if(qO)return Zl.exports;qO=1,Zl.exports=e,Zl.exports.pair=s,Zl.exports.format=r,Zl.exports.formatPair=t,Zl.exports.coordToDMS=i;function e(a,l){var c=n(a,l);return c===null?null:c.val}function t(a){return r(a.lat,"lat")+" "+r(a.lon,"lon")}function r(a,l){var c=i(a,l);return c.whole+"° "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function i(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",f=c[a>=0?0:1],d=Math.abs(a),p=Math.floor(d),y=d-p,g=y*60,_=Math.floor(g),w=Math.floor((g-_)*60);return{whole:p,minutes:_,seconds:w,dir:f}}function n(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,f=a.match(c);if(!f)return null;var d=f[0],p;if(f[1]&&f[5]?(p=f[1],d=d.slice(0,-1)):p=f[1]||f[5],p&&l.indexOf(p)===-1)return null;var y=f[2]?parseFloat(f[2]):0,g=f[3]?parseFloat(f[3])/60:0,_=f[4]?parseFloat(f[4])/3600:0,w=y<0?-1:1;return(p==="S"||p==="W")&&(w*=-1),{val:(Math.abs(y)+g+_)*w,dim:p,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=n(a,l);if(!c)return null;a=c.remain.trim();var f=n(a,l);return!f||f.remain?null:c.dim?o(c.val,f.val,c.dim):[c.val,f.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return Zl.exports}var d_,WO;function ede(){if(WO)return d_;WO=1;var e=Xfe,t=Qfe(),r=/(Lat)(itude)?/gi,i=/(L)(on|ng)(gitude)?/i;function n(w,x){var T,S,v;for(var M in w)S=M.match(x),S&&(!T||S[0].length/M.length>v)&&(v=S[0].length/M.length,T=M);return T}function s(w){return n(w,r)}function o(w){return n(w,i)}function a(w){return!!w.match(r)}function l(w){return!!w.match(i)}function c(w){return typeof w=="object"?Object.keys(w).length:0}function f(w){var x=[",",";","	","|"],T=[];return x.forEach(function(S){var v=e.dsvFormat(S).parse(w);if(v.length>=1){for(var M=c(v[0]),O=0;O<v.length;O++)if(c(v[O])!==M)return;T.push({delimiter:S,arity:Object.keys(v[0]).length})}}),T.length?T.sort(function(S,v){return v.arity-S.arity})[0].delimiter:null}function d(w){return delete w.columns,w}function p(w){var x=f(w);return x?d(e.dsvFormat(x).parse(w)):null}function y(w,x,T){T||(T=x,x={}),x.delimiter=x.delimiter||",";var S=x.latfield||"",v=x.lonfield||"",M=x.crs||"",O=[],P={type:"FeatureCollection",features:O};if(M!==""&&(P.crs={type:"name",properties:{name:M}}),x.delimiter==="auto"&&typeof w=="string"&&(x.delimiter=f(w),!x.delimiter)){T({type:"Error",message:"Could not autodetect delimiter"});return}var R=x.numericFields?x.numericFields.split(","):null,k=typeof w=="string"?e.dsvFormat(x.delimiter).parse(w,function(N){if(R)for(var q in N)R.includes(q)&&(N[q]=+N[q]);return N}):w;if(!k.length){T(null,P);return}var G=[],V;S||(S=s(k[0])),v||(v=o(k[0]));var U=!S||!v;if(U){for(V=0;V<k.length;V++)O.push({type:"Feature",properties:k[V],geometry:null});T(G.length?G:null,P);return}for(V=0;V<k.length;V++)if(k[V][v]!==void 0&&k[V][S]!==void 0){var Y=k[V][v],se=k[V][S],h,m,E;E=t(Y,"EW"),E&&(Y=E),E=t(se,"NS"),E&&(se=E),h=parseFloat(Y),m=parseFloat(se),isNaN(h)||isNaN(m)?G.push({message:"A row contained an invalid value for latitude or longitude",row:k[V],index:V}):(x.includeLatLon||(delete k[V][v],delete k[V][S]),O.push({type:"Feature",properties:k[V],geometry:{type:"Point",coordinates:[parseFloat(h),parseFloat(m)]}}))}T(G.length?G:null,P)}function g(w){for(var x=w.features,T={type:"Feature",geometry:{type:"LineString",coordinates:[]}},S=0;S<x.length;S++)T.geometry.coordinates.push(x[S].geometry.coordinates);return T.properties=x.reduce(function(v,M){for(var O in M.properties)v[O]||(v[O]=[]),v[O].push(M.properties[O]);return v},{}),{type:"FeatureCollection",features:[T]}}function _(w){for(var x=w.features,T={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},S=0;S<x.length;S++)T.geometry.coordinates[0].push(x[S].geometry.coordinates);return T.properties=x.reduce(function(v,M){for(var O in M.properties)v[O]||(v[O]=[]),v[O].push(M.properties[O]);return v},{}),{type:"FeatureCollection",features:[T]}}return d_={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:e.csvParse,tsv:e.tsvParse,dsv:e,auto:p,csv2geojson:y,toLine:g,toPolygon:_},d_}var p_=ede();const tde={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function rde(e){if(e.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let t=!0,r=!0;for(let i=0;i<e.features.length;i++){const n=e.features[i];Object.assign(n.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in n&&typeof n.id<"u"&&(n.properties.ID_FILE=n.id,t=!1),"OBJECTID"in n.properties&&(n.properties.OBJECTID_FILE=n.properties.OBJECTID,delete n.properties.OBJECTID,r=!1),n.id=i+1}if(t)for(let i=0;i<e.features.length;i++)delete e.features[i].properties.ID_FILE;if(r)for(let i=0;i<e.features.length;i++)delete e.features[i].properties.OBJECTID_FILE}function ide(e,t){const r=i=>i.indexOf(" ")>-1;t.fields?.forEach(i=>{if(i.name&&r(i.name)){const n=i.name;let s,o="_",a;do s=n.replace(/ /g,o),a=t.fields?.find(l=>l.name===s),a&&(o+="_");while(a);i.alias=n,i.name=s;for(let l=0;l<e.features.length;l++){const c=e.features[l];c.properties[s]=c.properties[n],delete c.properties[n]}}})}function nde(e,t){const r=e.features[t].geometry.geometries;if(r.length===1)e.features[t].geometry={type:r[0].type,coordinates:r[0].coordinates};else{const i=r.map(n=>n.coordinates);e.features[t].geometry={type:`Multi${r[0].type}`,coordinates:i}}}function sde(e){return e==="MultiLineString"?"LineString":e==="MultiPolygon"?"Polygon":e}class ode extends Rr{async fetchFileData(t,r){const i=await Hv.get(t,{responseType:"arrayBuffer"});switch(r){case ke.GEOJSON:case ke.DATAJSON:return JSON.parse(this.arbToStr(i.data));case ke.SHAPEFILE:case ke.GEOJSONZIPPED:case ke.FLATGEOBUF:case ke.FLATGEOBUFZIPPED:return i.data;case ke.CSV:case ke.DATACSV:return this.arbToStr(i.data);default:console.error(`Unsupported file type passed to fetchFileData- '${r}'`)}}extractGeoJsonFields(t){if(t.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let r="";for(let o=0;o<t.features.length;o++){const a=t.features[o];if(a.geometry.type==="GeometryCollection"){const f=a.geometry.geometries;if(f===void 0||f.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const d=f[0].type;for(let p=0;p<f.length;p++)if(f[p].type!==d)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");nde(t,o)}const c=sde(a.geometry.type);if(r==="")r=c;else if(r!==c)throw new Error("GeoJSON file contains multiple geometry types")}const i=Object.keys(t.features[0].properties).map(o=>({name:o,type:"string"}));let n=0;const s=Object.keys(t.features[0].properties);for(;n<t.features.length;){const o=t.features[n];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=i.findIndex(f=>f.name===a);i[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;n++}return i}extractCsvFields(t,r=","){return p_.dsv.dsvFormat(r).parseRows(t)[0].map(n=>({name:n,type:Wo.STRING}))}filterCsvLatLonFields(t,r=","){const i=p_.dsv.dsvFormat(r).parseRows(t),n=i[0],s={lat:JSON.parse(JSON.stringify(n)),lon:JSON.parse(JSON.stringify(n))};for(let o=0;o<n.length;o++)for(let a=1;a<i.length;a++){const l=Number(i[a][o]),c=s.lat.indexOf(n[o]),f=s.lon.indexOf(n[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&f!==-1&&s.lon.splice(f,1),c===-1&&f===-1)break}return s}async geoJsonToEsriJson(t,r){let i,n="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Wo.OID}]};rde(t);const a=t.features[0].geometry.type,l=tde[a],c=JSON.parse(JSON.stringify(Rfe[l]));if(r){if(r.sourceProjection&&(n=this.$iApi.geo.proj.normalizeProj(r.sourceProjection)),r.targetSR)i=r.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");r.layerId?s=r.layerId:s=this.$iApi.geo.shared.generateUUID(),r.colour&&(c.renderer.symbol.color=new aa(r.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");n||(n=Be.parseGeoJsonCrs(t.crs)),o.renderer=await Gt.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(r.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(t).filter(_=>r.fieldMetadata?.fieldInfo?.find(w=>w.name===_.name)):this.extractGeoJsonFields(t)),r.fieldMetadata?.enforceOrder&&r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,r.fieldMetadata?.fieldInfo)),ide(t,o);const f=this.$iApi.geo.proj.normalizeProj(i);if(r){if(r.latField){const _=o.fields.find(w=>w.name===r.latField||w.alias===r.latField);_&&(_.type=Wo.DOUBLE)}if(r.lonField){const _=o.fields.find(w=>w.name===r.lonField||w.alias===r.lonField);_&&(_.type=Wo.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([n,i]);const d=Be.parseSR(i).toESRI();await this.$iApi.geo.proj.projectGeoJson(t,n,f);const p=jfe.convert(t,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(_=>_.name);for(let _=0;_<p.length;_++){const w=p[_];w.geometry.spatialReference=d,w.geometry.type=o.geometryType,Object.keys(w.attributes).forEach(x=>{y.includes(x)?(Array.isArray(w.attributes[x])||typeof w.attributes[x]=="object")&&w.attributes[x]!=null&&(w.attributes[x]=JSON.stringify(w.attributes[x])):delete w.attributes[x]})}return(r.fieldMetadata?.fieldInfo&&r.fieldMetadata?.fieldInfo.length>0?r.fieldMetadata.fieldInfo.filter(_=>_.trim&&y.includes(_.name)).map(_=>_.name):[]).forEach(_=>{for(let w=0;w<p.length;w++){const x=p[w].attributes;typeof x[_]=="string"&&(x[_]=x[_].trim())}}),o.source=p,o.spatialReference=d,o.id=s,o}async csvToGeoJson(t,r){const i={latfield:"Lat",lonfield:"Long",delimiter:","};return r&&(r.latfield&&(i.latfield=r.latfield),r.lonfield&&(i.lonfield=r.lonfield),r.delimiter&&(i.delimiter=r.delimiter)),new Promise((n,s)=>{p_.csv2geojson(t,i,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[i.lonfield]=l.geometry.coordinates[0],l.properties[i.latfield]=l.geometry.coordinates[1]}),n(a))})})}async shapefileToGeoJson(t){return(await Ee(()=>import("./shp.min-CT37xpcS.js").then(i=>i.s),__vite__mapDeps([177,178]),import.meta.url)).default(t)}fgbToGeoJson(t,r){return Ee(async()=>{const{geojson:n}=await import("./flatgeobuf-Xmj1HQyn.js");return{geojson:n}},[],import.meta.url).then(({geojson:n})=>new Promise(s=>{let o=!1,a=null;const l=n.deserialize(new Uint8Array(t),void 0,d=>{a=d.crs,o=!0});let c=0;const f=setInterval(()=>{if(l&&o){clearInterval(f);let d;a&&(a.code&&a.code!==4326&&a.org==="EPSG"?d=new Be(a.code):a.wkt?d=new Be(a.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",a)),d&&(l.crs=d.toGeoJSON()),s(l)}else c+=60,c>r&&(clearInterval(f),s({}))},60)}))}inferType(t){return typeof t=="number"?Wo.DOUBLE:Wo.STRING}rawDataJsonParser(t,r=!1){let i;return typeof t=="string"?i=JSON.parse(t):r?i=structuredClone(t):i=t,i}async unzipSingleFile(t){const r=await Ee(()=>import("./jszip.min-CQJbJIFd.js").then(o=>o.j),__vite__mapDeps([179,178]),import.meta.url),n=await new r.default().loadAsync(t),s=Object.keys(n.files)[0];if(s&&n.file(s))return await n.file(s).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(t){if(t.rawData&&t.rawData instanceof ArrayBuffer)return t.rawData;if(t.url)return this.$iApi.geo.layer.files.fetchFileData(t.url,t.layerType);throw new Error(`${t.layerType} config contains no url or invalid/missing raw data`)}arbToStr(t){return new TextDecoder("utf-8").decode(new Uint8Array(t))}}const ade=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function au(e,t){return e.then(function(r){return[null,r]}).catch(function(r){return[r,void 0]})}class lde extends Rr{async loadWfsData(t,r=-1,i=0,n=1e3,s={type:"FeatureCollection",features:[]},o=!1){let a={offset:i.toString(),limit:n.toString()};r===-1&&(a={resulttype:"hits"});const c=new Ag(t).updateQuery(a),[f,d]=await au(Hv.get(c));if(!d)return console.error(`WFS data failed to load for ${t}`,f),Promise.reject(f);const p=d.data;if(r===-1)return r=d.data.numberMatched,this.loadWfsData(t,r,i,n,s,o);if(s.features=s.features.concat(p.features),p.features.length<r-i){const y=Math.min(n,r-i-p.features.length);return this.loadWfsData(c,r,p.features.length+i,y,s,o)}else return o&&s.features.length>0&&s.features[0].geometry.type===pr.POINT&&s.features.forEach(y=>{const g=y.geometry.coordinates;y.properties.rvInternalCoordX=g[0],y.properties.rvInternalCoordY=g[1]}),s}reversedAxisWKIDs(){return ade}parseCapabilities(t){const r=()=>{let o=t;if(t.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new Ag(t.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return sr(o,{responseType:"xml"}).then(a=>a.data)},i=new Promise(o=>{r().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(r())})}),n=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,f=l.Title;let d=l.Style;const p=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{const _=g.Name;if(p.push(_),g.LegendURL){const x=g.LegendURL.OnlineResource["@_xlink:href"];y[_]=x.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:f,queryable:l["@_queryable"]==="1",layers:n(l),allStyles:p,styleToURL:y,currentStyle:p[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return Ee(async()=>{const{XMLParser:o}=await import("./fxp-rjvO85py.js").then(a=>a.f);return{XMLParser:o}},[],import.meta.url).then(({XMLParser:o})=>i.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},f=new o(c).parse(l);if("ServiceExceptionReport"in f)return console.error(f.ServiceExceptionReport.ServiceException),[];const d=f.WMS_Capabilities.Capability;return{layers:n(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class mf{static makeRawItem(t,r){const i=Promise.resolve();return Jr({format:t,data:r,started:!0,loaded:!0,loading:i,load(){return i}})}static makeOidItem(t,r){const i=new Tr,n={format:Oc.ESRI,data:void 0,started:!1,loaded:!1,loading:i.getPromise(),async load(){if(!this.started){this.started=!0;const s=await r.getGraphic(t,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,i.resolveMe()}return i.getPromise()}};return Jr(n)}}class cde extends Rr{files;ogc;constructor(t){super(t),this.files=new ode(t),this.ogc=new lde(t)}createLayer(t){let r;switch(t.layerType){case ke.FEATURE:r=vde;break;case ke.MAPIMAGE:r=zde;break;case ke.GRAPHIC:r=hde;break;case ke.TILE:r=Yde;break;case ke.WFS:r=Kde;break;case ke.DATATABLE:r=Xde;break;case ke.WMS:r=Jde;break;case ke.GEOJSON:r=fde;break;case ke.GEOJSONZIPPED:r=mde;break;case ke.FLATGEOBUFZIPPED:r=gde;break;case ke.CSV:r=pde;break;case ke.DATAJSON:r=Zde;break;case ke.IMAGERY:r=Hde;break;case ke.SHAPEFILE:r=dde;break;case ke.FLATGEOBUF:r=yde;break;case ke.OSM:r=Wde;break;default:throw new Error("Unsupported Layer Type "+t.layerType)}return new r(t,this.$iApi)}getLayer(t){return ro(this.$vApp.$pinia).getLayerByAny(t)}getSublayer(t,r){const i=ro(this.$vApp.$pinia).getLayerById(t);if(i&&i.supportsSublayers&&r<i.sublayers.length)return i.sublayers[r]}getLayerPosition(t){const r=this.getLayer(t);if(r&&r.mapLayer){const i=r.isSublayer?r.parentLayer.id:r.id,n=this.layerOrderIds().findIndex(s=>s===i);return n===-1?void 0:n}else return}layerOrderIds(){return ro(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return ro(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(t=>t.layerState!==yr.ERROR&&t.initiationState===rr.INITIATED)}allLayersOnMap(t=!0){let r=this.allLayers().filter(i=>i.mapLayer&&i.initiationState===rr.INITIATED);if(t){const i=this.layerOrderIds(),n=new Map(i.map((s,o)=>[s,o]));r.sort((s,o)=>n.get(s.id)-n.get(o.id))}return r}allDataLayers(){return this.allLayers().filter(t=>!t.mapLayer&&t.initiationState===rr.INITIATED)}allErrorLayers(){return this.allLayers().filter(t=>t.layerState===yr.ERROR)}allInitiatingLayers(){return this.allLayers().filter(t=>t.initiationState===rr.INITIATING)}getLayerControls(t){const r=this.getLayer(t);if(!r)return;const i=r.config.controls?.slice()??[br.BoundaryZoom,br.Datatable,br.Identify,br.Metadata,br.Opacity,br.Refresh,br.Reload,br.Remove,br.Settings,br.Symbology,br.Visibility],n=[];return r.supportsFeatures||n.push(br.Datatable),r.extent===void 0&&n.push(br.BoundaryZoom),(r.config?.metadata||(r.isSublayer?r.parentLayer?.config?.metadata:{})||{}).url||n.push(br.Metadata),!r.mapLayer&&!r.config.controls?.includes(br.Settings)&&n.push(br.Settings),n.forEach(o=>{const a=i?.indexOf(o)??-1;a!==-1&&i?.splice(a,1)}),{controls:i,disabledControls:r.config.disabledControls??[]}}async loadLayerMetadata(t){if(!t.trim())throw new Error("url missing on layer server metadata request.");const[r,i]=await au(sr(t,{query:{f:"json"}}));if(!i)throw console.error(`Service metadata load error: ${t}`,r),new Error(`Service metadata load error: ${t}`);if(!i.data)throw console.error(`Service metadata load error: ${t}`),new Error(`Service metadata load error: ${t}`);const n=i.data,s={geometryType:Ze.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:Wr.UNKNOWN,mapLayer:!0};if(s.name=n.name||"",s.currentVersion=n.currentVersion||-1,s.minScale=n.effectiveMinScale||n.minScale||0,s.maxScale=n.effectiveMaxScale||n.maxScale||0,s.extent=n.extent?ir.fromArcServer(n.extent,"layer_extent"):void 0,s.defaultVisibility=n.defaultVisibility??!0,s.canModifyLayer=n.canModifyLayer??!0,n.type==="Feature Layer"||n.type==="Table"){if(s.dataFormat=Wr.ESRI_FEATURE,s.displayField=n.displayField||"",Array.isArray(n.fields)){const o=await Promise.all(n.fields.map(l=>Gt.FieldFromJson(l)));s.fields=o.map(l=>({name:l.name,alias:l.alias,type:l.type,length:l.length})),o.every(l=>l.type==="oid"?(s.objectIdField=l.name,!1):!0)&&(s.objectIdField=n.objectIdField||(console.error(`Encountered service with no OID defined: ${t}`),"")),n.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(n.geometryType),n.drawingInfo?.renderer&&(s.renderer=await Gt.RendererFromJson(n.drawingInfo.renderer)),n.sourceSpatialReference&&(s.sourceSR=Be.fromConfig(n.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=Wr.ESRI_RASTER;return s}async loadFeatureCount(t,r=""){if(!t)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const i={query:{f:"json",where:r||"1=1",returnCountOnly:!0,returnGeometry:!1}},[n,s]=await au(sr(`${t}/query`,i));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${t}`),0):(console.error(`Unable to load feature count: ${t}`),0):(console.error(`Feature count request unsuccessful: ${t}`,n),0)}}class gT extends Rr{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(t,r){super(r),this.config=t,this.id="",this.uid="",this.name="error",this.layerState=yr.NEW,this.drawState=Ki.NOT_LOADED,this.initiationState=rr.NEW,this.layerIdx=-1,this.layerFormat=En.UNKNOWN,this.layerType=ke.UNKNOWN,this.dataFormat=Wr.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Gr.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Ze.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new Tg(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Be.latLongSR()}get visibility(){return!1}set visibility(t){}get opacity(){return 0}set opacity(t){}get scaleSet(){return new oP}set scaleSet(t){}isOffscale(t=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(t){}get touchTolerance(){return 0}set touchTolerance(t){}get drawOrder(){return[]}canIdentify(){return!1}runIdentify(t){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,r){return Promise.resolve(new Ss(new Al))}getIcon(t){return Promise.resolve("")}getSqlFilter(t){return""}setSqlFilter(t,r){}applySqlFilter(t=[]){}getFilterOIDs(t=[],r=void 0){return Promise.resolve(void 0)}getGraphicExtent(t){return Promise.resolve(ir.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(t){if(!this.isSublayer&&t)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=t}get sublayers(){return this._sublayers}onLoad(){}onError(t=!0){}updateLayerState(t,r=!1){}updateDrawState(t){}updateInitiationState(t){}uidToIdx(t){if(t===this.uid)return-1;{const r=this._sublayers.findIndex(i=>i?.uid===t);if(r===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${t}]`);return r}}getSublayer(t){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let r;if(typeof t=="string"?r=this.uidToIdx(t):r=t,this._sublayers[r]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${t}]`);return this._sublayers[r]}controlAvailable(t){const r=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(t,r)}}class V9 extends gT{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;constructor(t,r){super(t,r),this.name=t.name||"",this.geomType=Ze.NONE,this.dataFormat=Wr.UNKNOWN,this.layerType=ke.UNKNOWN,this.layerFormat=En.UNKNOWN;const i=r.geo.map.layerDefaultTimes;this.expectedTime.draw=t.expectedDrawTime??i.draw,this.expectedTime.load=t.expectedLoadTime??i.load,this.expectedTime.fail=t.maxLoadTime||i.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=t,this.id=t.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Gr.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=yr.NEW,this.initiationState=rr.NEW,this.drawState=Ki.NOT_LOADED,this.loadDefProm=new Tr,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.layerTree=new Tg(0,this.uid,this.name,!0)}updateInitiationState(t){this.initiationState=t,this.$iApi.event.emit(Ce.LAYER_INITIATIONSTATECHANGE,{state:t,layer:this})}updateLayerState(t,r=!1){this.layerState=t,this.$iApi.event.emit(Ce.LAYER_LAYERSTATECHANGE,{state:t,layer:this,userCancel:r})}updateDrawState(t){this.drawState=t,t===Ki.REFRESH?this.startTimer("draw"):t===Ki.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Ce.LAYER_DRAWSTATECHANGE,{state:t,layer:this})}async initiate(){this.updateInitiationState(rr.INITIATING),this.startTimer("load");const t=s=>{this.layerState!==yr.ERROR&&(console.error(s),this.onError())},r=Date.now(),i=setTimeout(()=>{r>this.lastCancel&&(this.lastCancel=Date.now(),t("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[n]=await au(this.onInitiate());clearTimeout(i),r>this.lastCancel&&(this.drawState!==Ki.UP_TO_DATE&&this.startTimer("draw"),n?t(`Init error on layer id: ${this.id} . ${n.message}`):this.updateInitiationState(rr.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===rr.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(rr.TERMINATING),await Promise.all(this.sublayers.map(t=>t.terminate())),this.loadDefProm=new Tr,this.loadPromDone=!1,this.updateLayerState(yr.NEW),this.updateDrawState(Ki.NOT_LOADED),this.updateInitiationState(rr.TERMINATED)}onLoad(){const t=Date.now();let r=!1;const i=setTimeout(()=>{r=!0,this.onError()},this.expectedTime.fail);try{const n=this.onLoadActions();Promise.all(n).then(()=>{clearTimeout(i),r?this.visibility=!1:(this.stopTimer("load"),t>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new Tr),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(yr.LOADED)))}).catch(()=>{clearTimeout(i),this.onError()})}catch(n){console.error("Encountered error on layer load: ",n),clearTimeout(i),this.onError()}}onError(t=!0){this.layerState!==yr.ERROR&&(this.initiationState===rr.INITIATING&&this.updateInitiationState(rr.NEW),this.loadPromDone&&(this.loadDefProm=new Tr),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(r=>r.onError(t)),t&&this.$iApi.notify.show(vn.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(yr.ERROR,!t))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===rr.NEW||this.initiationState===rr.TERMINATING||this.initiationState===rr.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===yr.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(t,r){return this.stubError(),Promise.resolve(new Ss(new Al))}getIcon(t){return this.stubError(),Promise.resolve("")}getSqlFilter(t){return this.stubError(),""}setSqlFilter(t,r){this.stubError()}getFilterOIDs(t=[],r=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(t){return this.stubError(),Promise.resolve(ir.fromParams("fake",0,0,0,0))}applySqlFilter(t=[]){this.stubError()}setCustomParameter(t,r,i=!0){this.stubError()}startTimer(t){this.stopTimer(t),this.expectedTime[t]>0&&(this.timers[t]=window.setTimeout(()=>this.$iApi.notify.show(vn.WARNING,this.$iApi.$i18n.t(`layer.long${t}`,{id:this.name||this.id})),this.expectedTime[t]))}stopTimer(t){this.timers[t]&&(clearTimeout(this.timers[t]),this.timers[t]=void 0)}}class Su extends V9{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(t,r){super(t,r),this._scaleSet=new oP,this._mouseTolerance=t.mouseTolerance!=null?t.mouseTolerance:5,this._touchTolerance=t.touchTolerance!=null?t.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=t.cosmetic||!1,this.extent=t.extent?ir.fromConfig(`${this.id}_extent`,t.extent):void 0,this.viewDefProm=new Tr,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(this.esriLayer.watch("visible",t=>{this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this})})),this.esriWatches.push(this.esriLayer.watch("opacity",t=>{this.$iApi.event.emit(Ce.LAYER_OPACITYCHANGE,{opacity:t,layer:this})})),this.esriWatches.push(this.esriLayer.watch("loadStatus",t=>{const r={"not-loaded":yr.LOADING,loading:yr.LOADING,loaded:yr.LOADED,failed:yr.ERROR};t==="loaded"?this.onLoad():t==="failed"?this.onError():this.updateLayerState(r[t])})),this.esriLayer.on("layerview-create",t=>{this.esriView=t.layerView,this.esriWatches.push(t.layerView.watch("updating",r=>{this.updateDrawState(r?Ki.REFRESH:Ki.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(t=>t.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new Tr,this.esriWatches.forEach(t=>t.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const t=Date.now();if(this.$iApi.event.emit(Ce.LAYER_RELOAD_START,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ce.LAYER_RELOAD_START,r)),await this.terminate(),await this.initiate(),!(this.lastCancel>t)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Ce.LAYER_RELOAD_END,this),this.sublayers.forEach(r=>this.$iApi.event.emit(Ce.LAYER_RELOAD_END,r))}}makeEsriLayerConfig(t){return{id:t.id,url:t.url,opacity:t?.state?.opacity??1,visible:t?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(r=>r.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const t=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const r=this.$iApi.geo.proj.checkProj(this.getSR()).then(i=>i?Promise.resolve():Promise.reject());return t.push(r),t}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(t){this._scaleSet=t}isOffscale(t=void 0){let r;if(typeof t>"u")if(this.mapCheck())r=this.$iApi.geo.map.getScale();else return!1;else r=t;return this.scaleSet.isOffScale(r).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=t}get touchTolerance(){return this._touchTolerance}set touchTolerance(t){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(t<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=t}get layerExists(){return this.initiationState===rr.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(t){this.layerExists?this.esriLayer.visible=t:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(t=>t.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(t){this.layerExists?this.esriLayer.opacity=t:this.noLayerErr()}getSR(){return this.esriLayer?Be.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Be.latLongSR())}}class vT extends Su{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.geomType=Ze.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new aP(t.permanentFilteredQuery||"",t.initialFilteredQuery||""),this.hovertips=t.state?.hovertips??!0,this.attribs=new t7}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}async loadLayerMetadata(t={}){if(!this.serviceUrl)return;const r=Date.now(),i=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(r<this.lastCancel))if(this.geomType=i.geometryType,this.attribs.quickCache=new i7(this.geomType),this.scaleSet.minScale=i.minScale,this.scaleSet.maxScale=i.maxScale,this.dataFormat=i.dataFormat,this.extent=this.extent??i.extent,this._serverVisibility=i.defaultVisibility,this.origRampConfig.name||(this.name=i.name??this.id),this.dataFormat===Wr.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===ke.SUBLAYER?i.canModifyLayer:!0,this.fields=i.fields,this.nameField=i.displayField,this.oidField=i.objectIdField,this.sourceSR=i.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const n=t&&t.customRenderer&&t.customRenderer.type?t.customRenderer:i.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(n,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(i.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(Li.PERMANENT)};this.attribs.attLoader=new r7(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!0}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(t=>t.trim).map(t=>t.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,r){let i={},n=new Al;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(r.getAttribs||r.getStyle){const f=this.attribs.quickCache.getAttribs(t);if(f)i=f;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();i=d.features[d.oidIndex[t]]}else o=!0}if(r.getGeom){l=s.getScale();const f=this.attribs.quickCache.getGeom(t,l);f?n=f:a=!0}if(o||a){const f={oid:t,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(f.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(f.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(f);a&&(this.attribs.quickCache.setGeom(t,d.geometry,l),n=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(t)>"u")&&(this.attribs.quickCache.setAttribs(t,d.attributes),o&&(i=d.attributes))}const c=new Ss(n,"",r.getAttribs?i:void 0);if(r.getStyle){const f=qe(this.renderer.getGraphicSymbol(i));c.style=this.$iApi.geo.geom.styleEsriToRamp(f)}return c}async getIcon(t){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const r=await this.getGraphic(t,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(r.attributes||{},this.renderer)}setSqlFilter(t,r){const i=this.filter.getSql(t);if(r===i)return;this.filter.setSql(t,r),this.$iApi.event.emit(Ce.FILTER_CHANGE,{uid:this.uid,filterKey:t});const n=`${this.uid}-${t}-${r}`;this._lastFilterUpdate=n,setTimeout(()=>{this._lastFilterUpdate===n&&this.applySqlFilter()},100)}applySqlFilter(t=[]){throw new Error(`attempted to apply sql filter ${t} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],r=void 0){const i=this.filter.getCombinedSql(t),n=!!r;if(!(i||n))return;r&&this.filter.setExtent(r);const s=this.filter.sqlActiveFilters(t);let o=this.filter.getCache(s,n);if(!o){const a={filterGeometry:r,filterSql:i,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,n)}return o}queryOIDs(t){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const r={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(t){const r=await this.queryOIDs(t),i={getGeom:!!t.includeGeometry,getAttribs:!0};return r.map(n=>({oid:n,graphic:this.getGraphic(n,i)}))}async queryFeatures(t){const r=await this.queryFeaturesDiscrete(t);return Promise.all(r.map(i=>i.graphic))}configDrawOrder(t,r){Array.isArray(t.drawOrder)&&t.drawOrder.length>0&&(r.orderBy=t.drawOrder.map(i=>{const n=i.ascending??!0?"ascending":"descending";return i.field?{field:i.field,order:n}:{valueExpression:i.arcade,order:n}}),this._drawOrder=t.drawOrder.slice())}}class ude extends Su{constructor(t,r){super(t,r),this.dataFormat=Wr.ESRI_FEATURE,this.layerFormat=En.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}getGraphicCount(){return this._graphics.length}getLocalGraphic(t){return this._graphics.find(r=>r.id===t)}getEsriGraphic(t){return this.esriLayer?.graphics.find(r=>r.id===t)}get graphics(){return this._graphics.slice()}async addGraphic(t){if(!this.layerExists){this.noLayerErr();return}let r;t instanceof Array?r=t:r=[t];const i=r.filter(l=>this._graphics.findIndex(f=>f.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),n=this.$iApi.geo.map.getSR(),s=i.map(l=>this.$iApi.geo.proj.projectGeometry(n,l.geometry)),o=await Promise.all(s),a=i.map((l,c)=>{const f=new Ss(o[c],l.id,l.attributes);return f.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(f)});this.esriLayer.addMany(a)}removeGraphic(t){if(!this.layerExists){this.noLayerErr();return}if(typeof t>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let r;Array.isArray(t)?r=t:r=[t],r.map(n=>typeof n=="string"?n:n.id).forEach(n=>{const s=this.esriLayer.graphics.findIndex(a=>a.id===n);s>-1&&this.esriLayer.graphics.removeAt(s);const o=this._graphics.findIndex(a=>a.id===n);o>-1&&this._graphics.splice(o,1)})}}class hde extends ude{constructor(t,r){super(t,r),this.layerType=ke.GRAPHIC}async onInitiate(){this.esriLayer=Mr(await Gt.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(Ki.UP_TO_DATE),t}}class xu extends vT{esriJson;sourceGeoJson;tooltipField;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=Wr.ESRI_FEATURE,this.layerFormat=En.FEATURE,this.tooltipField="",this.layerIdx=0,t.identifyMode&&t.identifyMode!==Gr.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Gr.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const t={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,t),this.esriLayer=Mr(await Gt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t),i="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(s=>{r[s]=this.esriJson[s]}),this.origRampConfig.nameField?r.displayField=this.$iApi.geo.attributes.fieldValidator(r.fields,this.origRampConfig.nameField)||i:r.displayField=i,r.outFields=["*"],delete r.url,this.configDrawOrder(t,r),r}onLoadActions(){const t=super.onLoadActions(),r=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await Gt.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.origRampConfig.tooltipField?this.tooltipField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField)||this.nameField:this.tooltipField=this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.featureCount=this.esriLayer?.source.length||0};return t.push(r()),t.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(t).then(()=>{this.applySqlFilter()}),t}runIdentify(t){if(!this.canIdentify())return[];const r=new Tr,i=Jr({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let n=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===Gr.HYBRID||this.identifyMode===Gr.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):l.filterGeometry=t.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return t.hitTest&&(this.identifyMode===Gr.HYBRID||this.identifyMode===Gr.SYMBOLIC)&&(n=s.then(async()=>{const l=await t.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(f=>c.oid===f.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([n,s]).then(()=>{o.forEach(l=>{i.items.push(mf.makeRawItem(Oc.ESRI,l.attributes))}),a.forEach(l=>{i.items.push(mf.makeOidItem(l,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}extractLayerMetadata(){const t=this.esriLayer;if(!t)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(t.geometryType),this.scaleSet.minScale=t.minScale||0,this.scaleSet.maxScale=t.maxScale||0,this.extent=this.extent??ir.fromESRI(t.fullExtent,this.id+"_extent");const r=Mr(t.fields.slice());this.fields=r.map(n=>({name:n.name,alias:n.alias,type:n.type,length:n.length})),this.nameField=t.displayField,this.oidField=t.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(t.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const i={sourceGraphics:t.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new epe(this.$iApi,i)}async getGraphic(t,r){let i;if(!r.getGeom&&this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=new Ss(new Al,"",n.features[n.oidIndex[t]])}else{const n={filterOIDs:[t],includeGeometry:!!r.getGeom},s=await this.queryFeatures(n);if(s.length===0)throw new Error(`Could not find object id ${t}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),i=s[0]}if(r.getStyle){const n=qe(this.renderer.getGraphicSymbol(i.attributes));i.style=this.$iApi.geo.geom.styleEsriToRamp(n)}return i}async queryFeatures(t){const r={layer:this,...t};return this.$iApi.geo.query.geoJsonQuery(r)}async queryOIDs(t){const r={layer:this,...t};return(await this.$iApi.geo.query.geoJsonQuery(r)).map(n=>n.attributes?n.attributes[this.oidField]:-1)}applySqlFilter(t=[]){if(!this.esriView){this.noLayerErr();return}const r=this.filter.getCombinedSql(t);Gt.FeatureFilter({where:r}).then(i=>{qe(this.esriView).filter=i})}}class fde extends xu{constructor(t,r){super(t,r),this.layerType=ke.GEOJSON}async onInitiate(){let t;const r=Date.now();if(this.origRampConfig.rawData)t=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");r>this.lastCancel&&(this.sourceGeoJson=t,await super.onInitiate())}}class dde extends xu{constructor(t,r){super(t,r),this.layerType=ke.SHAPEFILE}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.shapefileToGeoJson(r);t>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class pde extends xu{constructor(t,r){super(t,r),this.layerType=ke.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let t;const r=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")t=this.origRampConfig.rawData;else if(this.origRampConfig.url)t=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(r>this.lastCancel){const i=await this.$iApi.geo.layer.files.csvToGeoJson(t,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});r>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class mde extends xu{constructor(t,r){super(t,r),this.layerType=ke.GEOJSONZIPPED}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);t>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(i)),await super.onInitiate())}}}class yde extends xu{constructor(t,r){super(t,r),this.layerType=ke.FLATGEOBUF}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}class gde extends xu{constructor(t,r){super(t,r),this.layerType=ke.FLATGEOBUFZIPPED}async onInitiate(){const t=Date.now(),r=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(t>this.lastCancel){const i=await this.$iApi.geo.layer.files.unzipSingleFile(r);if(t>this.lastCancel){const n=await this.$iApi.geo.layer.files.fgbToGeoJson(i,this.expectedTime.fail+1e3);t>this.lastCancel&&(this.sourceGeoJson=n,await super.onInitiate())}}}}class vde extends vT{tooltipField;constructor(t,r){super(t,r),this.dataFormat=Wr.ESRI_FEATURE,this.tooltipField="",this.supportsIdentify=!0,this.layerType=ke.FEATURE,this.layerFormat=En.FEATURE,t.identifyMode&&t.identifyMode!==Gr.NONE?this.identifyMode=t.identifyMode:this.identifyMode=Gr.HYBRID}async onInitiate(){Mr(this.esriLayer=await Gt.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t);return(t.initialFilteredQuery||t.permanentFilteredQuery)&&(r.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(t,r),r}onLoadActions(){const t=Date.now(),r=super.onLoadActions(),i=this.esriLayer.parsedUrl.path,s=this.$iApi.geo.shared.parseUrlIndex(i).index||0;this.layerIdx=s,this.serviceUrl=i;const o=async()=>{let l;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const c=await Gt.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=c,l={customRenderer:c}}else l={};await this.loadLayerMetadata(l),t>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.nameField=this.origRampConfig.nameField||this.nameField||"",this.tooltipField=this.origRampConfig.tooltipField||this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()))},a=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Li.PERMANENT)).then(l=>{t>this.lastCancel&&(this.featureCount=l)});return this.layerTree.layerIdx=s,r.push(a,o()),r}runIdentify(t){if(!this.canIdentify())return[];const r=new Tr,i=Jr({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let n=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===Gr.HYBRID||this.identifyMode===Gr.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Ze.POLYGON&&t.geometry.type===Ze.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance):a.filterGeometry=t.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return t.hitTest&&(this.identifyMode===Gr.HYBRID||this.identifyMode===Gr.SYMBOLIC)&&(n=s.then(async()=>{(await t.hitTest).filter(l=>l.layerId===this.id&&o.findIndex(c=>l.oid===c)===-1).forEach(l=>{o.push(l.oid)})})),Promise.all([n,s]).then(()=>{o.forEach(a=>{i.items.push(mf.makeOidItem(a,this))}),i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}applySqlFilter(t=[]){if(this.layerExists){const r=this.filter.getCombinedSql(t);this.esriLayer.definitionExpression=r}else this.noLayerErr()}getGraphicExtent(t){return new Promise((r,i)=>{if(!this.layerExists)this.noLayerErr(),i();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),i();else{const n=this.attribs.quickCache.getExtent(t);n?r(n):this.esriLayer.queryExtent({objectIds:[t],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=ir.fromESRI(s.extent);this.attribs.quickCache.setExtent(t,o),r(o)}).catch(()=>{console.error(`Extent querying failed for ${t}.`),i()})}})}}const q0={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Gn({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:or.WebMercator}),minus180Line:new Gn({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:or.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Gn({paths:[[[180,-180],[180,180]]],spatialReference:or.WGS84}),minus180Line:new Gn({paths:[[[-180,-180],[-180,180]]],spatialReference:or.WGS84})}};function Ic(e,t){return Math.ceil((e-t)/(2*t))}function B9(e,t){const r=up(e);for(const i of r)for(const n of i)n[0]+=t;return e}function up(e){return px(e)?e.rings:e.paths}function bde(e,t){return t?{...t,query:{...e??{},...t.query}}:{query:e}}function z9(e){return typeof e=="string"?ua(e):ge(e)}function q9(e,t,r){const i={};for(const n in e){if(n==="declaredClass")continue;const s=e[n];if(s!=null&&typeof s!="function")if(Array.isArray(s))i[n]=s.map(o=>q9(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(r?.[n]);i[n]=JSON.stringify(o)}else i[n]=JSON.stringify(s);else i[n]=s}return i}async function _de(e,t,r,i){const n=z9(e),s=t[0].spatialReference,o={...i,responseType:"json",query:{...n.query,f:"json",sr:ax(s),target:JSON.stringify({geometryType:q1(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await sr(n.path+"/cut",o),{cutIndexes:l,geometries:c=[]}=a.data;return{cutIndexes:l,geometries:c.map(f=>{const d=ym(f);return d.spatialReference=s,d})}}function wde(e){return{geometryType:q1(e[0]),geometries:e.map(t=>t.toJSON())}}function Sde(e,t,r){const i=iV(t);return e.map(n=>{const s=i.fromJSON(n);return s.spatialReference=r,s})}async function xde(e,t,r){const i=typeof e=="string"?ua(e):e,n=t[0].spatialReference,s=q1(t[0]),o={...r,query:{...i.query,f:"json",sr:ax(n),geometries:JSON.stringify(wde(t))}},{data:a}=await sr(i.path+"/simplify",o);return Sde(a.geometries,s,n)}const W9=()=>kt.getLogger("esri.geometry.support.normalizeUtils");function Ede(e){return e.type==="polygon"}function Tde(e){return e[0].type==="polygon"}function Ade(e){return e[0].type==="polyline"}function HO(e){const t=[];let r=0,i=0;for(let n=0;n<e.length;n++){const s=e[n];let o=null;for(let a=0;a<s.length;a++)o=s[a],t.push(o),a===0?(r=o[0],i=r):(r=Math.min(r,o[0]),i=Math.max(i,o[0]));o&&t.push([(r+i)/2,0])}return t}function Mde(e,t){if(!(e instanceof Gn||e instanceof yo)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw W9().error(n),new ct(n)}const r=up(e),i=[];for(const n of r){const s=[];i.push(s),s.push([n[0][0],n[0][1]]);for(let o=0;o<n.length-1;o++){const a=n[o][0],l=n[o][1],c=n[o+1][0],f=n[o+1][1],d=Math.sqrt((c-a)*(c-a)+(f-l)*(f-l)),p=(f-l)/d,y=(c-a)/d,g=d/t;if(g>1){for(let T=1;T<=g-1;T++){const S=T*t,v=y*S+a,M=p*S+l;s.push([v,M])}const _=(d+Math.floor(g-1)*t)/2,w=y*_+a,x=p*_+l;s.push([w,x])}s.push([c,f])}}return Ede(e)?new yo({rings:i,spatialReference:e.spatialReference}):new Gn({paths:i,spatialReference:e.spatialReference})}function YO(e,t,r){if(t){const i=Mde(e,1e6);e=id(i,!0)}return r&&(e=B9(e,r)),e}function JO(e,t,r){if(Array.isArray(e)){const i=e[0];if(i>t){const n=Ic(i,t);e[0]=i+n*(-2*t)}else if(i<r){const n=Ic(i,r);e[0]=i+n*(-2*r)}}else{const i=e.x;if(i>t){const n=Ic(i,t);e=e.clone().offset(n*(-2*t),0)}else if(i<r){const n=Ic(i,r);e=e.clone().offset(n*(-2*r),0)}}return e}function Ide(e,t){let r=-1;for(let i=0;i<t.cutIndexes.length;i++){const n=t.cutIndexes[i],s=t.geometries[i],o=up(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(c=>{if(c[0]<180)return!0;{let f=0;for(let p=0;p<l.length;p++){const y=l[p][0];f=y>f?y:f}f=Number(f.toFixed(9));const d=-360*Ic(f,180);for(let p=0;p<l.length;p++){const y=s.getPoint(a,p);s.setPoint(a,p,y.clone().offset(d,0))}return!0}})}if(n===r){if(Tde(e))for(const a of up(s))e[n]=e[n].addRing(a);else if(Ade(e))for(const a of up(s))e[n]=e[n].addPath(a)}else r=n,e[n]=s}return e}async function H9(e,t,r){if(!Array.isArray(e))return H9([e],t);t&&typeof t!="string"&&W9().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i=typeof t=="string"?t:t?.url??$t.geometryServiceUrl;let n,s,o,a,l,c,f,d,p=0;const y=[],g=[];for(const v of e)if(v!=null)if(n||(n=v.spatialReference,s=ta(n),o=n.isWebMercator,c=o?102100:4326,a=q0[c].maxX,l=q0[c].minX,f=q0[c].plus180Line,d=q0[c].minus180Line),s)if(v.type==="mesh")g.push(v);else if(v.type==="point")g.push(JO(v.clone(),a,l));else if(v.type==="multipoint"){const M=v.clone();M.points=M.points.map(O=>JO(O,a,l)),g.push(M)}else if(v.type==="extent"){const M=v.clone()._normalize(!1,!1,s);g.push(M.rings?new yo(M):M)}else if(v.extent){const M=v.extent,O=Ic(M.xmin,l)*(2*a);let P=O===0?v.clone():B9(v.clone(),O);M.offset(O,0);let{xmin:R,xmax:k}=M;R=Number(R.toFixed(9)),k=Number(k.toFixed(9)),M.intersects(f)&&k!==a?(p=k>p?k:p,P=YO(P,o),y.push(P),g.push("cut")):M.intersects(d)&&R!==l?(p=k*(2*a)>p?k*(2*a):p,P=YO(P,o,360),y.push(P),g.push("cut")):g.push(P)}else g.push(v.clone());else g.push(v);else g.push(v);let _=Ic(p,a),w=-90;const x=_,T=new Gn;for(;_>0;){const v=360*_-180;T.addPath([[v,w],[v,-1*w]]),w*=-1,_--}if(y.length>0&&x>0){const v=Ide(y,await _de(i,y,T,r)),M=[],O=[];for(let k=0;k<g.length;k++){const G=g[k];if(G!=="cut")O.push(G);else{const V=v.shift(),U=e[k];U!=null&&U.type==="polygon"&&U.rings&&U.rings.length>1&&V.rings.length>=U.rings.length?(M.push(V),O.push("simplify")):O.push(o?bh(V):V)}}if(!M.length)return O;const P=await xde(i,M,r),R=[];for(let k=0;k<O.length;k++){const G=O[k];G!=="simplify"?R.push(G):R.push(o?bh(P.shift()):P.shift())}return R}const S=[];for(let v=0;v<g.length;v++){const M=g[v];if(M!=="cut")S.push(M);else{const O=y.shift();S.push(o===!0?bh(O):O)}}return S}function sve(e){if(!e)return null;const t=e.extent;if(!t)return null;const r=e.spatialReference&&ta(e.spatialReference);if(!r)return t;const[i,n]=r.valid,s=2*n,{width:o}=t;let a,{xmin:l,xmax:c}=t;if([l,c]=[c,l],e.type==="extent"||o===0||o<=n||o>s||l<i||c>n)return t;switch(e.type){case"polygon":if(!(e.rings.length>1))return t;a=HO(e.rings);break;case"polyline":if(!(e.paths.length>1))return t;a=HO(e.paths);break;case"multipoint":a=e.points}const f=t.clone();for(let d=0;d<a.length;d++){let p=a[d][0];p<0?(p+=n,c=Math.max(p,c)):(p-=n,l=Math.min(p,l))}return f.xmin=l,f.xmax=c,f.width<o?(f.xmin-=n,f.xmax-=n,f):t}function ove(e,t,r){const i=ta(r);if(i==null)return e;const[n,s]=i.valid,o=2*s;let a=0,l=0;t>s?a=Math.ceil(Math.abs(t-s)/o):t<n&&(a=-Math.ceil(Math.abs(t-n)/o)),e>s?l=Math.ceil(Math.abs(e-s)/o):e<n&&(l=-Math.ceil(Math.abs(e-n)/o));let c=e+(a-l)*o;const f=c-t;return f>s?c-=o:f<n&&(c+=o),c}function ave(e,t){const r=ta(t);if(r){const[i,n]=r.valid,s=n-i;if(e<i)for(;e<i;)e+=s;if(e>n)for(;e>n;)e-=s}return e}const Y9=96;function Ode(e,t){const r=e.extent,i=e.width,n=wf(r?.spatialReference);return r&&i?r.width/i*n*XC*Y9:0}function lve(e,t){return e/(wf(t)*XC*Y9)}function cve(e,t,r){return $de(e,t)&&Cde(e,r)}function $de(e,t){return t===0||kd(e,t)||e<t}function Cde(e,t){return t===0||kd(e,t)||e>t}function uve(e){const t=e.layer;return"floorInfo"in t&&t.floorInfo?.floorField&&"floors"in e.view?K9(e.view.floors,t.floorInfo.floorField):null}function J9(e,t){return"floorInfo"in t&&t.floorInfo?.floorField?K9(e,t.floorInfo.floorField):null}function K9(e,t){if(!e?.length)return null;const r=e.filter(i=>i!=="").map(i=>`'${i}'`);return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}function hve(e,t,r){return t.flatten(({sublayers:n})=>n).length!==e.length?!0:!!e.some(n=>n.originIdOf("minScale")>r||n.originIdOf("maxScale")>r||n.originIdOf("renderer")>r||n.originIdOf("labelingInfo")>r||n.originIdOf("opacity")>r||n.originIdOf("labelsVisible")>r||n.originIdOf("source")>r)||!Z9(e,t)}function Nde(e,t,r){return!!e.some(i=>{const n=i.source,s=!n||n.type==="map-layer"&&n.mapLayerId===i.id&&(n.gdbVersion==null||n.gdbVersion===r);return i.commitProperty("renderer"),i.commitProperty("labelingInfo"),i.commitProperty("opacity"),i.commitProperty("labelsVisible"),!s||i.originIdOf("renderer")>st.SERVICE||i.originIdOf("labelingInfo")>st.SERVICE||i.originIdOf("opacity")>st.SERVICE||i.originIdOf("labelsVisible")>st.SERVICE})||!Z9(e,t)}function Z9(e,t){if(!e?.length||t==null)return!0;const r=t.slice().reverse().flatten(({sublayers:s})=>s&&s.toArray().reverse()).map(s=>s.id).toArray();if(e.length>r.length)return!1;let i=0;const n=r.length;for(const{id:s}of e){for(;i<n&&r[i]!==s;)i++;if(i>=n)return!1}return!0}function fve(e){return!!e&&e.some(t=>t.minScale!=null||t.layerDefinition?.minScale!=null)}function Pde(e,t){const{dpi:r,gdbVersion:i,geometry:n,geometryPrecision:s,height:o,historicMoment:a,layerOption:l,mapExtent:c,maxAllowableOffset:f,returnFieldName:d,returnGeometry:p,returnUnformattedValues:y,returnZ:g,spatialReference:_,timeExtent:w,tolerance:x,width:T}=e.toJSON(),{dynamicLayers:S,layerDefs:v,layerIds:M}=Lde(e),O=t?.geometry!=null?t.geometry:null,P={historicMoment:a,geometryPrecision:s,maxAllowableOffset:f,returnFieldName:d,returnGeometry:p,returnUnformattedValues:y,returnZ:g,tolerance:x},R=O?.toJSON()||n;P.imageDisplay=`${T},${o},${r}`,i&&(P.gdbVersion=i),R&&(delete R.spatialReference,P.geometry=JSON.stringify(R),P.geometryType=q1(R));const k=_??R?.spatialReference??c?.spatialReference;if(k&&(P.sr=ax(k)),P.time=w?[w.start,w.end].join(","):null,c){const{xmin:G,ymin:V,xmax:U,ymax:Y}=c;P.mapExtent=`${G},${V},${U},${Y}`}return v&&(P.layerDefs=v),S&&!v&&(P.dynamicLayers=S),P.layers=l==="popup"?"visible":l,M&&!S&&(P.layers+=`:${M.join(",")}`),P}function Lde(e){const{mapExtent:t,floors:r,width:i,sublayers:n,layerIds:s,layerOption:o,gdbVersion:a}=e,l=n?.find(g=>g.layer!=null)?.layer?.serviceSublayers,c=o==="popup",f={},d=Ode({extent:t,width:i,spatialReference:t?.spatialReference}),p=[],y=g=>{const _=d===0,w=g.minScale===0||d<=g.minScale,x=g.maxScale===0||d>=g.maxScale;if(g.visible&&(_||w&&x))if(g.sublayers)g.sublayers.forEach(y);else{if(s?.includes(g.id)===!1||c&&(!g.popupTemplate||!g.popupEnabled))return;p.unshift(g)}};if(n?.forEach(y),n&&!p.length)f.layerIds=[];else{const g=Nde(p,l,a),_=p.map(w=>{const x=J9(r,w);return w.toExportImageJSON(x)});if(g)f.dynamicLayers=JSON.stringify(_);else{if(n){let x=p.map(({id:T})=>T);s&&(x=x.filter(T=>s.includes(T))),f.layerIds=x}else s?.length&&(f.layerIds=s);const w=kde(r,p);if(w!=null&&w.length){const x={};for(const T of w)T.definitionExpression&&(x[T.id]=T.definitionExpression);Object.keys(x).length&&(f.layerDefs=JSON.stringify(x))}}}return f}function kde(e,t){const r=!!e?.length,i=t.filter(n=>n.definitionExpression!=null||r&&n.floorInfo!=null);return i.length?i.map(n=>{const s=J9(e,n),o=dV(s,n.definitionExpression);return{id:n.id,definitionExpression:o??void 0}}):null}const KO={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function m_(e,t,r,i=oa){const n=new As(Mx(i)),s=Ue.fromJSDate(e,{zone:n}),o=r==="decades"||r==="centuries"?"year":X9(r);return r==="decades"&&(t*=10),r==="centuries"&&(t*=100),s.plus({[o]:t}).toJSDate()}function dve(e,t,r="milliseconds"){const i=e.getTime(),n=Rde(t,r,"milliseconds");return new Date(i+n)}function ZO(e,t,r=oa){const i=new As(Mx(r)),n=Ue.fromJSDate(e,{zone:i});if(t==="decades"||t==="centuries"){const o=n.startOf("year"),{year:a}=o,l=a-a%(t==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=X9(t);return n.startOf(s).toJSDate()}function Rde(e,t,r){return e===0?0:e*KO[t]/KO[r]}function X9(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var kn;let hn=kn=class extends tt{static get allTime(){return XO}static get empty(){return Fde}static fromArray(e){return new kn({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return t.end!=null?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(kn.allTime)}get isEmpty(){return this.equals(kn.empty)}readStart(e,t){return t.start!=null?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new kn({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,i=e.start?.getTime()??e.start,n=e.end?.getTime()??e.end;return t===i&&r===n}expandTo(e,t=oa){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=ZO(r,e,t));let i=this.end;if(i){const n=ZO(i,e,t);i=i.getTime()===n.getTime()?n:m_(n,1,e,t)}return new kn({start:r,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return kn.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,i=e.start?.getTime()??-1/0,n=e.end?.getTime()??1/0;let s,o;return i>=t&&i<=r?s=i:t>=i&&t<=n&&(s=t),r>=i&&r<=n?o=r:n>=t&&n<=r&&(o=n),s==null||o==null||isNaN(s)||isNaN(o)?kn.empty:new kn({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(e,t,r=oa){if(this.isEmpty||this.isAllTime)return this.clone();const i=new kn,{start:n,end:s}=this;return n!=null&&(i.start=m_(n,e,t,r)),s!=null&&(i.end=m_(s,e,t,r)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return XO.clone();const t=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new kn({start:t,end:r})}};b([A({type:Date,json:{write:{allowNull:!0}}})],hn.prototype,"end",void 0),b([Sr("end")],hn.prototype,"readEnd",null),b([jt("end")],hn.prototype,"writeEnd",null),b([A({readOnly:!0,json:{read:!1}})],hn.prototype,"isAllTime",null),b([A({readOnly:!0,json:{read:!1}})],hn.prototype,"isEmpty",null),b([A({type:Date,json:{write:{allowNull:!0}}})],hn.prototype,"start",void 0),b([Sr("start")],hn.prototype,"readStart",null),b([jt("start")],hn.prototype,"writeStart",null),hn=kn=b([oe("esri.time.TimeExtent")],hn);const Dde=hn,XO=new hn,Fde=new hn({start:void 0,end:void 0});var CS;let Jt=CS=class extends tt{static from(e){return N$(CS,e)}constructor(e){super(e),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.historicMoment=null,this.layerIds=null,this.layerOption="top",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}};b([A({type:Number,json:{write:!0}})],Jt.prototype,"dpi",void 0),b([A()],Jt.prototype,"floors",void 0),b([A({type:String,json:{write:!0}})],Jt.prototype,"gdbVersion",void 0),b([A({types:mx,json:{read:ym,write:!0}})],Jt.prototype,"geometry",void 0),b([A({type:Number,json:{write:!0}})],Jt.prototype,"geometryPrecision",void 0),b([A({type:Number,json:{write:!0}})],Jt.prototype,"height",void 0),b([A({type:Date})],Jt.prototype,"historicMoment",void 0),b([jt("historicMoment")],Jt.prototype,"writeHistoricMoment",null),b([A({type:[Number],json:{write:!0}})],Jt.prototype,"layerIds",void 0),b([A({type:["top","visible","all","popup"],json:{write:!0}})],Jt.prototype,"layerOption",void 0),b([A({type:_n,json:{write:!0}})],Jt.prototype,"mapExtent",void 0),b([A({type:Number,json:{write:!0}})],Jt.prototype,"maxAllowableOffset",void 0),b([A({type:Boolean,json:{write:!0}})],Jt.prototype,"returnFieldName",void 0),b([A({type:Boolean,json:{write:!0}})],Jt.prototype,"returnGeometry",void 0),b([A({type:Boolean,json:{write:!0}})],Jt.prototype,"returnM",void 0),b([A({type:Boolean,json:{write:!0}})],Jt.prototype,"returnUnformattedValues",void 0),b([A({type:Boolean,json:{write:!0}})],Jt.prototype,"returnZ",void 0),b([A({type:or,json:{write:!0}})],Jt.prototype,"spatialReference",void 0),b([A()],Jt.prototype,"sublayers",void 0),b([A({type:Dde,json:{write:!0}})],Jt.prototype,"timeExtent",void 0),b([A({type:Number,json:{write:!0}})],Jt.prototype,"tolerance",void 0),b([A({type:Number,json:{write:!0}})],Jt.prototype,"width",void 0),Jt=CS=b([oe("esri.rest.support.IdentifyParameters")],Jt);const Q9=Jt;let Vo=class extends tt{constructor(e){super(e),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(e,t){return Xx.fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(e,t){if(!e)return;const{attributes:r,geometry:i}=e;r&&(t.attributes={...r}),i!=null&&(t.geometry=i.toJSON(),t.geometryType=nV.toJSON(i.type))}};b([A({type:String,json:{write:!0}})],Vo.prototype,"displayFieldName",void 0),b([A({type:Xx})],Vo.prototype,"feature",void 0),b([Sr("feature",["attributes","geometry"])],Vo.prototype,"readFeature",null),b([jt("feature")],Vo.prototype,"writeFeature",null),b([A({type:Number,json:{write:!0}})],Vo.prototype,"layerId",void 0),b([A({type:String,json:{write:!0}})],Vo.prototype,"layerName",void 0),Vo=b([oe("esri.rest.support.IdentifyResult")],Vo);const Ude=Vo;async function jde(e,t,r){const i=(t=Vde(t)).geometry?[t.geometry]:[],n=z9(e);return n.path+="/identify",H9(i).then(s=>{const o=Pde(t,{geometry:s?.[0]}),a=q9({...n.query,f:"json",...o}),l=bde(a,r);return sr(n.path,l).then(Gde).then(c=>Bde(c,t.sublayers))})}function Gde(e){const t=e.data;return t.results=t.results||[],t.exceededTransferLimit=!!t.exceededTransferLimit,t.results=t.results.map(r=>Ude.fromJSON(r)),t}function Vde(e){return e=Q9.from(e)}function Bde(e,t){if(!t?.length)return e;const r=new Map;function i(n){r.set(n.id,n),n.sublayers&&n.sublayers.forEach(i)}t.forEach(i);for(const n of e.results)n.feature.sourceLayer=r.get(n.layerId);return e}class zde extends Su{isDynamic;origState;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=ke.MAPIMAGE,this.layerFormat=En.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Gr.GEOMETRIC}async onInitiate(){this.esriLayer=Mr(await Gt.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t);return this.origState={visibility:r.visible,opacity:r.opacity},r.visible=!1,t.imageFormat&&(r.imageFormat=t.imageFormat),r}onLoadActions(){const t=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),t;const r=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(vn.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??ir.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const i=l=>{const c=this.esriLayer?.allSublayers.find(f=>f.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},n={};this.origRampConfig.sublayers.forEach(l=>{n[l.index||0]=l});const s=[],o=(l,c)=>{const f=l.id,d=n[f];if(l.sublayers&&l.sublayers.length>0){const p=(d?d.name:"")||l.title||"",y=new Tg(f,"",p,!1);c.findChildByIdx(f)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[f]||(this._sublayers[f]=new qde({id:`${this.id}-${f}`,index:f,layerType:ke.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const p=this._sublayers[f];if(p.isRemoved)return;if(p.name=d?.name||l.title||"",s.push(p),!c.children.map(y=>y.layerIdx).includes(f)){const y=new Tg(f,p.uid,p.name,!1);c.children.push(y)}p.esriWatches.push(l.watch("visible",()=>{this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:p.visibility,layer:p}),p.parentLayer?.checkVisibility()}),l.watch("opacity",y=>{this.$iApi.event.emit(Ce.LAYER_OPACITYCHANGE,{opacity:y,layer:p})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=i(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=i(l.layerIdx),f=n[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),r<this.lastCancel)return;const d=l.esriSubLayer&&f?.customRenderer?.type;if(d&&(l.esriSubLayer.renderer=await Gt.RendererFromJson(f.customRenderer)),await l.loadLayerMetadata(d?{customRenderer:l.esriSubLayer?.renderer}:{}),r<this.lastCancel)return;const p=n[l.layerIdx];if(p?(l.visibility=l.isRemoved?!1:p.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=p.state?.opacity??this.origState.opacity??1,l.nameField=p.nameField||l.nameField||"",this.$iApi.geo.attributes.applyFieldMetadata(l,p.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(vn.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim();const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(Li.PERMANENT));r>this.lastCancel&&(l.featureCount=y)}});return t.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,t}updateLayerState(t,r=!1){super.updateLayerState(t,r),this.sublayers.forEach(i=>i.updateLayerState(t,r))}updateDrawState(t){super.updateDrawState(t),this.sublayers.forEach(r=>r.updateDrawState(t))}runIdentify(t){if(!this.canIdentify())return[];t.sublayerIds&&(t.sublayerIds=t.sublayerIds.map(l=>typeof l=="number"?this.layerTree?.findChildByIdx(l)?.uid:l));const r=t.sublayerIds?this._sublayers.filter(l=>t.sublayerIds?.includes(l.uid)):this._sublayers.filter(l=>l.canIdentify());if(r.length===0)return[];const i=r.filter(l=>l.dataFormat===Wr.ESRI_FEATURE),n=r.filter(l=>l.dataFormat===Wr.ESRI_RASTER);let s=[],o=[];const a=Date.now();if(i.length>0){let l;t.geometry.type===Ze.POINT&&(l=this.$iApi.geo.query.makeClickBuffer(t.geometry,t.tolerance)),s=i.map(c=>{const f=new Tr,d={},p=Jr({items:[],loading:f.getPromise(),loaded:!1,errored:!1,uid:c.uid,layerId:c.id,requestTime:a});return c.geomType!==Ze.POLYGON&&l?d.filterGeometry=l:d.filterGeometry=t.geometry,d.filterSql=c.getCombinedSqlFilter(),d.sourceSR=c.sourceSR,c.queryOIDs(d).then(y=>{y.forEach(g=>{p.items.push(mf.makeOidItem(g,c))}),p.loaded=!0,f.resolveMe()}).catch(()=>{p.errored=!0,f.resolveMe()}),p})}if(n.length>0){const l=this.$iApi.geo.map,c=new Q9({returnGeometry:!1,layerIds:n.map(d=>d.layerIdx),tolerance:1,spatialReference:l.getSR().toESRI(),height:l.getPixelHeight(),width:l.getPixelWidth(),mapExtent:l.getExtent().toESRI(),geometry:t.geometry.toESRI()}),f=[];n.forEach(d=>{const p=new Tr,y=Jr({items:[],loading:p.getPromise(),loaded:!1,errored:!1,uid:d.uid,layerId:d.id,requestTime:a});f.push(p),o.push(y)}),jde(this.url,c).then(d=>{d?.results&&Array.isArray(d.results)&&d.results.length>0&&d.results.map(p=>JSON.parse(JSON.stringify(p))).forEach(p=>{const y=n.find(g=>g.layerIdx===p.layerId);if(y){const g=o.findIndex(_=>_.layerId===y.id);if(g>-1&&p.attributes){const _={pixel:p.attributes["Classify.Pixel Value"]??null,class:p.attributes["Classify.Class value"]??null},w=o[g];w.items.push(mf.makeRawItem(Oc.JSON,_)),w.loaded=!0,f[g].resolveMe()}}}),o.forEach((p,y)=>{p.loaded||(p.loaded=!0,f[y].resolveMe())})})}return s.concat(o)}}class qde extends vT{tooltipField;constructor(t,r,i){if(super(t,r),this.layerType=ke.SUBLAYER,this.layerFormat=En.MAPIMAGE,this.isSublayer=!0,this.layerIdx=t.index,this.parentLayer=i,this.dataFormat=Wr.ESRI_FEATURE,this.supportsFeatures=!0,this.tooltipField="",this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!i.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(i),(t.initialFilteredQuery||t.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(t){if(!t.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=Mr(t.esriLayer.allSublayers.find(r=>r.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=rr.INITIATED;const t=this.labelVizOverride();t!==void 0&&(this.labelVisibility=t)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===rr.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(t){this.layerExists?this.esriSubLayer.visible=t:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(t){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=t}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(t){this.layerExists?this.parentLayer.mouseTolerance=t:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(t){this.layerExists?this.parentLayer.touchTolerance=t:this.noLayerErr()}applySqlFilter(t=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const r=this.filter.getCombinedSql(t);this.esriSubLayer.definitionExpression=r}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){return this.parentLayer?.esriLayer?Be.fromESRI(this._parentLayer?.esriLayer?.spatialReference):(this.noLayerErr(),Be.latLongSR())}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(t){this.layerExists?this.esriSubLayer.labelsVisible=t:this.noLayerErr()}labelVizOverride(){let t=this.origRampConfig.labels?.visible;if(t!==void 0||(t=this.$iApi.geo.map.labelsDefault?.visible,t!==void 0))return t}}class Wde extends Su{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=ke.OSM,this.layerFormat=En.OSM,this.dataFormat=Wr.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=Mr(await Gt.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),i={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:r.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(i),t}}class Hde extends Su{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=ke.IMAGERY,this.layerFormat=En.IMAGERY,this.dataFormat=Wr.ESRI_RASTER}async onInitiate(){this.esriLayer=Mr(await Gt.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=Date.now(),i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(n=>{r>this.lastCancel&&(this.legend=n)});return t.push(i),t}}class Yde extends Su{constructor(t,r){super(t,r),this.supportsIdentify=!1,this.layerType=ke.TILE,this.layerFormat=En.TILE,this.dataFormat=Wr.ESRI_TILE}async onInitiate(){this.esriLayer=Mr(await Gt.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){return super.makeEsriLayerConfig(t)}onLoadActions(){const t=super.onLoadActions(),r=Date.now();this.layerTree.name=this.name;const i=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(n=>{r>this.lastCancel&&(this.legend=n)});return t.push(i),t.push(this.checkProj()),t}checkProj(){const t=this.getSR(),i=this.$iApi.geo.map.getSR().isEqual(t);if(this.layerState===yr.LOADED&&!i)this.$iApi.notify.show(vn.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===yr.ERROR&&i)this.reload();else if(this.layerState!==yr.ERROR&&!i)return this.$iApi.notify.show(vn.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class Jde extends Su{sublayerNames;mimeType;constructor(t,r){super(t,r),this.supportsIdentify=!0,this.layerType=ke.WMS,this.layerFormat=En.WMS,this.mimeType=t.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=Wr.OGC_RASTER,this.identifyMode=Gr.GEOMETRIC}async onInitiate(){this.esriLayer=Mr(await Gt.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(t){const r=super.makeEsriLayerConfig(t),i=t.sublayers;this.sublayerNames=i.map(s=>s.id||"error_no_wms_id");const n=i.map(s=>s.currentStyle).join();return r.customParameters={styles:n},t.url.indexOf("/geomet")!==-1&&(r.customParameters.layers=i[0].id),r}onLoadActions(){const t=super.onLoadActions();this.layerTree.name=this.name;const r=i=>{let n=!1;return i.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&r(s.sublayers)?n=!0:s.visible=!1}),n};return this.layerExists?r(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),t}canIdentify(){return super.canIdentify()}runIdentify(t){if(t.geometry.type!==Ze.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const r=new Tr,i=Jr({items:[],loading:r.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,t.geometry,this.mimeType).then(n=>{if(n){let s=!0,o;typeof n!="string"?o=Oc.JSON:n.indexOf("Search returned no results")===-1&&n!==""?o=Oc.TEXT:(s=!1,o=Oc.UNKNOWN),s&&i.items.push(mf.makeRawItem(o,n))}i.loaded=!0,r.resolveMe()}).catch(()=>{i.errored=!0,r.resolveMe()}),[i]}setCustomParameter(t,r,i=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[t]=r,i&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(t,r,i){const n=this.$iApi.geo.map,s=this.esriLayer;if(!n.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=n.getExtent(),c=s.spatialReferences,f=t.join(","),d=n.esriView.toScreen(r.toESRI()),p=Math.floor(d.x),y=Math.floor(d.y),_={"application/json":"json","text/html":"text","text/plain":"text"}[i]||"text",w=n.getSR();w.wkid?o=w.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(w.latestWkid&&c.indexOf(w.latestWkid)>-1?o=w.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:p,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:p,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const x={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:n.getPixelWidth(),HEIGHT:n.getPixelHeight(),QUERY_LAYERS:f,LAYERS:f,INFO_FORMAT:i},T=s.customLayerParameters;return T&&Object.keys(T).forEach(S=>{S.toLowerCase()!=="styles"&&(x[S]=T[S])}),Object.keys(x).forEach(S=>a[S]=x[S]),sr(s.url.split("?")[0],{query:a,responseType:_})}getLegendUrls(t){if(!this.layerExists)return this.noLayerErr(),[];const r=new Map;this.esriLayer.allSublayers.forEach(n=>{n.visible&&(n.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===n.name){const o=new Ag(n.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(n.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),r.set(n.name,n.legendUrl))});const i=t.map(n=>n.styleLegends&&n.currentStyle?n.styleLegends.find(s=>s.name===n.currentStyle).url:void 0);return i.forEach((n,s)=>{n||(i[s]=r.get(t[s].id))}),i}getWMSLayerTitle(t){if(!this.esriLayer)return"";let r;return this.esriLayer.allSublayers.some(i=>{if(i.name===t)return r=i.title,!0}),r||""}loadSymbology(){const t=Date.now(),r=this.config.sublayers,i=this.getLegendUrls(r.map(n=>({id:n.id,styleLegends:n.styleLegends,currentStyle:n.currentStyle}))).map((n,s)=>{const o=r[s].name||this.getWMSLayerTitle(r[s].id)||r[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(n).then(l=>{t>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=i}}class Kde extends xu{constructor(t,r){super(t,r),this.layerType=ke.WFS}async onInitiate(){const t=Date.now(),r=new Ag(this.config.url),{offset:i,limit:n}=r.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(i)||0,parseInt(n)||1e3,void 0,this.config.xyInAttribs);t>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class e7 extends V9{sourceJson;attribs;_visibility;constructor(t,r){super(t,r),this.dataFormat=Wr.ESRI_FEATURE,this.layerFormat=En.NOLAYER,this.drawState=Ki.NOT_VISUAL,this.attribs=new t7,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=t.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const t=this.sourceJson;if(t.data.length===0||t.fields.length===0)throw new Error("Data layer with no columns or now rows.");const r=t.fields.slice(),i=t.data[0].slice(),n=/ /gi;this.fields=r.map((o,a)=>{let l="",c=o;o.indexOf(" ")>-1&&(l=o,c=o.trim().replace(n,"-"),t.fields[a]=c);const f=this.$iApi.geo.layer.files.inferType(i[a]);return{name:c,alias:l,type:f,length:f===Wo.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Wo.OID}),t.fields.push(this.oidField),t.data.forEach((o,a)=>o.push(a+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:t,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new tpe(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=t.data.length,this.origRampConfig.nameField?this.nameField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.nameField)||this.oidField:this.nameField=this.oidField,this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Ce.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==yr.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Ce.LAYER_RELOAD_END,this)},300)}onLoadActions(){const t=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(r=>{this.legend[0].svgcode=r})}],t}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(t,r){let i={};if(this.attribs.attLoader.isLoaded()){const n=await this.attribs.attLoader.getAttribs();i=n.features[n.oidIndex[t]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Ss(new Al,"",i)}async getIcon(t){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(t=[],r=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(t){this._visibility!==t&&(this._visibility=t,this.$iApi.event.emit(Ce.LAYER_VISIBILITYCHANGE,{visibility:t,layer:this}))}}class Zde extends e7{constructor(t,r){super(t,r),this.layerType=ke.DATAJSON}async onInitiate(){const t=Date.now();let r;if(this.origRampConfig.rawData)r=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)r=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");t>this.lastCancel&&(this.sourceJson=r,await super.onInitiate())}}class Xde extends e7{filter;serviceUrl;constructor(t,r){super(t,r),this.layerType=ke.DATATABLE,this.serviceUrl=t.url,this.filter=new aP(t.permanentFilteredQuery||"",t.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const t=super.onLoadActions(),r=Date.now(),n=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,s=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(a=>{if(r<this.lastCancel)return;this.name||(this.name=a.name),this.layerTree.name=this.name,this.oidField=a.objectIdField,this.nameField=this.origRampConfig.nameField||a.displayField||this.oidField,this.fields=a.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata);const l={supportsLimit:(a.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(Li.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new r7(this.$iApi,l),this.attribs.quickCache=new i7(this.geomType)}),o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(Li.PERMANENT)).then(a=>{r>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=n,t.push(s,o),t}async getGraphic(t,r){let i={};const n=this.attribs.quickCache.getAttribs(t);if(n)i=n;else if(this.attribs.attLoader.isLoaded()){const o=await this.attribs.attLoader.getAttribs();i=o.features[o.oidIndex[t]]}else{const o={oid:t,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},a=await this.$iApi.geo.attributes.loadSingleFeature(o);this.attribs.quickCache.setAttribs(t,a.attributes),i=a.attributes}return new Ss(new Al,"",i)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(t,r){const i=this.filter.getSql(t);r!==i&&(this.filter.setSql(t,r),this.$iApi.event.emit(Ce.FILTER_CHANGE,{uid:this.uid,filterKey:t}))}getSqlFilter(t){return this.filter.getSql(t)}getCombinedSqlFilter(t){return this.filter.getCombinedSql(t)}async getFilterOIDs(t=[],r=void 0){const i=this.filter.getCombinedSql(t);if(!i)return;const n=this.filter.sqlActiveFilters(t);let s=this.filter.getCache(n,!1);if(!s){const o={filterSql:i,includeGeometry:!1};s=this.queryOIDs(o),this.filter.setCache(s,n,!1)}return s}queryOIDs(t){const r={url:this.serviceUrl,...t};return this.$iApi.geo.query.arcGisServerQueryIds(r)}async queryFeaturesDiscrete(t){const r=await this.queryOIDs(t),i={getAttribs:!0};return r.map(n=>({oid:n,graphic:this.getGraphic(n,i)}))}async queryFeatures(t){const r=await this.queryFeaturesDiscrete(t);return Promise.all(r.map(i=>i.graphic))}}class Qde extends Rr{oidIndexer(t,r){t.features.forEach((i,n)=>{t.oidIndex[i[r]]=n})}async arcGisBatchLoad(t,r){if(r.loadAbortFlag)return[];const i=t.permanentFilter?` AND ${t.permanentFilter}`:"",n={query:{where:`${t.oidField}>${t.maxId}${i}`,outFields:t.attribs,orderByFields:t.oidField,returnGeometry:"false",f:"json"}},[s,o]=await au(sr(t.serviceUrl+"/query",n));if(!o)return console.error(`ArcGIS batch load error: ${t.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${t.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${t.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){r.loadedCount+=l;let c;if(t.supportsLimit?c=o.data.exceededTransferLimit:(t.batchSize===-1&&(t.batchSize=l),c=l>=t.batchSize),a=this.trimFeatureSetAttributes(a,t.fieldsToTrim??[]),c){t.maxId=a[l-1].attributes[t.oidField];const f=await this.arcGisBatchLoad(t,r);return r.loadAbortFlag?[]:a.concat(f)}else return r.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(t,r){t.maxId=-1,t.batchSize=-1;const n={features:(await this.arcGisBatchLoad(t,r)).map(s=>s.attributes),oidIndex:{}};return this.oidIndexer(n,t.oidField),r.loadIsDone=!0,n}async loadGraphicsAttributes(t,r){if(!t.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const n={features:t.sourceGraphics.map(s=>qe(s).attributes).toArray(),oidIndex:{}};return this.oidIndexer(n,t.oidField),r.loadIsDone=!0,r.loadedCount=n.features.length,n}async loadCompactJsonAttributes(t,r){if(!t.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const i=t.sourceDataJson.fields,n=t.fieldsToTrim??[],o={features:t.sourceDataJson.data.map(a=>{const l={};return a.forEach((c,f)=>{l[i[f]]=typeof c=="string"&&n.includes(i[f])?c.trim():c}),l}),oidIndex:{}};return this.oidIndexer(o,t.oidField),r.loadIsDone=!0,r.loadedCount=o.features.length,t.sourceDataJson=void 0,o}async loadSingleFeature(t){const r={query:{f:"json",objectIds:t.oid,returnGeometry:t.includeGeometry,outFields:t.attribs}};typeof t.maxOffset<"u"&&(r.query.maxAllowableOffset=t.maxOffset),typeof t.mapSR<"u"&&(r.query.outSR=t.mapSR),typeof t.geometryPrecision<"u"&&t.geometryPrecision>=0&&(r.query.geometryPrecision=t.geometryPrecision);const[i,n]=await au(sr(t.serviceUrl+"/query",r));if(!n)return console.error(`ArcGIS single feature load error: ${t.serviceUrl}`,i),Promise.reject(new Error(`ArcGIS single feature load error: ${t.serviceUrl}`));if(!n.data||!n.data.features)return console.error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`));const s=n.data.features;if(s.length>0){let o,a=this.trimFeatureSetAttributes([s[0]],t.fieldsToTrim??[])[0];if(t.includeGeometry){a.geometry.spatialReference=n.data.spatialReference;const l=ym(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new Al;return new Ss(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${t.oid} for layer ${t.serviceUrl}`))}trimFeatureSetAttributes(t,r){return r.forEach(i=>{t.forEach(n=>{typeof n.attributes[i]=="string"&&(n.attributes[i]=n.attributes[i].trim())})}),t}orderFields(t,r){const i=(s,o)=>s.findIndex(a=>a.name===o),n=(s,o)=>{const a=i(r,s.name),l=i(r,o.name);return a===-1&&l===-1?i(t,s.name)-i(t,o.name):a===-1?1:l===-1?-1:a-l};return t.slice().sort(n)}applyFieldMetadata(t,r=void 0){if(!r||!r.fieldInfo){t.fieldList="*";return}let i=r.fieldInfo.filter(n=>n.trim).map(n=>n.name);if(t.fields.forEach(n=>{i.includes(n.name)&&(n.trim=!0)}),r?.enforceOrder&&r?.fieldInfo&&r?.fieldInfo.length>0&&(t.fields=this.orderFields(t.fields,r.fieldInfo),t.fieldList=r.fieldInfo.map(n=>n.name).join(",")),r.exclusiveFields){r.fieldInfo.find(s=>s.name===t.oidField)||r.fieldInfo.push({name:t.oidField}),t.fieldList=r.fieldInfo.map(s=>s.name).join(",");const n=r.fieldInfo;t.fields=t.fields.filter(s=>n.find(o=>o.name===s.name))}else t.fieldList="*";r.fieldInfo.forEach(n=>{if(n.alias){const s=t.fields.find(o=>o.name===n.name);s&&(s.alias=n.alias)}})}fieldValidator(t,r){if(t.findIndex(i=>i.name===r)===-1){const i=t.find(n=>n.alias===r);return i?i.name:(console.warn(`Cannot find name field in layer field list: ${r}`),"")}else return r}async generateTabularAttributes(t,r){return r.attLoader.tabularAttributesCache||(r.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(t,r)),r.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(t,r){if(t.dataFormat===Wr.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const i=await r.attLoader.getAttribs();if(!i.features||i.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const n=t.fields.filter(o=>Object.prototype.hasOwnProperty.call(i.features[0],qe(o).name)).map(o=>({data:qe(o).name,title:qe(o).alias||qe(o).name})),s=i.features.map(o=>{const a=lP({},o);return a.rvInteractive="",a.rvSymbol=t.getIcon(o[t.oidField]),a.rvUid=t.uid,a});return n.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:n,rows:s,fields:t.fields,oidField:t.oidField}}}class t7{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(t){this._attribLoader=t}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(t){this._quickCache=t}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class QO{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class bT extends Rr{aac;loadPromise;details;tabularAttributesCache;constructor(t,r){super(t),this.aac=new QO,this.details=r}updateFieldList(t){this.details.attribs=t}updateFieldsToTrim(t){this.details.fieldsToTrim=t}getAttribs(){return this.loadPromise||(this.aac=new QO,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class r7 extends bT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class epe extends bT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class tpe extends bT{constructor(t,r){super(t,r)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class i7{attribs;geoms;extents;isPoint;constructor(t){this.attribs={},this.geoms={},this.extents={},this.isPoint=t===Ze.POINT||t===Ze.MULTIPOINT}getScaleStore(t){return this.geoms[t]||(this.geoms[t]={}),this.geoms[t]}getGeomStore(t=void 0){if(this.isPoint)return this.geoms;if(typeof t>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(t)}getAttribs(t){return this.attribs[t]}setAttribs(t,r){this.attribs[t]=r}getGeom(t,r=void 0){return this.getGeomStore(r)[t]}setGeom(t,r,i=void 0){const n=this.getGeomStore(i);n[t]=r}getExtent(t){return this.extents[t]}setExtent(t,r){this.extents[t]=r}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class _T{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(t,r,i=!1){this.innerRenderer=t,this.symbolUnits=[],this.falseRenderer=i,this.type=O1.Unknown}makeSearchParams(t){return t}searchRenderer(t){const r=this.makeSearchParams(t),i=this.symbolUnits.find(s=>s.match(r));if(i)return i;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${r}`);const n=new Zv(this);return n.svgCode="",n}getGraphicIcon(t){return this.searchRenderer(t).svgCode}getGraphicSymbol(t){return this.searchRenderer(t).symbol}getFieldDelimiter(t,r){let i="'";if(!r||r.length===0)return i;const n=r.find(s=>s.name===t);return n&&n.type&&n.type!=="string"&&(i=""),i}cleanFieldName(t,r){if(!t)return t;let i=r.find(n=>n.name===t);if(i)return t;{const n=t.toLowerCase();return i=r.find(s=>s.name.toLowerCase()===n),i?i.name:t}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(r=>r.definitionClause).join(" OR ")}))`}}class Zv{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(t){this.parent=t,this.symbol=new bo}match(t){return!!t}}class rpe extends _T{constructor(t,r){super(t,r),this.type=O1.Simple;const i=new Zv(this);i.label=t.label||"",i.symbol=t.symbol,i.definitionClause="",this.symbolUnits.push(i)}}class ipe extends _T{delim;keyFields;constructor(t,r,i=!1){super(t,r,i),this.type=O1.Unique,this.delim=t.fieldDelimiter||", ";const n=o=>o.replace(/'/g,"''");this.keyFields=[t.field,t.field2,t.field3].filter(o=>o).map(o=>this.cleanFieldName(o,r));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,r));if(t.uniqueValueInfos.forEach(o=>{const a=new e$(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((f,d)=>l[d]==="<Null>"?`${f} IS NULL`:`${f} = ${s[d]}${n(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),t.defaultSymbol){const o=new e$(this,"");o.isDefault=!0,o.label=t.defaultLabel||"",o.symbol=t.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(t){return this.keyFields.map(r=>{let i=t[r]===null?"":t[r];return typeof i!="string"&&(i=i.toString()),i}).join(this.delim)}}class e$ extends Zv{matchValue;constructor(t,r){super(t),typeof r=="number"?this.matchValue=r.toString():this.matchValue=r}match(t){return this.matchValue===t}}class npe extends _T{valField;constructor(t,r,i=!1){if(super(t,r,i),this.valField=this.cleanFieldName(t.field,r),t.classBreakInfos.forEach((n,s)=>{const o=s===0,a=new t$(this,n.minValue,n.maxValue,o);a.label=n.label||"",a.symbol=n.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${n.minValue} AND ${this.valField} <= ${n.maxValue})`),this.symbolUnits.push(a)}),t.defaultSymbol){const n=new t$(this,0,0,!1);n.isDefault=!0,n.label=t.defaultLabel||"",n.symbol=t.defaultSymbol,n.definitionClause=this.makeElseClause(),this.defaultUnit=n}}makeSearchParams(t){return parseFloat(t[this.valField])}}class t$ extends Zv{minValue;maxValue;firstBreak;constructor(t,r,i,n){super(t),this.minValue=r,this.maxValue=i,this.firstBreak=n}match(t){return this.minValue===this.maxValue?this.maxValue===t:this.firstBreak?this.minValue<=t&&this.maxValue>=t:this.minValue<t&&this.maxValue>=t}}var Jy={exports:{}};/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.7.1
* https://svgdotjs.github.io/
*
* @copyright Wout Fierens <wout@mick-wout.com>
* @license MIT
*
* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)
*/var spe=Jy.exports,r$;function ope(){return r$||(r$=1,function(e,t){(function(r,i){e.exports=r.document?i(r,r.document):function(n){return i(n,n.document)}})(typeof window<"u"?window:spe,function(r,i){var n=typeof this<"u"?this:r,s=n.SVG=function(h){if(s.supported)return h=new s.Doc(h),s.parser.draw||s.prepare(),h};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!i.createElementNS&&!!i.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(h){return"Svgjs"+w(h)+s.did++},s.create=function(h){var m=i.createElementNS(this.ns,h);return m.setAttribute("id",this.eid(h)),m},s.extend=function(){var h,m,E,N;for(h=[].slice.call(arguments),m=h.pop(),N=h.length-1;N>=0;N--)if(h[N])for(E in m)h[N].prototype[E]=m[E];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(h){var m=typeof h.create=="function"?h.create:function(){this.constructor.call(this,s.create(h.create))};return h.inherit&&(m.prototype=new h.inherit),h.extend&&s.extend(m,h.extend),h.construct&&s.extend(h.parent||s.Container,h.construct),m},s.adopt=function(h){if(!h)return null;if(h.instance)return h.instance;var m;return h.nodeName=="svg"?m=h.parentNode instanceof r.SVGElement?new s.Nested:new s.Doc:h.nodeName=="linearGradient"?m=new s.Gradient("linear"):h.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[w(h.nodeName)]?m=new s[w(h.nodeName)]:m=new s.Element(h),m.type=h.nodeName,m.node=h,h.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(h.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var h=i.getElementsByTagName("body")[0],m=(h?new s.Doc(h):s.adopt(i.documentElement).nested()).size(2,0);s.parser={body:h||i.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},i.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(h,m){var E,N=h.length,q=[];for(E=0;E<N;E++)q.push(m(h[E]));return q},filter:function(h,m){var E,N=h.length,q=[];for(E=0;E<N;E++)m(h[E])&&q.push(h[E]);return q},radians:function(h){return h%360*Math.PI/180},degrees:function(h){return h*180/Math.PI%360},filterSVGElements:function(h){return this.filter(h,function(m){return m instanceof r.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(h){var m;this.r=0,this.g=0,this.b=0,h&&(typeof h=="string"?s.regex.isRgb.test(h)?(m=s.regex.rgb.exec(h.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(h)&&(m=s.regex.hex.exec(x(h)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof h=="object"&&(this.r=h.r,this.g=h.g,this.b=h.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+T(this.r)+T(this.g)+T(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(h){return this.destination=new s.Color(h),this},at:function(h){return this.destination?(h=h<0?0:h>1?1:h,new s.Color({r:~~(this.r+(this.destination.r-this.r)*h),g:~~(this.g+(this.destination.g-this.g)*h),b:~~(this.b+(this.destination.b-this.b)*h)})):this}}),s.Color.test=function(h){return h+="",s.regex.isHex.test(h)||s.regex.isRgb.test(h)},s.Color.isRgb=function(h){return h&&typeof h.r=="number"&&typeof h.g=="number"&&typeof h.b=="number"},s.Color.isColor=function(h){return s.Color.isRgb(h)||s.Color.test(h)},s.Array=function(h,m){h=(h||[]).valueOf(),h.length==0&&m&&(h=m.valueOf()),this.value=this.parse(h)},s.extend(s.Array,{morph:function(h){if(this.destination=this.parse(h),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],E=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(E);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var h=0,m=this.value.length,E=[];h<m;h++)E.indexOf(this.value[h])==-1&&E.push(this.value[h]);return this.value=E},at:function(h){if(!this.destination)return this;for(var m=0,E=this.value.length,N=[];m<E;m++)N.push(this.value[m]+(this.destination[m]-this.value[m])*h);return new s.Array(N)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(h){return h=h.valueOf(),Array.isArray(h)?h:this.split(h)},split:function(h){return h.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var h=new this.constructor;return h.value=p(this.value),h}}),s.PointArray=function(h,m){s.Array.call(this,h,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var h=0,m=this.value.length,E=[];h<m;h++)E.push(this.value[h].join(","));return E.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(h){if(!this.destination)return this;for(var m=0,E=this.value.length,N=[];m<E;m++)N.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*h,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*h]);return new s.PointArray(N)},parse:function(h){var m=[];if(h=h.valueOf(),Array.isArray(h)){if(Array.isArray(h[0]))return h.map(function(q){return q.slice()});if(h[0].x!=null)return h.map(function(q){return[q.x,q.y]})}else h=h.trim().split(s.regex.delimiter).map(parseFloat);h.length%2!==0&&h.pop();for(var E=0,N=h.length;E<N;E=E+2)m.push([h[E],h[E+1]]);return m},move:function(h,m){var E=this.bbox();if(h-=E.x,m-=E.y,!isNaN(h)&&!isNaN(m))for(var N=this.value.length-1;N>=0;N--)this.value[N]=[this.value[N][0]+h,this.value[N][1]+m];return this},size:function(h,m){var E,N=this.bbox();for(E=this.value.length-1;E>=0;E--)N.width&&(this.value[E][0]=(this.value[E][0]-N.x)*h/N.width+N.x),N.height&&(this.value[E][1]=(this.value[E][1]-N.y)*m/N.height+N.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(h,m,E){return m.x=E.x=h[0],m.y=E.y=h[1],["M",m.x,m.y]},L:function(h,m){return m.x=h[0],m.y=h[1],["L",h[0],h[1]]},H:function(h,m){return m.x=h[0],["H",h[0]]},V:function(h,m){return m.y=h[0],["V",h[0]]},C:function(h,m){return m.x=h[4],m.y=h[5],["C",h[0],h[1],h[2],h[3],h[4],h[5]]},S:function(h,m){return m.x=h[2],m.y=h[3],["S",h[0],h[1],h[2],h[3]]},Q:function(h,m){return m.x=h[2],m.y=h[3],["Q",h[0],h[1],h[2],h[3]]},T:function(h,m){return m.x=h[0],m.y=h[1],["T",h[0],h[1]]},Z:function(h,m,E){return m.x=E.x,m.y=E.y,["Z"]},A:function(h,m){return m.x=h[5],m.y=h[6],["A",h[0],h[1],h[2],h[3],h[4],h[5],h[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(h){return function(m,E,N){if(h=="H")m[0]=m[0]+E.x;else if(h=="V")m[0]=m[0]+E.y;else if(h=="A")m[5]=m[5]+E.x,m[6]=m[6]+E.y;else for(var q=0,K=m.length;q<K;++q)m[q]=m[q]+(q%2?E.y:E.x);return o[h](m,E,N)}}(a[l].toUpperCase());s.PathArray=function(h,m){s.Array.call(this,h,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return R(this.value)},move:function(h,m){var E=this.bbox();if(h-=E.x,m-=E.y,!isNaN(h)&&!isNaN(m))for(var N,q=this.value.length-1;q>=0;q--)N=this.value[q][0],N=="M"||N=="L"||N=="T"?(this.value[q][1]+=h,this.value[q][2]+=m):N=="H"?this.value[q][1]+=h:N=="V"?this.value[q][1]+=m:N=="C"||N=="S"||N=="Q"?(this.value[q][1]+=h,this.value[q][2]+=m,this.value[q][3]+=h,this.value[q][4]+=m,N=="C"&&(this.value[q][5]+=h,this.value[q][6]+=m)):N=="A"&&(this.value[q][6]+=h,this.value[q][7]+=m);return this},size:function(h,m){var E,N,q=this.bbox();for(E=this.value.length-1;E>=0;E--)N=this.value[E][0],N=="M"||N=="L"||N=="T"?(this.value[E][1]=(this.value[E][1]-q.x)*h/q.width+q.x,this.value[E][2]=(this.value[E][2]-q.y)*m/q.height+q.y):N=="H"?this.value[E][1]=(this.value[E][1]-q.x)*h/q.width+q.x:N=="V"?this.value[E][1]=(this.value[E][1]-q.y)*m/q.height+q.y:N=="C"||N=="S"||N=="Q"?(this.value[E][1]=(this.value[E][1]-q.x)*h/q.width+q.x,this.value[E][2]=(this.value[E][2]-q.y)*m/q.height+q.y,this.value[E][3]=(this.value[E][3]-q.x)*h/q.width+q.x,this.value[E][4]=(this.value[E][4]-q.y)*m/q.height+q.y,N=="C"&&(this.value[E][5]=(this.value[E][5]-q.x)*h/q.width+q.x,this.value[E][6]=(this.value[E][6]-q.y)*m/q.height+q.y)):N=="A"&&(this.value[E][1]=this.value[E][1]*h/q.width,this.value[E][2]=this.value[E][2]*m/q.height,this.value[E][6]=(this.value[E][6]-q.x)*h/q.width+q.x,this.value[E][7]=(this.value[E][7]-q.y)*m/q.height+q.y);return this},equalCommands:function(h){var m,E,N;for(h=new s.PathArray(h),N=this.value.length===h.value.length,m=0,E=this.value.length;N&&m<E;m++)N=this.value[m][0]===h.value[m][0];return N},morph:function(h){return h=new s.PathArray(h),this.equalCommands(h)?this.destination=h:this.destination=null,this},at:function(h){if(!this.destination)return this;var m=this.value,E=this.destination.value,N=[],q=new s.PathArray,K,fe,ae,Ae;for(K=0,fe=m.length;K<fe;K++){for(N[K]=[m[K][0]],ae=1,Ae=m[K].length;ae<Ae;ae++)N[K][ae]=m[K][ae]+(E[K][ae]-m[K][ae])*h;N[K][0]==="A"&&(N[K][4]=+(N[K][4]!=0),N[K][5]=+(N[K][5]!=0))}return q.value=N,q},parse:function(h){if(h instanceof s.PathArray)return h.valueOf();var m,N,E={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof h=="string"?h=h.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):h=h.reduce(function(Ae,Fe){return[].concat.call(Ae,Fe)},[]);var N=[],q=new s.Point,K=new s.Point,fe=0,ae=h.length;do s.regex.isPathLetter.test(h[fe])?(m=h[fe],++fe):m=="M"?m="L":m=="m"&&(m="l"),N.push(o[m].call(null,h.slice(fe,fe=fe+E[m.toUpperCase()]).map(parseFloat),q,K));while(ae>fe);return N},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(h,m){this.value=0,this.unit=m||"",typeof h=="number"?this.value=isNaN(h)?0:isFinite(h)?h:h<0?-34e37:34e37:typeof h=="string"?(m=h.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):h instanceof s.Number&&(this.value=h.valueOf(),this.unit=h.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(h){return h=new s.Number(h),new s.Number(this+h,this.unit||h.unit)},minus:function(h){return h=new s.Number(h),new s.Number(this-h,this.unit||h.unit)},times:function(h){return h=new s.Number(h),new s.Number(this*h,this.unit||h.unit)},divide:function(h){return h=new s.Number(h),new s.Number(this/h,this.unit||h.unit)},to:function(h){var m=new s.Number(this);return typeof h=="string"&&(m.unit=h),m},morph:function(h){return this.destination=new s.Number(h),h.relative&&(this.destination.value+=this.value),this},at:function(h){return this.destination?new s.Number(this.destination).minus(this).times(h).plus(this):this}}}),s.Element=s.invent({create:function(h){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=h)&&(this.type=h.nodeName,this.node.instance=this,this._events=h._events||{},this._stroke=h.getAttribute("stroke")||this._stroke)},extend:{x:function(h){return this.attr("x",h)},y:function(h){return this.attr("y",h)},cx:function(h){return h==null?this.x()+this.width()/2:this.x(h-this.width()/2)},cy:function(h){return h==null?this.y()+this.height()/2:this.y(h-this.height()/2)},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},width:function(h){return this.attr("width",h)},height:function(h){return this.attr("height",h)},size:function(h,m){var E=S(this,h,m);return this.width(new s.Number(E.width)).height(new s.Number(E.height))},clone:function(h){this.writeDataToDom();var m=k(this.node.cloneNode(!0));return h?h.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(h){return this.after(h).remove(),h},addTo:function(h){return h.put(this)},putIn:function(h){return h.add(this)},id:function(h){return this.attr("id",h)},inside:function(h,m){var E=this.bbox();return h>E.x&&m>E.y&&h<E.x+E.width&&m<E.y+E.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var h=this.attr("class");return h==null?[]:h.trim().split(s.regex.delimiter)},hasClass:function(h){return this.classes().indexOf(h)!=-1},addClass:function(h){if(!this.hasClass(h)){var m=this.classes();m.push(h),this.attr("class",m.join(" "))}return this},removeClass:function(h){return this.hasClass(h)&&this.attr("class",this.classes().filter(function(m){return m!=h}).join(" ")),this},toggleClass:function(h){return this.hasClass(h)?this.removeClass(h):this.addClass(h)},reference:function(h){return s.get(this.attr(h))},parent:function(h){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!h)return m;for(;m&&m.node instanceof r.SVGElement;){if(typeof h=="string"?m.matches(h):m instanceof h)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(h){var m=[],E=this;do{if(E=E.parent(h),!E||!E.node)break;m.push(E)}while(E.parent);return m},matches:function(h){return g(this.node,h)},native:function(){return this.node},svg:function(h){var m=i.createElement("svg");if(h&&this instanceof s.Parent){m.innerHTML="<svg>"+h.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var E=0,N=m.firstChild.childNodes.length;E<N;E++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(h=i.createElement("svg")),this.writeDataToDom(),h.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var h=this.each?this:this.lines();h.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(h){return this.dom=h,this},is:function(h){return y(this,h)}}}),s.easing={"-":function(h){return h},"<>":function(h){return-Math.cos(h*Math.PI)/2+.5},">":function(h){return Math.sin(h*Math.PI/2)},"<":function(h){return-Math.cos(h*Math.PI/2)+1}},s.morph=function(h){return function(m,E){return new s.MorphObj(m,E).at(h)}},s.Situation=s.invent({create:function(h){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(h.duration).valueOf(),this.delay=new s.Number(h.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=h.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(h){this._target=h,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(h,m,E){typeof h=="object"&&(m=h.ease,E=h.delay,h=h.duration);var N=new s.Situation({duration:h||1e3,delay:E||0,ease:s.easing[m||"-"]||m});return this.queue(N),this},delay:function(h){var m=new s.Situation({duration:h,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(h){return h&&h instanceof s.Element?(this._target=h,this):this._target},timeToAbsPos:function(h){return(h-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(h){return this.situation.duration/this._speed*h+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=r.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){r.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(h){return(typeof h=="function"||h instanceof s.Situation)&&this.situations.push(h),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var h,m,E,N=this.situation;if(N.init)return this;for(h in N.animations)for(E=this.target()[h](),Array.isArray(E)||(E=[E]),Array.isArray(N.animations[h])||(N.animations[h]=[N.animations[h]]),m=E.length;m--;)N.animations[h][m]instanceof s.Number&&(E[m]=new s.Number(E[m])),N.animations[h][m]=E[m].morph(N.animations[h][m]);for(h in N.attrs)N.attrs[h]=new s.MorphObj(this.target().attr(h),N.attrs[h]);for(h in N.styles)N.styles[h]=new s.MorphObj(this.target().style(h),N.styles[h]);return N.initialTransformation=this.target().matrixify(),N.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(h,m){var E=this.active;return this.active=!1,m&&this.clearQueue(),h&&this.situation&&(!E&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var h=this.situation;this.stop(),this.situation=h,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(h,m){var E=this.situation.duration/this._speed;return this.absPos=h,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*E,this.situation.finish=this.situation.start+E,this.step(!0)},speed:function(h){return h===0?this.pause():h?(this._speed=h,this.at(this.absPos,!0)):this._speed},loop:function(h,m){var E=this.last();return E.loops=h??!0,E.loop=0,m&&(E.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(h){var m=this.last();return typeof h>"u"?m.reversed=!m.reversed:m.reversed=h,this},progress:function(h){return h?this.situation.ease(this.pos):this.pos},after:function(h){var m=this.last(),E=function N(q){q.detail.situation==m&&(h.call(this,m),this.off("finished.fx",N))};return this.target().on("finished.fx",E),this._callStart()},during:function(h){var m=this.last(),E=function(N){N.detail.situation==m&&h.call(this,N.detail.pos,s.morph(N.detail.pos),N.detail.eased,m)};return this.target().off("during.fx",E).on("during.fx",E),this.after(function(){this.off("during.fx",E)}),this._callStart()},afterAll:function(h){var m=function E(N){h.call(this),this.off("allfinished.fx",E)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(h){var m=function(E){h.call(this,E.detail.pos,s.morph(E.detail.pos),E.detail.eased,E.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(h,m,E){return this.last()[E||"animations"][h]=m,this._callStart()},step:function(h){if(h||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,E,N;m=Math.max(this.absPos,0),E=Math.floor(m),this.situation.loops===!0||E<this.situation.loops?(this.pos=m-E,N=this.situation.loop,this.situation.loop=E):(this.absPos=this.situation.loops,this.pos=1,N=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-N)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var q=this.situation.ease(this.pos);for(var K in this.situation.once)K>this.lastPos&&K<=q&&(this.situation.once[K].call(this.target(),this.pos,q),delete this.situation.once[K]);return this.active&&this.target().fire("during",{pos:this.pos,eased:q,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=q,this):this},eachAt:function(){var h,m,E,N=this,q=this.target(),K=this.situation;for(h in K.animations)E=[].concat(K.animations[h]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(K.ease(N.pos),N.pos):ae}),q[h].apply(q,E);for(h in K.attrs)E=[h].concat(K.attrs[h]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(K.ease(N.pos),N.pos):ae}),q.attr.apply(q,E);for(h in K.styles)E=[h].concat(K.styles[h]).map(function(ae){return typeof ae!="string"&&ae.at?ae.at(K.ease(N.pos),N.pos):ae}),q.style.apply(q,E);if(K.transforms.length){for(E=K.initialTransformation,h=0,m=K.transforms.length;h<m;h++){var fe=K.transforms[h];if(fe instanceof s.Matrix){fe.relative?E=E.multiply(new s.Matrix().morph(fe).at(K.ease(this.pos))):E=E.morph(fe).at(K.ease(this.pos));continue}fe.relative||fe.undo(E.extract()),E=E.multiply(fe.at(K.ease(this.pos)))}q.matrix(E)}return this},once:function(h,m,E){var N=this.last();return E||(h=N.ease(h)),N.once[h]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(h,m,E){return(this.fx||(this.fx=new s.FX(this))).animate(h,m,E)},delay:function(h){return(this.fx||(this.fx=new s.FX(this))).delay(h)},stop:function(h,m){return this.fx&&this.fx.stop(h,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(h){if(this.fx){if(h==null)return this.fx.speed();this.fx.speed(h)}return this}}}),s.MorphObj=s.invent({create:function(h,m){if(s.Color.isColor(m))return new s.Color(h).morph(m);if(s.regex.delimiter.test(h))return s.regex.pathLetters.test(h)?new s.PathArray(h).morph(m):new s.Array(h).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(h).morph(m);this.value=h,this.destination=m},extend:{at:function(h,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(h,m,E){if(typeof h=="object")for(var N in h)this.attr(N,h[N]);else this.add(h,m,"attrs");return this},style:function(h,m){if(typeof h=="object")for(var E in h)this.style(E,h[E]);else this.add(h,m,"styles");return this},x:function(h,m){if(this.target()instanceof s.G)return this.transform({x:h},m),this;var E=new s.Number(h);return E.relative=m,this.add("x",E)},y:function(h,m){if(this.target()instanceof s.G)return this.transform({y:h},m),this;var E=new s.Number(h);return E.relative=m,this.add("y",E)},cx:function(h){return this.add("cx",new s.Number(h))},cy:function(h){return this.add("cy",new s.Number(h))},move:function(h,m){return this.x(h).y(m)},center:function(h,m){return this.cx(h).cy(m)},size:function(h,m){if(this.target()instanceof s.Text)this.attr("font-size",h);else{var E;(!h||!m)&&(E=this.target().bbox()),h||(h=E.width/E.height*m),m||(m=E.height/E.width*h),this.add("width",new s.Number(h)).add("height",new s.Number(m))}return this},width:function(h){return this.add("width",new s.Number(h))},height:function(h){return this.add("height",new s.Number(h))},plot:function(h,m,E,N){return arguments.length==4?this.plot([h,m,E,N]):this.add("plot",new(this.target()).morphArray(h))},leading:function(h){return this.target().leading?this.add("leading",new s.Number(h)):this},viewbox:function(h,m,E,N){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(h,m,E,N)),this},update:function(h){if(this.target()instanceof s.Stop){if(typeof h=="number"||h instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",h.offset)}return this}}),s.Box=s.invent({create:function(h,m,E,N){if(typeof h=="object"&&!(h instanceof s.Element))return s.Box.call(this,h.left!=null?h.left:h.x,h.top!=null?h.top:h.y,h.width,h.height);arguments.length==4&&(this.x=h,this.y=m,this.width=E,this.height=N),G(this)},extend:{merge:function(h){var m=new this.constructor;return m.x=Math.min(this.x,h.x),m.y=Math.min(this.y,h.y),m.width=Math.max(this.x+this.width,h.x+h.width)-m.x,m.height=Math.max(this.y+this.height,h.y+h.height)-m.y,G(m)},transform:function(h){var m=1/0,E=-1/0,N=1/0,q=-1/0,K,fe=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return fe.forEach(function(ae){ae=ae.transform(h),m=Math.min(m,ae.x),E=Math.max(E,ae.x),N=Math.min(N,ae.y),q=Math.max(q,ae.y)}),K=new this.constructor,K.x=m,K.width=E-m,K.y=N,K.height=q-N,G(K),K}}}),s.BBox=s.invent({create:function(h){if(s.Box.apply(this,[].slice.call(arguments)),h instanceof s.Element){var m;try{if(i.documentElement.contains){if(!i.documentElement.contains(h.node))throw new Exception("Element not in the dom")}else{for(var E=h.node;E.parentNode;)E=E.parentNode;if(E!=i)throw new Exception("Element not in the dom")}m=h.node.getBBox()}catch{if(h instanceof s.Shape){var N=h.clone(s.parser.draw.instance).show();m=N.node.getBBox(),N.remove()}else m={x:h.node.clientLeft,y:h.node.clientTop,width:h.node.clientWidth,height:h.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(h){s.Box.apply(this,[].slice.call(arguments)),h instanceof s.Element&&s.Box.call(this,h.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=r.pageXOffset,this.y+=r.pageYOffset,this}},construct:{rbox:function(h){return h?new s.RBox(this).transform(h.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(h){var m,E=M([1,0,0,1,0,0]);for(h=h instanceof s.Element?h.matrixify():typeof h=="string"?M(h.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?M([].slice.call(arguments)):Array.isArray(h)?M(h):typeof h=="object"?h:E,m=Y.length-1;m>=0;--m)this[Y[m]]=h[Y[m]]!=null?h[Y[m]]:E[Y[m]]},extend:{extract:function(){var h=v(this,0,1),m=v(this,1,0),E=180/Math.PI*Math.atan2(h.y,h.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(E*Math.PI/180)+this.f*Math.sin(E*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(E*Math.PI/180)+this.e*Math.sin(-E*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-E,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:E,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(h){return this.destination=new s.Matrix(h),this},at:function(h){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*h,b:this.b+(this.destination.b-this.b)*h,c:this.c+(this.destination.c-this.c)*h,d:this.d+(this.destination.d-this.d)*h,e:this.e+(this.destination.e-this.e)*h,f:this.f+(this.destination.f-this.f)*h});return m},multiply:function(h){return new s.Matrix(this.native().multiply(O(h).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(h,m){return new s.Matrix(this.native().translate(h||0,m||0))},scale:function(h,m,E,N){return arguments.length==1?m=h:arguments.length==3&&(N=E,E=m,m=h),this.around(E,N,new s.Matrix(h,0,0,m,0,0))},rotate:function(h,m,E){return h=s.utils.radians(h),this.around(m,E,new s.Matrix(Math.cos(h),Math.sin(h),-Math.sin(h),Math.cos(h),0,0))},flip:function(h,m){return h=="x"?this.scale(-1,1,m,0):h=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,h,m??h)},skew:function(h,m,E,N){return arguments.length==1?m=h:arguments.length==3&&(N=E,E=m,m=h),h=s.utils.radians(h),m=s.utils.radians(m),this.around(E,N,new s.Matrix(1,Math.tan(m),Math.tan(h),1,0,0))},skewX:function(h,m,E){return this.skew(h,0,m,E)},skewY:function(h,m,E){return this.skew(0,h,m,E)},around:function(h,m,E){return this.multiply(new s.Matrix(1,0,0,1,h||0,m||0)).multiply(E).multiply(new s.Matrix(1,0,0,1,-h||0,-m||0))},native:function(){for(var h=s.parser.native.createSVGMatrix(),m=Y.length-1;m>=0;m--)h[Y[m]]=this[Y[m]];return h},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var h=this.rect(1,1),m=h.node.getScreenCTM();return h.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(h,m){var E,N={x:0,y:0};E=Array.isArray(h)?{x:h[0],y:h[1]}:typeof h=="object"?{x:h.x,y:h.y}:h!=null?{x:h,y:m??h}:N,this.x=E.x,this.y=E.y},extend:{clone:function(){return new s.Point(this)},morph:function(h,m){return this.destination=new s.Point(h,m),this},at:function(h){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*h,y:this.y+(this.destination.y-this.y)*h});return m},native:function(){var h=s.parser.native.createSVGPoint();return h.x=this.x,h.y=this.y,h},transform:function(h){return new s.Point(this.native().matrixTransform(h.native()))}}}),s.extend(s.Element,{point:function(h,m){return new s.Point(h,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(h,m,E){if(h==null){for(h={},m=this.node.attributes,E=m.length-1;E>=0;E--)h[m[E].nodeName]=s.regex.isNumber.test(m[E].nodeValue)?parseFloat(m[E].nodeValue):m[E].nodeValue;return h}else if(typeof h=="object")for(m in h)this.attr(m,h[m]);else if(m===null)this.node.removeAttribute(h);else{if(m==null)return m=this.node.getAttribute(h),m==null?s.defaults.attrs[h]:s.regex.isNumber.test(m)?parseFloat(m):m;h=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):h=="stroke"&&(this._stroke=m),(h=="fill"||h=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),h=="leading"?this.leading&&this.leading(m):typeof E=="string"?this.node.setAttributeNS(E,h,m.toString()):this.node.setAttribute(h,m.toString()),this.rebuild&&(h=="font-size"||h=="x")&&this.rebuild(h,m)}return this}}),s.extend(s.Element,{transform:function(h,m){var E=this,N,q;if(typeof h!="object")return N=new s.Matrix(E).extract(),typeof h=="string"?N[h]:N;if(N=new s.Matrix(E),m=!!m||!!h.relative,h.a!=null)N=m?N.multiply(new s.Matrix(h)):new s.Matrix(h);else if(h.rotation!=null)P(h,E),N=m?N.rotate(h.rotation,h.cx,h.cy):N.rotate(h.rotation-N.extract().rotation,h.cx,h.cy);else if(h.scale!=null||h.scaleX!=null||h.scaleY!=null){if(P(h,E),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,!m){var K=N.extract();h.scaleX=h.scaleX*1/K.scaleX,h.scaleY=h.scaleY*1/K.scaleY}N=N.scale(h.scaleX,h.scaleY,h.cx,h.cy)}else if(h.skew!=null||h.skewX!=null||h.skewY!=null){if(P(h,E),h.skewX=h.skew!=null?h.skew:h.skewX!=null?h.skewX:0,h.skewY=h.skew!=null?h.skew:h.skewY!=null?h.skewY:0,!m){var K=N.extract();N=N.multiply(new s.Matrix().skew(K.skewX,K.skewY,h.cx,h.cy).inverse())}N=N.skew(h.skewX,h.skewY,h.cx,h.cy)}else h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?E.bbox()["c"+h.flip]:h.offset:h.offset==null?(q=E.bbox(),h.flip=q.cx,h.offset=q.cy):h.flip=h.offset,N=new s.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(m?N=N.translate(h.x,h.y):(h.x!=null&&(N.e=h.x),h.y!=null&&(N.f=h.y)));return this.attr("transform",N)}}),s.extend(s.FX,{transform:function(h,m){var E=this.target(),N,q;return typeof h!="object"?(N=new s.Matrix(E).extract(),typeof h=="string"?N[h]:N):(m=!!m||!!h.relative,h.a!=null?N=new s.Matrix(h):h.rotation!=null?(P(h,E),N=new s.Rotate(h.rotation,h.cx,h.cy)):h.scale!=null||h.scaleX!=null||h.scaleY!=null?(P(h,E),h.scaleX=h.scale!=null?h.scale:h.scaleX!=null?h.scaleX:1,h.scaleY=h.scale!=null?h.scale:h.scaleY!=null?h.scaleY:1,N=new s.Scale(h.scaleX,h.scaleY,h.cx,h.cy)):h.skewX!=null||h.skewY!=null?(P(h,E),h.skewX=h.skewX!=null?h.skewX:0,h.skewY=h.skewY!=null?h.skewY:0,N=new s.Skew(h.skewX,h.skewY,h.cx,h.cy)):h.flip?(h.flip=="x"||h.flip=="y"?h.offset=h.offset==null?E.bbox()["c"+h.flip]:h.offset:h.offset==null?(q=E.bbox(),h.flip=q.cx,h.offset=q.cy):h.flip=h.offset,N=new s.Matrix().flip(h.flip,h.offset)):(h.x!=null||h.y!=null)&&(N=new s.Translate(h.x,h.y)),N?(N.relative=m,this.last().transforms.push(N),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var h=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var E=m.trim().split("(");return[E[0],E[1].split(s.regex.delimiter).map(function(N){return parseFloat(N)})]}).reduce(function(m,E){return E[0]=="matrix"?m.multiply(M(E[1])):m[E[0]].apply(m,E[1])},new s.Matrix);return h},toParent:function(h){if(this==h)return this;var m=this.screenCTM(),E=h.screenCTM().inverse();return this.addTo(h).untransform().transform(E.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(h,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(h))for(var E=0,N=this.arguments.length;E<N;++E)this[this.arguments[E]]=h[E];else if(typeof h=="object")for(var E=0,N=this.arguments.length;E<N;++E)this[this.arguments[E]]=h[this.arguments[E]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(h){for(var m=[],E=0,N=this.arguments.length;E<N;++E)m.push(this[this.arguments[E]]);var q=this._undo||new s.Matrix;return q=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(q,m)).at(h),this.inversed?q.inverse():q},undo:function(h){for(var m=0,E=this.arguments.length;m<E;++m)h[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:h[this.arguments[m]];return h.cx=this.cx,h.cy=this.cy,this._undo=new s[w(this.method)](h,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(h){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(h),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(h){return this._undo=h,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(h,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(h,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof h=="object")for(m in h)this.style(m,h[m]);else if(s.regex.isCss.test(h))for(h=h.split(/\s*;\s*/).filter(function(E){return!!E}).map(function(E){return E.split(/\s*:\s*/)});m=h.pop();)this.style(m[0],m[1]);else return this.node.style[_(h)];else this.node.style[_(h)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(h){this.constructor.call(this,h)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(h){return s.adopt(h)})},add:function(h,m){return m==null?this.node.appendChild(h.node):h.node!=this.node.childNodes[m]&&this.node.insertBefore(h.node,this.node.childNodes[m]),this},put:function(h,m){return this.add(h,m),h},has:function(h){return this.index(h)>=0},index:function(h){return[].slice.call(this.node.childNodes).indexOf(h.node)},get:function(h){return s.adopt(this.node.childNodes[h])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(h,m){var E,N,q=this.children();for(E=0,N=q.length;E<N;E++)q[E]instanceof s.Element&&h.apply(q[E],[E,q]),m&&q[E]instanceof s.Container&&q[E].each(h,m);return this},removeElement:function(h){return this.node.removeChild(h.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(h,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(h=h||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(h,m-1):this.toParent(h)}),this.node.firstChild||this.remove(),this)},flatten:function(h,m){return this.ungroup(h,m)}}),s.Container=s.invent({create:function(h){this.constructor.call(this,h)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(h){var m=[0,0,0,0],E,N,q,K,fe,ae,Ae,Fe=1,Ve=1,Oe=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(h instanceof s.Element){for(ae=h,Ae=h,fe=(h.attr("viewBox")||"").match(Oe),h.bbox,q=new s.Number(h.width()),K=new s.Number(h.height());q.unit=="%";)Fe*=q.value,q=new s.Number(ae instanceof s.Doc?ae.parent().offsetWidth:ae.parent().width()),ae=ae.parent();for(;K.unit=="%";)Ve*=K.value,K=new s.Number(Ae instanceof s.Doc?Ae.parent().offsetHeight:Ae.parent().height()),Ae=Ae.parent();this.x=0,this.y=0,this.width=q*Fe,this.height=K*Ve,this.zoom=1,fe&&(E=parseFloat(fe[0]),N=parseFloat(fe[1]),q=parseFloat(fe[2]),K=parseFloat(fe[3]),this.zoom=this.width/this.height>q/K?this.height/K:this.width/q,this.x=E,this.y=N,this.width=q,this.height=K)}else h=typeof h=="string"?h.match(Oe).map(function(vt){return parseFloat(vt)}):Array.isArray(h)?h:typeof h=="object"?[h.x,h.y,h.width,h.height]:arguments.length==4?[].slice.call(arguments):m,this.x=h[0],this.y=h[1],this.width=h[2],this.height=h[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(h,m,E,N){return this.destination=new s.ViewBox(h,m,E,N),this},at:function(h){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*h,this.y+(this.destination.y-this.y)*h,this.width+(this.destination.width-this.width)*h,this.height+(this.destination.height-this.height)*h]):this}},parent:s.Container,construct:{viewbox:function(h,m,E,N){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(h,m,E,N))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(h){s.Element.prototype[h]=function(m){return m==null?s.off(this,h):s.on(this,h,m),this}}),s.listenerId=0,s.on=function(h,m,E,N,q){var K=E.bind(N||h),fe=h instanceof s.Element?h.node:h;fe.instance=fe.instance||{_events:{}};var ae=fe.instance._events;E._svgjsListenerId||(E._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(Ae){var Fe=Ae.split(".")[0],Ve=Ae.split(".")[1]||"*";ae[Fe]=ae[Fe]||{},ae[Fe][Ve]=ae[Fe][Ve]||{},ae[Fe][Ve][E._svgjsListenerId]=K,fe.addEventListener(Fe,K,q||!1)})},s.off=function(h,m,E,N){var q=h instanceof s.Element?h.node:h;if(q.instance&&!(typeof E=="function"&&(E=E._svgjsListenerId,!E))){var K=q.instance._events;(m||"").split(s.regex.delimiter).forEach(function(fe){var ae=fe&&fe.split(".")[0],Ae=fe&&fe.split(".")[1],Fe,Ve;if(E)K[ae]&&K[ae][Ae||"*"]&&(q.removeEventListener(ae,K[ae][Ae||"*"][E],N||!1),delete K[ae][Ae||"*"][E]);else if(ae&&Ae){if(K[ae]&&K[ae][Ae]){for(Ve in K[ae][Ae])s.off(q,[ae,Ae].join("."),Ve);delete K[ae][Ae]}}else if(Ae)for(fe in K)for(Fe in K[fe])Ae===Fe&&s.off(q,[fe,Ae].join("."));else if(ae){if(K[ae]){for(Fe in K[ae])s.off(q,[ae,Fe].join("."));delete K[ae]}}else{for(fe in K)s.off(q,fe);q.instance._events={}}})}},s.extend(s.Element,{on:function(h,m,E,N){return s.on(this,h,m,E,N),this},off:function(h,m){return s.off(this.node,h,m),this},fire:function(h,m){return h instanceof r.Event?this.node.dispatchEvent(h):this.node.dispatchEvent(h=new s.CustomEvent(h,{detail:m,cancelable:!0})),this._event=h,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(h){return h==null?this.transform("x"):this.transform({x:h-this.x()},!0)},y:function(h){return h==null?this.transform("y"):this.transform({y:h-this.y()},!0)},cx:function(h){return h==null?this.gbox().cx:this.x(h-this.gbox().width/2)},cy:function(h){return h==null?this.gbox().cy:this.y(h-this.gbox().height/2)},gbox:function(){var h=this.bbox(),m=this.transform();return h.x+=m.x,h.x2+=m.x,h.cx+=m.x,h.y+=m.y,h.y2+=m.y,h.cy+=m.y,h}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(h){h&&(h=typeof h=="string"?i.getElementById(h):h,h.nodeName=="svg"?this.constructor.call(this,h):(this.constructor.call(this,s.create("svg")),h.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var h;(h=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(h):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var h=this.node.getScreenCTM();return h&&this.style("left",-h.e%1+"px").style("top",-h.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(h){this.writeDataToDom();var m=this.node,E=k(m.cloneNode(!0));return h?(h.node||h).appendChild(E.node):m.parentNode.insertBefore(E.node,m.nextSibling),E}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var h=this.position()+1,m=this.parent();return m.removeElement(this).add(this,h),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var h=this.position();return h>0&&this.parent().removeElement(this).add(this,h-1),this},front:function(){var h=this.parent();return h.node.appendChild(this.node),h instanceof s.Doc&&h.node.appendChild(h.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(h){h.remove();var m=this.position();return this.parent().add(h,m),this},after:function(h){h.remove();var m=this.position();return this.parent().add(h,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(h){return this.masker=h instanceof s.Mask?h:this.parent().mask().add(h),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var h=this.targets.length-1;h>=0;h--)this.targets[h]&&this.targets[h].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(h){return this.clipper=h instanceof s.ClipPath?h:this.parent().clip().add(h),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(h){this.constructor.call(this,s.create(h+"Gradient")),this.type=h},inherit:s.Container,extend:{at:function(h,m,E){return this.put(new s.Stop).update(h,m,E)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(h,m,E){return h=="transform"&&(h="gradientTransform"),s.Container.prototype.attr.call(this,h,m,E)}},construct:{gradient:function(h,m){return this.defs().gradient(h,m)}}}),s.extend(s.Gradient,s.FX,{from:function(h,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(h),fy:new s.Number(m)}):this.attr({x1:new s.Number(h),y1:new s.Number(m)})},to:function(h,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(h),cy:new s.Number(m)}):this.attr({x2:new s.Number(h),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(h,m){return this.put(new s.Gradient(h)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(h){return(typeof h=="number"||h instanceof s.Number)&&(h={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),h.opacity!=null&&this.attr("stop-opacity",h.opacity),h.color!=null&&this.attr("stop-color",h.color),h.offset!=null&&this.attr("offset",new s.Number(h.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return this.fill()},attr:function(h,m,E){return h=="transform"&&(h="patternTransform"),s.Container.prototype.attr.call(this,h,m,E)}},construct:{pattern:function(h,m,E){return this.defs().pattern(h,m,E)}}}),s.extend(s.Defs,{pattern:function(h,m,E){return this.put(new s.Pattern).update(E).attr({x:0,y:0,width:h,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(h){this.constructor.call(this,h)},inherit:s.Element}),s.Bare=s.invent({create:function(h,m){if(this.constructor.call(this,s.create(h)),m)for(var E in m.prototype)typeof m.prototype[E]=="function"&&(this[E]=m.prototype[E])},inherit:s.Element,extend:{words:function(h){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(i.createTextNode(h)),this}}}),s.extend(s.Parent,{element:function(h,m){return this.put(new s.Bare(h,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(h,m){return this.attr("href",(m||"")+"#"+h,s.xlink)}},construct:{use:function(h,m){return this.put(new s.Use).element(h,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(h,m){return this.put(new s.Rect).size(h,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(h){return this.put(new s.Circle).rx(new s.Number(h).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(h){return this.attr("r",h)},ry:function(h){return this.rx(h)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(h,m){return this.put(new s.Ellipse).size(h,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(h){return this.attr("rx",h)},ry:function(h){return this.attr("ry",h)}}),s.extend(s.Circle,s.Ellipse,{x:function(h){return h==null?this.cx()-this.rx():this.cx(h+this.rx())},y:function(h){return h==null?this.cy()-this.ry():this.cy(h+this.ry())},cx:function(h){return h==null?this.attr("cx"):this.attr("cx",h)},cy:function(h){return h==null?this.attr("cy"):this.attr("cy",h)},width:function(h){return h==null?this.rx()*2:this.rx(new s.Number(h).divide(2))},height:function(h){return h==null?this.ry()*2:this.ry(new s.Number(h).divide(2))},size:function(h,m){var E=S(this,h,m);return this.rx(new s.Number(E.width).divide(2)).ry(new s.Number(E.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(h,m,E,N){return h==null?this.array():(typeof m<"u"?h={x1:h,y1:m,x2:E,y2:N}:h=new s.PointArray(h).toLine(),this.attr(h))},move:function(h,m){return this.attr(this.array().move(h,m).toLine())},size:function(h,m){var E=S(this,h,m);return this.attr(this.array().size(E.width,E.height).toLine())}},construct:{line:function(h,m,E,N){return s.Line.prototype.plot.apply(this.put(new s.Line),h!=null?[h,m,E,N]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(h){return this.put(new s.Polyline).plot(h||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(h){return this.put(new s.Polygon).plot(h||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(h){return h==null?this.array():this.clear().attr("points",typeof h=="string"?h:this._array=new s.PointArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("points",this.array().move(h,m))},size:function(h,m){var E=S(this,h,m);return this.attr("points",this.array().size(E.width,E.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},width:function(h){var m=this.bbox();return h==null?m.width:this.size(h,m.height)},height:function(h){var m=this.bbox();return h==null?m.height:this.size(m.width,h)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(h){return h==null?this.array():this.clear().attr("d",typeof h=="string"?h:this._array=new s.PathArray(h))},clear:function(){return delete this._array,this},move:function(h,m){return this.attr("d",this.array().move(h,m))},x:function(h){return h==null?this.bbox().x:this.move(h,this.bbox().y)},y:function(h){return h==null?this.bbox().y:this.move(this.bbox().x,h)},size:function(h,m){var E=S(this,h,m);return this.attr("d",this.array().size(E.width,E.height))},width:function(h){return h==null?this.bbox().width:this.size(h,this.bbox().height)},height:function(h){return h==null?this.bbox().height:this.size(this.bbox().width,h)}},construct:{path:function(h){return this.put(new s.Path).plot(h||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(h){if(!h)return this;var m=this,E=new r.Image;return s.on(E,"load",function(){s.off(E);var N=m.parent(s.Pattern);N!==null&&(m.width()==0&&m.height()==0&&m.size(E.width,E.height),N&&N.width()==0&&N.height()==0&&N.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:E.width,height:E.height,ratio:E.width/E.height,url:h}))}),s.on(E,"error",function(N){s.off(E),typeof m._error=="function"&&m._error.call(m,N)}),this.attr("href",E.src=this.src=h,s.xlink)},loaded:function(h){return this._loaded=h,this},error:function(h){return this._error=h,this}},construct:{image:function(h,m,E){return this.put(new s.Image).load(h).size(m||0,E||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(h){return h==null?this.attr("x"):this.attr("x",h)},y:function(h){var m=this.attr("y"),E=typeof m=="number"?m-this.bbox().y:0;return h==null?typeof m=="number"?m-E:m:this.attr("y",typeof h.valueOf()=="number"?h+E:h)},cx:function(h){return h==null?this.bbox().cx:this.x(h-this.bbox().width/2)},cy:function(h){return h==null?this.bbox().cy:this.y(h-this.bbox().height/2)},text:function(h){if(typeof h>"u"){for(var h="",m=this.node.childNodes,E=0,N=m.length;E<N;++E)E!=0&&m[E].nodeType!=3&&s.adopt(m[E]).dom.newLined==!0&&(h+=`
`),h+=m[E].textContent;return h}if(this.clear().build(!0),typeof h=="function")h.call(this,this);else{h=h.split(`
`);for(var E=0,q=h.length;E<q;E++)this.tspan(h[E]).newLine()}return this.build(!1).rebuild()},size:function(h){return this.attr("font-size",h).rebuild()},leading:function(h){return h==null?this.dom.leading:(this.dom.leading=new s.Number(h),this.rebuild())},lines:function(){var h=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(h.childNodes),function(E){return s.adopt(E)});return new s.Set(m)},rebuild:function(h){if(typeof h=="boolean"&&(this._rebuild=h),this._rebuild){var m=this,E=0,N=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?E+=N:(this.attr("dy",N+E),E=0))}),this.fire("rebuild")}return this},build:function(h){return this._build=!!h,this},setData:function(h){return this.dom=h,this.dom.leading=new s.Number(h.leading||1.3),this}},construct:{text:function(h){return this.put(new s.Text).text(h)},plain:function(h){return this.put(new s.Text).plain(h)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(h){return h==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof h=="function"?h.call(this,this):this.plain(h),this)},dx:function(h){return this.attr("dx",h)},dy:function(h){return this.attr("dy",h)},newLine:function(){var h=this.parent(s.Text);return this.dom.newLined=!0,this.dy(h.dom.leading*h.attr("font-size")).attr("x",h.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(h){return this._build===!1&&this.clear(),this.node.appendChild(i.createTextNode(h)),this},tspan:function(h){var m=(this.textPath&&this.textPath()||this).node,E=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(E.node),E.text(h)},clear:function(){for(var h=(this.textPath&&this.textPath()||this).node;h.hasChildNodes();)h.removeChild(h.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(h){for(var m=new s.TextPath,E=this.doc().defs().path(h);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+E,s.xlink),this},array:function(){var h=this.track();return h?h.array():null},plot:function(h){var m=this.track(),E=null;return m&&(E=m.plot(h)),h==null?E:this},track:function(){var h=this.textPath();if(h)return h.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(h){return this.attr("href",h,s.xlink)},show:function(h){return this.attr("show",h,s.xlink)},target:function(h){return this.attr("target",h)}},construct:{link:function(h){return this.put(new s.A).to(h)}}}),s.extend(s.Element,{linkTo:function(h){var m=new s.A;return typeof h=="function"?h.call(m,m):m.to(h),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(h){return this.attr("markerWidth",h)},height:function(h){return this.attr("markerHeight",h)},ref:function(h,m){return this.attr("refX",h).attr("refY",m)},update:function(h){return this.clear(),typeof h=="function"&&h.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(h,m,E){return this.defs().marker(h,m,E)}}}),s.extend(s.Defs,{marker:function(h,m,E){return this.put(new s.Marker).size(h,m).ref(h/2,m/2).viewbox(0,0,h,m).attr("orient","auto").update(E)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(h,m,E,N){var q=["marker"];return h!="all"&&q.push(h),q=q.join("-"),h=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,E,N),this.attr(q,h)}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(h,m){return m=="color"?h:h+"-"+m}};["fill","stroke"].forEach(function(h){var m,E={};E[h]=function(N){if(typeof N>"u")return this;if(typeof N=="string"||s.Color.isRgb(N)||N&&typeof N.fill=="function")this.attr(h,N);else for(m=f[h].length-1;m>=0;m--)N[f[h][m]]!=null&&this.attr(f.prefix(h,f[h][m]),N[f[h][m]]);return this},s.extend(s.Element,s.FX,E)}),s.extend(s.Element,s.FX,{rotate:function(h,m,E){return this.transform({rotation:h,cx:m,cy:E})},skew:function(h,m,E,N){return arguments.length==1||arguments.length==3?this.transform({skew:h,cx:m,cy:E}):this.transform({skewX:h,skewY:m,cx:E,cy:N})},scale:function(h,m,E,N){return arguments.length==1||arguments.length==3?this.transform({scale:h,cx:m,cy:E}):this.transform({scaleX:h,scaleY:m,cx:E,cy:N})},translate:function(h,m){return this.transform({x:h,y:m})},flip:function(h,m){return m=typeof h=="number"?h:m,this.transform({flip:h||"both",offset:m})},matrix:function(h){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):h))},opacity:function(h){return this.attr("opacity",h)},dx:function(h){return this.x(new s.Number(h).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(h){return this.y(new s.Number(h).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(h,m){return this.dx(h).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(h,m){var E=(this._target||this).type;return E=="radial"||E=="circle"?this.attr("r",new s.Number(h)):this.rx(h).ry(m??h)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(h){return this.node.getPointAtLength(h)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(h,m){if(typeof h=="object")for(m in h)this.font(m,h[m]);return h=="leading"?this.leading(m):h=="anchor"?this.attr("text-anchor",m):h=="size"||h=="family"||h=="weight"||h=="stretch"||h=="variant"||h=="style"?this.attr("font-"+h,m):this.attr(h,m)}}),s.Set=s.invent({create:function(h){h instanceof s.Set?this.members=h.members.slice():Array.isArray(h)?this.members=h:this.clear()},extend:{add:function(){var h,m,E=[].slice.call(arguments);for(h=0,m=E.length;h<m;h++)this.members.push(E[h]);return this},remove:function(h){var m=this.index(h);return m>-1&&this.members.splice(m,1),this},each:function(h){for(var m=0,E=this.members.length;m<E;m++)h.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(h){return this.index(h)>=0},index:function(h){return this.members.indexOf(h)},get:function(h){return this.members[h]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var h=this.members[0].rbox(this.members[0].doc());return this.each(function(){h=h.merge(this.rbox(this.doc()))}),h}},construct:{set:function(h){return new s.Set(h)}}}),s.FX.Set=s.invent({create:function(h){this.set=h}}),s.Set.inherit=function(){var h,m=[];for(var h in s.Shape.prototype)typeof s.Shape.prototype[h]=="function"&&typeof s.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(E){s.Set.prototype[E]=function(){for(var N=0,q=this.members.length;N<q;N++)this.members[N]&&typeof this.members[N][E]=="function"&&this.members[N][E].apply(this.members[N],arguments);return E=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var h in s.FX.prototype)typeof s.FX.prototype[h]=="function"&&typeof s.FX.Set.prototype[h]!="function"&&m.push(h);m.forEach(function(E){s.FX.Set.prototype[E]=function(){for(var N=0,q=this.set.members.length;N<q;N++)this.set.members[N].fx[E].apply(this.set.members[N].fx,arguments);return this}})},s.extend(s.Element,{data:function(h,m,E){if(typeof h=="object")for(m in h)this.data(m,h[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+h))}catch{return this.attr("data-"+h)}else this.attr("data-"+h,m===null?null:E===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(h,m){if(typeof arguments[0]=="object")for(var m in h)this.remember(m,h[m]);else{if(arguments.length==1)return this.memory()[h];this.memory()[h]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var h=arguments.length-1;h>=0;h--)delete this.memory()[arguments[h]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(h){var m=i.getElementById(V(h)||h);return s.adopt(m)},s.select=function(h,m){return new s.Set(s.utils.map((m||i).querySelectorAll(h),function(E){return s.adopt(E)}))},s.extend(s.Parent,{select:function(h){return s.select(h,this.node)}});function d(h,m,E,N){return E+N.replace(s.regex.dots," .")}function p(h){for(var m=h.slice(0),E=m.length;E--;)Array.isArray(m[E])&&(m[E]=p(m[E]));return m}function y(h,m){return h instanceof m}function g(h,m){return(h.matches||h.matchesSelector||h.msMatchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.oMatchesSelector).call(h,m)}function _(h){return h.toLowerCase().replace(/-(.)/g,function(m,E){return E.toUpperCase()})}function w(h){return h.charAt(0).toUpperCase()+h.slice(1)}function x(h){return h.length==4?["#",h.substring(1,2),h.substring(1,2),h.substring(2,3),h.substring(2,3),h.substring(3,4),h.substring(3,4)].join(""):h}function T(h){var m=h.toString(16);return m.length==1?"0"+m:m}function S(h,m,E){if(m==null||E==null){var N=h.bbox();m==null?m=N.width/N.height*E:E==null&&(E=N.height/N.width*m)}return{width:m,height:E}}function v(h,m,E){return{x:m*h.a+E*h.c+0,y:m*h.b+E*h.d+0}}function M(h){return{a:h[0],b:h[1],c:h[2],d:h[3],e:h[4],f:h[5]}}function O(h){return h instanceof s.Matrix||(h=new s.Matrix(h)),h}function P(h,m){h.cx=h.cx==null?m.bbox().cx:h.cx,h.cy=h.cy==null?m.bbox().cy:h.cy}function R(h){for(var m=0,E=h.length,N="";m<E;m++)N+=h[m][0],h[m][1]!=null&&(N+=h[m][1],h[m][2]!=null&&(N+=" ",N+=h[m][2],h[m][3]!=null&&(N+=" ",N+=h[m][3],N+=" ",N+=h[m][4],h[m][5]!=null&&(N+=" ",N+=h[m][5],N+=" ",N+=h[m][6],h[m][7]!=null&&(N+=" ",N+=h[m][7])))));return N+" "}function k(h){for(var m=h.childNodes.length-1;m>=0;m--)h.childNodes[m]instanceof r.SVGElement&&k(h.childNodes[m]);return s.adopt(h).id(s.eid(h.nodeName))}function G(h){return h.x==null&&(h.x=0,h.y=0,h.width=0,h.height=0),h.w=h.width,h.h=h.height,h.x2=h.x+h.width,h.y2=h.y+h.height,h.cx=h.x+h.width/2,h.cy=h.y+h.height/2,h}function V(h){var m=(h||"").toString().match(s.regex.reference);if(m)return m[1]}function U(h){return Math.abs(h)>1e-37?h:0}var Y="abcdef".split("");if(typeof r.CustomEvent!="function"){var se=function(h,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var E=i.createEvent("CustomEvent");return E.initCustomEvent(h,m.bubbles,m.cancelable,m.detail),E};se.prototype=r.Event.prototype,s.CustomEvent=se}else s.CustomEvent=r.CustomEvent;return function(h){for(var m=0,E=["moz","webkit"],N=0;N<E.length&&!r.requestAnimationFrame;++N)h.requestAnimationFrame=h[E[N]+"RequestAnimationFrame"],h.cancelAnimationFrame=h[E[N]+"CancelAnimationFrame"]||h[E[N]+"CancelRequestAnimationFrame"];h.requestAnimationFrame=h.requestAnimationFrame||function(q){var K=new Date().getTime(),fe=Math.max(0,16-(K-m)),ae=h.setTimeout(function(){q(K+fe)},fe);return m=K+fe,ae},h.cancelAnimationFrame=h.cancelAnimationFrame||h.clearTimeout}(r),s})}(Jy)),Jy.exports}var ape=ope();const Uu=Em(ape);class lpe extends Rr{constructor(t){super(t)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(t,r){return r.getGraphicIcon(t)}getGraphicSymbol(t,r){return r.getGraphicSymbol(t)}makeRenderer(t,r,i=!1){switch(t.type){case this.SIMPLE:return new rpe(t,r);case this.CLASS_BREAKS:return new npe(t,r,i);case this.UNIQUE_VALUE:return new ipe(t,r,i);default:throw new Error(`Unknown renderer type encountered - ${t.type}`)}}async generateWMSSymbology(t){const r=Uu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),i={svgcode:"",imgHeight:"",imgWidth:""};if(t){const n=await this.renderSymbologyImage(t);if(n){i.svgcode=n;const s=document.createElement("span");s.innerHTML=n;const o=s.firstElementChild?.lastElementChild;i.imgHeight=o?.getAttribute("height")||"",i.imgWidth=o?.getAttribute("width")||""}else i.svgcode=r.svg()}else i.svgcode=r.svg();return i}listToSymbology(t,r){return r.map(({text:n,image:s})=>{const o={name:n,image:s,svgcode:""};return t(s).then(a=>{o.svgcode=a}),o})}listToIconSymbology(t){return this.listToSymbology(this.renderSymbologyIcon,t)}listToImageSymbology(t){return this.listToSymbology(this.renderSymbologyImage,t)}async renderSymbologyImage(t,r=null){r===null&&(r=Uu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const i=await this.$iApi.geo.shared.convertImagetoDataURL(t);if(i===t)return"";const{loader:n}=await this.svgDrawImage(r,i);return r.viewbox(0,0,n.width,n.height),r.svg()}async renderSymbologyIcon(t,r=null){if(r===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),r=Uu(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const i=await this.$iApi.geo.shared.convertImagetoDataURL(t),{image:n}=await this.svgDrawImage(r,i);return n.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(n,this.CONTENT_IMAGE_SIZE),r.svg()}generatePlaceholderSymbology(t,r="#000"){const i=Uu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return i.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(r),i.text(t[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(t[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:t,svgcode:i.svg()}}async generateBlankSymbology(){return Uu(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(t){const r=this,i=1.33333,n=document.createElement("div");n.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(n);const s=Uu(n).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:_}){return s.path(_).size(g*i)},circle({size:g}){return s.circle(g*i)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*i)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*i)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*i)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*i)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*i)}},a={[qi.SOLID]:"none",[qi.NONE]:"none",[qi.DASH]:"5.333,4",[qi.DOT]:"1.333,4",[qi.DASHDOT]:"5.333,4,1.333,4",[qi.LONGDASH]:"10.666,4",[qi.LONGDASHDOT]:"10.666,4,1.333,4",[qi.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[qi.SHORTDOT]:"1.333,1.333",[qi.SHORTDASH]:"5.333,1.333",[qi.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[qi.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},f={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,_)=>s.pattern(5,5,x=>x.line(0,5/2,5,5/2)).stroke(_),vertical:(g,_)=>s.pattern(5,5,x=>x.line(5/2,0,5/2,5)).stroke(_),"forward-diagonal":(g,_)=>s.pattern(5,5,x=>{x.line(0,0,5,5).stroke(_),x.line(0,0,5,5).move(0,5).stroke(_),x.line(0,0,5,5).move(5,0).stroke(_)}),"backward-diagonal":(g,_)=>s.pattern(5,5,x=>{x.line(5,0,0,5).stroke(_),x.line(5,0,0,5).move(5/2,5/2).stroke(_),x.line(5,0,0,5).move(-5/2,-5/2).stroke(_)}),cross:(g,_)=>s.pattern(5,5,x=>{x.line(5/2,0,5/2,5).stroke(_),x.line(0,5/2,5,5/2).stroke(_)}),"diagonal-cross":(g,_)=>s.pattern(7,7,x=>{x.line(0,0,7,7).stroke(_),x.line(7,0,0,7).stroke(_)})},d={"simple-marker"(){const g=y(t.color);t.outline=t.outline||c;const _=y(t.outline.color),w=p({color:_.colour,opacity:_.opacity,width:t.outline.width,dasharray:a[t.outline.style]}),x=o[t.style](t).fill({color:g.colour,opacity:g.opacity}).stroke(w).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(t.angle||0);r.fitInto(x,r.CONTENT_SIZE)},"simple-line"(){const g=y(t.color),_=p({color:g.colour,opacity:g.opacity,width:t.width,linecap:"butt",dasharray:a[t.style]}),w=r.CONTENT_PADDING,x=r.CONTAINER_SIZE-r.CONTENT_PADDING;s.line(w,w,x,x).stroke(_)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(t.color),_=p({color:g.colour,opacity:g.opacity}),w=f[t.style](g,_);t.outline=t.outline||c;const x=y(t.outline.color),T=p({color:x.colour,opacity:x.opacity,width:t.outline.width,linecap:"butt",dasharray:a[t.outline.style]});s.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(w).stroke(T)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=t.imageData?`data:${t.contentType};base64,${t.imageData}`:t.url,_=t.width*t.xscale,w=t.height*t.yscale;t.outline=t.outline||c;const x=y(t.outline.color),T=p({color:x.colour,opacity:x.opacity,width:t.outline.width,dasharray:a[t.outline.style]});return r.$iApi.geo.shared.convertImagetoDataURL(g).then(v=>{const M=s.pattern(_,w,O=>O.image(v,_,w));s.rect(r.CONTENT_SIZE,r.CONTENT_SIZE).center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).fill(M).stroke(T)})},"picture-marker"(){const g=t.source,_=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:t.url;return r.$iApi.geo.shared.convertImagetoDataURL(_).then(x=>r.svgDrawImage(s,x)).then(({image:x})=>{x.center(r.CONTAINER_CENTER,r.CONTAINER_CENTER).rotate(t.angle||0),r.fitInto(x,r.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[t.type]()),document.body.removeChild(n),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function p(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(t,r,i=0,n=0,s=!0){return new Promise((o,a)=>{const l=t.image(r,i,n,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(t,r){const i=t.node.getBoundingClientRect(),n=r/Math.max(i.width,i.height);n<1&&t.scale(n)}rendererToLegend(t){let r;const i=t.symbolUnits.slice(0);if(t.defaultUnit&&i.push(t.defaultUnit),t.falseRenderer)r=i.map(n=>[n]);else{const n=new Map;i.forEach(s=>{const o=n.get(s.label);o?o.push(s):n.set(s.label,[s])}),r=[],n.forEach(s=>r.push(s))}return r.map(n=>{const s=n[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:n.length===1?s.definitionClause:`(${n.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,n.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(t){if(!t)throw new Error("Legend server request is missing the required url.");const r={query:{f:"json"}},i={layers:[]},[n,s]=await au(sr(`${t}/legend`,r));return s?s.data?s.data:(console.error(`Error loading legend data for ${t}`),i):(console.error(`Error loading legend for ${t}`,n),i)}async mapServerLegendToRenderer(t,r){const i=t.layers.find(s=>s.layerId===r);let n;if(typeof i<"u"){n={type:"uniqueValue",field:"fakefield",uniqueValueInfos:i.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await Gt.RendererFromJson(n);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(t){const r=t.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),i={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...r)},n=await Gt.RendererFromJson(i);return this.makeRenderer(n,[],!0)}async mapServerToLocalLegend(t,r=void 0){const i=await this.getMapServerLegend(t);let n,s;return typeof r>"u"?(s=0,n=await this.mapServerLegendToRendererAll(i)):(s=parseInt(r),n=await this.mapServerLegendToRenderer(i,s)),this.rendererToLegend(n)}}class cpe extends Rr{constructor(t){super(t)}async arcGisServerQueryIds(t){if(!(t.filterGeometry||t.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const r=await Gt.Query();r.returnGeometry=!1,t.filterSql&&(r.where=t.filterSql),t.filterGeometry&&(r.geometry=await this.queryGeometryHelper(t.filterGeometry,!1,this.$iApi.geo.map.getScale(),t.sourceSR),r.spatialRelationship="intersects");const i=await Gt.QueryByIds(t.url,r);return Array.isArray(i)?i:[]}async geoJsonQuery(t){const r=await Gt.Query();if(r.returnGeometry=!!t.includeGeometry,r.outFields=["*"],t.filterGeometry&&(r.geometry=await this.queryGeometryHelper(t.filterGeometry,!0),r.spatialRelationship="intersects"),t.filterSql&&(r.where=t.filterSql),t.filterOIDs&&(r.objectIds=t.filterOIDs),await t.layer.loadPromise(),!t.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await t.layer.esriLayer.queryFeatures(r)).features.map((n,s)=>{let o;return r.returnGeometry?o=this.$iApi.geo.geom.geomEsriToRamp(n.geometry,`queryResult${s}`):o=new Al,new Ss(o,"",n.attributes)})}async queryGeometryHelper(t,r,i,n){return!r&&t.type===Ze.EXTENT&&n&&!n.isEqual(t.sr)&&!(i&&i>2e7&&t.sr.wkid===3978&&n.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(n,t)).toESRI():t.toESRI()}makeClickBuffer(t,r=5){const i=this.$iApi.geo.map,n=i.getExtent(),s=r*(n.xmax-n.xmin)/i.getPixelWidth();return new ir("ze_buffer",[t.x-s,t.y-s],[t.x+s,t.y+s],t.sr)}}class upe extends Rr{attributes;geom;layer;map;proj;query;shared;symbology;constructor(t){super(t),this.geom=Lh.geom,this.proj=Lh.proj,this.shared=Lh.sharedUtils,this.map=new Cfe(t),this.layer=new cde(t),this.attributes=new Qde(t),this.query=new cpe(t),this.symbology=new lpe(t),Array.isArray($t.request.interceptors)||($t.request.interceptors=[]),$t.request.interceptors.push({before:r=>{r.url.includes("?blankTile=false")&&(r.url=r.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(t){$t.request.proxyUrl=t}get proxy(){return $t.request.proxyUrl||""}}const hpe=Object.assign({"../fixtures/appbar/index.ts":()=>Ee(()=>import("./index-CddhWN6T.js"),__vite__mapDeps([180,1,181]),import.meta.url),"../fixtures/areas-of-interest/index.ts":()=>Ee(()=>import("./index-woIlY1TS.js"),__vite__mapDeps([182,183,184,1]),import.meta.url),"../fixtures/basemap/index.ts":()=>Ee(()=>import("./index-C1iLrr0b.js"),__vite__mapDeps([185,1]),import.meta.url),"../fixtures/crosshairs/index.ts":()=>Ee(()=>import("./index-DrmrPCc6.js"),__vite__mapDeps([186,1,187]),import.meta.url),"../fixtures/details/index.ts":()=>Ee(()=>import("./index-DWIGztEi.js"),__vite__mapDeps([188,1,189]),import.meta.url),"../fixtures/export-footnote/index.ts":()=>Ee(()=>import("./index-NuiNDmqg.js"),__vite__mapDeps([190,191,1]),import.meta.url),"../fixtures/export-legend/index.ts":()=>Ee(()=>import("./index-DUC-1fW4.js"),__vite__mapDeps([192,191,1]),import.meta.url),"../fixtures/export-map/index.ts":()=>Ee(()=>import("./index-Mjt2lRqZ.js"),__vite__mapDeps([193,191,1]),import.meta.url),"../fixtures/export-northarrow/index.ts":()=>Ee(()=>import("./index-6ha60ep8.js"),__vite__mapDeps([194,191,1]),import.meta.url),"../fixtures/export-scalebar/index.ts":()=>Ee(()=>import("./index-BRGj-NUP.js"),__vite__mapDeps([195,191,1]),import.meta.url),"../fixtures/export-timestamp/index.ts":()=>Ee(()=>import("./index-e_81J69I.js"),__vite__mapDeps([196,191,1]),import.meta.url),"../fixtures/export-title/index.ts":()=>Ee(()=>import("./index-C5So1MuB.js"),__vite__mapDeps([197,191,1]),import.meta.url),"../fixtures/export/index.ts":()=>Ee(()=>import("./index-D9ZjzgMh.js"),__vite__mapDeps([198,1,199]),import.meta.url),"../fixtures/extentguard/index.ts":()=>Ee(()=>import("./index-DHbI5ZAc.js"),__vite__mapDeps([200,1]),import.meta.url),"../fixtures/gazebo/index.ts":()=>Ee(()=>import("./index-Dyssll8Z.js"),__vite__mapDeps([201,1]),import.meta.url),"../fixtures/geosearch/index.ts":()=>Ee(()=>import("./index-BKww22hE.js"),__vite__mapDeps([202,1]),import.meta.url),"../fixtures/grid/index.ts":()=>Ee(()=>import("./index-DF24xd4a.js"),__vite__mapDeps([203,1,204]),import.meta.url),"../fixtures/help/index.ts":()=>Ee(()=>import("./index-WipE1Yef.js"),__vite__mapDeps([205,1]),import.meta.url),"../fixtures/hilight/index.ts":()=>Ee(()=>import("./index-r7s9xK4A.js"),__vite__mapDeps([206,189,1]),import.meta.url),"../fixtures/layer-reorder/index.ts":()=>Ee(()=>import("./index-De-BfxNw.js"),__vite__mapDeps([207,1]),import.meta.url),"../fixtures/legend/index.ts":()=>Ee(()=>import("./index-DGOjTqKZ.js"),__vite__mapDeps([208,1]),import.meta.url),"../fixtures/mapnav/index.ts":()=>Ee(()=>import("./index-DYviopkt.js"),__vite__mapDeps([209,1,210]),import.meta.url),"../fixtures/metadata/index.ts":()=>Ee(()=>import("./index-CoUnvkRk.js"),__vite__mapDeps([211,1]),import.meta.url),"../fixtures/northarrow/index.ts":()=>Ee(()=>import("./index-BnMWjhGX.js"),__vite__mapDeps([212,1]),import.meta.url),"../fixtures/overviewmap/index.ts":()=>Ee(()=>import("./index-DSLf4acn.js"),__vite__mapDeps([213,1,214]),import.meta.url),"../fixtures/panguard/index.ts":()=>Ee(()=>import("./index-DsJGvMaD.js"),__vite__mapDeps([215,1,216]),import.meta.url),"../fixtures/scrollguard/index.ts":()=>Ee(()=>import("./index-BtryZwOz.js"),__vite__mapDeps([217,1,218]),import.meta.url),"../fixtures/settings/index.ts":()=>Ee(()=>import("./index-B0GR8qUg.js"),__vite__mapDeps([219,1]),import.meta.url),"../fixtures/snowman/index.ts":()=>Ee(()=>import("./index-Dyl0Wda3.js"),__vite__mapDeps([220,1]),import.meta.url),"../fixtures/wizard/index.ts":()=>Ee(()=>import("./index-bPITA2_u.js"),__vite__mapDeps([221,1]),import.meta.url)});class fpe extends Rr{constructor(t){super(t)}exists(t){return t in Dn(this.$vApp.$pinia).items}async add(t,r){let i;if(t in Dn(this.$vApp.$pinia).items)return this.get(t);if(r){if(typeof r!="function")throw new Error("malformed fixture constructor");i=wT.updateBaseToInstance(new r,t,this.$iApi)}else{const n=(await hpe[`../fixtures/${t}/index.ts`]()).default;i=new n(t,this.$iApi)}return Dn(this.$vApp.$pinia).addFixture(i),this.$iApi.event.emit(Ce.FIXTURE_ADDED,i),this.$iApi.geo.map.created&&i.initialized?.(),i}remove(t){const r=this.get(t);if(!r)throw new Error(`Could not find fixture ${t} for removal`);return Dn(this.$vApp.$pinia).removeFixture(r),this.$iApi.event.emit(Ce.FIXTURE_REMOVED,r),r}flush(){const t=Dn(this.$vApp.$pinia);Object.keys(t.items).forEach(i=>{const n=this.get(i);n?.persist&&typeof n?.removed=="function"?n.removed():n&&this.remove(i)})}restore(){const t=Dn(this.$vApp.$pinia);Object.keys(t.items).forEach(i=>{const n=t.items[i];typeof n.added=="function"&&n.added(),this.$iApi.geo.map.created&&typeof n.initialized=="function"&&n.initialized()})}get(t){const r=[];typeof t=="string"?r.push(t):Array.isArray(t)?r.push(...t):r.push(t.id);const i=r.map(n=>{const s=Dn(this.$vApp.$pinia).items[n];if(s)return s});return i.length===1?i[0]:i}isLoaded(t){const r=Dn(this.$vApp.$pinia),i=Array.isArray(t)?t:[t];i.forEach(s=>{r.loadPromises[s]===void 0&&r.addLoadPromise(s)});const n=r.getLoadPromises(i);return Array.isArray(t)?Promise.all(n):n[0]}addDefaultFixtures(t){(!Array.isArray(t)||t.length===0)&&(t=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const r=Qi(this.$vApp.$pinia);return r.startingFixtures=t,Promise.all(t.map(i=>this.add(i)))}}class wT extends Rr{static updateBaseToInstance(t,r,i){const n=new wT(r,i);return Object.defineProperties(t,{id:{value:r},$iApi:{value:i},persist:{value:t.persist??!0},$vApp:{get(){return n.$vApp}},remove:{value:n.remove},extend:{value:n.extend},config:{get(){return n.config}},mount:{value:n.mount}}),t}id;persist;constructor(t,r){super(r),this.id=t,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(t,r={}){const i=at({extends:t,iApi:this.$iApi,data(){return{...r}}}),n=Sl(i),{el:s}=this.mount(i,{props:{...r.propsData},app:n});return s}mount(t,{props:r,children:i,element:n,app:s}={}){let o=n,a=zn(t,r,i);return s&&s._context&&(a.appContext=s._context),o?Nh(a,o):Nh(a,o=document.createElement("div")),{vNode:a,destroy:()=>{o&&Nh(null,o),o=null,a=null},el:o}}get config(){return Qi(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(t){return this.getLayerFixtureConfigs()[t]}getLayerFixtureConfigs(){const t={},r=(i,n=void 0)=>{if(i.fixtures&&i.fixtures[this.id]!==void 0){let s=i.id;n!==void 0&&(s=`${n.id}-${i.index}`),t[s]=i.fixtures[this.id]}i.sublayers&&i.sublayers.forEach(s=>r(s,i))};return this.$iApi.geo.layer.allLayers().forEach(i=>r(i.config)),t}handlePanelWidths(t){if(this.config?.panelWidth){const r={};typeof this.config?.panelWidth=="number"&&(this.config.panelWidth={default:this.config?.panelWidth}),this.config.panelWidth.default&&t.forEach(i=>{r[i]=this.config.panelWidth.default});for(const i in this.config.panelWidth)i!="default"&&(r[i]=this.config.panelWidth[i]);for(const i in r){const n=this.$iApi.panel.get(i);this.$iApi.panel.setStyle(n,{"flex-basis":`${r[i]}px`})}}}handlePanelTeleports(t){if(this.config?.panelTeleport){const r=su(this.$vApp.$pinia),i=!!this.config.panelTeleport.target;t.forEach(n=>{r.items[n].teleport=i?this.config.panelTeleport:this.config.panelTeleport[n],r.items[n].style.width="100%"})}}}class dpe extends Rr{panelStore=su(this.$vApp.$pinia);updateHTML(t,r,i){const n=this.get(t),s=i?n.screens[i]:Object.values(n.screens)[0];if(CP(s))for(const o in r)s[o].innerHTML=r[o]instanceof HTMLElement?r[o].outerHTML:r[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(t){for(const i in t.content)if(typeof t.content[i]=="string"){const n=document.createElement("div");n.innerHTML=t.content[i],t.content[i]=n}const r={};return r[t.id]={screens:{},style:t.style??{width:"350px"},alertName:t.alertName},r[t.id].screens[t.id]=t.content,r}registerHTML(t){const r=this.get(t.id);if(r)return console.error("panel already exist"),r;const i=this.registerHTMLConfig(t);return this.register(i,t.options)}register(t,r){const i=ppe(t)?{[t.id]:t.config}:t;if(r){const s=r.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const n=Object.entries(i).reduce((s,[o,a])=>(s.push(new W0(this.$iApi,o,a)),s),[]);return n.forEach(s=>this.panelStore.registerPanel(s)),n.length===1?n[0]:n.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(t){const r=Array.isArray(t)?t:[t];r.forEach(n=>{this.panelStore.regPromises[n]===void 0&&this.panelStore.addRegPromise(n)});const i=this.panelStore.getRegPromises(r);return Array.isArray(t)?Promise.all(i):i[0]}remove(t){const r=this.get(t);r&&(r.isOpen&&this.close(r),this.panelStore.removePanel(r))}get(t){const r=typeof t=="string"?t:t.id;return this.panelStore.items[r]}open(t){let r,i,n;if(typeof t=="string"||t instanceof W0?r=this.get(t):(r=this.get(t.id),{screen:i,props:n}=t),!r)return r;if(r.isOpen&&!r.isVisible)r.minimize();else if(r.isOpen)return r;return i||(r.route&&!n?{screen:i,props:n}=r.route:i=Object.keys(r.screens).pop()),this.show(r,{screen:i,props:n})?(this.panelStore.openPanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ce.PANEL_OPENED,r)):console.error(`Failed to open ${r.id} panel.`),r}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(t){const r=this.get(t);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ce.PANEL_CLOSED,r),r)}minimize(t){const r=this.get(t);return r&&(r.isPinned&&r.pin(!1),this.panelStore.closePanel(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:r.alertName?this.$iApi.$i18n.t(r.alertName):r.id})),this.$iApi.event.emit(Ce.PANEL_MINIMIZED,r),r)}move(t,r){const i=this.get(t);return i&&(this.panelStore.movePanel(i,r),i)}toggle(t,r){let i;return typeof t=="string"||t instanceof W0?i=this.get(t):i=this.get(t.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible&&(r?this.open(t):this.close(i)),i)}toggleMinimize(t,r){let i;return typeof t=="string"||t instanceof W0?i=this.get(t):i=this.get(t.id),i&&(r=typeof r<"u"?r:!i.isVisible,r!==i.isVisible&&(r?this.open(i):this.minimize(i)),i)}pin(t,r){const i=this.get(t);return!i||(r=typeof r<"u"?r:!i.isPinned,!i.isPinned&&!r)||(this.panelStore.pinned=r?i:void 0),i}get pinned(){return this.panelStore.pinned||void 0}show(t,r){const i=this.get(t);if(!i)return i;if(i.screens[r.screen]){if(i.screens[r.screen]?.props){const n=Object.keys(i.screens[r.screen]?.props).filter(o=>o!=="panel"),s=r.props?Object.keys(r.props):[];for(let o=0;o<n.length;o++)if(!s.includes(n[o])&&i.screens[r.screen].props[n[o]].required)return}return r.screen in this.$element._context.components||i.registerScreen(r.screen),i.teleport&&(r.props={header:!!i.teleport?.showHeader,...r.props}),this.panelStore.items[i.id].route=r,i}}setStyle(t,r,i=!1){const n=this.get(t);return n&&(this.panelStore.items[n.id].style=i?r:{...n.style,...r},n)}expand(t,r){const i=this.get(t);return i&&(this.panelStore.items[i.id].expanded=r!==void 0?r:!i.expanded,i)}}function ppe(e){return e.id!==void 0&&typeof e.id=="string"&&e.config!==void 0}const mpe={};function ype(e,t){const r=wr("panel-screen");return pe(),Wt(r,{header:!1,class:"screen-spinner"},{content:Or(()=>t[0]||(t[0]=[ue("div",{class:"loader"},null,-1)])),_:1})}const gpe=ma(mpe,[["render",ype],["__scopeId","data-v-d6b3771a"]]),vpe=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>Ee(()=>import("./screen-CR9Jl0si.js"),__vite__mapDeps([222,183,184,1]),import.meta.url),"../fixtures/basemap/screen.vue":()=>Ee(()=>import("./screen-C5F72hwm.js"),__vite__mapDeps([223,1,224]),import.meta.url),"../fixtures/export/screen.vue":()=>Ee(()=>import("./screen-RNA7AQcx.js"),__vite__mapDeps([225,199,1]),import.meta.url),"../fixtures/geosearch/screen.vue":()=>Ee(()=>import("./screen-CbU9iEXy.js"),__vite__mapDeps([226,1,227]),import.meta.url),"../fixtures/grid/screen.vue":()=>Ee(()=>import("./screen-B1WUlGCA.js"),__vite__mapDeps([228,204,1,229]),import.meta.url),"../fixtures/help/screen.vue":()=>Ee(()=>import("./screen-nWBSDUbI.js"),__vite__mapDeps([230,231,1,232]),import.meta.url),"../fixtures/layer-reorder/screen.vue":()=>Ee(()=>import("./screen-BzefXOth.js"),__vite__mapDeps([233,234,1,235]),import.meta.url),"../fixtures/legend/screen.vue":()=>Ee(()=>import("./screen-BpYP0xAP.js"),__vite__mapDeps([236,1]),import.meta.url),"../fixtures/metadata/screen.vue":()=>Ee(()=>import("./screen-CrViXom_.js"),__vite__mapDeps([237,231,1,238]),import.meta.url),"../fixtures/settings/screen.vue":()=>Ee(()=>import("./screen-B2m7S5PO.js"),__vite__mapDeps([239,234,240,241,1,242]),import.meta.url),"../fixtures/wizard/screen.vue":()=>Ee(()=>import("./screen-D5rHmFku.js"),__vite__mapDeps([243,234,1,244]),import.meta.url)});class W0 extends Rr{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(t){return this.loadedScreens.indexOf(t)!==-1}registerScreen(t){const r=this.screens[t];let i;if(AX(r)||TX(r))i=r,this.loadedScreens.push(t);else if(CP(r))i={template:`<panel-screen :panel="this" :screenId="'${t}'">
                           </panel-screen>`};else{let n;typeof r=="string"?n=vpe[`../fixtures/${r}`]():n=r();const s=new Promise((o,a)=>{n.then(l=>{this.loadedScreens.push(t),o(MX(l)?l.default:l)}),n.catch(l=>a(l))});i=ME({loader:()=>s,loadingComponent:gpe,delay:200})}this.$iApi.$element.component(t,i)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(t,r,i){if(super(t),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:r,style:{},expanded:!1,controls:{expand:!1,...i.controls},...i},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(t){return typeof t>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof t=="string"?{screen:t}:t}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(t){return this.$iApi.panel.move(this,t),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const t of this.$iApi.panel.visible)if(!t.teleport)return this.id===t.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let t=this.$iApi.panel.visible.length-1;t>=0;t--)if(!this.$iApi.panel.visible[t].teleport)return this.id===this.$iApi.panel.visible[t].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(t){return typeof t>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof t=="boolean"?t!==this.isOpen&&this.$iApi.panel.toggle(this,t):this.$iApi.panel.toggle({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}toggleMinimize(t){return typeof t>"u"||typeof t=="boolean"?this.$iApi.panel.toggleMinimize(this,t):this.$iApi.panel.toggleMinimize({id:this.id,screen:t.screen,props:t.props},typeof t.toggle<"u"?t.toggle:!this.isOpen),this}pin(t){return t=typeof t<"u"?t:!this.isPinned,this.$iApi.panel.pin(this,t),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(t){const r=typeof t=="string"?{screen:t}:t;return this.route=r,this.$iApi.panel.show(this,r),this}setStyles(t,r=!1){return this.$iApi.panel.setStyle(this,t,r),this}expand(t){return this.$iApi.panel.expand(this,t),this}}function bpe(e){const t={};(Array.isArray(e)?e:[e]).forEach(o=>{o.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),o.language="en");const a=_pe(o);t[o.language]=a});const i=Object.entries(t).map(o=>{const a=o[1].fixturesEnabled;return delete o[1].fixturesEnabled,a});let n=!1;const s=i.reduce((o,a)=>o.filter(l=>{const c=a.includes(l);return n=n||!c,c}));return n&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),s.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:s,configs:t}}function _pe(e){const t={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return xpe(e.services,t),wpe(e.map,t),Epe(e.ui,t),e.plugins&&Tpe(e.plugins,t),t}function wpe(e,t){if(e.layers&&e.layers.forEach(r=>{t.layers.unshift(Spe(r))}),e.initialBasemapId&&(t.map.initialBasemapId=e.initialBasemapId),e.components){if(e.components.geoSearch&&(e.components.geoSearch.enabled&&t.fixturesEnabled.push("geosearch"),typeof e.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof e.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),e.components.overviewMap&&e.components.overviewMap.enabled&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.startMinimized=!e.components.overviewMap.initiallyExpanded,t.fixtures.overviewmap.expandFactor=e.components.overviewMap.expandFactor??1.5),e.components.northArrow&&e.components.northArrow.enabled){const r={};e.components.northArrow.arrowIcon&&(r.arrowIcon=e.components.northArrow.arrowIcon),e.components.northArrow.poleIcon&&(r.poleIcon=e.components.northArrow.poleIcon),r&&(t.fixtures.northarrow=r,t.fixturesEnabled.push("northarrow"))}if(e.components.scaleBar&&e.components.scaleBar.enabled){switch(t.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:e?.components?.scaleBar?.scalebarUnit==="english"||e?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},e.components?.mouseInfo?.spatialReference?.wkid){case 4326:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:t.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:t.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:t.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}e.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}e.components.basemap&&e.components.basemap.enabled&&t.fixturesEnabled.push("basemap")}e.extentSets&&(t.map.extentSets=[],e.extentSets.forEach(r=>{const i={id:r.id,default:{xmin:r.default.xmin,xmax:r.default.xmax,ymin:r.default.ymin,ymax:r.default.ymax,spatialReference:r.spatialReference}};r.full&&(i.full={xmin:r.full.xmin,xmax:r.full.xmax,ymin:r.full.ymin,ymax:r.full.ymax,spatialReference:r.spatialReference}),r.maximum&&(i.maximum={xmin:r.maximum.xmin,xmax:r.maximum.xmax,ymin:r.maximum.ymin,ymax:r.maximum.ymax,spatialReference:r.spatialReference}),t.map.extentSets.push(i)})),e.lodSets&&(t.map.lodSets=e.lodSets),e.tileSchemas&&(t.map.tileSchemas=[],e.tileSchemas.forEach(r=>{const i={id:r.id,name:r.name,extentSetId:r.extentSetId,lodSetId:r.lodSetId,thumbnailTileUrls:[],hasNorthPole:r.hasNorthPole||!1};r.overviewUrl&&(t.fixtures.overviewmap||(t.fixtures.overviewmap={basemaps:{}},t.fixturesEnabled.push("overviewmap")),t.fixtures.overviewmap.basemaps[r.id]={id:r.overviewUrl.id||`overviewmap-basemap-${r.id}`,tileSchemaId:r.id,layers:[{id:r.overviewUrl.id||`overviewmap-basemap-${r.id}-0`,layerType:r.overviewUrl.layerType==="esriDynamic"?ke.MAPIMAGE:ke.TILE,url:r.overviewUrl.url,opacity:r.overviewUrl.opacity??1}]}),t.map.tileSchemas.push(i)})),e.baseMaps&&(t.map.basemaps=[],e.baseMaps.forEach(r=>{const i={id:r.id,tileSchemaId:r.tileSchemaId,name:r.name,description:r.description,altText:r.altText,thumbnailUrl:r.thumbnailUrl,layers:[]};r.attribution&&(i.attribution={text:{},logo:{}},r.attribution.text&&(i.attribution.text.disabled=!r.attribution.text.enabled,i.attribution.text.value=r.attribution.text.value),r.attribution.logo&&(i.attribution.logo.disabled=!r.attribution.logo.enabled,i.attribution.logo.altText=r.attribution.logo.altText,i.attribution.logo.value=r.attribution.logo.value,i.attribution.logo.link=r.attribution.logo.link)),r.layers.forEach((n,s)=>{const o={id:n.id||`${r.id}-${s}`,layerType:n.layerType==="esriDynamic"?ke.MAPIMAGE:ke.TILE,url:n.url,opacity:n.opacity??1};i.layers.push(o)}),t.map.basemaps.push(i)})),e.legend&&(t.fixturesEnabled.push("legend"),e.legend.type==="autopopulate"?(t.fixtures.legend={root:{name:"I'm root",children:[]}},t.layers&&t.layers.toReversed().forEach(r=>{if(r.type==="esri-map-image"||r.type==="ogc-wms"){const i={name:r.name??`${r.id} Group`,children:[]};r.sublayers.forEach(n=>{const s={layerId:r.id};n.name&&(s.name=n.name),n.controls&&(s.controls=n.controls),n.disabledControls&&(s.disabledControls=n.disabledControls),r.type==="esri-map-image"?s.sublayerIndex=n.index:(s.sublayerId=n.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),i.children.push(s)}),t.fixtures.legend.root.children.push(i)}else{const i={layerId:r.id};r.controls&&(i.controls=r.controls),r.disabledControls&&(i.disabledControls=r.disabledControls),t.fixtures.legend.root.children.push(i)}})):t.fixtures.legend={root:NS(e.legend.root)})}function NS(e){const t={name:e.name,children:[]};typeof e.hidden<"u"&&(t.hidden=e.hidden),typeof e.expanded<"u"&&(t.expanded=e.expanded);const r=["identify","opacity","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=yf(e.controls,r),e.controls.includes("visibility")&&t.controls.push("visibilityButton"),(e.controls.length!==1||e.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),t.controls.push("expandButton")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=yf(e.disabledControls,r),e.disabledControls.includes("visibility")&&t.disabledControls.push("visibilityButton"),(e.disabledControls.length!==1||e.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),e.children.forEach(i=>{if(i.layerId)t.children.push(i$(i));else if(i.infoType)i.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`):(t.children.push({infoType:i.infoType,content:i.content}),typeof i.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`));else if(i.exclusiveVisibility){const n={name:"Visibility Set",children:[],exclusive:!0};typeof i.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${t.name} cannot be mapped and will be skipped.`),i.exclusiveVisibility.forEach(s=>{s.layerId?n.children.push(i$(s)):n.children.push(NS(s))}),t.children.push(n)}else t.children.push(NS(i))}),t}function i$(e){const t=e,r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.layerControls=yf(e.controls,r),t.layerControls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledLayerControls=yf(e.disabledControls,r)),e.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),delete t.controlledIds),e.entryIndex&&(t.sublayerIndex=e.entryIndex,delete e.entryIndex),e.entryId&&console.warn(`entryId property defined in legend entry ${e.layerId} cannot be mapped and will be skipped.`),t}function Spe(e){const t=y_(e);switch(t.id=e.id,t.url=e.url,e.refreshInterval&&(t.refreshInterval=e.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),e.expectedResponseTime&&(t.expectedLoadTime=e.expectedResponseTime),e.metadataUrl&&(t.metadata={url:e.metadataUrl}),e.catalogueUrl&&(t.catalogueUrl=e.catalogueUrl),typeof e.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.tooltipField&&(t.tooltipField=e.tooltipField),e.tolerance&&(t.mouseTolerance=e.tolerance,e.layerType==="esriDynamic"&&(t.touchTolerance=e.tolerance+10)),e.customRenderer&&(t.customRenderer=e.customRenderer),e.layerType){case"esriDynamic":t.layerType="esri-map-image",typeof e.singleEntryCollapse<"u"&&(t.singleEntryCollapse=e.singleEntryCollapse),e.imageFormat&&(t.imageFormat=e.imageFormat),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(r=>{const i=y_(r);i.index=r.index,t.sublayers.push(i)}));break;case"esriFeature":t.layerType="esri-feature",e.fileType&&(t.layerType=e.fileType==="shapefile"?"file-shape":`file-${e.fileType}`,e.colour&&(t.colour=e.colour),e.latField&&(t.latField=e.latField),e.longField&&(t.longField=e.longField));break;case"ogcWfs":t.layerType="ogc-wfs",e.colour&&(t.colour=e.colour),typeof e.xyInAttribs<"u"&&(t.xyInAttribs=e.xyInAttribs);break;case"ogcWms":t.layerType="ogc-wms",e.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.featureInfoMimeType&&(e.featureInfoMimeType==="text/html;fgpv=summary"?t.featureInfoMimeType="text/html":t.featureInfoMimeType=e.featureInfoMimeType),e.legendMimeType&&console.warn(`legendMimeType property provided in layer ${e.id} cannot be mapped and will be skipped.`),e.layerEntries&&(t.sublayers=[],e.layerEntries.forEach(r=>{const i=y_(r);i.id=r.id,r.currentStyle&&(i.currentStyle=r.currentStyle,console.warn(`currentStyle property provided in layer entry ${r.id} of layer ${e.id} is currently not supported.`)),r.allStyles&&console.warn(`allStyles property provided in layer entry ${r.id} of layer ${e.id} cannot be mapped and will be skipped.`),t.sublayers.push(i)}));break;case"esriImage":t.layerType="esri-imagery";break;case"esriTile":t.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${e.layerType}`)}return e.details&&console.warn(`Details config provided in layer ${e.id} cannot be mapped and will be skipped.`),t}function y_(e){const t={};e.name&&(t.name=e.name),e.nameField&&(t.nameField=e.nameField),e.extent&&(t.extent=e.extent);const r=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return e.controls&&e.controls.length>0&&(t.controls=yf(e.controls,r),t.controls.push("symbology")),e.disabledControls&&e.disabledControls.length>0&&(t.disabledControls=yf(e.disabledControls,r)),e.state&&(t.state={opacity:e.state.opacity??1,visibility:e.state.visibility??!0,identify:e.state.query??!0,hovertips:e.state.hovertips??!0},typeof e.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${e.id} cannot be mapped and will be skipped.`)),typeof e.stateOnly<"u"&&(t.cosmetic=e.stateOnly),e.initialFilteredQuery&&(t.initialFilteredQuery=e.initialFilteredQuery),Ape(e,t),(typeof e.toggleSymbology<"u"||e.table)&&(t.fixtures={},typeof e.toggleSymbology<"u"&&(t.fixtures.legend={toggleSymbology:e.toggleSymbology}),e.table&&(t.fixtures.grid={},e.table.title&&(t.fixtures.grid.title=e.table.title),e.table.description&&console.warn(`description property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.search&&(e.table.search.enabled&&(t.fixtures.grid.search=e.table.search.enabled),e.table.search.value&&(t.fixtures.grid.searchFilter=e.table.search.value)),typeof e.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.applyMap<"u"&&(t.fixtures.grid.applyMap=e.table.applyMap),typeof e.table.showFilter<"u"&&(t.fixtures.grid.showFilter=e.table.showFilter),typeof e.table.filterByExtent<"u"&&(t.fixtures.grid.filterByExtent=e.table.filterByExtent),typeof e.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof e.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${e.id} cannot be mapped and will be skipped.`),e.table.columns&&(t.fixtures.grid.columns=[],e.table.columns.forEach(i=>{const n={field:i.data};i.title&&(n.title=i.title),i.description&&console.warn(`description property provided in column property in table property in layer ${e.id} cannot be mapped and will be skipped.`),typeof i.visible<"u"&&(n.visible=i.visible),i.width&&(n.width=i.width),i.sort&&(n.sort=i.sort),typeof i.searchable<"u"&&(n.searchable=i.searchable),i.filter&&(n.filter=i.filter),t.fixtures.grid.columns.push(n)})))),t}function yf(e,t){const r=[];return e.forEach(i=>{t.includes("identify")&&i==="query"?r.push("identify"):t.includes("datatable")&&i==="data"?r.push("datatable"):t.includes(i)?r.push(i):console.warn(`Ignored invalid control: ${i}`)}),r}function xpe(e,t){if(!e)return;e.search&&(t.fixtures.geosearch={},t.fixtures.geosearch.serviceUrls={geoNames:e.search.serviceUrls.geoNames,geoLocation:e.search.serviceUrls.geoLocation,geoProvince:e.search.serviceUrls.provinces,geoTypes:e.search.serviceUrls.types},e.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),e.search.settings&&(t.fixtures.geosearch.settings=e.search.settings),e.search.disabledSearches&&(t.fixtures.geosearch.settings.disabledSearchTypes=e.search.disabledSearches.filter(i=>i!=="SCALE"))),e.export&&(t.fixtures.export||(t.fixtures.export={},t.fixturesEnabled.push("export")),e.export.title&&(t.fixtures.export.title={selected:e.export.title.isSelected??!0,selectable:e.export.title.isSelectable??!0,value:e.export.title.value??"RAMP-Map / PCAR-Carte"}),e.export.map&&(t.fixtures.export.map={selected:e.export.map.isSelected??!0,selectable:e.export.map.isSelectable??!0},e.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),e.export.mapElements&&(t.fixtures.export.mapElements={selected:e.export.mapElements.isSelected??!0,selectable:e.export.mapElements.isSelectable??!0},e.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),e.export.legend&&(t.fixtures.export.legend={selected:e.export.legend.isSelected??!0,selectable:e.export.legend.isSelectable??!0},e.export.legend.columnWidth&&(t.fixtures.export.legend.columnWidth=e.export.legend.columnWidth),e.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof e.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),e.export.footnote&&(t.fixtures.export.footnote={selected:e.export.footnote.isSelected??!0,selectable:e.export.footnote.isSelectable??!0,value:e.export.footnote.value??""}),e.export.timestamp&&(t.fixtures.export.timestamp={selected:e.export.timestamp.isSelected??!0,selectable:e.export.timestamp.isSelectable??!0},e.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),e.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof e.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),e.proxyUrl&&(t.system.proxyUrl=e.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(i=>{typeof e[i]<"u"&&console.warn(`${i} property provided in services config cannot be mapped and will be skipped.`)})}function Epe(e,t){if(e.navBar){t.fixtures.mapnav={zoomOption:e.navBar.zoom||"buttons",items:[]};const n=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];e.navBar.extra.forEach(s=>{const o=s.toLowerCase();n.includes(o)?t.fixtures.mapnav.items.push(o):console.warn(`Ignored invalid mapnav item: ${s}`)}),t.fixturesEnabled.push("mapnav")}if(e.help&&(t.fixtures.help={location:e.help.folderName&&e.help.folderName!=="default"?`./${e.help.folderName}`:"./help",panelWidth:350},t.fixturesEnabled.push("help")),e.legend){const n=["groupToggle","visibilityToggle"];e.legend.reorderable&&n.push("layerReorder"),e.legend.allowImport&&n.push("wizard"),t.fixtures.legend?t.fixtures.legend.headerControls=n:(t.fixturesEnabled.push("legend"),t.fixtures.legend={headerControls:n,root:{}}),e.legend.isOpen&&e.legend.isOpen.large&&t.panels.open.push({id:"legend"})}t.fixtures.appbar={items:[]},t.fixturesEnabled.push("appbar");const r=["layers","basemap","export","help","geoSearch"];e.appBar?(e.appBar.layers!==!1&&(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")),e.appBar.geoSearch!==!1&&t.fixturesEnabled.includes("geosearch")&&t.fixtures.appbar.items.push("geosearch"),e.appBar.basemap!==!1&&t.fixtures.appbar.items.push("basemap")):(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend"),t.fixtures.appbar.items.push("geosearch"),t.fixtures.appbar.items.push("basemap")),e.sideMenu&&e.sideMenu.items&&e.sideMenu.items.length>0&&e.sideMenu.items.forEach(n=>{n.forEach(s=>{s==="layers"&&!t.fixtures.appbar.items.includes("legend")?(t.fixtures.appbar.items.push("legend"),t.fixturesEnabled.includes("legend")||t.fixturesEnabled.push("legend")):s!=="layers"&&r.includes(s)&&!t.fixtures.appbar.items.includes(s.toLowerCase())&&(t.fixtures.appbar.items.push(s.toLowerCase()),(s.toLowerCase()==="help"||s.toLowerCase()==="export"&&!t.fixturesEnabled.includes(s.toLowerCase()))&&t.fixturesEnabled.push(s.toLowerCase()))})}),e.tableIsOpen&&e.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(n=>{typeof e[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)})}function Tpe(e,t){e.areasOfInterest.enable&&(t.fixturesEnabled.includes("areas-of-interest")||t.fixturesEnabled.push("areas-of-interest"),e.areasOfInterest.areas&&(t.fixtures["areas-of-interest"]={areas:e.areasOfInterest.areas.map(r=>({title:`${r["title-en-CA"]} / ${r["title-fr-CA"]}`,thumbnail:r.thumbnailUrl,altText:r.altText??"",description:r.description??"",extent:{xmin:r.xmin,xmax:r.xmax,ymin:r.ymin,ymax:r.ymax,spatialReference:{wkid:r.wkid}}}))}))}function Ape(e,t){const r=e.outfields&&e.outfields!=="*";if(!r&&!e.fieldMetadata)return;const i={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};e.fieldMetadata?(i.fieldInfo=e.fieldMetadata.map(n=>{const s={name:n.data};return n.alias&&(s.alias=n.alias),s}),r&&(e.outfields.split(",").map(s=>s.trim()).forEach(s=>{i.fieldInfo.findIndex(o=>o.name===s)===-1&&i.fieldInfo.push({name:s})}),i.exclusiveFields=!0)):r&&(i.fieldInfo=e.outfields.split(",").map(n=>({name:n.trim()})),i.exclusiveFields=!0),t.fieldMetadata=i}var eh={major:"4",minor:"11",patch:"0-beta",timestamp:"Fri Jan 3 08:16:10 2025 -0500",hash:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb"};console.info(`RAMP v${eh.major}.${eh.minor}.${eh.patch} [${eh.hash.slice(0,9)}] (Built on ${new Date(eh.timestamp.toString()).toLocaleString()})`);const td=eh;function pve(e){return bpe(e)}const mve=(e,t,r)=>new Afe(e,t,r),Lh=new EX;export{Hj as $,tt as A,fp as B,oe as C,or as D,Q0 as E,wT as F,mp as G,hm as H,ua as I,dC as J,$t as K,H1e as L,Xt as M,ll as N,F6 as O,Di as P,BU as Q,_0e as R,Vme as S,S0e as T,sr as U,qt as V,y0e as W,gs as X,Wj as Y,E0e as Z,T1e as _,eE as a,he as a$,$p as a0,ix as a1,id as a2,lu as a3,q0e as a4,Es as a5,AH as a6,nve as a7,As as a8,gm as a9,i0e as aA,aH as aB,Lx as aC,um as aD,wt as aE,ei as aF,nH as aG,O4 as aH,sH as aI,Ir as aJ,mC as aK,vf as aL,zc as aM,UF as aN,kh as aO,bn as aP,pC as aQ,$1 as aR,aV as aS,Je as aT,mD as aU,bp as aV,$U as aW,gf as aX,Dde as aY,Qye as aZ,ha as a_,N5 as aa,px as ab,P5 as ac,C5 as ad,x4 as ae,a1e as af,pye as ag,bF as ah,pge as ai,mq as aj,vge as ak,bge as al,hge as am,xp as an,Tx as ao,_i as ap,xD as aq,gge as ar,k_ as as,Zye as at,_z as au,Ue as av,_n as aw,ao as ax,ime as ay,sa as az,sv as b,pH as b$,Ox as b0,Xx as b1,mx as b2,ym as b3,Vq as b4,i6 as b5,lge as b6,Ege as b7,Iq as b8,Ap as b9,fm as bA,pm as bB,H9 as bC,q1 as bD,pve as bE,T0e as bF,w0e as bG,z1e as bH,yo as bI,Gn as bJ,z1 as bK,Cj as bL,ta as bM,KO as bN,WN as bO,mge as bP,yge as bQ,Fye as bR,jye as bS,Bye as bT,Vye as bU,Gye as bV,wm as bW,sV as bX,uD as bY,o1e as bZ,mm as b_,Tp as ba,rge as bb,cge as bc,go as bd,Dge as be,yl as bf,W0e as bg,Wc as bh,Jpe as bi,lD as bj,z9 as bk,ht as bl,sC as bm,st as bn,hve as bo,Ode as bp,ax as bq,Dye as br,zr as bs,J9 as bt,Nde as bu,dV as bv,cve as bw,Rme as bx,Lr as by,vp as bz,Bd as c,Bme as c$,mH as c0,yH as c1,Eye as c2,cC as c3,v_ as c4,u$ as c5,$pe as c6,_$ as c7,w$ as c8,Pj as c9,Zt as cA,j_ as cB,B_ as cC,mg as cD,kx as cE,bme as cF,HU as cG,Rh as cH,ox as cI,_me as cJ,$ye as cK,kpe as cL,vg as cM,pD as cN,Sme as cO,N$ as cP,cu as cQ,bh as cR,$5 as cS,lx as cT,Hc as cU,q0 as cV,Aye as cW,B9 as cX,IG as cY,Ic as cZ,Cpe as c_,KC as ca,ZC as cb,L0e as cc,G1 as cd,V1 as ce,pp as cf,YC as cg,fge as ch,M1e as ci,yg as cj,gq as ck,Sge as cl,yq as cm,wge as cn,HC as co,Fpe as cp,O$ as cq,y$ as cr,v$ as cs,b$ as ct,qpe as cu,cb as cv,s5 as cw,Af as cx,wf as cy,G_ as cz,mve as d,Nt as d$,age as d0,$1e as d1,q2 as d2,Iye as d3,Xge as d4,l1e as d5,LW as d6,kW as d7,C1 as d8,zpe as d9,Cp as dA,vs as dB,OW as dC,nx as dD,$W as dE,v0e as dF,f1e as dG,I_ as dH,$f as dI,vye as dJ,Tye as dK,yye as dL,MA as dM,fme as dN,Gme as dO,pme as dP,dme as dQ,eo as dR,jS as dS,c0e as dT,l0e as dU,at as dV,lr as dW,su as dX,ife as dY,it as dZ,wr as d_,W1e as da,J1e as db,Y1e as dc,_ge as dd,bde as de,q9 as df,r1e as dg,u1e as dh,m0e as di,I0e as dj,J0e as dk,Ume as dl,YS as dm,IC as dn,h6 as dp,Ti as dq,$s as dr,Of as ds,bo as dt,yu as du,Lpe as dv,V$ as dw,R1 as dx,Vx as dy,iv as dz,E1e as e,Q9 as e$,Ct as e0,pe as e1,Wt as e2,Or as e3,ue as e4,xe as e5,Pl as e6,vr as e7,zt as e8,Ne as e9,N1e as eA,pn as eB,x1e as eC,rW as eD,vh as eE,XU as eF,El as eG,th as eH,B1 as eI,iy as eJ,Oye as eK,dm as eL,Upe as eM,rye as eN,N0e as eO,Oj as eP,$j as eQ,Dpe as eR,H0e as eS,Ij as eT,Ppe as eU,oye as eV,GC as eW,Zpe as eX,Sde as eY,jde as eZ,lve as e_,Lt as ea,Hr as eb,ne as ec,Fg as ed,n1 as ee,Lm as ef,ti as eg,ai as eh,Ns as ei,ho as ej,Kt as ek,nfe as el,Ce as em,ir as en,Xe as eo,ME as ep,oV as eq,xs as er,Dme as es,fV as et,dge as eu,J$ as ev,D1e as ew,A1e as ex,Jye as ey,ume as ez,VW as f,ey as f$,Ep as f0,kme as f1,m_ as f2,GS as f3,iC as f4,nj as f5,ex as f6,mye as f7,WS as f8,hC as f9,wU as fA,EU as fB,Vc as fC,Xpe as fD,HF as fE,Bc as fF,Xc as fG,Eme as fH,U1 as fI,gp as fJ,Rpe as fK,Dj as fL,P0e as fM,Fh as fN,tS as fO,wfe as fP,ar as fQ,F1e as fR,j1e as fS,rve as fT,C4 as fU,K1e as fV,Rde as fW,US as fX,fve as fY,d0 as fZ,Em as f_,Wq as fa,A0e as fb,cD as fc,jF as fd,iW as fe,nW as ff,sW as fg,Qq as fh,Xye as fi,C1e as fj,O1e as fk,nme as fl,nV as fm,rfe as fn,Mr as fo,i1 as fp,_fe as fq,LC as fr,L6 as fs,_f as ft,rme as fu,Hye as fv,kye as fw,S$ as fx,Mme as fy,yU as fz,Lh as g,Qge as g$,tW as g0,Rj as g1,Xq as g2,bfe as g3,Mv as g4,ma as g5,ave as g6,K_ as g7,U0e as g8,j0e as g9,Jr as gA,Po as gB,Ss as gC,ol as gD,Ol as gE,Rr as gF,Hv as gG,Ag as gH,Tfe as gI,_E as gJ,ds as gK,Tv as gL,aL as gM,FW as gN,Zx as gO,Hq as gP,a$ as gQ,Ope as gR,tD as gS,Ipe as gT,rD as gU,wye as gV,xye as gW,aC as gX,c5 as gY,vG as gZ,Dx as g_,G0e as ga,V0e as gb,B0e as gc,z0e as gd,hme as ge,ome as gf,OC as gg,nP as gh,iP as gi,rP as gj,L1 as gk,OA as gl,xme as gm,rR as gn,mf as go,Um as gp,o3 as gq,yfe as gr,gfe as gs,BO as gt,Va as gu,j9 as gv,gT as gw,ke as gx,Sfe as gy,Qi as gz,ge as h,QF as h$,Zge as h0,zme as h1,qme as h2,R0e as h3,Tj as h4,$0e as h5,xj as h6,Av as h7,Wp as h8,gt as h9,eve as hA,X1e as hB,eme as hC,tme as hD,Qpe as hE,qU as hF,Ife as hG,xfe as hH,Gt as hI,Np as hJ,mT as hK,yi as hL,Be as hM,Yq as hN,R1e as hO,zn as hP,hD as hQ,s1e as hR,Ac as hS,RE as hT,I5 as hU,hye as hV,F1 as hW,I6 as hX,vC as hY,Qme as hZ,Xme as h_,lC as ha,aA as hb,kS as hc,RS as hd,C as he,k0e as hf,g0e as hg,OU as hh,j1 as hi,M0e as hj,ude as hk,Yde as hl,hde as hm,Efe as hn,d5 as ho,Y0 as hp,hr as hq,mG as hr,SG as hs,l5 as ht,iye as hu,PG as hv,NG as hw,lye as hx,Sye as hy,Q1e as hz,fw as i,fi as i$,XF as i0,Kpe as i1,dD as i2,bye as i3,kq as i4,ege as i5,Fme as i6,Gc as i7,Uye as i8,ame as i9,Kye as iA,hu as iB,AD as iC,X1 as iD,sj as iE,dA as iF,m6 as iG,vme as iH,C0e as iI,af as iJ,Cs as iK,hae as iL,po as iM,kf as iN,kr as iO,Wae as iP,ehe as iQ,Ze as iR,Yge as iS,Hge as iT,mW as iU,Kge as iV,Jge as iW,vW as iX,gF as iY,jE as iZ,LE as i_,g$ as ia,p0e as ib,JC as ic,hA as id,P6 as ie,O0e as ig,jpe as ih,Li as ii,br as ij,qe as ik,ro as il,$S as im,U9 as io,E8 as ip,vfe as iq,au as ir,rr as is,Npe as it,Nge as iu,b0e as iv,fC as iw,yr as ix,ZF as iy,Ba as iz,Ax as j,aye as j$,P1e as j0,L1e as j1,k1e as j2,Uge as j3,iD as j4,dve as j5,oa as j6,Vz as j7,Kme as j8,KS as j9,vn as jA,Tr as jB,c6 as jC,Zme as jD,lA as jE,Tq as jF,X0e as jG,Q0e as jH,eye as jI,ID as jJ,Jme as jK,x0e as jL,Mde as jM,ove as jN,XC as jO,LT as jP,zye as jQ,Bpe as jR,Oq as jS,Mq as jT,Mp as jU,Op as jV,sme as jW,Nx as jX,Dq as jY,Fq as jZ,TG as j_,gl as ja,HS as jb,Rye as jc,nye as jd,tve as je,U1e as jf,bD as jg,mu as jh,G1e as ji,Cf as jj,X_ as jk,kd as jl,uve as jm,uge as jn,ige as jo,sge as jp,nge as jq,oge as jr,xge as js,DT as jt,tge as ju,Nh as jv,n3 as jw,Oc as jx,W0 as jy,Wo as jz,Os as k,Mye as k0,BG as k1,fye as k2,MG as k3,dye as k4,h1e as k5,rv as k6,gye as k7,lj as k8,i1e as k9,RF as kA,X2 as kB,sve as kC,oG as kD,sye as kE,hG as kF,jG as kG,GG as kH,QT as kI,Ype as kJ,jge as kK,Vpe as kL,oD as kM,Gpe as kN,t1e as kO,e1e as kP,_ye as kQ,c1e as kR,n1e as ka,W_ as kb,Wye as kc,n5 as kd,Yj as ke,cye as kf,$G as kg,Y0e as kh,Z0e as ki,qj as kj,D0e as kk,F0e as kl,YF as km,Fge as kn,o5 as ko,K0e as kp,uye as kq,Z1e as kr,Gge as ks,NF as kt,s0e as ku,o0e as kv,jme as kw,V1e as kx,B1e as ky,e0e as kz,qye as l,lP as m,kt as n,Hpe as o,Sm as p,b as q,I$ as r,ct as s,FS as t,A as u,jt as v,q1e as w,$4 as x,oF as y,Sr as z};
