var Bs=(t=>(t.BLOB="blob",t.DATE="date",t.DOUBLE="double",t.GEOMETRY="geometry",t.GLOBAL_ID="global-id",t.GUID="guid",t.INTEGER="integer",t.LONG="long",t.OID="oid",t.RASTER="raster",t.SINGLE="single",t.SMALL_INTEGER="small-integer",t.STRING="string",t.XML="xml",t))(Bs||{}),zs=(t=>(t.CIRCLE="circle",t.CROSS="cross",t.DIAMOND="diamond",t.ICON="icon",t.PATH="path",t.SQUARE="square",t.TRIANGLE="triangle",t.X="x",t))(zs||{}),$r=(t=>(t.DASH="dash",t.DASHDOT="dash-dot",t.DASHDOTDOT="short-dash-dot-dot",t.DOT="dot",t.LONGDASH="long-dash",t.LONGDASHDOT="long-dash-dot",t.LONGDASHDOTDOT="long-dash-dot-dot",t.NONE="none",t.NULL="none",t.SHORTDASH="short-dash",t.SHORTDASHDOT="short-dash-dot",t.SHORTDASHDOTDOT="short-dash-dot-dot",t.SHORTDOT="short-dot",t.SOLID="solid",t))($r||{}),dA=(t=>(t.BEVEL="bevel",t.MITER="miter",t.ROUND="round",t))(dA||{}),fA=(t=>(t.ROUND="round",t.BUTT="butt",t.SQUARE="square",t))(fA||{}),mA=(t=>(t.BDIAG="backward-diagonal",t.CROSS="cross",t.DIAG_CROSS="diagonal-cross",t.FDIAG="forward-diagonal",t.HORIZONTAL="horizontal",t.NONE="none",t.NULL="none",t.SOLID="solid",t.VERTICAL="vertical",t))(mA||{}),Xt=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t.LINEARRING="LinearRing",t.EXTENT="Extent",t.NONE="None",t.UNKNOWN="Unknown",t))(Xt||{}),N0=(t=>(t.Simple="simple",t.Unique="uniqueValue",t.ClassBreaks="classBreaks",t.Unknown="unknown",t))(N0||{}),Ct=(t=>(t.FEATURE="esri-feature",t.MAPIMAGE="esri-map-image",t.TILE="esri-tile",t.IMAGERY="esri-imagery",t.GRAPHIC="esri-graphic",t.WMS="ogc-wms",t.WFS="ogc-wfs",t.GEOJSON="file-geojson",t.GEOJSONZIPPED="file-zip-geojson",t.CSV="file-csv",t.SHAPEFILE="file-shape",t.FLATGEOBUF="file-fgb",t.FLATGEOBUFZIPPED="file-zip-fgb",t.OSM="osm-tile",t.DATACSV="data-csv",t.DATAJSON="data-json",t.DATATABLE="data-esri-table",t.UNKNOWN="unknown",t.SUBLAYER="sublayer",t))(Ct||{}),pi=(t=>(t.FEATURE="feature",t.GRAPHIC="graphic",t.IMAGERY="imagery",t.MAPIMAGE="map-image",t.NOLAYER="no-layer",t.OSM="osm-tile",t.TILE="tile",t.UNKNOWN="unknown",t.WMS="wms",t))(pi||{}),$n=(t=>(t.ESRI_FEATURE="esriFeature",t.ESRI_RASTER="esriRaster",t.ESRI_TILE="esriTile",t.OSM_TILE="osmTile",t.OGC_RASTER="ogcRaster",t.UNKNOWN="unknown",t))($n||{}),fn=(t=>(t.POINT="Point",t.MULTIPOINT="MultiPoint",t.LINESTRING="LineString",t.MULTILINESTRING="MultiLineString",t.POLYGON="Polygon",t.MULTIPOLYGON="MultiPolygon",t))(fn||{}),Vn=(t=>(t.GEOMETRIC="geometric",t.SYMBOLIC="symbolic",t.HYBRID="hybrid",t.NONE="none",t))(Vn||{}),Je=(t=>(t.NEW="new",t.INITIATING="initiating",t.INITIATED="initiated",t.TERMINATING="terminating",t.TERMINATED="terminated",t))(Je||{}),ln=(t=>(t.NEW="new",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(ln||{}),Vr=(t=>(t.NOT_LOADED="not-loaded",t.NOT_VISUAL="not-visual",t.REFRESH="refresh",t.UP_TO_DATE="up-to-date",t))(Vr||{}),Ma=(t=>(t.ESRI="esri",t.TEXT="text",t.IMAGE="image",t.HTML="html",t.XML="xml",t.JSON="json",t.UNKNOWN="unknown",t))(Ma||{}),fr=(t=>(t.SYMBOL="symbol",t.GRID="grid",t.EXTENT="extent",t.INITIAL="initial",t.API="api",t.PERMANENT="permanent",t))(fr||{}),mn=(t=>(t.BoundaryZoom="boundaryZoom",t.Datatable="datatable",t.Identify="identify",t.Metadata="metadata",t.Opacity="opacity",t.Refresh="refresh",t.Reload="reload",t.Remove="remove",t.Settings="settings",t.Symbology="symbology",t.Visibility="visibility",t))(mn||{});class Mi{attributes;geometry;style;id;constructor(e,n,r){this.geometry=e,n?this.id=n:this.id=$u.sharedUtils.generateUUID(),r?this.attributes=r:this.attributes={}}_hover;get hover(){return this._hover}set hover(e){e&&this._hover&&this._hover.id!==e.id&&this.removeHover(),this._hover=e}removeHover(){this._hover&&(this._hover=void 0)}}const C0={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function yA(t){return!!C0[t]||!!C0[t.toLowerCase()]}function i2(t){return C0[t]??C0[t.toLowerCase()]}function DU(t){return[...i2(t)]}function s2(t,e,n){n<0&&++n,n>1&&--n;const r=6*n;return r<1?t+(e-t)*r:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function gA(t,e,n,r=1){const i=(t%360+360)%360/360,s=n<=.5?n*(e+1):n+e-n*e,o=2*n-s;return[Math.round(255*s2(o,s,i+1/3)),Math.round(255*s2(o,s,i)),Math.round(255*s2(o,s,i-1/3)),r]}function jU(t){const e=t.length>5,n=e?8:4,r=(1<<n)-1,i=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&r,o>>=n,a[3]=i*l/255),l=o&r,o>>=n,a[2]=i*l,l=o&r,o>>=n,a[1]=i*l,l=o&r,o>>=n,a[0]=i*l,a}const vA=new Float32Array(1);function FU(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function gd(t,e,n){return Math.min(Math.max(t,e),n)}function UU(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function bA(t,e,n){return t+(e-t)*n}function GU(t,e,n,r,i){return bA(r,i,(t-e)/(n-e))}function $U(t){return t*Math.PI/180}function VU(t){return 180*t/Math.PI}function BU(t){return Math.acos(gd(t,-1,1))}function zU(t){return Math.asin(gd(t,-1,1))}function Ju(t,e,n=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=n}const R0=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function o2(t){return R0.setFloat64(0,t),R0.getBigInt64(0)}function WU(t){return R0.setBigInt64(0,t),R0.getFloat64(0)}const k0=BigInt("1000000"),HU=_A(1);function _A(t){const e=o2(t=Math.abs(t)),n=WU(e<=k0?k0:e-k0);return Math.abs(t-n)}function YU(t,e,n=HU){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(n!=null&&_A(Math.min(Math.abs(t),Math.abs(e)))<n)return Math.abs(t-e)<=n;const r=o2(t),i=o2(e);return r<0!=i<0?!1:!((r<i?i-r:r-i)>k0)}function ZU(t){return wA(Math.max(-a2,Math.min(t,a2)))}function wA(t){return vA[0]=t,vA[0]}function JU(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(Ju(e,1)&&Ju(n,1)&&Ju(r,1))}const a2=wA(34028234663852886e22);function XU(t,e,n){if(n===void 0||+n==0)return Math[t](e);if(e=+e,n=+n,isNaN(e)||typeof n!="number"||n%1!=0)return NaN;let r=e.toString().split("e");return r=(e=Math[t](+(r[0]+"e"+(r[1]?+r[1]-n:-n)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+n:n))}let Oa;function ut(t){return typeof Oa[t]=="function"?Oa[t]=Oa[t](globalThis):Oa[t]}Oa=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},ut.add=(t,e,n,r)=>{(r||Oa[t]===void 0)&&(Oa[t]=e),n&&ut(t)},ut.cache=Oa,ut.add("big-integer-warning-enabled",!0),ut.add("esri-deprecation-warnings",!0),ut.add("esri-tests-disable-screenshots",!1),ut.add("esri-tests-use-full-window",!1),ut.add("esri-tests-post-to-influx",!0),ut.add("esri-cim-animations-enable-status","enabled"),ut.add("esri-cim-animations-spotlight",!1),ut.add("esri-cim-animations-freeze-time",!1),ut.add("enable-feature:multiple-highlights",!1),(()=>{ut.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ut.add("host-browser",t),ut.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),ut.add("dom",t),ut("host-browser")){const e=navigator,n=e.userAgent,r=e.appVersion,i=parseFloat(r);if(ut.add("wp",parseFloat(n.split("Windows Phone")[1])||void 0),ut.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),ut.add("khtml",r.includes("Konqueror")?i:void 0),ut.add("edge",parseFloat(n.split("Edge/")[1])||void 0),ut.add("opr",parseFloat(n.split("OPR/")[1])||void 0),ut.add("webkit",!ut("wp")&&!ut("edge")&&parseFloat(n.split("WebKit/")[1])||void 0),ut.add("chrome",!ut("edge")&&!ut("opr")&&parseFloat(n.split("Chrome/")[1])||void 0),ut.add("android",!ut("wp")&&parseFloat(n.split("Android ")[1])||void 0),ut.add("safari",!r.includes("Safari")||ut("wp")||ut("chrome")||ut("android")||ut("edge")||ut("opr")?void 0:parseFloat(r.split("Version/")[1])),ut.add("mac",r.includes("Macintosh")),!ut("wp")&&/(iPhone|iPod|iPad)/.test(n)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(n)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));ut.add(s,a),ut.add("ios",a)}ut("webkit")||(!n.includes("Gecko")||ut("wp")||ut("khtml")||ut("edge")||ut.add("mozilla",i),ut("mozilla")&&ut.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),n=/iPhone/i.test(t);e&&ut.add("esri-mobile",e),n&&ut.add("esri-iPhone",n),ut.add("esri-geolocation",!!navigator.geolocation)}ut.add("esri-wasm","WebAssembly"in globalThis),ut.add("esri-performance-mode-frames-between-render",20),ut.add("esri-force-performance-mode",!1),ut.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e}),ut.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),ut.add("esri-atomics","Atomics"in globalThis),ut.add("esri-workers","Worker"in globalThis),ut.add("web-feat:cache","caches"in globalThis),ut.add("esri-workers-arraybuffer-transfer",!ut("safari")||Number(ut("safari"))>=12),ut.add("workers-pool-size",8),ut.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ut.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ut.add("featurelayer-fast-triangulation-enabled",!0),ut.add("featurelayer-animation-enabled",!0),ut.add("featurelayer-snapshot-enabled",!0),ut.add("featurelayer-snapshot-point-min-threshold",8e4),ut.add("featurelayer-snapshot-point-max-threshold",4e5),ut.add("featurelayer-snapshot-point-coverage",.1),ut.add("featurelayer-query-max-depth",4),ut.add("featurelayer-query-pausing-enabled",!1),ut.add("featurelayer-advanced-symbols",!1),ut.add("featurelayer-pbf",!0),ut.add("featurelayer-pbf-statistics",!1),ut.add("feature-layers-workers",!0),ut.add("feature-polyline-generalization-factor",1),ut.add("mapview-transitions-duration",200),ut.add("mapview-essential-goto-duration",200),ut.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ut.add("mapserver-pbf-version-support",10.81),ut.add("mapservice-popup-identify-max-tolerance",20),ut("host-webworker")||ut("host-browser")&&(ut.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ut.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{ut.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ut.add("esri-image-decode",!1,!0,!0)})}return!1}),ut.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();let vd=class Vu{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Vu._m}getInt(){return this._seed=(Vu._a*this._seed+Vu._c)%Vu._m,this._seed}getFloat(){return this.getInt()/(Vu._m-1)}getIntRange(e,n){return Math.round(this.getFloatRange(e,n))}getFloatRange(e,n){const r=n-e;return e+this.getInt()/Vu._m*r}};vd._m=2147483647,vd._a=48271,vd._c=0;const xA=1.5,qU=1/xA,KU=.5;function QU(t,e){return e?t.filter((n,r,i)=>i.findIndex(e.bind(null,n))===r):Array.from(new Set(t))}function bd(t,e,n){if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;if(n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1}else for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function tG(t,e,n){let r,i;return n?(r=e.filter(s=>!t.some(o=>n(o,s))),i=t.filter(s=>!e.some(o=>n(o,s)))):(r=e.filter(s=>!t.includes(s)),i=t.filter(s=>!e.includes(s))),{added:r,removed:i}}function eG(t){return t&&typeof t.length=="number"}let l2=class{constructor(){this.last=0}};const EA=new l2;function L0(t,e,n,r){r=r||EA;const i=Math.max(0,r.last-10);for(let o=i;o<n;++o)if(t[o]===e)return r.last=o,o;const s=Math.min(i,n);for(let o=0;o<s;++o)if(t[o]===e)return r.last=o,o;return-1}function nG(t,e,n,r){const i=t.length,s=L0(t,e,i,r);if(s!==-1)return t[s]=t[i-1],t.pop(),e}const cs=new Set;function rG(t,e,n=t.length,r=e.length,i,s){if(r===0||n===0)return n;cs.clear();for(let a=0;a<r;++a)cs.add(e[a]);i=i||EA;const o=Math.max(0,i.last-10);for(let a=o;a<n;++a)if(cs.has(t[a])&&(s?.push(t[a]),cs.delete(t[a]),t[a]=t[n-1],--n,--a,cs.size===0||n===0))return cs.clear(),n;for(let a=0;a<o;++a)if(cs.has(t[a])&&(s?.push(t[a]),cs.delete(t[a]),t[a]=t[n-1],--n,--a,cs.size===0||n===0))return cs.clear(),n;return cs.clear(),n}function iG(t,e){let n=0;for(let r=0;r<t.length;++r){const i=t[r];e(i,r)&&(t[n]=i,n++)}t.length=n}function SA(t){return t?(TA.seed=t,()=>TA.getFloat()):Math.random}function sG(t,e){const n=SA(e);for(let r=t.length-1;r>0;r--){const i=Math.floor(n()*(r+1)),s=t[r];t[r]=t[i],t[i]=s}return t}const TA=new vd;function AA(t,e){const n=t.indexOf(e);return n!==-1?(t.splice(n,1),e):null}function IA(t,e){return t!=null}function MA(t){return 32+t.length}function c2(){return 16}function oG(t){if(!t)return 0;let e=RA;for(const n in t)if(t.hasOwnProperty(n)){const r=t[n];switch(typeof r){case"string":e+=MA(r);break;case"number":e+=c2();break;case"boolean":e+=4}}return e}function OA(t){if(!t)return 0;if(Array.isArray(t))return aG(t);let e=RA;for(const n in t)t.hasOwnProperty(n)&&(e+=NA(t[n]));return e}function aG(t){const e=t.length;if(e===0||typeof t[0]=="number")return 32+8*e;let n=kA;for(let r=0;r<e;r++)n+=NA(t[r]);return n}function NA(t){switch(typeof t){case"object":return OA(t);case"string":return MA(t);case"number":return c2();case"boolean":return 4;default:return 8}}function CA(t,e){return kA+t.length*e}const RA=32,kA=16;function lG(t){return t instanceof ArrayBuffer}function u2(t){return t?.constructor?.name==="Int8Array"}function h2(t){return t?.constructor?.name==="Uint8Array"}function p2(t){return t?.constructor?.name==="Uint8ClampedArray"}function P0(t){return t?.constructor?.name==="Int16Array"}function d2(t){return t?.constructor?.name==="Uint16Array"}function D0(t){return t?.constructor?.name==="Int32Array"}function f2(t){return t?.constructor?.name==="Uint32Array"}function j0(t){return t?.constructor?.name==="Float32Array"}function F0(t){return t?.constructor?.name==="Float64Array"}function m2(t){return!("buffer"in t)}function cG(...t){return t.reduce((e,n)=>e+(n?m2(n)?CA(n,c2()):n.byteLength+LA:0),0)}const LA=145,y2=1024;function uG(t){return F0(t)||j0(t)||D0(t)||P0(t)||u2(t)}function hG(t){return F0(t)||j0(t)}function pG(t){return F0(t)?179769e303:j0(t)?3402823e32:f2(t)?4294967295:d2(t)?65535:h2(t)||p2(t)?255:D0(t)?2147483647:P0(t)?32767:u2(t)?127:256}function dG(t,e){let n;for(n in t)t.hasOwnProperty(n)&&t[n]===void 0&&delete t[n];return t}function gt(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=FA(t);if(e!=null)return e;if(v2(t))return t.clone();if(PA(t))return t.map(gt);if(DA(t))return t.clone();const n={};for(const r of Object.getOwnPropertyNames(t))n[r]=gt(t[r]);return n}function g2(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=FA(t);if(e!=null)return e;if(PA(t)){let n=!0;const r=t.map(i=>{const s=g2(i);return i!=null&&s==null&&(n=!1),s});return n?r:null}if(v2(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(!DA(t)){const n=new(Object.getPrototypeOf(t)).constructor;for(const r of Object.getOwnPropertyNames(t)){const i=t[r],s=g2(i);if(i!=null&&s==null)return null;n[r]=s}return n}return null}function v2(t){return typeof t.clone=="function"}function PA(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function DA(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function jA(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function FA(t){if(u2(t)||h2(t)||p2(t)||P0(t)||d2(t)||D0(t)||f2(t)||j0(t)||F0(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[n,r]of t)e.set(n,gt(r));return e}if(t instanceof Set){const e=new Set;for(const n of t)e.add(gt(n));return e}return null}function b2(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function UA(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&bd(t,e):t instanceof Set?e instanceof Set&&mG(t,e):t instanceof Map?e instanceof Map&&yG(t,e):!!jA(t)&&jA(e)&&fG(t,e))}function fG(t,e){if(t===null||e===null)return!1;const n=Object.keys(t);if(e===null||Object.keys(e).length!==n.length)return!1;for(const r of n)if(t[r]!==e[r]||!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function mG(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function yG(t,e){if(t.size!==e.size)return!1;for(const[n,r]of t){const i=e.get(n);if(i!==r||i===void 0&&!e.has(n))return!1}return!0}function GA(t,e,n=!1){return VA(t,e,n)}function U0(t,e){if(e!=null)return e[t]||$A(t.split("."),!1,e)}function ac(t,e,n){const r=t.split("."),i=r.pop(),s=$A(r,!0,n);s&&i&&(s[i]=e)}function _2(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const n=e;if(t.length!==n.length)return!0;for(let r=0;r<t.length;r++)if(_2(t[r],n[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const n in t)if(_2(t[n],e[n]))return!0;return!1}return t!==e}function $A(t,e,n){let r=n;for(const i of t){if(r==null)return;if(!(i in r)){if(!e)return;r[i]={}}r=r[i]}return r}function VA(t,e,n){return e?Object.keys(e).reduce((r,i)=>{let s=r[i],o=e[i];return s===o?r:s===void 0?(r[i]=gt(o),r):(Array.isArray(o)||Array.isArray(r)?(s=s?Array.isArray(s)?r[i]=s.slice():r[i]=[s]:r[i]=[],o&&(Array.isArray(o)||(o=[o]),n?o.forEach(a=>{s.includes(a)||s.push(a)}):r[i]=o.slice())):o&&typeof o=="object"?r[i]=VA(s,o,n):r.hasOwnProperty(i)&&!e.hasOwnProperty(i)||(r[i]=o),r)},t||{}):t}const Ee={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(GA(Ee,globalThis.esriConfig,!0),delete Ee.has),!Ee.assetsPath){{const t="4.31";Ee.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}Ee.defaultAssetsPath=Ee.assetsPath}const gG=/\{([^}]+)\}/g;function BA(t){return t??""}function w2(t,e){return e?t.replaceAll(gG,typeof e=="object"?(n,r)=>BA(U0(r,e)):(n,r)=>BA(e(r))):t}function vG(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,n=>e?.includes(n)?n:`\\${n}`)}function x2(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}let zA;function bG(t){return zA??=new DOMParser,zA.parseFromString(t||"","text/html").body.innerText||""}function _G(t,e){return new RegExp(`{${e}}`,"ig").test(t)}const WA={info:0,warn:1,error:2,none:3};let Re=class Ii{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Ii._loggers.set(this.module,this);const n=this.module.lastIndexOf(".");n!==-1&&(this._parent=Ii.getLogger(this.module.slice(0,n)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Ii._loggers.get(e)||new Ii({module:e})}_log(e,n,...r){if(this._matchLevel(e)){if(n!=="always"&&!Ii._throttlingDisabled){const i=xG(r),s=this._loggedMessages[e].get(i);if(n==="once"&&s!=null||n==="oncePerTick"&&s&&s>=Ii._tickCounter)return;this._loggedMessages[e].set(i,Ii._tickCounter),Ii._scheduleTickCounterIncrement()}for(const i of Ee.log.interceptors)if(i(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,n){let r=this;for(;r!=null;){const i=r[e];if(i!=null)return i;r=r.parent}return n}_inheritedWriter(){return this._parentWithMember("writer",wG)}_matchLevel(e){const n=Ee.log.level||"warn";return WA[this._parentWithMember("level",n)]<=WA[e]}static _scheduleTickCounterIncrement(){Ii._tickCounterScheduled||(Ii._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ii._tickCounter++,Ii._tickCounterScheduled=!1}))}};function wG(t,e,...n){console[t](`[${e}]`,...n)}function xG(...t){return x2(JSON.stringify(t,(e,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}Re._loggers=new Map,Re._tickCounter=0,Re._tickCounterScheduled=!1,Re._throttlingDisabled=!1;function EG(t,e){for(const n of t.values())if(e(n))return!0;return!1}function HA(t,e,n){const r=t.get(e);if(r!==void 0)return r;const i=n();return t.set(e,i),i}function SG(t){const e=new Map;return n=>(e.has(n)||e.set(n,t(n)),e.get(n))}const Xu=()=>Re.getLogger("esri.core.accessorSupport.ensureTypes");function TG(t){return t==null?t:new Date(t)}function AG(t){return t==null?t:!!t}function YA(t){return t==null?t:t.toString()}function _d(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function G0(t){return t==null?t:Math.round(parseFloat(t))}function IG(t){return null}function ZA(t,e){return n=>{let r=t(n);return e.step!=null&&(r=Math.round(r/e.step)*e.step),e.min!=null&&(r=Math.max(e.min,r)),e.max!=null&&(r=Math.min(e.max,r)),r}}function JA(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function $0(t,e){return e!=null&&t&&!(e instanceof t)}function XA(t){return t&&"isCollection"in t}function qA(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function MG(t,e){if(!e?.constructor||!XA(e.constructor))return E2(t,e)?e:new t(e);const n=qA(t.prototype.itemType),r=qA(e.constructor.prototype.itemType);return n?r?n===r?e:n.prototype.isPrototypeOf(r.prototype)?new t(e):(E2(t,e),e):new t(e):e}function E2(t,e){return!!JA(e)&&(Xu().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+V0(t)+"'"),!0)}function S2(t,e){return e==null?e:XA(t)?MG(t,e):$0(t,e)?E2(t,e)?e:new t(e):e}function V0(t){return t?.prototype?.declaredClass||"unknown"}const OG=new WeakMap;function NG(t){switch(t){case Number:return e=>_d(e);case kn:return G0;case Boolean:return AG;case String:return YA;case Date:return TG;case z0:return IG;default:return HA(OG,t,()=>S2.bind(null,t))}}function Oi(t,e){const n=NG(t);return arguments.length===1?n:n(e)}function wd(t,e,n){return arguments.length===1?wd.bind(null,t):e&&(Array.isArray(e)?e.map(r=>t(r,n)):[t(e,n)])}function CG(t,e){return arguments.length===1?wd(n=>Oi(t,n)):wd(n=>Oi(t,n),e)}function KA(t,e,n){return e!==0&&Array.isArray(n)?n.map(r=>KA(t,e-1,r)):t(n)}function B0(t,e,n){if(arguments.length===2)return s=>B0(t,e,s);if(!n)return n;n=KA(t,e,n);let r=e,i=n;for(;r>0&&Array.isArray(i);)r--,i=i[0];if(i!==void 0)for(let s=0;s<r;s++)n=[n];return n}function RG(t,e,n){return arguments.length===2?B0(r=>Oi(t,r),e):B0(r=>Oi(t,r),e,n)}function QA(t){return!!Array.isArray(t)&&!t.some(e=>{const n=typeof e;return!(n==="string"||n==="number"||n==="function"&&t.length>1)})}function T2(t,e){if(arguments.length===2)return T2(t).call(null,e);const n=new Set,r=t.filter(a=>typeof a!="function"),i=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||n.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const c=typeof a,p=c==="string"||c==="number";return p&&(n.has(a)||i.some(d=>c==="string"&&d===String||c==="number"&&d===Number))||c==="object"&&i.some(d=>!$0(a,d))?a:(p&&r.length?(s||(s=r.map(d=>typeof d=="string"?`'${d}'`:`${d}`).join(", ")),Xu().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&i.length?(o||(o=i.map(d=>V0(d)).join(", ")),Xu().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Xu().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Na(t,e){if(arguments.length===2)return Na(t).call(null,e);const n={},r=[],i=[];for(const l in t.typeMap){const c=t.typeMap[l];n[l]=Oi(c),r.push(V0(c)),i.push(l)}const s=()=>`'${r.join("', '")}'`,o=()=>`'${i.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!$0(t.base,l)||l==null)return l;const c=a(l)||t.defaultKeyValue,p=n[c];if(!p)return Xu().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!$0(t.typeMap[c],l))return l;if(typeof t.key=="string"&&!JA(l)){const d={};for(const f in l)f!==t.key&&(d[f]=l[f]);return p(d)}return p(l)}}let kn=class{},z0=class{};const kG={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function LG(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function tI(t){switch(t.type){case"native":return Oi(t.value);case"array":return wd(tI(t.value));case"one-of":return PG(t);default:return null}}function PG(t){let e=null;return(n,r)=>I2(n,t)?n:(e==null&&(e=A2(t)),Xu().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),r&&(r.valid=!1),null)}function A2(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case kn:return"integer";case Date:return"date";case z0:return"null";default:return V0(t.value)}case"array":return`array of ${A2(t.value)}`;case"one-of":{const e=t.values.map(n=>A2(n));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function I2(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case kn:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case z0:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(n=>!I2(n,e.value));case"one-of":return e.values.some(n=>I2(t,n))}}function W0(t){return gd(G0(t),0,255)}function H0(t,e,n){return t=Number(t),isNaN(t)?n:t<e?e:t>n?n:t}function Y0(t,e){const n=t.toString(16).padStart(2,"0");return e?n.slice(0,1):n}let Z0=class Xn{static blendColors(e,n,r,i=new Xn){return i.r=Math.round(e.r+(n.r-e.r)*r),i.g=Math.round(e.g+(n.g-e.g)*r),i.b=Math.round(e.b+(n.b-e.b)*r),i.a=e.a+(n.a-e.a)*r,i._sanitize()}static fromRgb(e,n){const r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(r){const i=r[2].split(/\s*,\s*/),s=r[1];if(s==="rgb"&&i.length===3||s==="rgba"&&i.length===4){const o=i[0];if(o.charAt(o.length-1)==="%"){const a=i.map(l=>2.56*parseFloat(l));return i.length===4&&(a[3]=parseFloat(i[3])),Xn.fromArray(a,n)}return Xn.fromArray(i.map(a=>parseFloat(a)),n)}if(s==="hsl"&&i.length===3||s==="hsla"&&i.length===4)return Xn.fromArray(gA(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])),n)}return null}static fromHex(e,n=new Xn){if(e[0]!=="#"||isNaN(+`0x${e.slice(1)}`))return null;switch(e.length){case 4:case 5:{const r=parseInt(e.slice(1,2),16),i=parseInt(e.slice(2,3),16),s=parseInt(e.slice(3,4),16),o=e.length===5?15:parseInt(e.slice(4),16);return Xn.fromArray([r+16*r,i+16*i,s+16*s,(o+16*o)/255],n)}case 7:case 9:{const r=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),s=parseInt(e.slice(5,7),16),o=e.length===7?255:parseInt(e.slice(7),16);return Xn.fromArray([r,i,s,o/255],n)}default:return null}}static fromArray(e,n=new Xn){return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(e,n){const r=yA(e)?i2(e):null;return r&&Xn.fromArray(r,n)||Xn.fromRgb(e,n)||Xn.fromHex(e,n)}static fromJSON(e){return e!=null?new Xn([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Xn.fromString(e,this):Array.isArray(e)?Xn.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Xn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const n=e?.capitalize??!1,r=e?.digits??6,i=r===3||r===4,s=r===4||r===8,o=`#${Y0(this.r,i)}${Y0(this.g,i)}${Y0(this.b,i)}${s?Y0(Math.round(255*this.a),i):""}`;return n?o.toUpperCase():o}toCss(e=!1){const n=this.r+", "+this.g+", "+this.b;return e?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=Xn.AlphaMode.ALWAYS){const n=W0(this.r),r=W0(this.g),i=W0(this.b);return e===Xn.AlphaMode.ALWAYS||this.a!==1?[n,r,i,W0(255*this.a)]:[n,r,i]}clone(){return new Xn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(H0(this.r,0,255)),this.g=Math.round(H0(this.g,0,255)),this.b=Math.round(H0(this.b,0,255)),this.a=H0(this.a,0,1),this}_set(e,n,r,i){this.r=e,this.g=n,this.b=r,this.a=i}};Z0.prototype.declaredClass="esri.Color",function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Z0||(Z0={}));const me=Z0;function v(t,e,n,r){var i,s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function DG(t,e){return function(n,r){e(n,r,t)}}function jG(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{c(r.next(p))}catch(d){o(d)}}function l(p){try{c(r.throw(p))}catch(d){o(d)}}function c(p){p.done?s(p.value):i(p.value).then(a,l)}c((r=r.apply(t,[])).next())})}const FG={remove:()=>{}};function yn(t){return t?{remove(){t&&(t(),t=void 0)}}:FG}function UG(t){t.forEach(e=>e?.remove())}function J0(t){return yn(()=>UG(t))}function GG(t){return yn(()=>t?.abort())}function $G(t){return yn(t!=null?()=>t.destroy():void 0)}function jo(t){return t.__accessor__??null}function VG(t,e){return t?.metadata?.[e]!=null}function X0(t,e,n){return n?q0(t,e,{policy:n,path:""}):q0(t,e,null)}function q0(t,e,n){return e?Object.keys(e).reduce((r,i)=>{const s=i;let o=null,a="merge";if(n&&(o=n.path?`${n.path}.${i}`:i,a=n.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[s]))return r[s]=e[s],r;if(r[s]===void 0)return r[s]=gt(e[s]),r;let l=r[s],c=e[s];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[s]=l.slice():r[s]=[l]:r[s]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(p=>{l.includes(p)||l.push(p)}));else if(c&&typeof c=="object")if(n){const p=n.path;n.path=o,r[s]=q0(l,c,n),n.path=p}else r[s]=q0(l,c,null);else r.hasOwnProperty(i)&&!e.hasOwnProperty(i)||(r[s]=c);return r},t||{}):t}function eI(t){return Array.isArray(t)?t:t.split(".")}function nI(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function BG(t){if(Array.isArray(t)){const e=[];for(const n of t)e.push(...nI(n));return e}return nI(t)}function rI(t,e,n,r){const i=BG(e);if(i.length!==1){const s=i.map(o=>r(t,o,n));return J0(s)}return r(t,i[0],n)}function iI(t,e){const n=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const i=parseInt(n,10);if(!isNaN(i))return Array.isArray(e)?e[i]:e.at(i)}const r=jo(e);return VG(r,n)?r.get(n):e[n]}function sI(t,e,n){if(t==null)return t;const r=iI(e[n],t);return!r&&n<e.length-1?void 0:n===e.length-1?r:sI(r,e,n+1)}function xd(t,e,n=0){return typeof e!="string"||e.includes(".")?sI(t,eI(e),n):iI(e,t)}function Ca(t,e){return xd(t,e)}function oI(t,e){return xd(e,t)!==void 0}function Ed(t){let e=t.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!n){e=Object.create(e);for(const r in e)e[r]=gt(e[r]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Sd(t,e){const n=Ed(t);let r=n[e];return r||(r=n[e]={}),r}function zG(t,e){return X0(t,e,HG)}const WG=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function HG(t){return WG.test(t)?"replace":"merge"}function YG(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(n,r)=>r===""?"$":(U0(r,e)??"").toString())}let aI=class{constructor(t,e,n=void 0){this.name=t,this.details=n,this.message=(e&&YG(e,n))??""}toString(){return"["+this.name+"]: "+this.message}},ae=class LF extends aI{constructor(e,n,r){super(e,n,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,n)=>{if(n&&typeof n=="object"&&typeof n.toJSON=="function")return n;try{return gt(n)}catch{return"[object]"}}))}}catch(e){throw Re.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new LF(e.name,e.message,e.details)}};ae.prototype.type="error";function K0(t,e,n){if(t&&e)if(typeof e=="object")for(const r of Object.getOwnPropertyNames(e))K0(t,r,e[r]);else{if(e.includes(".")){const i=e.split("."),s=i.splice(-1,1)[0];return void K0(Ca(t,i),s,n)}const r=t.__accessor__;r!=null&&ZG(e,r),t[e]=n}}function ZG(t,e){if(ut("esri-unknown-property-errors")&&!JG(t,e))throw new ae("set:unknown-property",XG(t,e))}function JG(t,e){return e.metadata[t]!=null}function XG(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}function S(t={}){return(e,n)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${n}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(e,n),i=Sd(e,n);r&&(r.get||r.set?(i.get=r.get||i.get,i.set=r.set||i.set):"value"in r&&("value"in t&&Re.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${e.constructor.name}" already defined in the metadata`,t),i.value=t.value=r.value)),t.readOnly!=null&&(i.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,c=typeof s=="string"?null:s.overridable===!0;let p;i.dependsOn=[l],i.get=function(){let d=Ca(this,l);if(typeof d=="function"){p||(p=l.split(".").slice(0,-1).join("."));const f=Ca(this,p);f&&(d=d.bind(f))}return d},i.readOnly||(i.set=c?function(d){this._override(n,d)}:function(d){K0(this,l,d)})}const o=t.type,a=t.types;if(!i.cast){let l;o?l=qG(o):a&&(l=Array.isArray(a)?wd(Na(a[0])):Na(a)),t.cast=KG(t.cast,l)}zG(i,t),t.range&&(i.cast=ZA(i.cast,t.range))}}function M2(t,e,n){const r=Sd(t,n);r.json||(r.json={});let i=r.json;return e!==void 0&&(i.origins||(i.origins={}),i.origins[e]||(i.origins[e]={}),i=i.origins[e]),i}function qG(t){let e=0,n=t;if(LG(t))return tI(t);for(;Array.isArray(n)&&n.length===1&&typeof n[0]!="string"&&typeof n[0]!="number";)n=n[0],e++;const r=n;if(QA(r))return e===0?T2(r):B0(T2(r),e);if(e===1)return CG(r);if(e>1)return RG(r,e);const i=t;return i.from?i.from:Oi(i)}function KG(t,e){if(t||e)return t?e?(n,r)=>e(t(n,r),r):t:e}const lI=Symbol("Accessor-beforeDestroy");var Br;(function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CONSTRUCTING=1]="CONSTRUCTING",t[t.CONSTRUCTED=2]="CONSTRUCTED",t[t.DESTROYED=3]="DESTROYED"})(Br||(Br={}));var be;(function(t){t[t.Dirty=1]="Dirty",t[t.Overridden=2]="Overridden",t[t.Computing=4]="Computing",t[t.NonNullable=8]="NonNullable",t[t.HasDefaultValue=16]="HasDefaultValue",t[t.DepTrackingInitialized=32]="DepTrackingInitialized",t[t.AutoTracked=64]="AutoTracked",t[t.ExplicitlyTracking=128]="ExplicitlyTracking"})(be||(be={}));let Q0=class{constructor(t){this.accessed=void 0,this._handles=void 0,this._observer=t}destroy(){this.accessed?.clear(),this.clear()}onAccessed(t){this._observer!=null&&t!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(t))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(t=>{this._handles.push(t.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let t=0;t<this._handles.length;++t)this._handles[t].remove();this._handles.length=0}}};const ty=new Q0,Td=[];let Ad=ty;function zt(t){Ad.onAccessed(t)}let ey=!1,ny=!1;function Fo(t,e,n){if(ey)return O2(t,e,n);let r=null;return cI(t),r=e.call(n),uI(),r}function QG(t,e){return Fo(ty,t,e)}function O2(t,e,n){const r=ey;ey=!0,cI(t);let i=null;try{i=e.call(n)}catch(s){ny&&Re.getLogger("esri.core.accessorSupport.tracking").error(s)}return uI(),ey=r,i}function cI(t){Ad=t,Td.push(t)}function uI(){const t=Td.length;if(t>1){const e=Td.pop();Ad=Td[t-2],e.onTrackingEnd()}else if(t===1){const e=Td.pop();Ad=ty,e.onTrackingEnd()}else Ad=ty}function hI(t,e){if(e.flags&be.DepTrackingInitialized)return;e.flags|=be.DepTrackingInitialized;const n=ny;ny=!1,e.flags&be.AutoTracked?O2(e.trackingTarget,e.metadata.get,t):pI(t,e),ny=n}const t$=[];function pI(t,e){e.flags&be.ExplicitlyTracking||(e.flags|=be.ExplicitlyTracking,O2(e.trackingTarget,()=>{const n=e.metadata.dependsOn||t$;for(const r of n)if(typeof r!="string"||r.includes(".")){const i=eI(r);for(let s=0,o=t;s<i.length&&o!=null&&typeof o=="object";++s)o=dI(o,i[s],s!==i.length-1)}else dI(t,r,!1)}),e.flags&=~be.ExplicitlyTracking)}function dI(t,e,n){const r=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const i=jo(t);if(i){const s=i.propertiesByName.get(r);s&&(zt(s),hI(t,s))}return n?t[r]:void 0}function e$(t){if(t.json&&t.json.origins){const e=t.json.origins,n={"web-document":["web-scene","web-map"]};for(const r in n)if(e[r]){const i=e[r];n[r].forEach(s=>{e[s]=i}),delete e[r]}}}let qu=class extends aI{constructor(t,e,n){super(t,e,n)}};qu.prototype.type="warning";function fI(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const N2=()=>Re.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function mI(t,e,n){t&&(!n&&!e.read||e.read?.reader||e.read?.enabled===!1||i$(t)&&ac("read.reader",C2(t),e))}function C2(t){const e=t.ndimArray??0;if(e>1)return r$(t);if(e===1)return gI(t);if("type"in t&&vI(t.type)){const n=t.type.prototype?.itemType?.Type,r=gI(typeof n=="function"?{type:n}:{types:n});return(i,s,o)=>{const a=r(i,s,o);return a&&new t.type(a)}}return R2(t)}function R2(t){return"type"in t?n$(t.type):s$(t.types)}function n$(t){return t.prototype.read?(e,n,r)=>{if(e==null)return e;const i=typeof e;if(i!=="object")return void N2().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${i}'`);const s=new t;return s.read(e,r),s}:t.fromJSON}function yI(t,e,n,r){return r!==0&&Array.isArray(e)?e.map(i=>yI(t,i,n,r-1)):t(e,void 0,n)}function r$(t){const e=R2(t),n=yI.bind(null,e),r=t.ndimArray??0;return(i,s,o)=>{if(i==null)return i;i=n(i,o,r);let a=r,l=i;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let c=0;c<a;c++)i=[i];return i}}function gI(t){const e=R2(t);return(n,r,i)=>{if(n==null)return n;if(Array.isArray(n)){const o=[];for(const a of n){const l=e(a,void 0,i);l!==void 0&&o.push(l)}return o}const s=e(n,void 0,i);return s!==void 0?[s]:void 0}}function vI(t){if(!fI(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?k2(e.Type):bI(e.Type))}function i$(t){return"types"in t?bI(t.types):k2(t.type)}function k2(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||vI(t))}function bI(t){for(const e in t.typeMap)if(!k2(t.typeMap[e]))return!1;return!0}function s$(t){let e=null;const n=t.errorContext??"type",r=t.validate;return(i,s,o)=>{if(i==null)return i;const a=typeof i;if(a!=="object")return void N2().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=o$(t));const l=t.key;if(typeof l!="string")return;const c=i[l],p=c?e[c]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!p){const f=`Type '${c||"unknown"}' is not supported`;return o?.messages&&i&&o.messages.push(new qu(`${n}:unsupported`,f,{definition:i,context:o})),void N2().error(f)}const d=new p;return d.read(i,o),r?r(d):d}}function o$(t){const e={};for(const n in t.typeMap){const r=t.typeMap[n],i=Ed(r.prototype);if(typeof t.key=="function")continue;const s=i[t.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){e[s.json.type[0]]=r;continue}const o=s.json?.write;if(!o?.writer){e[n]=r;continue}const a=o.target,l=typeof a=="string"?a:t.key,c={};o.writer(n,c,l),c[l]&&(e[c[l]]=r)}return e}function a$(t){if(t.json||(t.json={}),wI(t.json),xI(t.json),_I(t.json),t.json.origins)for(const e in t.json.origins)wI(t.json.origins[e]),xI(t.json.origins[e]),_I(t.json.origins[e]);return!0}function _I(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function wI(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function xI(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function EI(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const n=t?.ndimArray??0;t&&(n===1||"type"in t&&fI(t.type))?e.write.writer=u$:n>1?e.write.writer=h$(n):e.types?Array.isArray(e.types)?e.write.writer=c$(e.types[0]):e.write.writer=l$(e.types):e.write.writer=Id}function l$(t){return(e,n,r,i)=>e?SI(e,t,i)?Id(e,n,r,i):void 0:Id(e,n,r,i)}function SI(t,e,n){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(n?.messages){const r=e.errorContext??"type",i=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;n&&n.messages&&t&&n.messages.push(new ae(`${r}:unsupported`,i,{definition:t,context:n})),Re.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(i)}return!1}function c$(t){return(e,n,r,i)=>!e||!Array.isArray(e)?Id(e,n,r,i):Id(e.filter(s=>SI(s,t,i)),n,r,i)}function Id(t,e,n,r){ac(n,ry(t,r),e)}function ry(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?TI(t):t}function TI(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function u$(t,e,n,r){let i;t===null?i=null:t&&typeof t.map=="function"?(i=t.map(s=>ry(s,r)),typeof i.toArray=="function"&&(i=i.toArray())):i=[ry(t,r)],ac(n,i,e)}function AI(t,e,n){return n!==0&&Array.isArray(t)?t.map(r=>AI(r,e,n-1)):ry(t,e)}function h$(t){return(e,n,r,i)=>{let s;if(e===null)s=null;else{s=AI(e,i,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}ac(r,s,n)}}function p$(t,e){return P2(t,"any",e?.origin)}function L2(t,e){return P2(t,"read",e?.origin)}function II(t,e){return P2(t,"write",e?.origin)}function P2(t,e,n){let r=t?.json;if(r?.origins&&n){let i;i=n==="link-chart"?r.origins[n]&&(e==="any"||e in r.origins[n])?r.origins[n]:r.origins["web-map"]:r.origins[n],i&&(e==="any"||e in i)&&(r=i)}return r}function d$(t){const e=f$(t);if(t.json.origins)for(const n in t.json.origins){const r=t.json.origins[n],i=r.types?m$(r):e;mI(i,r,!1),r.types&&!r.write&&t.json.write?.enabled&&(r.write={...t.json.write}),EI(i,r)}mI(e,t.json,!0),EI(e,t.json)}function f$(t){return t.json.types?D2(t.json):t.type?MI(t):D2(t)}function m$(t){return t.type?MI(t):D2(t)}function MI(t){if(!t.type)return;let e=0,n=t.type;for(;Array.isArray(n)&&!QA(n);)n=n[0],e++;return{type:n,ndimArray:e}}function D2(t){if(!t.types)return;let e=0,n=t.types;for(;Array.isArray(n);)n=n[0],e++;return{types:n,ndimArray:e}}function y$(t){a$(t)&&(e$(t),d$(t))}const j2=new Set,F2=new Set;function it(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,v$(e);const n=[],r=[];let i=e.prototype;for(;i;)i.hasOwnProperty("initialize")&&!j2.has(i.initialize)&&(j2.add(i.initialize),n.push(i.initialize)),i.hasOwnProperty("destroy")&&!F2.has(i.destroy)&&(F2.add(i.destroy),r.push(i.destroy)),i=Object.getPrototypeOf(i);j2.clear(),F2.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(n.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=n.length-1;l>=0;l--)n[l].call(this)}}),r.length){let l=!1;const c=this[lI];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){l=!0,c.call(this);for(let p=0;p<r.length;p++)r[p].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=Ed(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function g$(t,e){return e.get==null?function(){const n=this.__accessor__,r=n.propertiesByName.get(t);if(r===void 0)return;n.mutable&&zt(r);const i=n.store;return i.has(t)?i.get(t):r.metadata.value}:function(){const n=this.__accessor__,r=n.propertiesByName.get(t);if(r!==void 0)return r.getComputed(n)}}function v$(t){const e=t.prototype,n=Ed(e),r={};for(const i of Object.getOwnPropertyNames(n)){const s=n[i];y$(s),r[i]={enumerable:!0,configurable:!0,get:g$(i,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?OI("read-only",i):a.lifecycle===Br.CONSTRUCTED&&s.constructOnly?OI("construct-only",i):void a.set(i,o)}else Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,r)}const OI=(t,e)=>{Re.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)},NI=new WeakMap;function b$(t,e,n=!1){const r=`\u{1F6D1} DEPRECATED - ${e}`;if(!n)return void t.warn(r);let i=NI.get(t);i||(i=new Set,NI.set(t,i)),i.has(e)||(i.add(e),t.warn(r))}function CI(t,e,n={}){if(ut("esri-deprecation-warnings")){const{moduleName:r}=n;Ku(t,`Function: ${(r?r+"::":"")+e+"()"}`,n)}}function _$(t,e,n={}){if(ut("esri-deprecation-warnings")){const{moduleName:r}=n;Ku(t,`Property: ${(r?r+"::":"")+e}`,n)}}function w$(t,e,n={}){ut("esri-deprecation-warnings")&&Ku(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...n})}function Ku(t,e,n={}){if(ut("esri-deprecation-warnings")){const{replacement:r,version:i,see:s,warnOnce:o}=n;let a=e;r&&(a+=`
	\u{1F6E0}\uFE0F Replacement: ${r}`),i&&(a+=`
	\u2699\uFE0F Version: ${i}`),s&&(a+=`
	\u{1F517} See ${s} for more details.`),b$(t,a,o)}}function x$(t){const e=[];return function*(){yield*e;for(const n of t)e.push(n),yield n}}function E$(t,e){for(const n of t)if(n!=null&&e(n))return n}function U2(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let iy=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let t=0;return this._groups.forEach(e=>{t+=e.length}),t}add(t,e){if(U2(t)){const n=this._getOrCreateGroup(e);for(const r of t)kI(r)&&n.push(r)}else kI(t)&&this._getOrCreateGroup(e).push(t);return this}forEach(t,e){if(typeof t=="function")this._groups.forEach(n=>n.forEach(t));else{const n=this._getGroup(t);n&&e&&n.forEach(e)}}has(t){return this._groups.has(sy(t))}remove(t){if(typeof t!="string"&&U2(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(RI(this._getGroup(t)),this._groups.delete(sy(t)),this):this}removeAll(){return this._groups.forEach(RI),this._groups.clear(),this}removeReference(t){return this._groups.delete(t),this}_getOrCreateGroup(t){if(this.has(t))return this._getGroup(t);const e=[];return this._groups.set(sy(t),e),e}_getGroup(t){return this._groups.get(sy(t))}};function sy(t){return t||"_default_"}function RI(t){for(const e of t)e instanceof iy?e.removeAll():e.remove()}function kI(t){return t!=null&&(!!t.remove||t instanceof iy)}function LI(t,e){if(t==null)throw new Error(e??"value is None")}function Md(t){return t?.destroy(),null}function S$(t){return t?.dispose(),null}function lc(t){return t?.remove(),null}function G2(t){return t?.abort(),null}function T$(t){return t?.release(),null}function A$(t,e,n){return t!=null&&e!=null?n!=null?n(t,e):t.equals(e):t===e}function I$(t,e){let n;return t.some((r,i)=>(n=e(r,i),n!=null)),n??void 0}function M$(t){return t?.release&&typeof t.release=="function"}function O$(t){return t?.acquire&&typeof t.acquire=="function"}let Qu=class tA{constructor(e,n,r,i=1,s=0){this._ctor=e,this._acquireFunction=n,this._releaseFunction=r,this.allocationSize=i,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...e){let n;if(tA.test.disabled)n=new this._ctor;else{if(this._pool.length===0){const r=this.allocationSize;for(let i=0;i<r;i++)this._pool[i]=new this._ctor}n=this._pool.pop()}return this._acquireFunction?this._acquireFunction(n,...e):O$(n)&&n.acquire(...e),n}release(e){e&&!tA.test.disabled&&(this._releaseFunction?this._releaseFunction(e):M$(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let n=e;n<this._pool.length;++n){const r=this._pool[n];this._dispose(r)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}};Qu.test={disabled:!1};let N$=class{constructor(t,e){this._observers=t,this._observer=e}remove(){AA(this._observers,this._observer)}},PI=class{constructor(){this._observers=null,this.destroyed=!1}observe(t){if(this.destroyed||t.destroyed)return C$;this._observers==null&&(this._observers=[]);const e=this._observers;let n=!1,r=!1;const i=e.length;for(let s=0;s<i;++s){const o=e[s];if(o.destroyed)r=!0;else if(o===t){n=!0;break}}return n||(e.push(t),r&&this._removeDestroyedObservers()),new N$(e,t)}_removeDestroyedObservers(){const t=this._observers;if(!t||t.length===0)return;const e=t.length;let n=0;for(let r=0;r<e;++r){for(;r+n<e&&t[r+n].destroyed;)++n;if(n>0){if(!(r+n<e))break;t[r]=t[r+n]}}t.length=e-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const t=this._observers;if(t!=null){for(const e of t)e.onCommitted();this._observers=null}}};const C$=yn();var ne;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(ne||(ne={}));const R$=ne.USER+1;function $2(t){switch(t){case"defaults":return ne.DEFAULTS;case"service":return ne.SERVICE;case"portal-item":return ne.PORTAL_ITEM;case"web-scene":return ne.WEB_SCENE;case"web-map":return ne.WEB_MAP;case"link-chart":return ne.LINK_CHART;case"user":return ne.USER;default:return null}}function oy(t){switch(t){case ne.DEFAULTS:return"defaults";case ne.SERVICE:return"service";case ne.PORTAL_ITEM:return"portal-item";case ne.WEB_SCENE:return"web-scene";case ne.WEB_MAP:return"web-map";case ne.LINK_CHART:return"link-chart";case ne.USER:return"user"}}function k$(t){return oy(t)}let DI=class extends PI{constructor(t,e){super(),this.propertyName=t,this.metadata=e,this.trackingTarget=new Q0(this),this.flags=0,this.flags=be.Dirty|(e.nonNullable?be.NonNullable:0)|(e.hasOwnProperty("value")?be.HasDefaultValue:0)|(e.get===void 0?be.DepTrackingInitialized:0)|(e.dependsOn===void 0?be.AutoTracked:0)}destroy(){this.flags&be.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(t){t.mutable&&zt(this);const e=t.store,n=this.propertyName,r=this.flags,i=e.get(n);if(r&be.Computing||~r&be.Dirty&&e.has(n))return i;this.flags|=be.Computing;const s=t.host;let o;r&be.AutoTracked?o=Fo(this.trackingTarget,this.metadata.get,s):(pI(s,this),o=this.metadata.get.call(s)),this.flags|=be.DepTrackingInitialized,e.set(n,o,ne.COMPUTED);const a=e.get(n);return a===i?this.flags&=~be.Dirty:QG(this.commit,this),this.flags&=~be.Computing,a}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~be.Dirty,this.onCommitted()}onInvalidated(){~this.flags&be.Overridden&&(this.flags|=be.Dirty);const t=this._observers;if(t&&t.length>0)for(const e of t)e.onInvalidated()}onCommitted(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onCommitted()}}},L$=class PF{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new PF;return this._values.forEach((r,i)=>{e&&e.has(i)||n.set(i,gt(r))}),n}get(e){return this._values.get(e)}originOf(){return ne.USER}keys(){return[...this._values.keys()]}set(e,n){this._values.set(e,n)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}};function ay(t,e,n){return t!==void 0}function jI(t,e,n,r){return t!==void 0&&(!(n==null&&t.flags&be.NonNullable)||(r.lifecycle,Br.INITIALIZING,!1))}let P$=class{constructor(t){this.host=t,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Br.INITIALIZING,this.store=new L$,this.mutable=!0,this._origin=ne.USER;const e=this.host.constructor.__accessorMetadata__;for(const n in e){const r=new DI(n,e[n]);this.propertiesByName.set(n,r)}this.metadata=e}initialize(){this.lifecycle=Br.CONSTRUCTING}constructed(){this.lifecycle=Br.CONSTRUCTED}destroy(){this.lifecycle=Br.DESTROYED,this.propertiesByName.forEach(t=>t.destroy())}get initialized(){return this.lifecycle!==Br.INITIALIZING}get(t){const e=this.propertiesByName.get(t);if(e.metadata.get)return e.getComputed(this);this.mutable&&zt(e);const n=this.store;return n.has(t)?n.get(t):e.metadata.value}originOf(t){const e=this.store.originOf(t);if(e===void 0){const n=this.propertiesByName.get(t);if(n!==void 0&&n.flags&be.HasDefaultValue)return"defaults"}return oy(e)}has(t){return this.propertiesByName.has(t)&&this.store.has(t)}keys(){return[...this.propertiesByName.keys()]}internalGet(t){const e=this.propertiesByName.get(t);if(ay(e))return this.store.has(t)?this.store.get(t):e.metadata.value}internalSet(t,e){const n=this.propertiesByName.get(t);ay(n)&&this._internalSet(n,e)}getDependsInfo(t,e,n){const r=this.propertiesByName.get(e);if(!ay(r))return"";const i=new Q0,s=Fo(i,()=>r.metadata.get?.call(t));let o=`${n}${t.declaredClass.split(".").pop()}.${e}: ${s}
`;const a=i.accessed??new Set;if(a.size===0)return o;n+="  ";for(const l of a)l instanceof DI&&(o+=`${n}${l.propertyName}: undefined
`);return o}setAtOrigin(t,e,n){const r=this.propertiesByName.get(t);if(ay(r))return this._setAtOrigin(r,e,n)}isOverridden(t){const e=this.propertiesByName.get(t);return e!==void 0&&!!(e.flags&be.Overridden)}clearOverride(t){const e=this.propertiesByName.get(t);e&&e.flags&be.Overridden&&(e.flags&=~be.Overridden,e.notifyChange())}override(t,e){const n=this.propertiesByName.get(t);if(!jI(n,t,e,this))return;const r=n.metadata.cast;if(r){const i=this._cast(r,e),{valid:s,value:o}=i;if(V2.release(i),!s)return;e=o}n.flags|=be.Overridden,this._internalSet(n,e)}set(t,e){const n=this.propertiesByName.get(t);if(!jI(n,t,e,this))return;const r=n.metadata.cast;if(r){const s=this._cast(r,e),{valid:o,value:a}=s;if(V2.release(s),!o)return;e=a}const i=n.metadata.set;i?i.call(this.host,e):this._internalSet(n,e)}setDefaultOrigin(t){this._origin=$2(t)}getDefaultOrigin(){return oy(this._origin)}notifyChange(t){const e=this.propertiesByName.get(t);e!==void 0&&e.notifyChange()}invalidate(t){const e=this.propertiesByName.get(t);e!==void 0&&e.invalidate()}commit(t){const e=this.propertiesByName.get(t);e!==void 0&&e.commit()}_internalSet(t,e){const n=this.lifecycle!==Br.INITIALIZING?this._origin:ne.DEFAULTS;this._setAtOrigin(t,e,n)}_setAtOrigin(t,e,n){const r=this.store,i=t.propertyName;r.has(i,n)&&b2(e,r.get(i))&&~t.flags&be.Overridden&&n===r.originOf(i)||(t.invalidate(),r.set(i,e,n),t.commit(),hI(this.host,t))}_cast(t,e){const n=V2.acquire();return n.valid=!0,n.value=e,t&&(n.value=t.call(this.host,e,n)),n}},D$=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const V2=new Qu(D$);let j$;function F$(){return j$}var FI;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(FI||(FI={}));function U$(t){t.length=0}let Uo=class{constructor(t=50,e=50){this._pool=new Qu(Array,void 0,U$,e,t)}acquire(){return this._pool.acquire()}release(t){this._pool.release(t)}prune(){this._pool.prune(0)}static acquire(){return B2.acquire()}static release(t){return B2.release(t)}static prune(){B2.prune()}};const B2=new Uo(100);let UI=class extends Qu{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...t){const e=super.acquire(...t);return this._set.delete(e),e}release(t){t&&!this._set.has(t)&&(super.release(t),this._set.add(t))}_dispose(t){this._set.delete(t),super._dispose(t)}};const ly=[];function z2(t){ly.push(t),ly.length===1&&queueMicrotask(()=>{const e=ly.slice();ly.length=0;for(const n of e)n()})}let W2=class{constructor(t,e=30){this.name=t,this._counter=0,this._samples=new Array(e)}push(t){t!=null&&(this._samples[++this._counter%this._samples.length]=t)}set(t){t!=null&&(this._samples[this._counter%this._samples.length]=t)}get median(){return this._samples.slice().sort((t,e)=>t-e)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((t,e)=>t+e,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var H2;(function(t){const e=(s,o,a,l)=>{let c=o,p=o;const d=a>>>1,f=s[c-1];for(;p<=d;){p=c<<1,p<a&&l(s[p-1],s[p])<0&&++p;const y=s[p-1];if(l(y,f)<=0)break;s[c-1]=y,c=p}s[c-1]=f},n=(s,o)=>s<o?-1:s>o?1:0;function r(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let p=a>>>1;p>o;p--)e(s,p,a,l);const c=o+1;for(let p=a-1;p>o;p--){const d=s[o];s[o]=s[p],s[p]=d,e(s,c,p,l)}}function*i(s,o,a,l){o===void 0&&(o=0),a===void 0&&(a=s.length),l===void 0&&(l=n);for(let p=a>>>1;p>o;p--)e(s,p,a,l),yield;const c=o+1;for(let p=a-1;p>o;p--){const d=s[o];s[o]=s[p],s[p]=d,e(s,c,p,l),yield}}t.sort=r,t.iterableSort=i})(H2||(H2={}));const GI=H2,G$=1.5,$$=1.1;let Y2=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new l2,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>$I(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){const e=new Array;for(let n=0;n<this._length;n++){const r=this.data[n];t(r)&&e.push(r)}return e}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,e){const n=this.data.indexOf(t,e);return n!==-1&&n<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let e=t;e<this._length;++e)this.data[e]=this._deallocator(this.data[e]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,e=t.length){for(let n=0;n<e;n++)this.data[this._length++]=t[n]}fill(t,e){for(let n=0;n<e;n++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,$I(this)}pop(){if(this.length===0)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){const e=L0(this.data,t,this.length,this._hint);if(e!==-1)return this.data.splice(e,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(L0(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,e=t.length,n){this.length=rG(this.data,t,this.length,e,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,e){if(t>=this.length||e>=this.length||t===e)return;const n=this.data[t];this.data[t]=this.data[e],this.data[e]=n}sort(t){GI.sort(this.data,0,this.length,t)}iterableSort(t){return GI.iterableSort(this.data,0,this.length,t)}some(t,e){for(let n=0;n<this.length;++n)if(t.call(e,this.data[n],n,this.data))return!0;return!1}find(t,e){const{data:n,length:r}=this;for(let i=0;i<r;++i)if(t.call(e,n[i]))return n[i]}filterInPlace(t,e){let n=0;for(let r=0;r<this._length;++r){const i=this.data[r];t.call(e,i,r,this.data)&&(this.data[r]=this.data[n],this.data[n]=i,n++)}if(this._deallocator)for(let r=n;r<this._length;r++)this.data[r]=this._deallocator(this.data[r]);return this._length=n,this._shrink(),this}forAll(t,e){const{data:n,length:r}=this;for(let i=0;i<r;++i)t.call(e,n[i],i,n)}forEach(t,e){this.data.slice(0,this.length).forEach(t,e)}map(t,e){const n=new Array(this.length);for(let r=0;r<this.length;++r)n[r]=t.call(e,this.data[r],r,this.data);return n}reduce(t,e){let n=e;for(let r=0;r<this.length;++r)n=t(n,this.data[r],r,this.data);return n}has(t){const e=this.length,n=this.data;for(let r=0;r<e;++r)if(n[r]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function $I(t){t.data.length>G$*t.length&&(t.data.length=Math.floor(t.length*$$))}function V$(t){return{setTimeout:(e,n)=>{const r=t.setTimeout(e,n);return yn(()=>t.clearTimeout(r))}}}const VI=V$(globalThis);function cy(t){return B$(t)||BI(t)}function B$(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function BI(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function Z2(t,e,n){if(!cy(t))throw new TypeError("target is not a Evented or EventTarget object");return BI(t)?z$(t,e,n):t.on(e,n)}function z$(t,e,n,r){if(Array.isArray(e)){const i=e.slice();for(const s of i)t.addEventListener(s,n,r);return yn(()=>{for(const s of i)t.removeEventListener(s,n,r)})}return t.addEventListener(e,n,r),yn(()=>t.removeEventListener(e,n,r))}function J2(t,e,n){if(!cy(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,n);const r=Z2(t,e,i=>{r.remove(),n.call(t,i)});return r}function zr(t="Aborted"){return new ae("AbortError",t)}function th(t,e="Aborted"){if(Ra(t))throw zr(e)}function Od(t){return t instanceof AbortSignal?t:t?.signal??void 0}function Ra(t){const e=Od(t);return e!=null&&e.aborted}function X2(t){if(eh(t))throw t}function W$(t){if(!eh(t))throw t}function ka(t,e){const n=Od(t);if(n!=null){if(!n.aborted)return J2(n,"abort",()=>e());e()}}function zI(t,e){const n=Od(t);if(n!=null)return th(n),J2(n,"abort",()=>e(zr()))}function H$(t,e){return Od(e)==null?t:new Promise((n,r)=>{let i=ka(e,()=>r(zr()));const s=()=>{i=lc(i)};t.then(s,s),t.then(n,r)})}function eh(t){return t?.name==="AbortError"}async function Y$(t){try{return await t}catch(e){if(!eh(e))throw e;return}}async function uy(t){if(!t)return;if(typeof t.forEach!="function"){const n=Object.keys(t),r=n.map(o=>t[o]),i=await uy(r),s={};return n.map((o,a)=>s[o]=i[a]),s}const e=t;return Promise.allSettled(e).then(n=>Array.from(e,(r,i)=>{const s=n[i];return s.status==="fulfilled"?{promise:r,value:s.value}:{promise:r,error:s.reason}}))}async function Z$(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function J$(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function WI(t,e=void 0,n){const r=new AbortController;return ka(n,()=>r.abort()),new Promise((i,s)=>{let o=setTimeout(()=>{o=0,i(e)},t);ka(r,()=>{o&&(clearTimeout(o),s(zr()))})})}function X$(t,e){const n=new AbortController,r=setTimeout(()=>n.abort(),e);return ka(t,()=>{n.abort(),clearTimeout(r)}),{...t,signal:n.signal}}function q2(t){return t&&typeof t.then=="function"}function K2(t){return q2(t)?t:Promise.resolve(t)}function q$(t,e=-1){let n,r,i,s,o=null;const a=(...l)=>{if(n){r=l,s&&s.reject(zr()),s=cc();const f=s.promise;if(o){const y=o;o=null,y.abort()}return f}if(i=s||cc(),s=null,e>0){const f=new AbortController;n=K2(t(...l,f.signal));const y=n;WI(e).then(()=>{n===y&&(s?f.abort():o=f)})}else n=1,n=K2(t(...l));const c=()=>{const f=r;r=i=n=o=null,f!=null&&a(...f)},p=n,d=i;return p.then(c,c),p.then(d.resolve,d.reject),d.promise};return a}function cc(){let t,e;const n=new Promise((i,s)=>{t=i,e=s}),r=i=>{t(i)};return r.resolve=i=>t(i),r.reject=i=>e(i),r.timeout=(i,s)=>VI.setTimeout(()=>r.reject(s),i),r.promise=n,r}async function K$(t){await Promise.resolve(),th(t)}function Q$(t){return t}function tV(t){return 1e3*t}function eV(t){return t}let nV=class{constructor(t){this.phases=t,this.paused=!1,this.ticks=-1,this.removed=!1}},rV=class{constructor(t){this.callback=t,this.isActive=!0}remove(){this.isActive=!1}},Q2=0;const Nd={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},t_=["prepare","preRender","render","postRender","update","finish"],e_=[],uc=new Y2;let iV=class{constructor(t){this._task=t}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function sV(){hc!=null&&(cancelAnimationFrame(hc),hc=requestAnimationFrame(r_))}const hy={frameTasks:uc,willDispatch:!1,clearFrameTasks:aV,dispatch:YI,executeFrameTasks:lV,reschedule:sV};function n_(t){const e=new rV(t);return e_.push(e),hy.willDispatch||(hy.willDispatch=!0,z2(YI)),e}function oV(t){const e=new nV(t);return uc.push(e),hc==null&&(Q2=performance.now(),hc=requestAnimationFrame(r_)),new iV(e)}let hc=null;function aV(t=!1){uc.forAll(e=>{e.removed=!0}),t&&HI()}function r_(){const t=performance.now();hc=null,hc=uc.length>0?requestAnimationFrame(r_):null,hy.executeFrameTasks(t)}function lV(t){const e=t-Q2;Q2=t;const n=1e3/60,r=Math.max(0,e-n);Nd.time=t,Nd.frameDuration=n-r;for(let i=0;i<t_.length;i++){const s=performance.now(),o=t_[i];uc.forAll(a=>{a.paused||a.removed||(i===0&&a.ticks++,a.phases[o]&&(Nd.elapsedFrameTime=performance.now()-t,Nd.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,Nd)))}),uV[i].push(performance.now()-s)}HI(),hV.push(performance.now()-t)}const py=new Y2;function HI(){uc.forAll(t=>{t.removed&&py.push(t)}),uc.removeUnorderedMany(py.data,py.length),py.clear()}function YI(){for(;e_.length;){const t=e_.shift();t.isActive&&t.callback()}hy.willDispatch=!1}function ZI(t=1,e){const n=cc(),r=()=>{Ra(e)?n.reject(zr()):t===0?n():(--t,z2(()=>r()))};return r(),n.promise}function JI(t){return ZI(1,t)}async function cV(t){await JI(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const uV=t_.map(t=>new W2(t)),hV=new W2("total");function XI(t,e){for(const n of t.values())if(e(n))return!0;return!1}function i_(t,e){if(!e)return t;for(const n of e)n!=null&&t.add(n);return t}function pV(t,e){return e!=null&&t.add(e),t}function s_(t,e){const n=new Set;return i_(n,t),i_(n,e),n}function qI(t,e){const n=new Set;for(const r of e)t.has(r)&&n.add(r);return n}function dV(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const n of t)if(!e.has(n))return!1;return!0}function fV(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function KI(t,e){const n=new Set(t);for(const r of e)n.delete(r);return n}function mV(t,e){return KI(s_(t,e),qI(t,e))}let yV=0;function Cd(){return++yV}let dy=class extends Q0{constructor(t){super(new gV(t)),this._observer&&QI.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&QI.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},gV=class{constructor(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const t=this._invalidCount;if(t===1)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0}destroy(){this.destroyed=!0,this._notify=vV}};const QI=new FinalizationRegistry(t=>{t.deref()?.destroy()});function vV(){}let nh=!1;const fy=[];function tM(t,e){let n=new dy(s),r=null,i=!1;function s(){if(!n||i)return;if(nh)return void nM(s);const a=r;n.clear(),nh=!0,i=!0,r=Fo(n,t),i=!1,nh=!1,e(r,a),rM()}function o(){n&&(n.destroy(),n=null,r=null)}return i=!0,r=Fo(n,t),i=!1,yn(o)}function eM(t,e){let n=new dy(i),r=null;function i(){e(r,o)}function s(){n&&(n.destroy(),n=null),r=null}function o(){return n?(n.clear(),r=Fo(n,t),r):null}return o(),yn(s)}function bV(t,e){let n=!1,r=!1;const i=!!e?.sync;let s=new dy(()=>{n||r||(r=!0,i?o():queueMicrotask(o))});function o(){r=!1,s&&!n&&(nh?nM(o):(s.clear(),nh=!0,n=!0,Fo(s,t),n=!1,nh=!1,rM()))}function a(){s&&(s.destroy(),s=null)}return n=!0,Fo(s,t),n=!1,yn(a)}function nM(t){fy.includes(t)||fy.unshift(t)}function rM(){for(;fy.length;)fy.pop()()}var Rd;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})(Rd||(Rd={}));let kd=class{constructor(){this.uid=Cd(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(t,e,n,r,i){return this.pool.acquire(Rd.Untracked,t,e,n,r,i,b2)}static acquireTracked(t,e,n,r){return this.pool.acquire(Rd.Tracked,t,e,n,null,null,r)}notify(t,e){this.type===Rd.Untracked?this.callback.call(this.target,t,e,this.path,this.target):this.callback.call(null,t,e,void 0,void 0)}acquire(t,e,n,r,i,s,o){this.uid=Cd(),this.removed=!1,this.type=t,this.oldValue=e,this.callback=n,this.getValue=r,this.target=i,this.path=s,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Cd(),this.removed=!0}};kd.pool=new UI(kd);const my=new Uo,Go=new Set;let yy;function gy(t){Go.delete(t),Go.add(t),yy||(yy=n_(xV))}function _V(t){if(t.removed)return;const e=t.oldValue,n=t.getValue();t.equals(e,n)||(t.oldValue=n,t.notify(n,e))}function wV(t){for(const e of Go.values())e.target===t&&(e.removed=!0)}function xV(){let t=10;for(;yy&&t--;){yy=null;const e=EV(),n=my.acquire();for(const r of e){const i=r.uid;_V(r),i===r.uid&&r.removed&&n.push(r)}for(const r of Go)r.removed&&(n.push(r),Go.delete(r));for(const r of n)kd.pool.release(r);my.release(n),my.release(e),o_.forEach(r=>r())}}function EV(){const t=my.acquire();t.length=Go.size;let e=0;for(const n of Go)t[e]=n,++e;return Go.clear(),t}const o_=new Set;function SV(t){return o_.add(t),yn(()=>o_.delete(t))}function TV(t,e,n){let r=rI(t,e,n,(i,s,o)=>{let a,l,c=eM(()=>xd(i,s),(p,d)=>{i.__accessor__?.lifecycle===Br.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=kd.acquireUntracked(p,o,d,i,s),l=a.uid),gy(a))});return yn(()=>{c.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,gy(a)),a=null),r=c=null})});return r}function AV(t,e,n){const r=rI(t,e,n,(i,s,o)=>{let a=!1;return tM(()=>xd(i,s),(l,c)=>{i.__accessor__.lifecycle!==Br.DESTROYED?a||(a=!0,b2(c,l)||o.call(i,l,c,s,i),a=!1):r.remove()})});return r}function IV(t,e,n,r=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Br.DESTROYED?r?AV(t,e,n):TV(t,e,n):yn()}function MV(t,e,n){let r,i,s=eM(t,(o,a)=>{r&&r.uid!==i?s.remove():(r||(r=kd.acquireTracked(o,e,a,n),i=r.uid),gy(r))});return yn(()=>{s.remove(),r&&(r.uid!==i||r.removed||(r.removed=!0,gy(r)),r=null),s=null})}function OV(t,e,n){let r=!1;return tM(t,(i,s)=>{r||(r=!0,n(s,i)||e(i,s),r=!1)})}function NV(t,e,n=!1,r=UA){return n?OV(t,e,r):MV(t,e,r)}function CV(t){return XI(Go,e=>e.oldValue===t)}var iM,sM;function RV(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const La=Symbol("Accessor-Handles"),a_=Symbol("Accessor-Initialized");let Bn=class Zb{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:n,declaredClass:r,constructor:i}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,i&&i.apply(this,l)}}Ed(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...c){const p=this.inherited;let d;this.inherited=function(...f){if(s.prototype[a])return s.prototype[a].apply(this,f)};try{d=l.apply(this,c)}catch(f){throw this.inherited=p,f}return this.inherited=p,d}:e[a]}for(const a in n){const l=RV(n[a]);S(l)(o.prototype,a)}return it(r)(o)}static freeze(e){return e instanceof Zb?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Zb?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[iM]=null,this[sM]=!1,this.constructor===Zb)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const n=new P$(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:n}),e.length>0&&(n.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,n=e.ctorArgs;e.initialize(),n&&(this.set(n),e.ctorArgs=null),e.constructed(),this.initialize(),this[a_]=!0}initialize(){}[lI](){this[La]=Md(this[La])}destroy(){this.destroyed||(wV(this),this.__accessor__.destroy(),F$()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[a_]}get destroyed(){return this.__accessor__?.lifecycle===Br.DESTROYED||!1}commitProperty(e){Ca(this,e)}get(e){return CI(Re.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Ca(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,n){return K0(this,e,n),this}watch(e,n,r){return IV(this,e,n,r)}addHandles(e,n){if(this.destroyed){const r=Array.isArray(e)?e:[e];for(const i of r)i.remove();return}(this[La]??=new iy).add(e,n)}removeHandles(e){this[La]?.remove(e)}removeAllHandles(){this[La]?.removeAll()}removeHandlesReference(e){this[La]?.removeReference(e)}hasHandles(e){return this[La]?.has(e)===!0}_override(e,n){n===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,n){n==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,n)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,n){return this.__accessor__.internalSet(e,n),this}};iM=La,sM=a_;let kV=class DF{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new DF;return this._values.forEach((r,i)=>{e&&e.has(i)||n.set(i,gt(r.value),r.origin)}),n}get(e,n){n=this._normalizeOrigin(n);const r=this._values.get(e);return n==null||r?.origin===n?r?.value:void 0}originOf(e){return this._values.get(e)?.origin??ne.USER}keys(e){e=this._normalizeOrigin(e);const n=[...this._values.keys()];return e==null?n:n.filter(r=>this._values.get(r)?.origin===e)}set(e,n,r){if((r=this._normalizeOrigin(r))===ne.DEFAULTS){const i=this._values.get(e);if(i?.origin!=null&&i.origin>r)return}this._values.set(e,new LV(n,r))}delete(e,n){(n=this._normalizeOrigin(n))!=null&&this._values.get(e)?.origin!==n||this._values.delete(e)}has(e,n){return(n=this._normalizeOrigin(n))!=null?this._values.get(e)?.origin===n:this._values.has(e)}forEach(e){this._values.forEach(({value:n},r)=>e(n,r))}_normalizeOrigin(e){if(e!=null)return e===ne.DEFAULTS?e:ne.USER}},LV=class{constructor(t,e){this.value=t,this.origin=e}};function oM(t,e,n){e.keys().forEach(i=>{n.set(i,e.get(i),ne.DEFAULTS)});const r=t.metadata;Object.keys(r).forEach(i=>{t.internalGet(i)&&n.set(i,t.internalGet(i),ne.DEFAULTS)})}function PV(t,e,n){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const r=t.read.source;if(typeof r=="string"){if(r===e||r.includes(".")&&r.indexOf(e)===0&&oI(r,n))return!0}else for(const i of r)if(i===e||i.includes(".")&&i.indexOf(e)===0&&oI(i,n))return!0;return!1}function DV(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function jV(t,e,n,r,i){let s=L2(e[n],i);DV(s)&&(t[n]=!0);for(const o of Object.getOwnPropertyNames(e))s=L2(e[o],i),PV(s,n,r)&&(t[o]=!0)}function FV(t,e,n,r){const i=n.metadata,s=p$(i[e],r),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,r):o;a!==void 0&&n.set(e,a)}const aM={origin:"service"};function lM(t,e,n=aM){if(!e||typeof e!="object")return;const r=jo(t),i=r.metadata,s={};for(const o of Object.getOwnPropertyNames(e))jV(s,i,o,e,n);r.setDefaultOrigin(n.origin);for(const o of Object.getOwnPropertyNames(s)){const a=L2(i[o],n).read,l=a?.source;let c;c=l&&typeof l=="string"?xd(e,l):e[o],a?.reader&&(c=a.reader.call(t,c,e,n)),c!==void 0&&r.set(o,c)}if(!n||!n.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(i))s[o]||FV(t,o,r,n)}r.setDefaultOrigin("user")}function UV(t,e,n,r=aM){const i={...r,messages:[]};n(i),i.messages?.forEach(s=>{s.type!=="warning"||t.loaded?r?.messages&&r.messages.push(s):t.loadWarnings.push(s)})}function GV(t,e,n,r,i){const s={};return e.write?.writer?.call(t,r,s,n,i),s}function cM(t,e,n,r,i,s){if(!r?.write)return!1;const o=Ca(t,n);if(!i&&r.write.overridePolicy){const a=r.write.overridePolicy.call(t,o,n,s??void 0);a!==void 0&&(i=a)}if(i||(i=r.write),!i||i.enabled===!1||i.layerContainerTypes&&s?.layerContainerType&&!i.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!i.allowNull&&!i.writerEnsuresNonNull||o===void 0)&&i.isRequired){const a=new ae("web-document-write:property-required",`Missing value for required property '${n}' on '${t.declaredClass}'`,{propertyName:n,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&Re.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!i.allowNull&&!i.writerEnsuresNonNull||!i.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(n)===ne.DEFAULTS)&&$V(t,n,s,r,o)||!i.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(n)<$2(s.origin))}function $V(t,e,n,r,i){const s=r.default;if(s===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(i);if(typeof s=="function"){if(Array.isArray(i)){const o=s.call(t,e,n??void 0);return bd(o,i)}return!1}return s===i}function VV(t,e,n,r){const i=jo(t),s=i.metadata,o=II(s[e],r);return!!o&&cM(t,i,e,o,n,r)}function uM(t,e,n){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return X0(e,t.toJSON(n));const r=jo(t),i=r.metadata;for(const s in i){const o=II(i[s],n);if(!cM(t,r,s,o,void 0,n))continue;const a=Ca(t,s),l=GV(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,n);Object.keys(l).length>0&&(e=X0(e,l),n?.resources?.pendingOperations?.length&&n.resources.pendingOperations.push(Promise.all(n.resources.pendingOperations).then(()=>X0(e,l,()=>"replace-arrays"))),n?.writtenProperties&&n.writtenProperties.push({target:t,propName:s,oldOrigin:k$(r.store.originOf(s)),newOrigin:n.origin}))}return e}const l_=t=>{let e=class extends t{constructor(...n){super(...n);const r=jo(this),i=r.store,s=new kV;r.store=s,oM(r,i,s)}read(n,r){lM(this,n,r)}write(n,r){return uM(this,n??{},r)}toJSON(n){return this.write({},n)}static fromJSON(n,r){return BV.call(this,n,r)}};return e=v([it("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function BV(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const n=new this;return n.read(t,e),n}function vy(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}let Kt=class extends l_(Bn){};Kt=v([it("esri.core.JSONSupport")],Kt);function gn(t,e,n){let r,i;return e===void 0||Array.isArray(e)?(i=t,n=e,r=[void 0]):(i=e,r=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;r.forEach(l=>{const c=M2(s,l,i);c.read&&typeof c.read=="object"||(c.read={}),c.read.reader=a[o],n&&(c.read.source=(c.read.source||[]).concat(n))})}}let Ws=class{constructor(t,e={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=e,this.apiValues=[],this.jsonValues=[],this._apiToJSON=zV(t),this.apiValues=hM(this._apiToJSON),this.jsonValues=hM(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,r,i)=>{const s=this.toJSON(n);s!==void 0&&ac(i,s,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(t==null)return null;if(this._apiToJSON.hasOwnProperty(t)){const e=this._apiToJSON[t];return this._options.useNumericKeys?+e:e}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return t!=null&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}};function zV(t){const e={};for(const n in t)e[t[n]]=n;return e}function hM(t){const e=[];for(const n in t)e.push(n);return e.sort(),e}function Ni(){return function(t,e){return new Ws(t,{ignoreUnknown:!0,...e})}}let c_=class{constructor(t,e,n,r,i,s){this.semiMajorAxis=t,this.flattening=e,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=r,this.scaleHeight=i;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Ci=new c_(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),rh=new c_(3396190,1/169.8944472236118,23e4,6e4,.111),Ld=new c_(1737400,0,0,0,0),WV=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,HV={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function u_(t){const e=t?.match(WV);if(!e)return null;const[,n,r,i]=e;if(!n)return null;let s=null,o=null,a=null;const{devext:l,qaext:c,www:p}=HV;if(r)if(s=n,i)switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}else({customBaseUrl:o,portalHostname:a}=p);else switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=c);break;case"www":({customBaseUrl:o,portalHostname:a}=p);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function pM(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function h_(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,n=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):n.test(t)?t=t.replace(n,"https://devext.arcgis.com"):r.test(t)&&(t=t.replace(r,"https://qaext.arcgis.com")),t}function dM(t){const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n.buffer}function YV(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}const ZV=()=>Re.getLogger("esri.core.urlUtils"),ih=Ee.request,fM="esri/config: esriConfig.request.proxyUrl is not set.",mM=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,yM=/^\s*http:/i,JV=/^\s*https:/i,XV=/^\s*file:/i,qV=/:\d+$/,KV=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,QV=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),tB=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let pc=class{constructor(t=""){this.uri=t,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let e=this.uri.match(QV);this.scheme=e[2]||(e[1]?"":null),this.authority=e[4]||(e[3]?"":null),this.path=e[5],this.query=e[7]||(e[6]?"":null),this.fragment=e[9]||(e[8]?"":null),this.authority!=null&&(e=this.authority.match(tB),this.user=e[3]||null,this.password=e[4]||null,this.host=e[6]||e[7],this.port=e[9]||null)}toString(){return this.uri}};const by={},eB=new pc(Ee.applicationUrl);let mr=eB;const nB=iB();let p_=nB;const d_=()=>mr,rB=()=>p_;function iB(){const t=mr.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${mr.scheme}://${mr.host}${mr.port!=null?`:${mr.port}`:""}`}${e}`}function Hs(t){if(!t)return null;const e={path:null,query:null},n=new pc(t),r=t.indexOf("?");return n.query===null?e.path=t:(e.path=t.slice(0,r),e.query=_y(n.query)),n.fragment&&(e.hash=n.fragment,n.query===null&&(e.path=e.path.slice(0,e.path.length-(n.fragment.length+1)))),e}function _y(t){const e=t.split("&"),n={};for(const r of e){if(!r)continue;const i=r.indexOf("=");let s,o;i<0?(s=decodeURIComponent(r),o=""):(s=decodeURIComponent(r.slice(0,i)),o=decodeURIComponent(r.slice(i+1)));let a=n[s];typeof a=="string"&&(a=n[s]=[a]),Array.isArray(a)?a.push(o):n[s]=o}return n}function sh(t,e){return t?Object.keys(t).map(n=>{const r=t[n];if(r==null)return"";const i=encodeURIComponent(n)+"=",s=e?.[n];return s?i+encodeURIComponent(s(r)):Array.isArray(r)?r.map(o=>vy(o)?i+encodeURIComponent(JSON.stringify(o)):i+encodeURIComponent(o)).join("&"):vy(r)?i+encodeURIComponent(JSON.stringify(r)):i+encodeURIComponent(r)}).filter(n=>n).join("&"):""}function gM(t=!1){let e,n=ih.proxyUrl;if(typeof t=="string"){e=xM(t);const r=Dd(t);r&&(n=r.proxyUrl)}else e=!!t;if(!n)throw ZV().warn(fM),new ae("urlUtils:proxy-not-set",fM);return e&&b_()&&(n=Sy(n)),Hs(n)}function sB(t,e=!1){const n=Dd(t);let r,i;if(n){const s=f_(n.proxyUrl);r=s.path,i=s.query?_y(s.query):null}else if(e){const s=gM(t);r=s.path,i=s.query}if(r){const s=Hs(t);t=r+"?"+s.path;const o=sh({...i,...s.query});o&&(t=`${t}?${o}`)}return t}const Pd={path:"",query:""};function f_(t){const e=t.indexOf("?");return e!==-1?(Pd.path=t.slice(0,e),Pd.query=t.slice(e+1)):(Pd.path=t,Pd.query=null),Pd}function vM(t){return t=(t=Ty(t=EM(t=f_(t).path),!0)).toLowerCase()}function oB(t){const e={proxyUrl:t.proxyUrl,urlPrefix:vM(t.urlPrefix)},n=ih.proxyRules,r=e.urlPrefix;let i=n.length;for(let s=0;s<n.length;s++){const o=n[s].urlPrefix;if(r.indexOf(o)===0){if(r.length===o.length)return-1;i=s;break}o.indexOf(r)===0&&(i=s+1)}return n.splice(i,0,e),i}function Dd(t){const e=ih.proxyRules,n=vM(t);for(let r=0;r<e.length;r++)if(n.indexOf(e[r].urlPrefix)===0)return e[r]}function aB(t,e){if(!t||!e)return!1;t=wy(t),e=wy(e);const n=u_(t),r=u_(e);return n!=null&&r!=null?n.portalHostname===r.portalHostname:n==null&&r==null&&dc(t,e,!0)}function bM(t,e){return t=wy(t),e=wy(e),Ty(t)===Ty(e)}function wy(t){const e=(t=$o(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function m_(t,e=ih.interceptors){const n=r=>r==null||r instanceof RegExp&&r.test(t)||typeof r=="string"&&t.startsWith(r);if(e){for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(n))return r}else if(n(r.urls))return r}return null}function dc(t,e,n=!1){if(!t||!e)return!1;const r=w_(t),i=w_(e);return!(!n&&r.scheme!==i.scheme)&&r.host!=null&&i.host!=null&&r.host.toLowerCase()===i.host.toLowerCase()&&r.port===i.port}function y_(t){if(typeof t=="string"){if(!ki(t))return!0;t=w_(t)}if(dc(t,mr))return!0;const e=ih.trustedServers||[];for(let n=0;n<e.length;n++){const r=lB(e[n]);for(let i=0;i<r.length;i++)if(dc(t,r[i]))return!0}return!1}function lB(t){return by[t]||(v_(t)||Vo(t)?by[t]=[new pc(oh(t))]:by[t]=[new pc(`http://${t}`),new pc(`https://${t}`)]),by[t]}function oh(t,e=p_,n){return Vo(t)?n?.preserveProtocolRelative?t:mr.scheme==="http"&&mr.authority===Ri(t).slice(2)?`http:${t}`:`https:${t}`:v_(t)?t:xy(t[0]==="/"?yB(e):e,t)}function g_(t,e=p_,n){if(t==null||!ki(t))return t;const r=$o(t),i=r.toLowerCase(),s=$o(e).toLowerCase().replace(/\/+$/,""),o=n?$o(n).toLowerCase().replace(/\/+$/,""):null;if(o&&s.indexOf(o)!==0)return t;const a=(d,f,y)=>(y=d.indexOf(f,y))===-1?d.length:y;let l=a(i,"/",i.indexOf("//")+2),c=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(c=l+1,l!==i.length);)l=a(i,"/",l+1);if(c===-1||o&&c<o.length)return t;t=r.slice(c);const p=s.slice(c-1).replaceAll(/[^/]+/g,"").length;if(p>0)for(let d=0;d<p;d++)t=`../${t}`;else t=`./${t}`;return t}function $o(t){return t=xB(t=wB(t=_B(t=oh(t=t.trim()))))}function xy(...t){const e=t.filter(IA);if(!e?.length)return;const n=[];if(ki(e[0])){const i=e[0],s=i.indexOf("//");s!==-1&&(n.push(i.slice(0,s+1)),fB(e[0])&&(n[0]+="/"),e[0]=i.slice(s+2))}else e[0][0]==="/"&&n.push("");const r=e.reduce((i,s)=>s?i.concat(s.split("/")):i,[]);for(let i=0;i<r.length;i++){const s=r[i];s===".."&&n.length>0&&n[n.length-1]!==".."?n.pop():(!s&&i===r.length-1||s&&(s!=="."||n.length===0))&&n.push(s)}return n.join("/")}function Ri(t,e=!1){if(t==null||Ey(t)||fc(t))return null;let n=t.indexOf("://");if(n===-1&&Vo(t))n=2;else{if(n===-1)return null;n+=3}const r=t.indexOf("/",n);return r!==-1&&(t=t.slice(0,r)),e&&(t=Ty(t,!0)),t}function ki(t){return Vo(t)||v_(t)}function Ey(t){return t!=null&&t.slice(0,5)==="blob:"}function fc(t){return t!=null&&t.slice(0,5)==="data:"}function _M(t){const e=ah(t);return e?.isBase64?dM(e.data):null}function cB(t){return YV(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const uB=/^data:(.*?)(;base64)?,(.*)$/;function ah(t){const e=t.match(uB);if(!e)return null;const[,n,r,i]=e;return{mediaType:n,isBase64:!!r,data:i}}function wM(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function hB(t){return(await fetch(t)).blob()}function pB(t){const e=_M(t);if(!e)return null;const n=ah(t);return new Blob([e],{type:n.mediaType})}function Vo(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function v_(t){return t!=null&&mM.test(t)}function xM(t){return t!=null&&JV.test(t)||mr.scheme==="https"&&Vo(t)}function dB(t){return t!=null&&yM.test(t)||mr.scheme==="http"&&Vo(t)}function fB(t){return t!=null&&XV.test(t)}function Sy(t){return Vo(t)?`https:${t}`:t.replace(yM,"https:")}function mB(){return mr.scheme==="http"}function b_(){return mr.scheme==="https"}function Ty(t,e=!1){return Vo(t)?t.slice(2):(t=t.replace(mM,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function yB(t){const e=t.indexOf("//"),n=t.indexOf("/",e+2);return n===-1?t:t.slice(0,n)}function gB(t){let e=0;if(ki(t)){const r=t.indexOf("//");r!==-1&&(e=r+2)}const n=t.lastIndexOf("/");return n<e?t:t.slice(0,n+1)}function vB(t,e){if(!t)return"";const n=Hs(t).path.replace(/\/+$/,""),r=n.slice(n.lastIndexOf("/")+1);if(!e?.length)return r;const i=new RegExp(`\\.(${e.join("|")})$`,"i");return r.replace(i,"")}function EM(t){return t.endsWith("/")?t:`${t}/`}function bB(t){return t.replace(/\/+$/,"")}function _B(t){if(/^https?:\/\//i.test(t)){const e=f_(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function wB(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function xB(t){const e=ih.httpsDomains;if(!dB(t))return t;const n=t.indexOf("/",7);let r;if(r=n===-1?t:t.slice(0,n),r=r.toLowerCase().slice(7),qV.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","")}return mB()&&r===mr.authority&&!KV.test(t)||(b_()&&r===mr.authority||e&&e.some(i=>r===i||r.endsWith(`.${i}`))||b_()&&!Dd(t))&&(t=Sy(t)),t}function __(t,e,n){if(!(e&&n&&t&&ki(t)))return t;const r=t.indexOf("//"),i=t.indexOf("/",r+2),s=t.indexOf(":",r+2),o=Math.min(i<0?t.length:i,s<0?t.length:s);return t.slice(r+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,r+2)}${n}${t.slice(o)}`}function w_(t){return typeof t=="string"?new pc(oh(t)):(t.scheme||(t.scheme=mr.scheme),t)}function EB(t){return MB.test(t)}function SB(t,e){const n=Hs(t),r=Object.keys(n.query||{});return r.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),n.path}function TB(t,e,n){const r=Hs(t),i=r.query||{};return i[e]=String(n),`${r.path}?${sh(i)}`}function Ay(t,e){if(!e)return t;const n=Hs(t),r=n.query||{};for(const[s,o]of Object.entries(e))o!=null&&(r[s]=o);const i=sh(r);return i?`${n.path}?${i}`:n.path}function AB(t){if(t==null)return null;const e=t.match(TM);return e?e[2]:null}function SM(t){if(t==null)return null;const e=t.match(TM);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function IB(t){return typeof t=="string"?ah(t)??{data:t}:new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(ah(r.result)),r.onerror=i=>n(i)})}const TM=/([^.]*)\.([^/]*)$/,MB=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const AM="4.31";let ze,IM=AM;IM="4.31.6";function OB(t){ze=t}function NB(t){const e=ze?.findCredential(t);return e?.token?TB(t,"token",e.token):t}ut("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ut("host-webworker");const CB=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function RB(t){const e=Ri(t,!0);return!!e&&e.endsWith(".arcgis.com")&&!CB.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function MM(t,e){return!(!Ee.apiKey||!RB(t))}function OM(t,e,n=!1,r){return new Promise((i,s)=>{if(Ra(r))return void s(NM());let o=()=>{c(),s(new Error(`Unable to load ${e}`))},a=()=>{const p=t;c(),i(p)},l=()=>{if(!t)return;const p=t;c(),p.src="",s(NM())};const c=()=>{ut("esri-image-decode")||(t.removeEventListener("error",o),t.removeEventListener("load",a)),o=null,a=null,t=null,r?.removeEventListener("abort",l),l=null,n&&URL.revokeObjectURL(e)};r?.addEventListener("abort",l),ut("esri-image-decode")?t.decode().then(a,o):(t.addEventListener("error",o),t.addEventListener("load",a))})}function NM(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const CM="Timeout exceeded";function kB(){return new Error(CM)}function LB(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===CM}function PB(t){Ee.request.crossOriginNoCorsDomains||(Ee.request.crossOriginNoCorsDomains={});const e=Ee.request.crossOriginNoCorsDomains;for(let n of t)n=n.toLowerCase(),/^https?:\/\//.test(n)?e[Ri(n)??""]=0:(e[Ri("http://"+n)??""]=0,e[Ri("https://"+n)??""]=0)}function DB(t){const e=Ee.request.crossOriginNoCorsDomains;if(e){let n=Ri(t);if(n)return n=n.toLowerCase(),!dc(n,d_())&&e[n]<Date.now()-36e5}return!1}async function jB(t){const e=Hs(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const n=Ee.request.crossOriginNoCorsDomains,r=Ri(t);n&&r&&(n[r.toLowerCase()]=Date.now())}async function Xe(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=_y(e.query.toString().replaceAll("+"," ")));const n=fc(t),r=Ey(t);r||n||(t=$o(t));const i={url:t,requestOptions:{...e}},s=f=>({data:f,getAllHeaders:lh,getHeader:lh,httpStatus:200,requestOptions:i.requestOptions,url:i.url}),o=m_(t,Li.internalInterceptors);if(o){const f=await PM(o,i);if(f!=null)return s(f)}let a=m_(t);if(a){const f=await PM(a,i);if(f!=null)return s(f);a.after||a.error||(a=null)}if(t=i.url,(e=i.requestOptions).responseType==="image"&&(ut("host-webworker")||ut("host-node")))throw Ys("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),i);if(e.method==="head"){if(e.body)throw Ys("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),i);if(n||r)throw Ys("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),i)}if(await VB(),Iy)return Iy.execute(t,e);const l=new AbortController,c=ka(e,()=>l.abort()),p={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:i,redoRequest:!1,useIdentity:Li.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},d=await HB(p).finally(()=>c?.remove());return a?.after?.(d),d}let Iy;const Li=Ee.request,RM="FormData"in globalThis,FB=new Set([499,498,403,401]),UB=new Set(["COM_0056","COM_0057","SB_0008"]),GB=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],lh=()=>null,My=Symbol();function $B(t){const e=Ri(t);e&&!Xe._corsServers.includes(e)&&Xe._corsServers.push(e)}function kM(t){const e=Ri(t);return!e||e.endsWith(".arcgis.com")||Xe._corsServers.includes(e)||y_(e)}function Ys(t,e,n,r){let i="Error";const s={url:n.url,requestOptions:n.requestOptions,getAllHeaders:lh,getHeader:lh,ssl:!1};if(e instanceof ae)return e.details?(e.details=gt(e.details),e.details.url=n.url,e.details.requestOptions=n.requestOptions):e.details=s,e;if(e){const o=r&&(()=>Array.from(r.headers)),a=r&&(p=>r.headers.get(p)),l=r?.status,c=e.message;c&&(i=c),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?s.messages=[e.details]:s.messages=e.details,s.raw=My in e?e[My]:e}return eh(e)?zr():new ae(t,i,s)}async function VB(){ut("host-webworker")&&!Iy&&(Iy=await import("./request-Dm611-M3.js"))}async function x_(){ze||await import("./IdentityManager-CblTd4Fc.js")}async function BB(t){const e=t.params.url,n=t.params.requestOptions,r=t.controller.signal,i=n.body;let s=null,o=null;if(RM&&"HTMLFormElement"in globalThis&&(i instanceof FormData?s=i:i instanceof HTMLFormElement&&(s=new FormData(i))),typeof i=="string"&&(o=i),t.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:n.method==="head"?"HEAD":"GET",mode:"cors",priority:Li.priority,redirect:"follow",signal:r},(s||o)&&(t.fetchOptions.body=s||o),n.authMode==="anonymous"&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||n.query?.token||s?.get("token")),!t.hasToken&&MM(e)&&(n.query||(n.query={}),n.query.token=Ee.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!LM(e)&&!Ra(r)){let a;n.authMode==="immediate"?(await x_(),a=await ze.getCredential(e,{signal:r}),t.credential=a):n.authMode==="no-prompt"?(await x_(),a=await ze.getCredential(e,{prompt:!1,signal:r}).catch(()=>{}),t.credential=a):ze&&(a=ze.findCredential(e)),a&&(t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function LM(t){return GB.some(e=>e.test(t))}async function zB(t){let e=t.params.url;const n=t.params.requestOptions,r=t.fetchOptions??{},i=Ey(e)||fc(e),s=n.responseType||"json",o=i?0:n.timeout!=null?n.timeout:Li.timeout;let a=!1;if(!i){t.useSSL&&(e=Sy(e));let f={...n.query};t.credentialToken&&(f.token=t.credentialToken);let y=sh(f);ut("esri-url-encodes-apostrophe")&&(y=y.replaceAll("'","%27"));const g=e.length+1+y.length;let _;a=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||g>Li.maxUrlLength;const w=n.useProxy||!!Dd(e);if(w){const T=gM(e);_=T.path,!a&&_.length+1+g>Li.maxUrlLength&&(a=!0),T.query&&(f={...T.query,...f})}if(r.method==="HEAD"&&(a||w)){if(a)throw g>Li.maxUrlLength?Ys("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Ys("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(w)throw Ys("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}a?(r.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?e=Ay(e,f):(r.body=sh(f),r.headers||(r.headers={}),r.headers["Content-Type"]="application/x-www-form-urlencoded")):e=Ay(e,f),w&&(t.useProxy=!0,e=`${_}?${e}`),f.token&&RM&&r.body instanceof FormData&&!pM(e)&&r.body.set("token",f.token),n.hasOwnProperty("withCredentials")?t.withCredentials=n.withCredentials:dc(e,d_())||(y_(e)||ze&&ze.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(r.credentials="include",DB(e)&&await jB(a?Ay(e,f):e))}let l,c,p=0,d=!1;o>0&&(p=setTimeout(()=>{d=!0,t.controller.abort()},o));try{if(n.responseType==="native-request-init")c=r,c.url=e,n.signal?c.signal=n.signal:delete c.signal;else if(n.responseType!=="image"||r.cache!=="default"||r.method!=="GET"||a||WB(n.headers)||!i&&!t.useProxy&&Li.proxyUrl&&!kM(e)){if(Xe._beforeFetch&&await Xe._beforeFetch(e,r),l=await fetch(e,r),Xe._afterFetch&&await Xe._afterFetch(l),t.useProxy||$B(e),n.responseType==="native")c=l;else if(r.method!=="HEAD")if(l.ok){switch(s){case"array-buffer":c=await l.arrayBuffer();break;case"blob":case"image":c=await l.blob();break;default:c=await l.text()}if(p&&(clearTimeout(p),p=0),s==="json"||s==="xml"||s==="document")if(c)switch(s){case"json":c=JSON.parse(c);break;case"xml":c=DM(c,"application/xml");break;case"document":c=DM(c,"text/html")}else c=null;if(c){if(s==="array-buffer"||s==="blob"){const f=l.headers.get("Content-Type");if(f&&/application\/json|text\/plain/i.test(f)&&c[s==="blob"?"size":"byteLength"]<=750)try{const y=await new Response(c).json();y.error&&(c=y)}catch{}}s==="image"&&c instanceof Blob&&(c=await jM(URL.createObjectURL(c),t,!0))}}else{c=await l.text();try{c=JSON.parse(c)}catch{}}}else c=await jM(e,t)}catch(f){if(f.name==="AbortError")throw d?kB():zr("Request canceled");if(!(!l&&f instanceof TypeError&&Li.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||t.useProxy||kM(e))throw f;t.redoRequest=!0,oB({proxyUrl:Li.proxyUrl,urlPrefix:Ri(e)??""})}finally{p&&clearTimeout(p)}return[l,c]}async function PM(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let n,r;try{r=await t.before(e)}catch(i){n=Ys("request:interceptor",i,e)}if((r instanceof Error||r instanceof ae)&&(n=Ys("request:interceptor",r,e)),n)throw t.error&&t.error(n),n;return r}}function WB(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function DM(t,e){let n;try{n=new DOMParser().parseFromString(t,e)}catch{}if(!n||n.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return n}async function HB(t){let e,n;await BB(t);try{do[e,n]=await zB(t);while(!await YB(t,e,n))}catch(s){const o=Ys("request:server",s,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const r=t.params.url;if(n&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!t.hasToken&&!t.credentialToken&&n.user?.username&&!y_(r)){const s=Ri(r,!0);s&&Li.trustedServers.push(s)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&PB(n.authorizedCrossOriginNoCorsDomains)}const i=t.credential;if(i&&ze){let s=ze.findServerInfo(i.server)?.owningSystemUrl;if(s){s=s.replace(/\/?$/,"/sharing");const o=ze.findCredential(s,i.userId);o&&ze._getIdenticalSvcIdx(s,o)===-1&&o.resources.unshift(s)}}return{data:n,getAllHeaders:e?()=>Array.from(e.headers):lh,getHeader:e?s=>e.headers.get(s):lh,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function YB(t,e,n){if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!e||r.responseType==="native"||r.responseType==="native-request-init")return!0;let i,s;if(n&&(n.error&&typeof n.error=="object"?i=n.error:n.status==="error"&&Array.isArray(n.messages)&&(i={...n},i[My]=n,i.details=n.messages)),!i&&!e.ok)throw i=new Error(`Unable to load ${e.url} status: ${e.status}`),i[My]=n,i;let o,a=null;i&&(s=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,o=i.messageCode,o=o?.toUpperCase());const l=r.authMode;if(s===403&&(a===4||i.message?.toLowerCase().includes("ssl")&&!i.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&FB.has(s)&&!LM(t.params.url)&&(s!==403||(!o||!UB.has(o))&&(a==null||a===2&&t.credentialToken))){await x_();try{const c=await ze.getCredential(t.params.url,{error:Ys("request:server",i,t.params),prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=c,t.credentialToken=c.token,t.useSSL=t.useSSL||c.ssl,!1}catch(c){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;i=c}}if(i)throw i;return!0}function jM(t,e,n=!1){const r=e.controller.signal,i=new Image;return e.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=Li.priority,i.src=t,OM(i,t,n,r)}Xe._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Xe._beforeFetch=void 0,Xe._afterFetch=void 0;function E_(t){if(!Ee.assetsPath)throw Re.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ae("assets:path-not-set","config.assetsPath is not set");return xy(Ee.assetsPath,t)}let S_,Y=null;function FM(){return!!Y}function ZB(){return!!ut("esri-wasm")}function UM(){return S_||(S_=import("./pe-wasm-tEsgvglo.js").then(t=>t.p).then(({default:t})=>t({locateFile:e=>E_(`esri/geometry/support/${e}`)})).then(t=>{VM(t)}),S_)}var Oy,We;(function(t){function e(s,o,a){Y.ensureCache.prepare();const l=mc(a),c=a===l,p=Y.ensureFloat64(l),d=Y._pe_geog_to_proj(Y.getPointer(s),o,p);return d&&Pa(a,o,p,c),d}function n(s,o,a,l){switch(l){case We.PE_TRANSFORM_P_TO_G:return r(s,o,a);case We.PE_TRANSFORM_G_TO_P:return e(s,o,a)}return 0}function r(s,o,a){return i(s,o,a,0)}function i(s,o,a,l){Y.ensureCache.prepare();const c=mc(a),p=a===c,d=Y.ensureFloat64(c),f=Y._pe_proj_to_geog_center(Y.getPointer(s),o,d,l);return f&&Pa(a,o,d,p),f}t.geogToProj=e,t.projGeog=n,t.projToGeog=r,t.projToGeogCenter=i})(Oy||(Oy={})),function(t){function e(){t.PE_BUFFER_MAX=Y.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=Y.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=Y.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=Y.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=Y.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=Y.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=Y.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=Y.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=Y.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=Y.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=Y.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=Y.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=Y.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=Y.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=Y.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=Y.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=Y.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=Y.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=Y.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=Y.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=Y.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=Y.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=Y.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=Y.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=Y.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=Y.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=Y.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=Y.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=Y.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=Y.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=Y.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=Y.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(We||(We={}));let GM=null;var Ny;(function(t){const e={},n={},r=y=>{const g=y.getType();switch(g){case We.PE_TYPE_GEOGCS:y=Y.castObject(y,Y.PeGeogcs);break;case We.PE_TYPE_PROJCS:y=Y.castObject(y,Y.PeProjcs);break;case We.PE_TYPE_GEOGTRAN:y=Y.castObject(y,Y.PeGeogtran);break;default:g&We.PE_TYPE_UNIT&&(y=Y.castObject(y,Y.PeUnit))}return y};function i(){Y.PeFactory.prototype.initialize(null)}function s(y){return o(We.PE_TYPE_COORDSYS,y)}function o(y,g){let _=null,w=e[y];if(w||(w={},e[y]=w),w.hasOwnProperty(String(g))&&(_=w[g],Y.compare(_,Y.NULL)&&(_=null)),!_){const T=Y.PeFactory.prototype.factoryByType(y,g);Y.compare(T,Y.NULL)||(_=r(T),w[g]=_)}return _}function a(y,g){let _=null,w=n[y];if(w||(w={},n[y]=w),w.hasOwnProperty(g)&&(_=w[g],Y.compare(_,Y.NULL)&&(_=null)),!_){const T=Y.PeFactory.prototype.fromString(y,g);Y.compare(T,Y.NULL)||(_=r(T),w[g]=_)}return _}function l(y){return o(We.PE_TYPE_GEOGCS,y)}function c(y){return o(We.PE_TYPE_GEOGTRAN,y)}function p(y){return Y.PeFactory.prototype.getCode(y)}function d(y){return o(We.PE_TYPE_PROJCS,y)}function f(y){return o(We.PE_TYPE_UNIT,y)}t.initialize=i,t.coordsys=s,t.factoryByType=o,t.fromString=a,t.geogcs=l,t.geogtran=c,t.getCode=p,t.projcs=d,t.unit=f})(Ny||(Ny={}));let $M=null;var Cy,T_,Ry,A_,I_,ky,Ly,M_,Py,jd,O_;function VM(t){function e(s,o,a){s[o]=a(s[o])}Y=t,We.init(),Cy.init(),Ly.init(),Py.init(),jd.init(),GM=class extends Y.PeDouble{constructor(s=NaN){super(s)}destroy(){Y.destroy(this)}[Symbol.dispose](){this.destroy()}},$M=class extends Y.PeGCSExtent{destroy(){Y.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[Y.PeAngunit,Y.PeDatum,Y.PeGeogcs,Y.PeGeogtran,Y.PeObject,Y.PeParameter,Y.PePrimem,Y.PeProjcs,Y.PeSpheroid,Y.PeUnit];for(const s of n)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(We.PE_NAME_MAX))});for(const s of[Y.PeGeogtran,Y.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(We.PE_PARM_MAX);let l=o.call(this);for(let c=0;c<a.length;c++){const p=Y.getValue(l,"*");a[c]=p?Y.wrapPointer(p,Y.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(Y.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Pa(l,a,s.call(this),o),l}),e(Y.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=Y._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!Y.compare(l,Y.NULL)){a=[l];const c=this.getSteps();if(c>1){const p=Y.getPointer(l);for(let d=1;d<c;d++)a.push(Y.wrapPointer(p+o*d,Y.PeGTlistExtendedGTs))}}return a}});const r=Y._pe_getPeHorizonSize(),i=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!Y.compare(l,Y.NULL)){a=[l];const c=l.getNump();if(c>1){const p=Y.getPointer(l);for(let d=1;d<c;d++)a.push(Y.wrapPointer(p+r*d,Y.PeHorizon))}}return o.set(s,a),a};e(Y.PeProjcs.prototype,"horizonGcsGenerate",i),e(Y.PeProjcs.prototype,"horizonPcsGenerate",i),Y.PeObject.prototype.toString=function(s=We.PE_STR_OPTS_NONE){Y.ensureCache.prepare();const o=Y.getPointer(this),a=Y.ensureInt8(new Array(We.PE_BUFFER_MAX));return Y.UTF8ToString(Y._pe_object_to_string_ext(o,s,a))},Y.PeGeogcs.prototype.destroy=function(){this.Delete(),us(this),this.ptr=0},Y.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},Y.PeProjcs.prototype.destroy=function(){this.Delete(),us(this),this.ptr=0},Y.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function us(t){if(!t)return;const e=Y.getClass(t);if(!e)return;const n=Y.getCache(e);if(!n)return;const r=Y.getPointer(t);r&&delete n[r]}function Dy(t,e){const n=[],r=new Array(e);for(let i=0;i<t;i++)n.push(Y.ensureInt8(r));return n}function mc(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function Pa(t,e,n,r=!1){if(r)for(let i=0;i<2*e;i++)t[i]=Y.getValue(n+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=t.length===0;for(let s=0;s<e;s++)i&&(t[s]=new Array(2)),t[s][0]=Y.getValue(n,"double"),t[s][1]=Y.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function n(){t.PE_GTLIST_OPTS_COMMON=Y.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=Y._pe_getPeGTlistExtendedEntrySize()}function r(i,s,o,a,l,c){let p=null;const d=new Y.PeInteger(c);try{const f=Y.PeGTlistExtended.prototype.getGTlist(i,s,o,a,l,d);if((c=d.val)&&(p=[f],c>1)){const y=Y.getPointer(f);for(let g=1;g<c;g++)p.push(Y.wrapPointer(y+e*g,Y.PeGTlistExtendedEntry))}}finally{Y.destroy(d)}return p}t.init=n,t.getGTlist=r})(Cy||(Cy={})),function(t){function e(n){if(n?.length){for(const r of n)us(r),r.getEntries().forEach(i=>{us(i);const s=i.getGeogtran();us(s),s.getParameters().forEach(us),[s.getGeogcs1(),s.getGeogcs2()].forEach(o=>{us(o);const a=o.getDatum();us(a),us(a.getSpheroid()),us(o.getPrimem()),us(o.getUnit())})});Y.PeGTlistExtendedEntry.prototype.Delete(n[0])}}t.destroy=e}(T_||(T_={})),function(t){function e(n,r,i,s,o){Y.ensureCache.prepare();const a=mc(i),l=i===a,c=Y.ensureFloat64(a);let p=0;s&&(p=Y.ensureFloat64(s));const d=Y._pe_geog_to_geog(Y.getPointer(n),r,c,p,o);return d&&Pa(i,r,c,l),d}t.geogToGeog=e}(Ry||(Ry={})),function(t){function e(s,o,a,l,c,p,d,f){Y.PeLineType.prototype.geodesic_coordinate(s,o,a,l,c,p,d,f)}function n(s,o,a,l,c,p,d,f,y){Y.PeLineType.prototype.geodetic_coordinate(s,o,a,l,c,p,d,f,y)}function r(s,o,a,l,c,p,d,f,y,g){Y.PeLineType.prototype.geodetic_distance(s,o,a,l,c,p,d,f,y,g)}function i(s,o,a,l,c,p,d,f,y){Y.PeLineType.prototype.great_elliptic_distance(s,o,a,l,c,p,d,f,y)}t.geodesicCoordinate=e,t.geodeticCoordinate=n,t.geodeticDistance=r,t.greatEllipticDistance=i}(A_||(A_={})),function(t){function e(o,a){return Y.PeMath.prototype.phi_to_eta(o,a)}function n(o,a){return Y.PeMath.prototype.eta_to_phi(o,a)}function r(o,a){return Y.PeMath.prototype.phi_to_phig(o,a)}function i(o,a,l){return Y.PeMath.prototype.q(o,a,l)}function s(o,a){return Y.PeMath.prototype.q90(o,a)}t.phiToEta=e,t.etaToPhi=n,t.phiToPhig=r,t.q=i,t.q90=s}(I_||(I_={})),function(t){const e=(c,p,d,f,y,g)=>{let _,w;switch(Y.ensureCache.prepare(),c){case"dd":_=Y._pe_geog_to_dd,w=We.PE_DD_MAX;break;case"ddm":_=Y._pe_geog_to_ddm,w=We.PE_DDM_MAX;break;case"dms":_=Y._pe_geog_to_dms,w=We.PE_DMS_MAX}let T=0;p&&(T=Y.getPointer(p));const A=mc(f),x=Y.ensureFloat64(A),b=Dy(d,w),I=_(T,d,x,y,Y.ensureInt32(b));if(I)for(let N=0;N<d;N++)g[N]=Y.UTF8ToString(b[N]);return I},n=(c,p,d,f,y)=>{let g;switch(Y.ensureCache.prepare(),c){case"dd":g=Y._pe_dd_to_geog;break;case"ddm":g=Y._pe_ddm_to_geog;break;case"dms":g=Y._pe_dms_to_geog}let _=0;p&&(_=Y.getPointer(p));const w=f.map(b=>Y.ensureString(b)),T=Y.ensureInt32(w),A=Y.ensureFloat64(new Array(2*d)),x=g(_,d,T,A);return x&&Pa(y,d,A),x};function r(c,p,d,f,y){return e("dms",c,p,d,f,y)}function i(c,p,d,f){return n("dms",c,p,d,f)}function s(c,p,d,f,y){return e("ddm",c,p,d,f,y)}function o(c,p,d,f){return n("ddm",c,p,d,f)}function a(c,p,d,f,y){return e("dd",c,p,d,f,y)}function l(c,p,d,f){return n("dd",c,p,d,f)}t.geogToDms=r,t.dmsToGeog=i,t.geogToDdm=s,t.ddmToGeog=o,t.geogToDd=a,t.ddToGeog=l}(ky||(ky={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=Y.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=Y.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=Y.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=Y.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=Y.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function n(i,s,o,a,l,c,p){Y.ensureCache.prepare();let d=0;i&&(d=Y.getPointer(i));const f=mc(o),y=Y.ensureFloat64(f),g=Dy(s,We.PE_MGRS_MAX),_=Y.ensureInt32(g),w=Y._pe_geog_to_mgrs_extended(d,s,y,a,l,c,_);if(w)for(let T=0;T<s;T++)p[T]=Y.UTF8ToString(g[T]);return w}function r(i,s,o,a,l){Y.ensureCache.prepare();let c=0;i&&(c=Y.getPointer(i));const p=o.map(g=>Y.ensureString(g)),d=Y.ensureInt32(p),f=Y.ensureFloat64(new Array(2*s)),y=Y._pe_mgrs_to_geog_extended(c,s,d,a,f);return y&&Pa(l,s,f),y}t.init=e,t.geogToMgrsExtended=n,t.mgrsToGeogExtended=r}(Ly||(Ly={})),function(t){function e(r,i,s,o,a,l,c){Y.ensureCache.prepare();let p=0;r&&(p=Y.getPointer(r));const d=mc(s),f=Y.ensureFloat64(d),y=Dy(i,We.PE_MGRS_MAX),g=Y.ensureInt32(y),_=Y._pe_geog_to_usng(p,i,f,o,a,l,g);if(_)for(let w=0;w<i;w++)c[w]=Y.UTF8ToString(y[w]);return _}function n(r,i,s,o){Y.ensureCache.prepare();let a=0;r&&(a=Y.getPointer(r));const l=s.map(f=>Y.ensureString(f)),c=Y.ensureInt32(l),p=Y.ensureFloat64(new Array(2*i)),d=Y._pe_usng_to_geog(a,i,c,p);return d&&Pa(o,i,p),d}t.geogToUsng=e,t.usngToGeog=n}(M_||(M_={})),function(t){function e(){t.PE_UTM_OPTS_NONE=Y.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=Y.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=Y.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function n(i,s,o,a,l){Y.ensureCache.prepare();let c=0;i&&(c=Y.getPointer(i));const p=mc(o),d=Y.ensureFloat64(p),f=Dy(s,We.PE_UTM_MAX),y=Y.ensureInt32(f),g=Y._pe_geog_to_utm(c,s,d,a,y);if(g)for(let _=0;_<s;_++)l[_]=Y.UTF8ToString(f[_]);return g}function r(i,s,o,a,l){Y.ensureCache.prepare();let c=0;i&&(c=Y.getPointer(i));const p=o.map(g=>Y.ensureString(g)),d=Y.ensureInt32(p),f=Y.ensureFloat64(new Array(2*s)),y=Y._pe_utm_to_geog(c,s,d,a,f);return y&&Pa(l,s,f),y}t.init=e,t.geogToUtm=n,t.utmToGeog=r}(Py||(Py={})),function(t){const e=new Map;function n(){t.PE_PCSINFO_OPTION_NONE=Y.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=Y.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=Y.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=Y.PePCSInfo.prototype.PE_POLE_POINT}function r(i,s=t.PE_PCSINFO_OPTION_DOMAIN){let o=null,a=null;return e.has(i)&&(a=e.get(i),a[s]&&(o=a[s])),o||(o=Y.PePCSInfo.prototype.generate(i,s),a||(a=[],e.set(i,a)),a[s]=o),o}t.init=n,t.generate=r}(jd||(jd={})),function(t){function e(){return Y.PeVersion.prototype.version_string()}t.versionString=e}(O_||(O_={}));const JB=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return Oy},get PeDefs(){return We},get PeDouble(){return GM},get PeFactory(){return Ny},get PeGCSExtent(){return $M},get PeGTTransformations(){return Ry},get PeGTlistExtended(){return Cy},get PeGTlistExtendedEntry(){return T_},get PeLineType(){return A_},get PeMath(){return I_},get PeNotationDms(){return ky},get PeNotationMgrs(){return Ly},get PeNotationUsng(){return M_},get PeNotationUtm(){return Py},get PePCSInfo(){return jd},get PeVersion(){return O_},_init:VM,get _pe(){return Y},isLoaded:FM,isSupported:ZB,load:UM},Symbol.toStringTag,{value:"Module"}));var yc;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(yc||(yc={}));let h;const C={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(h=2e3;h<=2045;h++)C[h]=0;for(h=2056;h<=2065;h++)C[h]=0;for(h=2067;h<=2135;h++)C[h]=0;for(h=2137;h<=2154;h++)C[h]=0;for(h=2161;h<=2170;h++)C[h]=0;for(h=2172;h<=2193;h++)C[h]=0;for(h=2195;h<=2198;h++)C[h]=0;for(h=2200;h<=2203;h++)C[h]=0;for(h=2205;h<=2217;h++)C[h]=0;for(h=2222;h<=2224;h++)C[h]=1;for(h=2225;h<=2250;h++)C[h]=2;for(h=2251;h<=2253;h++)C[h]=1;for(h=2257;h<=2264;h++)C[h]=2;for(h=2274;h<=2279;h++)C[h]=2;for(h=2280;h<=2282;h++)C[h]=1;for(h=2283;h<=2289;h++)C[h]=2;for(h=2290;h<=2292;h++)C[h]=0;for(h=2308;h<=2313;h++)C[h]=0;for(h=2315;h<=2491;h++)C[h]=0;for(h=2494;h<=2866;h++)C[h]=0;for(h=2867;h<=2869;h++)C[h]=1;for(h=2870;h<=2888;h++)C[h]=2;for(h=2891;h<=2895;h++)C[h]=2;for(h=2896;h<=2898;h++)C[h]=1;for(h=2902;h<=2908;h++)C[h]=2;for(h=2915;h<=2920;h++)C[h]=2;for(h=2921;h<=2923;h++)C[h]=1;for(h=2924;h<=2930;h++)C[h]=2;for(h=2931;h<=2962;h++)C[h]=0;for(h=2964;h<=2968;h++)C[h]=2;for(h=2969;h<=2973;h++)C[h]=0;for(h=2975;h<=2991;h++)C[h]=0;for(h=2995;h<=3051;h++)C[h]=0;for(h=3054;h<=3079;h++)C[h]=0;for(h=3081;h<=3088;h++)C[h]=0;for(h=3092;h<=3101;h++)C[h]=0;for(h=3106;h<=3138;h++)C[h]=0;for(h=3146;h<=3151;h++)C[h]=0;for(h=3153;h<=3166;h++)C[h]=0;for(h=3168;h<=3172;h++)C[h]=0;for(h=3174;h<=3203;h++)C[h]=0;for(h=3294;h<=3358;h++)C[h]=0;for(h=3367;h<=3403;h++)C[h]=0;for(h=3408;h<=3416;h++)C[h]=0;for(h=3417;h<=3438;h++)C[h]=2;for(h=3441;h<=3446;h++)C[h]=2;for(h=3447;h<=3450;h++)C[h]=0;for(h=3451;h<=3459;h++)C[h]=2;for(h=3460;h<=3478;h++)C[h]=0;for(h=3554;h<=3559;h++)C[h]=0;for(h=3560;h<=3570;h++)C[h]=2;for(h=3571;h<=3581;h++)C[h]=0;for(h=3594;h<=3597;h++)C[h]=0;for(h=3601;h<=3604;h++)C[h]=0;for(h=3637;h<=3639;h++)C[h]=0;for(h=3665;h<=3667;h++)C[h]=0;for(h=3693;h<=3695;h++)C[h]=0;for(h=3701;h<=3727;h++)C[h]=0;for(h=3728;h<=3739;h++)C[h]=2;for(h=3740;h<=3751;h++)C[h]=0;for(h=3753;h<=3760;h++)C[h]=2;for(h=3761;h<=3773;h++)C[h]=0;for(h=3775;h<=3777;h++)C[h]=0;for(h=3779;h<=3781;h++)C[h]=0;for(h=3783;h<=3785;h++)C[h]=0;for(h=3788;h<=3791;h++)C[h]=0;for(h=3797;h<=3802;h++)C[h]=0;for(h=3814;h<=3816;h++)C[h]=0;for(h=3825;h<=3829;h++)C[h]=0;for(h=3832;h<=3841;h++)C[h]=0;for(h=3844;h<=3852;h++)C[h]=0;for(h=3873;h<=3885;h++)C[h]=0;for(h=3890;h<=3893;h++)C[h]=0;for(h=3907;h<=3912;h++)C[h]=0;for(h=3942;h<=3950;h++)C[h]=0;for(h=3968;h<=3970;h++)C[h]=0;for(h=3973;h<=3976;h++)C[h]=0;for(h=3986;h<=3989;h++)C[h]=0;for(h=3994;h<=3997;h++)C[h]=0;for(h=4048;h<=4051;h++)C[h]=0;for(h=4056;h<=4063;h++)C[h]=0;for(h=4093;h<=4096;h++)C[h]=0;for(h=4390;h<=4398;h++)C[h]=0;for(h=4399;h<=4413;h++)C[h]=2;for(h=4418;h<=4433;h++)C[h]=2;for(h=4455;h<=4457;h++)C[h]=2;for(h=4484;h<=4489;h++)C[h]=0;for(h=4491;h<=4554;h++)C[h]=0;for(h=4568;h<=4589;h++)C[h]=0;for(h=4652;h<=4656;h++)C[h]=0;for(h=4766;h<=4800;h++)C[h]=0;for(h=5014;h<=5016;h++)C[h]=0;for(h=5069;h<=5072;h++)C[h]=0;for(h=5105;h<=5130;h++)C[h]=0;for(h=5167;h<=5188;h++)C[h]=0;for(h=5253;h<=5259;h++)C[h]=0;for(h=5269;h<=5275;h++)C[h]=0;for(h=5292;h<=5311;h++)C[h]=0;for(h=5329;h<=5331;h++)C[h]=0;for(h=5343;h<=5349;h++)C[h]=0;for(h=5355;h<=5357;h++)C[h]=0;for(h=5387;h<=5389;h++)C[h]=0;for(h=5459;h<=5463;h++)C[h]=0;for(h=5479;h<=5482;h++)C[h]=0;for(h=5518;h<=5520;h++)C[h]=0;for(h=5530;h<=5539;h++)C[h]=0;for(h=5550;h<=5552;h++)C[h]=0;for(h=5562;h<=5583;h++)C[h]=0;for(h=5623;h<=5625;h++)C[h]=2;for(h=5631;h<=5639;h++)C[h]=0;for(h=5649;h<=5653;h++)C[h]=0;for(h=5663;h<=5680;h++)C[h]=0;for(h=5682;h<=5685;h++)C[h]=0;for(h=5875;h<=5877;h++)C[h]=0;for(h=5896;h<=5899;h++)C[h]=0;for(h=5921;h<=5940;h++)C[h]=0;for(h=6050;h<=6125;h++)C[h]=0;for(h=6244;h<=6275;h++)C[h]=0;for(h=6328;h<=6348;h++)C[h]=0;for(h=6350;h<=6356;h++)C[h]=0;for(h=6366;h<=6372;h++)C[h]=0;for(h=6381;h<=6387;h++)C[h]=0;for(h=6393;h<=6404;h++)C[h]=0;for(h=6480;h<=6483;h++)C[h]=0;for(h=6511;h<=6514;h++)C[h]=0;for(h=6579;h<=6581;h++)C[h]=0;for(h=6619;h<=6624;h++)C[h]=0;for(h=6625;h<=6627;h++)C[h]=2;for(h=6628;h<=6632;h++)C[h]=0;for(h=6634;h<=6637;h++)C[h]=0;for(h=6669;h<=6692;h++)C[h]=0;for(h=6707;h<=6709;h++)C[h]=0;for(h=6720;h<=6723;h++)C[h]=0;for(h=6732;h<=6738;h++)C[h]=0;for(h=6931;h<=6933;h++)C[h]=0;for(h=6956;h<=6959;h++)C[h]=0;for(h=7005;h<=7007;h++)C[h]=0;for(h=7057;h<=7070;h++)C[h]=2;for(h=7074;h<=7082;h++)C[h]=0;for(h=7109;h<=7118;h++)C[h]=0;for(h=7119;h<=7127;h++)C[h]=1;for(h=7374;h<=7376;h++)C[h]=0;for(h=7528;h<=7586;h++)C[h]=0;for(h=7587;h<=7645;h++)C[h]=2;for(h=7692;h<=7696;h++)C[h]=0;for(h=7755;h<=7787;h++)C[h]=0;for(h=7791;h<=7795;h++)C[h]=0;for(h=7799;h<=7801;h++)C[h]=0;for(h=7803;h<=7805;h++)C[h]=0;for(h=7825;h<=7831;h++)C[h]=0;for(h=7845;h<=7859;h++)C[h]=0;for(h=8013;h<=8032;h++)C[h]=0;for(h=8065;h<=8068;h++)C[h]=1;for(h=8518;h<=8529;h++)C[h]=2;for(h=8533;h<=8536;h++)C[h]=2;for(h=8538;h<=8540;h++)C[h]=2;for(h=8677;h<=8679;h++)C[h]=0;for(h=8836;h<=8840;h++)C[h]=0;for(h=8857;h<=8859;h++)C[h]=0;for(h=8908;h<=8910;h++)C[h]=0;for(h=9154;h<=9159;h++)C[h]=0;for(h=9205;h<=9218;h++)C[h]=0;for(h=9271;h<=9273;h++)C[h]=0;for(h=9295;h<=9297;h++)C[h]=0;for(h=9356;h<=9360;h++)C[h]=0;for(h=9404;h<=9407;h++)C[h]=0;for(h=9476;h<=9482;h++)C[h]=0;for(h=9487;h<=9494;h++)C[h]=0;for(h=9697;h<=9699;h++)C[h]=0;for(h=9821;h<=9865;h++)C[h]=0;for(h=10285;h<=10291;h++)C[h]=0;for(h=10314;h<=10317;h++)C[h]=0;for(h=10448;h<=10465;h++)C[h]=0;for(h=10731;h<=10733;h++)C[h]=0;for(h=11114;h<=11118;h++)C[h]=0;for(h=20004;h<=20032;h++)C[h]=0;for(h=20047;h<=20049;h++)C[h]=0;for(h=20062;h<=20092;h++)C[h]=0;for(h=20135;h<=20138;h++)C[h]=0;for(h=20248;h<=20258;h++)C[h]=0;for(h=20348;h<=20358;h++)C[h]=0;for(h=20436;h<=20440;h++)C[h]=0;for(h=20822;h<=20824;h++)C[h]=0;for(h=20904;h<=20932;h++)C[h]=0;for(h=20934;h<=20936;h++)C[h]=0;for(h=21004;h<=21032;h++)C[h]=0;for(h=21035;h<=21037;h++)C[h]=0;for(h=21095;h<=21097;h++)C[h]=0;for(h=21148;h<=21150;h++)C[h]=0;for(h=21207;h<=21264;h++)C[h]=0;for(h=21307;h<=21364;h++)C[h]=0;for(h=21413;h<=21423;h++)C[h]=0;for(h=21453;h<=21463;h++)C[h]=0;for(h=21473;h<=21483;h++)C[h]=0;for(h=21780;h<=21782;h++)C[h]=0;for(h=21891;h<=21894;h++)C[h]=0;for(h=21896;h<=21899;h++)C[h]=0;for(h=22171;h<=22177;h++)C[h]=0;for(h=22181;h<=22187;h++)C[h]=0;for(h=22191;h<=22197;h++)C[h]=0;for(h=22207;h<=22222;h++)C[h]=0;for(h=22229;h<=22232;h++)C[h]=0;for(h=22234;h<=22236;h++)C[h]=0;for(h=22243;h<=22250;h++)C[h]=0;for(h=22262;h<=22265;h++)C[h]=0;for(h=22307;h<=22322;h++)C[h]=0;for(h=22348;h<=22357;h++)C[h]=0;for(h=22407;h<=22422;h++)C[h]=0;for(h=22462;h<=22465;h++)C[h]=0;for(h=22521;h<=22525;h++)C[h]=0;for(h=22607;h<=22622;h++)C[h]=0;for(h=22641;h<=22646;h++)C[h]=0;for(h=22648;h<=22657;h++)C[h]=0;for(h=22707;h<=22722;h++)C[h]=0;for(h=22762;h<=22765;h++)C[h]=0;for(h=22807;h<=22822;h++)C[h]=0;for(h=22991;h<=22994;h++)C[h]=0;for(h=23028;h<=23038;h++)C[h]=0;for(h=23301;h<=23333;h++)C[h]=2;for(h=23830;h<=23853;h++)C[h]=0;for(h=23866;h<=23872;h++)C[h]=0;for(h=23877;h<=23884;h++)C[h]=0;for(h=23886;h<=23894;h++)C[h]=0;for(h=23946;h<=23948;h++)C[h]=0;for(h=24311;h<=24313;h++)C[h]=0;for(h=24342;h<=24347;h++)C[h]=0;for(h=24370;h<=24374;h++)C[h]=10;for(h=24375;h<=24381;h++)C[h]=0;for(h=24718;h<=24721;h++)C[h]=0;for(h=24817;h<=24821;h++)C[h]=0;for(h=24877;h<=24882;h++)C[h]=0;for(h=24891;h<=24893;h++)C[h]=0;for(h=25391;h<=25395;h++)C[h]=0;for(h=25828;h<=25838;h++)C[h]=0;for(h=26191;h<=26195;h++)C[h]=0;for(h=26391;h<=26393;h++)C[h]=0;for(h=26701;h<=26722;h++)C[h]=0;for(h=26729;h<=26799;h++)C[h]=2;for(h=26801;h<=26803;h++)C[h]=2;for(h=26811;h<=26813;h++)C[h]=2;for(h=26847;h<=26870;h++)C[h]=2;for(h=26891;h<=26899;h++)C[h]=0;for(h=26901;h<=26923;h++)C[h]=0;for(h=26929;h<=26946;h++)C[h]=0;for(h=26948;h<=26998;h++)C[h]=0;for(h=27037;h<=27040;h++)C[h]=0;for(h=27205;h<=27232;h++)C[h]=0;for(h=27258;h<=27260;h++)C[h]=0;for(h=27391;h<=27398;h++)C[h]=0;for(h=27561;h<=27564;h++)C[h]=0;for(h=27571;h<=27574;h++)C[h]=0;for(h=27581;h<=27584;h++)C[h]=0;for(h=27591;h<=27594;h++)C[h]=0;for(h=27700;h<=27707;h++)C[h]=0;for(h=28191;h<=28193;h++)C[h]=0;for(h=28348;h<=28358;h++)C[h]=0;for(h=28402;h<=28432;h++)C[h]=0;for(h=28462;h<=28492;h++)C[h]=0;for(h=29118;h<=29122;h++)C[h]=0;for(h=29168;h<=29172;h++)C[h]=0;for(h=29177;h<=29185;h++)C[h]=0;for(h=29187;h<=29195;h++)C[h]=0;for(h=29900;h<=29903;h++)C[h]=0;for(h=30161;h<=30179;h++)C[h]=0;for(h=30491;h<=30494;h++)C[h]=0;for(h=30729;h<=30732;h++)C[h]=0;for(h=31251;h<=31259;h++)C[h]=0;for(h=31265;h<=31268;h++)C[h]=0;for(h=31275;h<=31279;h++)C[h]=0;for(h=31281;h<=31297;h++)C[h]=0;for(h=31461;h<=31469;h++)C[h]=0;for(h=31491;h<=31495;h++)C[h]=0;for(h=31917;h<=31922;h++)C[h]=0;for(h=31965;h<=32e3;h++)C[h]=0;for(h=32001;h<=32003;h++)C[h]=2;for(h=32005;h<=32031;h++)C[h]=2;for(h=32033;h<=32060;h++)C[h]=2;for(h=32064;h<=32067;h++)C[h]=2;for(h=32074;h<=32077;h++)C[h]=2;for(h=32081;h<=32086;h++)C[h]=0;for(h=32107;h<=32130;h++)C[h]=0;for(h=32133;h<=32159;h++)C[h]=0;for(h=32164;h<=32167;h++)C[h]=2;for(h=32180;h<=32199;h++)C[h]=0;for(h=32201;h<=32260;h++)C[h]=0;for(h=32301;h<=32360;h++)C[h]=0;for(h=32401;h<=32460;h++)C[h]=0;for(h=32501;h<=32560;h++)C[h]=0;for(h=32601;h<=32662;h++)C[h]=0;for(h=32664;h<=32667;h++)C[h]=2;for(h=32701;h<=32761;h++)C[h]=0;for(h=53001;h<=53004;h++)C[h]=0;for(h=53008;h<=53019;h++)C[h]=0;for(h=53021;h<=53032;h++)C[h]=0;for(h=53034;h<=53037;h++)C[h]=0;for(h=53042;h<=53046;h++)C[h]=0;for(h=53074;h<=53080;h++)C[h]=0;for(h=54001;h<=54004;h++)C[h]=0;for(h=54008;h<=54019;h++)C[h]=0;for(h=54021;h<=54032;h++)C[h]=0;for(h=54034;h<=54037;h++)C[h]=0;for(h=54042;h<=54046;h++)C[h]=0;for(h=54048;h<=54053;h++)C[h]=0;for(h=54074;h<=54080;h++)C[h]=0;for(h=54098;h<=54101;h++)C[h]=0;for(h=102001;h<=102040;h++)C[h]=0;for(h=102042;h<=102063;h++)C[h]=0;for(h=102065;h<=102067;h++)C[h]=0;for(h=102070;h<=102117;h++)C[h]=0;for(h=102122;h<=102216;h++)C[h]=0;for(h=102221;h<=102377;h++)C[h]=0;for(h=102382;h<=102388;h++)C[h]=0;for(h=102389;h<=102398;h++)C[h]=2;for(h=102399;h<=102444;h++)C[h]=0;for(h=102445;h<=102447;h++)C[h]=2;for(h=102448;h<=102458;h++)C[h]=0;for(h=102459;h<=102468;h++)C[h]=2;for(h=102469;h<=102499;h++)C[h]=0;for(h=102500;h<=102519;h++)C[h]=1;for(h=102520;h<=102524;h++)C[h]=0;for(h=102525;h<=102529;h++)C[h]=2;for(h=102530;h<=102588;h++)C[h]=0;for(h=102590;h<=102598;h++)C[h]=0;for(h=102601;h<=102603;h++)C[h]=0;for(h=102605;h<=102628;h++)C[h]=0;for(h=102629;h<=102646;h++)C[h]=2;for(h=102648;h<=102700;h++)C[h]=2;for(h=102701;h<=102703;h++)C[h]=0;for(h=102707;h<=102730;h++)C[h]=2;for(h=102733;h<=102758;h++)C[h]=2;for(h=102767;h<=102900;h++)C[h]=0;for(h=102901;h<=102933;h++)C[h]=2;for(h=102934;h<=102950;h++)C[h]=13;for(h=102951;h<=102963;h++)C[h]=0;for(h=102965;h<=102969;h++)C[h]=0;for(h=102971;h<=102973;h++)C[h]=0;for(h=102975;h<=102989;h++)C[h]=0;for(h=102990;h<=102992;h++)C[h]=1;for(h=102997;h<=103002;h++)C[h]=0;for(h=103003;h<=103008;h++)C[h]=2;for(h=103009;h<=103011;h++)C[h]=0;for(h=103012;h<=103014;h++)C[h]=2;for(h=103019;h<=103021;h++)C[h]=0;for(h=103022;h<=103024;h++)C[h]=2;for(h=103029;h<=103031;h++)C[h]=0;for(h=103032;h<=103034;h++)C[h]=2;for(h=103065;h<=103068;h++)C[h]=0;for(h=103074;h<=103076;h++)C[h]=0;for(h=103077;h<=103079;h++)C[h]=1;for(h=103080;h<=103082;h++)C[h]=0;for(h=103083;h<=103085;h++)C[h]=2;for(h=103090;h<=103093;h++)C[h]=0;for(h=103097;h<=103099;h++)C[h]=0;for(h=103100;h<=103102;h++)C[h]=2;for(h=103107;h<=103109;h++)C[h]=0;for(h=103110;h<=103112;h++)C[h]=2;for(h=103113;h<=103116;h++)C[h]=0;for(h=103117;h<=103120;h++)C[h]=2;for(h=103153;h<=103157;h++)C[h]=0;for(h=103158;h<=103162;h++)C[h]=2;for(h=103163;h<=103165;h++)C[h]=0;for(h=103166;h<=103168;h++)C[h]=1;for(h=103169;h<=103171;h++)C[h]=2;for(h=103186;h<=103188;h++)C[h]=0;for(h=103189;h<=103191;h++)C[h]=2;for(h=103192;h<=103195;h++)C[h]=0;for(h=103196;h<=103199;h++)C[h]=2;for(h=103200;h<=103224;h++)C[h]=0;for(h=103225;h<=103227;h++)C[h]=1;for(h=103232;h<=103237;h++)C[h]=0;for(h=103238;h<=103243;h++)C[h]=2;for(h=103244;h<=103246;h++)C[h]=0;for(h=103247;h<=103249;h++)C[h]=2;for(h=103254;h<=103256;h++)C[h]=0;for(h=103257;h<=103259;h++)C[h]=2;for(h=103264;h<=103266;h++)C[h]=0;for(h=103267;h<=103269;h++)C[h]=2;for(h=103300;h<=103375;h++)C[h]=0;for(h=103381;h<=103383;h++)C[h]=0;for(h=103384;h<=103386;h++)C[h]=1;for(h=103387;h<=103389;h++)C[h]=0;for(h=103390;h<=103392;h++)C[h]=2;for(h=103397;h<=103399;h++)C[h]=0;for(h=103400;h<=103471;h++)C[h]=2;for(h=103476;h<=103478;h++)C[h]=0;for(h=103479;h<=103481;h++)C[h]=2;for(h=103486;h<=103488;h++)C[h]=0;for(h=103489;h<=103491;h++)C[h]=2;for(h=103492;h<=103495;h++)C[h]=0;for(h=103496;h<=103499;h++)C[h]=2;for(h=103528;h<=103543;h++)C[h]=0;for(h=103544;h<=103548;h++)C[h]=2;for(h=103549;h<=103551;h++)C[h]=0;for(h=103552;h<=103554;h++)C[h]=1;for(h=103555;h<=103557;h++)C[h]=2;for(h=103558;h<=103560;h++)C[h]=0;for(h=103571;h<=103573;h++)C[h]=0;for(h=103574;h<=103576;h++)C[h]=2;for(h=103577;h<=103580;h++)C[h]=0;for(h=103581;h<=103583;h++)C[h]=2;for(h=103595;h<=103694;h++)C[h]=0;for(h=103696;h<=103699;h++)C[h]=0;for(h=103700;h<=103793;h++)C[h]=2;for(h=103794;h<=103890;h++)C[h]=0;for(h=103891;h<=103896;h++)C[h]=2;for(h=103900;h<=103971;h++)C[h]=2;for(h=103972;h<=103977;h++)C[h]=0;for(h=112e3;h<=112101;h++)C[h]=0;const BM=[102100,102113,3857,3785,900913],XB=[104905,104971],qB=[4326,...BM,...XB],Fd=[-20037508342788905e-9,20037508342788905e-9],N_=[-20037508342787e-6,20037508342787e-6],C_={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Fd,origin:N_,dx:1e-5},zM={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Fd,origin:N_,dx:1e-5},102100:C_,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Fd,origin:N_,dx:1e-5},3857:C_,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:C_};function Da(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const n=t.wkid,r=e.wkid;if(n!=null||r!=null){if(n===r||ja(t)&&ja(e))return!0;const o=t.latestWkid;if(o!=null&&r===o)return!0;const a=e.latestWkid;return a!=null&&n===a}let i,s;return t.wkt2&&e.wkt2?(i=t.wkt2,s=e.wkt2):t.wkt&&e.wkt&&(i=t.wkt,s=e.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()}function Zs(t){const e=t?.wkid;return e!=null&&e>=2e3&&zM[e]||null}function jy(t){if(!t)return;const{wkid:e,vcsWkid:n}=t;if(e)return n?JSON.stringify({wkid:e,vcsWkid:n}):String(e);const r=t.wkt||t.wkt2;return JSON.stringify(r?n?{wkt:r,vcsWkid:n}:{wkt:r}:{})}function Fy(t){if(!R_(t))return!1;const{wkid:e}=t;if(e)return C[e]==null;const n=t.wkt2||t.wkt;return!!n&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(n)}function WM(t){return!(HM(t)||YM(t))}function Ud(t){return t?.wkid===4326}function KB(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function QB(t){return t?.wkid===yc.CGCS2000}function ja(t){const e=t?.wkid;return e!=null&&e>=2e3&&BM.includes(e)}function tz(t){return t?.wkid===32662}function Gd(t){return t===yc.GCSMARS2000||t===yc.GCSMARS2000_SPHERE}function HM(t){return Gd(t?.wkid)}function $d(t){return t===yc.GCSMOON2000}function YM(t){return $d(t?.wkid)}function ZM(t){const e=t?.wkid;return e!=null&&e>=2e3&&qB.includes(e)}function R_(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const k_={wkid:4326,wkt:w2(zM[4326].wkTemplate,{Central_Meridian:"0.0"})},L_={wkid:102100,latestWkid:3857},ez={wkid:32662};function P_(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const JM=P_(Ci),D_=P_(rh),j_=P_(Ld),nz={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Ci.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},rz=D_.wkt.toUpperCase(),iz=j_.wkt.toUpperCase();function XM(t){if(t!=null&&R_(t)){const e=t.wkid,n=t.wkt2??t.wkt;if(Gd(e))return rh;const r=n?.toUpperCase();if(n&&r===rz)return rh;if($d(e)||r&&r===iz)return Ld}return Ci}function sz(t){return Gd(t)?rh:$d(t)?Ld:Ci}function qM(t){return Da(t,JM)}function oz(t){return qM(t)||Da(t,D_)||Da(t,j_)}const F_=39.37,az=Ci.radius*Math.PI/200,KM=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,gc=C,QM=/UNIT\[([^\]]+)]/i,lz=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),cz=Ni()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Js=t=>t*t,Fa=t=>t*t*t,Vd={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Js(.001)},"square-centimeters":{inBaseUnits:Js(.01)},"square-decimeters":{inBaseUnits:Js(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Js(1e3)},"square-inches":{inBaseUnits:Js(.0254)},"square-feet":{inBaseUnits:Js(.3048)},"square-yards":{inBaseUnits:Js(.9144)},"square-miles":{inBaseUnits:Js(1609.344)},"square-us-feet":{inBaseUnits:Js(1200/3937)},acres:{inBaseUnits:.0015625*Js(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Fa(.001)},"cubic-centimeters":{inBaseUnits:1e3*Fa(.01)},"cubic-decimeters":{inBaseUnits:1e3*Fa(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Fa(1e3)},"cubic-inches":{inBaseUnits:1e3*Fa(.0254)},"cubic-feet":{inBaseUnits:1e3*Fa(.3048)},"cubic-yards":{inBaseUnits:1e3*Fa(.9144)},"cubic-miles":{inBaseUnits:1e3*Fa(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},uz=(()=>{const t={};for(const e in Vd)for(const n in Vd[e].units)t[n]=e;return t})();function hz(t,e,n){return t*Vd[n].units[e].inBaseUnits}function pz(t,e,n){return t/Vd[n].units[e].inBaseUnits}const tO=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],dz=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Uy(t){const e=uz[t];if(!e)throw new Error("unknown type");return e}function eO(t,e=null){return e=e||Uy(t),Vd[e].baseUnit===t}function Ua(t,e,n){if(e===n)return t;const r=Uy(e);if(r!==Uy(n))throw new Error("incompatible units");const i=eO(e,r)?t:hz(t,e,r);return eO(n,r)?i:pz(i,n,r)}function nO(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function fz(t){return nO(t)}function mz(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function yz(t,e){const n=Ua(t,e,"meters");return Math.abs(n)<3e3?"meters":"kilometers"}function gz(t,e){const n=Ua(t,e,"meters");return Math.abs(n)<1e5?"meters":"kilometers"}function vz(t,e){const n=Ua(t,e,"feet");return Math.abs(n)<1e3?"feet":"miles"}function bz(t,e){const n=Ua(t,e,"feet");return Math.abs(n)<1e5?"feet":"miles"}function _z(t,e){const n=Ua(t,e,"square-meters");return Math.abs(n)<3e6?"square-meters":"square-kilometers"}function wz(t,e){const n=Ua(t,e,"square-feet");return Math.abs(n)<1e6?"square-feet":"square-miles"}function xz(t,e,n){return Ua(t,e,"meters")/(n*Math.PI/180)}function rO(t){return cz.fromJSON(t.toLowerCase())||null}function Ez(t){if(t!=null&&!WM(t))return 1;const e=vc(t);return e>1e5?1:e}function iO(t){return vc(t)>=XM(t).metersPerDegree?"meters":ch(t)}function vc(t,e=Ci.metersPerDegree){return sO(t,!0)??e}function sO(t,e=!1){const n=t?.wkid??null,r=t?.wkt2??t?.wkt??null;let i=null;if(n){if(Gd(n))return rh.metersPerDegree;if($d(n))return Ld.metersPerDegree;i=gc.values[gc[n]],!i&&e&&lz.has(n)&&(i=az)}else r&&(U_(r)?i=oO(KM.exec(r),i):lO(r)&&(i=oO(QM.exec(r),i)));return i}function Sz(t){return Fy(t)?1:vc(t)}function oO(t,e){return t?.[1]?aO(t[1]):e}function aO(t){return parseFloat(t.split(",")[1])}function ch(t){const e=t?.wkid??null,n=t?.wkt2??t?.wkt??null;let r=null;if(e)r=gc.units[gc[e]];else if(n){const i=U_(n)?KM:lO(n)?QM:null;if(i){const s=i.exec(n);s?.[1]&&(r=Oz(s[1]))}}return r!=null?rO(r):null}function Tz(t){const e=ch(t);return e!=null&&tO.includes(e)?e:null}function Az(t){const e=iO(t);return e!=null&&tO.includes(e)?e:null}function Iz(t){const e=ch(t);return e==null?null:dz.get(e)}function lO(t){return/^GEOCCS/i.test(t)}function U_(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const Mz=1e-7;function Oz(t){let e=/[\\"']{1}([^\\"']+)/.exec(t)?.[1];if(!e||!gc.units.includes(e)){const n=aO(t);e=null;const r=gc.values;for(let i=0;i<r.length;++i)if(Math.abs(n-r[i])<Mz){e=gc.units[i];break}}return e}function Nz(t){const e=ch(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const Cz={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Rz={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},kz={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},Lz=Ni()(Cz),Pz=Ni()(Rz),Dz=Ni()(kz);function Pe(t,e,n){let r,i;return e===void 0?(i=t,r=[void 0]):typeof e!="string"?(i=t,r=[void 0],n=e):(i=e,r=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of r){const c=M2(s,l,i);c.write&&typeof c.write=="object"||(c.write={}),n&&(c.write.target=n),c.write.writer=a[o]}}}var Xs;let Se=Xs=class extends Kt{static fromJSON(t){if(!t)return null;if(t?.wkid===102100)return Xs.WebMercator;if(t?.wkid===4326)return Xs.WGS84;const e=new Xs;return e.read(t),e}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Ud(this)}get isWebMercator(){return ja(this)}get isGeographic(){return Fy(this)}get isWrappable(){return ZM(this)}get metersPerUnit(){return vc(this)}get unit(){return ch(this)||(this.isGeographic?"degrees":null)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===Xs.WGS84)return new Xs(k_);if(this===Xs.WebMercator)return new Xs(L_);const t=new Xs;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=gt(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:e,referenceServiceName:n}=t.imageCoordinateSystem,{geodataXform:r}=t.imageCoordinateSystem,i=this.imageCoordinateSystem;return e==null||r?JSON.stringify(i)===JSON.stringify(t.imageCoordinateSystem):n?i.id===e&&i.referenceServiceName===n:i.id===e}return Da(this,t)}toJSON(t){return this.write(void 0,t)}};Se.GCS_NAD_1927=null,Se.WGS84=null,Se.WebMercator=null,Se.PlateCarree=null,v([S({readOnly:!0})],Se.prototype,"isWGS84",null),v([S({readOnly:!0})],Se.prototype,"isWebMercator",null),v([S({readOnly:!0})],Se.prototype,"isGeographic",null),v([S({readOnly:!0})],Se.prototype,"isWrappable",null),v([S({type:kn,json:{write:!0}})],Se.prototype,"latestWkid",void 0),v([S({readOnly:!0})],Se.prototype,"metersPerUnit",null),v([S({readOnly:!0})],Se.prototype,"unit",null),v([S({type:kn,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Se.prototype,"wkid",void 0),v([S({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Se.prototype,"wkt",void 0),v([Pe("wkt"),Pe("web-scene","wkt")],Se.prototype,"writeWkt",null),v([S({type:String,json:{write:!1}})],Se.prototype,"wkt2",void 0),v([S({type:kn,json:{write:!0}})],Se.prototype,"vcsWkid",void 0),v([S({type:kn,json:{write:!0}})],Se.prototype,"latestVcsWkid",void 0),v([S()],Se.prototype,"imageCoordinateSystem",void 0),Se=Xs=v([it("esri.geometry.SpatialReference")],Se),Se.prototype.toJSON.isDefaultToJSON=!0,Se.GCS_NAD_1927=Bn.freeze(new Se({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Se.WGS84=Bn.freeze(new Se(k_)),Se.WebMercator=Bn.freeze(new Se(L_)),Se.PlateCarree=Bn.freeze(new Se(ez));const qe=Se;let qs=class extends Kt{constructor(...t){super(...t),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=qe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(t,e){if(t instanceof qe)return t;if(t!=null){const n=new qe;return n.read(t,e),n}return t}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(t){return this.cache[t]}setCacheValue(t,e){this.cache[t]=e}};v([S()],qs.prototype,"type",void 0),v([S({readOnly:!0})],qs.prototype,"cache",null),v([S({readOnly:!0})],qs.prototype,"extent",null),v([S({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],qs.prototype,"hasM",void 0),v([S({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],qs.prototype,"hasZ",void 0),v([S({type:qe,json:{write:!0},value:qe.WGS84})],qs.prototype,"spatialReference",void 0),v([gn("spatialReference")],qs.prototype,"readSpatialReference",null),qs=v([it("esri.geometry.Geometry")],qs);const Ga=qs,jz=Object.prototype.toString;function Fz(t){const e="__accessorMetadata__"in t?Oi(t):t;return function(...n){if(n.push(e),typeof n[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Uz.apply(this,n)}}function Uz(t,e,n,r){Sd(t,e).cast=r}function Gz(t){return(e,n)=>{Sd(e,t).cast=e[n]}}function uh(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&jz.call(t[0])==="[object Function]"?Fz(t[0]):t.length===1&&typeof t[0]=="string"?Gz(t[0]):void 0}const $z=57.29577951308232,Vz=.017453292519943;function cO(t){return t*$z}function uO(t){return t*Vz}function Bz(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Ci.radius))}function G_(t){return t.wkid!=null||t.wkt!=null}const $_=[0,0];function Gy(t,e,n,r,i){const s=t,o=i;if(o.spatialReference=n,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,$_,r);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,$_,r),[o.xmax,o.ymax]=e(s.xmax,s.ymax,$_,r);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let c;for(let p=0;p<a.length;p++){const d=a[p];c=[],l.push(c);for(let f=0;f<d.length;f++)c.push(e(d[f][0],d[f][1],[0,0],r)),d[f].length>2&&c[f].push(d[f][2]),d[f].length>3&&c[f].push(d[f][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let c=0;c<a.length;c++)l[c]=e(a[c][0],a[c][1],[0,0],r),a[c].length>2&&l[c].push(a[c][2]),a[c].length>3&&l[c].push(a[c][3]);o.points=l}return i}function Bd(t,e){const n=t&&(G_(t)?t:t.spatialReference),r=e&&(G_(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!n||!r)&&(!!Da(r,n)||ja(r)&&Ud(n)||ja(n)&&Ud(r))}function V_(t,e){if(t==null)return null;const n=t.spatialReference,r=e&&(G_(e)?e:e.spatialReference);return Bd(n,r)?Da(n,r)?gt(t):ja(r)?Gy(t,bc,qe.WebMercator,!1,gt(t)):Ud(r)?Gy(t,zd,qe.WGS84,!1,gt(t)):null:null}function bc(t,e,n=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const r=uO(e);return n[0]=uO(t)*Ci.radius,n[1]=Ci.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),n}function zd(t,e,n=[0,0],r=!1){if(t===Fd[0])n[0]=-180;else if(t===Fd[1])n[0]=180;else{const i=cO(t/Ci.radius);n[0]=r?i:i-360*Math.floor((i+180)/360)}return n[1]=cO(Math.PI/2-2*Math.atan(Math.exp(-e/Ci.radius))),n}function _c(t,e=!1,n=gt(t)){return Gy(t,bc,qe.WebMercator,e,n)}function hh(t,e=!1,n=gt(t)){return Gy(t,zd,qe.WGS84,e,n)}function hO(t,e){const n=t.x-e.x,r=t.y-e.y,i=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(n*n+r*r+i*i)}function zz(t){return B_(t,pO)?.[0]??null}function Wz(t){return B_(t,pO)?.[1]??null}function B_({x:t,y:e,spatialReference:n},r=[0,0]){if(n){if(ja(n))return zd(t,e,r);if(Fy(n))return r[0]=t,r[1]=e,r}return null}const pO=[0,0];var $y;const z_=[0,0];function dO(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Mr=$y=class extends Ga{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const n=t._get("spatialReference");e._set("spatialReference",Bn.isFrozen(n)?n:n.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,n,r,i){let s;if(Array.isArray(t))s=t,i=e,t=s[0],e=s[1],n=s[2],r=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,n=s.z,r=s.m,(i=s.spatialReference)&&i.declaredClass!=="esri.geometry.SpatialReference"&&(i=new qe(i)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Re.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Re.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&i?.isWebMercator){const a=bc(s.longitude,s.latitude,z_);t=a[0],e=a[1]}}}else dO(n)?(i=n,n=null):dO(r)&&(i=r,r=null);const o={x:t,y:e};return o.x==null&&o.y!=null?Re.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Re.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),i!=null&&(o.spatialReference=i),n!=null&&(o.z=n),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return Wz(this)}set latitude(t){const{spatialReference:e,x:n}=this;t!=null&&e&&(e.isWebMercator?this._set("y",bc(n,t,z_)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return zz(this)}set longitude(t){const{y:e,spatialReference:n}=this;t!=null&&n&&(n.isWebMercator?this._set("x",bc(t,e,z_)[0]):n.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,n){e[n]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new $y;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return $y.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:n,z:r,m:i,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:c,spatialReference:p}=t;if(!s.equals(p))if(s.isWebMercator&&p.isWGS84)[l,c]=bc(l,c),p=s;else{if(!s.isWGS84||!p.isWebMercator)return!1;[l,c]=zd(l,c),p=s}return e===l&&n===c&&r===o&&i===a&&s.wkid===p.wkid}offset(t,e,n){return this.x+=t,this.y+=e,n!=null&&(this.z=(this.z??0)+n),this}normalize(){if(!this.spatialReference)return this;const t=Zs(this.spatialReference);if(!t)return this;let e=this.x;const[n,r]=t.valid,i=2*r;let s;return e>r?(s=Math.ceil(Math.abs(e-r)/i),e-=s*i):e<n&&(s=Math.ceil(Math.abs(e-n)/i),e+=s*i),this._set("x",e),this}distance(t){return hO(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};v([S({readOnly:!0})],Mr.prototype,"cache",null),v([S({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Mr.prototype,"hasM",null),v([S({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Mr.prototype,"hasZ",null),v([S({type:Number})],Mr.prototype,"latitude",null),v([S({type:Number})],Mr.prototype,"longitude",null),v([S({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),uh(t=>isNaN(t)?t:_d(t))],Mr.prototype,"x",void 0),v([Pe("x")],Mr.prototype,"writeX",null),v([gn("x")],Mr.prototype,"readX",null),v([S({type:Number,json:{write:!0}})],Mr.prototype,"y",void 0),v([S({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Mr.prototype,"z",void 0),v([S({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Mr.prototype,"m",void 0),Mr=$y=v([it("esri.geometry.Point")],Mr),Mr.prototype.toJSON.isDefaultToJSON=!0;const Tn=Mr,W_=[0,0];function H_(t,e){return e!=null&&Or(t,e.x,e.y,e.z)}function Hz(t,e){if(!e.points||e.points.length)return!1;for(const n of e.points)if(!ph(t,n))return!1;return!0}function Yz(t,e){const{xmin:n,ymin:r,zmin:i,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?Or(t,n,r,i)&&Or(t,n,o,i)&&Or(t,s,o,i)&&Or(t,s,r,i)&&Or(t,n,r,a)&&Or(t,n,o,a)&&Or(t,s,o,a)&&Or(t,s,r,a):Or(t,n,r)&&Or(t,n,o)&&Or(t,s,o)&&Or(t,s,r)}function ph(t,e){return Or(t,e[0],e[1])}function Zz(t,e){return Or(t,e[0],e[1],e[2])}function Or(t,e,n,r){return e>=t.xmin&&e<=t.xmax&&n>=t.ymin&&n<=t.ymax&&(r==null||!t.hasZ||r>=t.zmin&&r<=t.zmax)}function fO(t,e){return W_[1]=e.y,W_[0]=e.x,Jz(t,W_)}function Jz(t,e){return Y_(t.rings,e)}function Y_(t,e){if(!t)return!1;if(Xz(t))return mO(!1,t,e);let n=!1;for(let r=0,i=t.length;r<i;r++)n=mO(n,t[r],e);return n}function Xz(t){return!Array.isArray(t[0][0])}function mO(t,e,n){const[r,i]=n;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[c,p]=e[a],[d,f]=e[o];(p<i&&f>=i||f<i&&p>=i)&&c+(i-p)/(f-p)*(d-c)<r&&(s=!s)}return s}function qz(t,e){return H_(t,e)}function yO(t,e){const n=t.hasZ&&e.hasZ;let r,i,s;if(t.xmin<=e.xmin){if(r=e.xmin,t.xmax<r)return!1}else if(r=t.xmin,e.xmax<r)return!1;if(t.ymin<=e.ymin){if(i=e.ymin,t.ymax<i)return!1}else if(i=t.ymin,e.ymax<i)return!1;if(n&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function Kz(t,e){const{points:n,hasZ:r}=e,i=r?Zz:ph;for(const s of n)if(i(t,s))return!0;return!1}const wc=[0,0],xc=[0,0],Ec=[0,0],Sc=[0,0],Qz=[wc,xc,Ec,Sc],gO=[[Ec,wc],[wc,xc],[xc,Sc],[Sc,Ec]];function vO(t,e){return tW(t,e.rings)}function tW(t,e){wc[0]=t.xmin,wc[1]=t.ymax,xc[0]=t.xmax,xc[1]=t.ymax,Ec[0]=t.xmin,Ec[1]=t.ymin,Sc[0]=t.xmax,Sc[1]=t.ymin;for(const n of Qz)if(Y_(e,n))return!0;for(const n of e){if(!n.length)continue;let r=n[0];if(ph(t,r))return!0;for(let i=1;i<n.length;i++){const s=n[i];if(ph(t,s)||bO(r,s,gO))return!0;r=s}}return!1}function eW(t,e){wc[0]=t.xmin,wc[1]=t.ymax,xc[0]=t.xmax,xc[1]=t.ymax,Ec[0]=t.xmin,Ec[1]=t.ymin,Sc[0]=t.xmax,Sc[1]=t.ymin;const n=e.paths;for(const r of n){if(!n.length)continue;let i=r[0];if(ph(t,i))return!0;for(let s=1;s<r.length;s++){const o=r[s];if(ph(t,o)||bO(i,o,gO))return!0;i=o}}return!1}const qn=[0,0];function nW(t){for(let e=0;e<t.length;e++){const n=t[e];for(let i=0;i<n.length-1;i++){const s=n[i],o=n[i+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const c=t[a][l],p=t[a][l+1];if(Vy(s,o,c,p,qn)&&!(qn[0]===s[0]&&qn[1]===s[1]||qn[0]===c[0]&&qn[1]===c[1]||qn[0]===o[0]&&qn[1]===o[1]||qn[0]===p[0]&&qn[1]===p[1]))return!0}}const r=n.length;if(!(r<=4))for(let i=0;i<r-3;i++){let s=r-1;i===0&&(s=r-2);const o=n[i],a=n[i+1];for(let l=i+2;l<s;l++){const c=n[l],p=n[l+1];if(Vy(o,a,c,p,qn)&&!(qn[0]===o[0]&&qn[1]===o[1]||qn[0]===c[0]&&qn[1]===c[1]||qn[0]===a[0]&&qn[1]===a[1]||qn[0]===p[0]&&qn[1]===p[1]))return!0}}}return!1}function bO(t,e,n){for(let r=0;r<n.length;r++)if(Vy(t,e,n[r][0],n[r][1]))return!0;return!1}function Vy(t,e,n,r,i){const[s,o]=t,[a,l]=e,[c,p]=n,[d,f]=r,y=d-c,g=s-c,_=a-s,w=f-p,T=o-p,A=l-o,x=w*_-y*A;if(x===0)return!1;const b=(y*T-w*g)/x,I=(_*T-A*g)/x;return b>=0&&b<=1&&I>=0&&I<=1&&(i&&(i[0]=s+b*(a-s),i[1]=o+b*(l-o)),!0)}function _O(t){switch(t){case"esriGeometryEnvelope":case"extent":return yO;case"esriGeometryMultipoint":case"multipoint":return Kz;case"esriGeometryPoint":case"point":return qz;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return vO;case"esriGeometryPolyline":case"polyline":return eW}}var Pi;function rW(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function $a(t,e,n){return e==null?n:n==null?e:t(e,n)}let zn=Pi=class extends Ga{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,n,r,i){return rW(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?qe.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:n,ymax:r,spatialReference:i??qe.WGS84}}static fromBounds(t,e){return new Pi({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}static fromPoint(t){return new Pi({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new Tn({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Pi;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&Bd(e,n)&&(t=e.isWebMercator?_c(t):hh(t,!0)),t.type==="point"?H_(this,t):t.type==="extent"&&Yz(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;return e&&n&&!e.equals(n)&&Bd(e,n)&&(t=e.isWebMercator?_c(t):hh(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),n=this.width*e,r=this.height*e;if(this.xmin+=n,this.ymin+=r,this.xmax-=n,this.ymax-=r,this.hasZ){const i=(this.zmax-this.zmin)*e;this.zmin+=i,this.zmax-=i}if(this.hasM){const i=(this.mmax-this.mmin)*e;this.mmin+=i,this.mmax-=i}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,n=t.spatialReference;return e&&n&&!Da(e,n)&&Bd(e,n)&&(t=e.isWebMercator?_c(t):hh(t,!0)),_O(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,n){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,n!=null&&(this.zmin+=n,this.zmax+=n),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=$a(Math.min,this.zmin,t.zmin),this.zmax=$a(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=$a(Math.min,this.mmin,t.mmin),this.mmax=$a(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=$a(Math.max,this.zmin,t.zmin),this.zmax=$a(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=$a(Math.max,this.mmin,t.mmin),this.mmax=$a(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=Zs(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,n=this._getCM(t);if(n){const r=e.isWebMercator?hh(n):n;this.xmin-=n.x,this.xmax-=n.x,e.isWebMercator||(r.x=Z_(r.x,t).x),this.spatialReference=new qe(w2((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(t){let e=null;const[n,r]=t.valid,i=this.xmin,s=this.xmax;return i>=n&&i<=r&&s>=n&&s<=r||(e=this.center),e}_normalize(t,e,n){const r=this.spatialReference;if(!r)return this;const i=n??Zs(r);if(i==null)return this;const s=this._getParts(i).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(t)return this._shiftCM(i);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const c=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const p=(l.zmax-l.zmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}if(a){const p=(l.mmax-l.mmin)/2;for(let d=0;d<c.length;d++)c[d].push(p)}return c}),hasZ:o,hasM:a,spatialReference:r}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:i,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,c=this.xmax;let p;t=t||Zs(o);const[d,f]=t.valid;p=Z_(this.xmin,t);const y=p.x,g=p.frameId;p=Z_(this.xmax,t);const _=p.x,w=p.frameId,T=y===_&&a>0;if(a>2*f){const A=new Pi(l<c?y:_,i,f,s,o),x=new Pi(d,i,l<c?_:y,s,o),b=new Pi(0,i,f,s,o),I=new Pi(d,i,0,s,o),N=[],R=[];A.contains(b)&&N.push(g),A.contains(I)&&R.push(g),x.contains(b)&&N.push(w),x.contains(I)&&R.push(w);for(let P=g+1;P<w;P++)N.push(P),R.push(P);e.push({extent:A,frameIds:[g]},{extent:x,frameIds:[w]},{extent:b,frameIds:N},{extent:I,frameIds:R})}else y>_||T?e.push({extent:new Pi(y,i,f,s,o),frameIds:[g]},{extent:new Pi(d,i,_,s,o),frameIds:[w]}):e.push({extent:new Pi(y,i,_,s,o),frameIds:[g]});this.cache._parts=e}const n=this.hasZ,r=this.hasM;if(n||r){const i={};n&&(i.zmin=this.zmin,i.zmax=this.zmax),r&&(i.mmin=this.mmin,i.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(i)}return e}};function Z_(t,e){const[n,r]=e.valid,i=2*r;let s,o=0;return t>r?(s=Math.ceil(Math.abs(t-r)/i),t-=s*i,o=s):t<n&&(s=Math.ceil(Math.abs(t-n)/i),t+=s*i,o=-s),{x:t,frameId:o}}v([S({readOnly:!0})],zn.prototype,"cache",null),v([S({readOnly:!0})],zn.prototype,"center",null),v([S({readOnly:!0})],zn.prototype,"extent",null),v([S({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],zn.prototype,"hasM",null),v([S({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],zn.prototype,"hasZ",null),v([S({readOnly:!0})],zn.prototype,"height",null),v([S({readOnly:!0})],zn.prototype,"width",null),v([S({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],zn.prototype,"xmin",void 0),v([S({type:Number,json:{write:!0}})],zn.prototype,"ymin",void 0),v([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],zn.prototype,"mmin",void 0),v([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],zn.prototype,"zmin",void 0),v([S({type:Number,json:{write:!0}})],zn.prototype,"xmax",void 0),v([S({type:Number,json:{write:!0}})],zn.prototype,"ymax",void 0),v([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],zn.prototype,"mmax",void 0),v([S({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],zn.prototype,"zmax",void 0),zn=Pi=v([it("esri.geometry.Extent")],zn),zn.prototype.toJSON.isDefaultToJSON=!0;const Wr=zn;function dh(t,e,n=!1){let{hasM:r,hasZ:i}=t;Array.isArray(e)?e.length!==4||r||i?e.length===3&&n&&!r?(i=!0,r=!1):e.length===3&&r&&i&&(r=!1,i=!1):(r=!0,i=!0):(i=!i&&e.hasZ&&(!r||e.hasM),r=!r&&e.hasM&&(!i||e.hasZ)),t.hasZ=i,t.hasM=r}var J_;function wO(t){return(e,n)=>e==null?n:n==null?e:t(e,n)}function iW(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Va=J_=class extends Ga{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const n={};Array.isArray(t)?(n.points=t,n.spatialReference=e):iW(t)?n.spatialReference=t:(t.points&&(n.points=t.points),t.spatialReference&&(n.spatialReference=t.spatialReference),t.hasZ&&(n.hasZ=t.hasZ),t.hasM&&(n.hasM=t.hasM));const r=n.points?.[0];return r&&(n.hasZ===void 0&&n.hasM===void 0?(n.hasZ=r.length>2,n.hasM=!1):n.hasZ===void 0?n.hasZ=r.length>3:n.hasM===void 0&&(n.hasM=r.length>3)),n}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new Wr,n=this.hasZ,r=this.hasM,i=n?3:2,s=t[0],o=wO(Math.min),a=wO(Math.max);let l,c,p,d,[f,y]=s,[g,_]=s;for(let w=0,T=t.length;w<T;w++){const A=t[w],[x,b]=A;if(f=o(f,x),y=o(y,b),g=a(g,x),_=a(_,b),n&&A.length>2){const I=A[2];l=o(l,I),p=a(p,I)}if(r&&A.length>i){const I=A[i];c=o(c,I),d=a(d,I)}}return e.xmin=f,e.ymin=y,e.xmax=g,e.ymax=_,e.spatialReference=this.spatialReference,n?(e.zmin=l,e.zmax=p):(e.zmin=void 0,e.zmax=void 0),r?(e.mmin=c,e.mmax=d):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=gt(this.points)}addPoint(t){return dh(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:gt(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new J_(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],n={x:e[0],y:e[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(n.z=e[2],r=3),this.hasM&&(n.m=e[r]),new Tn(n)}removePoint(t){if(!this._validateInputs(t))return null;const e=new Tn(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(dh(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};v([S({readOnly:!0})],Va.prototype,"cache",null),v([S()],Va.prototype,"extent",null),v([S({type:[[Number]],json:{write:{isRequired:!0}}})],Va.prototype,"points",void 0),v([Pe("points")],Va.prototype,"writePoints",null),Va=J_=v([it("esri.geometry.Multipoint")],Va),Va.prototype.toJSON.isDefaultToJSON=!0;const Wd=Va;function sW(t){const e=[];for(t.reset();t.nextPath();){const n=[];for(;t.nextPoint();)n.push([t.x,t.y]);e.push(n)}return t.reset(),e}function xO(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var Hd;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(Hd||(Hd={}));function X_(t,e){const n=e[0]-t[0],r=e[1]-t[1];if(t.length>2&&e.length>2){const i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}return Math.sqrt(n*n+r*r)}function oW(t,e,n){const r=t[0]+n*(e[0]-t[0]),i=t[1]+n*(e[1]-t[1]);return t.length>2&&e.length>2?[r,i,t[2]+n*(e[2]-t[2])]:[r,i]}function aW(t,e,n,r){return EO(t,e,n[r],n[r+1])}function EO(t,e,n,r){const[i,s]=e,[o,a]=n,[l,c]=r,p=l-o,d=c-a,f=p*p+d*d,y=(i-o)*p+(s-a)*d,g=Math.min(1,Math.max(0,y/f));return t[0]=o+p*g,t[1]=a+d*g,t}function lW(t,e,n,r,i,s){let o=n,a=r,l=i-o,c=s-a;if(l!==0||c!==0){const p=((t-o)*l+(e-a)*c)/(l*l+c*c);p>1?(o=i,a=s):p>0&&(o+=l*p,a+=c*p)}return l=t-o,c=e-a,l*l+c*c}function SO(t,e){return oW(t,e,.5)}function cW(t){const e=t.length;let n=0;for(let r=0;r<e-1;++r)n+=X_(t[r],t[r+1]);return n}function q_(t,e=Hd.X,n=Hd.Y){let r=0;const i=t.length;let s=t[0];for(let o=1;o<i;o++){const a=t[o];r+=(a[e]-s[e])*(a[n]+s[n]),s=a}if(!TO(t)){const o=t[0];r+=(o[e]-s[e])*(o[n]+s[n])}return r>=0}function TO(t){const e=t.length;return e<3||bd(t[0],t[e-1])}function uW(t){"rings"in t&&(AO(t),hW(t))}function AO(t){if(!("rings"in t))return!1;let e=!1;for(const n of t.rings)TO(n)||(n.push(n[0].slice()),e=!0);return e}function hW(t){if(!("rings"in t)||t.rings.length===0||q_(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function pW(t){return t.type!=="polygon"&&t.type!=="polyline"||IO(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function IO(t,e){const n=Zs(e);if(!n)return;const r=n.valid[0],i=n.valid[1],s=i-r;for(const o of t){let a=1/0,l=-1/0;for(const p of o){const d=dW(p[0],r,i);a=Math.min(a,d),l=Math.max(l,d),p[0]=d}const c=l-a;s-c<c&&o.forEach(p=>{p[0]<0&&(p[0]+=s)})}}function dW(t,e,n){const r=n-e;return t<e?n-(e-t)%r:t>n?e+(t-e)%r:t}function fW(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[n,r]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return n.length===r.length&&n.every((i,s)=>i.length===r[s].length)}function mW(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function MO(t){return t?OO(t.rings,t.hasZ??!1):null}function OO(t,e){if(!t?.length)return null;const n=[],r=[],i=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=NO(t[s],e,i);a&&r.push(a)}if(r.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),r.length&&(n[0]=r[0][0],n[1]=r[0][1],e&&(n[2]=r[0][3]),(n[0]<i[0]||n[0]>i[1]||n[1]<i[2]||n[1]>i[3]||e&&(n[2]<i[4]||n[2]>i[5]))&&(n.length=0)),!n.length){const s=t[0]&&t[0].length?gW(t[0],e):null;if(!s)return null;n[0]=s[0],n[1]=s[1],e&&s.length>2&&(n[2]=s[2])}return n}function NO(t,e,n){let r=0,i=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,c=t.length?t[0][1]:0,p=t.length&&e?t[0][2]:0;for(let f=0;f<t.length;f++){const y=t[f],g=t[(f+1)%t.length],[_,w,T]=y,A=_-l,x=w-c,[b,I,N]=g,R=b-l,P=I-c,D=A*P-R*x;if(o+=D,r+=(A+R)*D,i+=(x+P)*D,e&&y.length>2&&g.length>2){const B=T-p,$=N-p,U=A*$-R*B;s+=(B+$)*U,a+=U}_<n[0]&&(n[0]=_),_>n[1]&&(n[1]=_),w<n[2]&&(n[2]=w),w>n[3]&&(n[3]=w),e&&(T<n[4]&&(n[4]=T),T>n[5]&&(n[5]=T))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[r/(6*o)+l,i/(6*o)+c,o];return e&&(n[4]===n[5]||a===0?(d[3]=(n[4]+n[5])/2,d[4]=0):(d[3]=s/(6*a)+p,d[4]=a)),d}function yW(t,e){let n=0,r=0,i=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const c=[t.x,t.y],[p,d]=l,f=p-s,y=d-o,[g,_]=c,w=g-s,T=_-o,A=f*T-w*y;i+=A,n+=(f+w)*A,r+=(y+T)*A,p<e[0]&&(e[0]=p),p>e[1]&&(e[1]=p),d<e[2]&&(e[2]=d),d>e[3]&&(e[3]=d)}return i>0&&(i*=-1),i?(i*=.5,[n/(6*i)+s,r/(6*i)+o,i]):null}function gW(t,e){const n=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;for(let l=0,c=t.length;l<c-1;l++){const p=t[l],d=t[l+1];if(p&&d){n[0]=p[0],n[1]=p[1],r[0]=d[0],r[1]=d[1],e&&p.length>2&&d.length>2&&(n[2]=p[2],r[2]=d[2]);const f=X_(n,r);if(f){i+=f;const y=SO(p,d);s+=f*y[0],o+=f*y[1],e&&y.length>2&&(a+=f*y[2])}}}return i>0?e?[s/i,o/i,a/i]:[s/i,o/i]:t.length?t[0]:null}function vW(t){const{hasZ:e,totalSize:n}=t;if(n===0)return null;const r=[],i=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=NO(xO(t),t.hasZ,s);o&&i.push(o)}if(i.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),i.length&&(r[0]=i[0][0],r[1]=i[0][1],e&&(r[2]=i[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||e&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){t.reset(),t.nextPath();const o=t.pathSize?bW(t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],e&&o.length>2&&(r[2]=o[2])}return r}function bW(t){const{hasZ:e}=t,n=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let i=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,c=t.y,p=t.z;for(;t.nextPoint();){const d=t.x,f=t.y,y=t.z;n[0]=l,n[1]=c,r[0]=d,r[1]=f,e&&(n[2]=p,r[2]=y);const g=X_(n,r);if(g){i+=g;const _=SO(n,r);s+=g*_[0],o+=g*_[1],e&&_.length>2&&(a+=g*_[2])}l=d,c=f,p=y}}return i>0?e?[s/i,o/i,a/i]:[s/i,o/i]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const _W=1e-6;function wW(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<_W){const i=vW(t);return i?[i[0],i[1]]:null}const n=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const r=[t.x,t.y];for(t.reset();t.nextPath();)EW(n,r,t);return n[0]*=1/e,n[1]*=1/e,n[0]+=r[0],n[1]+=r[1],n}const xW=1/3;function EW(t,e,n){if(!t||!n||n.pathSize<3)return null;n.nextPoint();const r=n.x,i=n.y;n.nextPoint();let s,o=n.x-r,a=n.y-i,l=0,c=0;for(;n.nextPoint();)l=n.x-r,c=n.y-i,s=.5*xW*(l*a-c*o),t[0]+=s*(o+l),t[1]+=s*(a+c),o=l,a=c;const p=n.getCurrentRingArea(),d=[r,i];return d[0]-=e[0],d[1]-=e[1],d[0]*=p,d[1]*=p,t[0]+=d[0],t[1]+=d[1],t}function fh(t=DW){return[t[0],t[1],t[2],t[3]]}function CO(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function SW(t,e,n,r,i=fh()){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function TW(t,e=fh()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function AW(t,e){return new Wr({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}function IW(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function MW(t,e,n){if(e!=null)if("length"in e)K_(e)?(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[2]),n[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n[2]=Math.max(t[2],e[0]),n[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":n[0]=Math.min(t[0],e.xmin),n[1]=Math.min(t[1],e.ymin),n[2]=Math.max(t[2],e.xmax),n[3]=Math.max(t[3],e.ymax);break;case"point":n[0]=Math.min(t[0],e.x),n[1]=Math.min(t[1],e.y),n[2]=Math.max(t[2],e.x),n[3]=Math.max(t[3],e.y)}else CO(n,t)}function RO(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function kO(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function OW(t){return RO(t)*kO(t)}function NW(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function CW(t,e,n){return e>=t[0]&&n>=t[1]&&e<=t[2]&&n<=t[3]}function RW(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function kW(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function LW(t){return t?CO(t,Q_):fh(Q_)}function K_(t){return t!=null&&t.length===4}function PW(t,e){return K_(t)&&K_(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const Q_=[1/0,1/0,-1/0,-1/0],DW=[0,0,0,0];function LO(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function PO(t){return t.points!==void 0}function DO(t){return t.x!==void 0&&t.y!==void 0}function jO(t){return t.paths!==void 0}function FO(t){return t.rings!==void 0}function UO(t){function e(n,r){return n==null?r:r==null?n:t(n,r)}return e}const Ba=UO(Math.min),za=UO(Math.max);function jW(t,e){return jO(e)?mh(t,e.paths,!1,!1):FO(e)?mh(t,e.rings,!1,!1):PO(e)?tw(t,e.points,!1,!1,!1,!1):LO(e)?$O(t,e):(DO(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function FW(t){let e,n,r,i;for(t.reset(),e=r=1/0,n=i=-1/0;t.nextPath();){const s=GO(t);e=Math.min(s[0],e),r=Math.min(s[1],r),n=Math.max(s[2],n),i=Math.max(s[3],i)}return fh([e,r,n,i])}function GO(t){let e,n,r,i;for(e=r=1/0,n=i=-1/0;t.nextPoint();)e=Math.min(t.x,e),r=Math.min(t.y,r),n=Math.max(t.x,n),i=Math.max(t.y,i);return fh([e,r,n,i])}function UW(t,e){return jO(e)?mh(t,e.paths,!0,!1):FO(e)?mh(t,e.rings,!0,!1):PO(e)?tw(t,e.points,!0,!1,!0,!1):LO(e)?$O(t,e,!0,!1,!0,!1):(DO(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function mh(t,e,n,r){const i=n?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[c,p]=e[0][0],[d,f]=e[0][0];for(let y=0;y<e.length;y++){const g=e[y];for(let _=0;_<g.length;_++){const w=g[_],[T,A]=w;if(c=Ba(c,T),p=Ba(p,A),d=za(d,T),f=za(f,A),n&&w.length>2){const x=w[2];s=Ba(s,x),o=za(o,x)}if(r&&w.length>i){const x=w[i];a=Ba(s,x),l=za(o,x)}}}return n?r?(t[0]=c,t[1]=p,t[2]=s,t[3]=a,t[4]=d,t[5]=f,t[6]=o,t[7]=l,t.length=8,t):(t[0]=c,t[1]=p,t[2]=s,t[3]=d,t[4]=f,t[5]=o,t.length=6,t):r?(t[0]=c,t[1]=p,t[2]=a,t[3]=d,t[4]=f,t[5]=l,t.length=6,t):(t[0]=c,t[1]=p,t[2]=d,t[3]=f,t.length=4,t)}function $O(t,e,n,r,i,s){const o=e.xmin,a=e.xmax,l=e.ymin,c=e.ymax;let p=e.zmin,d=e.zmax,f=e.mmin,y=e.mmax;return i?(p=p||0,d=d||0,s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=p,t[3]=f,t[4]=a,t[5]=c,t[6]=d,t[7]=y,t):(t[0]=o,t[1]=l,t[2]=p,t[3]=a,t[4]=c,t[5]=d,t)):s?(f=f||0,y=y||0,t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=c,t[5]=y,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=c,t)}function tw(t,e,n,r,i,s){const o=n?3:2,a=r&&s,l=n&&i;if(!e.length||!e[0].length)return null;let c,p,d,f,[y,g]=e[0],[_,w]=e[0];for(let T=0;T<e.length;T++){const A=e[T],[x,b]=A;if(y=Ba(y,x),g=Ba(g,b),_=za(_,x),w=za(w,b),l&&A.length>2){const I=A[2];c=Ba(c,I),p=za(p,I)}if(a&&A.length>o){const I=A[o];d=Ba(c,I),f=za(p,I)}}return i?(c=c||0,p=p||0,s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=c,t[3]=d,t[4]=_,t[5]=w,t[6]=p,t[7]=f,t):(t[0]=y,t[1]=g,t[2]=c,t[3]=_,t[4]=w,t[5]=p,t)):s?(d=d||0,f=f||0,t[0]=y,t[1]=g,t[2]=d,t[3]=_,t[4]=w,t[5]=f,t):(t[0]=y,t[1]=g,t[2]=_,t[3]=w,t)}function GW(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function $W(t){return t.points!==void 0}function VW(t){return t.x!==void 0&&t.y!==void 0}function BW(t){return t.paths!==void 0}function zW(t){return t.rings!==void 0}const ew=[];function VO(t,e,n,r){return{xmin:t,ymin:e,xmax:n,ymax:r}}function BO(t,e,n,r,i,s){return{xmin:t,ymin:e,zmin:n,xmax:r,ymax:i,zmax:s}}function zO(t,e,n,r,i,s){return{xmin:t,ymin:e,mmin:n,xmax:r,ymax:i,mmax:s}}function WO(t,e,n,r,i,s,o,a){return{xmin:t,ymin:e,zmin:n,mmin:r,xmax:i,ymax:s,zmax:o,mmax:a}}function nw(t,e=!1,n=!1){return e?n?WO(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):BO(t[0],t[1],t[2],t[3],t[4],t[5]):n?zO(t[0],t[1],t[2],t[3],t[4],t[5]):VO(t[0],t[1],t[2],t[3])}function WW(t){return t?GW(t)?t:VW(t)?YW(t):zW(t)?rw(t):BW(t)?HO(t):$W(t)?HW(t):null:null}function HW(t){const{hasZ:e,hasM:n,points:r}=t;return nw(tw(ew,r,e??!1,n??!1),e,n)}function YW(t){const{x:e,y:n,z:r,m:i}=t,s=i!=null;return r!=null?s?WO(e,n,r,i,e,n,r,i):BO(e,n,r,e,n,r):s?zO(e,n,i,e,n,i):VO(e,n,e,n)}function rw(t){const{hasZ:e,hasM:n,rings:r}=t,i=mh(ew,r,e??!1,n??!1);return i?nw(i,e,n):null}function HO(t){const{hasZ:e,hasM:n,paths:r}=t,i=mh(ew,r,e??!1,n??!1);return i?nw(i,e,n):null}var By;function YO(t){return!Array.isArray(t[0])}function ZW(t){return typeof t[0]?.[0]=="number"}function JW(t){if(!t)return;let{rings:e,hasM:n,hasZ:r,spatialReference:i}=t;switch(e??=[],ZW(e)&&(e=[e]),e[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=n!==!0,n??=!r;break;default:r??=!1,n??=!1}return i??=qe.WGS84,{...t,hasM:n,hasZ:r,rings:e,spatialReference:i}}let Ks=By=class extends Ga{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:n}=t;let r=!1,i=!1;for(const o of e)o.hasZ&&(r=!0),o.hasM&&(i=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let c=0;c<a.length;c++)a[c].push(l)}if(i&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let c=0;c<a.length;c++)a[c].push(l)}return a}),spatialReference:n};return r&&(s.hasZ=!0),i&&(s.hasM=!0),new By(s)}constructor(t){super(JW(t)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=MO(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new Tn;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=rw(this);if(!e)return null;const n=new Wr(e);return n.spatialReference=t,n}get isSelfIntersecting(){return nW(this.rings)}writeRings(t,e){e.rings=gt(this.rings)}addRing(t){if(!t)return;const e=this.rings,n=e.length;if(YO(t)){const r=[];for(let i=0,s=t.length;i<s;i++)r[i]=t[i].toArray();e[n]=r}else e[n]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new By;return t.spatialReference=this.spatialReference,t.rings=gt(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,n=t.spatialReference;if(e!=null!=(n!=null)||e!=null&&n!=null&&!e.equals(n)||this.rings.length!==t.rings.length)return!1;const r=([i,s,o,a],[l,c,p,d])=>i===l&&s===c&&(o==null&&p==null||o===p)&&(a==null&&d==null||a===d);for(let i=0;i<this.rings.length;i++){const s=this.rings[i],o=t.rings[i];if(!bd(s,o,r))return!1}return!0}contains(t){if(!t)return!1;const e=V_(t,this.spatialReference);return fO(this,e??t)}isClockwise(t){const e=YO(t)?t.map(n=>this.hasZ?this.hasM?[n.x,n.y,n.z,n.m]:[n.x,n.y,n.z]:[n.x,n.y]):t;return q_(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.rings[t][e],r=this.hasZ,i=this.hasM;return r&&!i?new Tn(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new Tn(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new Tn(n[0],n[1],n[2],n[3],this.spatialReference):new Tn(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(dh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t].splice(e,0,n),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new Tn(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),n}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],n=this.spatialReference,r=e.map(i=>new Tn(i,n));return this.notifyChange("rings"),r}setPoint(t,e,n){return this._validateInputs(t,e)?(dh(this,n),Array.isArray(n)||(n=n.toArray()),this.rings[t][e]=n,this.notifyChange("rings"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const r=this.rings[t];if(n&&(e<0||e>r.length)||!n&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([S({readOnly:!0})],Ks.prototype,"cache",null),v([S({readOnly:!0})],Ks.prototype,"centroid",null),v([S({readOnly:!0})],Ks.prototype,"extent",null),v([S({readOnly:!0})],Ks.prototype,"isSelfIntersecting",null),v([S({type:[[[Number]]],json:{write:{isRequired:!0}}})],Ks.prototype,"rings",void 0),v([Pe("rings")],Ks.prototype,"writeRings",null),Ks=By=v([it("esri.geometry.Polygon")],Ks);const hs=Ks;Ks.prototype.toJSON.isDefaultToJSON=!0;var iw;function XW(t){return!Array.isArray(t[0])}function qW(t){return typeof t[0]?.[0]=="number"}function KW(t){if(!t)return;let{paths:e,hasM:n,hasZ:r,spatialReference:i}=t;switch(e??=[],qW(e)&&(e=[e]),e[0]?.[0]?.length){case 4:r??=!0,n??=!0;break;case 3:r??=n!==!0,n??=!r;break;default:r??=!1,n??=!1}return i??=qe.WGS84,{...t,hasM:n,hasZ:r,paths:e,spatialReference:i}}let Wa=iw=class extends Ga{constructor(t){super(KW(t)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=HO(this);if(!e)return null;const n=new Wr(e);return n.spatialReference=t,n}writePaths(t,e){e.paths=gt(this.paths)}addPath(t){if(!t)return;const e=this.paths,n=e.length;if(XW(t)){const r=[];for(let i=0,s=t.length;i<s;i++)r[i]=t[i].toArray();e[n]=r}else e[n]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new iw;return t.spatialReference=this.spatialReference,t.paths=gt(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const n=this.paths[t][e],r=this.hasZ,i=this.hasM;return r&&!i?new Tn(n[0],n[1],n[2],void 0,this.spatialReference):i&&!r?new Tn(n[0],n[1],void 0,n[2],this.spatialReference):r&&i?new Tn(n[0],n[1],n[2],n[3],this.spatialReference):new Tn(n[0],n[1],this.spatialReference)}insertPoint(t,e,n){return this._validateInputs(t,e,!0)?(dh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t].splice(e,0,n),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],n=this.spatialReference,r=e.map(i=>new Tn(i,n));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const n=new Tn(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),n}setPoint(t,e,n){return this._validateInputs(t,e)?(dh(this,n),Array.isArray(n)||(n=n.toArray()),this.paths[t][e]=n,this.notifyChange("paths"),this):this}_validateInputs(t,e,n=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const r=this.paths[t];if(n&&(e<0||e>r.length)||!n&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};v([S({readOnly:!0})],Wa.prototype,"cache",null),v([S({readOnly:!0})],Wa.prototype,"extent",null),v([S({type:[[[Number]]],json:{write:{isRequired:!0}}})],Wa.prototype,"paths",void 0),v([Pe("paths")],Wa.prototype,"writePaths",null),Wa=iw=v([it("esri.geometry.Polyline")],Wa);const di=Wa;Wa.prototype.toJSON.isDefaultToJSON=!0;function sw(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function ow(t){return t.points!==void 0}function aw(t){return t.x!==void 0&&t.y!==void 0}function lw(t){return t.paths!==void 0}function zy(t){return t.rings!==void 0}function yh(t){return t==null?null:t instanceof Ga?t:aw(t)?Tn.fromJSON(t):lw(t)?di.fromJSON(t):zy(t)?hs.fromJSON(t):ow(t)?Wd.fromJSON(t):sw(t)?Wr.fromJSON(t):null}function Yd(t){return t?aw(t)?"esriGeometryPoint":lw(t)?"esriGeometryPolyline":zy(t)?"esriGeometryPolygon":sw(t)?"esriGeometryEnvelope":ow(t)?"esriGeometryMultipoint":null:null}const QW={esriGeometryPoint:Tn,esriGeometryPolyline:di,esriGeometryPolygon:hs,esriGeometryEnvelope:Wr,esriGeometryMultipoint:Wd,esriGeometryMultiPatch:hs};function tH(t){return t&&QW[t]||null}const eH=Ni()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),ZO=Ni()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),Wy={base:Ga,key:"type",typeMap:{extent:Wr,multipoint:Wd,point:Tn,polyline:di,polygon:hs}};Na(Wy);const Qs=t=>{let e=class extends t{clone(){const n=jo(this);LI(n,"unable to clone instance of non-accessor class");const r=n.metadata,i=n.store,s={},o=new Map;for(const l in r){const c=r[l],p=i?.originOf(l),d=c.clonable;if(c.readOnly||d===!1||p!==ne.USER&&p!==ne.DEFAULTS&&p!==ne.WEB_MAP&&p!==ne.WEB_SCENE)continue;const f=this[l];let y=null;y=typeof d=="function"?d(f):d==="reference"?f:g2(f),f!=null&&y==null||(p===ne.DEFAULTS?o.set(l,y):s[l]=y)}const a=new(Object.getPrototypeOf(this)).constructor(s);if(o.size){const l=jo(a)?.store;if(l)for(const[c,p]of o)l.set(c,p,ne.DEFAULTS)}return a}};return e=v([it("esri.core.Clonable")],e),e};let cw=class extends Qs(Bn){};cw=v([it("esri.core.Clonable")],cw);let Hy=class jF{constructor(){this._emitter=new jF.EventEmitter(this)}emit(e,n){return this._emitter.emit(e,n)}on(e,n){return this._emitter.on(e,n)}once(e,n){return this._emitter.once(e,n)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(i=null){this._target=i,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(i,s){let o=this._listenersMap?.get(i);if(!o)return!1;const a=this._target||this;let l=!1;for(const c of o.slice()){const p="deref"in c?c.deref():c;p?p?.call(a,s):l=!0}return l&&(o=o.filter(c=>!("deref"in c)||c.deref()!=null),this._listenersMap.set(i,o)),o.length>0}on(i,s){if(Array.isArray(i)){const a=i.map(l=>this.on(l,s));return J0(a)}if(i.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(i)||[];return o.push(s),this._listenersMap.set(i,o),yn(()=>{const a=this._listenersMap?.get(i),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(i,s){const o=this.on(i,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(i){const s=this._listenersMap?.get(i);return s!=null&&s.length>0}}t.EventEmitter=e,t.EventedMixin=r=>{let i=class extends r{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(s,o){return this._emitter.emit(s,o)}on(s,o){return this._emitter.on(s,o)}once(s,o){return this._emitter.once(s,o)}hasEventListener(s){return this._emitter.hasEventListener(s)}};return i=v([it("esri.core.Evented")],i),i};let n=class extends Bn{constructor(){super(...arguments),this._emitter=new Hy.EventEmitter(this)}destroy(){this._emitter.clear()}emit(r,i){return this._emitter.emit(r,i)}on(r,i){return this._emitter.on(r,i)}once(r,i){return this._emitter.once(r,i)}hasEventListener(r){return this._emitter.hasEventListener(r)}};n=v([it("esri.core.Evented.EventedAccessor")],n),t.EventedAccessor=n})(Hy||(Hy={}));const JO=Hy;var ge;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})(ge||(ge={}));function XO(t){return(e,n)=>{e[n]=t}}let qO=class extends PI{notify(){const t=this._observers;if(t&&t.length>0){const e=t.slice();for(const n of e)n.onInvalidated(),n.onCommitted()}}};var Bo;let nH=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(t){this.defaultPrevented=!1,this.item=t}},rH=class{constructor(t,e,n,r,i){this.target=t,this.added=e,this.removed=n,this.start=r,this.deleteCount=i}};const Di=new Qu(nH,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function KO(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function uw(t){return t?t instanceof zo?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function hw(t){if(t?.length)return t[0]}function iH(t,e,n,r){const i=Math.min(t.length-n,e.length-r);let s=0;for(;s<i&&t[n+s]===e[r+s];)s++;return s}function QO(t,e,n,r){e&&e.forEach((i,s,o)=>{t.push(i),QO(t,n.call(r,i,s,o),n,r)})}const Ha=new Set,Ya=new Set,Za=new Set,pw=new Map;let sH=0,zo=Bo=class extends JO.EventedAccessor{static isCollection(t){return t!=null&&t instanceof Bo}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new qO,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:sH++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof Bo?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return zt(this._observable),this._items}set items(t){this._emitBeforeChanges(ge.ADD)||(this._splice(0,this.length,uw(t)),this._emitAfterChanges(ge.ADD))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(t))}on(t,e){if(this.destroyed)return yn();if(t==="change"){const n=this._chgListeners,r={removed:!1,callback:e};return n.push(r),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),yn(()=>{r.removed=!0,n.splice(n.indexOf(r),1)})}return this._emitter.on(t,e)}once(t,e){const n="deref"in e?()=>e.deref():()=>e,r=this.on(t,i=>{n()?.call(null,i),r.remove()});return r}add(t,e){if(zt(this._observable),this._emitBeforeChanges(ge.ADD))return this;const n=this.getNextIndex(e??null);return this._splice(n,0,[t]),this._emitAfterChanges(ge.ADD),this}addMany(t,e=this._items.length){if(zt(this._observable),!t?.length)return this;if(this._emitBeforeChanges(ge.ADD))return this;const n=this.getNextIndex(e);return this._splice(n,0,uw(t)),this._emitAfterChanges(ge.ADD),this}at(t){if(zt(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return[];const t=this._removeAllRaw();return this._emitAfterChanges(ge.REMOVE),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return zt(this._observable),this._createNewInstance({items:this._items.map(gt)})}concat(...t){zt(this._observable);const e=t.map(uw);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return;const n=this._splice(0,this.length),r=n.length;for(let i=0;i<r;i++)t.call(e,n[i],i,n);this._emitAfterChanges(ge.REMOVE)}destroyAll(){this.drain(KO)}destroyMany(t){const e=this.removeMany(t);return e.forEach(KO),e}every(t,e){return zt(this._observable),this._items.every(t,e)}filter(t,e){let n;return zt(this._observable),n=arguments.length===2?this._items.filter(t,e):this._items.filter(t),this._createNewInstance({items:n})}find(t,e){return zt(this._observable),this._items.find(t,e)}findIndex(t,e){return zt(this._observable),this._items.findIndex(t,e)}flatten(t,e){zt(this._observable);const n=[];return QO(n,this,t,e),new Bo(n)}forEach(t,e){return zt(this._observable),this._items.forEach(t,e)}getItemAt(t){return zt(this._observable),this._items[t]}getNextIndex(t){zt(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return zt(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return zt(this._observable),this._items.indexOf(t,e)}join(t=","){return zt(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return zt(this._observable),this._items.lastIndexOf(t,e)}map(t,e){zt(this._observable);const n=this._items.map(t,e);return new Bo({items:n})}reorder(t,e=this.length-1){zt(this._observable);const n=this.indexOf(t);if(n!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),n!==e){if(this._emitBeforeChanges(ge.MOVE))return t;this._splice(n,1),this._splice(e,0,[t]),this._emitAfterChanges(ge.MOVE)}return t}}pop(){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return;const t=hw(this._splice(this.length-1,1));return this._emitAfterChanges(ge.REMOVE),t}push(...t){return zt(this._observable),this._emitBeforeChanges(ge.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(ge.ADD)),this.length}reduce(t,e){zt(this._observable);const n=this._items;return arguments.length===2?n.reduce(t,e):n.reduce(t)}reduceRight(t,e){zt(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(t,e):n.reduceRight(t)}remove(t){return zt(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(zt(this._observable),t<0||t>=this.length||this._emitBeforeChanges(ge.REMOVE))return;const e=hw(this._splice(t,1));return this._emitAfterChanges(ge.REMOVE),e}removeMany(t){if(zt(this._observable),!t?.length||this._emitBeforeChanges(ge.REMOVE))return[];const e=t instanceof Bo?t.toArray():t,n=this._items,r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s],a=n.indexOf(o);if(a>-1){const l=1+iH(e,n,s+1,a+1),c=this._splice(a,l);c&&c.length>0&&r.push.apply(r,c),s+=l-1}}return this._emitAfterChanges(ge.REMOVE),r}reverse(){if(zt(this._observable),this._emitBeforeChanges(ge.MOVE))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(ge.MOVE),this}shift(){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.REMOVE))return;const t=hw(this._splice(0,1));return this._emitAfterChanges(ge.REMOVE),t}slice(t=0,e=this.length){return zt(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return zt(this._observable),this._items.some(t,e)}sort(t){if(zt(this._observable),!this.length||this._emitBeforeChanges(ge.MOVE))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(ge.MOVE),this}splice(t,e,...n){zt(this._observable);const r=(e?ge.REMOVE:0)|(n.length?ge.ADD:0);if(this._emitBeforeChanges(r))return[];const i=this._splice(t,e,n)||[];return this._emitAfterChanges(r),i}toArray(){return zt(this._observable),this._items.slice()}toJSON(){return zt(this._observable),this.toArray()}toLocaleString(){return zt(this._observable),this._items.toLocaleString()}toString(){return zt(this._observable),this._items.toString()}unshift(...t){return zt(this._observable),!t.length||this._emitBeforeChanges(ge.ADD)||(this._splice(0,0,t),this._emitAfterChanges(ge.ADD)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,n){const r=this._items,i=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=n_(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=r.splice(t,e),this.hasEventListener("before-remove")){const a=Di.acquire();a.target=this,a.cancellable=!0;for(let l=0,c=o.length;l<c;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(t,0,s),t+=1,l-=1,c-=1);Di.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Di.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let c=0;c<l;c++)a.reset(o[c]),this.emit("after-remove",a);Di.release(a)}}if(n?.length){if(i){const p=[];for(const d of n){const f=i.ensureType(d);f==null&&d!=null||p.push(f)}n=p}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),c=t===this.length;if(a||l){const p=Di.acquire();p.target=this,p.cancellable=!0;const d=Di.acquire();d.target=this,d.cancellable=!1;for(const f of n)a?(p.reset(f),this.emit("before-add",p),p.defaultPrevented||(c?r.push(f):r.splice(t++,0,f),this._set("length",r.length),l&&(d.reset(f),this.emit("after-add",d)))):(c?r.push(f):r.splice(t++,0,f),this._set("length",r.length),d.reset(f),this.emit("after-add",d));Di.release(d),Di.release(p)}else{if(c)for(const p of n)r.push(p);else r.splice(t,0,...n);this._set("length",r.length)}}if((n?.length||o?.length)&&this._notifyChangeEvent(n,o),this.hasEventListener("after-splice")){const a=new rH(this,n,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const n=Di.acquire();n.target=this,n.cancellable=!0,n.type=t,this.emit("before-changes",n),e=n.defaultPrevented,Di.release(n)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=Di.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),Di.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const n=e.changes;Ha.clear(),Ya.clear(),Za.clear();for(const{added:l,removed:c}of n){if(l)if(Za.size===0&&Ya.size===0)for(const p of l)Ha.add(p);else for(const p of l)Ya.has(p)?(Za.add(p),Ya.delete(p)):Za.has(p)||Ha.add(p);if(c)if(Za.size===0&&Ha.size===0)for(const p of c)Ya.add(p);else for(const p of c)Ha.has(p)?Ha.delete(p):(Za.delete(p),Ya.add(p))}const r=Uo.acquire();Ha.forEach(l=>{r.push(l)});const i=Uo.acquire();Ya.forEach(l=>{i.push(l)});const s=this._items,o=e.items,a=Uo.acquire();if(Za.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(r.length||i.length||a.length)){const l={target:this,added:r,removed:i,moved:a},c=e.listeners.length;for(let p=0;p<c;p++){const d=e.listeners[p];d.removed||d.callback.call(this,l)}}Uo.release(r),Uo.release(i),Uo.release(a)}Ha.clear(),Ya.clear(),Za.clear()}};zo.ofType=t=>{if(!t)return Bo;if(pw.has(t))return pw.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const r in t.typeMap){const i=t.typeMap[r].prototype.declaredClass;e?e+=` | ${i}`:e=i}let n=class extends Bo{};return v([XO({Type:t,ensureType:typeof t=="function"?Oi(t):Na(t)})],n.prototype,"itemType",void 0),n=v([it(`esri.core.Collection<${e}>`)],n),pw.set(t,n),n},v([S()],zo.prototype,"_updating",void 0),v([S()],zo.prototype,"length",void 0),v([S()],zo.prototype,"items",null),v([S({readOnly:!0})],zo.prototype,"updating",null),zo=Bo=v([it("esri.core.Collection")],zo);const Ue=zo;async function tN(t,e){const{WhereClause:n}=await import("./WhereClause-t1CdnpvK.js").then(r=>r.W);return n.create(t,{fieldsIndex:e})}function eN(t,e){return t==="1=1"?e??t:e==="1=1"?t??e:t!=null&&t!==""?e!=null&&e!==""?`(${t}) AND (${e})`:t:e}let Zd;const oH=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,dw=globalThis.document?.documentElement;function nN(){const t=dw?.getAttribute("lang"),e=globalThis.navigator?.language;return oH??t??e??"en"}function ps(){return Zd===void 0&&(Zd=nN()),Zd}function aH(t=ps()){return/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(t)?.[1].toLowerCase()}const Yy=[];function lH(t){return Yy.push(t),yn(()=>Yy.splice(Yy.indexOf(t),1))}const Zy=[];function fw(t){return Zy.push(t),yn(()=>Zy.splice(Zy.indexOf(t),1))}function rN(){const t=nN();Zd!==t&&([...Zy].forEach(e=>e(t)),Zd=t,[...Yy].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",rN),dw&&new MutationObserver(()=>{rN()}).observe(dw,{attributeFilter:["lang"]});const iN=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Tc extends Error{}class cH extends Tc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class uH extends Tc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class hH extends Tc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class gh extends Tc{}class sN extends Tc{constructor(e){super(`Invalid unit ${e}`)}}class yr extends Tc{}class Ja extends Tc{constructor(){super("Zone is an abstract class")}}const vt="numeric",ds="short",fi="long",Jy={year:vt,month:vt,day:vt},oN={year:vt,month:ds,day:vt},pH={year:vt,month:ds,day:vt,weekday:ds},aN={year:vt,month:fi,day:vt},lN={year:vt,month:fi,day:vt,weekday:fi},cN={hour:vt,minute:vt},uN={hour:vt,minute:vt,second:vt},hN={hour:vt,minute:vt,second:vt,timeZoneName:ds},pN={hour:vt,minute:vt,second:vt,timeZoneName:fi},dN={hour:vt,minute:vt,hourCycle:"h23"},fN={hour:vt,minute:vt,second:vt,hourCycle:"h23"},mN={hour:vt,minute:vt,second:vt,hourCycle:"h23",timeZoneName:ds},yN={hour:vt,minute:vt,second:vt,hourCycle:"h23",timeZoneName:fi},gN={year:vt,month:vt,day:vt,hour:vt,minute:vt},vN={year:vt,month:vt,day:vt,hour:vt,minute:vt,second:vt},bN={year:vt,month:ds,day:vt,hour:vt,minute:vt},_N={year:vt,month:ds,day:vt,hour:vt,minute:vt,second:vt},dH={year:vt,month:ds,day:vt,weekday:ds,hour:vt,minute:vt},wN={year:vt,month:fi,day:vt,hour:vt,minute:vt,timeZoneName:ds},xN={year:vt,month:fi,day:vt,hour:vt,minute:vt,second:vt,timeZoneName:ds},EN={year:vt,month:fi,day:vt,weekday:fi,hour:vt,minute:vt,timeZoneName:fi},SN={year:vt,month:fi,day:vt,weekday:fi,hour:vt,minute:vt,second:vt,timeZoneName:fi};class vh{get type(){throw new Ja}get name(){throw new Ja}get ianaName(){return this.name}get isUniversal(){throw new Ja}offsetName(e,n){throw new Ja}formatOffset(e,n){throw new Ja}offset(e){throw new Ja}equals(e){throw new Ja}get isValid(){throw new Ja}}let mw=null;class Jb extends vh{static get instance(){return mw===null&&(mw=new Jb),mw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return JN(e,n,r)}formatOffset(e,n){return qd(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Xy={};function fH(t){return Xy[t]||(Xy[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Xy[t]}const mH={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function yH(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,a,l,c,p]=r;return[o,i,s,a,l,c,p]}function gH(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],a=mH[s];s==="era"?r[a]=o:Bt(a)||(r[a]=parseInt(o,10))}return r}let qy={};class ls extends vh{static create(e){return qy[e]||(qy[e]=new ls(e)),qy[e]}static resetCache(){qy={},Xy={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ls.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return JN(e,n,r,this.name)}formatOffset(e,n){return qd(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=fH(this.name);let[i,s,o,a,l,c,p]=r.formatToParts?gH(r,n):yH(r,n);a==="BC"&&(i=-Math.abs(i)+1);const d=rg({year:i,month:s,day:o,hour:l===24?0:l,minute:c,second:p,millisecond:0});let f=+n;const y=f%1e3;return f-=y>=0?y:1e3+y,(d-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let TN={};function vH(t,e={}){const n=JSON.stringify([t,e]);let r=TN[n];return r||(r=new Intl.ListFormat(t,e),TN[n]=r),r}let yw={};function gw(t,e={}){const n=JSON.stringify([t,e]);let r=yw[n];return r||(r=new Intl.DateTimeFormat(t,e),yw[n]=r),r}let vw={};function bH(t,e={}){const n=JSON.stringify([t,e]);let r=vw[n];return r||(r=new Intl.NumberFormat(t,e),vw[n]=r),r}let bw={};function _H(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=bw[i];return s||(s=new Intl.RelativeTimeFormat(t,e),bw[i]=s),s}let Ky=null;function wH(){return Ky||(Ky=new Intl.DateTimeFormat().resolvedOptions().locale,Ky)}let AN={};function xH(t){let e=AN[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,AN[t]=e}return e}function EH(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=gw(t).resolvedOptions(),i=t}catch{const a=t.substring(0,n);r=gw(a).resolvedOptions(),i=a}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function SH(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function TH(t){const e=[];for(let n=1;n<=12;n++){const r=jt.utc(2009,n,1);e.push(t(r))}return e}function AH(t){const e=[];for(let n=1;n<=7;n++){const r=jt.utc(2016,11,13+n);e.push(t(r))}return e}function Qy(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function IH(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class MH{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=bH(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Iw(e,3);return Ln(n,this.padTo)}}}class OH{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&ls.create(a).valid?(i=a,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=gw(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class NH{constructor(e,n,r){this.opts={style:"long",...r},!n&&WN()&&(this.rtf=_H(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):QH(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const CH={firstDay:1,minimalDays:4,weekend:[6,7]};class Oe{static fromOpts(e){return Oe.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||vn.defaultLocale,a=o||(s?"en-US":wH()),l=n||vn.defaultNumberingSystem,c=r||vn.defaultOutputCalendar,p=Tw(i)||vn.defaultWeekSettings;return new Oe(a,l,c,p,o)}static resetCache(){Ky=null,yw={},vw={},bw={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Oe.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,a,l]=EH(e);this.locale=o,this.numberingSystem=n||a||null,this.outputCalendar=r||l||null,this.weekSettings=i,this.intl=SH(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=IH(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Oe.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Tw(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Qy(this,e,KN,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=TH(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return Qy(this,e,e5,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=AH(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Qy(this,void 0,()=>n5,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[jt.utc(2016,11,13,9),jt.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Qy(this,e,r5,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[jt.utc(-40,1,1),jt.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new MH(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new OH(e,this.intl,n)}relFormatter(e={}){return new NH(this.intl,this.isEnglish(),e)}listFormatter(e={}){return vH(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:HN()?xH(this.locale):CH}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let _w=null;class ur extends vh{static get utcInstance(){return _w===null&&(_w=new ur(0)),_w}static instance(e){return e===0?ur.utcInstance:new ur(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new ur(ig(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${qd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${qd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return qd(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class RH extends vh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Xa(t,e){if(Bt(t)||t===null)return e;if(t instanceof vh)return t;if(FH(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Jb.instance:n==="utc"||n==="gmt"?ur.utcInstance:ur.parseSpecifier(n)||ls.create(t)}else return qa(t)?ur.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new RH(t)}const ww={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},IN={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},kH=ww.hanidec.replace(/[\[|\]]/g,"").split("");function LH(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(ww.hanidec)!==-1)e+=kH.indexOf(t[n]);else for(const i in IN){const[s,o]=IN[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let bh={};function PH(){bh={}}function fs({numberingSystem:t},e=""){const n=t||"latn";return bh[n]||(bh[n]={}),bh[n][e]||(bh[n][e]=new RegExp(`${ww[n]}${e}`)),bh[n][e]}let MN=()=>Date.now(),ON="system",NN=null,CN=null,RN=null,kN=60,LN,PN=null;class vn{static get now(){return MN}static set now(e){MN=e}static set defaultZone(e){ON=e}static get defaultZone(){return Xa(ON,Jb.instance)}static get defaultLocale(){return NN}static set defaultLocale(e){NN=e}static get defaultNumberingSystem(){return CN}static set defaultNumberingSystem(e){CN=e}static get defaultOutputCalendar(){return RN}static set defaultOutputCalendar(e){RN=e}static get defaultWeekSettings(){return PN}static set defaultWeekSettings(e){PN=Tw(e)}static get twoDigitCutoffYear(){return kN}static set twoDigitCutoffYear(e){kN=e%100}static get throwOnInvalid(){return LN}static set throwOnInvalid(e){LN=e}static resetCaches(){Oe.resetCache(),ls.resetCache(),jt.resetCache(),PH()}}class ms{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const DN=[0,31,59,90,120,151,181,212,243,273,304,334],jN=[0,31,60,91,121,152,182,213,244,274,305,335];function ji(t,e){return new ms("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function xw(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function FN(t,e,n){return n+(Jd(t)?jN:DN)[e-1]}function UN(t,e){const n=Jd(t)?jN:DN,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function Ew(t,e){return(t-e+7)%7+1}function tg(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=FN(r,i,s),a=Ew(xw(r,i,s),n);let l=Math.floor((o-a+14-e)/7),c;return l<1?(c=r-1,l=Xd(c,e,n)):l>Xd(r,e,n)?(c=r+1,l=1):c=r,{weekYear:c,weekNumber:l,weekday:a,...og(t)}}function GN(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=Ew(xw(r,1,e),n),a=wh(r);let l=i*7+s-o-7+e,c;l<1?(c=r-1,l+=wh(c)):l>a?(c=r+1,l-=wh(r)):c=r;const{month:p,day:d}=UN(c,l);return{year:c,month:p,day:d,...og(t)}}function Sw(t){const{year:e,month:n,day:r}=t,i=FN(e,n,r);return{year:e,ordinal:i,...og(t)}}function $N(t){const{year:e,ordinal:n}=t,{month:r,day:i}=UN(e,n);return{year:e,month:r,day:i,...og(t)}}function VN(t,e){if(!Bt(t.localWeekday)||!Bt(t.localWeekNumber)||!Bt(t.localWeekYear)){if(!Bt(t.weekday)||!Bt(t.weekNumber)||!Bt(t.weekYear))throw new gh("Cannot mix locale-based week fields with ISO-based week fields");return Bt(t.localWeekday)||(t.weekday=t.localWeekday),Bt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Bt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function DH(t,e=4,n=1){const r=eg(t.weekYear),i=Fi(t.weekNumber,1,Xd(t.weekYear,e,n)),s=Fi(t.weekday,1,7);return r?i?s?!1:ji("weekday",t.weekday):ji("week",t.weekNumber):ji("weekYear",t.weekYear)}function jH(t){const e=eg(t.year),n=Fi(t.ordinal,1,wh(t.year));return e?n?!1:ji("ordinal",t.ordinal):ji("year",t.year)}function BN(t){const e=eg(t.year),n=Fi(t.month,1,12),r=Fi(t.day,1,ng(t.year,t.month));return e?n?r?!1:ji("day",t.day):ji("month",t.month):ji("year",t.year)}function zN(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=Fi(e,0,23)||e===24&&n===0&&r===0&&i===0,o=Fi(n,0,59),a=Fi(r,0,59),l=Fi(i,0,999);return s?o?a?l?!1:ji("millisecond",i):ji("second",r):ji("minute",n):ji("hour",e)}function Bt(t){return typeof t>"u"}function qa(t){return typeof t=="number"}function eg(t){return typeof t=="number"&&t%1===0}function FH(t){return typeof t=="string"}function UH(t){return Object.prototype.toString.call(t)==="[object Date]"}function WN(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function HN(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function GH(t){return Array.isArray(t)?t:[t]}function YN(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function $H(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function _h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Tw(t){if(t==null)return null;if(typeof t!="object")throw new yr("Week settings must be an object");if(!Fi(t.firstDay,1,7)||!Fi(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Fi(e,1,7)))throw new yr("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Fi(t,e,n){return eg(t)&&t>=e&&t<=n}function VH(t,e){return t-e*Math.floor(t/e)}function Ln(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ka(t){if(!(Bt(t)||t===null||t===""))return parseInt(t,10)}function Ac(t){if(!(Bt(t)||t===null||t===""))return parseFloat(t)}function Aw(t){if(!(Bt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Iw(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Jd(t){return t%4===0&&(t%100!==0||t%400===0)}function wh(t){return Jd(t)?366:365}function ng(t,e){const n=VH(e-1,12)+1,r=t+(e-n)/12;return n===2?Jd(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function rg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function ZN(t,e,n){return-Ew(xw(t,1,e),n)+e-1}function Xd(t,e=4,n=1){const r=ZN(t,e,n),i=ZN(t+1,e,n);return(wh(t)-r+i)/7}function Mw(t){return t>99?t:t>vn.twoDigitCutoffYear?1900+t:2e3+t}function JN(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(n,o).formatToParts(i).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function ig(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function XN(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new yr(`Invalid unit value ${t}`);return e}function sg(t,e){const n={};for(const r in t)if(_h(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=XN(i)}return n}function qd(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Ln(n,2)}:${Ln(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Ln(n,2)}${Ln(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function og(t){return $H(t,["hour","minute","second","millisecond"])}const BH=["January","February","March","April","May","June","July","August","September","October","November","December"],qN=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],zH=["J","F","M","A","M","J","J","A","S","O","N","D"];function KN(t){switch(t){case"narrow":return[...zH];case"short":return[...qN];case"long":return[...BH];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const QN=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],t5=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],WH=["M","T","W","T","F","S","S"];function e5(t){switch(t){case"narrow":return[...WH];case"short":return[...t5];case"long":return[...QN];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const n5=["AM","PM"],HH=["Before Christ","Anno Domini"],YH=["BC","AD"],ZH=["B","A"];function r5(t){switch(t){case"narrow":return[...ZH];case"short":return[...YH];case"long":return[...HH];default:return null}}function JH(t){return n5[t.hour<12?0:1]}function XH(t,e){return e5(e)[t.weekday-1]}function qH(t,e){return KN(e)[t.month-1]}function KH(t,e){return r5(e)[t.year<0?0:1]}function QH(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const d=t==="days";switch(e){case 1:return d?"tomorrow":`next ${i[t][0]}`;case-1:return d?"yesterday":`last ${i[t][0]}`;case 0:return d?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=i[t],p=r?l?c[1]:c[2]||c[1]:l?i[t][0]:t;return o?`${a} ${p} ago`:`in ${a} ${p}`}function i5(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const tY={D:Jy,DD:oN,DDD:aN,DDDD:lN,t:cN,tt:uN,ttt:hN,tttt:pN,T:dN,TT:fN,TTT:mN,TTTT:yN,f:gN,ff:bN,fff:wN,ffff:EN,F:vN,FF:_N,FFF:xN,FFFF:SN};class Ir{static create(e,n={}){return new Ir(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||a===n?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,n=a)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return tY[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Ln(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,g)=>this.loc.extract(e,y,g),o=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",a=()=>r?JH(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(y,g)=>r?qH(e,y):s(g?{month:y}:{month:y,day:"numeric"},"month"),c=(y,g)=>r?XH(e,y):s(g?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),p=y=>{const g=Ir.macroTokenToFormatOpts(y);return g?this.formatWithSystemDefault(e,g):y},d=y=>r?KH(e,y):s({era:y},"era"),f=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(y)}};return i5(Ir.parseFormat(n),f)}formatDurationFromString(e,n){const r=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=l=>c=>{const p=r(c);return p?this.num(l.get(p),c.length):c},s=Ir.parseFormat(n),o=s.reduce((l,{literal:c,val:p})=>c?l:l.concat(p),[]),a=e.shiftTo(...o.map(r).filter(l=>l));return i5(s,i(a))}}const s5=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xh(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Eh(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,a,l]=s(e,i);return[{...n,...o},a||r,l]},[{},null,1]).slice(0,2)}function Sh(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function o5(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ka(e[n+i]);return[r,null,n+i]}}const a5=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,eY=`(?:${a5.source}?(?:\\[(${s5.source})\\])?)?`,Ow=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,l5=RegExp(`${Ow.source}${eY}`),Nw=RegExp(`(?:T${l5.source})?`),nY=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,rY=/(\d{4})-?W(\d\d)(?:-?(\d))?/,iY=/(\d{4})-?(\d{3})/,sY=o5("weekYear","weekNumber","weekDay"),oY=o5("year","ordinal"),aY=/(\d{4})-(\d\d)-(\d\d)/,c5=RegExp(`${Ow.source} ?(?:${a5.source}|(${s5.source}))?`),lY=RegExp(`(?: ${c5.source})?`);function Th(t,e,n){const r=t[e];return Bt(r)?n:Ka(r)}function cY(t,e){return[{year:Th(t,e),month:Th(t,e+1,1),day:Th(t,e+2,1)},null,e+3]}function Ah(t,e){return[{hours:Th(t,e,0),minutes:Th(t,e+1,0),seconds:Th(t,e+2,0),milliseconds:Aw(t[e+3])},null,e+4]}function Kd(t,e){const n=!t[e]&&!t[e+1],r=ig(t[e+1],t[e+2]),i=n?null:ur.instance(r);return[{},i,e+3]}function Qd(t,e){const n=t[e]?ls.create(t[e]):null;return[{},n,e+1]}const uY=RegExp(`^T?${Ow.source}$`),hY=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function pY(t){const[e,n,r,i,s,o,a,l,c]=t,p=e[0]==="-",d=l&&l[0]==="-",f=(y,g=!1)=>y!==void 0&&(g||y&&p)?-y:y;return[{years:f(Ac(n)),months:f(Ac(r)),weeks:f(Ac(i)),days:f(Ac(s)),hours:f(Ac(o)),minutes:f(Ac(a)),seconds:f(Ac(l),l==="-0"),milliseconds:f(Aw(c),d)}]}const dY={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Cw(t,e,n,r,i,s,o){const a={year:e.length===2?Mw(Ka(e)):Ka(e),month:qN.indexOf(n)+1,day:Ka(r),hour:Ka(i),minute:Ka(s)};return o&&(a.second=Ka(o)),t&&(a.weekday=t.length>3?QN.indexOf(t)+1:t5.indexOf(t)+1),a}const fY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function mY(t){const[,e,n,r,i,s,o,a,l,c,p,d]=t,f=Cw(e,i,r,n,s,o,a);let y;return l?y=dY[l]:c?y=0:y=ig(p,d),[f,new ur(y)]}function yY(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const gY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,vY=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,bY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function u5(t){const[,e,n,r,i,s,o,a]=t;return[Cw(e,i,r,n,s,o,a),ur.utcInstance]}function _Y(t){const[,e,n,r,i,s,o,a]=t;return[Cw(e,a,n,r,i,s,o),ur.utcInstance]}const wY=xh(nY,Nw),xY=xh(rY,Nw),EY=xh(iY,Nw),SY=xh(l5),h5=Eh(cY,Ah,Kd,Qd),TY=Eh(sY,Ah,Kd,Qd),AY=Eh(oY,Ah,Kd,Qd),IY=Eh(Ah,Kd,Qd);function MY(t){return Sh(t,[wY,h5],[xY,TY],[EY,AY],[SY,IY])}function OY(t){return Sh(yY(t),[fY,mY])}function NY(t){return Sh(t,[gY,u5],[vY,u5],[bY,_Y])}function CY(t){return Sh(t,[hY,pY])}const RY=Eh(Ah);function kY(t){return Sh(t,[uY,RY])}const LY=xh(aY,lY),PY=xh(c5),DY=Eh(Ah,Kd,Qd);function jY(t){return Sh(t,[LY,h5],[PY,DY])}const p5="Invalid Duration",d5={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},FY={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...d5},Ui=146097/400,Ih=146097/4800,UY={years:{quarters:4,months:12,weeks:Ui/7,days:Ui,hours:Ui*24,minutes:Ui*24*60,seconds:Ui*24*60*60,milliseconds:Ui*24*60*60*1e3},quarters:{months:3,weeks:Ui/28,days:Ui/4,hours:Ui*24/4,minutes:Ui*24*60/4,seconds:Ui*24*60*60/4,milliseconds:Ui*24*60*60*1e3/4},months:{weeks:Ih/7,days:Ih,hours:Ih*24,minutes:Ih*24*60,seconds:Ih*24*60*60,milliseconds:Ih*24*60*60*1e3},...d5},Ic=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],GY=Ic.slice(0).reverse();function Qa(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new ye(r)}function f5(t,e){let n=e.milliseconds??0;for(const r of GY.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function m5(t,e){const n=f5(t,e)<0?-1:1;Ic.reduceRight((r,i)=>{if(Bt(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],a=Math.floor(s/o);e[i]+=a*n,e[r]-=a*o*n}return i},null),Ic.reduce((r,i)=>{if(Bt(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function $Y(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class ye{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?UY:FY;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Oe.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return ye.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new yr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ye({values:sg(e,ye.normalizeUnit),loc:Oe.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(qa(e))return ye.fromMillis(e);if(ye.isDuration(e))return e;if(typeof e=="object")return ye.fromObject(e);throw new yr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=CY(e);return r?ye.fromObject(r,n):ye.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=kY(e);return r?ye.fromObject(r,n):ye.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new yr("need to specify a reason the Duration is invalid");const r=e instanceof ms?e:new ms(e,n);if(vn.throwOnInvalid)throw new hH(r);return new ye({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new sN(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ir.create(this.loc,r).formatDurationFromString(this,e):p5}toHuman(e={}){if(!this.isValid)return p5;const n=Ic.map(r=>{const i=this.values[r];return Bt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Iw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},jt.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?f5(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e),r={};for(const i of Ic)(_h(n.values,i)||_h(this.values,i))&&(r[i]=n.get(i)+this.get(i));return Qa(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=XN(e(this.values[r],r));return Qa(this,{values:n},!0)}get(e){return this[ye.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...sg(e,ye.normalizeUnit)};return Qa(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return Qa(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return m5(this.matrix,e),Qa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=$Y(this.normalize().shiftToAll().toObject());return Qa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>ye.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Ic)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in r)a+=this.matrix[c][o]*r[c],r[c]=0;qa(i[o])&&(a+=i[o]);const l=Math.trunc(a);n[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else qa(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return m5(this.matrix,n),Qa(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Qa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Ic)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Mh="Invalid Interval";function VY(t,e){return!t||!t.isValid?Sn.invalid("missing or invalid start"):!e||!e.isValid?Sn.invalid("missing or invalid end"):e<t?Sn.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Sn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new yr("need to specify a reason the Interval is invalid");const r=e instanceof ms?e:new ms(e,n);if(vn.throwOnInvalid)throw new uH(r);return new Sn({invalid:r})}static fromDateTimes(e,n){const r=ef(e),i=ef(n);return VY(r,i)??new Sn({start:r,end:i})}static after(e,n){const r=ye.fromDurationLike(n),i=ef(e);return Sn.fromDateTimes(i,i.plus(r))}static before(e,n){const r=ye.fromDurationLike(n),i=ef(e);return Sn.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=jt.fromISO(r,n),o=s.isValid}catch{o=!1}let a,l;try{a=jt.fromISO(i,n),l=a.isValid}catch{l=!1}if(o&&l)return Sn.fromDateTimes(s,a);if(o){const c=ye.fromISO(i,n);if(c.isValid)return Sn.after(s,c)}else if(l){const c=ye.fromISO(r,n);if(c.isValid)return Sn.before(a,c)}}return Sn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Sn.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(ef).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,a=+o>+this.e?this.e:o;r.push(Sn.fromDateTimes(i,a)),i=a,s+=1}return r}splitBy(e){const n=ye.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const a=this.start.plus(n.mapUnits(l=>l*i));s=+a>+this.e?this.e:a,o.push(Sn.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Sn.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Sn.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?n=l.time:(n&&+n!=+l.time&&i.push(Sn.fromDateTimes(n,l.time)),n=null);return Sn.merge(i)}difference(...e){return Sn.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Mh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Jy,n={}){return this.isValid?Ir.create(this.s.loc.clone(n),e).formatInterval(this):Mh}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Mh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Mh}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Mh}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Mh}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):ye.invalid(this.invalidReason)}mapEndpoints(e){return Sn.fromDateTimes(e(this.s),e(this.e))}}class ag{static hasDST(e=vn.defaultZone){const n=jt.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return ls.isValidZone(e)}static normalizeZone(e){return Xa(e,vn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Oe.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Oe.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Oe.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Oe.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Oe.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Oe.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Oe.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Oe.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Oe.create(n,null,"gregory").eras(e)}static features(){return{relative:WN(),localeWeek:HN()}}}function y5(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(ye.fromMillis(r).as("days"))}function BY(t,e,n){const r=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const p=y5(l,c);return(p-p%7)/7}],["days",y5]],i={},s=t;let o,a;for(const[l,c]of r)n.indexOf(l)>=0&&(o=l,i[l]=c(t,e),a=s.plus(i),a>e?(i[l]--,t=s.plus(i),t>e&&(a=t,i[l]--,t=s.plus(i))):t=a);return[t,i,a,o]}function zY(t,e,n,r){let[i,s,o,a]=BY(t,e,n);const l=e-i,c=n.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const p=ye.fromObject(s,r);return c.length>0?ye.fromMillis(l,r).shiftTo(...c).plus(p):p}const WY="missing Intl.DateTimeFormat.formatToParts support";function _e(t,e=n=>n){return{regex:t,deser:([n])=>e(LH(n))}}const HY="\xA0",g5=`[ ${HY}]`,v5=new RegExp(g5,"g");function YY(t){return t.replace(/\./g,"\\.?").replace(v5,g5)}function b5(t){return t.replace(/\./g,"").replace(v5," ").toLowerCase()}function ys(t,e){return t===null?null:{regex:RegExp(t.map(YY).join("|")),deser:([n])=>t.findIndex(r=>b5(n)===b5(r))+e}}function _5(t,e){return{regex:t,deser:([,n,r])=>ig(n,r),groups:e}}function lg(t){return{regex:t,deser:([e])=>e}}function ZY(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function JY(t,e){const n=fs(e),r=fs(e,"{2}"),i=fs(e,"{3}"),s=fs(e,"{4}"),o=fs(e,"{6}"),a=fs(e,"{1,2}"),l=fs(e,"{1,3}"),c=fs(e,"{1,6}"),p=fs(e,"{1,9}"),d=fs(e,"{2,4}"),f=fs(e,"{4,6}"),y=_=>({regex:RegExp(ZY(_.val)),deser:([w])=>w,literal:!0}),g=(_=>{if(t.literal)return y(_);switch(_.val){case"G":return ys(e.eras("short"),0);case"GG":return ys(e.eras("long"),0);case"y":return _e(c);case"yy":return _e(d,Mw);case"yyyy":return _e(s);case"yyyyy":return _e(f);case"yyyyyy":return _e(o);case"M":return _e(a);case"MM":return _e(r);case"MMM":return ys(e.months("short",!0),1);case"MMMM":return ys(e.months("long",!0),1);case"L":return _e(a);case"LL":return _e(r);case"LLL":return ys(e.months("short",!1),1);case"LLLL":return ys(e.months("long",!1),1);case"d":return _e(a);case"dd":return _e(r);case"o":return _e(l);case"ooo":return _e(i);case"HH":return _e(r);case"H":return _e(a);case"hh":return _e(r);case"h":return _e(a);case"mm":return _e(r);case"m":return _e(a);case"q":return _e(a);case"qq":return _e(r);case"s":return _e(a);case"ss":return _e(r);case"S":return _e(l);case"SSS":return _e(i);case"u":return lg(p);case"uu":return lg(a);case"uuu":return _e(n);case"a":return ys(e.meridiems(),0);case"kkkk":return _e(s);case"kk":return _e(d,Mw);case"W":return _e(a);case"WW":return _e(r);case"E":case"c":return _e(n);case"EEE":return ys(e.weekdays("short",!1),1);case"EEEE":return ys(e.weekdays("long",!1),1);case"ccc":return ys(e.weekdays("short",!0),1);case"cccc":return ys(e.weekdays("long",!0),1);case"Z":case"ZZ":return _5(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return _5(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return lg(/[a-z_+-/]{1,256}?/i);case" ":return lg(/[^\S\n\r]/);default:return y(_)}})(t)||{invalidReason:WY};return g.token=t,g}const XY={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function qY(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const l=/^\s+$/.test(i);return{literal:!l,val:l?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let a=XY[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function KY(t){return[`^${t.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,t]}function QY(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(_h(n,o)){const a=n[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(i[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,i]}else return[r,{}]}function tZ(t){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return Bt(t.z)||(n=ls.create(t.z)),Bt(t.Z)||(n||(n=new ur(t.Z)),r=t.Z),Bt(t.q)||(t.M=(t.q-1)*3+1),Bt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Bt(t.u)||(t.S=Aw(t.u)),[Object.keys(t).reduce((i,s)=>{const o=e(s);return o&&(i[o]=t[s]),i},{}),n,r]}let Rw=null;function eZ(){return Rw||(Rw=jt.fromMillis(1555555555555)),Rw}function nZ(t,e){if(t.literal)return t;const n=Ir.macroTokenToFormatOpts(t.val),r=S5(n,e);return r==null||r.includes(void 0)?t:r}function w5(t,e){return Array.prototype.concat(...t.map(n=>nZ(n,e)))}class x5{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=w5(Ir.parseFormat(n),e),this.units=this.tokens.map(r=>JY(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=KY(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=QY(e,this.regex,this.handlers),[i,s,o]=r?tZ(r):[null,null,void 0];if(_h(r,"a")&&_h(r,"H"))throw new gh("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function E5(t,e,n){return new x5(t,n).explainFromTokens(e)}function rZ(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=E5(t,e,n);return[r,i,s,o]}function S5(t,e){if(!t)return null;const n=Ir.create(e,t).dtFormatter(eZ()),r=n.formatToParts(),i=n.resolvedOptions();return r.map(s=>qY(s,t,i))}const kw="Invalid DateTime",T5=864e13;function tf(t){return new ms("unsupported zone",`the zone "${t.name}" is not supported`)}function Lw(t){return t.weekData===null&&(t.weekData=tg(t.c)),t.weekData}function Pw(t){return t.localWeekData===null&&(t.localWeekData=tg(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Mc(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new jt({...n,...e,old:n})}function A5(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function cg(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function ug(t,e,n){return A5(rg(t),e,n)}function I5(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,ng(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=ye.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=rg(s);let[l,c]=A5(a,n,t.zone);return o!==0&&(l+=o,c=t.zone.offset(l)),{ts:l,o:c}}function Oh(t,e,n,r,i,s){const{setZone:o,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,c=jt.fromObject(t,{...n,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return jt.invalid(new ms("unparsable",`the input "${i}" can't be parsed as ${r}`))}function hg(t,e,n=!0){return t.isValid?Ir.create(Oe.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Dw(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Ln(t.c.year,n?6:4),e?(r+="-",r+=Ln(t.c.month),r+="-",r+=Ln(t.c.day)):(r+=Ln(t.c.month),r+=Ln(t.c.day)),r}function M5(t,e,n,r,i,s){let o=Ln(t.c.hour);return e?(o+=":",o+=Ln(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Ln(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Ln(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Ln(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Ln(Math.trunc(-t.o/60)),o+=":",o+=Ln(Math.trunc(-t.o%60))):(o+="+",o+=Ln(Math.trunc(t.o/60)),o+=":",o+=Ln(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const O5={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},iZ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},sZ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},N5=["year","month","day","hour","minute","second","millisecond"],oZ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],aZ=["year","ordinal","hour","minute","second","millisecond"];function lZ(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new sN(t);return e}function C5(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return lZ(t)}}function cZ(t){return dg[t]||(pg===void 0&&(pg=vn.now()),dg[t]=t.offset(pg)),dg[t]}function R5(t,e){const n=Xa(e.zone,vn.defaultZone);if(!n.isValid)return jt.invalid(tf(n));const r=Oe.fromObject(e);let i,s;if(Bt(t.year))i=vn.now();else{for(const l of N5)Bt(t[l])&&(t[l]=O5[l]);const o=BN(t)||zN(t);if(o)return jt.invalid(o);const a=cZ(n);[i,s]=ug(t,a,n)}return new jt({ts:i,zone:n,loc:r,o:s})}function k5(t,e,n){const r=Bt(n.round)?!0:n.round,i=(o,a)=>(o=Iw(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,a)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const a=s(o);if(Math.abs(a)>=1)return i(a,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function L5(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let pg,dg={};class jt{constructor(e){const n=e.zone||vn.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new ms("invalid input"):null)||(n.isValid?null:tf(n));this.ts=Bt(e.ts)?vn.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const o=qa(e.o)&&!e.old?e.o:n.offset(this.ts);i=cg(this.ts,o),r=Number.isNaN(i.year)?new ms("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||Oe.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new jt({})}static local(){const[e,n]=L5(arguments),[r,i,s,o,a,l,c]=n;return R5({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,n]=L5(arguments),[r,i,s,o,a,l,c]=n;return e.zone=ur.utcInstance,R5({year:r,month:i,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){const r=UH(e)?e.valueOf():NaN;if(Number.isNaN(r))return jt.invalid("invalid input");const i=Xa(n.zone,vn.defaultZone);return i.isValid?new jt({ts:r,zone:i,loc:Oe.fromObject(n)}):jt.invalid(tf(i))}static fromMillis(e,n={}){if(qa(e))return e<-T5||e>T5?jt.invalid("Timestamp out of range"):new jt({ts:e,zone:Xa(n.zone,vn.defaultZone),loc:Oe.fromObject(n)});throw new yr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(qa(e))return new jt({ts:e*1e3,zone:Xa(n.zone,vn.defaultZone),loc:Oe.fromObject(n)});throw new yr("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Xa(n.zone,vn.defaultZone);if(!r.isValid)return jt.invalid(tf(r));const i=Oe.fromObject(n),s=sg(e,C5),{minDaysInFirstWeek:o,startOfWeek:a}=VN(s,i),l=vn.now(),c=Bt(n.specificOffset)?r.offset(l):n.specificOffset,p=!Bt(s.ordinal),d=!Bt(s.year),f=!Bt(s.month)||!Bt(s.day),y=d||f,g=s.weekYear||s.weekNumber;if((y||p)&&g)throw new gh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&p)throw new gh("Can't mix ordinal dates with month/day");const _=g||s.weekday&&!y;let w,T,A=cg(l,c);_?(w=oZ,T=iZ,A=tg(A,o,a)):p?(w=aZ,T=sZ,A=Sw(A)):(w=N5,T=O5);let x=!1;for(const B of w){const $=s[B];Bt($)?x?s[B]=T[B]:s[B]=A[B]:x=!0}const b=_?DH(s,o,a):p?jH(s):BN(s),I=b||zN(s);if(I)return jt.invalid(I);const N=_?GN(s,o,a):p?$N(s):s,[R,P]=ug(N,c,r),D=new jt({ts:R,zone:r,o:P,loc:i});return s.weekday&&y&&e.weekday!==D.weekday?jt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${D.toISO()}`):D.isValid?D:jt.invalid(D.invalid)}static fromISO(e,n={}){const[r,i]=MY(e);return Oh(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=OY(e);return Oh(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=NY(e);return Oh(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(Bt(e)||Bt(n))throw new yr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Oe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[a,l,c,p]=rZ(o,e,n);return p?jt.invalid(p):Oh(a,l,r,`format ${n}`,e,c)}static fromString(e,n,r={}){return jt.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=jY(e);return Oh(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new yr("need to specify a reason the DateTime is invalid");const r=e instanceof ms?e:new ms(e,n);if(vn.throwOnInvalid)throw new cH(r);return new jt({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=S5(e,Oe.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return w5(Ir.parseFormat(e),Oe.fromObject(n)).map(r=>r.val).join("")}static resetCache(){pg=void 0,dg={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Lw(this).weekYear:NaN}get weekNumber(){return this.isValid?Lw(this).weekNumber:NaN}get weekday(){return this.isValid?Lw(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Pw(this).weekday:NaN}get localWeekNumber(){return this.isValid?Pw(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Pw(this).weekYear:NaN}get ordinal(){return this.isValid?Sw(this.c).ordinal:NaN}get monthShort(){return this.isValid?ag.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ag.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ag.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ag.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=rg(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),a=this.zone.offset(r-s*n);if(o===a)return[this];const l=r-o*n,c=r-a*n,p=cg(l,o),d=cg(c,a);return p.hour===d.hour&&p.minute===d.minute&&p.second===d.second&&p.millisecond===d.millisecond?[Mc(this,{ts:l}),Mc(this,{ts:c})]:[this]}get isInLeapYear(){return Jd(this.year)}get daysInMonth(){return ng(this.year,this.month)}get daysInYear(){return this.isValid?wh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Xd(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Xd(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Ir.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(ur.instance(e),n)}toLocal(){return this.setZone(vn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Xa(e,vn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=ug(o,s,e)}return Mc(this,{ts:i,zone:e})}else return jt.invalid(tf(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Mc(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=sg(e,C5),{minDaysInFirstWeek:r,startOfWeek:i}=VN(n,this.loc),s=!Bt(n.weekYear)||!Bt(n.weekNumber)||!Bt(n.weekday),o=!Bt(n.ordinal),a=!Bt(n.year),l=!Bt(n.month)||!Bt(n.day),c=a||l,p=n.weekYear||n.weekNumber;if((c||o)&&p)throw new gh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new gh("Can't mix ordinal dates with month/day");let d;s?d=GN({...tg(this.c,r,i),...n},r,i):Bt(n.ordinal)?(d={...this.toObject(),...n},Bt(n.day)&&(d.day=Math.min(ng(d.year,d.month),d.day))):d=$N({...Sw(this.c),...n});const[f,y]=ug(d,this.o,this.zone);return Mc(this,{ts:f,o:y})}plus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e);return Mc(this,I5(this,n))}minus(e){if(!this.isValid)return this;const n=ye.fromDurationLike(e).negate();return Mc(this,I5(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=ye.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Ir.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):kw}toLocaleString(e=Jy,n={}){return this.isValid?Ir.create(this.loc.clone(n),e).formatDateTime(this):kw}toLocaleParts(e={}){return this.isValid?Ir.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Dw(this,o);return a+="T",a+=M5(this,o,n,r,i,s),a}toISODate({format:e="extended"}={}){return this.isValid?Dw(this,e==="extended"):null}toISOWeekDate(){return hg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+M5(this,o==="extended",n,e,r,s):null}toRFC2822(){return hg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return hg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Dw(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),hg(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():kw}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return ye.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=GH(n).map(ye.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=zY(a,l,s,i);return o?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(jt.now(),e,n)}until(e){return this.isValid?Sn.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||jt.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),k5(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?k5(e.base||jt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(jt.isDateTime))throw new yr("min requires all arguments be DateTimes");return YN(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(jt.isDateTime))throw new yr("max requires all arguments be DateTimes");return YN(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Oe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return E5(o,e,n)}static fromStringExplain(e,n,r={}){return jt.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Oe.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new x5(s,e)}static fromFormatParser(e,n,r={}){if(Bt(e)||Bt(n))throw new yr("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=Oe.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new yr(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:a,zone:l,specificOffset:c,invalidReason:p}=n.explainFromTokens(e);return p?jt.invalid(p):Oh(a,l,r,`format ${n.format}`,e,c)}static get DATE_SHORT(){return Jy}static get DATE_MED(){return oN}static get DATE_MED_WITH_WEEKDAY(){return pH}static get DATE_FULL(){return aN}static get DATE_HUGE(){return lN}static get TIME_SIMPLE(){return cN}static get TIME_WITH_SECONDS(){return uN}static get TIME_WITH_SHORT_OFFSET(){return hN}static get TIME_WITH_LONG_OFFSET(){return pN}static get TIME_24_SIMPLE(){return dN}static get TIME_24_WITH_SECONDS(){return fN}static get TIME_24_WITH_SHORT_OFFSET(){return mN}static get TIME_24_WITH_LONG_OFFSET(){return yN}static get DATETIME_SHORT(){return gN}static get DATETIME_SHORT_WITH_SECONDS(){return vN}static get DATETIME_MED(){return bN}static get DATETIME_MED_WITH_SECONDS(){return _N}static get DATETIME_MED_WITH_WEEKDAY(){return dH}static get DATETIME_FULL(){return wN}static get DATETIME_FULL_WITH_SECONDS(){return xN}static get DATETIME_HUGE(){return EN}static get DATETIME_HUGE_WITH_SECONDS(){return SN}}function ef(t){if(jt.isDateTime(t))return t;if(t&&t.valueOf&&qa(t.valueOf()))return jt.fromJSDate(t);if(t&&typeof t=="object")return jt.fromObject(t);throw new yr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const to="system",fg="unknown",Nh="UTC",uZ=Intl.DateTimeFormat().resolvedOptions().timeZone,hZ="shortOffset";function pZ(t){return"timeZoneIANA"in t}function dZ(t){return t.startsWith("UTC")}function fZ(t,e=!1){return{json:{read:{source:t,reader:(n,r)=>r[t]?P5(r[t]):null},write:!!e&&{allowNull:!0,writer(n,r){r[t]=n?mZ(n):null}}}}}function P5(t,e=to){return t?pZ(t)?t.timeZoneIANA:yZ(t,e):e}function mZ(t){return{timeZoneIANA:t}}function yZ(t,e=to){if(!t||!iN.has(t.timeZone))return e;const n=iN.get(t.timeZone);return dZ(t.timeZone)||t.respectsDaylightSaving?n:gZ(n)}function gZ(t){const e=jt.local().setZone(t),n=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return n===0?"Etc/UTC":`Etc/GMT${ur.instance(-n).formatOffset(0,"narrow")}`}function vZ(t,e,n,r,i){if(e&&i==="date")return{timeZone:Nh,timeZoneName:void 0};const s=r.timeStyle||r.hour,o=n===fg;return{timeZone:o?i==="timestamp-offset"?void 0:t??Nh:n,timeZoneName:o&&s?hZ:void 0}}function bZ(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return t===to||t===fg||e.has(t.toLowerCase())||n.has(t.toLowerCase())}const _Z={year:void 0,month:void 0,day:void 0,weekday:void 0},wZ={hour:void 0,minute:void 0,second:void 0},D5={timeZone:Nh},eo={year:"numeric",month:"numeric",day:"numeric"},nf={year:"numeric",month:"long",day:"numeric"},rf={year:"numeric",month:"short",day:"numeric"},sf={year:"numeric",month:"long",weekday:"long",day:"numeric"},tl={hour:"numeric",minute:"numeric"},Oc={...tl,second:"numeric"},j5={hourCycle:"h23"},of={...tl,...j5},af={...Oc,...j5},F5={"short-date":eo,"short-date-short-time":{...eo,...tl},"short-date-short-time-24":{...eo,...of},"short-date-long-time":{...eo,...Oc},"short-date-long-time-24":{...eo,...af},"short-date-le":eo,"short-date-le-short-time":{...eo,...tl},"short-date-le-short-time-24":{...eo,...of},"short-date-le-long-time":{...eo,...Oc},"short-date-le-long-time-24":{...eo,...af},"long-month-day-year":nf,"long-month-day-year-short-time":{...nf,...tl},"long-month-day-year-short-time-24":{...nf,...of},"long-month-day-year-long-time":{...nf,...Oc},"long-month-day-year-long-time-24":{...nf,...af},"day-short-month-year":rf,"day-short-month-year-short-time":{...rf,...tl},"day-short-month-year-short-time-24":{...rf,...of},"day-short-month-year-long-time":{...rf,...Oc},"day-short-month-year-long-time-24":{...rf,...af},"long-date":sf,"long-date-short-time":{...sf,...tl},"long-date-short-time-24":{...sf,...of},"long-date-long-time":{...sf,...Oc},"long-date-long-time-24":{...sf,...af},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":tl,"long-time":Oc},xZ=Ni()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),U5={ar:"ar-u-nu-latn-ca-gregory"};let jw=new WeakMap;const mg=F5["short-date-short-time"];function EZ(t){let e=jw.get(t);if(!e){const n=ps(),r=U5[n]||n,i=Fw(t.timeZone??to),s={...t,timeZone:i};e=new Intl.DateTimeFormat(r,s),jw.set(t,e)}return e}function SZ(t){return F5[t]}function yg(t,e=mg){return EZ(e).format(t)}function TZ(t,e=mg){return yg(new Date(t),{...e,...D5,...wZ})}function AZ(t,e=mg){return yg(new Date(`1970-01-01T${t}Z`),{...e,...D5,..._Z})}function IZ(t,e=mg){if(e.timeZone)return yg(new Date(t),e);const n=jt.fromISO(t,{setZone:!0}),r=ps(),i=U5[r]??r,s=n.offset===0?Nh:e.timeZone,o={...e,timeZone:s};return n.toLocaleString(o,{locale:i})}function Fw(t){switch(t){case to:return uZ;case fg:return Nh;default:return t}}fw(()=>{jw=new WeakMap});const MZ={ar:"ar-u-nu-latn"};let gg=new WeakMap,G5={};function Uw(t){const e=t||G5;if(!gg.has(e)){const n=ps(),r=MZ[ps()]||n;gg.set(e,new Intl.NumberFormat(r,t))}return gg.get(e)}function OZ(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function NZ(t,e){return Object.is(t,-0)&&(t=0),Uw(e).format(t)}function CZ(t,e=ps()){if(!t)return null;let n=$5.get(e);if(!n){const r=Uw().formatToParts(12345.6),i=[...Uw({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(i.map((d,f)=>[d,f])),o=new RegExp(`[${r.find(d=>d.type==="group")?.value}]`,"g"),a=new RegExp(`[${r.find(d=>d.type==="decimal")?.value}]`),l=new RegExp(`[${i.join("")}]`,"g"),c=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,p=/[-\u2212\u2013\u2014\u2015]/g;n=d=>{if((d=d.trim().replaceAll(o,"").replace(a,".").replace(l,y=>String(s.get(y))).replaceAll(c,"").replaceAll(p,"-"))==="")return null;const f=Number(d);return isNaN(f)?null:f},$5.set(e,n)}return n(t)}fw(()=>{gg=new WeakMap,G5={}});const $5=new Map,V5=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,RZ={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function B5(t){return t in RZ}const lf=[],Ch=new Map;function z5(t){for(const e of Ch.keys())W5(t.pattern,e)&&Ch.delete(e)}function kZ(t){return lf.includes(t)||(z5(t),lf.unshift(t)),yn(()=>{const e=lf.indexOf(t);e>-1&&(lf.splice(e,1),z5(t))})}async function LZ(t){const e=ps();Ch.has(t)||Ch.set(t,DZ(t,e));const n=Ch.get(t);return n&&await jZ.add(n),n}function PZ(t){if(!V5.test(t))return null;const e=V5.exec(t);if(e===null)return null;const[,n,r]=e,i=n+(r?"-"+r.toUpperCase():"");return B5(i)?i:B5(n)?n:null}async function DZ(t,e){const n=[];for(const r of lf)if(W5(r.pattern,t))try{return await r.fetchMessageBundle(t,e)}catch(i){n.push(i)}throw n.length?new ae("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:n}):new ae("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function W5(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}fw(()=>{Ch.clear()});const jZ=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=cc())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function FZ(t,e,n,r){const i=e.exec(n);if(!i)throw new ae("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${e}"`);const s=i[1]?`${i[1]}/`:"",o=i[2],a=PZ(r),l=`${s}${o}.json`,c=a?`${s}${o}_${a}.json`:l;let p;try{p=await H5(t(c))}catch(d){if(c===l)throw new ae("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:d});try{p=await H5(t(l))}catch(f){throw new ae("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:f})}}return p}async function H5(t){if(Y5.fetchBundleAsset!=null)return Y5.fetchBundleAsset(t);const e=await Xe(t,{responseType:"text"});return JSON.parse(e.data)}let UZ=class{constructor({base:t="",pattern:e,location:n=new URL(window.location.href)}){let r;r=typeof n=="string"?i=>new URL(i,new URL(n,window.location.href)).href:n instanceof URL?i=>new URL(i,n).href:n,this.pattern=typeof e=="string"?new RegExp(`^${e}`):e,this.getAssetUrl=r,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(t,e){return FZ(this.getAssetUrl,this.matcher,t,e)}};function GZ(t){return new UZ(t)}const Y5={};kZ(GZ({pattern:"esri/",location:E_}));function Gw(t){return typeof t=="string"||t instanceof String}var Rh;(function(t){t.HM="HH:mm",t.HMS="HH:mm:ss",t.HMS_MS="HH:mm:ss.SSS"})(Rh||(Rh={}));const $Z=[Rh.HMS_MS,Rh.HMS,Rh.HM,"TT"],VZ="yyyy-MM-dd";Rh.HMS;function Z5(t){if(!t||!Gw(t))return null;const e=jt.fromFormat(t,VZ);return e.isValid?e:null}function J5(t){return t&&Gw(t)?I$($Z,e=>{const n=jt.fromFormat(t,e);return n.isValid?n:null})??null:null}function X5(t){if(!t||!Gw(t))return null;const e=jt.fromISO(t);return e.isValid?e:null}var kh;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(kh||(kh={}));const BZ=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function zZ(t){return t!=null&&BZ.has(t.type)}function q5(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function K5(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function Q5(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function WZ(t,e,n){const r=t?.domain;if(!r)return null;switch(r.type){case"range":{const{min:i,max:s}=tC(t);if(i!=null&&+e<i||s!=null&&+e>s)return kh.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(r.codedValues==null||r.codedValues.every(i=>i==null||i.code!==e))return kh.INVALID_CODED_VALUE}return null}function tC(t,e){const n=t?.domain;if(!n||n.type!=="range")return;const r="range"in n?n.range[0]:n.minValue,i="range"in n?n.range[1]:n.maxValue,s=zZ(t);return q5(t)||Q5(t)||K5(t)?{...HZ(t,i,r),isInteger:s}:{min:r!=null&&typeof r=="number"?r:null,max:i!=null&&typeof i=="number"?i:null,rawMin:r,rawMax:i,isInteger:s}}function HZ(t,e,n){return q5(t)?{min:Z5(n)?.toMillis(),max:Z5(e)?.toMillis(),rawMin:n,rawMax:e}:Q5(t)?{min:J5(n)?.toMillis(),max:J5(e)?.toMillis(),rawMin:n,rawMax:e}:K5(t)?{min:X5(n)?.toMillis(),max:X5(e)?.toMillis(),rawMin:n,rawMax:e}:{max:null,min:null}}const YZ=()=>Re.getLogger("esri.support.arcadeOnDemand");let $w;function Vw(){return $w||($w=(async()=>{const t=await import("./arcadeUtils--on6kcH1.js").then(e=>e.i);return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature}})()),$w}const ZZ=(t,e,n)=>eC.create(t,e,n,null,["$feature","$view"],[]),JZ=(t,e,n,r)=>eC.create(t,e,n,r,["$feature","$view"],[]);let eC=class FF{constructor(e,n,r,i,s,o,a){this.services=null,this.script=e,this.evaluate=i;const l=Array.isArray(o)?o:o?.fields;this.fields=l??[],this._syntaxTree=r,this._arcade=n,this._arcadeFeature=s,this._spatialReference=a,this._referencesGeometry=n.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,n,r,i,s,o){const{arcade:a,Feature:l,Dictionary:c}=await Vw(),p=n instanceof qe?n:qe.fromJSON(n);let d;try{d=a.parseScript(e,o)}catch(P){return YZ().error(new ae("arcade-bad-expression","Failed to parse arcade script",{script:e,error:P})),null}const f=s.reduce((P,D)=>({...P,[D]:null}),{});let y=null;i!=null&&(y=new c(i),y.immutable=!0,f.$config=null);const g=a.scriptUsesGeometryEngine(d),_=g&&a.enableGeometrySupport(),w=a.scriptUsesFeatureSet(d)&&a.enableFeatureSetSupport(),T=a.scriptIsAsync(d),A=T&&a.enableAsyncSupport(),x={vars:f,spatialReference:p,useAsync:!!A};await Promise.all([_,w,A]);const b=new Set;await a.loadDependentModules(b,d,null,T,g);const I=new c;I.immutable=!1,I.setField("scale",0);const N=a.compileScript(d,x),R=(P,D)=>{const B=P.$view?.timeZone;return"$view"in P&&P.$view&&(I.setField("scale",typeof P.$view=="object"&&"scale"in P.$view?P.$view.scale:void 0),P.$view=I),y&&(P.$config=y),N({vars:P,spatialReference:p,services:D,timeZone:B})};return new FF(e,a,d,R,new l,r,p)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const XZ=/^([0-9_])/,qZ=/[^a-z0-9_\u0080-\uffff]+/gi;function KZ(t){return t==null?null:t.trim().replaceAll(qZ,"_").replace(XZ,"F$1")||null}const QZ=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],tJ=["field","normalizationField"];function eJ(t,e){if(t!=null&&e!=null){for(const n of Array.isArray(t)?t:[t])if(nC(QZ,n,e),"visualVariables"in n&&n.visualVariables)for(const r of n.visualVariables)nC(tJ,r,e)}}function nC(t,e,n){if(t)for(const r of t){const i=U0(r,e),s=i&&typeof i!="function"&&n.get(i);s&&ac(r,s.name,e)}}function nJ(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const n=e.get(t.startField),r=e.get(t.endField);t.startField=n?.name??null,t.endField=r?.name??null}else{const n=e.get(t.startTimeField),r=e.get(t.endTimeField);t.startTimeField=n?.name??null,t.endTimeField=r?.name??null}}const Bw=new Set;function vg(t,e){return t&&e?(Bw.clear(),Lh(Bw,t,e),Array.from(Bw).sort()):[]}function Lh(t,e,n){if(n)if(e?.fields?.length)if(n.includes("*"))for(const{name:r}of e.fields)t.add(r);else for(const r of n)cf(t,e,r);else{if(n.includes("*"))return t.clear(),void t.add("*");for(const r of n)r!=null&&t.add(r)}}function cf(t,e,n){if(typeof n=="string")if(e){const r=e.get(n);r&&t.add(r.name)}else t.add(n)}function rJ(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(n=>n.name):e}function iJ(t,e,n=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const r=vg(t,e);return r.length/t.fields.length>=n?["*"]:r}async function el(t,e,n){if(!n)return;const{arcadeUtils:r}=await Vw(),i=r.extractFieldNames(n,e?.fields?.map(s=>s.name));for(const s of i)cf(t,e,s)}async function rC(t,e,n){if(n&&n!=="1=1"){const r=await tN(n,e);if(!r.isStandardized)throw new ae("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});Lh(t,e,r.fieldNames)}}function sJ({displayField:t,fields:e}){return t||(e?.length?zw(e,"name-or-title")||zw(e,"unique-identifier")||zw(e,"type-or-category")||oJ(e):null)}function oJ(t){for(const e of t){if(!e?.name)continue;const n=e.name.toLowerCase();if(n.includes("name")||n.includes("title"))return e.name}return null}function zw(t,e){for(const n of t)if(n?.valueType&&n.valueType===e)return n.name;return null}async function aJ(t,e){if(!e)return;const n=e.elevationInfo?.featureExpressionInfo;return n?n.collectRequiredFields(t,e.fieldsIndex):void 0}function lJ(t,e,n){n.onStatisticExpression?el(t,e,n.onStatisticExpression.expression):t.add(n.onStatisticField)}async function cJ(t,e,n){if(!e||!n||!("fields"in n))return;const r=[],i=n.popupTemplate;r.push(uJ(t,e,i)),n.fields&&r.push(...n.fields.map(async s=>lJ(t,e.fieldsIndex,s))),await Promise.all(r)}async function uJ(t,e,n){const r=[];n?.expressionInfos&&r.push(...n.expressionInfos.map(s=>el(t,e.fieldsIndex,s.expression)));const i=n?.content;if(Array.isArray(i))for(const s of i)s.type==="expression"&&s.expressionInfo&&r.push(el(t,e.fieldsIndex,s.expressionInfo.expression));await Promise.all(r)}async function hJ(t,e,n){e&&(e.timeInfo&&n?.timeExtent&&Lh(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Lh(t,e.fieldsIndex,[e.floorInfo.floorField]),n?.where!=null&&await rC(t,e.fieldsIndex,n.where))}async function pJ(t,e,n){e&&n&&await Promise.all(n.map(r=>dJ(t,e,r)))}async function dJ(t,e,n){e&&n&&(n.valueExpression?await el(t,e.fieldsIndex,n.valueExpression):n.field&&cf(t,e.fieldsIndex,n.field))}function fJ(t){return t?vg(t.fieldsIndex,iC(t)):[]}function mJ(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?vg(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}const yJ=new Set(["oid","global-id","guid"]),gJ=new Set(["oid","global-id"]),vJ=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function bJ(t){const e=new Set;sC(t).forEach(r=>e.add(r)),mJ(t).forEach(r=>e.add(r.toLowerCase()));const n=t&&"infoFor3D"in t?t.infoFor3D:void 0;return n&&(Object.values(n.assetMapFieldRoles).forEach(r=>e.add(r.toLowerCase())),Object.values(n.transformFieldRoles).forEach(r=>e.add(r.toLowerCase()))),Array.from(e)}function iC(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:n,creatorField:r,editDateField:i,editorField:s}=e;return[n,r,i,s].filter(Boolean)}function sC(t){return iC(t).map(e=>e.toLowerCase())}function _J(t,e){return t.editable&&!yJ.has(t.type)&&!sC(e).includes(t.name?.toLowerCase()??"")}function wJ(t,e){const n=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&n===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&n===e.globalIdField.toLowerCase()||bJ(e).includes(n)||gJ.has(t.type)||vJ.some(r=>r.test(n)))}async function xJ(t,e){const{labelingInfo:n,fieldsIndex:r}=e;n?.length&&await Promise.all(n.map(i=>EJ(t,r,i)))}async function EJ(t,e,n){if(!n)return;const r=n.getLabelExpression(),i=n.where;if(r.type==="arcade")await el(t,e,r.expression);else{const s=r.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{cf(t,e,o.slice(1,-1))})}await rC(t,e,i)}function SJ(t){const e=t.defaultValue;return e!==void 0&&lC(t,e)?e:t.nullable?null:void 0}function TJ(t){const e=typeof t=="string"?{type:t}:t;return hC(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function oC(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function AJ(t){return t===null||oC(t)}function IJ(t){return t===null||Number.isInteger(t)}function aC(t){return t!=null&&typeof t=="string"}function MJ(t){return t===null||aC(t)}function OJ(){return!0}function lC(t,e){let n;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":n=t.nullable?IJ:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=t.nullable?AJ:oC;break;case"string":case"esriFieldTypeString":n=t.nullable?MJ:aC;break;default:n=OJ}return arguments.length===1?n:n(e)}const NJ=["integer","small-integer","big-integer"],CJ=["single","double"],RJ=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],kJ=["esriFieldTypeSingle","esriFieldTypeDouble"],cC=new Set([...NJ,...RJ]),LJ=new Set([...CJ,...kJ]),PJ=s_(cC,LJ);function DJ(t){return t!=null&&cC.has(t.type)}function uC(t){return t!=null&&PJ.has(t.type)}function hC(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function jJ(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function FJ(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function UJ(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function GJ(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function $J(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function VJ(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function BJ(t,e){return pC(t,e)===null}var bg,_g;function zJ(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function pC(t,e){return t==null||t.nullable&&e===null?null:uC(t)&&!WJ(t.type,Number(e))?bg.OUT_OF_RANGE:lC(t,e)?t.domain?WZ(t,e):null:_g.INVALID_TYPE}function WJ(t,e){const n=typeof t=="string"?dC(t):t;if(!n)return!1;const r=n.min,i=n.max;return n.isInteger?Number.isInteger(e)&&e>=r&&e<=i:e>=r&&e<=i}function dC(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return HJ;case"esriFieldTypeInteger":case"integer":return YJ;case"esriFieldTypeBigInteger":case"big-integer":return ZJ;case"esriFieldTypeSingle":case"single":return JJ;case"esriFieldTypeDouble":case"double":return XJ}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(bg||(bg={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(_g||(_g={}));const HJ={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},YJ={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},ZJ={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},JJ={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},XJ={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function qJ(t,e,n){switch(t){case kh.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case kh.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case _g.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case bg.OUT_OF_RANGE:{const{min:r,max:i}=dC(e.type);return`Value ${n} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${r} to ${i}`}}}function KJ(t,e){return!QJ(t,e,null)}function QJ(t,e,n){if(!e?.attributes||!t)return!0;const r=new Set(Object.keys(e.attributes));let i=!1;for(const s of t)if(!r.has(s)&&(i=!0,n==null))break;return i}function tX(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function fC(t){const e=t?.match(/{[^}]+}/g);return e?e.map(n=>n.slice(1,-1).split(":")[0].trim()):[]}let wg=class extends Kt{constructor(t){super(t),this.type=null}};v([S({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],wg.prototype,"type",void 0),wg=v([it("esri.popup.content.Content")],wg);const Wo=wg;var Ww;let Nc=Ww=class extends Wo{constructor(t){super(t),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new Ww({description:this.description,displayType:this.displayType,title:this.title})}};v([S({type:String,json:{write:!0}})],Nc.prototype,"description",void 0),v([S({type:["auto","preview","list"],json:{write:!0}})],Nc.prototype,"displayType",void 0),v([S({type:String,json:{write:!0}})],Nc.prototype,"title",void 0),v([S({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Nc.prototype,"type",void 0),Nc=Ww=v([it("esri.popup.content.AttachmentsContent")],Nc);const Ph=Nc;var Hw;let Cc=Hw=class extends Wo{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Hw({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?gt(this.outFields):null})}};v([S()],Cc.prototype,"creator",void 0),v([S()],Cc.prototype,"destroyer",void 0),v([S()],Cc.prototype,"outFields",void 0),v([S({type:["custom"],readOnly:!0})],Cc.prototype,"type",void 0),Cc=Hw=v([it("esri.popup.content.CustomContent")],Cc);const eX=Cc;var Yw;let Dh=Yw=class extends Kt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Yw({title:this.title,expression:this.expression})}};v([S({type:String,json:{write:!0}})],Dh.prototype,"title",void 0),v([S({type:String,json:{write:!0}})],Dh.prototype,"expression",void 0),v([S({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Dh.prototype,"returnType",void 0),Dh=Yw=v([it("esri.popup.ElementExpressionInfo")],Dh);const mC=Dh;var Zw;let uf=Zw=class extends Wo{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new Zw({expressionInfo:this.expressionInfo?.clone()})}};v([S({type:mC,json:{write:!0}})],uf.prototype,"expressionInfo",void 0),v([S({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],uf.prototype,"type",void 0),uf=Zw=v([it("esri.popup.content.ExpressionContent")],uf);const xg=uf;function le(t,e={}){const n=t instanceof Ws?t:new Ws(t,e),{alwaysWriteDefaults:r,default:i,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return S({type:s?n.apiValues:String,json:{type:n.jsonValues,default:i,name:o,read:!l&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}let jh=class extends Qs(Kt){constructor(t){super(t),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};v([le(xZ)],jh.prototype,"dateFormat",void 0),v([S({type:Boolean,json:{write:!0}})],jh.prototype,"digitSeparator",void 0),v([S({type:kn,json:{write:!0}})],jh.prototype,"places",void 0),jh=v([it("esri.popup.support.FieldInfoFormat")],jh);const yC=jh;var Jw;let gs=Jw=class extends Kt{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Jw({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};v([S({type:String,json:{write:!0}})],gs.prototype,"fieldName",void 0),v([S({type:yC,json:{write:!0}})],gs.prototype,"format",void 0),v([S({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],gs.prototype,"isEditable",void 0),v([S({type:String,json:{write:!0}})],gs.prototype,"label",void 0),v([le(new Ws({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],gs.prototype,"stringFieldOption",void 0),v([S({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],gs.prototype,"statisticType",void 0),v([S({type:String,json:{write:!0}})],gs.prototype,"tooltip",void 0),v([S({type:Boolean,json:{write:!0}})],gs.prototype,"visible",void 0),gs=Jw=v([it("esri.popup.FieldInfo")],gs);const Xw=gs;var qw;let Ho=qw=class extends Wo{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(n=>n.toJSON())}clone(){return new qw(gt({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};v([S({type:Object,json:{write:!0}})],Ho.prototype,"attributes",void 0),v([S({type:String,json:{write:!0}})],Ho.prototype,"description",void 0),v([S({type:[Xw]})],Ho.prototype,"fieldInfos",void 0),v([Pe("fieldInfos")],Ho.prototype,"writeFieldInfos",null),v([S({type:String,json:{write:!0}})],Ho.prototype,"title",void 0),v([S({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Ho.prototype,"type",void 0),Ho=qw=v([it("esri.popup.content.FieldsContent")],Ho);const Fh=Ho;let Rc=class extends Kt{constructor(t){super(t),this.altText=null,this.caption="",this.title="",this.type=null}};v([S({type:String,json:{write:!0}})],Rc.prototype,"altText",void 0),v([S({type:String,json:{write:!0}})],Rc.prototype,"caption",void 0),v([S({type:String,json:{write:!0}})],Rc.prototype,"title",void 0),v([S({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Rc.prototype,"type",void 0),Rc=v([it("esri.popup.content.mixins.MediaInfo")],Rc);const Kw=Rc;var Qw;let kc=Qw=class extends Bn{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new Qw({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};v([S()],kc.prototype,"color",void 0),v([S()],kc.prototype,"fieldName",void 0),v([S()],kc.prototype,"tooltip",void 0),v([S()],kc.prototype,"value",void 0),kc=Qw=v([it("esri.popup.content.support.ChartMediaInfoValueSeries")],kc);const gC=kc;var tx;let nl=tx=class extends Kt{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new tx({colors:gt(this.colors),fields:gt(this.fields),normalizeField:this.normalizeField,series:gt(this.series),tooltipField:this.tooltipField})}};v([S({type:[me],json:{type:[[kn]],write:!0}})],nl.prototype,"colors",void 0),v([S({type:[String],json:{write:!0}})],nl.prototype,"fields",void 0),v([S({type:String,json:{write:!0}})],nl.prototype,"normalizeField",void 0),v([S({type:[gC],json:{read:!1}})],nl.prototype,"series",void 0),v([S({type:String,json:{write:!0}})],nl.prototype,"tooltipField",void 0),nl=tx=v([it("esri.popup.content.support.ChartMediaInfoValue")],nl);const nX=nl;let hf=class extends Kw{constructor(t){super(t),this.type=null,this.value=void 0}};v([S({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],hf.prototype,"type",void 0),v([S({type:nX,json:{write:!0}})],hf.prototype,"value",void 0),hf=v([it("esri.popup.content.mixins.ChartMediaInfo")],hf);const Eg=hf,Sg=Ni()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var ex;let Tg=ex=class extends Eg{constructor(t){super(t),this.type="bar-chart"}clone(){return new ex({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([S({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:Sg.write}})],Tg.prototype,"type",void 0),Tg=ex=v([it("esri.popup.content.BarChartMediaInfo")],Tg);const vC=Tg;var nx;let Ag=nx=class extends Eg{constructor(t){super(t),this.type="column-chart"}clone(){return new nx({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([S({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:Sg.write}})],Ag.prototype,"type",void 0),Ag=nx=v([it("esri.popup.content.ColumnChartMediaInfo")],Ag);const bC=Ag;var rx;let pf=rx=class extends Kt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new rx({linkURL:this.linkURL,sourceURL:this.sourceURL})}};v([S({type:String,json:{write:!0}})],pf.prototype,"linkURL",void 0),v([S({type:String,json:{write:!0}})],pf.prototype,"sourceURL",void 0),pf=rx=v([it("esri.popup.content.support.ImageMediaInfoValue")],pf);const rX=pf;var ix;let Uh=ix=class extends Kw{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new ix({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};v([S({type:Number,json:{write:!0}})],Uh.prototype,"refreshInterval",void 0),v([S({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],Uh.prototype,"type",void 0),v([S({type:rX,json:{write:!0}})],Uh.prototype,"value",void 0),Uh=ix=v([it("esri.popup.content.ImageMediaInfo")],Uh);const _C=Uh;var sx;let Ig=sx=class extends Eg{constructor(t){super(t),this.type="line-chart"}clone(){return new sx({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([S({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:Sg.write}})],Ig.prototype,"type",void 0),Ig=sx=v([it("esri.popup.content.LineChartMediaInfo")],Ig);const wC=Ig;var ox;let Mg=ox=class extends Eg{constructor(t){super(t),this.type="pie-chart"}clone(){return new ox({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};v([S({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:Sg.write}})],Mg.prototype,"type",void 0),Mg=ox=v([it("esri.popup.content.PieChartMediaInfo")],Mg);const xC=Mg,ax={base:Kw,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":vC,"column-chart":bC,"line-chart":wC,"pie-chart":xC,image:_C}};var lx;let vs=lx=class extends Wo{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?_C.fromJSON(e):e.type==="barchart"?vC.fromJSON(e):e.type==="columnchart"?bC.fromJSON(e):e.type==="linechart"?wC.fromJSON(e):e.type==="piechart"?xC.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(n=>n.toJSON())}clone(){return new lx(gt({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};v([S()],vs.prototype,"activeMediaInfoIndex",void 0),v([S({type:Object,json:{write:!0}})],vs.prototype,"attributes",void 0),v([S({type:String,json:{write:!0}})],vs.prototype,"description",void 0),v([S({types:[ax]})],vs.prototype,"mediaInfos",void 0),v([gn("mediaInfos")],vs.prototype,"readMediaInfos",null),v([Pe("mediaInfos")],vs.prototype,"writeMediaInfos",null),v([S({type:String,json:{write:!0}})],vs.prototype,"title",void 0),v([S({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],vs.prototype,"type",void 0),vs=lx=v([it("esri.popup.content.MediaContent")],vs);const Gh=vs;var cx;let df=cx=class extends Kt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new cx({field:this.field,order:this.order})}};v([S({type:String,json:{write:!0}})],df.prototype,"field",void 0),v([S({type:["asc","desc"],json:{write:!0}})],df.prototype,"order",void 0),df=cx=v([it("esri.popup.support.RelatedRecordsInfoFieldOrder")],df);const ux=df;let no=class extends Qs(Wo){constructor(t){super(t),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};v([S({type:String,json:{write:!0}})],no.prototype,"description",void 0),v([S({type:Number,json:{type:kn,write:!0}})],no.prototype,"displayCount",void 0),v([S({type:["list"],json:{write:!0}})],no.prototype,"displayType",void 0),v([S({type:[ux],json:{write:!0}})],no.prototype,"orderByFields",void 0),v([S({type:Number,json:{type:kn,write:!0}})],no.prototype,"relationshipId",void 0),v([S({type:String,json:{write:!0}})],no.prototype,"title",void 0),v([S({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],no.prototype,"type",void 0),no=v([it("esri.popup.content.RelationshipContent")],no);const ff=no;var hx;let mf=hx=class extends Wo{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new hx({text:this.text})}};v([S({type:String,json:{write:!0}})],mf.prototype,"text",void 0),v([S({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],mf.prototype,"type",void 0),mf=hx=v([it("esri.popup.content.TextContent")],mf);const $h=mf;let ro=class extends Qs(Kt){constructor(t){super(t),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};v([S({type:String,json:{write:!0}})],ro.prototype,"title",void 0),v([S({type:String,json:{write:!0}})],ro.prototype,"description",void 0),v([S({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],ro.prototype,"type",void 0),v([S({type:Boolean,json:{read:!1}})],ro.prototype,"open",void 0),v([S({type:Number,json:{type:kn,write:!0}})],ro.prototype,"associatedNetworkSourceId",void 0),v([S({type:Number,json:{type:kn,write:!0}})],ro.prototype,"associatedAssetGroup",void 0),v([S({type:Number,json:{type:kn,write:!0}})],ro.prototype,"associatedAssetType",void 0),ro=v([it("esri.popup.support.UtilityNetworkAssociationType")],ro);const iX=ro;let Lc=class extends Qs(Wo){constructor(t){super(t),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};v([S({type:String,json:{write:!0}})],Lc.prototype,"description",void 0),v([S({type:String,json:{write:!0}})],Lc.prototype,"title",void 0),v([S({type:[iX],json:{write:!0}})],Lc.prototype,"associationTypes",void 0),v([le({utilityNetworkAssociations:"utility-network-associations"})],Lc.prototype,"type",void 0),Lc=v([it("esri.popup.content.UtilityNetworkAssociationsContent")],Lc);const px=Lc,sX={base:null,key:"type",typeMap:{attachment:Ph,media:Gh,text:$h,expression:xg,field:Fh,relationship:ff,utilityNetworkAssociations:px}},oX={base:null,key:"type",typeMap:{attachment:Ph,media:Gh,text:$h,expression:xg,field:Fh,relationship:ff}};var dx;let Pc=dx=class extends Kt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new dx({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};v([S({type:String,json:{write:!0}})],Pc.prototype,"name",void 0),v([S({type:String,json:{write:!0}})],Pc.prototype,"title",void 0),v([S({type:String,json:{write:!0}})],Pc.prototype,"expression",void 0),v([S({type:["string","number"],json:{write:!0}})],Pc.prototype,"returnType",void 0),Pc=dx=v([it("esri.popup.ExpressionInfo")],Pc);const EC=Pc;var fx;let yf=fx=class extends Kt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new fx({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};v([S({type:Boolean,json:{write:!0}})],yf.prototype,"returnTopmostRaster",void 0),v([S({type:Boolean,json:{write:!0}})],yf.prototype,"showNoDataRecords",void 0),yf=fx=v([it("esri.popup.LayerOptions")],yf);const aX=yf;var mx;let gf=mx=class extends Kt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new mx({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?gt(this.orderByFields):null})}};v([S({type:Boolean,json:{write:!0}})],gf.prototype,"showRelatedRecords",void 0),v([S({type:[ux],json:{write:!0}})],gf.prototype,"orderByFields",void 0),gf=mx=v([it("esri.popup.RelatedRecordsInfo")],gf);const SC=gf;let TC=0;const yx=t=>{let e=class extends t{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+TC++})}};return e=v([it("esri.core.Identifiable")],e),e},lX=t=>{let e=class extends t{constructor(...n){super(...n),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:TC++})}};return e=v([it("esri.core.Identifiable.NumericIdentifiable")],e),e};let AC=class extends yx(class{}){};AC=v([it("esri.core.Identifiable")],AC);var gx;let Gi=gx=class extends yx(Bn){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new gx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};v([S()],Gi.prototype,"active",void 0),v([S()],Gi.prototype,"className",void 0),v([S()],Gi.prototype,"disabled",void 0),v([S()],Gi.prototype,"icon",void 0),v([S()],Gi.prototype,"id",void 0),v([S()],Gi.prototype,"indicator",void 0),v([S()],Gi.prototype,"title",void 0),v([S()],Gi.prototype,"type",void 0),v([S()],Gi.prototype,"visible",void 0),Gi=gx=v([it("esri.support.actions.ActionBase")],Gi);const Og=Gi;var vx;let Ng=vx=class extends Og{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new vx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};v([S()],Ng.prototype,"image",void 0),Ng=vx=v([it("esri.support.actions.ActionButton")],Ng);const IC=Ng;var bx;let vf=bx=class extends Og{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new bx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};v([S()],vf.prototype,"image",void 0),v([S()],vf.prototype,"value",void 0),vf=bx=v([it("esri.support.actions.ActionToggle")],vf);const MC=vf,bf="relationships/",OC="expression/",cX=Ue.ofType({key:"type",defaultKeyValue:"button",base:Og,typeMap:{button:IC,toggle:MC}}),uX={base:Wo,key:"type",typeMap:{media:Gh,custom:eX,text:$h,attachments:Ph,fields:Fh,expression:xg,relationship:ff,utilityNetworkAssociations:px}},NC=new Set(["attachments","fields","media","text","expression","relationship"]),hX=new Set([...NC,"utility-network-associations"]);let Pn=class extends Qs(Kt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(t){return Array.isArray(t)?t.map(e=>Na(uX,e)):typeof t=="string"||typeof t=="function"||t instanceof HTMLElement||q2(t)?t:(Re.getLogger(this).error("content error","unsupported content value",{value:t}),null)}readContent(t,e){const{popupElements:n}=e;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(e.description,e.mediaInfos,n):this._readPopupInfo(e)}writeWebSceneContent(t,e,n,r){this._writePopupTemplateContent(t,e,r)}writeWebMapContent(t,e,n,r){this._writePopupTemplateContent(t,e,r)}writeFieldInfos(t,e,n,r){const{content:i}=this,s=Array.isArray(i)?i:null;if(t){const o=s?s.filter(l=>l.type==="fields"):[],a=o.length&&o.every(l=>l.fieldInfos?.length);e.fieldInfos=t.filter(Boolean).map(l=>{const c=l.toJSON(r);return a&&(c.visible=!1),c})}if(s)for(const o of s)o.type==="fields"&&this._writeFieldsContent(o,e)}writeLayerOptions(t,e,n,r){e[n]=!t||t.showNoDataRecords===null&&t.returnTopmostRaster===null?null:t.toJSON(r)}writeTitle(t,e){e.title=t||""}async collectRequiredFields(t,e){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(t,e,[...n,...this._getContentExpressionInfos(this.content,n)]),Lh(t,e,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(t){const e=new Set;return await this.collectRequiredFields(e,t),[...e].sort()}_writePopupTemplateContent(t,e,n){typeof t!="string"?Array.isArray(t)&&(e.popupElements=t.filter(r=>n?.origin==="web-scene"?NC.has(r.type):hX.has(r.type)).map(r=>r?.toJSON(n)),e.popupElements.forEach(r=>{r.type==="attachments"?this._writeAttachmentContent(e):r.type==="media"?this._writeMediaContent(r,e):r.type==="text"?this._writeTextContent(r,e):r.type==="relationship"&&this._writeRelationshipContent(r,e)})):e.description=t}_writeFieldsContent(t,e){if(!Array.isArray(t.fieldInfos)||!t.fieldInfos.length)return;const n=gt(t.fieldInfos);Array.isArray(e.fieldInfos)?n.forEach(r=>{const i=e.fieldInfos.find(s=>s.fieldName?.toLowerCase()===r.fieldName?.toLowerCase());i?i.visible=!0:e.fieldInfos.push(r)}):e.fieldInfos=n}_writeAttachmentContent(t){t.showAttachments||(t.showAttachments=!0)}_writeRelationshipContent(t,e){const n=t.orderByFields?.map(i=>this._toFieldOrderJSON(i,t.relationshipId))||[],r=[...e.relatedRecordsInfo?.orderByFields||[],...n];e.relatedRecordsInfo={showRelatedRecords:!0,...r?.length&&{orderByFields:r}}}_writeTextContent(t,e){!e.description&&t.text&&(e.description=t.text)}_writeMediaContent(t,e){if(!Array.isArray(t.mediaInfos)||!t.mediaInfos.length)return;const n=gt(t.mediaInfos);Array.isArray(e.mediaInfos)?e.mediaInfos=[...e.mediaInfos,...n]:e.mediaInfos=n}_readPopupInfoElements(t,e,n){const r={description:!1,mediaInfos:!1};return n.map(i=>i.type==="media"?(i.mediaInfos||!e||r.mediaInfos||(i.mediaInfos=e,r.mediaInfos=!0),Gh.fromJSON(i)):i.type==="text"?(i.text||!t||r.description||(i.text=t,r.description=!0),$h.fromJSON(i)):i.type==="attachments"?Ph.fromJSON(i):i.type==="fields"?Fh.fromJSON(i):i.type==="expression"?xg.fromJSON(i):i.type==="relationship"?ff.fromJSON(i):i.type==="utilityNetworkAssociations"?px.fromJSON(i):void 0).filter(Boolean)}_toRelationshipContent(t){const{field:e,order:n}=t;if(!e?.startsWith(bf))return null;const r=e.replace(bf,"").split("/");if(r.length!==2)return null;const i=parseInt(r[0],10),s=r[1];return typeof i=="number"&&s?ff.fromJSON({relationshipId:i,orderByFields:[{field:s,order:n}]}):null}_toFieldOrderJSON(t,e){const{order:n,field:r}=t;return{field:`${bf}${e}/${r}`,order:n}}_readPopupInfo({description:t,mediaInfos:e,showAttachments:n,relatedRecordsInfo:r={showRelatedRecords:!1}}){const i=[];t?i.push(new $h({text:t})):i.push(new Fh),Array.isArray(e)&&e.length&&i.push(Gh.fromJSON({mediaInfos:e})),n&&i.push(Ph.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=r;return s&&o?.length&&o.forEach(a=>{const l=this._toRelationshipContent(a);l&&i.push(l)}),i.length?i:t}_getContentElementFields(t){const e=t?.type;if(e==="attachments")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)];if(e==="custom")return t.outFields||[];if(e==="fields")return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...this._getFieldInfoFields(t.fieldInfos??this.fieldInfos)];if(e==="media"){const n=t.mediaInfos||[];return[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description),...n.reduce((r,i)=>[...r,...this._getMediaInfoFields(i)],[])]}return e==="text"?this._extractFieldNames(t.text):e==="relationship"||e==="utility-network-associations"?[...this._extractFieldNames(t.title),...this._extractFieldNames(t.description)]:[]}_getMediaInfoFields(t){const{caption:e,title:n,value:r}=t,i=r||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:c}=i,p=[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(l),...this._extractFieldNames(c),...s??[]];return o&&p.push(o),a&&p.push(a),p}_getContentExpressionInfos(t,e){return Array.isArray(t)?t.reduce((n,r)=>[...n,...r.type==="expression"&&r.expressionInfo?[r.expressionInfo]:[]],e):[]}_getContentFields(t){return typeof t=="string"?this._extractFieldNames(t):Array.isArray(t)?t.reduce((e,n)=>[...e,...this._getContentElementFields(n)],[]):[]}async _collectExpressionInfoFields(t,e,n){n&&await Promise.all(n.map(r=>el(t,e,r.expression)))}_getFieldInfoFields(t){return t?t.filter(({fieldName:e,visible:n})=>!(n!==void 0&&!n||!e||e.startsWith(bf)||e.startsWith(OC))).map(e=>e.fieldName):[]}_getActionsFields(t){return t?t.toArray().reduce((e,n)=>[...e,...this._getActionFields(n)],[]):[]}_getActionFields(t){const{className:e,title:n,type:r}=t,i=r==="button"||r==="toggle"?t.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(e),...this._extractFieldNames(i)]}_getTitleFields(t){return typeof t=="string"?this._extractFieldNames(t):[]}_extractFieldNames(t){return fC(t).filter(e=>!(e.indexOf(bf)===0||e.indexOf(OC)===0))}};v([S({type:cX})],Pn.prototype,"actions",void 0),v([S()],Pn.prototype,"content",void 0),v([uh("content")],Pn.prototype,"castContent",null),v([gn("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Pn.prototype,"readContent",null),v([Pe("web-scene","content",{popupElements:{type:Ue.ofType(oX)},showAttachments:{type:Boolean},mediaInfos:{type:Ue.ofType(ax)},description:{type:String},relatedRecordsInfo:{type:SC}})],Pn.prototype,"writeWebSceneContent",null),v([Pe("content",{popupElements:{type:Ue.ofType(sX)},showAttachments:{type:Boolean},mediaInfos:{type:Ue.ofType(ax)},description:{type:String},relatedRecordsInfo:{type:SC}})],Pn.prototype,"writeWebMapContent",null),v([S({type:[EC],json:{write:!0}})],Pn.prototype,"expressionInfos",void 0),v([S({type:[Xw]})],Pn.prototype,"fieldInfos",void 0),v([Pe("fieldInfos")],Pn.prototype,"writeFieldInfos",null),v([S({type:aX})],Pn.prototype,"layerOptions",void 0),v([Pe("layerOptions")],Pn.prototype,"writeLayerOptions",null),v([S({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Pn.prototype,"lastEditInfoEnabled",void 0),v([S()],Pn.prototype,"outFields",void 0),v([S()],Pn.prototype,"overwriteActions",void 0),v([S()],Pn.prototype,"returnGeometry",void 0),v([S({json:{type:String}})],Pn.prototype,"title",void 0),v([Pe("title")],Pn.prototype,"writeTitle",null),Pn=v([it("esri.PopupTemplate")],Pn);const CC=Pn,RC=new Ws({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let pX=0,Vh=class extends Kt{constructor(t){super(t),this.id="sym"+pX++,this.type=null,this.color=new me([0,0,0,1])}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}async collectRequiredFields(t,e){}hash(){return JSON.stringify(this.toJSON())}clone(){}};v([S({type:RC.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:RC.write}}})],Vh.prototype,"type",void 0),v([S({type:me,json:{write:{allowNull:!0}}})],Vh.prototype,"color",void 0),v([gn("color")],Vh.prototype,"readColor",null),Vh=v([it("esri.symbols.Symbol")],Vh);const ir=Vh;var _x;let rl=_x=class extends ir{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const n=this.data.primitiveOverrides;if(n){const r=n.map(i=>{const s=i.valueExpressionInfo;return s?el(t,e,s.expression):null});await Promise.all(r)}}}clone(){return new _x({data:gt(this.data)})}hash(){return x2(JSON.stringify(this.data)).toString()}};v([S({json:{write:!1}})],rl.prototype,"color",void 0),v([S({json:{write:!0}})],rl.prototype,"data",void 0),v([gn("data",["symbol"])],rl.prototype,"readData",null),v([Pe("data",{})],rl.prototype,"writeData",null),v([le({CIMSymbolReference:"cim"},{readOnly:!0})],rl.prototype,"type",void 0),rl=_x=v([it("esri.symbols.CIMSymbol")],rl);const il=rl;let Bh=class extends Kt{constructor(t){super(t),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(t,e,n){t||(e[n]=t)}};v([S({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Bh.prototype,"enabled",void 0),v([Pe("enabled")],Bh.prototype,"writeEnabled",null),v([S({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Bh.prototype,"type",void 0),Bh=v([it("esri.symbols.Symbol3DLayer")],Bh);const io=Bh,dX=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,fX="screenUtils.toPt: input not recognized!",kC=96;function mX(t){return t?t/72*kC:0}function bs(t){return t?72*t/kC:0}function Ke(t){if(typeof t=="string"){const e=t.match(dX);if(e){const n=Number(e[1]),r=e[3]&&e[3].toLowerCase(),i=t.charAt(0)==="-",s=r==="px"?bs(n):n;return i?-s:s}return console.warn(fX),null}return t}function LC(t=0,e=0){return{x:t,y:e}}function yX(t){return t?LC(t.x,t.y):null}function gX(t=0,e=0){return[t,e]}function vX(t=0,e=0,n=0){return[t,e,n]}function bX(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function PC(t){const e=G0(100*(1-t));return Math.max(0,Math.min(e,100))}function DC(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function _X(t,e){const n=e.transparency!=null?DC(e.transparency):1,r=e.color;return r&&Array.isArray(r)?new me([r[0]||0,r[1]||0,r[2]||0,n]):null}function wX(t,e){e.color=t.toJSON().slice(0,3);const n=PC(t.a);n!==0&&(e.transparency=n)}const sl={type:me,json:{type:[kn],default:null,read:{source:["color","transparency"],reader:_X},write:{target:{color:{type:[kn]},transparency:{type:kn}},writer:wX}}},so={type:Number,cast:Ke,json:{write:!0}};let Dc=class extends Kt{constructor(t){super(t),this.color=new me([0,0,0,1]),this.extensionLength=0,this.size=bs(1)}clone(){}cloneProperties(){return{color:gt(this.color),size:this.size,extensionLength:this.extensionLength}}};v([S({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Dc.prototype,"type",void 0),v([S(sl)],Dc.prototype,"color",void 0),v([S({...so,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],Dc.prototype,"extensionLength",void 0),v([S(so)],Dc.prototype,"size",void 0),Dc=v([it("esri.symbols.edges.Edges3D")],Dc);const wx=Dc;var xx;let Cg=xx=class extends wx{constructor(t){super(t),this.type="sketch"}clone(){return new xx(this.cloneProperties())}};v([le({sketch:"sketch"},{readOnly:!0})],Cg.prototype,"type",void 0),Cg=xx=v([it("esri.symbols.edges.SketchEdges3D")],Cg);const xX=Cg;var Ex;let Rg=Ex=class extends wx{constructor(t){super(t),this.type="solid"}clone(){return new Ex(this.cloneProperties())}};v([le({solid:"solid"},{readOnly:!0})],Rg.prototype,"type",void 0),Rg=Ex=v([it("esri.symbols.edges.SolidEdges3D")],Rg);const jC=Rg,Sx={types:{key:"type",base:wx,typeMap:{solid:jC,sketch:xX}},json:{write:!0}};function kg(){return[0,0,0]}function Lg(t){return[t[0],t[1],t[2]]}function jc(t,e,n){return[t,e,n]}function FC(t,e,n){return[t,e,n]}function UC(t,e=kg()){const n=Math.min(3,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e}function EX(t,e){return new Float64Array(t,e,3)}function GC(){return kg()}function $C(){return jc(1,1,1)}function VC(){return jc(1,0,0)}function BC(){return jc(0,1,0)}function zC(){return jc(0,0,1)}const WC=GC(),HC=$C(),YC=VC(),ZC=BC(),JC=zC();Object.freeze(Object.defineProperty({__proto__:null,ONES:HC,UNIT_X:YC,UNIT_Y:ZC,UNIT_Z:JC,ZEROS:WC,clone:Lg,create:kg,createView:EX,freeze:FC,fromArray:UC,fromValues:jc,ones:$C,unitX:VC,unitY:BC,unitZ:zC,zeros:GC},Symbol.toStringTag,{value:"Module"}));var Tx;let Hr=Tx=class extends Kt{constructor(t){super(t),this.color=null,this.emissiveFactor=null}clone(){const t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Lg(this.emissiveFactor):null};return new Tx(t)}};v([S(sl)],Hr.prototype,"color",void 0),v([S({type:[Number],json:{write:!1}})],Hr.prototype,"emissiveFactor",void 0),Hr=Tx=v([it("esri.symbols.support.Symbol3DMaterial")],Hr);var Ax;let ol=Ax=class extends io{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Ax({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}};v([le({Extrude:"extrude"},{readOnly:!0})],ol.prototype,"type",void 0),v([S({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ol.prototype,"size",void 0),v([S({type:Hr,json:{write:!0}})],ol.prototype,"material",void 0),v([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ol.prototype,"castShadows",void 0),v([S(Sx)],ol.prototype,"edges",void 0),ol=Ax=v([it("esri.symbols.ExtrudeSymbol3DLayer")],ol);const XC=ol;let _f=class extends ir{constructor(t){super(t),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};v([le({esriSLS:"simple-line"},{readOnly:!0})],_f.prototype,"type",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],_f.prototype,"width",void 0),_f=v([it("esri.symbols.LineSymbol")],_f);const SX=_f,TX=["begin","end","begin-end"],qC=["arrow","circle","square","diamond","cross","x"];var Ix;let oo=Ix=class extends Kt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,n,r){e[n]=r?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,n,r){r?.origin==="web-map"||(e[n]=t)}clone(){return new Ix({color:gt(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};v([S({type:["begin","end","begin-end"],json:{write:!0}})],oo.prototype,"placement",void 0),v([le({"line-marker":"line-marker"},{readOnly:!0}),S({json:{origins:{"web-map":{write:!1}}}})],oo.prototype,"type",void 0),v([S({type:qC})],oo.prototype,"style",void 0),v([Pe("style")],oo.prototype,"writeStyle",null),v([S({type:me,value:null,json:{write:{allowNull:!0}}})],oo.prototype,"color",null),v([gn("color")],oo.prototype,"readColor",null),v([Pe("color")],oo.prototype,"writeColor",null),oo=Ix=v([it("esri.symbols.LineSymbolMarker")],oo);const AX=oo;var Mx;const Ox=new Ws({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Yo=Mx=class extends SX{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,n,r,i,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),n!=null&&(o.width=Ke(n)),r!=null&&(o.cap=r),i!=null&&(o.join=i),s!=null&&(o.miterLimit=Ke(s)),o}clone(){return new Mx({color:gt(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};v([le({esriSLS:"simple-line"},{readOnly:!0})],Yo.prototype,"type",void 0),v([S({type:Ox.apiValues,json:{read:Ox.read,write:Ox.write}})],Yo.prototype,"style",void 0),v([S({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],Yo.prototype,"cap",void 0),v([S({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,n)=>({enabled:t!=="round"&&n?.origin==null})}}})],Yo.prototype,"join",void 0),v([S({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":AX}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yo.prototype,"marker",void 0),v([S({type:Number,json:{read:!1,write:!1}})],Yo.prototype,"miterLimit",void 0),Yo=Mx=v([it("esri.symbols.SimpleLineSymbol")],Yo);const $i=Yo;let wf=class extends ir{constructor(t){super(t),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};v([S({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":$i}},json:{default:null,write:!0}})],wf.prototype,"outline",void 0),v([S({type:["simple-fill","picture-fill"],readOnly:!0})],wf.prototype,"type",void 0),wf=v([it("esri.symbols.FillSymbol")],wf);const KC=wf;let Pg=class extends Kt{constructor(t){super(t)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};v([S({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Pg.prototype,"type",void 0),Pg=v([it("esri.symbols.patterns.LinePattern3D")],Pg);const QC=Pg,IX=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Nx;const MX=Ni()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let xf=Nx=class extends QC{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new Nx(t)}};v([S({type:["style"]})],xf.prototype,"type",void 0),v([le(MX),S({type:IX})],xf.prototype,"style",void 0),xf=Nx=v([it("esri.symbols.patterns.LineStylePattern3D")],xf);const Cx=xf;let Dg=class extends Kt{constructor(t){super(t),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};v([S({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Dg.prototype,"type",void 0),Dg=v([it("esri.symbols.patterns.Pattern3D")],Dg);const tR=Dg,OX=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Rx;let Ef=Rx=class extends tR{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new Rx({style:this.style})}};v([S({type:["style"]})],Ef.prototype,"type",void 0),v([S({type:OX,json:{read:!0,write:!0}})],Ef.prototype,"style",void 0),Ef=Rx=v([it("esri.symbols.patterns.StylePattern3D")],Ef);const eR=Ef,NX={types:{key:"type",base:tR,typeMap:{style:eR}},json:{write:!0}},nR={types:{key:"type",base:QC,typeMap:{style:Cx}},json:{write:!0}},Sf=new me("white");new me("black");const CX=new me([255,255,255,0]);function RX(t){return t.r===0&&t.g===0&&t.b===0}var kx;let Tf=kx=class extends Hr{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,emissiveFactor:this.emissiveFactor?Lg(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new kx(t)}};v([le({multiply:"multiply",replace:"replace",tint:"tint"})],Tf.prototype,"colorMixMode",void 0),Tf=kx=v([it("esri.symbols.support.Symbol3DFillMaterial")],Tf);function rR(t,e=!1){return t<=y2?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function kX(t){return(m2(t)?t.length:t.byteLength/8)<=y2?Array.from(t):new Float64Array(t)}function LX(t,e,n){return Array.isArray(t)?t.slice(e,e+n):t.subarray(e,e+n)}function zh(t=iR){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function jg(t,e,n,r,i,s,o=zh()){return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o[4]=i,o[5]=s,o}function PX(t,e=zh()){return DX(t,0,t.length/3,e)}function DX(t,e,n,r=zh()){return jx(r,Fg),$X(r,t,e,n),r}function jX(t,e=rR(24)){const[n,r,i,s,o,a]=t;return e[0]=n,e[1]=r,e[2]=i,e[3]=n,e[4]=r,e[5]=a,e[6]=n,e[7]=o,e[8]=i,e[9]=n,e[10]=o,e[11]=a,e[12]=s,e[13]=r,e[14]=i,e[15]=s,e[16]=r,e[17]=a,e[18]=s,e[19]=o,e[20]=i,e[21]=s,e[22]=o,e[23]=a,e}function FX(t,e){const n=isFinite(t[2])||isFinite(t[5]);return new Wr(n?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function UX(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function GX(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function $X(t,e,n=0,r=e.length/3){let i=t[0],s=t[1],o=t[2],a=t[3],l=t[4],c=t[5];for(let p=0;p<r;p++)i=Math.min(i,e[n+3*p]),s=Math.min(s,e[n+3*p+1]),o=Math.min(o,e[n+3*p+2]),a=Math.max(a,e[n+3*p]),l=Math.max(l,e[n+3*p+1]),c=Math.max(c,e[n+3*p+2]);t[0]=i,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=c}function Lx(t){return t[0]>=t[3]?0:t[3]-t[0]}function Px(t){return t[1]>=t[4]?0:t[4]-t[1]}function Dx(t){return t[2]>=t[5]?0:t[5]-t[2]}function VX(t){const e=Lx(t),n=Dx(t),r=Px(t);return Math.sqrt(e*e+n*n+r*r)}function BX(t,e=[0,0,0]){return e[0]=t[0]+Lx(t)/2,e[1]=t[1]+Px(t)/2,e[2]=t[2]+Dx(t)/2,e}function zX(t,e=[0,0,0]){return e[0]=Lx(t),e[1]=Px(t),e[2]=Dx(t),e}function WX(t,e,n=t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n!==t&&(n[3]=t[3],n[4]=t[4],n[5]=t[5]),n}function HX(t,e,n=t){return n[3]=e[0],n[4]=e[1],n[5]=e[2],n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),t}function jx(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function YX(t){return t?jx(t,Fg):zh(Fg)}function ZX(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function JX(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=i,t[5]=Number.POSITIVE_INFINITY,t}function Fx(t){return t.length===6}function XX(t,e,n){if(t==null||e==null)return t===e;if(!Fx(t)||!Fx(e))return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const Fg=[1/0,1/0,1/0,-1/0,-1/0,-1/0],iR=[0,0,0,0,0,0];zh();function qX(t,{isPrimitive:e,width:n,depth:r,height:i}){const s=e?10:1;if(n==null&&i==null&&r==null)return[s*t[0],s*t[1],s*t[2]];const o=jc(n,r,i);let a;for(let l=0;l<3;l++){const c=o[l];if(c!=null){a=c/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const KX=jg(-.5,-.5,-.5,.5,.5,.5),QX=jg(-.5,-.5,0,.5,.5,1),tq=jg(-.5,-.5,0,.5,.5,.5);function eq(t){switch(t){case"sphere":case"cube":case"diamond":return KX;case"cylinder":case"cone":case"inverted-cone":return QX;case"tetrahedron":return tq;default:return}}const Ux=["butt","square","round"],nq=[...Ux,"none"],sR=["miter","bevel","round"];var Gx;let Fc=Gx=class extends Kt{constructor(t){super(t),this.color=new me([0,0,0,1]),this.size=bs(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Gx(t)}};v([S(sl)],Fc.prototype,"color",void 0),v([S(so)],Fc.prototype,"size",void 0),v([S(nR)],Fc.prototype,"pattern",void 0),v([S({type:Ux,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],Fc.prototype,"patternCap",void 0),Fc=Gx=v([it("esri.symbols.support.Symbol3DOutline")],Fc);var Ug;let Zo=Ug=class extends io{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Ug(t)}static fromSimpleFillSymbol(t){const e=t.outline&&t.outline.style&&t.outline.style!=="solid"?new Cx({style:t.outline.style}):null,n={size:t.outline?.width??0,color:(t.outline?.color??Sf).clone(),pattern:e};return e&&t.outline?.cap&&(n.patternCap=t.outline.cap),new Ug({material:new Tf({color:(t.color??CX).clone()}),pattern:t.style&&t.style!=="solid"?new eR({style:t.style}):null,outline:n})}};v([le({Fill:"fill"},{readOnly:!0})],Zo.prototype,"type",void 0),v([S({type:Tf,json:{write:!0}})],Zo.prototype,"material",void 0),v([S(NX)],Zo.prototype,"pattern",void 0),v([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Zo.prototype,"castShadows",void 0),v([S({type:Fc,json:{write:!0}})],Zo.prototype,"outline",void 0),v([S(Sx)],Zo.prototype,"edges",void 0),Zo=Ug=v([it("esri.symbols.FillSymbol3DLayer")],Zo);const Uc=Zo,rq=["none","underline","line-through"],iq=["normal","italic","oblique"],sq=["normal","lighter","bold","bolder"],oR={type:Number,cast:t=>{const e=_d(t);return e===0?1:gd(e,.1,4)},nonNullable:!0},oq=["left","right","center"],aq=["baseline","top","middle","bottom"],aR={type:oq,nonNullable:!0},lR={type:aq,nonNullable:!0},lq=8;var $x;let Jo=$x=class extends Kt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Ke(t)}clone(){return new $x({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};v([S({type:rq,json:{default:"none",write:!0}})],Jo.prototype,"decoration",void 0),v([S({type:String,json:{write:!0}})],Jo.prototype,"family",void 0),v([S({type:Number,json:{write:{overridePolicy:(t,e,n)=>({enabled:!n||!n.textSymbol3D})}}})],Jo.prototype,"size",void 0),v([uh("size")],Jo.prototype,"castSize",null),v([S({type:iq,json:{default:"normal",write:!0}})],Jo.prototype,"style",void 0),v([S({type:sq,json:{default:"normal",write:!0}})],Jo.prototype,"weight",void 0),Jo=$x=v([it("esri.symbols.Font")],Jo);const Af=Jo;function Wh(t,e){const n=e?.url?.path;if(t&&n&&(t=oh(t,n,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const r=g_(t,e.portalItem.itemUrl);r!=null&&cq.test(r)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(r).path)}return(t=Bx(t,e?.portal))&&$g.test(t)?zx(t):t}function If(t,e,n=Yh.YES){if((t=t&&$g.test(t)?hR(t):t)==null)return t;!ki(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let r=oh(t);if(e){const i=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(i){const s=Bx(i,e.portal),o=Bx(r,e.portal);r=g_(o,s,s),r!=null&&r!==o&&r!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=Vx(r,e?.portal),ki(r)&&(r=$o(r)),e?.resources&&e?.portalItem&&!ki(r)&&!fc(r)&&n===Yh.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r),compress:!1}),r}function Gg(t,e,n){return Wh(t,n)}function Hh(t,e,n,r){const i=If(t,r);i!==void 0&&(e[n]=i)}const $g=/\/items\/([^/]+)\/resources\/(.*)/,cq=/^\.\/resources\//;function cR(t){return(t?.match($g)??null)?.[1]??null}function uR(t){const e=t?.match($g)??null;if(e==null)return null;const n=e[2],r=n.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=SM(n);return{prefix:null,filename:o,extension:a}}const{path:i,extension:s}=SM(n.slice(r+1));return{prefix:n.slice(0,r),filename:i,extension:s}}function Vx(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?__(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function Bx(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const n=`${e.urlKey}.${e.customBaseUrl}`,r=d_();return dc(r,`${r.scheme}://${n}`)?__(t,e.portalHostname,n):__(t,n,e.portalHostname)}function zx(t){if(!t)return t||null;let e=t;return e&&ze&&!ze.findCredential(e)&&(e=h_(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function hR(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&ze&&!ze.findCredential(e)&&(e=h_(e)),e}var Yh;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(Yh||(Yh={}));const uq=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Yh},ensureMainOnlineDomain:Vx,fromCDNUrl:hR,fromJSON:Wh,itemIdFromResourceUrl:cR,prefixAndFilenameFromResourceUrl:uR,read:Gg,toCDNUrl:zx,toJSON:If,write:Hh},Symbol.toStringTag,{value:"Module"}));var Wx;const hq=Ni()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Gc=Wx=class extends Kt{constructor(t){super(t)}readHref(t,e,n){return t?Wh(t,n):e.dataURI}writeHref(t,e,n,r){t&&(fc(t)?e.dataURI=t:(e.href=If(t,r),ki(e.href)&&(e.href=$o(e.href))))}clone(){return new Wx({href:this.href,primitive:this.primitive})}};v([S({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Gc.prototype,"href",void 0),v([gn("href")],Gc.prototype,"readHref",null),v([Pe("href",{href:{type:String},dataURI:{type:String}})],Gc.prototype,"writeHref",null),v([le(hq)],Gc.prototype,"primitive",void 0),Gc=Wx=v([it("esri.symbols.support.IconSymbol3DLayerResource")],Gc);var Hx;let Zh=Hx=class extends Bn{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Hx({x:this.x,y:this.y})}};v([S({type:Number})],Zh.prototype,"x",void 0),v([S({type:Number})],Zh.prototype,"y",void 0),Zh=Hx=v([it("esri.symbols.support.Symbol3DAnchorPosition2D")],Zh);var Yx;let Mf=Yx=class extends Kt{constructor(t){super(t),this.color=new me([0,0,0,1]),this.size=bs(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new Yx(t)}};v([S(sl)],Mf.prototype,"color",void 0),v([S(so)],Mf.prototype,"size",void 0),Mf=Yx=v([it("esri.symbols.support.Symbol3DIconOutline")],Mf);var Jh;const pR="esri.symbols.IconSymbol3DLayer";let _s=Jh=class extends io{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Jh({anchor:this.anchor,anchorPosition:gt(this.anchorPosition),enabled:this.enabled,material:gt(this.material),outline:gt(this.outline),resource:gt(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(t){const e=t.color||Sf,n=dR(t),r=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||Sf).clone()}:null;return new Jh({size:t.size,angle:t.angle,resource:{primitive:dq(t.style)},material:{color:e},outline:r,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(t){const e=!t.color||RX(t.color)?Sf:t.color,n=dR(t);return new Jh({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:e.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(t){return new Jh({resource:{href:wM({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};v([S({type:Hr,json:{write:!0}})],_s.prototype,"material",void 0),v([S({type:Gc,json:{write:!0}})],_s.prototype,"resource",void 0),v([le({Icon:"icon"},{readOnly:!0})],_s.prototype,"type",void 0),v([S(so)],_s.prototype,"size",void 0),v([le({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],_s.prototype,"anchor",void 0),v([S({type:Zh,json:{type:[Number],read:{reader:t=>new Zh({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],_s.prototype,"anchorPosition",void 0),v([S({type:Mf,json:{write:!0}})],_s.prototype,"outline",void 0),v([S({type:Number,json:{write:!0,default:0}})],_s.prototype,"angle",void 0),_s=Jh=v([it(pR)],_s);const $c=_s;function dR(t){const e="width"in t?t.width:t.size,n="height"in t?t.height:t.size,r=fR(t.xoffset),i=fR(t.yoffset);return(r||i)&&e&&n?{x:-r/e,y:i/n}:null}function fR(t){return isFinite(t)?t:0}const pq={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function dq(t){return pq[t]||(Re.getLogger(pR).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}function mR(t,e,n=Ue){return e||(e=new n),e===t||(e.removeAll(),fq(t)?e.addMany(t):t&&e.add(t)),e}function yR(t){return t}function fq(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}var al;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(al||(al={}));let mq=class{constructor(){this._resolver=cc(),this._status=al.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=al.RESOLVED,this._cleanUp()},()=>{this._status=al.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(t){this._resolvingPromises.push(t),this._tryResolve()}isResolved(){return this._status===al.RESOLVED}isRejected(){return this._status===al.REJECTED}isFulfilled(){return this._status!==al.PENDING}abort(){this._resolver.reject(zr())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const t=cc(),e=[...this._resolvingPromises,t.promise],n=this._allPromise=Promise.all(e);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},r=>{this.isFulfilled()||this._allPromise!==n||eh(r)||this._resolver.reject(r)}),t.resolve()}};const gR=t=>{let e=class extends t{constructor(...n){super(...n),this._promiseProps=new mq,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(n,r){return this._promiseProps.promise.then(()=>this).then(n,r)}catch(n){return this.when(null,n)}addResolvingPromise(n){n&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in n?n.when():n)}};return e=v([it("esri.core.Promise")],e),e};let Vg=class extends gR(Bn){};Vg=v([it("esri.core.Promise")],Vg);const yq="not-loaded",gq="loading",vq="failed",vR="loaded",bR=t=>{let e=class extends t{constructor(...n){super(...n),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(r=>{const i=this.load.bind(this);this.load=s=>{const o=new Promise((a,l)=>{const c=zI(s,l);this.destroyed&&l(new ae("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(a,l).finally(()=>{c&&c.remove()})});if(this.loadStatus===yq){this._set("loadStatus",gq);const a=this._loadController=new AbortController;i({signal:a.signal})}return r(),o}})),this.when(()=>{this._set("loadStatus",vR),this._loadController=null},r=>{this._set("loadStatus",vq),this._set("loadError",r),this._loadController=null})}destroy(){this._loadController&&(this._loadController=G2(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===vR}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ae("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return v([S({readOnly:!0})],e.prototype,"loaded",null),v([S({readOnly:!0})],e.prototype,"loadError",void 0),v([S({clonable:!1})],e.prototype,"loadStatus",void 0),v([S({type:[qu],readOnly:!0})],e.prototype,"loadWarnings",null),e=v([it("esri.core.Loadable")],e),e};let Of=class extends bR(Vg){};Of=v([it("esri.core.Loadable")],Of),function(t){function e(n){return!(!n||!n.load)}t.LoadableMixin=bR,t.isLoadable=e}(Of||(Of={}));const _R=Of;let Bg;function bq(t){return Bg&&!Bg.destroyed||(Bg=t()),Bg}var Zx;const _q=new Ws({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Vi=Zx=class extends Bn{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new Zx({categories:this.categories?gt(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let n=[];this.categories&&(n=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=V_(this.extent,qe.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let i=this.query;!this.disableExtraQuery&&t.extraQuery&&(i="("+i+")"+t.extraQuery);const s={categories:n,bbox:r,q:i,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>_q.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};v([S()],Vi.prototype,"categories",void 0),v([S()],Vi.prototype,"disableExtraQuery",void 0),v([S({type:Wr})],Vi.prototype,"extent",void 0),v([S()],Vi.prototype,"filter",void 0),v([S()],Vi.prototype,"num",void 0),v([S()],Vi.prototype,"query",void 0),v([S()],Vi.prototype,"sortField",void 0),v([S()],Vi.prototype,"sortOrder",null),v([S()],Vi.prototype,"start",void 0),Vi=Zx=v([it("esri.portal.PortalQueryParams")],Vi);const ws=Vi;var Jx;let Dn=Jx=class extends Kt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const n=e.categorySchema||[];return n.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):n})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new ae("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Jx({sourceJSON:t});return e.read(t),e}queryItems(t,e){let n=Oi(ws,t);const r=this.portal;return parseFloat(r.currentVersion)>5?(n=n||new ws,r.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",e)):(n=n?n.clone():new ws,n.query="group:"+this.id+(n.query?" "+n.query:""),r.queryItems(n,e))}_fetchCategorySchemaSet(t,e){const n=this.portal;return n.fetchSelf(n.authMode,!0,e).then(r=>{const i=r.contentCategorySetsGroupQuery;if(i){const s=new ws({disableExtraQuery:!0,num:1,query:i});return n.queryGroups(s,e)}throw new ae("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const i=r.results[0],s=new ws({num:1,query:`typekeywords:"${t}"`});return i.queryItems(s,e)}throw new ae("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",e).then(i=>{const s=i?.categorySchema;return s?.length?s:[]}):[])}};v([S()],Dn.prototype,"access",void 0),v([S({type:Date})],Dn.prototype,"created",void 0),v([S()],Dn.prototype,"description",void 0),v([S()],Dn.prototype,"id",void 0),v([S()],Dn.prototype,"isInvitationOnly",void 0),v([S({type:Date})],Dn.prototype,"modified",void 0),v([S()],Dn.prototype,"owner",void 0),v([S()],Dn.prototype,"portal",void 0),v([S()],Dn.prototype,"snippet",void 0),v([S()],Dn.prototype,"sortField",void 0),v([S()],Dn.prototype,"sortOrder",void 0),v([S()],Dn.prototype,"sourceJSON",void 0),v([S()],Dn.prototype,"tags",void 0),v([S()],Dn.prototype,"thumbnail",void 0),v([S({readOnly:!0})],Dn.prototype,"thumbnailUrl",null),v([S()],Dn.prototype,"title",void 0),v([S({readOnly:!0})],Dn.prototype,"url",null),Dn=Jx=v([it("esri.portal.PortalGroup")],Dn);const Xx=Dn;let Vc=class extends Bn{constructor(t){super(t),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};v([S()],Vc.prototype,"nextQueryParams",void 0),v([S()],Vc.prototype,"queryParams",void 0),v([S()],Vc.prototype,"results",void 0),v([S()],Vc.prototype,"total",void 0),Vc=v([it("esri.portal.PortalQueryResult")],Vc);const wq=Vc;let Xo=class extends Kt{constructor(t){super(t),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ae("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};v([S({type:Date})],Xo.prototype,"created",void 0),v([S()],Xo.prototype,"id",void 0),v([S()],Xo.prototype,"portal",void 0),v([S()],Xo.prototype,"title",void 0),v([S({readOnly:!0})],Xo.prototype,"url",null),v([S()],Xo.prototype,"username",void 0),Xo=v([it("esri.portal.PortalFolder")],Xo);const xq=Xo;var qx;let Ge=qx=class extends Kt{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,n=t?.data,r=t?.folder,i={method:"post"};e&&(i.query=e.createPostQuery(),n!=null&&(typeof n=="string"?i.query.text=n:typeof n=="object"&&(i.query.text=JSON.stringify(n))));let s=this.userContentUrl;return r&&(s+="/"+(typeof r=="string"?r:r.id)),this.portal.request(s+"/addItem",i).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let n=this.userContentUrl;t.ownerFolder&&(n+="/"+t.ownerFolder);const r=e?{permanentDelete:!0}:{};await this.portal.request(n+`/items/${t.id}/delete`,{method:"post",query:r}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const n=this.userContentUrl+"/deleteItems",r=[],i=t.map(s=>s.id);if(i.length){const s={method:"post",query:{items:i.join(","),permanentDelete:e}},o=await this.portal.request(n,s);for(const a of o.results){const l=t.find(d=>a.itemId===d.id),c=a.success;let p=null;c?(l.id=null,l.portal=null):a.error&&(p=new ae("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:c,error:p})}}return r}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let n;return n=e&&e.folders?e.folders.map(r=>{const i=xq.fromJSON(r);return i.portal=this.portal,i}):[],n})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(n=>{const r=Xx.fromJSON(n);return r.portal=this.portal,r}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:n}=await import("./PortalItem-BnAblOC3.js"),r={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},i=await this.portal.request(e,{query:r});let s;return i?.items?(s=i.items.map(o=>{const a=n.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:i.nextStart,total:i.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new Xx({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new ae("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const n=this.userContentUrl,r=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(n+`/items/${t.id}/restore`,{method:"post",query:r})}toJSON(){throw new ae("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new qx({sourceJSON:t});return e.read(t),e}};v([S()],Ge.prototype,"access",void 0),v([S({type:Date})],Ge.prototype,"created",void 0),v([S()],Ge.prototype,"culture",void 0),v([S()],Ge.prototype,"description",void 0),v([S()],Ge.prototype,"email",void 0),v([S()],Ge.prototype,"favGroupId",void 0),v([S()],Ge.prototype,"fullName",void 0),v([S({type:Date})],Ge.prototype,"modified",void 0),v([S()],Ge.prototype,"orgId",void 0),v([S()],Ge.prototype,"portal",void 0),v([S()],Ge.prototype,"preferredView",void 0),v([S()],Ge.prototype,"privileges",void 0),v([S()],Ge.prototype,"region",void 0),v([S()],Ge.prototype,"role",void 0),v([S()],Ge.prototype,"roleId",void 0),v([S()],Ge.prototype,"sourceJSON",void 0),v([S()],Ge.prototype,"thumbnail",void 0),v([S({readOnly:!0})],Ge.prototype,"thumbnailUrl",null),v([S()],Ge.prototype,"units",void 0),v([S({readOnly:!0})],Ge.prototype,"userContentUrl",null),v([S({readOnly:!0})],Ge.prototype,"url",null),v([S()],Ge.prototype,"username",void 0),v([S()],Ge.prototype,"userLicenseTypeId",void 0),v([S()],Ge.prototype,"userType",void 0),Ge=qx=v([it("esri.portal.PortalUser")],Ge);const Kx=Ge;var mi;let Nf;const wR={PortalGroup:()=>Promise.resolve({default:Xx}),PortalItem:()=>import("./PortalItem-BnAblOC3.js"),PortalUser:()=>Promise.resolve({default:Kx})};let dt=mi=class extends l_(_R){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=Ee.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){xR.unregister(this),this.defaultBasemap=Md(this.defaultBasemap),this.defaultDevBasemap=Md(this.defaultDevBasemap),this.defaultVectorBasemap=Md(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=lc(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)Ee.request.trustedServers.includes(e)||Ee.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){const t=this.user?.orgId,e=!t||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get hasAPIKey(){return MM(this.url)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.slice(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let e=null;return t&&(e=Kx.fromJSON(t),e.portal=this),e}load(t){const e=import("./Basemap-CzNWzPgd.js").then(n=>n.B).then(({default:n})=>{th(t),Nf=n}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(n=>{if(!this.hasAPIKey&&ze){const r=ze;this.credential=r.findCredential(this.restUrl),this.credential||this.authMode!==mi.AUTH_MODE_AUTO&&this.authMode!==mi.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=r.on("credential-create",Eq(new WeakRef(this))),xR.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)});return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await import("./ElevationLayer-uXBZ30oS.js")).default;return t?t.map(n=>new e({id:n.id,url:n.url})):[]}async fetchBasemaps(t,e){const n=await this._fetchBasemaps(t,e);if(e?.include3d===!0&&this.use3dBasemaps!==!1){const r=await this._fetchBasemaps3D(t,e);n.unshift(...r)}return n}async fetchDefault3DBasemap(t){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const e=new ws;e.query=this.default3DBasemapQuery,e.disableExtraQuery=!0;const n=(await this.queryItems(e,t)).results.find(r=>r.type==="Web Scene");return n?new Nf({portalItem:n}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(e=>e.categorySchema):Ra(t)?Promise.reject(zr()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,n=new ws({num:100,sortField:"title"});if(e?.length){const r=[];for(const i of e)r.push(`(title:"${i.title}" AND owner:${i.owner})`);return n.query=r.join(" OR "),this.queryGroups(n,t).then(i=>i.results)}return Ra(t)?Promise.reject(zr()):Promise.resolve([])}fetchRegions(t){const e=this.user?.culture||this.culture||ps();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}fetchSettings(t){const e=this.user?.culture||this.culture||ps();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:e}})}static getDefault(){return bq(()=>new mi)}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,n){const r=this.restUrl+"/portals/self",i={authMode:t,query:{culture:ps().toLowerCase()},withCredentials:!0,...n};return i.authMode==="auto"&&(i.authMode="no-prompt"),e&&(i.query.default=!0),this.request(r,i)}queryPortal(t,e,n,r){const i=Oi(ws,e),s=o=>this.request(this.restUrl+t,{...i.toRequestOptions(this),...r}).then(a=>{const l=i.clone();return l.start=a.nextStart,new wq({nextQueryParams:l,queryParams:i,total:a.total,results:mi._resultsToTypedArray(o,{portal:this},a,r)})}).then(a=>Promise.all(a.results.map(l=>typeof l.when=="function"?l.when():a)).then(()=>a,l=>(X2(l),a)));return n&&wR[n]?wR[n]().then(({default:o})=>(th(r),s(o))):s()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ae("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===mi.AUTH_MODE_ANONYMOUS||this.authMode===mi.AUTH_MODE_NO_PROMPT&&!ze)return Promise.reject(new ae("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=e=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(e||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate"))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate"))).then(n=>{n&&(this.sourceJSON=n,this.read(n))});return ze?ze.getCredential(this.restUrl,{prompt:this.authMode!==mi.AUTH_MODE_NO_PROMPT}).then(e=>t(e)):t(this.credential)}normalizeUrl(t){const e=this.credential?.token;return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,n){return this.request(t,e).then(r=>{const i=mi._resultsToTypedArray(n,{portal:this},r);return Promise.all(i.map(s=>typeof s.when=="function"?s.when():r)).then(()=>i,()=>i)})}request(t,e={}){const n={f:"json",...e.query},{authMode:r=this.authMode===mi.AUTH_MODE_ANONYMOUS||this.authMode===mi.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:i=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=e,c={authMode:r,body:i,cacheBust:s,method:o,query:n,responseType:a,timeout:0,signal:l};return e.withCredentials&&(c.withCredentials=!0),Xe(this._normalizeSSL(t),c).then(p=>p.data)}toJSON(){throw new ae("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new mi({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t];if(!e)throw new ae("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}async _fetchBasemaps(t,e){const n=new ws;n.query=t||(this.hasAPIKey?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const r=await this.queryGroups(n,e);if(!r.total)return[];const i=r.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=i.sortField||"name",n.sortOrder=i.sortOrder||"desc";const s=await i.queryItems(n,e);return s.total?s.results.filter(o=>o.type==="Web Map").map(o=>new Nf({portalItem:o})):[]}async _fetchBasemaps3D(t,e){const n=t||this.basemapGalleryGroupQuery3D;if(!n)return[];const r=new ws({query:n,disableExtraQuery:!0}),i=await this.queryGroups(r,e);if(!i.total)return[];const s=i.results[0];r.num=100,r.query='type:"Web Scene"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(r,e);return o.total?o.results.filter(a=>a.type==="Web Scene").map(a=>new Nf({portalItem:a})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=Nf.fromJSON(t);return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,n,r){let i;if(n){const s=r!=null?r.signal:null;i=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(t||e)&&(i=i.map(o=>{const a=Object.assign(t?t.fromJSON(o):o,e);return typeof a.load=="function"&&a.load(s),a}))}else i=[];return i}};dt.AUTH_MODE_ANONYMOUS="anonymous",dt.AUTH_MODE_AUTO="auto",dt.AUTH_MODE_IMMEDIATE="immediate",dt.AUTH_MODE_NO_PROMPT="no-prompt",v([S()],dt.prototype,"access",void 0),v([S()],dt.prototype,"allSSL",void 0),v([S()],dt.prototype,"authMode",void 0),v([S()],dt.prototype,"authorizedCrossOriginDomains",void 0),v([gn("authorizedCrossOriginDomains")],dt.prototype,"readAuthorizedCrossOriginDomains",null),v([S()],dt.prototype,"basemapGalleryGroupQuery",void 0),v([S({json:{name:"3DBasemapGalleryGroupQuery"}})],dt.prototype,"basemapGalleryGroupQuery3D",void 0),v([S()],dt.prototype,"bingKey",void 0),v([S()],dt.prototype,"canListApps",void 0),v([S()],dt.prototype,"canListData",void 0),v([S()],dt.prototype,"canListPreProvisionedItems",void 0),v([S()],dt.prototype,"canProvisionDirectPurchase",void 0),v([S()],dt.prototype,"canSearchPublic",void 0),v([S()],dt.prototype,"canShareBingPublic",void 0),v([S()],dt.prototype,"canSharePublic",void 0),v([S()],dt.prototype,"canSignInArcGIS",void 0),v([S()],dt.prototype,"canSignInIDP",void 0),v([S()],dt.prototype,"colorSetsGroupQuery",void 0),v([S()],dt.prototype,"commentsEnabled",void 0),v([S({type:Date})],dt.prototype,"created",void 0),v([S()],dt.prototype,"credential",void 0),v([S()],dt.prototype,"culture",void 0),v([S()],dt.prototype,"currentVersion",void 0),v([S()],dt.prototype,"customBaseUrl",void 0),v([S()],dt.prototype,"default3DBasemapQuery",void 0),v([S()],dt.prototype,"defaultBasemap",void 0),v([gn("defaultBasemap")],dt.prototype,"readDefaultBasemap",null),v([S()],dt.prototype,"defaultDevBasemap",void 0),v([gn("defaultDevBasemap")],dt.prototype,"readDefaultDevBasemap",null),v([S({type:Wr})],dt.prototype,"defaultExtent",void 0),v([S()],dt.prototype,"defaultVectorBasemap",void 0),v([gn("defaultVectorBasemap")],dt.prototype,"readDefaultVectorBasemap",null),v([S()],dt.prototype,"description",void 0),v([S()],dt.prototype,"devBasemapGalleryGroupQuery",void 0),v([S()],dt.prototype,"eueiEnabled",void 0),v([S({readOnly:!0})],dt.prototype,"extraQuery",null),v([S()],dt.prototype,"featuredGroups",void 0),v([S()],dt.prototype,"featuredItemsGroupQuery",void 0),v([S()],dt.prototype,"galleryTemplatesGroupQuery",void 0),v([S()],dt.prototype,"layoutGroupQuery",void 0),v([S()],dt.prototype,"livingAtlasGroupQuery",void 0),v([S({readOnly:!0})],dt.prototype,"hasAPIKey",null),v([S()],dt.prototype,"hasCategorySchema",void 0),v([S()],dt.prototype,"hasClassificationSchema",void 0),v([S()],dt.prototype,"helpBase",void 0),v([S()],dt.prototype,"helperServices",void 0),v([S()],dt.prototype,"helpMap",void 0),v([S()],dt.prototype,"homePageFeaturedContent",void 0),v([S()],dt.prototype,"homePageFeaturedContentCount",void 0),v([S()],dt.prototype,"httpPort",void 0),v([S()],dt.prototype,"httpsPort",void 0),v([S()],dt.prototype,"id",void 0),v([S()],dt.prototype,"ipCntryCode",void 0),v([S({readOnly:!0})],dt.prototype,"isOrganization",null),v([S()],dt.prototype,"isPortal",void 0),v([S()],dt.prototype,"isReadOnly",void 0),v([S({readOnly:!0})],dt.prototype,"itemPageUrl",null),v([S()],dt.prototype,"layerTemplatesGroupQuery",void 0),v([S()],dt.prototype,"maxTokenExpirationMinutes",void 0),v([S({type:Date})],dt.prototype,"modified",void 0),v([S()],dt.prototype,"name",void 0),v([S()],dt.prototype,"portalHostname",void 0),v([S()],dt.prototype,"portalMode",void 0),v([S()],dt.prototype,"portalProperties",void 0),v([S()],dt.prototype,"region",void 0),v([S()],dt.prototype,"recycleBinEnabled",void 0),v([S({readOnly:!0})],dt.prototype,"restUrl",null),v([S()],dt.prototype,"rotatorPanels",void 0),v([S()],dt.prototype,"showHomePageDescription",void 0),v([S()],dt.prototype,"sourceJSON",void 0),v([S()],dt.prototype,"staticImagesUrl",void 0),v([S({json:{name:"2DStylesGroupQuery"}})],dt.prototype,"stylesGroupQuery2d",void 0),v([S({json:{name:"stylesGroupQuery"}})],dt.prototype,"stylesGroupQuery3d",void 0),v([S()],dt.prototype,"supportsHostedServices",void 0),v([S()],dt.prototype,"symbolSetsGroupQuery",void 0),v([S()],dt.prototype,"templatesGroupQuery",void 0),v([S()],dt.prototype,"thumbnail",void 0),v([S({readOnly:!0})],dt.prototype,"thumbnailUrl",null),v([S()],dt.prototype,"units",void 0),v([S()],dt.prototype,"url",void 0),v([S()],dt.prototype,"urlKey",void 0),v([gn("urlKey")],dt.prototype,"readUrlKey",null),v([S()],dt.prototype,"user",void 0),v([gn("user")],dt.prototype,"readUser",null),v([S()],dt.prototype,"use3dBasemaps",void 0),v([S()],dt.prototype,"useDefault3dBasemap",void 0),v([S()],dt.prototype,"useStandardizedQuery",void 0),v([S()],dt.prototype,"useVectorBasemaps",void 0),v([S()],dt.prototype,"vectorBasemapGalleryGroupQuery",void 0),dt=mi=v([it("esri.portal.Portal")],dt);const Cf=dt,xR=new FinalizationRegistry(t=>{t.remove()});function Eq(t){const e=ze;return()=>{const n=t.deref();n&&e.findCredential(n.restUrl)&&n.signIn().catch(()=>{})}}let Bc=class extends Qs(Kt){constructor(t){super(t),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(t){return t!=null&&t.placement===this.placement&&t.style===this.style&&(this.color==null&&t.color==null||this.color!=null&&t.color!=null&&this.color.toJSON()===t.color.toJSON())}};v([S({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Bc.prototype,"type",void 0),v([S({type:TX,json:{default:"begin-end",write:!0}})],Bc.prototype,"placement",void 0),v([S({type:qC,json:{default:"arrow",write:!0}})],Bc.prototype,"style",void 0),v([S({type:me,json:{type:[kn],default:null,write:!0}})],Bc.prototype,"color",void 0),Bc=v([it("esri.symbols.LineStyleMarker3D")],Bc);const Qx=Bc;var zg;let ao=zg=class extends io{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=bs(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new zg(t)}static fromSimpleLineSymbol(t){const e={enabled:!0,size:t.width??bs(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new Cx({style:t.style}):null,material:new Hr({color:(t.color||Sf).clone()}),marker:t.marker?new Qx({placement:t.marker.placement,style:t.marker.style,color:t.marker.color?.clone()??null}):null};return new zg(e)}};v([S({type:Hr,json:{write:!0}})],ao.prototype,"material",void 0),v([le({Line:"line"},{readOnly:!0})],ao.prototype,"type",void 0),v([S({type:sR,json:{write:!0,default:"miter"}})],ao.prototype,"join",void 0),v([S({type:Ux,json:{write:!0,default:"butt"}})],ao.prototype,"cap",void 0),v([S(so)],ao.prototype,"size",void 0),v([S(nR)],ao.prototype,"pattern",void 0),v([S({types:{key:"type",base:Qx,typeMap:{style:Qx}},json:{write:!0}})],ao.prototype,"marker",void 0),ao=zg=v([it("esri.symbols.LineSymbol3DLayer")],ao);const Xh=ao;var tE;const Sq=Ni()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Rf=tE=class extends Kt{clone(){return new tE({href:this.href,primitive:this.primitive})}};v([S({type:String,json:{read:Gg,write:Hh}})],Rf.prototype,"href",void 0),v([le(Sq)],Rf.prototype,"primitive",void 0),Rf=tE=v([it("esri.symbols.support.ObjectSymbol3DLayerResource")],Rf);var eE;let zc=eE=class extends Bn{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new eE({x:this.x,y:this.y,z:this.z})}};v([S({type:Number})],zc.prototype,"x",void 0),v([S({type:Number})],zc.prototype,"y",void 0),v([S({type:Number})],zc.prototype,"z",void 0),zc=eE=v([it("esri.symbols.support.Symbol3DAnchorPosition3D")],zc);var nE;let gr=nE=class extends io{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new nE({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};v([S({type:Hr,json:{write:!0}})],gr.prototype,"material",void 0),v([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],gr.prototype,"castShadows",void 0),v([S({type:Rf,json:{write:!0}})],gr.prototype,"resource",void 0),v([le({Object:"object"},{readOnly:!0})],gr.prototype,"type",void 0),v([S({type:Number,json:{write:!0}})],gr.prototype,"width",void 0),v([S({type:Number,json:{write:!0}})],gr.prototype,"height",void 0),v([S({type:Number,json:{write:!0}})],gr.prototype,"depth",void 0),v([le({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],gr.prototype,"anchor",void 0),v([S({type:zc,json:{type:[Number],read:{reader:t=>new zc({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],gr.prototype,"anchorPosition",void 0),v([S({type:Number,json:{write:!0}})],gr.prototype,"heading",void 0),v([S({type:Number,json:{write:!0}})],gr.prototype,"tilt",void 0),v([S({type:Number,json:{write:!0}})],gr.prototype,"roll",void 0),v([S({readOnly:!0})],gr.prototype,"isPrimitive",null),gr=nE=v([it("esri.symbols.ObjectSymbol3DLayer")],gr);const rE=gr;var iE;let Nr=iE=class extends io{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new iE({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};v([S({type:Hr,json:{write:!0}})],Nr.prototype,"material",void 0),v([S({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Nr.prototype,"castShadows",void 0),v([le({Path:"path"},{readOnly:!0})],Nr.prototype,"type",void 0),v([S({type:["circle","quad"],json:{write:!0,default:"circle"}})],Nr.prototype,"profile",void 0),v([S({type:sR,json:{write:!0,default:"miter"}})],Nr.prototype,"join",void 0),v([S({type:nq,json:{write:!0,default:"butt"}})],Nr.prototype,"cap",void 0),v([S({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Nr.prototype,"width",void 0),v([gn("width",["width","size","height"])],Nr.prototype,"readWidth",null),v([S({type:Number,json:{write:!0}})],Nr.prototype,"height",void 0),v([gn("height",["height","size","width"])],Nr.prototype,"readHeight",null),v([S({type:["center","bottom","top"],json:{write:!0,default:"center"}})],Nr.prototype,"anchor",void 0),v([S({type:["heading","all"],json:{write:!0,default:"all"}})],Nr.prototype,"profileRotation",void 0),Nr=iE=v([it("esri.symbols.PathSymbol3DLayer")],Nr);const sE=Nr;var oE;let qh=oE=class extends Kt{constructor(){super(...arguments),this.color=new me([0,0,0,1]),this.size=0}clone(){const t={color:gt(this.color),size:this.size};return new oE(t)}};v([S(sl)],qh.prototype,"color",void 0),v([S(so)],qh.prototype,"size",void 0),qh=oE=v([it("esri.symbols.support.Symbol3DHalo")],qh);let kf=class extends Qs(Kt){constructor(t){super(t),this.color=null}};v([S(sl)],kf.prototype,"color",void 0),kf=v([it("esri.symbols.support.Symbol3DTextBackground")],kf);var Wg;let Yr=Wg=class extends io{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,n,r){const i={...r,textSymbol3D:!0};e.font=t.write({},i),delete e.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new Wg({enabled:this.enabled,font:this.font&&gt(this.font),halo:this.halo&&gt(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:gt(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new Wg({font:t.font!=null?t.font.clone():new Af,halo:Tq(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new Hr({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new kf({color:t.backgroundColor.clone()}):null})}};function Tq(t,e){return t&&e!=null&&e>0?new qh({color:gt(t),size:e}):null}v([S({type:Af,json:{write:!0}})],Yr.prototype,"font",null),v([Pe("font")],Yr.prototype,"writeFont",null),v([S({type:qh,json:{write:!0}})],Yr.prototype,"halo",void 0),v([S({...aR,json:{default:"center",write:!0}})],Yr.prototype,"horizontalAlignment",void 0),v([S({...oR,json:{default:1,write:!0}})],Yr.prototype,"lineHeight",void 0),v([S({type:Hr,json:{write:!0}})],Yr.prototype,"material",void 0),v([S({type:kf,json:{write:!0}})],Yr.prototype,"background",void 0),v([S(so)],Yr.prototype,"size",null),v([S({type:String,json:{write:!0}})],Yr.prototype,"text",void 0),v([le({Text:"text"},{readOnly:!0})],Yr.prototype,"type",void 0),v([S({...lR,json:{default:"baseline",write:!0}})],Yr.prototype,"verticalAlignment",void 0),Yr=Wg=v([it("esri.symbols.TextSymbol3DLayer")],Yr);const Kh=Yr;var aE;let ll=aE=class extends io{constructor(t){super(t),this.color=lE.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new aE({color:gt(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};v([S({type:me,nonNullable:!0,json:{type:[kn],write:(t,e,n)=>e[n]=t.toArray(me.AlphaMode.UNLESS_OPAQUE),default:()=>lE.clone(),defaultEquals:t=>t.toCss(!0)===lE.toCss(!0)}})],ll.prototype,"color",void 0),v([le({Water:"water"},{readOnly:!0})],ll.prototype,"type",void 0),v([S({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ll.prototype,"waterbodySize",void 0),v([S({type:Number,json:{write:!0,default:null}})],ll.prototype,"waveDirection",void 0),v([S({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ll.prototype,"waveStrength",void 0),ll=aE=v([it("esri.symbols.WaterSymbol3DLayer")],ll);const ER=ll,lE=new me([0,119,190]);var cE;let Wc=cE=class extends Bn{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new cE({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};v([S({type:String})],Wc.prototype,"name",void 0),v([S({type:String})],Wc.prototype,"styleUrl",void 0),v([S({type:String})],Wc.prototype,"styleName",void 0),v([S({type:Cf})],Wc.prototype,"portal",void 0),Wc=cE=v([it("esri.symbols.support.StyleOrigin")],Wc);const Hg=Wc;var uE;let Qh=uE=class extends Bn{constructor(){super(...arguments),this.url=""}clone(){return new uE({url:this.url})}};v([S({type:String})],Qh.prototype,"url",void 0),Qh=uE=v([it("esri.symbols.support.Thumbnail")],Qh);const SR={icon:$c,object:rE,line:Xh,path:sE,fill:Uc,extrude:XC,text:Kh,water:ER},Aq=Ue.ofType({base:io,key:"type",typeMap:SR,errorContext:"symbol-layer"});let lo=class extends ir{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const e=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=e?.type,r=n||Ue;this._set("symbolLayers",new r)}get color(){return null}set color(t){this.constructed&&Re.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){mR(t,this._get("symbolLayers"))}readStyleOrigin(t,e,n){if(t.styleUrl&&t.name){const r=Wh(t.styleUrl,n);return new Hg({styleUrl:r,name:t.name})}if(t.styleName&&t.name)return new Hg({portal:n?.portal||Cf.getDefault(),styleName:t.styleName,name:t.name});n?.messages&&n.messages.push(new qu("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:t}))}writeStyleOrigin(t,e,n,r){if(t.styleUrl&&t.name){let i=If(t.styleUrl,r);ki(i)&&(i=$o(i)),e.styleOrigin={styleUrl:i,name:t.name}}else t.styleName&&t.name&&(t.portal&&r?.portal&&!bM(t.portal.restUrl,r.portal.restUrl)?r?.messages&&r.messages.push(new qu("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):e.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof io||t&&SR[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};v([S({json:{read:!1,write:!1}})],lo.prototype,"color",null),v([S({type:Aq,nonNullable:!0,json:{write:!0}}),uh(yR)],lo.prototype,"symbolLayers",null),v([S({type:Hg})],lo.prototype,"styleOrigin",void 0),v([gn("styleOrigin")],lo.prototype,"readStyleOrigin",null),v([Pe("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],lo.prototype,"writeStyleOrigin",null),v([S({type:Qh,json:{read:!1}})],lo.prototype,"thumbnail",void 0),v([S({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],lo.prototype,"type",void 0),lo=v([it("esri.symbols.Symbol3D")],lo);const Hc=lo;let Lf=class extends Kt{constructor(t){super(t),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};v([S({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Lf.prototype,"type",void 0),v([S({readOnly:!0})],Lf.prototype,"visible",void 0),Lf=v([it("esri.symbols.callouts.Callout3D")],Lf);const TR=Lf;var hE;let Yg=hE=class extends Kt{constructor(t){super(t),this.color=new me("white")}clone(){return new hE({color:gt(this.color)})}};v([S(sl)],Yg.prototype,"color",void 0),Yg=hE=v([it("esri.symbols.callouts.LineCallout3DBorder")],Yg);const Iq=Yg;var pE;let cl=pE=class extends TR{constructor(t){super(t),this.type="line",this.color=new me([0,0,0,1]),this.size=bs(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new pE({color:gt(this.color),size:this.size,border:gt(this.border)})}};v([le({line:"line"})],cl.prototype,"type",void 0),v([S(sl)],cl.prototype,"color",void 0),v([S(so)],cl.prototype,"size",void 0),v([S({type:Iq,json:{write:!0}})],cl.prototype,"border",void 0),v([S({readOnly:!0})],cl.prototype,"visible",null),cl=pE=v([it("esri.symbols.callouts.LineCallout3D")],cl);const AR=cl;function dE(t){if(!t)return!1;const e=t.verticalOffset;return!!e&&!(e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function IR(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!e&&!!e.visible&&!!dE(t)}const MR={types:{key:"type",base:TR,typeMap:{line:AR}},json:{write:!0}};var fE;let tp=fE=class extends Kt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new fE({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};v([S(so)],tp.prototype,"screenLength",void 0),v([S({type:Number,nonNullable:!0,json:{write:!0,default:0}})],tp.prototype,"minWorldLength",void 0),v([S({type:Number,json:{write:!0}})],tp.prototype,"maxWorldLength",void 0),tp=fE=v([it("esri.symbols.support.Symbol3DVerticalOffset")],tp);const mE=tp;var Zg;const OR=Ue.ofType({base:null,key:"type",typeMap:{text:Kh}});let ul=Zg=class extends Hc{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new OR,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return IR(this)}hasVisibleVerticalOffset(){return dE(this)}clone(){return new Zg({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail),callout:gt(this.callout),verticalOffset:gt(this.verticalOffset)})}static fromTextSymbol(t){return new Zg({symbolLayers:new Ue([Kh.fromTextSymbol(t)])})}};v([S({type:mE,json:{write:!0}})],ul.prototype,"verticalOffset",void 0),v([S(MR)],ul.prototype,"callout",void 0),v([S({json:{read:!1,write:!1}})],ul.prototype,"styleOrigin",void 0),v([S({type:OR})],ul.prototype,"symbolLayers",void 0),v([le({LabelSymbol3D:"label-3d"},{readOnly:!0})],ul.prototype,"type",void 0),ul=Zg=v([it("esri.symbols.LabelSymbol3D")],ul);const Jg=ul;var Xg;const NR=Ue.ofType({base:null,key:"type",typeMap:{line:Xh,path:sE}}),Mq=Ue.ofType({base:null,key:"type",typeMap:{line:Xh,path:sE}});let Pf=Xg=class extends Hc{constructor(t){super(t),this.symbolLayers=new NR,this.type="line-3d"}clone(){return new Xg({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromSimpleLineSymbol(t){return new Xg({symbolLayers:new Ue([Xh.fromSimpleLineSymbol(t)])})}};v([S({type:NR,json:{type:Mq}})],Pf.prototype,"symbolLayers",void 0),v([le({LineSymbol3D:"line-3d"},{readOnly:!0})],Pf.prototype,"type",void 0),Pf=Xg=v([it("esri.symbols.LineSymbol3D")],Pf);const Yc=Pf;let hl=class extends ir{constructor(t){super(t),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};v([S({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],hl.prototype,"angle",void 0),v([S({type:["simple-marker","picture-marker"],readOnly:!0})],hl.prototype,"type",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],hl.prototype,"xoffset",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],hl.prototype,"yoffset",void 0),v([S({cast:t=>t==="auto"?t:_d(Ke(t)),json:{write:!0}})],hl.prototype,"size",void 0),hl=v([it("esri.symbols.MarkerSymbol")],hl);const CR=hl;var qg;const RR=Ue.ofType({base:null,key:"type",typeMap:{fill:Uc}});let Df=qg=class extends Hc{constructor(t){super(t),this.symbolLayers=new RR,this.type="mesh-3d"}clone(){return new qg({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromSimpleFillSymbol(t){return new qg({symbolLayers:new Ue([Uc.fromSimpleFillSymbol(t)])})}};v([S({type:RR})],Df.prototype,"symbolLayers",void 0),v([le({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Df.prototype,"type",void 0),Df=qg=v([it("esri.symbols.MeshSymbol3D")],Df);const jf=Df;function Oq(t,e,n){return e.imageData?wM({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):kR(e.url,n)}function kR(t,e){if(!ki(t)){const n=Cq(e);if(n)return xy(n,"images",t)}return Wh(t,e)}function Nq(t,e,n,r){if(fc(t)){const i=ah(t);if(!i)return;e.contentType=i.mediaType,e.imageData=i.data,n&&n.imageData===e.imageData&&n.url&&Hh(n.url,e,"url",r)}else Hh(t,e,"url",r)}const LR={json:{read:{source:["imageData","url"],reader:Oq},write:{writer(t,e,n,r){Nq(t,e,this.source,r)}}}},PR={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,n){const r={};return e.imageData&&(r.imageData=e.imageData),e.contentType&&(r.contentType=e.contentType),e.url&&(r.url=kR(e.url,n)),r}}}};function Cq(t){if(!t)return null;const{origin:e,layer:n}=t;if(e!=="service"&&e!=="portal-item")return null;const r=n?.type;return r==="feature"||r==="stream"?n.parsedUrl?.path:r==="map-image"||r==="tile"?t.url?.path:null}var yE;let Bi=yE=class extends KC{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,n,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),e&&(i.outline=e),n!=null&&(i.width=Ke(n)),r!=null&&(i.height=Ke(r)),i}clone(){const t=new yE({color:gt(this.color),height:this.height,outline:gt(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",gt(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};v([le({esriPFS:"picture-fill"},{readOnly:!0})],Bi.prototype,"type",void 0),v([S(LR)],Bi.prototype,"url",void 0),v([S({type:Number,json:{write:!0}})],Bi.prototype,"xscale",void 0),v([S({type:Number,json:{write:!0}})],Bi.prototype,"yscale",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],Bi.prototype,"width",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],Bi.prototype,"height",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],Bi.prototype,"xoffset",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],Bi.prototype,"yoffset",void 0),v([S(PR)],Bi.prototype,"source",void 0),Bi=yE=v([it("esri.symbols.PictureFillSymbol")],Bi);const gE=Bi;var vE;let xs=vE=class extends CR{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e!=null&&(r.width=Ke(e)),n!=null&&(r.height=Ke(n)),r}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new vE({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",gt(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};v([S({json:{write:!1}})],xs.prototype,"color",void 0),v([le({esriPMS:"picture-marker"},{readOnly:!0})],xs.prototype,"type",void 0),v([S(LR)],xs.prototype,"url",void 0),v([S(PR)],xs.prototype,"source",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],xs.prototype,"height",void 0),v([gn("height",["height","size"])],xs.prototype,"readHeight",null),v([S({type:Number,cast:Ke,json:{write:!0}})],xs.prototype,"width",void 0),v([S({json:{write:!1}})],xs.prototype,"size",void 0),xs=vE=v([it("esri.symbols.PictureMarkerSymbol")],xs);const Zc=xs;var Jc;const DR=Ue.ofType({base:null,key:"type",typeMap:{icon:$c,object:rE,text:Kh}});let Xc=Jc=class extends Hc{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new DR,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return IR(this)}hasVisibleVerticalOffset(){return dE(this)}clone(){return new Jc({verticalOffset:gt(this.verticalOffset),callout:gt(this.callout),styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new Jc({symbolLayers:new Ue([$c.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new Jc({symbolLayers:new Ue([$c.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const e=t.data.symbol;return new Jc(e?.callout?{symbolLayers:new Ue([$c.fromCIMSymbol(t)]),callout:new AR({size:.5,color:new me([0,0,0])}),verticalOffset:new mE({screenLength:40})}:{symbolLayers:new Ue([$c.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new Jc({symbolLayers:new Ue([Kh.fromTextSymbol(t)])})}};v([S({type:mE,json:{write:!0}})],Xc.prototype,"verticalOffset",void 0),v([S(MR)],Xc.prototype,"callout",void 0),v([S({type:DR,json:{origins:{"web-scene":{write:!0}}}})],Xc.prototype,"symbolLayers",void 0),v([le({PointSymbol3D:"point-3d"},{readOnly:!0})],Xc.prototype,"type",void 0),Xc=Jc=v([it("esri.symbols.PointSymbol3D")],Xc);const qo=Xc;function Rq(t,e,n){return uy(t.map((r,i)=>e.apply(n,[r,i])))}async function kq(t,e,n){return(await uy(t.map((r,i)=>e.apply(n,[r,i])))).map(r=>r.value)}function bE(t){return{ok:!0,value:t}}function _E(t){return{ok:!1,error:t}}function Lq(t){return t!=null&&t.ok===!0?t.value:null}function Pq(t){return t!=null&&t.ok===!1?t.error:null}async function Dq(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return bE(await t)}catch(e){return _E(e)}}async function jq(t){try{return bE(await t)}catch(e){return X2(e),_E(e)}}function Fq(t,e){return new pl(t,e)}let pl=class extends Bn{get value(){return Lq(this._result)}get error(){return Pq(this._result)}get finished(){return this._result!=null}constructor(t,e){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=G2(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=t(n),this.promise.then(r=>{this._result=bE(r),this._cleanup()},r=>{this._result=_E(r),this._cleanup()}),this._abortHandle=ka(e,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=lc(this._abortHandle),this._abortController=null}};v([S()],pl.prototype,"value",null),v([S()],pl.prototype,"error",null),v([S()],pl.prototype,"finished",null),v([S()],pl.prototype,"promise",void 0),v([S()],pl.prototype,"_result",void 0),pl=v([it("esri.core.asyncUtils.ReactiveTask")],pl);function jR(t,e,n={}){return xE(t,e,n,UR)}function wE(t,e,n={}){return xE(t,e,n,GR)}function xE(t,e,n={},r){let i=null;const s=n.once?(o,a)=>{r(o)&&(lc(i),e(o,a))}:(o,a)=>{r(o)&&e(o,a)};if(i=NV(t,s,n.sync,n.equals),n.initial){const o=t();s(o,o)}return i}function FR(t,e,n,r={}){let i=null,s=null,o=null;function a(){i&&s&&(s.remove(),r.onListenerRemove?.(i),i=null,s=null)}function l(p){r.once&&r.once&&lc(o),n(p)}const c=jR(t,(p,d)=>{a(),cy(p)&&(i=p,s=Z2(p,e,l),r.onListenerAdd?.(p))},{sync:r.sync,initial:!0});return o=yn(()=>{c.remove(),a()}),o}function Uq(t,e){return Gq(t,GR,e)}function Gq(t,e,n){if(Ra(n))return Promise.reject(zr());const r=t();if(e?.(r))return Promise.resolve(r);let i=null;function s(){i=lc(i)}return new Promise((o,a)=>{i=J0([ka(n,()=>{s(),a(zr())}),xE(t,l=>{s(),o(l)},{sync:!1,once:!0},e??UR)])})}function UR(t){return!0}function GR(t){return!!t}const $R={sync:!0},$q={initial:!0},Vq={sync:!0,initial:!0};var Ff;const VR=Ue.ofType({base:null,key:"type",typeMap:{extrude:XC,fill:Uc,icon:$c,line:Xh,object:rE,text:Kh,water:ER}});let Uf=Ff=class extends Hc{constructor(t){super(t),this.symbolLayers=new VR,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Ku(Re.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Ku(Re.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(FR(()=>this.symbolLayers,"after-add",({item:e})=>t(e),$R))}clone(){return new Ff({styleOrigin:gt(this.styleOrigin),symbolLayers:gt(this.symbolLayers),thumbnail:gt(this.thumbnail)})}static fromJSON(t){const e=new Ff;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const n=e.symbolLayers.at(0),r=e.symbolLayers.at(1);!r.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(n.outline={size:r.size,color:r.material!=null?r.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Ff({symbolLayers:new Ue([Uc.fromSimpleFillSymbol(t)])})}};v([S({type:VR,json:{write:!0}})],Uf.prototype,"symbolLayers",void 0),v([le({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Uf.prototype,"type",void 0),Uf=Ff=v([it("esri.symbols.PolygonSymbol3D")],Uf);const dl=Uf;var EE;const SE=new Ws({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let qc=EE=class extends KC{constructor(...t){super(...t),this.color=new me([0,0,0,.25]),this.outline=new $i,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e&&(r.outline=e),n&&(r.color=n),r}clone(){return new EE({color:gt(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};v([S()],qc.prototype,"color",void 0),v([S()],qc.prototype,"outline",void 0),v([le({esriSFS:"simple-fill"},{readOnly:!0})],qc.prototype,"type",void 0),v([S({type:SE.apiValues,json:{read:SE.read,write:SE.write}})],qc.prototype,"style",void 0),qc=EE=v([it("esri.symbols.SimpleFillSymbol")],qc);const fl=qc;var TE;const AE=new Ws({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let co=TE=class extends CR{constructor(...t){super(...t),this.color=new me([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new $i}normalizeCtorArgs(t,e,n,r){if(t&&typeof t!="string")return t;const i={};return t&&(i.style=t),e!=null&&(i.size=Ke(e)),n&&(i.outline=n),r&&(i.color=r),i}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new TE({angle:this.angle,color:gt(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};v([S()],co.prototype,"color",void 0),v([Pe("color")],co.prototype,"writeColor",null),v([le({esriSMS:"simple-marker"},{readOnly:!0})],co.prototype,"type",void 0),v([S()],co.prototype,"size",void 0),v([S({type:AE.apiValues,json:{read:AE.read,write:AE.write}})],co.prototype,"style",void 0),v([S({type:String,json:{write:!0}})],co.prototype,"path",null),v([S({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":$i}},json:{default:null,write:!0}})],co.prototype,"outline",void 0),co=TE=v([it("esri.symbols.SimpleMarkerSymbol")],co);const Es=co;var IE;let Qe=IE=class extends ir{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Af,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,n){if(t&&typeof t!="string")return t;const r={};return t&&(r.text=t),e&&(r.font=e),n&&(r.color=n),r}writeLineWidth(t,e,n,r){r&&typeof r!="string"?r.origin:e[n]=t}castLineWidth(t){return Ke(t)}writeLineHeight(t,e,n,r){r&&typeof r!="string"?r.origin:e[n]=t}clone(){return new IE({angle:this.angle,backgroundColor:gt(this.backgroundColor),borderLineColor:gt(this.borderLineColor),borderLineSize:this.borderLineSize,color:gt(this.color),font:this.font&&this.font.clone(),haloColor:gt(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};v([S({type:me,json:{write:!0}})],Qe.prototype,"backgroundColor",void 0),v([S({type:me,json:{write:!0}})],Qe.prototype,"borderLineColor",void 0),v([S({type:Number,json:{write:!0},cast:Ke})],Qe.prototype,"borderLineSize",void 0),v([S({type:Af,json:{write:!0}})],Qe.prototype,"font",void 0),v([S({...aR,json:{write:!0}})],Qe.prototype,"horizontalAlignment",void 0),v([S({type:Boolean,json:{write:!0}})],Qe.prototype,"kerning",void 0),v([S({type:me,json:{write:!0}})],Qe.prototype,"haloColor",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],Qe.prototype,"haloSize",void 0),v([S({type:Boolean,json:{write:!0}})],Qe.prototype,"rightToLeft",void 0),v([S({type:Boolean,json:{write:!0}})],Qe.prototype,"rotated",void 0),v([S({type:String,json:{write:!0}})],Qe.prototype,"text",void 0),v([le({esriTS:"text"},{readOnly:!0})],Qe.prototype,"type",void 0),v([S({...lR,json:{write:!0}})],Qe.prototype,"verticalAlignment",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],Qe.prototype,"xoffset",void 0),v([S({type:Number,cast:Ke,json:{write:!0}})],Qe.prototype,"yoffset",void 0),v([S({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Qe.prototype,"angle",void 0),v([S({type:Number,json:{write:!0}})],Qe.prototype,"width",void 0),v([S({type:Number})],Qe.prototype,"lineWidth",void 0),v([Pe("lineWidth")],Qe.prototype,"writeLineWidth",null),v([uh("lineWidth")],Qe.prototype,"castLineWidth",null),v([S(oR)],Qe.prototype,"lineHeight",void 0),v([Pe("lineHeight")],Qe.prototype,"writeLineHeight",null),Qe=IE=v([it("esri.symbols.TextSymbol")],Qe);const Kc=Qe;var ME;let Ss=ME=class extends ir{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:Cf.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new ME({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,e){const n=e!=null?e.cache:null,r=n?this._fetchCacheKey:null;if(n!=null){const a=r&&n.get(r);if(a)return a.clone()}const{resolveWebStyleSymbol:i}=await import("./webStyleSymbolUtils-erHd3RAE.js");th(e);const s=i(this,{portal:this.portal},t,e);s.catch(a=>{Re.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",a)});const o=await s;return t==="webRef"&&o.type==="point-3d"||t==="cimRef"&&o.type==="cim"?(n?.set(r,o.clone()),o):null}};v([S({json:{write:!1}})],Ss.prototype,"color",void 0),v([S({type:String,json:{write:!0}})],Ss.prototype,"styleName",void 0),v([S({type:Cf,json:{write:!1}})],Ss.prototype,"portal",void 0),v([S({type:String,json:{read:Gg,write:Hh}})],Ss.prototype,"styleUrl",void 0),v([S({type:Qh,json:{read:!1}})],Ss.prototype,"thumbnail",void 0),v([S({type:String,json:{write:!0}})],Ss.prototype,"name",void 0),v([le({styleSymbolReference:"web-style"},{readOnly:!0})],Ss.prototype,"type",void 0),v([S()],Ss.prototype,"_fetchCacheKey",null),Ss=ME=v([it("esri.symbols.WebStyleSymbol")],Ss);const Qc=Ss;function Bq(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function OE(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Kg={base:ir,key:"type",typeMap:{"simple-fill":fl,"picture-fill":gE,"picture-marker":Zc,"simple-line":$i,"simple-marker":Es,text:Kc,"label-3d":Jg,"line-3d":Yc,"mesh-3d":jf,"point-3d":qo,"polygon-3d":dl,"web-style":Qc,cim:il},errorContext:"symbol"},zq={base:ir,key:"type",typeMap:{"picture-marker":Zc,"simple-marker":Es,"point-3d":qo,cim:il},errorContext:"symbol"},Wq={base:ir,key:"type",typeMap:{"simple-line":$i,"line-3d":Yc,cim:il},errorContext:"symbol"},Hq={base:ir,key:"type",typeMap:{"simple-fill":fl,"picture-fill":gE,"polygon-3d":dl,cim:il},errorContext:"symbol"},Yq={base:ir,key:"type",typeMap:{"picture-marker":Zc,"simple-marker":Es,text:Kc,"web-style":Qc,cim:il},errorContext:"symbol"},Zq=C2({types:Kg}),Jq={base:ir,key:"type",typeMap:{"simple-fill":fl,"picture-fill":gE,"picture-marker":Zc,"simple-line":$i,"simple-marker":Es,text:Kc,"line-3d":Yc,"mesh-3d":jf,"point-3d":qo,"polygon-3d":dl,"web-style":Qc,cim:il},errorContext:"symbol"},Xq={base:ir,key:"type",typeMap:{text:Kc,"label-3d":Jg},errorContext:"symbol"},qq={base:ir,key:"type",typeMap:{"line-3d":Yc,"mesh-3d":jf,"point-3d":qo,"polygon-3d":dl,"web-style":Qc,cim:il},errorContext:"symbol"},Kq={base:ir,key:"type",typeMap:{"label-3d":Jg},errorContext:"symbol"},Qq=Na(Kg);var NE;function tK(t){if(!t)return null;const e={};for(const n in t){const r=yh(t[n]);r&&(e[n]=r)}return Object.keys(e).length!==0?e:null}function eK(t){if(t==null)return null;const e={};for(const n in t){const r=t[n];r&&(e[n]=r.toJSON())}return Object.keys(e).length!==0?e:null}let Zr=NE=class extends Qs(Kt){constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Cd(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&w$(Re.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),t?.type!=="mesh"&&this._notifyLayer("geometry",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}get version(){return this._version}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}cloneShallow(){return new NE({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const e=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[e,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(t&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(t){return this.attributes?.[t]}setAttribute(t,e){if(this.attributes){const n=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",n,e,t)}else this.attributes={[t]:e},this._notifyLayer("attributes",void 0,e,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:eK(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:vy(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(t={}){const{geometry:e}=this;if(e?.type==="mesh"){const n={origin:e.origin,transform:e.transform};this._notifyLayer("origin-transform",n,n,t.action)}}_notifyLayer(t,e,n,r){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:t,oldValue:e,newValue:n};t==="origin-transform"&&(i.action=r),t==="attributes"&&(i.attributeName=r),this.layer.graphicChanged(i)}_watchMeshGeometryChanges(){this.addHandles([wE(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:t,origin:e})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===e||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=e,this.notifyMeshTransformChanged())}),wE(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const t=this.geometry;t?.type==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=t.transform?.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,e)=>t===e,sync:!0})])}};v([S({value:null,json:{read:tK}})],Zr.prototype,"aggregateGeometries",null),v([S({value:null})],Zr.prototype,"attributes",null),v([S({value:null,types:Wy,json:{read:yh}})],Zr.prototype,"geometry",null),v([S({type:Boolean})],Zr.prototype,"isAggregate",void 0),v([S({clonable:"reference"})],Zr.prototype,"layer",void 0),v([S({clonable:"reference"})],Zr.prototype,"origin",void 0),v([S({type:CC})],Zr.prototype,"popupTemplate",void 0),v([S({clonable:"reference"})],Zr.prototype,"sourceLayer",void 0),v([S({value:null,types:Kg})],Zr.prototype,"symbol",null),v([S({clonable:!1,json:{read:!1,write:!1}})],Zr.prototype,"_version",void 0),v([S({type:Boolean,value:!0})],Zr.prototype,"visible",null),Zr=NE=v([it("esri.Graphic")],Zr);const Qg=Zr;function nK(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function rK(t){return t?.type==="subtype-sublayer"}const iK={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function CE(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function sK(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function oK(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t.source?.type==="feature-layer"}async function aK(t,e){const n=ze?.findServerInfo(t);if(n?.currentVersion!=null)return n.owningSystemUrl||null;const r=t.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const i=`${t.slice(0,r)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await Xe(i,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function lK(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function cK(t){return lK(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function uK(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function hK(t){return!!uK(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}const RE=[252,146,31,255],pK=[153,153,153,255],BR={type:"esriSMS",style:"esriSMSCircle",size:6,color:RE,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},zR={type:"esriSLS",style:"esriSLSSolid",width:.75,color:RE},WR={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},dK={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},fK={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},mK={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},yK={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},kE=Es.fromJSON(BR),LE=$i.fromJSON(zR),PE=fl.fromJSON(WR),gK=Kc.fromJSON(dK);function vK(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return kE;case"polyline":return LE;case"polygon":case"extent":return PE}return null}const bK=Es.fromJSON(fK),_K=$i.fromJSON(mK),wK=fl.fromJSON(yK);qo.fromSimpleMarkerSymbol(kE),Yc.fromSimpleLineSymbol(LE),dl.fromSimpleFillSymbol(PE),new jf({symbolLayers:new Ue([new Uc({material:{color:RE},edges:new jC({size:bs(1),color:new me(pK)})})])});const xK=new Yc({symbolLayers:new Ue([new Xh({material:{color:new me([0,0,0])},size:bs(1)})])}),EK=new dl({symbolLayers:new Ue([new Uc({outline:{color:new me([0,0,0]),size:bs(1)}})])}),HR="#useCIMFallbackSymbology()",ep={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function SK(t,e=ep){if(!t)return{symbol:null};const{retainId:n=ep.retainId,ignoreDrivers:r=ep.ignoreDrivers,hasLabelingContext:i=ep.hasLabelingContext,retainCIM:s=ep.retainCIM,cimFallbackEnabled:o=ep.cimFallbackEnabled}=e;let a=null;if(OE(t)||t instanceof Qc)a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?t.clone():qo.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=xK.clone(),e?.logWarning?.(HR,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=EK.clone(),e?.logWarning?.(HR,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ae("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof $i)a=Yc.fromSimpleLineSymbol(t);else if(t instanceof Es)a=qo.fromSimpleMarkerSymbol(t);else if(t instanceof Zc)a=qo.fromPictureMarkerSymbol(t);else if(t instanceof fl)a=e.geometryType&&e.geometryType==="mesh"?jf.fromSimpleFillSymbol(t):dl.fromSimpleFillSymbol(t);else{if(!(t instanceof Kc))return{error:new ae("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=i?Jg.fromTextSymbol(t):qo.fromTextSymbol(t)}return n&&a&&a.type!=="cim"&&(a.id=t.id),r&&OE(a)&&a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function TK(t,e,n,r){const i=ZR(t,{},{context:r,isLabelSymbol:!1});i!=null&&(e[n]=i)}function AK(t,e,n,r){const i=ZR(t,{},{context:r,isLabelSymbol:!0});i!=null&&(e[n]=i)}function YR(t){return t instanceof Hc||t instanceof Qc}function IK(t){return t instanceof Hc&&(t.type==="polygon-3d"||t.type==="line-3d")}function ZR(t,e,n){if(t==null)return null;const{context:r,isLabelSymbol:i}=n,s=r?.origin,o=r?.messages;if(s==="web-scene"&&!YR(t)){const a=SK(t,{retainCIM:!0,hasLabelingContext:i});return a.symbol!=null?a.symbol.write(e,r):(o?.push(new ae("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:r,error:a.error})),null)}return CE(r?.layer)&&IK(t)?(o?.push(new ae("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:t,context:r})),null):(s==="web-map"||s==="portal-item"&&!CE(r?.layer))&&YR(t)?(o?.push(new ae("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:r})),null):t.write(e,r)}function t1(t,e){return Zq(t,null,e)}class De{static async Basemap(e){const n=await import("./Basemap-CzNWzPgd.js").then(r=>r.B);return Reflect.construct(n.default,[e])}static async Map(e){const n=await import("./Map-VussGbyX.js");return Reflect.construct(n.default,[e])}static async MapView(e){const n=await import("./MapView-Cut68N6_.js").then(r=>r.V);return Reflect.construct(n.default,[e])}static async FeatureLayer(e){const n=await import("./FeatureLayer-DdabZQxC.js");return Reflect.construct(n.default,[e])}static async GraphicsLayer(e){const n=await import("./GraphicsLayer-CBUg0m1I.js");return Reflect.construct(n.default,[e])}static async ImageryLayer(e){const n=await import("./ImageryLayer-BqDQglXR.js");return Reflect.construct(n.default,[e])}static async MapImageLayer(e){const n=await import("./MapImageLayer-TK_n-S19.js");return Reflect.construct(n.default,[e])}static async OpenStreetMapLayer(e){const n=await import("./OpenStreetMapLayer-DTJaRIxa.js");return Reflect.construct(n.default,[e])}static async TileLayer(e){const n=await import("./TileLayer-CW3063XR.js");return Reflect.construct(n.default,[e])}static async WMSLayer(e){const n=await import("./WMSLayer-DZ-FSY6i.js");return Reflect.construct(n.default,[e])}static async ColorBackground(e){const n=await import("./ColorBackground-MD-DEVoz.js");return Reflect.construct(n.default,[e])}static async FeatureFilter(e){const n=await import("./FeatureFilter-DDi-S8YH.js");return Reflect.construct(n.default,[e])}static async FieldFromJson(e){return(await import("./Field-C-l50WoT.js").then(n=>n.F)).default.fromJSON(e)}static async Query(){const e=await import("./Query-DFb3qOIY.js").then(n=>n.Q);return Reflect.construct(e.default,[])}static async QueryByIds(e,n,r){const{executeForIds:i}=await import("./query-BTZz2SVS.js");return i(e,n,r)}static async RendererFromJson(e){const{fromJSON:n}=await import("./jsonUtils-DgbKRQh1.js").then(r=>r.j);return n(e)}}class Vt{wkid;latestWkid;wkt;constructor(e,n){typeof e=="string"?this.wkt=e:(this.wkid=e,this.latestWkid=n)}isEqual(e){return!!(this.isWebMercator()&&e.isWebMercator()||this.wkid&&e.wkid&&this.wkid===e.wkid||this.wkt&&e.wkt&&this.wkt===e.wkt||this.latestWkid&&e.latestWkid&&this.latestWkid===e.latestWkid)}clone(){const e=new Vt("");return e.latestWkid=this.latestWkid,e.wkid=this.wkid,e.wkt=this.wkt,e}lean(){const e={};return this.wkt?e.wkt=this.wkt:(e.wkid=this.wkid,this.latestWkid&&(e.latestWkid=this.latestWkid)),e}isWebMercator(){const e=[900913,3587,54004,41001,102113,102100,3785];return!!(this.wkid&&e.includes(this.wkid)||this.latestWkid&&e.includes(this.latestWkid))}static latLongSR(){return new Vt(4326)}static fromConfig(e){if(e.wkt)return new Vt(e.wkt);if(e.wkid)return new Vt(e.wkid,e.latestWkid);throw new Error("Could not parse config spatial reference object")}static parseSR(e){return e?e instanceof Vt?e.clone():typeof e=="string"&&e.startsWith("EPSG:")?new Vt(parseInt(e.substring(5).trim())):new Vt(e):Vt.latLongSR()}static fromESRI(e){if(e.wkt)return new Vt(e.wkt);{const n=e.toJSON().latestWkid,r=new Vt(e.wkid);return n&&(r.latestWkid=n),r}}toESRI(){return new qe(this.lean())}static fromGeoJSON(e){const n=Vt.parseGeoJsonCrs(e);return n.substring(0,5)==="EPSG:"?new Vt(parseInt(n.slice(5))):new Vt(n)}static parseGeoJsonCrs(e){if(e){if(e.type==="name"){const n=/urn:ogc:def:crs:EPSG::(\d+)/,r=e.properties.name,i=r.match(n);if(i)return"EPSG:"+i[1];if(r.substring(0,7)!=="urn:ogc")return r}}else return"EPSG:4326";return console.error("Encountered unsupported GeoJSON CRS format. Defaulting to lat-long, resuling conversion is likely wrong",e),"EPSG:4326"}toGeoJSON(){const e={type:"name",properties:{name:""}};return this.wkt?e.properties.name=this.wkt:e.properties.name="urn:ogc:def:crs:EPSG::"+(this.latestWkid||this.wkid),e}}class tu{sr;id;constructor(e,n){this.id=e?e.toString():"",this.sr=Vt.parseSR(n)}get type(){return Xt.UNKNOWN}childIdGenerator(e){return`${this.id}-${e}`}toESRI(){throw new Error(`.toESRI not implemented on geometry type ${this.type}`)}toGeoJSON(){throw new Error(`.toGeoJSON not implemented on geometry type ${this.type}`)}invalid(){return this.type===Xt.NONE||this.type===Xt.UNKNOWN}geoJsonFactory(e,n){const r={type:e,coordinates:n};return this.sr&&(r.crs=this.sr.toGeoJSON()),r}}class ml extends tu{constructor(){super("no_geometry")}get type(){return Xt.NONE}}let vr=class E0 extends tu{rawArray;constructor(e,n,r,i){super(e,n.sr||r),i?this.rawArray=n.slice():this.rawArray=E0.parseXY(n)}get type(){return Xt.POINT}get x(){return this.rawArray[0]}set x(e){this.rawArray[0]=e}get y(){return this.rawArray[1]}set y(e){this.rawArray[1]=e}toArray(){return this.rawArray.slice()}static parseXY(e){let n;if(Array.isArray(e)&&e.length===2)n=e;else{if(e instanceof E0)return e.toArray();n=[e.x,e.y]}if(isNaN(n[0])||isNaN(n[1]))throw new Error("Unsupported point format detected. Supported formats are two element array of numbers, or object with x and y properties containing numbers");return[parseFloat(n[0]),parseFloat(n[1])]}static fromESRI(e,n){return new E0(n,[e.x,e.y],Vt.fromESRI(e.spatialReference),!0)}toESRI(){return new Tn({x:this.x,y:this.y,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new E0(n,e.coordinates,Vt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.POINT,this.toArray())}};class hi extends tu{rawArray;constructor(e,n,r,i){super(e,n.sr||r),i?this.rawArray=hi.arrayDeepCopy(n):n instanceof hi?this.rawArray=n.toArray():this.rawArray=hi.parsePointSet(n)}get pointArray(){return this.rawArray.map((e,n)=>new vr(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new vr(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=vr.parseXY(e)}get length(){return this.rawArray.length}toArray(){return hi.arrayDeepCopy(this.rawArray)}static parsePointSet(e){if(Array.isArray(e)){if(e.length===0)throw new Error("no verticies provided");return e.map(n=>vr.parseXY(n))}else throw new Error("Bad geometry input encountered")}static arrayDeepCopy(e){return e.map(n=>n.slice())}}class fd extends hi{constructor(e,n,r,i){super(e,n,r,i)}get type(){return Xt.MULTIPOINT}static fromESRI(e,n){return new fd(n,e.points,Vt.fromESRI(e.spatialReference),!0)}toESRI(){return new Wd({points:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new fd(n,e.coordinates,Vt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.MULTIPOINT,this.toArray())}}class nc extends hi{constructor(e,n,r,i){if(super(e,n,r,i),this.rawArray.length<2)throw new Error("lines require at least two verticies")}get type(){return Xt.LINESTRING}static fromESRI(e,n){return new nc(n,e.paths[0],Vt.fromESRI(e.spatialReference),!0)}toESRI(){return new di({paths:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new nc(n,e.coordinates,Vt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.LINESTRING,this.toArray())}}class Gs extends tu{rawArray;constructor(e,n,r,i){if(super(e,n.sr||r),i)this.rawArray=Gs.arrayDeepCopy(n);else if(n instanceof Gs)this.rawArray=n.toArray();else if(n instanceof hi)this.rawArray=[n.toArray()];else if(Array.isArray(n)){if(n.length===0)throw new Error("no lines provided");this.rawArray=n.map(s=>hi.parsePointSet(s))}else throw new Error("invalid lines format for MulitLineString")}get lineArray(){return this.rawArray.map((e,n)=>new nc(this.childIdGenerator(n),e,this.sr,!0))}getAt(e){return new nc(this.childIdGenerator(e),this.rawArray[e],this.sr,!0)}updateAt(e,n){this.rawArray[n]=hi.parsePointSet(e)}get length(){return this.rawArray.length}get type(){return Xt.MULTILINESTRING}toArray(){return Gs.arrayDeepCopy(this.rawArray)}static arrayDeepCopy(e){return e.map(n=>n.map(r=>r.slice()))}static fromESRI(e,n){return new Gs(n,e.paths,Vt.fromESRI(e.spatialReference),!0)}toESRI(){return new di({paths:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Gs(n,e.coordinates,Vt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.MULTILINESTRING,this.toArray())}}class Bu extends hi{constructor(e,n,r,i){if(super(e,n,r,i),Bu.closeRing(this.rawArray),this.length<4)throw new Error("Linear Ring must have at least 3 distinct vertices.")}get type(){return Xt.LINEARRING}updateAt(e,n){const r=this.length-1;n===0?super.updateAt(e,r):n===r&&super.updateAt(e,0),super.updateAt(e,n)}static closeRing(e){const n=e[0],r=e[e.length-1];(n[0]!==r[0]||n[1]!==r[1])&&e.push(n.slice())}static fromESRI(e,n){return new Bu(n,e.rings[0],Vt.fromESRI(e.spatialReference),!0)}toESRI(){return new hs({rings:[this.toArray()],spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Bu(n,e.coordinates,Vt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.POLYGON,[this.toArray()])}}class hr extends tu{rawArray;constructor(e,n,r,i){super(e,n.sr||r),i?this.rawArray=hr.arrayDeepCopy(n):this.rawArray=hr.parsePolygon(n)}addLinearRings(e){e.forEach(n=>this.rawArray.push(n.toArray()))}get ringArray(){return this.rawArray.map((e,n)=>new Bu(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Xt.POLYGON}toArray(){return hr.arrayDeepCopy(this.rawArray)}static parsePolygon(e){let n=[];if(e instanceof hr)return e.toArray();if(e instanceof Gs)n=e.toArray();else if(e instanceof hi)n=[e.toArray()];else if(Array.isArray(e)){if(e.length===0)throw new Error("no rings provided");n=e.map(r=>hi.parsePointSet(r))}else throw new Error("invalid input format for parsePolygon");return n.forEach(r=>Bu.closeRing(r)),n}static arrayDeepCopy(e){return e.map(n=>n.map(r=>r.slice()))}static fromESRI(e,n){return new hr(n,e.rings,Vt.fromESRI(e.spatialReference),!0)}toESRI(){return new hs({rings:this.toArray(),spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new hr(n,e.coordinates,Vt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.POLYGON,this.toArray())}}class Sa extends tu{rawArray;constructor(e,n,r,i){super(e,n.sr||r),i?this.rawArray=Sa.arrayDeepCopy(n):this.rawArray=Sa.parseMultiPolygon(n)}addPolygon(e){this.rawArray.push(e.toArray())}get polygonArray(){return this.rawArray.map((e,n)=>new hr(this.childIdGenerator(n),e,this.sr,!0))}get type(){return Xt.MULTIPOLYGON}toArray(){return Sa.arrayDeepCopy(this.rawArray)}static parseMultiPolygon(e){if(e instanceof Sa)return e.toArray();if(e instanceof hr)return[e.toArray()];if(e instanceof Gs||e instanceof hi)return[hr.parsePolygon(e)];if(Array.isArray(e)){if(e.length===0)throw new Error("no polygons provided");return e.map(n=>hr.parsePolygon(n))}else throw new Error("invalid input format for parseMultiPolygon")}static arrayDeepCopy(e){return e.map(n=>n.map(r=>r.map(i=>i.slice())))}static fromESRI(e,n){return new Sa(n,[e.rings],Vt.fromESRI(e.spatialReference),!0)}toESRI(){const e=[];return this.toArray().forEach(n=>{n.forEach(r=>e.push(r))}),new hs({rings:e,spatialReference:this.sr.toESRI()})}static fromGeoJSON(e,n){return new Sa(n,e.coordinates,Vt.fromGeoJSON(e.crs),!0)}toGeoJSON(){return this.geoJsonFactory(fn.MULTIPOLYGON,this.toArray())}}class sn extends tu{rawMin;rawMax;constructor(e,n,r,i){super(e,n.sr||i),this.rawMin=vr.parseXY(n),this.rawMax=vr.parseXY(r)}get type(){return Xt.EXTENT}get xmin(){return this.rawMin[0]}get ymin(){return this.rawMin[1]}get xmax(){return this.rawMax[0]}get ymax(){return this.rawMax[1]}center(){return new vr(this.id+"_centerPoint",[(this.xmax-this.xmin)/2+this.xmin,(this.ymax-this.ymin)/2+this.ymin],this.sr,!0)}expand(e){return sn.fromESRI(this.toESRI().expand(e),`${this.id}-expanded`)}clone(){return new sn(this.id,this.rawMin,this.rawMax,this.sr)}contains(e){return this.sr.isEqual(e.sr)?this.xmin<=e.x&&this.xmax>=e.x&&this.ymin<=e.y&&this.ymax>=e.y:(console.error("Extent.contains(point) must have point in same spatial reference as the extent."),!1)}toArray(){return[this.rawMin.slice(),this.rawMax.slice()]}toPolygonArray(){return[[this.rawMin.slice(),[this.xmin,this.ymax],this.rawMax.slice(),[this.xmax,this.ymin],this.rawMin.slice()]]}toPolygon(){return new hr(this.id,this.toPolygonArray(),this.sr,!0)}static fromParams(e,n,r,i,s,o){return new sn(e,[n,r],[i,s],o)}static fromConfig(e,n){return new sn(e,[n.xmin,n.ymin],[n.xmax,n.ymax],Vt.fromConfig(n.spatialReference))}isEqual(e){return e?this.xmin===e.xmin&&this.ymin===e.ymin&&this.xmax===e.xmax&&this.ymax===e.ymax:!1}static fromESRI(e,n){return sn.fromParams(n,e.xmin,e.ymin,e.xmax,e.ymax,Vt.fromESRI(e.spatialReference))}toESRI(){return new Wr({xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax,spatialReference:this.sr.toESRI()})}static fromArcServer(e,n){return sn.fromESRI(Wr.fromJSON(e),n)}static fromGeoJSON(e,n){if(e.coordinates.length!==5)throw new Error("Extent expected a four vertex polygon from GeoJSON");const r=e.coordinates[0].slice(),i=r.slice();return[1,2,3].forEach(s=>{[0,1].forEach(o=>{const a=e.coordinates[s];r[o]>a[o]&&(r[o]=a[o]),i[o]<a[o]&&(i[o]=a[o])})}),new sn(n,r,i,Vt.fromGeoJSON(e.crs))}toGeoJSON(){return this.geoJsonFactory(fn.POLYGON,this.toPolygonArray())}}class Ta{c;constructor(e){if(!e){this.c=[0,0,0,1];return}if(Array.isArray(e)){const n=e.length;if(n<3||n>4){console.error("Invalid colour value array passed to Colour class"),this.c=[0,0,0,1];return}this.c=e.map((r,i)=>i===3?r:parseInt(r)),n===3&&this.c.push(1)}else if(typeof e=="string"){const n=e.substring(0,1)==="#"?e.substring(1):e;this.c=[0,2,4,6].map(r=>{const i=n.substring(r,r+2);return Ta.hexToInt(i)})}else this.c=[e.r,e.g,e.b,e.a??1];this.c.forEach((n,r)=>{n<0&&(console.error("Negative value passed to colour"),this.c[r]=0),n>255&&(console.error("Rotund value passed to colour"),this.c[r]=255)}),this.c[3]>1&&(this.c[3]=this.c[3]/255)}get rgba(){return this.c.slice()}get hex(){const e=this.rgba;return e[3]=e[3]*255,`#${e.map(n=>Ta.intToHex(n)).join("")}`}get r(){return this.c[0]}get g(){return this.c[1]}get b(){return this.c[2]}get a(){return this.c[3]}toESRI(){return new me(this.rgba)}toArcServer(){return[this.c[0],this.c[1],this.c[2],255*this.c[3]]}static hexToInt(e){return e.length===0?255:parseInt(e,16)}static intToHex(e){const n=e.toString(16);return n.length===1?`0${n}`:n}}class Ko{toOptions(){throw new Error(".toOptions called on BaseStyle. Likely was not implemented on subclass.")}toESRI(){throw new Error(".toESRI called on BaseStyle. Likely was not implemented on subclass.")}static convToPoints(e){if(!(typeof e>"u"))if(typeof e=="string"){let n;const r=e.length;if(r===0)return;const i=e.substring(r-2);return i==="px"?n=parseFloat(e.substring(0,r-2))*1.333333:i==="pt"?n=parseFloat(e.substring(0,r-2)):n=parseFloat(e),n}else return e}}class Aa extends Ko{_height;_xOffset;_yOffset;_icon;_width;_size;_colour;_style;_outline;_path;_angle;constructor(e){if(e=e||{style:zs.CIRCLE},super(),this._style=e.style||zs.CIRCLE,e.style===zs.ICON){const n=e;this._icon=n.icon||"",this._height=Ko.convToPoints(n.height)||16.5,this._width=Ko.convToPoints(n.width)||16.5,this._size=0,this._colour=new Ta,this._outline=new ko,this._path=""}else{const n=e;this._size=Ko.convToPoints(n.size)||12,this._colour=new Ta(n.colour??"#ffffff40"),this._outline=new ko(n.outline),this._path=this._style===zs.PATH&&n.path||"",this._height=0,this._width=0,this._icon=""}this._xOffset=Ko.convToPoints(e.xOffset)||0,this._yOffset=Ko.convToPoints(e.yOffset)||0,this._angle=e.angle||0}get colour(){return this.propGrouse(!1),this._colour}get styleType(){return this._style}get width(){return this.propGrouse(!0),this._width}get height(){return this.propGrouse(!0),this._height}get size(){return this.propGrouse(!1),this._size}get xOffset(){return this._xOffset}get yOffset(){return this._yOffset}get angle(){return this._angle}get icon(){return this.propGrouse(!0),this._icon}get outline(){return this.propGrouse(!1),this._outline}get path(){return this.propGrouse(!1),this._path}propGrouse(e){this._style===zs.ICON!==e&&console.warn(`Accessed a point style property that is invalid for the style type ${this._style}`)}toOptions(){const e={style:this.styleType,yOffset:this.yOffset,xOffset:this.xOffset,angle:this.angle};return this._style===zs.ICON?{...e,icon:this.icon,width:this.width,height:this.height}:{...e,size:this.size,colour:this.colour.hex,path:this.path}}toESRI(){let e;return this.styleType===zs.ICON?Aa.isImageUrl(this.icon)?(e=new Zc,e.url=this.icon,e.width=this.width,e.height=this.height,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Es,e.color=new me(this.colour.rgba),e.size=this.width,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle):(e=new Es,e.color=new me(this.colour.rgba),e.size=this.size,e.xoffset=this.xOffset,e.yoffset=this.yOffset,e.angle=this.angle,e.path=this.path,e.style=this.styleType,e.outline=this.outline.toESRI()),e}static fromESRI(e){const n={xOffset:e.xoffset,yOffset:e.yoffset,angle:e.angle};if(e.type==="simple-marker"){const r=n;r.style=e.style,r.colour=e.color.toRgba(),r.size=e.size,r.path=e.path,r.outline=ko.fromESRI(e.outline).toOptions()}else{const r=n;r.style=zs.ICON,r.width=e.width,r.height=e.height,r.icon=e.url}return new Aa(n)}static fromArcServer(e){return Aa.fromESRI(t1(e))}static isImageUrl(e){return!!e.match(/\.(jpeg|jpg|gif|png|swf|svg)$/)||!!e.match(/^\s*data:([a-z]+\/[a-z0-9\-\+]+(;[a-z\-]+\=[a-z0-9\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i)}}class ko extends Ko{_style;_width;_miter;_cap;_join;_colour;constructor(e){e=e||{},super(),this._style=e.style||$r.SOLID;const n=Ko.convToPoints(e.width);this._width=typeof n>"u"||n<0?.75:n,this._colour=new Ta(e.colour),this._miter=e.miter??2,this._cap=e.cap||fA.ROUND,this._join=e.join||dA.ROUND}get styleType(){return this._style}get width(){return this._width}get colour(){return this._colour}get miter(){return this._miter}get cap(){return this._cap}get join(){return this._join}toOptions(){return{style:this.styleType,width:this.width,colour:this.colour.hex,miter:this.miter,cap:this.cap,join:this.join}}toESRI(){const e=new $i;return e.width=this.width,e.color=this.colour.toESRI(),e.style=this.styleType,e.cap=this.cap,e.miterLimit=this.miter,e.join=this.join,e}static fromESRI(e){const n={width:e.width,colour:e.color.toRgba(),style:e.style};return new ko(n)}static fromArcServer(e){return ko.fromESRI(t1(e))}}class md extends Ko{_outlineStyle;_fillColour;_fillStyle;constructor(e){super(),e=e||{},e.fill||(e.fill={}),this._fillColour=new Ta(e.fill.colour),this._fillStyle=e.fill.style||mA.SOLID,this._outlineStyle=new ko(e.outline)}get fillColour(){return this._fillColour}get fillStyleType(){return this._fillStyle}get outline(){return this._outlineStyle}toOptions(){return{fill:{style:this.fillStyleType,colour:this.fillColour.hex},outline:this.outline.toOptions()}}toESRI(){const e=this.outline.toESRI(),n=new me(this.fillColour.rgba),r=new fl;return r.style=this.fillStyleType,r.color=n,r.outline=e,r}static fromESRI(e){const n={fill:{colour:e.color.toRgba(),style:e.style},outline:ko.fromESRI(e.outline).toOptions()};return new md(n)}static fromArcServer(e){return md.fromESRI(t1(e))}}class MK{Extent=sn;Graphic=Mi;LineString=nc;LineStyle=ko;LinearRing=Bu;MultiLineString=Gs;MultiPoint=fd;MultiPolygon=Sa;Point=vr;PointStyle=Aa;Polygon=hr;PolygonStyle=md;SpatialReference=Vt;esriMapClickToRamp(e,n){return{mapPoint:vr.fromESRI(e.mapPoint,n),screenX:e.x,screenY:e.y,button:e.button,input:e.native.pointerType,clickTime:e.timestamp}}esriMapMouseToRamp(e){return{screenX:e.x,screenY:e.y,button:e.button,moveTime:e.timestamp}}geomRampToEsri(e){return e.toESRI()}geomEsriToRamp(e,n){switch(e.type){case"point":return vr.fromESRI(e,n);case"polyline":{const r=e;return r.paths.length===1?nc.fromESRI(r,n):Gs.fromESRI(r,n)}case"polygon":return hr.fromESRI(e,n);case"extent":return sn.fromESRI(e,n);case"multipoint":return fd.fromESRI(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomGeoJsonToRamp(e,n){switch(e.type){case fn.POINT:return vr.fromGeoJSON(e,n);case fn.LINESTRING:return nc.fromGeoJSON(e,n);case fn.POLYGON:return hr.fromGeoJSON(e,n);case fn.MULTIPOINT:return fd.fromGeoJSON(e,n);case fn.MULTILINESTRING:return Gs.fromGeoJSON(e,n);case fn.MULTIPOLYGON:return Sa.fromGeoJSON(e,n);default:throw new Error(`Encountered unhandled geometry type ${e.type}`)}}geomRampToGeoJson(e){return e.toGeoJSON()}graphicRampToGeoJson(e){const n={},r={type:"Feature",geometry:this.geomRampToGeoJson(e.geometry),properties:n};return Object.keys(e.attributes).forEach(i=>r.properties[i]=e.attributes[i]),r}graphicGeoJsonToRamp(e,n){if(e.type!=="Feature")throw new Error("Expected input parameter of graphicGeoJsonToRamp to be a GeoJson feature");const r=this.geomGeoJsonToRamp(e.geometry,n),i={};return Object.keys(e.properties.forEach(s=>i[s]=e.properties[s])),new Mi(r,"",i)}graphicRampToEsri(e){const n={attributes:{},id:e.id};return n.geometry=this.geomRampToEsri(e.geometry),Object.keys(e.attributes).forEach(r=>n.attributes[r]=e.attributes[r]),e.style&&(n.symbol=this.styleRampToEsri(e.style)),new Qg(n)}styleRampToEsri(e){return e.toESRI()}styleEsriToRamp(e){switch(e.type){case"picture-marker":case"simple-marker":return Aa.fromESRI(e);case"simple-line":return ko.fromESRI(e);case"simple-fill":return md.fromESRI(e);default:return console.error(`Unsupported ESRI symbol type encountered: ${e.type}`),new Aa}}serverGeomTypeToRampGeomType(e){if(!e)return Xt.NONE;switch(e){case"esriGeometryPolygon":return Xt.POLYGON;case"esriGeometryPolyline":return Xt.LINESTRING;case"esriGeometryPoint":return Xt.POINT;case"esriGeometryMultipoint":return Xt.MULTIPOINT;case"esriGeometryEnvelope":return Xt.EXTENT;default:return console.error(`Unrecognized server geometry type encountered: ${e}`),Xt.UNKNOWN}}clientGeomTypeToRampGeomType(e){if(!e)return Xt.NONE;switch(e){case"polygon":return Xt.POLYGON;case"polyline":return Xt.LINESTRING;case"point":return Xt.POINT;case"multipoint":return Xt.MULTIPOINT;default:return console.error(`Unrecognized client geometry type encountered: ${e}`),Xt.UNKNOWN}}geoJsonGeomTypeToEsriGeomType(e){switch(e){case fn.POINT:return"point";case fn.LINESTRING:case fn.MULTILINESTRING:return"polyline";case fn.POLYGON:case fn.MULTIPOLYGON:return"polygon";case fn.MULTIPOINT:return"multipoint";default:throw new Error(`Encountered unhandled geometry type ${e}`)}}isImageUrl(e){return Aa.isImageUrl(e)}}class e1{layerIdx;name;children;uid;isRoot;constructor(e,n,r="",i=!0){this.layerIdx=e,this.name=r,this.isRoot=i,this.children=[],this.uid=n}findChildByUid(e){if(this.uid===e)return this;{let n;return this.children.some(r=>n=r.findChildByUid(e)),n}}findChildByIdx(e){if(this.layerIdx===e)return this;{let n;return this.children.some(r=>n=r.findChildByIdx(e)),n}}get isLogicalLayer(){return this.layerIdx>-1&&this.children.length===0}get isLayerRoot(){return this.isRoot}}class JR{minScale;maxScale;constructor(e=0,n=0){this.minScale=e,this.maxScale=n}isOffScale(e){const n={offScale:!1,zoomIn:!1};return e<this.maxScale&&this.maxScale!==0?(n.offScale=!0,n.zoomIn=!1):e>this.minScale&&this.minScale!==0&&(n.offScale=!0,n.zoomIn=!0),n}}class XR{sql;cache;extent;constructor(e="",n=""){this.sql={[fr.PERMANENT]:e,[fr.INITIAL]:n},this.extent=void 0,this.cache={}}sqlActiveFilters(e=[]){const n=this.sql,r=Object.keys(n).filter(i=>n[i]);return e.length===0?r:r.filter(i=>e.indexOf(i)===-1)}isActive(){return this.sqlActiveFilters([fr.PERMANENT]).length>0}getCombinedSql(e=[]){const n=this.sqlActiveFilters(e),r=n.length;return r===0?"":r===1?this.sql[n[0]]:n.map(i=>`(${this.sql[i]})`).join(" AND ")}setSql(e,n){e===fr.PERMANENT?console.error("Attempted to overwrite a permanent filter. Not allowed."):(this.sql[e]=n,this.clearCacheSet(e))}getSql(e){return this.sql[e]||""}setExtent(e){e.isEqual(this.extent)||(this.extent=e,this.clearCacheSet(fr.EXTENT))}getCacheKey(e,n){return`_cache$${e.sort().join("$")}${n?"$"+fr.EXTENT:""}$`}getCache(e,n){const r=this.getCacheKey(e,n);return this.cache[r]}setCache(e,n,r){const i=this.getCacheKey(n,r);this.cache[i]=e}cacheActiveKeys(){const e=this.cache;return Object.keys(e).filter(n=>e[n])}clearAllCaches(){this.cache={}}clearCacheSet(e){this.cacheActiveKeys().forEach(n=>{n.indexOf(`$${e}$`)>-1&&delete this.cache[n]})}clearAll(){this.sql={[fr.PERMANENT]:this.sql[fr.PERMANENT]},this.extent=void 0,this.clearAllCaches()}}class T0{id;sr;_defaultExtent;_fullExtent;_maximumExtent;constructor(e,n,r=void 0,i=void 0){this.id=e,this.sr=n.sr.clone(),this._defaultExtent=n.clone(),this._fullExtent=r?.clone(),this._maximumExtent=i?.clone(),r&&!r.sr.isEqual(this.sr)&&console.error(`Full extent provided in extent set has a mismatching spatial reference: ${r.sr}`),i&&!i.sr.isEqual(this.sr)&&console.error(`Maximum extent provided in extent set has a mismatching spatial reference: ${i.sr}`)}get defaultExtent(){return this._defaultExtent}set defaultExtent(e){this._defaultExtent=e.clone()}get fullExtent(){return this._fullExtent?this._fullExtent:this.defaultExtent}set fullExtent(e){this._fullExtent=e.clone()}get maximumExtent(){return this._maximumExtent?this._maximumExtent:this.fullExtent}set maximumExtent(e){this._maximumExtent=e.clone()}static fromConfig(e){return new T0(e.id,sn.fromConfig(`${e.id}-extent-default`,e.default),e.full!==void 0?sn.fromConfig(`${e.id}-extent-full`,e.full):void 0,e.maximum!==void 0?sn.fromConfig(`${e.id}-extent-maximum`,e.maximum):void 0)}clone(){return new T0(this.id,this._defaultExtent,this._fullExtent,this._maximumExtent)}}class bn{realPromise;resolveMe(e){}rejectMe(){}getPromise(){return this.realPromise}constructor(){this.realPromise=new Promise((e,n)=>{this.resolveMe=r=>{e(r)},this.rejectMe=n})}}var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function np(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function qR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var DE,KR;function OK(){if(KR)return DE;KR=1;var t=function(T){return e(T)&&!n(T)};function e(T){return!!T&&typeof T=="object"}function n(T){var A=Object.prototype.toString.call(T);return A==="[object RegExp]"||A==="[object Date]"||s(T)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(T){return T.$$typeof===i}function o(T){return Array.isArray(T)?[]:{}}function a(T,A){return A.clone!==!1&&A.isMergeableObject(T)?_(o(T),T,A):T}function l(T,A,x){return T.concat(A).map(function(b){return a(b,x)})}function c(T,A){if(!A.customMerge)return _;var x=A.customMerge(T);return typeof x=="function"?x:_}function p(T){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(T).filter(function(A){return Object.propertyIsEnumerable.call(T,A)}):[]}function d(T){return Object.keys(T).concat(p(T))}function f(T,A){try{return A in T}catch{return!1}}function y(T,A){return f(T,A)&&!(Object.hasOwnProperty.call(T,A)&&Object.propertyIsEnumerable.call(T,A))}function g(T,A,x){var b={};return x.isMergeableObject(T)&&d(T).forEach(function(I){b[I]=a(T[I],x)}),d(A).forEach(function(I){y(T,I)||(f(T,I)&&x.isMergeableObject(A[I])?b[I]=c(I,x)(T[I],A[I],x):b[I]=a(A[I],x))}),b}function _(T,A,x){x=x||{},x.arrayMerge=x.arrayMerge||l,x.isMergeableObject=x.isMergeableObject||t,x.cloneUnlessOtherwiseSpecified=a;var b=Array.isArray(A),I=Array.isArray(T),N=b===I;return N?b?x.arrayMerge(T,A,x):g(T,A,x):a(A,x)}_.all=function(T,A){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(x,b){return _(x,b,A)},{})};var w=_;return DE=w,DE}var NK=OK();const jE=np(NK);class CK{generateUUID(){let e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(n==="x"?r:r&3|8).toString(16)})}convertImageToCanvas(e,n,r=!0){const i=n??document.createElement("canvas"),s=document.createElement("img");r&&(s.crossOrigin="anonymous");const o=new Promise((a,l)=>{s.addEventListener("load",()=>{i.width=s.width,i.height=s.height,i.getContext("2d")?.drawImage(s,0,0),a(i)}),s.addEventListener("error",c=>l(c))});return s.src=e,o}async convertImagetoDataURL(e,n="image/png"){return e.startsWith("data")?e:this.convertImageToCanvas(e).then(r=>r.toDataURL(n)).catch(r=>(console.error("Failed to load crossorigin image",e,r),e))}parseUrlIndex(e){const n={rootUrl:e,index:0},r=/\/(\d+)\/?$/,i=e.match(r);if(i){const s=i[1];n.index=isNaN(parseInt(s))?void 0:parseInt(s),n.rootUrl=e.substr(0,e.length-i[0].length)}else console.warn("Cannot extract layer index from url "+e);return n}controlAvailable(e,n){return n?.disabledControls?.includes(e)?!1:n?.controls?n?.controls?.includes(e):!0}}class $f{_url;_base;_query;_queryMap={};constructor(e){this._url=e,[this._base,this._query]=e.split("?").concat(""),this._queryMap=this._query.split("&").reduce((n,r)=>{const[i,s]=r.split("=");return n[i]=s,n},{})}get query(){return this._query}get base(){return this._base}get queryMap(){return this._queryMap}updateQuery(e){const n=jE.all([{},this.queryMap,e]);return`${this.base}${Object.entries(n).filter(([,r])=>r!==void 0).map(([r,i],s)=>`${s===0?"?":""}${r}=${i}`).join("&")}`}}var FE={exports:{}},RK=FE.exports,QR;function tk(){return QR||(QR=1,function(t,e){(function(n,r){t.exports=r(),typeof window=="object"&&(n.Terraformer=r())})(RK,function(){var n={},r=6378137,i=57.29577951308232,s=.017453292519943,o={type:"link",properties:{href:"http://spatialreference.org/ref/sr-org/6928/ogcwkt/",type:"ogcwkt"}},a={type:"link",properties:{href:"http://spatialreference.org/ref/epsg/4326/ogcwkt/",type:"ogcwkt"}};function l(O){return Object.prototype.toString.call(O)==="[object Array]"}function c(){var O=Array.prototype.slice.apply(arguments);typeof console!==void 0&&console.warn&&console.warn.apply(console,O)}function p(O,G){for(var M in G)G.hasOwnProperty(M)&&(O[M]=G[M]);return O}function d(O){if(O.type)switch(O.type){case"Point":return[O.coordinates[0],O.coordinates[1],O.coordinates[0],O.coordinates[1]];case"MultiPoint":return g(O.coordinates);case"LineString":return g(O.coordinates);case"MultiLineString":return f(O.coordinates);case"Polygon":return f(O.coordinates);case"MultiPolygon":return y(O.coordinates);case"Feature":return O.geometry?d(O.geometry):null;case"FeatureCollection":return _(O);case"GeometryCollection":return w(O);default:throw new Error("Unknown type: "+O.type)}return null}function f(O){for(var G=null,M=null,L=null,V=null,X=0;X<O.length;X++)for(var z=O[X],Z=0;Z<z.length;Z++){var ct=z[Z],yt=ct[0],Dt=ct[1];(G===null||yt<G)&&(G=yt),(M===null||yt>M)&&(M=yt),(L===null||Dt<L)&&(L=Dt),(V===null||Dt>V)&&(V=Dt)}return[G,L,M,V]}function y(O){for(var G=null,M=null,L=null,V=null,X=0;X<O.length;X++)for(var z=O[X],Z=0;Z<z.length;Z++)for(var ct=z[Z],yt=0;yt<ct.length;yt++){var Dt=ct[yt],Zt=Dt[0],Ce=Dt[1];(G===null||Zt<G)&&(G=Zt),(M===null||Zt>M)&&(M=Zt),(L===null||Ce<L)&&(L=Ce),(V===null||Ce>V)&&(V=Ce)}return[G,L,M,V]}function g(O){for(var G=null,M=null,L=null,V=null,X=0;X<O.length;X++){var z=O[X],Z=z[0],ct=z[1];(G===null||Z<G)&&(G=Z),(M===null||Z>M)&&(M=Z),(L===null||ct<L)&&(L=ct),(V===null||ct>V)&&(V=ct)}return[G,L,M,V]}function _(O){for(var G=[],M,L=O.features.length-1;L>=0;L--)M=d(O.features[L].geometry),G.push([M[0],M[1]]),G.push([M[2],M[3]]);return g(G)}function w(O){for(var G=[],M,L=O.geometries.length-1;L>=0;L--)M=d(O.geometries[L]),G.push([M[0],M[1]]),G.push([M[2],M[3]]);return g(G)}function T(O){var G=d(O);return{x:G[0],y:G[1],w:Math.abs(G[0]-G[2]),h:Math.abs(G[1]-G[3])}}function A(O){return O*i}function x(O){return O*s}function b(O,G){for(var M=0;M<O.length;M++)typeof O[M][0]=="number"&&(O[M]=G(O[M])),typeof O[M]=="object"&&(O[M]=b(O[M],G));return O}function I(O){var G=O[0],M=O[1];return[A(G/r)-Math.floor((A(G/r)+180)/360)*360,A(Math.PI/2-2*Math.atan(Math.exp(-1*M/r)))]}function N(O){var G=O[0],M=Math.max(Math.min(O[1],89.99999),-89.99999);return[x(G)*r,r/2*Math.log((1+Math.sin(x(M)))/(1-Math.sin(x(M))))]}function R(O,G,M){if(O.type==="Point")O.coordinates=G(O.coordinates);else if(O.type==="Feature")O.geometry=R(O.geometry,G,!0);else if(O.type==="FeatureCollection")for(var L=0;L<O.features.length;L++)O.features[L]=R(O.features[L],G,!0);else if(O.type==="GeometryCollection")for(var V=0;V<O.geometries.length;V++)O.geometries[V]=R(O.geometries[V],G,!0);else O.coordinates=b(O.coordinates,G);return M||G===N&&(O.crs=o),G===I&&delete O.crs,O}function P(O){return R(O,N)}function D(O){return R(O,I)}function B(O,G){return O<G?-1:O>G?1:0}function $(O,G){return O[0]>G[0]?-1:O[0]<G[0]?1:O[1]>G[1]?-1:O[1]<G[1]?1:0}function U(O,G,M){return B((G[0]-O[0])*(M[1]-O[1])-(M[0]-O[0])*(G[1]-O[1]),0)}function J(O,G){var M=G[0]-O[0],L=G[1]-O[1];return M*M+L*L}function rt(O,G){var M=G;for(var L in O){var V=U(G,M,O[L]);(V===-1||V===0&&J(G,O[L])>J(G,M))&&(M=O[L])}return M}function u(O){if(O.length===0)return[];if(O.length===1)return O;for(var G=[O.sort($)[0]],M=0;M<G.length;M++){var L=rt(O,G[M]);L!==G[0]&&G.push(L)}return G}function m(O){for(var G,M=0;M<O.length-3;M++){var L=O[M],V=O[M+1],X=O[M+2],z=[V[0]-L[0],V[1]-L[1]],Z=X[0]*z[1]-X[1]*z[0]+z[0]*L[1]-z[1]*L[0];if(M===0)Z<0?G=!0:G=!1;else if(G&&Z>0||!G&&Z<0)return!1}return!0}function E(O,G){for(var M=!1,L=-1,V=O.length,X=V-1;++L<V;X=L)(O[L][1]<=G[1]&&G[1]<O[X][1]||O[X][1]<=G[1]&&G[1]<O[L][1])&&G[0]<(O[X][0]-O[L][0])*(G[1]-O[L][1])/(O[X][1]-O[L][1])+O[L][0]&&(M=!M);return M}function k(O,G){if(O&&O.length){if(O.length===1)return E(O[0],G);if(E(O[0],G)){for(var M=1;M<O.length;M++)if(E(O[M],G))return!1;return!0}else return!1}else return!1}function H(O,G,M,L){var V=(L[0]-M[0])*(O[1]-M[1])-(L[1]-M[1])*(O[0]-M[0]),X=(G[0]-O[0])*(O[1]-M[1])-(G[1]-O[1])*(O[0]-M[0]),z=(L[1]-M[1])*(G[0]-O[0])-(L[0]-M[0])*(G[1]-O[1]);if(z!==0){var Z=V/z,ct=X/z;if(0<=Z&&Z<=1&&0<=ct&&ct<=1)return!0}return!1}function K(O){return!isNaN(parseFloat(O))&&isFinite(O)}function ft(O,G){if(K(O[0][0])){if(K(G[0][0])){for(var M=0;M<O.length-1;M++)for(var L=0;L<G.length-1;L++)if(H(O[M],O[M+1],G[L],G[L+1]))return!0}else for(var V=0;V<G.length;V++)if(ft(O,G[V]))return!0}else for(var X=0;X<O.length;X++)if(ft(O[X],G))return!0;return!1}function ot(O){for(var G=[],M=0;M<O.length;M++){var L=O[M].slice();St(L[0],L[L.length-1])===!1&&L.push(L[0]),G.push(L)}return G}function St(O,G){for(var M=0;M<O.length;M++)if(O[M]!==G[M])return!1;return!0}function Pt(O,G){if(O.length!==G.length)return!1;for(var M=O.slice().sort($),L=G.slice().sort($),V=0;V<M.length;V++){if(M[V].length!==L[V].length)return!1;for(var X=0;X<M.length;X++)if(M[V][X]!==L[V][X])return!1}return!0}var Ut=["length"];function Ot(O){if(O)switch(O.type){case"Point":return new ue(O);case"MultiPoint":return new ie(O);case"LineString":return new Ne(O);case"MultiLineString":return new fe(O);case"Polygon":return new se(O);case"MultiPolygon":return new Fe(O);case"Feature":return new W(O);case"FeatureCollection":return new j(O);case"GeometryCollection":return new q(O);default:throw new Error("Unknown type: "+O.type)}}Ot.prototype.toMercator=function(){return P(this)},Ot.prototype.toGeographic=function(){return D(this)},Ot.prototype.envelope=function(){return T(this)},Ot.prototype.bbox=function(){return d(this)},Ot.prototype.convexHull=function(){var O=[],G,M;if(this.type==="Point")return null;if(this.type==="LineString"||this.type==="MultiPoint")if(this.coordinates&&this.coordinates.length>=3)O=this.coordinates;else return null;else if(this.type==="Polygon"||this.type==="MultiLineString")if(this.coordinates&&this.coordinates.length>0){for(G=0;G<this.coordinates.length;G++)O=O.concat(this.coordinates[G]);if(O.length<3)return null}else return null;else if(this.type==="MultiPolygon")if(this.coordinates&&this.coordinates.length>0){for(G=0;G<this.coordinates.length;G++)for(M=0;M<this.coordinates[G].length;M++)O=O.concat(this.coordinates[G][M]);if(O.length<3)return null}else return null;else if(this.type==="Feature"){var L=new Ot(this.geometry);return L.convexHull()}return new se({type:"Polygon",coordinates:ot([u(O)])})},Ot.prototype.toJSON=function(){var O={};for(var G in this)this.hasOwnProperty(G)&&Ut.indexOf(G)===-1&&(O[G]=this[G]);return O.bbox=d(this),O},Ot.prototype.contains=function(O){return new Ot(O).within(this)},Ot.prototype.within=function(O){var G,M,L,V;if(O.type==="Feature"&&(O=O.geometry),O.type==="Point"&&this.type==="Point")return St(this.coordinates,O.coordinates);if(O.type==="MultiLineString"&&this.type==="Point")for(M=0;M<O.coordinates.length;M++){var X={type:"LineString",coordinates:O.coordinates[M]};if(this.within(X))return!0}if((O.type==="LineString"||O.type==="MultiPoint")&&this.type==="Point")for(M=0;M<O.coordinates.length;M++){if(this.coordinates.length!==O.coordinates[M].length)return!1;if(St(this.coordinates,O.coordinates[M]))return!0}if(O.type==="Polygon")if(this.type==="Polygon"){if(O.coordinates.length===this.coordinates.length){for(M=0;M<this.coordinates.length;M++)if(Pt(this.coordinates[M],O.coordinates[M]))return!0}return this.coordinates.length&&k(O.coordinates,this.coordinates[0][0])?!ft(ot(this.coordinates),ot(O.coordinates)):!1}else{if(this.type==="Point")return k(O.coordinates,this.coordinates);if(this.type==="LineString"||this.type==="MultiPoint"){if(!this.coordinates||this.coordinates.length===0)return!1;for(M=0;M<this.coordinates.length;M++)if(k(O.coordinates,this.coordinates[M])===!1)return!1;return!0}else if(this.type==="MultiLineString"){for(M=0;M<this.coordinates.length;M++){var z=new Ne(this.coordinates[M]);if(z.within(O)===!1)return V++,!1}return!0}else if(this.type==="MultiPolygon"){for(M=0;M<this.coordinates.length;M++){var Z=new Ot({type:"Polygon",coordinates:this.coordinates[M]});if(Z.within(O)===!1)return!1}return!0}}if(O.type==="MultiPolygon"){if(this.type==="Point"){if(O.coordinates.length){for(M=0;M<O.coordinates.length;M++)if(G=O.coordinates[M],k(G,this.coordinates)&&ft([this.coordinates],O.coordinates)===!1)return!0}return!1}else if(this.type==="Polygon"){for(M=0;M<this.coordinates.length;M++)if(O.coordinates[M].length===this.coordinates.length){for(L=0;L<this.coordinates.length;L++)if(Pt(this.coordinates[L],O.coordinates[M][L]))return!0}if(ft(this.coordinates,O.coordinates)===!1&&O.coordinates.length){for(M=0;M<O.coordinates.length;M++)G=O.coordinates[M],k(G,this.coordinates[0][0])===!1?V=!1:V=!0;return V}}else if(this.type==="LineString"||this.type==="MultiPoint")for(M=0;M<O.coordinates.length;M++){var ct={type:"Polygon",coordinates:O.coordinates[M]};return!!this.within(ct)}else if(this.type==="MultiLineString"){for(M=0;M<this.coordinates.length;M++){var yt=new Ne(this.coordinates[M]);if(yt.within(O)===!1)return!1}return!0}else if(this.type==="MultiPolygon"){for(M=0;M<O.coordinates.length;M++){var Dt={type:"Polygon",coordinates:O.coordinates[M]};if(this.within(Dt)===!1)return!1}return!0}}return!1},Ot.prototype.intersects=function(O){O.type==="Feature"&&(O=O.geometry);var G=new Ot(O);if(this.within(O)||G.within(this))return!0;if(this.type!=="Point"&&this.type!=="MultiPoint"&&O.type!=="Point"&&O.type!=="MultiPoint")return ft(this.coordinates,O.coordinates);if(this.type==="Feature"){var M=new Ot(this.geometry);return M.intersects(O)}return c("Type "+this.type+" to "+O.type+" intersection is not supported by intersects"),!1};function ue(O){var G=Array.prototype.slice.call(arguments);if(O&&O.type==="Point"&&O.coordinates)p(this,O);else if(O&&l(O))this.coordinates=O;else if(G.length>=2)this.coordinates=G;else throw"Terraformer: invalid input for Terraformer.Point";this.type="Point"}ue.prototype=new Ot,ue.prototype.constructor=ue;function ie(O){if(O&&O.type==="MultiPoint"&&O.coordinates)p(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.MultiPoint";this.type="MultiPoint"}ie.prototype=new Ot,ie.prototype.constructor=ie,ie.prototype.forEach=function(O){for(var G=0;G<this.coordinates.length;G++)O.apply(this,[this.coordinates[G],G,this.coordinates]);return this},ie.prototype.addPoint=function(O){return this.coordinates.push(O),this},ie.prototype.insertPoint=function(O,G){return this.coordinates.splice(G,0,O),this},ie.prototype.removePoint=function(O){return typeof O=="number"?this.coordinates.splice(O,1):this.coordinates.splice(this.coordinates.indexOf(O),1),this},ie.prototype.get=function(O){return new ue(this.coordinates[O])};function Ne(O){if(O&&O.type==="LineString"&&O.coordinates)p(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.LineString";this.type="LineString"}Ne.prototype=new Ot,Ne.prototype.constructor=Ne,Ne.prototype.addVertex=function(O){return this.coordinates.push(O),this},Ne.prototype.insertVertex=function(O,G){return this.coordinates.splice(G,0,O),this},Ne.prototype.removeVertex=function(O){return this.coordinates.splice(O,1),this};function fe(O){if(O&&O.type==="MultiLineString"&&O.coordinates)p(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.MultiLineString";this.type="MultiLineString"}fe.prototype=new Ot,fe.prototype.constructor=fe,fe.prototype.forEach=function(O){for(var G=0;G<this.coordinates.length;G++)O.apply(this,[this.coordinates[G],G,this.coordinates])},fe.prototype.get=function(O){return new Ne(this.coordinates[O])};function se(O){if(O&&O.type==="Polygon"&&O.coordinates)p(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.Polygon";this.type="Polygon"}se.prototype=new Ot,se.prototype.constructor=se,se.prototype.addVertex=function(O){return this.insertVertex(O,this.coordinates[0].length-1),this},se.prototype.insertVertex=function(O,G){return this.coordinates[0].splice(G,0,O),this},se.prototype.removeVertex=function(O){return this.coordinates[0].splice(O,1),this},se.prototype.close=function(){this.coordinates=ot(this.coordinates)},se.prototype.hasHoles=function(){return this.coordinates.length>1},se.prototype.holes=function(){var O=[];if(this.hasHoles())for(var G=1;G<this.coordinates.length;G++)O.push(new se([this.coordinates[G]]));return O};function Fe(O){if(O&&O.type==="MultiPolygon"&&O.coordinates)p(this,O);else if(l(O))this.coordinates=O;else throw"Terraformer: invalid input for Terraformer.MultiPolygon";this.type="MultiPolygon"}Fe.prototype=new Ot,Fe.prototype.constructor=Fe,Fe.prototype.forEach=function(O){for(var G=0;G<this.coordinates.length;G++)O.apply(this,[this.coordinates[G],G,this.coordinates])},Fe.prototype.get=function(O){return new se(this.coordinates[O])},Fe.prototype.close=function(){var O=[];return this.forEach(function(G){O.push(ot(G))}),this.coordinates=O,this};function W(O){if(O&&O.type==="Feature")p(this,O);else if(O&&O.type&&O.coordinates)this.geometry=O;else throw"Terraformer: invalid input for Terraformer.Feature";this.type="Feature"}W.prototype=new Ot,W.prototype.constructor=W;function j(O){if(O&&O.type==="FeatureCollection"&&O.features)p(this,O);else if(l(O))this.features=O;else throw"Terraformer: invalid input for Terraformer.FeatureCollection";this.type="FeatureCollection"}j.prototype=new Ot,j.prototype.constructor=j,j.prototype.forEach=function(O){for(var G=0;G<this.features.length;G++)O.apply(this,[this.features[G],G,this.features])},j.prototype.get=function(O){var G;return this.forEach(function(M){M.id===O&&(G=M)}),new W(G)};function q(O){if(O&&O.type==="GeometryCollection"&&O.geometries)p(this,O);else if(l(O))this.geometries=O;else if(O.coordinates&&O.type)this.type="GeometryCollection",this.geometries=[O];else throw"Terraformer: invalid input for Terraformer.GeometryCollection";this.type="GeometryCollection"}q.prototype=new Ot,q.prototype.constructor=q,q.prototype.forEach=function(O){for(var G=0;G<this.geometries.length;G++)O.apply(this,[this.geometries[G],G,this.geometries])},q.prototype.get=function(O){return new Ot(this.geometries[O])};function st(O,G,M){for(var L=N(O),V=M||64,X={type:"Polygon",coordinates:[[]]},z=1;z<=V;z++){var Z=z*(360/V)*Math.PI/180;X.coordinates[0].push([L[0]+G*Math.cos(Z),L[1]+G*Math.sin(Z)])}return X.coordinates=ot(X.coordinates),D(X)}function nt(O,G,M){var L=M||64,V=G||250;if(!O||O.length<2||!V||!L)throw new Error("Terraformer: missing parameter for Terraformer.Circle");p(this,new W({type:"Feature",geometry:st(O,V,L),properties:{radius:V,center:O,steps:L}}))}return nt.prototype=new Ot,nt.prototype.constructor=nt,nt.prototype.recalculate=function(){return this.geometry=st(this.properties.center,this.properties.radius,this.properties.steps),this},nt.prototype.center=function(O){return O&&(this.properties.center=O,this.recalculate()),this.properties.center},nt.prototype.radius=function(O){return O&&(this.properties.radius=O,this.recalculate()),this.properties.radius},nt.prototype.steps=function(O){return O&&(this.properties.steps=O,this.recalculate()),this.properties.steps},nt.prototype.toJSON=function(){var O=Ot.prototype.toJSON.call(this);return O},n.Primitive=Ot,n.Point=ue,n.MultiPoint=ie,n.LineString=Ne,n.MultiLineString=fe,n.Polygon=se,n.MultiPolygon=Fe,n.Feature=W,n.FeatureCollection=j,n.GeometryCollection=q,n.Circle=nt,n.toMercator=P,n.toGeographic=D,n.Tools={},n.Tools.positionToMercator=N,n.Tools.positionToGeographic=I,n.Tools.applyConverter=R,n.Tools.toMercator=P,n.Tools.toGeographic=D,n.Tools.createCircle=st,n.Tools.calculateBounds=d,n.Tools.calculateEnvelope=T,n.Tools.coordinatesContainPoint=E,n.Tools.polygonContainsPoint=k,n.Tools.arraysIntersectArrays=ft,n.Tools.coordinatesContainPoint=E,n.Tools.coordinatesEqual=Pt,n.Tools.convexHull=u,n.Tools.isConvex=m,n.MercatorCRS=o,n.GeographicCRS=a,n})}(FE)),FE.exports}var kK=tk();function LK(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var eu=1,nu=2,rp=3,PK=4,UE=5,ek=6378137,DK=6356752314e-3,nk=.0066943799901413165,Vf=484813681109536e-20,ht=Math.PI/2,jK=.16666666666666666,FK=.04722222222222222,UK=.022156084656084655,bt=1e-10,sr=.017453292519943295,uo=57.29577951308232,Te=Math.PI/4,Bf=Math.PI*2,An=3.14159265359,Jr={};Jr.greenwich=0,Jr.lisbon=-9.131906111111,Jr.paris=2.337229166667,Jr.bogota=-74.080916666667,Jr.madrid=-3.687938888889,Jr.rome=12.452333333333,Jr.bern=7.439583333333,Jr.jakarta=106.807719444444,Jr.ferro=-17.666666666667,Jr.brussels=4.367975,Jr.stockholm=18.058277777778,Jr.athens=23.7163375,Jr.oslo=10.722916666667;const GK={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var rk=/[\s_\-\/\(\)]/g;function yl(t,e){if(t[e])return t[e];for(var n=Object.keys(t),r=e.toLowerCase().replace(rk,""),i=-1,s,o;++i<n.length;)if(s=n[i],o=s.toLowerCase().replace(rk,""),o===r)return t[s]}function GE(t){var e={},n=t.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,l){var c=l.split("=");return c.push(!0),a[c[0].toLowerCase()]=c[1],a},{}),r,i,s,o={proj:"projName",datum:"datumCode",rf:function(a){e.rf=parseFloat(a)},lat_0:function(a){e.lat0=a*sr},lat_1:function(a){e.lat1=a*sr},lat_2:function(a){e.lat2=a*sr},lat_ts:function(a){e.lat_ts=a*sr},lon_0:function(a){e.long0=a*sr},lon_1:function(a){e.long1=a*sr},lon_2:function(a){e.long2=a*sr},alpha:function(a){e.alpha=parseFloat(a)*sr},gamma:function(a){e.rectified_grid_angle=parseFloat(a)},lonc:function(a){e.longc=a*sr},x_0:function(a){e.x0=parseFloat(a)},y_0:function(a){e.y0=parseFloat(a)},k_0:function(a){e.k0=parseFloat(a)},k:function(a){e.k0=parseFloat(a)},a:function(a){e.a=parseFloat(a)},b:function(a){e.b=parseFloat(a)},r:function(a){e.a=e.b=parseFloat(a)},r_a:function(){e.R_A=!0},zone:function(a){e.zone=parseInt(a,10)},south:function(){e.utmSouth=!0},towgs84:function(a){e.datum_params=a.split(",").map(function(l){return parseFloat(l)})},to_meter:function(a){e.to_meter=parseFloat(a)},units:function(a){e.units=a;var l=yl(GK,a);l&&(e.to_meter=l.to_meter)},from_greenwich:function(a){e.from_greenwich=a*sr},pm:function(a){var l=yl(Jr,a);e.from_greenwich=(l||parseFloat(a))*sr},nadgrids:function(a){a==="@null"?e.datumCode="none":e.nadgrids=a},axis:function(a){var l="ewnsud";a.length===3&&l.indexOf(a.substr(0,1))!==-1&&l.indexOf(a.substr(1,1))!==-1&&l.indexOf(a.substr(2,1))!==-1&&(e.axis=a)},approx:function(){e.approx=!0}};for(r in n)i=n[r],r in o?(s=o[r],typeof s=="function"?s(i):e[s]=i):e[r]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var zf=1,ik=2,sk=3,n1=4,ok=5,$E=-1,$K=/\s/,VK=/[A-Za-z]/,BK=/[A-Za-z84_]/,r1=/[,\]]/,ak=/[\d\.E\-\+]/;function Qo(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=zf}Qo.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==n1)for(;$K.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case zf:return this.neutral(t);case ik:return this.keyword(t);case n1:return this.quoted(t);case ok:return this.afterquote(t);case sk:return this.number(t);case $E:return}},Qo.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=n1;return}if(r1.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)},Qo.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=zf;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=zf,this.currentObject=this.stack.pop(),this.currentObject||(this.state=$E);return}},Qo.prototype.number=function(t){if(ak.test(t)){this.word+=t;return}if(r1.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)},Qo.prototype.quoted=function(t){if(t==='"'){this.state=ok;return}this.word+=t},Qo.prototype.keyword=function(t){if(BK.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=zf;return}if(r1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)},Qo.prototype.neutral=function(t){if(VK.test(t)){this.word=t,this.state=ik;return}if(t==='"'){this.word="",this.state=n1;return}if(ak.test(t)){this.word=t,this.state=sk;return}if(r1.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)},Qo.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===$E)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function zK(t){var e=new Qo(t);return e.output()}function lk(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(s,o){return ip(o,s),s},r);e&&(t[e]=i)}function ip(t,e){if(!Array.isArray(t)){e[t]=!0;return}var n=t.shift();if(n==="PARAMETER"&&(n=t.shift()),t.length===1){if(Array.isArray(t[0])){e[n]={},ip(t[0],e[n]);return}e[n]=t[0];return}if(!t.length){e[n]=!0;return}if(n==="TOWGS84"){e[n]=t;return}if(n==="AXIS"){n in e||(e[n]=[]),e[n].push(t);return}Array.isArray(n)||(e[n]={});var r;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[n]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&ip(t[2],e[n]);return;case"SPHEROID":case"ELLIPSOID":e[n]={name:t[0],a:t[1],rf:t[2]},t.length===4&&ip(t[3],e[n]);return;case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":t[0]=["name",t[0]],lk(e,n,t);return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return ip(t,e[n]);return lk(e,n,t)}}var WK=.017453292519943295;function HK(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],e.length===3&&(t[n]=e[2](t[n])))}function ho(t){return t*WK}function YK(t){if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var e="",n=0,r=t.AXIS.length;n<r;++n){var i=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];i[0].indexOf("north")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="north"?e+="n":i[0].indexOf("south")!==-1||(i[0]==="y"||i[0]==="lat")&&i[1]==="south"?e+="s":i[0].indexOf("east")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="east"?e+="e":(i[0].indexOf("west")!==-1||(i[0]==="x"||i[0]==="lon")&&i[1]==="west")&&(e+="w")}e.length===2&&(e+="u"),e.length===3&&(t.axis=e)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),(t.datumCode==="new_zealand_geodetic_datum_1949"||t.datumCode==="new_zealand_1949")&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode.slice(-6)==="_ferro"&&(t.datumCode=t.datumCode.slice(0,-6)),t.datumCode.slice(-8)==="_jakarta"&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(c){var p=t.to_meter||1;return c*p}var a=function(c){return HK(t,c)},l=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ho],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ho],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",ho],["lat0","latitude_of_origin",ho],["lat0","standard_parallel_1",ho],["lat1","standard_parallel_1",ho],["lat2","standard_parallel_2",ho],["azimuth","Azimuth"],["alpha","azimuth",ho],["srsCode","name"]];l.forEach(a),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=ho(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=ho(t.lat0>0?90:-90))}function ck(t){var e=zK(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return ip(e,i),YK(i),i}function Cr(t){var e=this;if(arguments.length===2){var n=arguments[1];typeof n=="string"?n.charAt(0)==="+"?Cr[t]=GE(arguments[1]):Cr[t]=ck(arguments[1]):Cr[t]=n}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?Cr.apply(e,r):Cr(r)});if(typeof t=="string"){if(t in Cr)return Cr[t]}else"EPSG"in t?Cr["EPSG:"+t.EPSG]=t:"ESRI"in t?Cr["ESRI:"+t.ESRI]=t:"IAU2000"in t?Cr["IAU2000:"+t.IAU2000]=t:console.log(t);return}}LK(Cr);function ZK(t){return typeof t=="string"}function JK(t){return t in Cr}var XK=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function qK(t){return XK.some(function(e){return t.indexOf(e)>-1})}var KK=["3857","900913","3785","102113"];function QK(t){var e=yl(t,"authority");if(e){var n=yl(e,"epsg");return n&&KK.indexOf(n)>-1}}function tQ(t){var e=yl(t,"extension");if(e)return yl(e,"proj4")}function eQ(t){return t[0]==="+"}function nQ(t){if(ZK(t)){if(JK(t))return Cr[t];if(qK(t)){var e=ck(t);if(QK(e))return Cr["EPSG:3857"];var n=tQ(e);return n?GE(n):e}if(eQ(t))return GE(t)}else return t}function uk(t,e){t=t||{};var n,r;if(!e)return t;for(r in e)n=e[r],n!==void 0&&(t[r]=n);return t}function po(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)}function Wf(t){return t<0?-1:1}function _t(t){return Math.abs(t)<=An?t:t-Wf(t)*Bf}function Ts(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(ht-e))/r}function Hf(t,e){for(var n=.5*t,r,i,s=ht-2*Math.atan(e),o=0;o<=15;o++)if(r=t*Math.sin(s),i=ht-2*Math.atan(e*Math.pow((1-r)/(1+r),n))-s,s+=i,Math.abs(i)<=1e-10)return s;return-9999}function rQ(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function iQ(t){var e=t.x,n=t.y;if(n*uo>90&&n*uo<-90&&e*uo>180&&e*uo<-180)return null;var r,i;if(Math.abs(Math.abs(n)-ht)<=bt)return null;if(this.sphere)r=this.x0+this.a*this.k0*_t(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(Te+.5*n));else{var s=Math.sin(n),o=Ts(this.e,n,s);r=this.x0+this.a*this.k0*_t(e-this.long0),i=this.y0-this.a*this.k0*Math.log(o)}return t.x=r,t.y=i,t}function sQ(t){var e=t.x-this.x0,n=t.y-this.y0,r,i;if(this.sphere)i=ht-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var s=Math.exp(-n/(this.a*this.k0));if(i=Hf(this.e,s),i===-9999)return null}return r=_t(this.long0+e/(this.a*this.k0)),t.x=r,t.y=i,t}var oQ=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];const aQ={init:rQ,forward:iQ,inverse:sQ,names:oQ};function lQ(){}function hk(t){return t}var cQ=["longlat","identity"];const uQ={init:lQ,forward:hk,inverse:hk,names:cQ};var hQ=[aQ,uQ],i1={},s1=[];function pk(t,e){var n=s1.length;return t.names?(s1[n]=t,t.names.forEach(function(r){i1[r.toLowerCase()]=n}),this):(console.log(e),!0)}function pQ(t){if(!t)return!1;var e=t.toLowerCase();if(typeof i1[e]<"u"&&s1[i1[e]])return s1[i1[e]]}function dQ(){hQ.forEach(pk)}const fQ={start:dQ,add:pk,get:pQ};var Wt={};Wt.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Wt.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Wt.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Wt.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Wt.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},Wt.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Wt.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Wt.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},Wt.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Wt.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Wt.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Wt.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},Wt.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Wt.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},Wt.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},Wt.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},Wt.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},Wt.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Wt.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Wt.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},Wt.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},Wt.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},Wt.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},Wt.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},Wt.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Wt.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Wt.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Wt.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Wt.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Wt.hough={a:6378270,rf:297,ellipseName:"Hough"},Wt.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Wt.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Wt.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Wt.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Wt.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},Wt.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Wt.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Wt.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},Wt.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},Wt.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Wt.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Wt.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var mQ=Wt.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Wt.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function yQ(t,e,n,r){var i=t*t,s=e*e,o=(i-s)/i,a=0;r?(t*=1-o*(jK+o*(FK+o*UK)),i=t*t,o=0):a=Math.sqrt(o);var l=(i-s)/s;return{es:o,e:a,ep2:l}}function gQ(t,e,n,r,i){if(!t){var s=yl(Wt,r);s||(s=mQ),t=s.a,e=s.b,n=s.rf}return n&&!e&&(e=(1-1/n)*t),(n===0||Math.abs(t-e)<bt)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}var Wn={};Wn.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},Wn.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},Wn.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},Wn.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},Wn.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},Wn.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},Wn.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},Wn.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},Wn.militargeographische_institut={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},Wn.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},Wn.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},Wn.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},Wn.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},Wn.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},Wn.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},Wn.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},Wn.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},Wn.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};function vQ(t,e,n,r,i,s,o){var a={};return t===void 0||t==="none"?a.datum_type=UE:a.datum_type=PK,e&&(a.datum_params=e.map(parseFloat),(a.datum_params[0]!==0||a.datum_params[1]!==0||a.datum_params[2]!==0)&&(a.datum_type=eu),a.datum_params.length>3&&(a.datum_params[3]!==0||a.datum_params[4]!==0||a.datum_params[5]!==0||a.datum_params[6]!==0)&&(a.datum_type=nu,a.datum_params[3]*=Vf,a.datum_params[4]*=Vf,a.datum_params[5]*=Vf,a.datum_params[6]=a.datum_params[6]/1e6+1)),o&&(a.datum_type=rp,a.grids=o),a.a=n,a.b=r,a.es=i,a.ep2=s,a}var dk={};function bQ(t,e){var n=new DataView(e),r=xQ(n),i=EQ(n,r),s=SQ(n,i,r),o={header:i,subgrids:s};return dk[t]=o,o}function _Q(t){if(t===void 0)return null;var e=t.split(",");return e.map(wQ)}function wQ(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:dk[t]||null,isNull:!1}}function sp(t){return t/3600*Math.PI/180}function xQ(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function EQ(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:VE(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function VE(t,e,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,n)))}function SQ(t,e,n){for(var r=176,i=[],s=0;s<e.nSubgrids;s++){var o=AQ(t,r,n),a=IQ(t,r,o,n),l=Math.round(1+(o.upperLongitude-o.lowerLongitude)/o.longitudeInterval),c=Math.round(1+(o.upperLatitude-o.lowerLatitude)/o.latitudeInterval);i.push({ll:[sp(o.lowerLongitude),sp(o.lowerLatitude)],del:[sp(o.longitudeInterval),sp(o.latitudeInterval)],lim:[l,c],count:o.gridNodeCount,cvs:TQ(a)}),r+=176+o.gridNodeCount*16}return i}function TQ(t){return t.map(function(e){return[sp(e.longitudeShift),sp(e.latitudeShift)]})}function AQ(t,e,n){return{name:VE(t,e+8,e+16).trim(),parent:VE(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,n),upperLatitude:t.getFloat64(e+88,n),lowerLongitude:t.getFloat64(e+104,n),upperLongitude:t.getFloat64(e+120,n),latitudeInterval:t.getFloat64(e+136,n),longitudeInterval:t.getFloat64(e+152,n),gridNodeCount:t.getInt32(e+168,n)}}function IQ(t,e,n,r){for(var i=e+176,s=16,o=[],a=0;a<n.gridNodeCount;a++){var l={latitudeShift:t.getFloat32(i+a*s,r),longitudeShift:t.getFloat32(i+a*s+4,r),latitudeAccuracy:t.getFloat32(i+a*s+8,r),longitudeAccuracy:t.getFloat32(i+a*s+12,r)};o.push(l)}return o}function fo(t,e){if(!(this instanceof fo))return new fo(t);e=e||function(c){if(c)throw c};var n=nQ(t);if(typeof n!="object"){e("Could not parse to valid json: "+t);return}var r=fo.projections.get(n.projName);if(!r){e("Could not get projection name from: "+t);return}if(n.datumCode&&n.datumCode!=="none"){var i=yl(Wn,n.datumCode);i&&(n.datum_params=n.datum_params||(i.towgs84?i.towgs84.split(","):null),n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s=gQ(n.a,n.b,n.rf,n.ellps,n.sphere),o=yQ(s.a,s.b,s.rf,n.R_A),a=_Q(n.nadgrids),l=n.datum||vQ(n.datumCode,n.datum_params,s.a,s.b,o.es,o.ep2,a);uk(this,n),uk(this,r),this.a=s.a,this.b=s.b,this.rf=s.rf,this.sphere=s.sphere,this.es=o.es,this.e=o.e,this.ep2=o.ep2,this.datum=l,this.init(),e(null,this)}fo.projections=fQ,fo.projections.start();function MQ(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===eu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===nu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function fk(t,e,n){var r=t.x,i=t.y,s=t.z?t.z:0,o,a,l,c;if(i<-ht&&i>-1.001*ht)i=-ht;else if(i>ht&&i<1.001*ht)i=ht;else{if(i<-ht)return{x:-1/0,y:-1/0,z:t.z};if(i>ht)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),a=Math.sin(i),c=Math.cos(i),l=a*a,o=n/Math.sqrt(1-e*l),{x:(o+s)*c*Math.cos(r),y:(o+s)*c*Math.sin(r),z:(o*(1-e)+s)*a}}function mk(t,e,n,r){var i=1e-12,s=i*i,o=30,a,l,c,p,d,f,y,g,_,w,T,A,x,b=t.x,I=t.y,N=t.z?t.z:0,R,P,D;if(a=Math.sqrt(b*b+I*I),l=Math.sqrt(b*b+I*I+N*N),a/n<i){if(R=0,l/n<i)return P=ht,D=-r,{x:t.x,y:t.y,z:t.z}}else R=Math.atan2(I,b);c=N/l,p=a/l,d=1/Math.sqrt(1-e*(2-e)*p*p),g=p*(1-e)*d,_=c*d,x=0;do x++,y=n/Math.sqrt(1-e*_*_),D=a*g+N*_-y*(1-e*_*_),f=e*y/(y+D),d=1/Math.sqrt(1-f*(2-f)*p*p),w=p*(1-f)*d,T=c*d,A=T*g-w*_,g=w,_=T;while(A*A>s&&x<o);return P=Math.atan(T/Math.abs(w)),{x:R,y:P,z:D}}function OQ(t,e,n){if(e===eu)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===nu){var r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6];return{x:c*(t.x-l*t.y+a*t.z)+r,y:c*(l*t.x+t.y-o*t.z)+i,z:c*(-a*t.x+o*t.y+t.z)+s}}}function NQ(t,e,n){if(e===eu)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===nu){var r=n[0],i=n[1],s=n[2],o=n[3],a=n[4],l=n[5],c=n[6],p=(t.x-r)/c,d=(t.y-i)/c,f=(t.z-s)/c;return{x:p+l*d-a*f,y:-l*p+d+o*f,z:a*p-o*d+f}}}function o1(t){return t===eu||t===nu}function CQ(t,e,n){if(MQ(t,e)||t.datum_type===UE||e.datum_type===UE)return n;var r=t.a,i=t.es;if(t.datum_type===rp){var s=yk(t,!1,n);if(s!==0)return;r=ek,i=nk}var o=e.a,a=e.b,l=e.es;if(e.datum_type===rp&&(o=ek,a=DK,l=nk),i===l&&r===o&&!o1(t.datum_type)&&!o1(e.datum_type))return n;if(n=fk(n,i,r),o1(t.datum_type)&&(n=OQ(n,t.datum_type,t.datum_params)),o1(e.datum_type)&&(n=NQ(n,e.datum_type,e.datum_params)),n=mk(n,l,o,a),e.datum_type===rp){var c=yk(e,!0,n);if(c!==0)return}return n}function yk(t,e,n){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},s=[];t:for(var o=0;o<t.grids.length;o++){var a=t.grids[o];if(s.push(a.name),a.isNull){i=r;break}if(a.mandatory,a.grid===null){if(a.mandatory)return console.log("Unable to find mandatory grid '"+a.name+"'"),-1;continue}for(var l=a.grid.subgrids,c=0,p=l.length;c<p;c++){var d=l[c],f=(Math.abs(d.del[1])+Math.abs(d.del[0]))/1e4,y=d.ll[0]-f,g=d.ll[1]-f,_=d.ll[0]+(d.lim[0]-1)*d.del[0]+f,w=d.ll[1]+(d.lim[1]-1)*d.del[1]+f;if(!(g>r.y||y>r.x||w<r.y||_<r.x)&&(i=RQ(r,e,d),!isNaN(i.x)))break t}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*uo+" "+r.y*uo+" tried: '"+s+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function RQ(t,e,n){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=_t(i.x-Math.PI)+Math.PI;var s=gk(i,n);if(e){if(isNaN(s.x))return r;s.x=i.x-s.x,s.y=i.y-s.y;var o=9,a=1e-12,l,c;do{if(c=gk(s,n),isNaN(c.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}l={x:i.x-(c.x+s.x),y:i.y-(c.y+s.y)},s.x+=l.x,s.y+=l.y}while(o--&&Math.abs(l.x)>a&&Math.abs(l.y)>a);if(o<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=_t(s.x+n.ll[0]),r.y=s.y+n.ll[1]}else isNaN(s.x)||(r.x=t.x+s.x,r.y=t.y+s.y);return r}function gk(t,e){var n={x:t.x/e.del[0],y:t.y/e.del[1]},r={x:Math.floor(n.x),y:Math.floor(n.y)},i={x:n.x-1*r.x,y:n.y-1*r.y},s={x:Number.NaN,y:Number.NaN},o;if(r.x<0||r.x>=e.lim[0]||r.y<0||r.y>=e.lim[1])return s;o=r.y*e.lim[0]+r.x;var a={x:e.cvs[o][0],y:e.cvs[o][1]};o++;var l={x:e.cvs[o][0],y:e.cvs[o][1]};o+=e.lim[0];var c={x:e.cvs[o][0],y:e.cvs[o][1]};o--;var p={x:e.cvs[o][0],y:e.cvs[o][1]},d=i.x*i.y,f=i.x*(1-i.y),y=(1-i.x)*(1-i.y),g=(1-i.x)*i.y;return s.x=y*a.x+f*l.x+g*p.x+d*c.x,s.y=y*a.y+f*l.y+g*p.y+d*c.y,s}function vk(t,e,n){var r=n.x,i=n.y,s=n.z||0,o,a,l,c={};for(l=0;l<3;l++)if(!(e&&l===2&&n.z===void 0))switch(l===0?(o=r,"ew".indexOf(t.axis[l])!==-1?a="x":a="y"):l===1?(o=i,"ns".indexOf(t.axis[l])!==-1?a="y":a="x"):(o=s,a="z"),t.axis[l]){case"e":c[a]=o;break;case"w":c[a]=-o;break;case"n":c[a]=o;break;case"s":c[a]=-o;break;case"u":n[a]!==void 0&&(c.z=o);break;case"d":n[a]!==void 0&&(c.z=-o);break;default:return null}return c}function bk(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function kQ(t){_k(t.x),_k(t.y)}function _k(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function LQ(t,e){return(t.datum.datum_type===eu||t.datum.datum_type===nu||t.datum.datum_type===rp)&&e.datumCode!=="WGS84"||(e.datum.datum_type===eu||e.datum.datum_type===nu||e.datum.datum_type===rp)&&t.datumCode!=="WGS84"}function a1(t,e,n,r){var i;Array.isArray(n)?n=bk(n):n={x:n.x,y:n.y,z:n.z,m:n.m};var s=n.z!==void 0;if(kQ(n),t.datum&&e.datum&&LQ(t,e)&&(i=new fo("WGS84"),n=a1(t,i,n,r),t=i),r&&t.axis!=="enu"&&(n=vk(t,!1,n)),t.projName==="longlat")n={x:n.x*sr,y:n.y*sr,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n),!n)return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=CQ(t.datum,e.datum,n),!!n)return e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),e.projName==="longlat"?n={x:n.x*uo,y:n.y*uo,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),r&&e.axis!=="enu"?vk(e,!0,n):(n&&!s&&delete n.z,n)}var wk=fo("WGS84");function BE(t,e,n,r){var i,s,o;return Array.isArray(n)?(i=a1(t,e,n,r)||{x:NaN,y:NaN},n.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(n.slice(3)):[i.x,i.y,n[2]].concat(n.slice(3)):[i.x,i.y].concat(n.slice(2)):[i.x,i.y]):(s=a1(t,e,n,r),o=Object.keys(n),o.length===2||o.forEach(function(a){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(a==="x"||a==="y"||a==="z")return}else if(a==="x"||a==="y")return;s[a]=n[a]}),s)}function xk(t){return t instanceof fo?t:t.oProj?t.oProj:fo(t)}function $e(t,e,n){t=xk(t);var r=!1,i;return typeof e>"u"?(e=t,t=wk,r=!0):(typeof e.x<"u"||Array.isArray(e))&&(n=e,e=t,t=wk,r=!0),e=xk(e),n?BE(t,e,n):(i={forward:function(s,o){return BE(t,e,s,o)},inverse:function(s,o){return BE(e,t,s,o)}},r&&(i.oProj=e),i)}var Ek=6,Sk="AJSAJS",Tk="AFAFAF",op=65,Xr=73,zi=79,Yf=86,Zf=90;const PQ={forward:Ak,inverse:DQ,toPoint:Ik};function Ak(t,e){return e=e||5,UQ(jQ({lat:t[1],lon:t[0]}),e)}function DQ(t){var e=WE(Nk(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Ik(t){var e=WE(Nk(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function zE(t){return t*(Math.PI/180)}function Mk(t){return 180*(t/Math.PI)}function jQ(t){var e=t.lat,n=t.lon,r=6378137,i=.00669438,s=.9996,o,a,l,c,p,d,f,y=zE(e),g=zE(n),_,w;w=Math.floor((n+180)/6)+1,n===180&&(w=60),e>=56&&e<64&&n>=3&&n<12&&(w=32),e>=72&&e<84&&(n>=0&&n<9?w=31:n>=9&&n<21?w=33:n>=21&&n<33?w=35:n>=33&&n<42&&(w=37)),o=(w-1)*6-180+3,_=zE(o),a=i/(1-i),l=r/Math.sqrt(1-i*Math.sin(y)*Math.sin(y)),c=Math.tan(y)*Math.tan(y),p=a*Math.cos(y)*Math.cos(y),d=Math.cos(y)*(g-_),f=r*((1-i/4-3*i*i/64-5*i*i*i/256)*y-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*y)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*y)-35*i*i*i/3072*Math.sin(6*y));var T=s*l*(d+(1-c+p)*d*d*d/6+(5-18*c+c*c+72*p-58*a)*d*d*d*d*d/120)+5e5,A=s*(f+l*Math.tan(y)*(d*d/2+(5-c+9*p+4*p*p)*d*d*d*d/24+(61-58*c+c*c+600*p-330*a)*d*d*d*d*d*d/720));return e<0&&(A+=1e7),{northing:Math.round(A),easting:Math.round(T),zoneNumber:w,zoneLetter:FQ(e)}}function WE(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var s=.9996,o=6378137,a=.00669438,l,c=(1-Math.sqrt(1-a))/(1+Math.sqrt(1-a)),p,d,f,y,g,_,w,T,A,x=n-5e5,b=e;r<"N"&&(b-=1e7),w=(i-1)*6-180+3,l=a/(1-a),_=b/s,T=_/(o*(1-a/4-3*a*a/64-5*a*a*a/256)),A=T+(3*c/2-27*c*c*c/32)*Math.sin(2*T)+(21*c*c/16-55*c*c*c*c/32)*Math.sin(4*T)+151*c*c*c/96*Math.sin(6*T),p=o/Math.sqrt(1-a*Math.sin(A)*Math.sin(A)),d=Math.tan(A)*Math.tan(A),f=l*Math.cos(A)*Math.cos(A),y=o*(1-a)/Math.pow(1-a*Math.sin(A)*Math.sin(A),1.5),g=x/(p*s);var I=A-p*Math.tan(A)/y*(g*g/2-(5+3*d+10*f-4*f*f-9*l)*g*g*g*g/24+(61+90*d+298*f+45*d*d-252*l-3*f*f)*g*g*g*g*g*g/720);I=Mk(I);var N=(g-(1+2*d+f)*g*g*g/6+(5-2*f+28*d-3*f*f+8*l+24*d*d)*g*g*g*g*g/120)/Math.cos(A);N=w+Mk(N);var R;if(t.accuracy){var P=WE({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});R={top:P.lat,right:P.lon,bottom:I,left:N}}else R={lat:I,lon:N};return R}function FQ(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function UQ(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+GQ(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function GQ(t,e,n){var r=Ok(n),i=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return $Q(i,s,r)}function Ok(t){var e=t%Ek;return e===0&&(e=Ek),e}function $Q(t,e,n){var r=n-1,i=Sk.charCodeAt(r),s=Tk.charCodeAt(r),o=i+t-1,a=s+e,l=!1;o>Zf&&(o=o-Zf+op-1,l=!0),(o===Xr||i<Xr&&o>Xr||(o>Xr||i<Xr)&&l)&&o++,(o===zi||i<zi&&o>zi||(o>zi||i<zi)&&l)&&(o++,o===Xr&&o++),o>Zf&&(o=o-Zf+op-1),a>Yf?(a=a-Yf+op-1,l=!0):l=!1,(a===Xr||s<Xr&&a>Xr||(a>Xr||s<Xr)&&l)&&a++,(a===zi||s<zi&&a>zi||(a>zi||s<zi)&&l)&&(a++,a===Xr&&a++),a>Yf&&(a=a-Yf+op-1);var c=String.fromCharCode(o)+String.fromCharCode(a);return c}function Nk(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,n=null,r="",i,s=0;!/[A-Z]/.test(i=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=i,s++}var o=parseInt(r,10);if(s===0||s+3>e)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if(a<="A"||a==="B"||a==="Y"||a>="Z"||a==="I"||a==="O")throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var l=Ok(o),c=VQ(n.charAt(0),l),p=BQ(n.charAt(1),l);p<zQ(a);)p+=2e6;var d=e-s;if(d%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var f=d/2,y=0,g=0,_,w,T,A,x;return f>0&&(_=1e5/Math.pow(10,f),w=t.substring(s,s+f),y=parseFloat(w)*_,T=t.substring(s+f),g=parseFloat(T)*_),A=y+c,x=g+p,{easting:A,northing:x,zoneLetter:a,zoneNumber:o,accuracy:_}}function VQ(t,e){for(var n=Sk.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(n++,n===Xr&&n++,n===zi&&n++,n>Zf){if(i)throw"Bad character: "+t;n=op,i=!0}r+=1e5}return r}function BQ(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=Tk.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(n++,n===Xr&&n++,n===zi&&n++,n>Yf){if(i)throw"Bad character: "+t;n=op,i=!0}r+=1e5}return r}function zQ(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function ap(t,e,n){if(!(this instanceof ap))return new ap(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ap.fromMGRS=function(t){return new ap(Ik(t))},ap.prototype.toMGRS=function(t){return Ak([this.x,this.y],t)};var WQ=1,HQ=.25,Ck=.046875,Rk=.01953125,kk=.01068115234375,YQ=.75,ZQ=.46875,JQ=.013020833333333334,XQ=.007120768229166667,qQ=.3645833333333333,KQ=.005696614583333333,QQ=.3076171875;function HE(t){var e=[];e[0]=WQ-t*(HQ+t*(Ck+t*(Rk+t*kk))),e[1]=t*(YQ-t*(Ck+t*(Rk+t*kk)));var n=t*t;return e[2]=n*(ZQ-t*(JQ+t*XQ)),n*=t,e[3]=n*(qQ-t*KQ),e[4]=n*t*QQ,e}function lp(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))}var ttt=20;function YE(t,e,n){for(var r=1/(1-e),i=t,s=ttt;s;--s){var o=Math.sin(i),a=1-e*o*o;if(a=(lp(i,o,Math.cos(i),n)-t)*(a*Math.sqrt(a))*r,i-=a,Math.abs(a)<bt)return i}return i}function ett(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=HE(this.es),this.ml0=lp(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function ntt(t){var e=t.x,n=t.y,r=_t(e-this.long0),i,s,o,a=Math.sin(n),l=Math.cos(n);if(this.es){var c=l*r,p=Math.pow(c,2),d=this.ep2*Math.pow(l,2),f=Math.pow(d,2),y=Math.abs(l)>bt?Math.tan(n):0,g=Math.pow(y,2),_=Math.pow(g,2);i=1-this.es*Math.pow(a,2),c=c/Math.sqrt(i);var w=lp(n,a,l,this.en);s=this.a*(this.k0*c*(1+p/6*(1-g+d+p/20*(5-18*g+_+14*d-58*g*d+p/42*(61+179*_-_*g-479*g)))))+this.x0,o=this.a*(this.k0*(w-this.ml0+a*r*c/2*(1+p/12*(5-g+9*d+4*f+p/30*(61+_-58*g+270*d-330*g*d+p/56*(1385+543*_-_*g-3111*g))))))+this.y0}else{var T=l*Math.sin(r);if(Math.abs(Math.abs(T)-1)<bt)return 93;if(s=.5*this.a*this.k0*Math.log((1+T)/(1-T))+this.x0,o=l*Math.cos(r)/Math.sqrt(1-Math.pow(T,2)),T=Math.abs(o),T>=1){if(T-1>bt)return 93;o=0}else o=Math.acos(o);n<0&&(o=-o),o=this.a*this.k0*(o-this.lat0)+this.y0}return t.x=s,t.y=o,t}function rtt(t){var e,n,r,i,s=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,n=YE(e,this.es,this.en),Math.abs(n)<ht){var a=Math.sin(n),l=Math.cos(n),c=Math.abs(l)>bt?Math.tan(n):0,p=this.ep2*Math.pow(l,2),d=Math.pow(p,2),f=Math.pow(c,2),y=Math.pow(f,2);e=1-this.es*Math.pow(a,2);var g=s*Math.sqrt(e)/this.k0,_=Math.pow(g,2);e=e*c,r=n-e*_/(1-this.es)*.5*(1-_/12*(5+3*f-9*p*f+p-4*d-_/30*(61+90*f-252*p*f+45*y+46*p-_/56*(1385+3633*f+4095*y+1574*y*f)))),i=_t(this.long0+g*(1-_/6*(1+2*f+p-_/20*(5+28*f+24*y+8*p*f+6*p-_/42*(61+662*f+1320*y+720*y*f))))/l)}else r=ht*Wf(o),i=0;else{var w=Math.exp(s/this.k0),T=.5*(w-1/w),A=this.lat0+o/this.k0,x=Math.cos(A);e=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(T,2))),r=Math.asin(e),o<0&&(r=-r),T===0&&x===0?i=0:i=_t(Math.atan2(T,x)+this.long0)}return t.x=i,t.y=r,t}var itt=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const l1={init:ett,forward:ntt,inverse:rtt,names:itt};function Lk(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function qr(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))}function stt(t){var e=1+t,n=e-1;return n===0?t:t*Math.log(e)/n}function ott(t){var e=Math.abs(t);return e=stt(e*(1+e/(qr(1,e)+1))),t<0?-e:e}function ZE(t,e){for(var n=2*Math.cos(2*e),r=t.length-1,i=t[r],s=0,o;--r>=0;)o=-s+n*i+t[r],s=i,i=o;return e+o*Math.sin(2*e)}function att(t,e){for(var n=2*Math.cos(e),r=t.length-1,i=t[r],s=0,o;--r>=0;)o=-s+n*i+t[r],s=i,i=o;return Math.sin(e)*o}function ltt(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function Pk(t,e,n){for(var r=Math.sin(e),i=Math.cos(e),s=Lk(n),o=ltt(n),a=2*i*o,l=-2*r*s,c=t.length-1,p=t[c],d=0,f=0,y=0,g,_;--c>=0;)g=f,_=d,f=p,d=y,p=-g+a*f-l*d+t[c],y=-_+l*f+a*d;return a=r*o,l=i*s,[a*p-l*y,a*y+l*p]}function ctt(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(l1.init.apply(this),this.forward=l1.forward,this.inverse=l1.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),n=n*e,this.cgb[1]=n*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n=n*e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),n=n*e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(-12/5+e*(-24832/14175))),n=n*e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n=n*e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),n=n*e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n=n*e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n=n*e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n=n*e,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=n*(212378941/319334400);var r=ZE(this.cbg,this.lat0);this.Zb=-this.Qn*(r+att(this.gtu,2*r))}function utt(t){var e=_t(t.x-this.long0),n=t.y;n=ZE(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),s=Math.sin(e),o=Math.cos(e);n=Math.atan2(r,o*i),e=Math.atan2(s*i,qr(r,i*o)),e=ott(Math.tan(e));var a=Pk(this.gtu,2*n,2*e);n=n+a[0],e=e+a[1];var l,c;return Math.abs(e)<=2.623395162778?(l=this.a*(this.Qn*e)+this.x0,c=this.a*(this.Qn*n+this.Zb)+this.y0):(l=1/0,c=1/0),t.x=l,t.y=c,t}function htt(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e=e/this.Qn;var r,i;if(Math.abs(e)<=2.623395162778){var s=Pk(this.utg,2*n,2*e);n=n+s[0],e=e+s[1],e=Math.atan(Lk(e));var o=Math.sin(n),a=Math.cos(n),l=Math.sin(e),c=Math.cos(e);n=Math.atan2(o*c,qr(l,c*a)),e=Math.atan2(l,c*a),r=_t(e+this.long0),i=ZE(this.cgb,n)}else r=1/0,i=1/0;return t.x=r,t.y=i,t}var ptt=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const c1={init:ctt,forward:utt,inverse:htt,names:ptt};function dtt(t,e){if(t===void 0){if(t=Math.floor((_t(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var ftt="etmerc";function mtt(){var t=dtt(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*sr,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,c1.init.apply(this),this.forward=c1.forward,this.inverse=c1.inverse}var ytt=["Universal Transverse Mercator System","utm"];const gtt={init:mtt,names:ytt,dependsOn:ftt};function JE(t,e){return Math.pow((1-t)/(1+t),e)}var vtt=20;function btt(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Te)/(Math.pow(Math.tan(.5*this.lat0+Te),this.C)*JE(this.e*t,this.ratexp))}function _tt(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Te),this.C)*JE(this.e*Math.sin(n),this.ratexp))-ht,t.x=this.C*e,t}function wtt(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+Te)/this.K,1/this.C),s=vtt;s>0&&(r=2*Math.atan(i*JE(this.e*Math.sin(t.y),-.5*this.e))-ht,!(Math.abs(r-t.y)<e));--s)t.y=r;return s?(t.x=n,t.y=r,t):null}var xtt=["gauss"];const XE={init:btt,forward:_tt,inverse:wtt,names:xtt};function Ett(){XE.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Stt(t){var e,n,r,i;return t.x=_t(t.x-this.long0),XE.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function Ttt(t){var e,n,r,i,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=qr(t.x,t.y)){var o=2*Math.atan2(s,this.R2);e=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/s),r=Math.atan2(t.x*e,s*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,XE.inverse.apply(this,[t]),t.x=_t(t.x+this.long0),t}var Att=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Itt={init:Ett,forward:Stt,inverse:Ttt,names:Att};function Mtt(t,e,n){return e*=n,Math.tan(.5*(ht+t))*Math.pow((1-e)/(1+e),.5*n)}function Ott(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=bt&&(this.k0=.5*(1+Wf(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=bt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=bt&&Math.abs(Math.cos(this.lat_ts))>bt&&(this.k0=.5*this.cons*po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Ts(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=po(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-ht,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Ntt(t){var e=t.x,n=t.y,r=Math.sin(n),i=Math.cos(n),s,o,a,l,c,p,d=_t(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=bt&&Math.abs(n+this.lat0)<=bt?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*r+this.coslat0*i*Math.cos(d)),t.x=this.a*s*i*Math.sin(d)+this.x0,t.y=this.a*s*(this.coslat0*r-this.sinlat0*i*Math.cos(d))+this.y0,t):(o=2*Math.atan(this.ssfn_(n,r,this.e))-ht,l=Math.cos(o),a=Math.sin(o),Math.abs(this.coslat0)<=bt?(c=Ts(this.e,n*this.con,this.con*r),p=2*this.a*this.k0*c/this.cons,t.x=this.x0+p*Math.sin(e-this.long0),t.y=this.y0-this.con*p*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<bt?(s=2*this.a*this.k0/(1+l*Math.cos(d)),t.y=s*a):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*a+this.cosX0*l*Math.cos(d))),t.y=s*(this.cosX0*a-this.sinX0*l*Math.cos(d))+this.y0),t.x=s*l*Math.sin(d)+this.x0,t))}function Ctt(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=bt?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),Math.abs(this.coslat0)<bt?this.lat0>0?e=_t(this.long0+Math.atan2(t.x,-1*t.y)):e=_t(this.long0+Math.atan2(t.x,t.y)):e=_t(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}else if(Math.abs(this.coslat0)<=bt){if(o<=bt)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*Hf(this.e,r),e=this.con*_t(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=bt?s=this.X0:(s=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/o),e=_t(this.long0+Math.atan2(t.x*Math.sin(i),o*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*Hf(this.e,Math.tan(.5*(ht+s)));return t.x=e,t.y=n,t}var Rtt=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"];const ktt={init:Ott,forward:Ntt,inverse:Ctt,names:Rtt,ssfn_:Mtt};function Ltt(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,s=2*i-Math.pow(i,2),o=this.e=Math.sqrt(s);this.R=this.k0*n*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),l=Math.log(Math.tan(Math.PI/4+t/2)),c=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*l+this.alpha*o/2*c}function Ptt(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t}function Dtt(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+o/this.alpha,l=0,c=s,p=-1e3,d=0;Math.abs(c-p)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(c))/2)),p=c,c=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=c,t}var jtt=["somerc"];const Ftt={init:Ltt,forward:Ptt,inverse:Dtt,names:jtt};var cp=1e-7;function Utt(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],n=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(n)!==-1}function Gtt(){var t,e,n,r,i,s,o,a,l,c,p=0,d,f=0,y=0,g=0,_=0,w=0,T=0;this.no_off=Utt(this),this.no_rot="no_rot"in this;var A=!1;"alpha"in this&&(A=!0);var x=!1;if("rectified_grid_angle"in this&&(x=!0),A&&(T=this.alpha),x&&(p=this.rectified_grid_angle*sr),A||x)f=this.longc;else if(y=this.long1,_=this.lat1,g=this.long2,w=this.lat2,Math.abs(_-w)<=cp||(t=Math.abs(_))<=cp||Math.abs(t-ht)<=cp||Math.abs(Math.abs(this.lat0)-ht)<=cp||Math.abs(Math.abs(w)-ht)<=cp)throw new Error;var b=1-this.es;e=Math.sqrt(b),Math.abs(this.lat0)>bt?(a=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*a*a,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/b),this.A=this.B*this.k0*e/t,r=this.B*e/(n*Math.sqrt(t)),i=r*r-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=r,this.E*=Math.pow(Ts(this.e,this.lat0,a),this.B)):(this.B=1/e,this.A=this.k0,this.E=r=i=1),A||x?(A?(d=Math.asin(Math.sin(T)/r),x||(p=T)):(d=p,T=Math.asin(r*Math.sin(d))),this.lam0=f-Math.asin(.5*(i-1/i)*Math.tan(d))/this.B):(s=Math.pow(Ts(this.e,_,Math.sin(_)),this.B),o=Math.pow(Ts(this.e,w,Math.sin(w)),this.B),i=this.E/s,l=(o-s)/(o+s),c=this.E*this.E,c=(c-o*s)/(c+o*s),t=y-g,t<-Math.pi?g-=Bf:t>Math.pi&&(g+=Bf),this.lam0=_t(.5*(y+g)-Math.atan(c*Math.tan(.5*this.B*(y-g))/l)/this.B),d=Math.atan(2*Math.sin(this.B*_t(y-this.lam0))/(i-1/i)),p=T=Math.asin(r*Math.sin(d))),this.singam=Math.sin(d),this.cosgam=Math.cos(d),this.sinrot=Math.sin(p),this.cosrot=Math.cos(p),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(T))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*d,this.v_pole_n=this.ArB*Math.log(Math.tan(Te-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(Te+i))}function $tt(t){var e={},n,r,i,s,o,a,l,c;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-ht)>bt){if(o=this.E/Math.pow(Ts(this.e,t.y,Math.sin(t.y)),this.B),a=1/o,n=.5*(o-a),r=.5*(o+a),s=Math.sin(this.B*t.x),i=(n*this.singam-s*this.cosgam)/r,Math.abs(Math.abs(i)-1)<bt)throw new Error;c=.5*this.ArB*Math.log((1-i)/(1+i)),a=Math.cos(this.B*t.x),Math.abs(a)<cp?l=this.A*t.x:l=this.ArB*Math.atan2(n*this.cosgam+s*this.singam,a)}else c=t.y>0?this.v_pole_n:this.v_pole_s,l=this.ArB*t.y;return this.no_rot?(e.x=l,e.y=c):(l-=this.u_0,e.x=c*this.cosrot+l*this.sinrot,e.y=l*this.cosrot-c*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Vtt(t){var e,n,r,i,s,o,a,l={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,e=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*n),i=.5*(r-1/r),s=.5*(r+1/r),o=Math.sin(this.BrA*e),a=(o*this.cosgam+i*this.singam)/s,Math.abs(Math.abs(a)-1)<bt)l.x=0,l.y=a<0?-ht:ht;else{if(l.y=this.E/Math.sqrt((1+a)/(1-a)),l.y=Hf(this.e,Math.pow(l.y,1/this.B)),l.y===1/0)throw new Error;l.x=-this.rB*Math.atan2(i*this.cosgam-o*this.singam,Math.cos(this.BrA*e))}return l.x+=this.lam0,l}var Btt=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const ztt={init:Gtt,forward:$tt,inverse:Vtt,names:Btt};function Wtt(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<bt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=po(this.e,e,n),i=Ts(this.e,this.lat1,e),s=Math.sin(this.lat2),o=Math.cos(this.lat2),a=po(this.e,s,o),l=Ts(this.e,this.lat2,s),c=Ts(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>bt?this.ns=Math.log(r/a)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Htt(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=bt&&(n=Wf(n)*(ht-2*bt));var r=Math.abs(Math.abs(n)-ht),i,s;if(r>bt)i=Ts(this.e,n,Math.sin(n)),s=this.a*this.f0*Math.pow(i,this.ns);else{if(r=n*this.ns,r<=0)return null;s=0}var o=this.ns*_t(e-this.long0);return t.x=this.k0*(s*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-s*Math.cos(o))+this.y0,t}function Ytt(t){var e,n,r,i,s,o=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(o*o+a*a),n=1):(e=-Math.sqrt(o*o+a*a),n=-1);var l=0;if(e!==0&&(l=Math.atan2(n*o,n*a)),e!==0||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=Hf(this.e,r),i===-9999)return null}else i=-ht;return s=_t(l/this.ns+this.long0),t.x=s,t.y=i,t}var Ztt=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const Jtt={init:Wtt,forward:Htt,inverse:Ytt,names:Ztt};function Xtt(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function qtt(t){var e,n,r,i,s,o,a,l=t.x,c=t.y,p=_t(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),r=-p*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),s=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*s,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=a*Math.cos(o)/1,t.x=a*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Ktt(t){var e,n,r,i,s,o,a,l,c=t.x;t.x=t.y,t.y=c,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),i=s/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,l=0;var p=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(l=1),a=t.y,p+=1;while(l===0&&p<15);return p>=15?null:t}var Qtt=["Krovak","krovak"];const tet={init:Xtt,forward:qtt,inverse:Ktt,names:Qtt};function Rr(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)}function Jf(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Xf(t){return .375*t*(1+.25*t*(1+.46875*t))}function qf(t){return .05859375*t*t*(1+.75*t)}function Kf(t){return t*t*t*(35/3072)}function up(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)}function gl(t){return Math.abs(t)<ht?t:t-Wf(t)*Math.PI}function u1(t,e,n,r,i){var s,o;s=t/e;for(var a=0;a<15;a++)if(o=(t-(e*s-n*Math.sin(2*s)+r*Math.sin(4*s)-i*Math.sin(6*s)))/(e-2*n*Math.cos(2*s)+4*r*Math.cos(4*s)-6*i*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}function eet(){this.sphere||(this.e0=Jf(this.es),this.e1=Xf(this.es),this.e2=qf(this.es),this.e3=Kf(this.es),this.ml0=this.a*Rr(this.e0,this.e1,this.e2,this.e3,this.lat0))}function net(t){var e,n,r=t.x,i=t.y;if(r=_t(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var s=Math.sin(i),o=Math.cos(i),a=up(this.a,this.e,s),l=Math.tan(i)*Math.tan(i),c=r*Math.cos(i),p=c*c,d=this.es*o*o/(1-this.es),f=this.a*Rr(this.e0,this.e1,this.e2,this.e3,i);e=a*c*(1-p*l*(1/6-(8-l+8*d)*p/120)),n=f-this.ml0+a*s/o*p*(.5+(5-l+6*d)*p/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function ret(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i;if(this.sphere){var s=n+this.lat0;r=Math.asin(Math.sin(s)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(s))}else{var o=this.ml0/this.a+n,a=u1(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-ht)<=bt)return t.x=this.long0,t.y=ht,n<0&&(t.y*=-1),t;var l=up(this.a,this.e,Math.sin(a)),c=l*l*l/this.a/this.a*(1-this.es),p=Math.pow(Math.tan(a),2),d=e*this.a/l,f=d*d;r=a-l*Math.tan(a)/c*d*d*(.5-(1+3*p)*d*d/24),i=d*(1-f*(p/3+(1+3*p)*p*f/15))/Math.cos(a)}return t.x=_t(i+this.long0),t.y=gl(r),t}var iet=["Cassini","Cassini_Soldner","cass"];const set={init:eet,forward:net,inverse:ret,names:iet};function vl(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}var oet=1,aet=2,cet=3,uet=4;function het(){var t=Math.abs(this.lat0);if(Math.abs(t-ht)<bt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<bt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=vl(this.e,1),this.mmf=.5/(1-this.es),this.apa=_et(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=vl(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function pet(t){var e,n,r,i,s,o,a,l,c,p,d=t.x,f=t.y;if(d=_t(d-this.long0),this.sphere){if(s=Math.sin(f),p=Math.cos(f),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+p*r:1+this.sinph0*s+this.cosph0*p*r,n<=bt)return null;n=Math.sqrt(2/n),e=n*p*Math.sin(d),n*=this.mode===this.EQUIT?s:this.cosph0*s-this.sinph0*p*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(f+this.lat0)<bt)return null;n=Te-f*.5,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(d),n*=r}}else{switch(a=0,l=0,c=0,r=Math.cos(d),i=Math.sin(d),s=Math.sin(f),o=vl(this.e,s),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(a=o/this.qp,l=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*l*r;break;case this.EQUIT:c=1+l*r;break;case this.N_POLE:c=ht+f,o=this.qp-o;break;case this.S_POLE:c=f-ht,o=this.qp+o;break}if(Math.abs(c)<bt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),this.mode===this.OBLIQ?n=this.ymf*c*(this.cosb1*a-this.sinb1*l*r):n=(c=Math.sqrt(2/(1+l*r)))*a*this.ymf,e=this.xmf*c*l*i;break;case this.N_POLE:case this.S_POLE:o>=0?(e=(c=Math.sqrt(o))*i,n=r*(this.mode===this.S_POLE?c:-c)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function det(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,n=t.y/this.a,r,i,s,o,a,l,c;if(this.sphere){var p=0,d,f=0;if(d=Math.sqrt(e*e+n*n),i=d*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=bt?0:Math.asin(n*f/d),e*=f,n=p*d;break;case this.OBLIQ:i=Math.abs(d)<=bt?this.lat0:Math.asin(p*this.sinph0+n*f*this.cosph0/d),e*=f*this.cosph0,n=(p-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:n=-n,i=ht-i;break;case this.S_POLE:i-=ht;break}r=n===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,n)}else{if(c=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,n*=this.dd,l=Math.sqrt(e*e+n*n),l<bt)return t.x=this.long0,t.y=this.lat0,t;o=2*Math.asin(.5*l/this.rq),s=Math.cos(o),e*=o=Math.sin(o),this.mode===this.OBLIQ?(c=s*this.sinb1+n*o*this.cosb1/l,a=this.qp*c,n=l*this.cosb1*s-n*this.sinb1*o):(c=n*o/l,a=this.qp*c,n=l*s)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),a=e*e+n*n,!a)return t.x=this.long0,t.y=this.lat0,t;c=1-a/this.qp,this.mode===this.S_POLE&&(c=-c)}r=Math.atan2(e,n),i=wet(Math.asin(c),this.apa)}return t.x=_t(this.long0+r),t.y=i,t}var fet=.3333333333333333,met=.17222222222222222,yet=.10257936507936508,get=.06388888888888888,vet=.0664021164021164,bet=.016415012942191543;function _et(t){var e,n=[];return n[0]=t*fet,e=t*t,n[0]+=e*met,n[1]=e*get,e*=t,n[0]+=e*yet,n[1]+=e*vet,n[2]=e*bet,n}function wet(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var xet=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Eet={init:het,forward:pet,inverse:det,names:xet,S_POLE:oet,N_POLE:aet,EQUIT:cet,OBLIQ:uet};function bl(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Tet(){Math.abs(this.lat1+this.lat2)<bt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=po(this.e3,this.sin_po,this.cos_po),this.qs1=vl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=po(this.e3,this.sin_po,this.cos_po),this.qs2=vl(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=vl(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>bt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Aet(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=vl(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,s=this.ns0*_t(e-this.long0),o=i*Math.sin(s)+this.x0,a=this.rh-i*Math.cos(s)+this.y0;return t.x=o,t.y=a,t}function Iet(t){var e,n,r,i,s,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,e!==0&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),s=_t(i/this.ns0+this.long0),t.x=s,t.y=o,t}function Met(t,e){var n,r,i,s,o,a=bl(.5*e);if(t<bt)return a;for(var l=t*t,c=1;c<=25;c++)if(n=Math.sin(a),r=Math.cos(a),i=t*n,s=1-i*i,o=.5*s*s/r*(e/(1-l)-n/s+.5/t*Math.log((1-i)/(1+i))),a=a+o,Math.abs(o)<=1e-7)return a;return null}var Oet=["Albers_Conic_Equal_Area","Albers","aea"];const Net={init:Tet,forward:Aet,inverse:Iet,names:Oet,phi1z:Met};function Cet(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Ret(t){var e,n,r,i,s,o,a,l,c=t.x,p=t.y;return r=_t(c-this.long0),e=Math.sin(p),n=Math.cos(p),i=Math.cos(r),o=this.sin_p14*e+this.cos_p14*n*i,s=1,o>0||Math.abs(o)<=bt?(a=this.x0+this.a*s*n*Math.sin(r)/o,l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)/o):(a=this.x0+this.infinity_dist*n*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=l,t}function ket(t){var e,n,r,i,s,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),o=bl(r*this.sin_p14+t.y*n*this.cos_p14/e),s=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),s=_t(this.long0+s)):(o=this.phic0,s=0),t.x=s,t.y=o,t}var Let=["gnom"];const Pet={init:Cet,forward:Ret,inverse:ket,names:Let};function Det(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*ht:ht;for(var r=Math.asin(.5*e),i,s,o,a,l=0;l<30;l++)if(s=Math.sin(r),o=Math.cos(r),a=t*s,i=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),r+=i,Math.abs(i)<=1e-10)return r;return NaN}function jet(){this.sphere||(this.k0=po(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Fet(t){var e=t.x,n=t.y,r,i,s=_t(e-this.long0);if(this.sphere)r=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(n)/Math.cos(this.lat_ts);else{var o=vl(this.e,Math.sin(n));r=this.x0+this.a*this.k0*s,i=this.y0+this.a*o*.5/this.k0}return t.x=r,t.y=i,t}function Uet(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=_t(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=Det(this.e,2*t.y*this.k0/this.a),e=_t(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var Get=["cea"];const $et={init:jet,forward:Fet,inverse:Uet,names:Get};function Vet(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Bet(t){var e=t.x,n=t.y,r=_t(e-this.long0),i=gl(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function zet(t){var e=t.x,n=t.y;return t.x=_t(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=gl(this.lat0+(n-this.y0)/this.a),t}var Wet=["Equirectangular","Equidistant_Cylindrical","eqc"];const Het={init:Vet,forward:Bet,inverse:zet,names:Wet};var Dk=20;function Yet(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jf(this.es),this.e1=Xf(this.es),this.e2=qf(this.es),this.e3=Kf(this.es),this.ml0=this.a*Rr(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Zet(t){var e=t.x,n=t.y,r,i,s,o=_t(e-this.long0);if(s=o*Math.sin(n),this.sphere)Math.abs(n)<=bt?(r=this.a*o,i=-1*this.a*this.lat0):(r=this.a*Math.sin(s)/Math.tan(n),i=this.a*(gl(n-this.lat0)+(1-Math.cos(s))/Math.tan(n)));else if(Math.abs(n)<=bt)r=this.a*o,i=-1*this.ml0;else{var a=up(this.a,this.e,Math.sin(n))/Math.tan(n);r=a*Math.sin(s),i=this.a*Rr(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+a*(1-Math.cos(s))}return t.x=r+this.x0,t.y=i+this.y0,t}function Jet(t){var e,n,r,i,s,o,a,l,c;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=bt)e=_t(r/this.a+this.long0),n=0;else{o=this.lat0+i/this.a,a=r*r/this.a/this.a+o*o,l=o;var p;for(s=Dk;s;--s)if(p=Math.tan(l),c=-1*(o*(l*p+1)-l-.5*(l*l+a)*p)/((l-o)/p-1),l+=c,Math.abs(c)<=bt){n=l;break}e=_t(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=bt)n=0,e=_t(this.long0+r/this.a);else{o=(this.ml0+i)/this.a,a=r*r/this.a/this.a+o*o,l=o;var d,f,y,g,_;for(s=Dk;s;--s)if(_=this.e*Math.sin(l),d=Math.sqrt(1-_*_)*Math.tan(l),f=this.a*Rr(this.e0,this.e1,this.e2,this.e3,l),y=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),g=f/this.a,c=(o*(d*g+1)-g-.5*d*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*o*g)/(4*d)+(o-g)*(d*y-2/Math.sin(2*l))-y),l-=c,Math.abs(c)<=bt){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=_t(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var Xet=["Polyconic","poly"];const qet={init:Yet,forward:Zet,inverse:Jet,names:Xet};function Ket(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Qet(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,o=i/Vf*1e-5,a=s,l=1,c=0;for(e=1;e<=10;e++)l=l*o,c=c+this.A[e]*l;var p=c,d=a,f=1,y=0,g,_,w=0,T=0;for(e=1;e<=6;e++)g=f*p-y*d,_=y*p+f*d,f=g,y=_,w=w+this.B_re[e]*f-this.B_im[e]*y,T=T+this.B_im[e]*f+this.B_re[e]*y;return t.x=T*this.a+this.x0,t.y=w*this.a+this.y0,t}function tnt(t){var e,n=t.x,r=t.y,i=n-this.x0,s=r-this.y0,o=s/this.a,a=i/this.a,l=1,c=0,p,d,f=0,y=0;for(e=1;e<=6;e++)p=l*o-c*a,d=c*o+l*a,l=p,c=d,f=f+this.C_re[e]*l-this.C_im[e]*c,y=y+this.C_im[e]*l+this.C_re[e]*c;for(var g=0;g<this.iterations;g++){var _=f,w=y,T,A,x=o,b=a;for(e=2;e<=6;e++)T=_*f-w*y,A=w*f+_*y,_=T,w=A,x=x+(e-1)*(this.B_re[e]*_-this.B_im[e]*w),b=b+(e-1)*(this.B_im[e]*_+this.B_re[e]*w);_=1,w=0;var I=this.B_re[1],N=this.B_im[1];for(e=2;e<=6;e++)T=_*f-w*y,A=w*f+_*y,_=T,w=A,I=I+e*(this.B_re[e]*_-this.B_im[e]*w),N=N+e*(this.B_im[e]*_+this.B_re[e]*w);var R=I*I+N*N;f=(x*I+b*N)/R,y=(b*I-x*N)/R}var P=f,D=y,B=1,$=0;for(e=1;e<=9;e++)B=B*P,$=$+this.D[e]*B;var U=this.lat0+$*Vf*1e5,J=this.long0+D;return t.x=J,t.y=U,t}var ent=["New_Zealand_Map_Grid","nzmg"];const nnt={init:Ket,forward:Qet,inverse:tnt,names:ent};function rnt(){}function int(t){var e=t.x,n=t.y,r=_t(e-this.long0),i=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=s,t}function snt(t){t.x-=this.x0,t.y-=this.y0;var e=_t(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var ont=["Miller_Cylindrical","mill"];const ant={init:rnt,forward:int,inverse:snt,names:ont};var lnt=20;function cnt(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=HE(this.es)}function unt(t){var e,n,r=t.x,i=t.y;if(r=_t(r-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var s=this.n*Math.sin(i),o=lnt;o;--o){var a=(this.m*i+Math.sin(i)-s)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<bt)break}e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),c=Math.cos(i);n=this.a*lp(i,l,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t}function hnt(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(e))),this.m?e=bl((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=bl(Math.sin(e)/this.n)),r=_t(r+this.long0),e=gl(e)):(e=YE(t.y/this.a,this.es,this.en),i=Math.abs(e),i<ht?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=_t(n)):i-bt<ht&&(r=this.long0)),t.x=r,t.y=e,t}var pnt=["Sinusoidal","sinu"];const dnt={init:cnt,forward:unt,inverse:hnt,names:pnt};function fnt(){}function mnt(t){for(var e=t.x,n=t.y,r=_t(e-this.long0),i=n,s=Math.PI*Math.sin(n);;){var o=-(i+Math.sin(i)-s)/(1+Math.cos(i));if(i+=o,Math.abs(o)<bt)break}i/=2,Math.PI/2-Math.abs(n)<bt&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=a,t.y=l,t}function ynt(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=_t(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var gnt=["Mollweide","moll"];const vnt={init:fnt,forward:mnt,inverse:ynt,names:gnt};function bnt(){Math.abs(this.lat1+this.lat2)<bt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Jf(this.es),this.e1=Xf(this.es),this.e2=qf(this.es),this.e3=Kf(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=po(this.e,this.sinphi,this.cosphi),this.ml1=Rr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<bt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=po(this.e,this.sinphi,this.cosphi),this.ml2=Rr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Rr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function _nt(t){var e=t.x,n=t.y,r;if(this.sphere)r=this.a*(this.g-n);else{var i=Rr(this.e0,this.e1,this.e2,this.e3,n);r=this.a*(this.g-i)}var s=this.ns*_t(e-this.long0),o=this.x0+r*Math.sin(s),a=this.y0+this.rh-r*Math.cos(s);return t.x=o,t.y=a,t}function wnt(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,r,i;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(n!==0&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=_t(this.long0+s/this.ns),r=gl(this.g-n/this.a),t.x=i,t.y=r,t;var o=this.g-n/this.a;return r=u1(o,this.e0,this.e1,this.e2,this.e3),i=_t(this.long0+s/this.ns),t.x=i,t.y=r,t}var xnt=["Equidistant_Conic","eqdc"];const Ent={init:bnt,forward:_nt,inverse:wnt,names:xnt};function Snt(){this.R=this.a}function Tnt(t){var e=t.x,n=t.y,r=_t(e-this.long0),i,s;Math.abs(n)<=bt&&(i=this.x0+this.R*r,s=this.y0);var o=bl(2*Math.abs(n/Math.PI));(Math.abs(r)<=bt||Math.abs(Math.abs(n)-ht)<=bt)&&(i=this.x0,n>=0?s=this.y0+Math.PI*this.R*Math.tan(.5*o):s=this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/r-r/Math.PI),l=a*a,c=Math.sin(o),p=Math.cos(o),d=p/(c+p-1),f=d*d,y=d*(2/c-1),g=y*y,_=Math.PI*this.R*(a*(d-g)+Math.sqrt(l*(d-g)*(d-g)-(g+l)*(f-g)))/(g+l);r<0&&(_=-_),i=this.x0+_;var w=l+d;return _=Math.PI*this.R*(y*w-a*Math.sqrt((g+l)*(l+1)-w*w))/(g+l),n>=0?s=this.y0+_:s=this.y0-_,t.x=i,t.y=s,t}function Ant(t){var e,n,r,i,s,o,a,l,c,p,d,f,y;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,r=t.x/d,i=t.y/d,s=r*r+i*i,o=-Math.abs(i)*(1+s),a=o-2*i*i+r*r,l=-2*o+1+2*i*i+s*s,y=i*i/l+(2*a*a*a/l/l/l-9*o*a/l/l)/27,c=(o-a*a/3/l)/l,p=2*Math.sqrt(-c/3),d=3*y/c/p,Math.abs(d)>1&&(d>=0?d=1:d=-1),f=Math.acos(d)/3,t.y>=0?n=(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI:n=-(-p*Math.cos(f+Math.PI/3)-a/3/l)*Math.PI,Math.abs(r)<bt?e=this.long0:e=_t(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-i*i)+s*s))/2/r),t.x=e,t.y=n,t}var Int=["Van_der_Grinten_I","VanDerGrinten","vandg"];const Mnt={init:Snt,forward:Tnt,inverse:Ant,names:Int};function Ont(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Nnt(t){var e=t.x,n=t.y,r=Math.sin(t.y),i=Math.cos(t.y),s=_t(e-this.long0),o,a,l,c,p,d,f,y,g,_,w,T,A,x,b,I,N,R,P,D,B,$,U;return this.sphere?Math.abs(this.sin_p12-1)<=bt?(t.x=this.x0+this.a*(ht-n)*Math.sin(s),t.y=this.y0-this.a*(ht-n)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=bt?(t.x=this.x0+this.a*(ht+n)*Math.sin(s),t.y=this.y0+this.a*(ht+n)*Math.cos(s),t):(R=this.sin_p12*r+this.cos_p12*i*Math.cos(s),I=Math.acos(R),N=I?I/Math.sin(I):1,t.x=this.x0+this.a*N*i*Math.sin(s),t.y=this.y0+this.a*N*(this.cos_p12*r-this.sin_p12*i*Math.cos(s)),t):(o=Jf(this.es),a=Xf(this.es),l=qf(this.es),c=Kf(this.es),Math.abs(this.sin_p12-1)<=bt?(p=this.a*Rr(o,a,l,c,ht),d=this.a*Rr(o,a,l,c,n),t.x=this.x0+(p-d)*Math.sin(s),t.y=this.y0-(p-d)*Math.cos(s),t):Math.abs(this.sin_p12+1)<=bt?(p=this.a*Rr(o,a,l,c,ht),d=this.a*Rr(o,a,l,c,n),t.x=this.x0+(p+d)*Math.sin(s),t.y=this.y0+(p+d)*Math.cos(s),t):(f=r/i,y=up(this.a,this.e,this.sin_p12),g=up(this.a,this.e,r),_=Math.atan((1-this.es)*f+this.es*y*this.sin_p12/(g*i)),w=Math.atan2(Math.sin(s),this.cos_p12*Math.tan(_)-this.sin_p12*Math.cos(s)),w===0?P=Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):Math.abs(Math.abs(w)-Math.PI)<=bt?P=-Math.asin(this.cos_p12*Math.sin(_)-this.sin_p12*Math.cos(_)):P=Math.asin(Math.sin(s)*Math.cos(_)/Math.sin(w)),T=this.e*this.sin_p12/Math.sqrt(1-this.es),A=this.e*this.cos_p12*Math.cos(w)/Math.sqrt(1-this.es),x=T*A,b=A*A,D=P*P,B=D*P,$=B*P,U=$*P,I=y*P*(1-D*b*(1-b)/6+B/8*x*(1-2*b)+$/120*(b*(4-7*b)-3*T*T*(1-7*b))-U/48*x),t.x=this.x0+I*Math.sin(w),t.y=this.y0+I*Math.cos(w),t))}function Cnt(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,s,o,a,l,c,p,d,f,y,g,_,w,T,A,x,b,I,N,R,P;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*ht*this.a?void 0:(n=e/this.a,r=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(e)<=bt?o=this.lat0:(o=bl(i*this.sin_p12+t.y*r*this.cos_p12/e),a=Math.abs(this.lat0)-ht,Math.abs(a)<=bt?this.lat0>=0?s=_t(this.long0+Math.atan2(t.x,-t.y)):s=_t(this.long0-Math.atan2(-t.x,t.y)):s=_t(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=s,t.y=o,t)):(l=Jf(this.es),c=Xf(this.es),p=qf(this.es),d=Kf(this.es),Math.abs(this.sin_p12-1)<=bt?(f=this.a*Rr(l,c,p,d,ht),e=Math.sqrt(t.x*t.x+t.y*t.y),y=f-e,o=u1(y/this.a,l,c,p,d),s=_t(this.long0+Math.atan2(t.x,-1*t.y)),t.x=s,t.y=o,t):Math.abs(this.sin_p12+1)<=bt?(f=this.a*Rr(l,c,p,d,ht),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-f,o=u1(y/this.a,l,c,p,d),s=_t(this.long0+Math.atan2(t.x,t.y)),t.x=s,t.y=o,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),w=Math.atan2(t.x,t.y),g=up(this.a,this.e,this.sin_p12),T=Math.cos(w),A=this.e*this.cos_p12*T,x=-A*A/(1-this.es),b=3*this.es*(1-x)*this.sin_p12*this.cos_p12*T/(1-this.es),I=e/g,N=I-x*(1+x)*Math.pow(I,3)/6-b*(1+3*x)*Math.pow(I,4)/24,R=1-x*N*N/2-I*N*N*N/6,_=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*T),s=_t(this.long0+Math.asin(Math.sin(w)*Math.sin(N)/Math.cos(_))),P=Math.sin(_),o=Math.atan2((P-this.es*R*this.sin_p12)*Math.tan(_),P*(1-this.es)),t.x=s,t.y=o,t))}var Rnt=["Azimuthal_Equidistant","aeqd"];const knt={init:Ont,forward:Nnt,inverse:Cnt,names:Rnt};function Lnt(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Pnt(t){var e,n,r,i,s,o,a,l,c=t.x,p=t.y;return r=_t(c-this.long0),e=Math.sin(p),n=Math.cos(p),i=Math.cos(r),o=this.sin_p14*e+this.cos_p14*n*i,s=1,(o>0||Math.abs(o)<=bt)&&(a=this.a*s*n*Math.sin(r),l=this.y0+this.a*s*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=l,t}function Dnt(t){var e,n,r,i,s,o,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=bl(e/this.a),r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=bt?(a=this.lat0,t.x=o,t.y=a,t):(a=bl(i*this.sin_p14+t.y*r*this.cos_p14/e),s=Math.abs(this.lat0)-ht,Math.abs(s)<=bt?(this.lat0>=0?o=_t(this.long0+Math.atan2(t.x,-t.y)):o=_t(this.long0-Math.atan2(-t.x,t.y)),t.x=o,t.y=a,t):(o=_t(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=o,t.y=a,t))}var jnt=["ortho"];const Fnt={init:Lnt,forward:Pnt,inverse:Dnt,names:jnt};var cn={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ae={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Unt(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ht-Te/2?this.face=cn.TOP:this.lat0<=-(ht-Te/2)?this.face=cn.BOTTOM:Math.abs(this.long0)<=Te?this.face=cn.FRONT:Math.abs(this.long0)<=ht+Te?this.face=this.long0>0?cn.RIGHT:cn.LEFT:this.face=cn.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Gnt(t){var e={x:0,y:0},n,r,i,s,o,a,l={value:0};if(t.x-=this.long0,this.es!==0?n=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):n=t.y,r=t.x,this.face===cn.TOP)s=ht-n,r>=Te&&r<=ht+Te?(l.value=Ae.AREA_0,i=r-ht):r>ht+Te||r<=-(ht+Te)?(l.value=Ae.AREA_1,i=r>0?r-An:r+An):r>-(ht+Te)&&r<=-Te?(l.value=Ae.AREA_2,i=r+ht):(l.value=Ae.AREA_3,i=r);else if(this.face===cn.BOTTOM)s=ht+n,r>=Te&&r<=ht+Te?(l.value=Ae.AREA_0,i=-r+ht):r<Te&&r>=-Te?(l.value=Ae.AREA_1,i=-r):r<-Te&&r>=-(ht+Te)?(l.value=Ae.AREA_2,i=-r-ht):(l.value=Ae.AREA_3,i=r>0?-r+An:-r-An);else{var c,p,d,f,y,g,_;this.face===cn.RIGHT?r=hp(r,+ht):this.face===cn.BACK?r=hp(r,+An):this.face===cn.LEFT&&(r=hp(r,-ht)),f=Math.sin(n),y=Math.cos(n),g=Math.sin(r),_=Math.cos(r),c=y*_,p=y*g,d=f,this.face===cn.FRONT?(s=Math.acos(c),i=h1(s,d,p,l)):this.face===cn.RIGHT?(s=Math.acos(p),i=h1(s,d,-c,l)):this.face===cn.BACK?(s=Math.acos(-c),i=h1(s,d,-p,l)):this.face===cn.LEFT?(s=Math.acos(-p),i=h1(s,d,c,l)):(s=i=0,l.value=Ae.AREA_0)}return a=Math.atan(12/An*(i+Math.acos(Math.sin(i)*Math.cos(Te))-ht)),o=Math.sqrt((1-Math.cos(s))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(i))))),l.value===Ae.AREA_1?a+=ht:l.value===Ae.AREA_2?a+=An:l.value===Ae.AREA_3&&(a+=1.5*An),e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function $nt(t){var e={lam:0,phi:0},n,r,i,s,o,a,l,c,p,d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),n=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Ae.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Ae.AREA_1,n-=ht):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Ae.AREA_2,n=n<0?n+An:n-An):(d.value=Ae.AREA_3,n+=ht),p=An/12*Math.tan(n),o=Math.sin(p)/(Math.cos(p)-1/Math.sqrt(2)),a=Math.atan(o),i=Math.cos(n),s=Math.tan(r),l=1-i*i*s*s*(1-Math.cos(Math.atan(1/Math.cos(a)))),l<-1?l=-1:l>1&&(l=1),this.face===cn.TOP)c=Math.acos(l),e.phi=ht-c,d.value===Ae.AREA_0?e.lam=a+ht:d.value===Ae.AREA_1?e.lam=a<0?a+An:a-An:d.value===Ae.AREA_2?e.lam=a-ht:e.lam=a;else if(this.face===cn.BOTTOM)c=Math.acos(l),e.phi=c-ht,d.value===Ae.AREA_0?e.lam=-a+ht:d.value===Ae.AREA_1?e.lam=-a:d.value===Ae.AREA_2?e.lam=-a-ht:e.lam=a<0?-a-An:-a+An;else{var f,y,g;f=l,p=f*f,p>=1?g=0:g=Math.sqrt(1-p)*Math.sin(a),p+=g*g,p>=1?y=0:y=Math.sqrt(1-p),d.value===Ae.AREA_1?(p=y,y=-g,g=p):d.value===Ae.AREA_2?(y=-y,g=-g):d.value===Ae.AREA_3&&(p=y,y=g,g=-p),this.face===cn.RIGHT?(p=f,f=-y,y=p):this.face===cn.BACK?(f=-f,y=-y):this.face===cn.LEFT&&(p=f,f=y,y=-p),e.phi=Math.acos(-g)-ht,e.lam=Math.atan2(y,f),this.face===cn.RIGHT?e.lam=hp(e.lam,-ht):this.face===cn.BACK?e.lam=hp(e.lam,-An):this.face===cn.LEFT&&(e.lam=hp(e.lam,+ht))}if(this.es!==0){var _,w,T;_=e.phi<0?1:0,w=Math.tan(e.phi),T=this.b/Math.sqrt(w*w+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-T*T)/(this.one_minus_f*T)),_&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function h1(t,e,n,r){var i;return t<bt?(r.value=Ae.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=Te?r.value=Ae.AREA_0:i>Te&&i<=ht+Te?(r.value=Ae.AREA_1,i-=ht):i>ht+Te||i<=-(ht+Te)?(r.value=Ae.AREA_2,i=i>=0?i-An:i+An):(r.value=Ae.AREA_3,i+=ht)),i}function hp(t,e){var n=t+e;return n<-An?n+=Bf:n>+An&&(n-=Bf),n}var Vnt=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Bnt={init:Unt,forward:Gnt,inverse:$nt,names:Vnt};var qE=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Qf=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],jk=.8487,Fk=1.3523,Uk=uo/5,znt=1/Uk,pp=18,p1=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Wnt=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function Hnt(t,e,n,r){for(var i=e;r;--r){var s=t(i);if(i-=s,Math.abs(s)<n)break}return i}function Ynt(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Znt(t){var e=_t(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*Uk);r<0?r=0:r>=pp&&(r=pp-1),n=uo*(n-znt*r);var i={x:p1(qE[r],n)*e,y:p1(Qf[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*jk+this.x0,i.y=i.y*this.a*Fk+this.y0,i}function Jnt(t){var e={x:(t.x-this.x0)/(this.a*jk),y:Math.abs(t.y-this.y0)/(this.a*Fk)};if(e.y>=1)e.x/=qE[pp][0],e.y=t.y<0?-ht:ht;else{var n=Math.floor(e.y*pp);for(n<0?n=0:n>=pp&&(n=pp-1);;)if(Qf[n][0]>e.y)--n;else if(Qf[n+1][0]<=e.y)++n;else break;var r=Qf[n],i=5*(e.y-r[0])/(Qf[n+1][0]-r[0]);i=Hnt(function(s){return(p1(r,s)-e.y)/Wnt(r,s)},i,bt,100),e.x/=p1(qE[n],i),e.y=(5*n+i)*sr,t.y<0&&(e.y=-e.y)}return e.x=_t(e.x+this.long0),e}var Xnt=["Robinson","robin"];const qnt={init:Ynt,forward:Znt,inverse:Jnt,names:Xnt};function Knt(){this.name="geocent"}function Qnt(t){var e=fk(t,this.es,this.a);return e}function trt(t){var e=mk(t,this.es,this.a,this.b);return e}var ert=["Geocentric","geocentric","geocent","Geocent"];const nrt={init:Knt,forward:Qnt,inverse:trt,names:ert};var br={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},tm={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function rrt(){if(Object.keys(tm).forEach(function(n){if(typeof this[n]>"u")this[n]=tm[n].def;else{if(tm[n].num&&isNaN(this[n]))throw new Error("Invalid parameter value, must be numeric "+n+" = "+this[n]);tm[n].num&&(this[n]=parseFloat(this[n]))}tm[n].degrees&&(this[n]=this[n]*sr)}.bind(this)),Math.abs(Math.abs(this.lat0)-ht)<bt?this.mode=this.lat0<0?br.S_POLE:br.N_POLE:Math.abs(this.lat0)<bt?this.mode=br.EQUIT:(this.mode=br.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function irt(t){t.x-=this.long0;var e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i,s;switch(this.mode){case br.OBLIQ:s=this.sinph0*e+this.cosph0*n*r;break;case br.EQUIT:s=n*r;break;case br.S_POLE:s=-e;break;case br.N_POLE:s=e;break}switch(s=this.pn1/(this.p-s),i=s*n*Math.sin(t.x),this.mode){case br.OBLIQ:s*=this.cosph0*e-this.sinph0*n*r;break;case br.EQUIT:s*=e;break;case br.N_POLE:s*=-(n*r);break;case br.S_POLE:s*=n*r;break}var o,a;return o=s*this.cg+i*this.sg,a=1/(o*this.sw*this.h1+this.cw),i=(i*this.cg-s*this.sg)*this.cw*a,s=o*a,t.x=i*this.a,t.y=s*this.a,t}function srt(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},n,r,i;i=1/(this.pn1-t.y*this.sw),n=this.pn1*t.x*i,r=this.pn1*t.y*this.cw*i,t.x=n*this.cg+r*this.sg,t.y=r*this.cg-n*this.sg;var s=qr(t.x,t.y);if(Math.abs(s)<bt)e.x=0,e.y=t.y;else{var o,a;switch(a=1-s*s*this.pfact,a=(this.p-Math.sqrt(a))/(this.pn1/s+s/this.pn1),o=Math.sqrt(1-a*a),this.mode){case br.OBLIQ:e.y=Math.asin(o*this.sinph0+t.y*a*this.cosph0/s),t.y=(o-this.sinph0*Math.sin(e.y))*s,t.x*=a*this.cosph0;break;case br.EQUIT:e.y=Math.asin(t.y*a/s),t.y=o*s,t.x*=a;break;case br.N_POLE:e.y=Math.asin(o),t.y=-t.y;break;case br.S_POLE:e.y=-Math.asin(o);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var ort=["Tilted_Perspective","tpers"];const art={init:rrt,forward:irt,inverse:srt,names:ort};function lrt(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function crt(t){var e=t.x,n=t.y,r,i,s,o;if(e=e-this.long0,this.shape==="ellipse"){n=Math.atan(this.radius_p2*Math.tan(n));var a=this.radius_p/qr(this.radius_p*Math.cos(n),Math.sin(n));if(i=a*Math.cos(e)*Math.cos(n),s=a*Math.sin(e)*Math.cos(n),o=a*Math.sin(n),(this.radius_g-i)*i-s*s-o*o*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/qr(o,r)),t.y=this.radius_g_1*Math.atan(o/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(o/qr(s,r)))}else this.shape==="sphere"&&(r=Math.cos(n),i=Math.cos(e)*r,s=Math.sin(e)*r,o=Math.sin(n),r=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(s/qr(o,r)),t.y=this.radius_g_1*Math.atan(o/r)):(t.x=this.radius_g_1*Math.atan(s/r),t.y=this.radius_g_1*Math.atan(o/qr(s,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function urt(t){var e=-1,n=0,r=0,i,s,o,a;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*qr(1,r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*qr(1,n));var l=r/this.radius_p;if(i=n*n+l*l+e*e,s=2*this.radius_g*e,o=s*s-4*i*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*i),e=this.radius_g+a*e,n*=a,r*=a,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),n=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(n=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+n*n)),i=n*n+r*r+e*e,s=2*this.radius_g*e,o=s*s-4*i*this.C,o<0)return t.x=Number.NaN,t.y=Number.NaN,t;a=(-s-Math.sqrt(o))/(2*i),e=this.radius_g+a*e,n*=a,r*=a,t.x=Math.atan2(n,e),t.y=Math.atan(r*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var hrt=["Geostationary Satellite View","Geostationary_Satellite","geos"];const prt={init:lrt,forward:crt,inverse:urt,names:hrt};var em=1.340264,nm=-.081106,rm=893e-6,im=.003796,d1=Math.sqrt(3)/2;function drt(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function frt(t){var e=_t(t.x-this.long0),n=t.y,r=Math.asin(d1*Math.sin(n)),i=r*r,s=i*i*i;return t.x=e*Math.cos(r)/(d1*(em+3*nm*i+s*(7*rm+9*im*i))),t.y=r*(em+nm*i+s*(rm+im*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function mrt(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,n=12,r=t.y,i,s,o,a,l,c;for(c=0;c<n&&(i=r*r,s=i*i*i,o=r*(em+nm*i+s*(rm+im*i))-t.y,a=em+3*nm*i+s*(7*rm+9*im*i),r-=l=o/a,!(Math.abs(l)<e));++c);return i=r*r,s=i*i*i,t.x=d1*t.x*(em+3*nm*i+s*(7*rm+9*im*i))/Math.cos(r),t.y=Math.asin(Math.sin(r)/d1),t.x=_t(t.x+this.long0),t}var yrt=["eqearth","Equal Earth","Equal_Earth"];const grt={init:drt,forward:frt,inverse:mrt,names:yrt};var sm=1e-10;function vrt(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<sm)throw new Error;this.es?(this.en=HE(this.es),this.m1=lp(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=_rt,this.forward=brt):(Math.abs(this.phi1)+sm>=ht?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=xrt,this.forward=wrt)}function brt(t){var e=_t(t.x-(this.long0||0)),n=t.y,r,i,s;return r=this.am1+this.m1-lp(n,i=Math.sin(n),s=Math.cos(n),this.en),i=s*e/(r*Math.sqrt(1-this.es*i*i)),t.x=r*Math.sin(i),t.y=this.am1-r*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function _rt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,r,i;if(n=qr(t.x,t.y=this.am1-t.y),i=YE(this.am1+this.m1-n,this.es,this.en),(e=Math.abs(i))<ht)e=Math.sin(i),r=n*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-ht)<=sm)r=0;else throw new Error;return t.x=_t(r+(this.long0||0)),t.y=gl(i),t}function wrt(t){var e=_t(t.x-(this.long0||0)),n=t.y,r,i;return i=this.cphi1+this.phi1-n,Math.abs(i)>sm?(t.x=i*Math.sin(r=e*Math.cos(n)/i),t.y=this.cphi1-i*Math.cos(r)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function xrt(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,n,r=qr(t.x,t.y=this.cphi1-t.y);if(n=this.cphi1+this.phi1-r,Math.abs(n)>ht)throw new Error;return Math.abs(Math.abs(n)-ht)<=sm?e=0:e=r*Math.atan2(t.x,t.y)/Math.cos(n),t.x=_t(e+(this.long0||0)),t.y=gl(n),t}var Ert=["bonne","Bonne (Werner lat_1=90)"];const Srt={init:vrt,names:Ert};function Trt(t){t.Proj.projections.add(l1),t.Proj.projections.add(c1),t.Proj.projections.add(gtt),t.Proj.projections.add(Itt),t.Proj.projections.add(ktt),t.Proj.projections.add(Ftt),t.Proj.projections.add(ztt),t.Proj.projections.add(Jtt),t.Proj.projections.add(tet),t.Proj.projections.add(set),t.Proj.projections.add(Eet),t.Proj.projections.add(Net),t.Proj.projections.add(Pet),t.Proj.projections.add($et),t.Proj.projections.add(Het),t.Proj.projections.add(qet),t.Proj.projections.add(nnt),t.Proj.projections.add(ant),t.Proj.projections.add(dnt),t.Proj.projections.add(vnt),t.Proj.projections.add(Ent),t.Proj.projections.add(Mnt),t.Proj.projections.add(knt),t.Proj.projections.add(Fnt),t.Proj.projections.add(Bnt),t.Proj.projections.add(qnt),t.Proj.projections.add(nrt),t.Proj.projections.add(art),t.Proj.projections.add(prt),t.Proj.projections.add(grt),t.Proj.projections.add(Srt)}$e.defaultDatum="WGS84",$e.Proj=fo,$e.WGS84=new $e.Proj("WGS84"),$e.Point=ap,$e.toPoint=bk,$e.defs=Cr,$e.nadgrid=bQ,$e.transform=a1,$e.mgrs=PQ,$e.version="__VERSION__",Trt($e);const Art="EPSG:4326";class Irt{espgWorker;constructor(){this.espgWorker=this.defaultEpsgLookup,$e.defs("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),$e.defs("EPSG:3979","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),$e.defs("EPSG:54004","+proj=merc +lon_0=0 +k=1 +x_0=0 +y_0=0 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"),$e.defs("EPSG:102100",$e.defs("EPSG:3857")),$e.defs("EPSG:102187","+proj=tmerc +lat_0=0 +lon_0=-114 +k=0.9999 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),$e.defs("EPSG:102190","+proj=aea +lat_1=50 +lat_2=58.5 +lat_0=45 +lon_0=-126 +x_0=1000000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs");let e=1;for(;e<=60;){const n=e<10?`0${e}`:e;$e.defs(`EPSG:326${n}`,`+proj=utm +zone=${e} +ellps=WGS84 +datum=WGS84 +units=m +no_defs`),e++}}addProjection(e,n){e=typeof e=="number"?`EPSG:${e}`:e,$e.defs(e,n)}defaultEpsgLookup(e){const n=/urn:ogc:def:crs:EPSG::(\d+)/,r=/EPSG:(\d+)/,i=String(e).match(n)||String(e).match(r)||[];if(i.length<2)throw new Error("Invalid code provided.");return new Promise((s,o)=>{const a=`https://epsg.io/${i[1]}.proj4`;Xe(a,{responseType:"text"}).then(l=>{l.data?s(l.data):o()},l=>{o(l)})})}epsgLookup(e){return this.espgWorker(e)}setEpsgLookup(e){this.espgWorker=e}normalizeProj(e){if(typeof e=="object"){if(e.wkid)return"EPSG:"+e.wkid;if(e.wkt)return e.wkt}else{if(typeof e=="number")return"EPSG:"+e;if(typeof e=="string")return e}throw new Error("Bad argument type, please provide a string, integer or SpatialReference object.")}async checkProj(e){let n,r="";try{n=this.normalizeProj(e)}catch{return!1}if(!n.startsWith("EPSG:"))return!0;typeof e=="object"&&e.latestWkid&&(r=this.normalizeProj(e.latestWkid));const i=(o,a)=>{o!==a&&$e.defs(a,$e.defs(o))};if($e.defs(n))return!0;if(r&&$e.defs(r))return i(r,n),!0;const s=async o=>{try{const a=await this.epsgLookup(o);return a===null||a===""?!1:($e.defs(o,a),!0)}catch{return!1}};return await(r?s(r):Promise.resolve(!1))?(i(r,n),!0):s(n)}async checkProjBomber(e){if(e.length>0){const n=e.pop();if(await this.checkProj(n))return this.checkProjBomber(e);throw console.error("Unable to parse or locate projection information for this item:",n),new Error("Could not find projection information, see console for details")}}async projectGeoJson(e,n,r){let i,s;if(n?i=this.normalizeProj(n):i=Vt.parseGeoJsonCrs(e.crs),r?s=this.normalizeProj(r):s=Art,s===i)return e;await this.checkProjBomber([i,s]);const o=$e(i,s).forward;return kK.Tools.applyConverter(e,o)}async projectGeometry(e,n){if(n.type===Xt.EXTENT)return this.projectExtent(e,n);await this.checkProjBomber([e,n.sr]);const r=n.toGeoJSON(),i=await this.projectGeoJson(r,this.normalizeProj(n.sr),this.normalizeProj(e)),s=$u.geom.geomGeoJsonToRamp(i,n.id);return s.sr=Vt.parseSR(e),s}async projectExtent(e,n){const r=(_,w,T)=>{if(T===0)return[_,w];const A=[(_[0]+w[0])/2,(_[1]+w[1])/2];if(T===1)return[_,A,w];if(T>1){const x=r(_,A,T-1),b=r(A,w,T-1);return x.concat(b.slice(1))}return[[]]},i=n.toPolygonArray().pop()||[];let s=[];[0,1,2,3].map(_=>r(i[_],i[_+1],3).slice(1)).forEach(_=>s=s.concat(_));const o=new hr("warpy",[s],n.sr,!0),a=await this.projectGeometry(e,o),l=a.toArray().pop()||[],c=l.map(_=>_[0]),p=l.map(_=>_[1]),d=Math.min.apply(null,c),f=Math.max.apply(null,c),y=Math.min.apply(null,p),g=Math.max.apply(null,p);return sn.fromParams(n.id+"_projected",d,y,f,g,a.sr)}}class Mrt{DEFAULT_MERCATOR="DEFAULT_ESRI_World_AuxMerc_3857";DEFAULT_LAMBERT="DEFAULT_NRCAN_Lambert_3978";proj;geom;sharedUtils;constructor(){this.proj=new Irt,this.geom=new MK,this.sharedUtils=new CK}defaultTileSchemas(){return[this.DEFAULT_LAMBERT,this.DEFAULT_MERCATOR]}defaultLODs(e){const n=r=>r.map(i=>({level:i[0],resolution:i[1],scale:i[2]}));if(e===this.DEFAULT_LAMBERT)return n([[0,38364.660062653464,145e6],[1,22489.62831258996,85e6],[2,13229.193125052918,5e7],[3,7937.5158750317505,3e7],[4,4630.2175937685215,175e5],[5,2645.8386250105837,1e7],[6,1587.5031750063501,6e6],[7,926.0435187537042,35e5],[8,529.1677250021168,2e6],[9,317.50063500127004,12e5],[10,185.20870375074085,7e5],[11,111.12522225044451,42e4],[12,66.1459656252646,25e4],[13,38.36466006265346,145e3],[14,22.48962831258996,85e3],[15,13.229193125052918,5e4],[16,7.9375158750317505,3e4],[17,4.6302175937685215,17500]]);if(e===this.DEFAULT_MERCATOR)return n([[0,19567.87924099992,73957190948944e-6],[1,9783.93962049996,36978595474472e-6],[2,4891.96981024998,18489297737236e-6],[3,2445.98490512499,9244648868618e-6],[4,1222.992452562495,4622324434309e-6],[5,611.4962262813797,2311162217155e-6],[6,305.74811314055756,1155581108577e-6],[7,152.87405657041106,577790.554289],[8,76.43702828507324,288895.277144],[9,38.21851414253662,144447.638572],[10,19.10925707126831,72223.819286],[11,9.554628535634155,36111.909643],[12,4.77731426794937,18055.954822],[13,2.388657133974685,9027.977411],[14,1.1943285668550503,4513.988705],[15,.5971642835598172,2256.994353],[16,.29858214164761665,1128.497176],[17,.14929107082380833,564.248588],[18,.07464553541190416,282.124294],[19,.03732276770595208,141.062147],[20,.01866138385297604,70.5310735]]);throw new Error(`Unknown tile schema key passed to LOD defaulter ${e}`)}}class In{$iApi;get $vApp(){return this.$iApi.$vApp}get $element(){return this.$iApi.$element}constructor(e){this.$iApi=e}}function Ort(t){return typeof t=="function"&&t.render&&typeof t.render=="function"}function Nrt(t){const e=["data","props","propsData","computed","methods","watch","template","render","components","model"];return typeof t=="object"&&!t.functional&&e.some(n=>t[n]!==void 0)}function Gk(t){return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string")&&Object.values(t).every(e=>e instanceof HTMLElement)}function Crt(t){return typeof t=="object"&&t.default!==void 0}var f1={exports:{}},$k;function Rrt(){if($k)return f1.exports;$k=1;function t(){}return t.prototype={on:function(e,n,r){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:n,ctx:r}),this},once:function(e,n,r){var i=this;function s(){i.off(e,s),n.apply(r,arguments)}return s._=n,this.on(e,s,r)},emit:function(e){var n=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),i=0,s=r.length;for(i;i<s;i++)r[i].fn.apply(r[i].ctx,n);return this},off:function(e,n){var r=this.e||(this.e={}),i=r[e],s=[];if(i&&n)for(var o=0,a=i.length;o<a;o++)i[o].fn!==n&&i[o].fn._!==n&&s.push(i[o]);return s.length?r[e]=s:delete r[e],this}},f1.exports=t,f1.exports.TinyEmitter=t,f1.exports}var krt=Rrt();function yi(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const ce={},dp=[],or=()=>{},om=()=>!1,ru=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),KE=t=>t.startsWith("onUpdate:"),he=Object.assign,QE=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Lrt=Object.prototype.hasOwnProperty,we=(t,e)=>Lrt.call(t,e),Et=Array.isArray,fp=t=>mp(t)==="[object Map]",iu=t=>mp(t)==="[object Set]",Vk=t=>mp(t)==="[object Date]",Prt=t=>mp(t)==="[object RegExp]",Ft=t=>typeof t=="function",Ht=t=>typeof t=="string",gi=t=>typeof t=="symbol",ke=t=>t!==null&&typeof t=="object",t3=t=>(ke(t)||Ft(t))&&Ft(t.then)&&Ft(t.catch),Bk=Object.prototype.toString,mp=t=>Bk.call(t),Drt=t=>mp(t).slice(8,-1),m1=t=>mp(t)==="[object Object]",e3=t=>Ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_l=yi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jrt=yi("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),y1=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Frt=/-(\w)/g,tn=y1(t=>t.replace(Frt,(e,n)=>n?n.toUpperCase():"")),Urt=/\B([A-Z])/g,Kr=y1(t=>t.replace(Urt,"-$1").toLowerCase()),wl=y1(t=>t.charAt(0).toUpperCase()+t.slice(1)),su=y1(t=>t?`on${wl(t)}`:""),kr=(t,e)=>!Object.is(t,e),yp=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},zk=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},g1=t=>{const e=parseFloat(t);return isNaN(e)?t:e},v1=t=>{const e=Ht(t)?Number(t):NaN;return isNaN(e)?t:e};let Wk;const Hk=()=>Wk||(Wk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Grt(t,e){return t+JSON.stringify(e,(n,r)=>typeof r=="function"?r.toString():r)}const $rt="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",Vrt=yi($rt);function ta(t){if(Et(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Ht(r)?Yk(r):ta(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Ht(t)||ke(t))return t}const Brt=/;(?![^(]*\))/g,zrt=/:([^]+)/,Wrt=/\/\*[^]*?\*\//g;function Yk(t){const e={};return t.replace(Wrt,"").split(Brt).forEach(n=>{if(n){const r=n.split(zrt);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function un(t){let e="";if(Ht(t))e=t;else if(Et(t))for(let n=0;n<t.length;n++){const r=un(t[n]);r&&(e+=r+" ")}else if(ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Zk(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ht(e)&&(t.class=un(e)),n&&(t.style=ta(n)),t}const Hrt="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Yrt="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Zrt="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Jrt="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Xrt=yi(Hrt),qrt=yi(Yrt),Krt=yi(Zrt),Qrt=yi(Jrt),tit="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eit=yi(tit);function Jk(t){return!!t||t===""}function nit(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=xl(t[r],e[r]);return n}function xl(t,e){if(t===e)return!0;let n=Vk(t),r=Vk(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=gi(t),r=gi(e),n||r)return t===e;if(n=Et(t),r=Et(e),n||r)return n&&r?nit(t,e):!1;if(n=ke(t),r=ke(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!xl(t[o],e[o]))return!1}}return String(t)===String(e)}function b1(t,e){return t.findIndex(n=>xl(n,e))}const Xk=t=>!!(t&&t.__v_isRef===!0),Ve=t=>Ht(t)?t:t==null?"":Et(t)||ke(t)&&(t.toString===Bk||!Ft(t.toString))?Xk(t)?Ve(t.value):JSON.stringify(t,qk,2):String(t),qk=(t,e)=>Xk(e)?qk(t,e.value):fp(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[n3(r,s)+" =>"]=i,n),{})}:iu(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>n3(n))}:gi(e)?n3(e):ke(e)&&!Et(e)&&!m1(e)?String(e):e,n3=(t,e="")=>{var n;return gi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};var rit={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"828",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6691",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12598303198",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/rastice",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IERpc3RyaWJ1dGVkVGFzay5HZW5lcmF0ZUlkVG9rZW46ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBMb2NhdGlvblNlcnZpY2UuQ29ubmVjdCBSZWFkQW5kVXBkYXRlQnVpbGRCeVVyaTowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IiwiSWRlbnRpdHlUeXBlQ2xhaW0iOiJTeXN0ZW06U2VydmljZUlkZW50aXR5IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiREREREREREQtRERERC1ERERELUREREQtREREREREREREREREIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiYXVpIjoiNzA4ZTJjNTEtNjZiNC00MzdlLWFkNGYtZDJiY2RmOGJkMzBjIiwic2lkIjoiODZiOGQ2NDAtMmJmMS00ZGMwLTkyNDMtMmQyMGM2OGY0NDk0IiwiYWMiOiJbe1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvcmFzdGljZVwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJvaWRjX2V4dHJhIjoie1wicmVmXCI6XCJyZWZzL2hlYWRzL3Jhc3RpY2VcIixcInNoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicmVwb3NpdG9yeVwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJqYW1lcy1yYWVcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjc1ODUyNDVcIixcInJ1bl9pZFwiOlwiMTI1OTgzMDMxOThcIixcInJ1bl9udW1iZXJcIjpcIjkyXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJ3b3JrZmxvd19yZWZcIjpcImphbWVzLXJhZS9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL3Jhc3RpY2VcIixcIndvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvcmFzdGljZVwiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoaWQiOiJlOTljZThmOC02YzMwLTRlNjEtYTBkNS00NzJmMWQ1NTQxYmEuYnVpbGQuX19kZWZhdWx0IiwiaXNzIjoidnN0b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImF1ZCI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb218dnNvOjU4YjIzOGVhLTc0YjctNGFjNi05MTY5LWIzYmZhNzhlYzMxMiIsIm5iZiI6MTczNTkwOTU5NiwiZXhwIjoxNzM1OTMyMzk2fQ.oTuLGumJ9eb05SPgL7X9i9vN3iOxDsfPaum7NE-O5VwhieWH0Chb9mDIIhT61-AvFaAWhQh8ChkPIxAeSkiKDYkYcMuGH8-N6nxqvx2NYkKyN8ZerZ6TH9_37xg4Z6_QsnI0B5MAP4R9vNiaN2RnTwtst3koG7ZGoVk6UMNnD69MPJZ3r8xRP8NrnBCR-8g9fmp8aTMJzzPLLMcaGfdMPW9YWZCqq0adb9zgMYhL8d7x5PUKnH0EErgKZf02X8lZMD3Klnu-5hgkYKFbNFz7jqHt2zLtfi1Waw871z9A-Yj2d8YlEzXNfkeWQa7FjyatrB1M7J5o5RvEBZRddpbC-w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_29fd7f6e-e4c4-41e7-9ea5-1f8dd7072e90",INVOCATION_ID:"66b4c5e5794041008066eb3488e2f114",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"92",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 9",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"rastice",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.11.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/rastice",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus23.actions.githubusercontent.com/QK0qIqlo3r9YNWIQ9RWnYl2JYKdlddRfoYwI7wqcIcmuhIPqfK/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e99ce8f8-6c30-4e61-a0d5-472f1d5541ba/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let Lr;class _1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Lr,!e&&Lr&&(this.index=(Lr.scopes||(Lr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Lr;try{return Lr=this,e()}finally{Lr=n}}}on(){Lr=this}off(){Lr=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function am(t){return new _1(t)}function w1(){return Lr}function r3(t,e=!1){Lr&&Lr.cleanups.push(t)}let He;const i3=new WeakSet;class gp{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Lr&&Lr.active&&Lr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,i3.has(this)&&(i3.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qk(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,o6(this),t6(this);const e=He,n=As;He=this,As=!0;try{return this.fn()}finally{e6(this),He=e,As=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)l3(e);this.deps=this.depsTail=void 0,o6(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?i3.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){a3(this)&&this.run()}get dirty(){return a3(this)}}let Kk=0,vp;function Qk(t){t.flags|=8,t.next=vp,vp=t}function s3(){Kk++}function o3(){if(--Kk>0)return;let t;for(;vp;){let e=vp,n;for(;e;)e.flags&=-9,e=e.next;for(e=vp,vp=void 0;e;){if(e.flags&1)try{e.trigger()}catch(r){t||(t=r)}n=e.next,e.next=void 0,e=n}}if(t)throw t}function t6(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function e6(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),l3(r),iit(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function a3(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(n6(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function n6(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===lm))return;t.globalVersion=lm;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!a3(t)){t.flags&=-3;return}const n=He,r=As;He=t,As=!0;try{t6(t);const i=t.fn(t._value);(e.version===0||kr(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{He=n,As=r,e6(t),t.flags&=-3}}function l3(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r),!n.subs&&n.computed){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)l3(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function iit(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function r6(t,e){t.effect instanceof gp&&(t=t.effect.fn);const n=new gp(t);e&&he(n,e);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r}function i6(t){t.effect.stop()}let As=!0;const s6=[];function ea(){s6.push(As),As=!1}function na(){const t=s6.pop();As=t===void 0?!0:t}function o6(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=He;He=void 0;try{e()}finally{He=n}}}let lm=0;class sit{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class x1{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!He||!As||He===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==He)n=this.activeLink=new sit(He,this),He.deps?(n.prevDep=He.depsTail,He.depsTail.nextDep=n,He.depsTail=n):He.deps=He.depsTail=n,a6(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=He.depsTail,n.nextDep=void 0,He.depsTail.nextDep=n,He.depsTail=n,He.deps===n&&(He.deps=r)}return n}trigger(e){this.version++,lm++,this.notify(e)}notify(e){s3();try{rit.NODE_ENV;for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{o3()}}}function a6(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)a6(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const E1=new WeakMap,ou=Symbol(""),c3=Symbol(""),cm=Symbol("");function _r(t,e,n){if(As&&He){let r=E1.get(t);r||E1.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new x1),i.target=t,i.map=r,i.key=n),i.track()}}function ra(t,e,n,r,i,s){const o=E1.get(t);if(!o){lm++;return}const a=l=>{l&&l.trigger()};if(s3(),e==="clear")o.forEach(a);else{const l=Et(t),c=l&&e3(n);if(l&&n==="length"){const p=Number(r);o.forEach((d,f)=>{(f==="length"||f===cm||!gi(f)&&f>=p)&&a(d)})}else switch(n!==void 0&&a(o.get(n)),c&&a(o.get(cm)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ou)),fp(t)&&a(o.get(c3)));break;case"delete":l||(a(o.get(ou)),fp(t)&&a(o.get(c3)));break;case"set":fp(t)&&a(o.get(ou));break}}o3()}function oit(t,e){const n=E1.get(t);return n&&n.get(e)}function bp(t){const e=Gt(t);return e===t?e:(_r(e,"iterate",cm),Qr(t)?e:e.map(wr))}function S1(t){return _r(t=Gt(t),"iterate",cm),t}const ait={__proto__:null,[Symbol.iterator](){return u3(this,Symbol.iterator,wr)},concat(...t){return bp(this).concat(...t.map(e=>Et(e)?bp(e):e))},entries(){return u3(this,"entries",t=>(t[1]=wr(t[1]),t))},every(t,e){return ia(this,"every",t,e,void 0,arguments)},filter(t,e){return ia(this,"filter",t,e,n=>n.map(wr),arguments)},find(t,e){return ia(this,"find",t,e,wr,arguments)},findIndex(t,e){return ia(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ia(this,"findLast",t,e,wr,arguments)},findLastIndex(t,e){return ia(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ia(this,"forEach",t,e,void 0,arguments)},includes(...t){return h3(this,"includes",t)},indexOf(...t){return h3(this,"indexOf",t)},join(t){return bp(this).join(t)},lastIndexOf(...t){return h3(this,"lastIndexOf",t)},map(t,e){return ia(this,"map",t,e,void 0,arguments)},pop(){return um(this,"pop")},push(...t){return um(this,"push",t)},reduce(t,...e){return l6(this,"reduce",t,e)},reduceRight(t,...e){return l6(this,"reduceRight",t,e)},shift(){return um(this,"shift")},some(t,e){return ia(this,"some",t,e,void 0,arguments)},splice(...t){return um(this,"splice",t)},toReversed(){return bp(this).toReversed()},toSorted(t){return bp(this).toSorted(t)},toSpliced(...t){return bp(this).toSpliced(...t)},unshift(...t){return um(this,"unshift",t)},values(){return u3(this,"values",wr)}};function u3(t,e,n){const r=S1(t),i=r[e]();return r!==t&&!Qr(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const lit=Array.prototype;function ia(t,e,n,r,i,s){const o=S1(t),a=o!==t&&!Qr(t),l=o[e];if(l!==lit[e]){const d=l.apply(t,s);return a?wr(d):d}let c=n;o!==t&&(a?c=function(d,f){return n.call(this,wr(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const p=l.call(o,c,r);return a&&i?i(p):p}function l6(t,e,n,r){const i=S1(t);let s=n;return i!==t&&(Qr(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,wr(a),l,t)}),i[e](s,...r)}function h3(t,e,n){const r=Gt(t);_r(r,"iterate",cm);const i=r[e](...n);return(i===-1||i===!1)&&hm(n[0])?(n[0]=Gt(n[0]),r[e](...n)):i}function um(t,e,n=[]){ea(),s3();const r=Gt(t)[e].apply(t,n);return o3(),na(),r}const cit=yi("__proto__,__v_isRef,__isVue"),c6=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gi));function uit(t){gi(t)||(t=String(t));const e=Gt(this);return _r(e,"has",t),e.hasOwnProperty(t)}class u6{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?_6:b6:s?v6:g6).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=Et(e);if(!i){let l;if(o&&(l=ait[n]))return l;if(n==="hasOwnProperty")return uit}const a=Reflect.get(e,n,pe(e)?e:r);return(gi(n)?c6.has(n):cit(n))||(i||_r(e,"get",n),s)?a:pe(a)?o&&e3(n)?a:a.value:ke(a)?i?R1(a):jn(a):a}}class h6 extends u6{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=sa(s);if(!Qr(r)&&!sa(r)&&(s=Gt(s),r=Gt(r)),!Et(e)&&pe(s)&&!pe(r))return l?!1:(s.value=r,!0)}const o=Et(e)&&e3(n)?Number(n)<e.length:we(e,n),a=Reflect.set(e,n,r,pe(e)?e:i);return e===Gt(i)&&(o?kr(r,s)&&ra(e,"set",n,r):ra(e,"add",n,r)),a}deleteProperty(e,n){const r=we(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&ra(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!gi(n)||!c6.has(n))&&_r(e,"has",n),r}ownKeys(e){return _r(e,"iterate",Et(e)?"length":ou),Reflect.ownKeys(e)}}class p6 extends u6{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const hit=new h6,pit=new p6,dit=new h6(!0),fit=new p6(!0),p3=t=>t,T1=t=>Reflect.getPrototypeOf(t);function A1(t,e,n=!1,r=!1){t=t.__v_raw;const i=Gt(t),s=Gt(e);n||(kr(e,s)&&_r(i,"get",e),_r(i,"get",s));const{has:o}=T1(i),a=r?p3:n?f3:wr;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function I1(t,e=!1){const n=this.__v_raw,r=Gt(n),i=Gt(t);return e||(kr(t,i)&&_r(r,"has",t),_r(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function M1(t,e=!1){return t=t.__v_raw,!e&&_r(Gt(t),"iterate",ou),Reflect.get(t,"size",t)}function d6(t,e=!1){!e&&!Qr(t)&&!sa(t)&&(t=Gt(t));const n=Gt(this);return T1(n).has.call(n,t)||(n.add(t),ra(n,"add",t,t)),this}function f6(t,e,n=!1){!n&&!Qr(e)&&!sa(e)&&(e=Gt(e));const r=Gt(this),{has:i,get:s}=T1(r);let o=i.call(r,t);o||(t=Gt(t),o=i.call(r,t));const a=s.call(r,t);return r.set(t,e),o?kr(e,a)&&ra(r,"set",t,e):ra(r,"add",t,e),this}function m6(t){const e=Gt(this),{has:n,get:r}=T1(e);let i=n.call(e,t);i||(t=Gt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&ra(e,"delete",t,void 0),s}function y6(){const t=Gt(this),e=t.size!==0,n=t.clear();return e&&ra(t,"clear",void 0,void 0),n}function O1(t,e){return function(n,r){const i=this,s=i.__v_raw,o=Gt(s),a=e?p3:t?f3:wr;return!t&&_r(o,"iterate",ou),s.forEach((l,c)=>n.call(r,a(l),a(c),i))}}function N1(t,e,n){return function(...r){const i=this.__v_raw,s=Gt(i),o=fp(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),p=n?p3:e?f3:wr;return!e&&_r(s,"iterate",l?c3:ou),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[p(d[0]),p(d[1])]:p(d),done:f}},[Symbol.iterator](){return this}}}}function El(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function mit(){const t={get(i){return A1(this,i)},get size(){return M1(this)},has:I1,add:d6,set:f6,delete:m6,clear:y6,forEach:O1(!1,!1)},e={get(i){return A1(this,i,!1,!0)},get size(){return M1(this)},has:I1,add(i){return d6.call(this,i,!0)},set(i,s){return f6.call(this,i,s,!0)},delete:m6,clear:y6,forEach:O1(!1,!0)},n={get(i){return A1(this,i,!0)},get size(){return M1(this,!0)},has(i){return I1.call(this,i,!0)},add:El("add"),set:El("set"),delete:El("delete"),clear:El("clear"),forEach:O1(!0,!1)},r={get(i){return A1(this,i,!0,!0)},get size(){return M1(this,!0)},has(i){return I1.call(this,i,!0)},add:El("add"),set:El("set"),delete:El("delete"),clear:El("clear"),forEach:O1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=N1(i,!1,!1),n[i]=N1(i,!0,!1),e[i]=N1(i,!1,!0),r[i]=N1(i,!0,!0)}),[t,n,e,r]}const[yit,git,vit,bit]=mit();function C1(t,e){const n=e?t?bit:vit:t?git:yit;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(we(n,i)&&i in r?n:r,i,s)}const _it={get:C1(!1,!1)},wit={get:C1(!1,!0)},xit={get:C1(!0,!1)},Eit={get:C1(!0,!0)},g6=new WeakMap,v6=new WeakMap,b6=new WeakMap,_6=new WeakMap;function Sit(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tit(t){return t.__v_skip||!Object.isExtensible(t)?0:Sit(Drt(t))}function jn(t){return sa(t)?t:k1(t,!1,hit,_it,g6)}function d3(t){return k1(t,!1,dit,wit,v6)}function R1(t){return k1(t,!0,pit,xit,b6)}function _p(t){return k1(t,!0,fit,Eit,_6)}function k1(t,e,n,r,i){if(!ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=Tit(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function vi(t){return sa(t)?vi(t.__v_raw):!!(t&&t.__v_isReactive)}function sa(t){return!!(t&&t.__v_isReadonly)}function Qr(t){return!!(t&&t.__v_isShallow)}function hm(t){return t?!!t.__v_raw:!1}function Gt(t){const e=t&&t.__v_raw;return e?Gt(e):t}function _n(t){return!we(t,"__v_skip")&&Object.isExtensible(t)&&zk(t,"__v_skip",!0),t}const wr=t=>ke(t)?jn(t):t,f3=t=>ke(t)?R1(t):t;function pe(t){return t?t.__v_isRef===!0:!1}function tt(t){return w6(t,!1)}function wp(t){return w6(t,!0)}function w6(t,e){return pe(t)?t:new Ait(t,e)}class Ait{constructor(e,n){this.dep=new x1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Gt(e),this._value=n?e:wr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Qr(e)||sa(e);e=r?e:Gt(e),kr(e,n)&&(this._rawValue=e,this._value=r?e:wr(e),this.dep.trigger())}}function x6(t){t.dep&&t.dep.trigger()}function It(t){return pe(t)?t.value:t}function E6(t){return Ft(t)?t():It(t)}const Iit={get:(t,e,n)=>e==="__v_raw"?t:It(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return pe(i)&&!pe(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function L1(t){return vi(t)?t:new Proxy(t,Iit)}class Mit{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new x1,{get:r,set:i}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function m3(t){return new Mit(t)}function P1(t){const e=Et(t)?new Array(t.length):{};for(const n in t)e[n]=S6(t,n);return e}class Oit{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return oit(Gt(this._object),this._key)}}class Nit{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function y3(t,e,n){return pe(t)?t:Ft(t)?new Nit(t):ke(t)&&arguments.length>1?S6(t,e,n):tt(t)}function S6(t,e,n){const r=t[e];return pe(r)?r:new Oit(t,e,n)}class Cit{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new x1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=lm-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&He!==this)return Qk(this),!0}get value(){const e=this.dep.track();return n6(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Rit(t,e,n=!1){let r,i;return Ft(t)?r=t:(r=t.get,i=t.set),new Cit(r,i,n)}const T6={GET:"get",HAS:"has",ITERATE:"iterate"},A6={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},D1={},j1=new WeakMap;let Sl;function I6(){return Sl}function g3(t,e=!1,n=Sl){if(n){let r=j1.get(n);r||j1.set(n,r=[]),r.push(t)}}function kit(t,e,n=ce){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=b=>i?b:Qr(b)||i===!1||i===0?oa(b,1):oa(b);let p,d,f,y,g=!1,_=!1;if(pe(t)?(d=()=>t.value,g=Qr(t)):vi(t)?(d=()=>c(t),g=!0):Et(t)?(_=!0,g=t.some(b=>vi(b)||Qr(b)),d=()=>t.map(b=>{if(pe(b))return b.value;if(vi(b))return c(b);if(Ft(b))return l?l(b,2):b()})):Ft(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){ea();try{f()}finally{na()}}const b=Sl;Sl=p;try{return l?l(t,3,[y]):t(y)}finally{Sl=b}}:d=or,e&&i){const b=d,I=i===!0?1/0:i;d=()=>oa(b(),I)}const w=w1(),T=()=>{p.stop(),w&&QE(w.effects,p)};if(s&&e){const b=e;e=(...I)=>{b(...I),T()}}let A=_?new Array(t.length).fill(D1):D1;const x=b=>{if(!(!(p.flags&1)||!p.dirty&&!b))if(e){const I=p.run();if(i||g||(_?I.some((N,R)=>kr(N,A[R])):kr(I,A))){f&&f();const N=Sl;Sl=p;try{const R=[I,A===D1?void 0:_&&A[0]===D1?[]:A,y];l?l(e,3,R):e(...R),A=I}finally{Sl=N}}}else p.run()};return a&&a(x),p=new gp(d),p.scheduler=o?()=>o(x,!1):x,y=b=>g3(b,!1,p),f=p.onStop=()=>{const b=j1.get(p);if(b){if(l)l(b,4);else for(const I of b)I();j1.delete(p)}},e?r?x(!0):A=p.run():o?o(x.bind(null,!0),!0):p.run(),T.pause=p.pause.bind(p),T.resume=p.resume.bind(p),T.stop=T,T}function oa(t,e=1/0,n){if(e<=0||!ke(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,pe(t))oa(t.value,e,n);else if(Et(t))for(let r=0;r<t.length;r++)oa(t[r],e,n);else if(iu(t)||fp(t))t.forEach(r=>{oa(r,e,n)});else if(m1(t)){for(const r in t)oa(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&oa(t[r],e,n)}return t}var Tl={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"828",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6691",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12598303198",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/rastice",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IERpc3RyaWJ1dGVkVGFzay5HZW5lcmF0ZUlkVG9rZW46ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBMb2NhdGlvblNlcnZpY2UuQ29ubmVjdCBSZWFkQW5kVXBkYXRlQnVpbGRCeVVyaTowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IiwiSWRlbnRpdHlUeXBlQ2xhaW0iOiJTeXN0ZW06U2VydmljZUlkZW50aXR5IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiREREREREREQtRERERC1ERERELUREREQtREREREREREREREREIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiYXVpIjoiNzA4ZTJjNTEtNjZiNC00MzdlLWFkNGYtZDJiY2RmOGJkMzBjIiwic2lkIjoiODZiOGQ2NDAtMmJmMS00ZGMwLTkyNDMtMmQyMGM2OGY0NDk0IiwiYWMiOiJbe1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvcmFzdGljZVwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJvaWRjX2V4dHJhIjoie1wicmVmXCI6XCJyZWZzL2hlYWRzL3Jhc3RpY2VcIixcInNoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicmVwb3NpdG9yeVwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJqYW1lcy1yYWVcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjc1ODUyNDVcIixcInJ1bl9pZFwiOlwiMTI1OTgzMDMxOThcIixcInJ1bl9udW1iZXJcIjpcIjkyXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJ3b3JrZmxvd19yZWZcIjpcImphbWVzLXJhZS9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL3Jhc3RpY2VcIixcIndvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvcmFzdGljZVwiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoaWQiOiJlOTljZThmOC02YzMwLTRlNjEtYTBkNS00NzJmMWQ1NTQxYmEuYnVpbGQuX19kZWZhdWx0IiwiaXNzIjoidnN0b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImF1ZCI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb218dnNvOjU4YjIzOGVhLTc0YjctNGFjNi05MTY5LWIzYmZhNzhlYzMxMiIsIm5iZiI6MTczNTkwOTU5NiwiZXhwIjoxNzM1OTMyMzk2fQ.oTuLGumJ9eb05SPgL7X9i9vN3iOxDsfPaum7NE-O5VwhieWH0Chb9mDIIhT61-AvFaAWhQh8ChkPIxAeSkiKDYkYcMuGH8-N6nxqvx2NYkKyN8ZerZ6TH9_37xg4Z6_QsnI0B5MAP4R9vNiaN2RnTwtst3koG7ZGoVk6UMNnD69MPJZ3r8xRP8NrnBCR-8g9fmp8aTMJzzPLLMcaGfdMPW9YWZCqq0adb9zgMYhL8d7x5PUKnH0EErgKZf02X8lZMD3Klnu-5hgkYKFbNFz7jqHt2zLtfi1Waw871z9A-Yj2d8YlEzXNfkeWQa7FjyatrB1M7J5o5RvEBZRddpbC-w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_29fd7f6e-e4c4-41e7-9ea5-1f8dd7072e90",INVOCATION_ID:"66b4c5e5794041008066eb3488e2f114",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"92",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 9",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"rastice",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.11.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/rastice",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus23.actions.githubusercontent.com/QK0qIqlo3r9YNWIQ9RWnYl2JYKdlddRfoYwI7wqcIcmuhIPqfK/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e99ce8f8-6c30-4e61-a0d5-472f1d5541ba/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const au=[];function Lit(t){au.push(t)}function Pit(){au.pop()}let v3=!1;function Dit(t,...e){if(v3)return;v3=!0,ea();const n=au.length?au[au.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=jit();if(r)Al(r,n,11,[t+e.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),n&&n.proxy,i.map(({vnode:s})=>`at <${s8(n,s.type)}>`).join(`
`),i]);else{const s=[`[Vue warn]: ${t}`,...e];i.length&&s.push(`
`,...Fit(i)),console.warn(...s)}na(),v3=!1}function jit(){let t=au[au.length-1];if(!t)return[];const e=[];for(;t;){const n=e[0];n&&n.vnode===t?n.recurseCount++:e.push({vnode:t,recurseCount:0});const r=t.component&&t.component.parent;t=r&&r.vnode}return e}function Fit(t){const e=[];return t.forEach((n,r)=>{e.push(...r===0?[]:[`
`],...Uit(n))}),e}function Uit({vnode:t,recurseCount:e}){const n=e>0?`... (${e} recursive calls)`:"",r=t.component?t.component.parent==null:!1,i=` at <${s8(t.component,t.type,r)}`,s=">"+n;return t.props?[i,...Git(t.props),s]:[i+s]}function Git(t){const e=[],n=Object.keys(t);return n.slice(0,3).forEach(r=>{e.push(...M6(r,t[r]))}),n.length>3&&e.push(" ..."),e}function M6(t,e,n){return Ht(e)?(e=JSON.stringify(e),n?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?n?e:[`${t}=${e}`]:pe(e)?(e=M6(t,Gt(e.value),!0),n?e:[`${t}=Ref<`,e,">"]):Ft(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=Gt(e),n?e:[`${t}=`,e])}function O6(t,e){}const N6={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},$it={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Al(t,e,n,r){try{return r?t(...r):t()}catch(i){Il(i,e,n)}}function bi(t,e,n,r){if(Ft(t)){const i=Al(t,e,n,r);return i&&t3(i)&&i.catch(s=>{Il(s,e,n)}),i}if(Et(t)){const i=[];for(let s=0;s<t.length;s++)i.push(bi(t[s],e,n,r));return i}}function Il(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ce;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const p=a.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,l,c)===!1)return}a=a.parent}if(s){ea(),Al(s,null,10,[t,l,c]),na();return}}Vit(t,n,i,r,o)}function Vit(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}let pm=!1,b3=!1;const Pr=[];let mo=0;const xp=[];let Ml=null,Ep=0;const C6=Promise.resolve();let _3=null;function Wi(t){const e=_3||C6;return t?e.then(this?t.bind(this):t):e}function Bit(t){let e=pm?mo+1:0,n=Pr.length;for(;e<n;){const r=e+n>>>1,i=Pr[r],s=fm(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function w3(t){if(!(t.flags&1)){const e=fm(t),n=Pr[Pr.length-1];!n||!(t.flags&2)&&e>=fm(n)?Pr.push(t):Pr.splice(Bit(e),0,t),t.flags|=1,R6()}}function R6(){!pm&&!b3&&(b3=!0,_3=C6.then(L6))}function dm(t){Et(t)?xp.push(...t):Ml&&t.id===-1?Ml.splice(Ep+1,0,t):t.flags&1||(xp.push(t),t.flags|=1),R6()}function k6(t,e,n=pm?mo+1:0){for(;n<Pr.length;n++){const r=Pr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Pr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function F1(t){if(xp.length){const e=[...new Set(xp)].sort((n,r)=>fm(n)-fm(r));if(xp.length=0,Ml){Ml.push(...e);return}for(Ml=e,Ep=0;Ep<Ml.length;Ep++){const n=Ml[Ep];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ml=null,Ep=0}}const fm=t=>t.id==null?t.flags&2?-1:1/0:t.id;function L6(t){b3=!1,pm=!0;const e=or;try{for(mo=0;mo<Pr.length;mo++){const n=Pr[mo];n&&!(n.flags&8)&&(Tl.NODE_ENV!=="production"&&e(n),n.flags&4&&(n.flags&=-2),Al(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;mo<Pr.length;mo++){const n=Pr[mo];n&&(n.flags&=-2)}mo=0,Pr.length=0,F1(),pm=!1,_3=null,(Pr.length||xp.length)&&L6()}}let Sp,U1=[];function P6(t,e){var n,r;Sp=t,Sp?(Sp.enabled=!0,U1.forEach(({event:i,args:s})=>Sp.emit(i,...s)),U1=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{P6(i,e)}),setTimeout(()=>{Sp||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,U1=[])},3e3)):U1=[]}let Hn=null,G1=null;function mm(t){const e=Hn;return Hn=t,G1=t&&t.type.__scopeId||null,e}function D6(t){G1=t}function j6(){G1=null}const F6=t=>wn;function wn(t,e=Hn,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&ov(-1);const s=mm(e);let o;try{o=t(...i)}finally{mm(s),r._d&&ov(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ie(t,e){if(Hn===null)return t;const n=Om(Hn),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=ce]=e[i];s&&(Ft(s)&&(s={mounted:s,updated:s}),s.deep&&oa(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function yo(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(ea(),bi(l,n,8,[t.el,a,t,e]),na())}}const U6=Symbol("_vte"),G6=t=>t.__isTeleport,ym=t=>t&&(t.disabled||t.disabled===""),zit=t=>t&&(t.defer||t.defer===""),$6=t=>typeof SVGElement<"u"&&t instanceof SVGElement,V6=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,x3=(t,e)=>{const n=t&&t.to;return Ht(n)?e?e(n):null:n},Wit={name:"Teleport",__isTeleport:!0,process(t,e,n,r,i,s,o,a,l,c){const{mc:p,pc:d,pbc:f,o:{insert:y,querySelector:g,createText:_,createComment:w}}=c,T=ym(e.props);let{shapeFlag:A,children:x,dynamicChildren:b}=e;if(t==null){const I=e.el=_(""),N=e.anchor=_("");y(I,n,r),y(N,n,r);const R=(D,B)=>{A&16&&(i&&i.isCE&&(i.ce._teleportTarget=D),p(x,D,B,i,s,o,a,l))},P=()=>{const D=e.target=x3(e.props,g),B=B6(D,e,_,y);D&&(o!=="svg"&&$6(D)?o="svg":o!=="mathml"&&V6(D)&&(o="mathml"),T||(R(D,B),V1(e)))};T&&(R(n,N),V1(e)),zit(e.props)?Qn(P,s):P()}else{e.el=t.el,e.targetStart=t.targetStart;const I=e.anchor=t.anchor,N=e.target=t.target,R=e.targetAnchor=t.targetAnchor,P=ym(t.props),D=P?n:N,B=P?I:R;if(o==="svg"||$6(N)?o="svg":(o==="mathml"||V6(N))&&(o="mathml"),b?(f(t.dynamicChildren,b,D,i,s,o,a),X3(t,e,!0)):l||d(t,e,D,B,i,s,o,a,!1),T)P?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):$1(e,n,I,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=x3(e.props,g);$&&$1(e,$,null,c,0)}else P&&$1(e,N,R,c,1);V1(e)}},remove(t,e,n,{um:r,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:p,target:d,props:f}=t;if(d&&(i(c),i(p)),s&&i(l),o&16){const y=s||!ym(f);for(let g=0;g<a.length;g++){const _=a[g];r(_,e,n,y,!!_.dynamicChildren)}}},move:$1,hydrate:Hit};function $1(t,e,n,{o:{insert:r},m:i},s=2){s===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:p}=t,d=s===2;if(d&&r(o,e,n),(!d||ym(p))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,n,2);d&&r(a,e,n)}function Hit(t,e,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:p}},d){const f=e.target=x3(e.props,l);if(f){const y=f._lpa||f.firstChild;if(e.shapeFlag&16)if(ym(e.props))e.anchor=d(o(t),e,a(t),n,r,i,s),e.targetStart=y,e.targetAnchor=y&&o(y);else{e.anchor=o(t);let g=y;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}g=o(g)}e.targetAnchor||B6(f,e,p,c),d(y&&o(y),e,f,n,r,i,s)}V1(e)}return e.anchor&&o(e.anchor)}const E3=Wit;function V1(t){const e=t.ctx;if(e&&e.ut){let n=t.targetStart;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}function B6(t,e,n,r){const i=e.targetStart=n(""),s=e.targetAnchor=n("");return i[U6]=s,t&&(r(i,t),r(s,t)),s}const Ol=Symbol("_leaveCb"),B1=Symbol("_enterCb");function z1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kn(()=>{t.isMounted=!0}),Yi(()=>{t.isUnmounting=!0}),t}const Hi=[Function,Array],W1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Hi,onEnter:Hi,onAfterEnter:Hi,onEnterCancelled:Hi,onBeforeLeave:Hi,onLeave:Hi,onAfterLeave:Hi,onLeaveCancelled:Hi,onBeforeAppear:Hi,onAppear:Hi,onAfterAppear:Hi,onAppearCancelled:Hi},z6=t=>{const e=t.subTree;return e.component?z6(e.component):e},Yit={name:"BaseTransition",props:W1,setup(t,{slots:e}){const n=Nn(),r=z1();return()=>{const i=e.default&&gm(e.default(),!0);if(!i||!i.length)return;const s=W6(i),o=Gt(t),{mode:a}=o;if(r.isLeaving)return T3(s);const l=Y6(s);if(!l)return T3(s);let c=lu(l,o,r,n,f=>c=f);l.type!==Mn&&go(l,c);const p=n.subTree,d=p&&Y6(p);if(d&&d.type!==Mn&&!Ms(l,d)&&z6(n).type!==Mn){const f=lu(d,o,r,n);if(go(d,f),a==="out-in"&&l.type!==Mn)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},T3(s);a==="in-out"&&l.type!==Mn&&(f.delayLeave=(y,g,_)=>{const w=H6(r,d);w[String(d.key)]=d,y[Ol]=()=>{g(),y[Ol]=void 0,delete c.delayedLeave},c.delayedLeave=_})}return s}}};function W6(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Mn){e=n;break}}return e}const S3=Yit;function H6(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function lu(t,e,n,r,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:y,onAfterLeave:g,onLeaveCancelled:_,onBeforeAppear:w,onAppear:T,onAfterAppear:A,onAppearCancelled:x}=e,b=String(t.key),I=H6(n,t),N=(D,B)=>{D&&bi(D,r,9,B)},R=(D,B)=>{const $=B[1];N(D,B),Et(D)?D.every(U=>U.length<=1)&&$():D.length<=1&&$()},P={mode:o,persisted:a,beforeEnter(D){let B=l;if(!n.isMounted)if(s)B=w||l;else return;D[Ol]&&D[Ol](!0);const $=I[b];$&&Ms(t,$)&&$.el[Ol]&&$.el[Ol](),N(B,[D])},enter(D){let B=c,$=p,U=d;if(!n.isMounted)if(s)B=T||c,$=A||p,U=x||d;else return;let J=!1;const rt=D[B1]=u=>{J||(J=!0,u?N(U,[D]):N($,[D]),P.delayedLeave&&P.delayedLeave(),D[B1]=void 0)};B?R(B,[D,rt]):rt()},leave(D,B){const $=String(t.key);if(D[B1]&&D[B1](!0),n.isUnmounting)return B();N(f,[D]);let U=!1;const J=D[Ol]=rt=>{U||(U=!0,B(),rt?N(_,[D]):N(g,[D]),D[Ol]=void 0,I[$]===t&&delete I[$])};I[$]=t,y?R(y,[D,J]):J()},clone(D){const B=lu(D,e,n,r,i);return i&&i(B),B}};return P}function T3(t){if(bm(t))return t=Os(t),t.children=null,t}function Y6(t){if(!bm(t))return G6(t.type)&&t.children?W6(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ft(n.default))return n.default()}}function go(t,e){t.shapeFlag&6&&t.component?(t.transition=e,go(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gm(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Le?(o.patchFlag&128&&i++,r=r.concat(gm(o.children,e,a))):(e||o.type!==Mn)&&r.push(a!=null?Os(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function re(t,e){return Ft(t)?he({name:t.name},e,{setup:t}):t}function Z6(){const t=Nn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function A3(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function vm(t){const e=Nn(),n=wp(null);if(e){const r=e.refs===ce?e.refs={}:e.refs;Object.defineProperty(r,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function H1(t,e,n,r,i=!1){if(Et(t)){t.forEach((g,_)=>H1(g,e&&(Et(e)?e[_]:e),n,r,i));return}if(Nl(r)&&!i)return;const s=r.shapeFlag&4?Om(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,p=a.refs===ce?a.refs={}:a.refs,d=a.setupState,f=Gt(d),y=d===ce?()=>!1:g=>we(f,g);if(c!=null&&c!==l&&(Ht(c)?(p[c]=null,y(c)&&(d[c]=null)):pe(c)&&(c.value=null)),Ft(l))Al(l,a,12,[o,p]);else{const g=Ht(l),_=pe(l);if(g||_){const w=()=>{if(t.f){const T=g?y(l)?d[l]:p[l]:l.value;i?Et(T)&&QE(T,s):Et(T)?T.includes(s)||T.push(s):g?(p[l]=[s],y(l)&&(d[l]=p[l])):(l.value=[s],t.k&&(p[t.k]=l.value))}else g?(p[l]=o,y(l)&&(d[l]=o)):_&&(l.value=o,t.k&&(p[t.k]=o))};o?(w.id=-1,Qn(w,n)):w()}}}let J6=!1;const Tp=()=>{J6||(console.error("Hydration completed but contains mismatches."),J6=!0)},Zit=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Jit=t=>t.namespaceURI.includes("MathML"),Y1=t=>{if(t.nodeType===1){if(Zit(t))return"svg";if(Jit(t))return"mathml"}},Ap=t=>t.nodeType===8;function Xit(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=t,p=(x,b)=>{if(!b.hasChildNodes()){n(null,x,b),F1(),b._vnode=x;return}d(b.firstChild,x,null,null,null),F1(),b._vnode=x},d=(x,b,I,N,R,P=!1)=>{P=P||!!b.dynamicChildren;const D=Ap(x)&&x.data==="[",B=()=>_(x,b,I,N,R,D),{type:$,ref:U,shapeFlag:J,patchFlag:rt}=b;let u=x.nodeType;b.el=x,rt===-2&&(P=!1,b.dynamicChildren=null);let m=null;switch($){case vo:u!==3?b.children===""?(l(b.el=i(""),o(x),x),m=x):m=B():(x.data!==b.children&&(Tp(),x.data=b.children),m=s(x));break;case Mn:A(x)?(m=s(x),T(b.el=x.content.firstChild,x,I)):u!==8||D?m=B():m=s(x);break;case Cl:if(D&&(x=s(x),u=x.nodeType),u===1||u===3){m=x;const E=!b.children.length;for(let k=0;k<b.staticCount;k++)E&&(b.children+=m.nodeType===1?m.outerHTML:m.data),k===b.staticCount-1&&(b.anchor=m),m=s(m);return D?s(m):m}else B();break;case Le:D?m=g(x,b,I,N,R,P):m=B();break;default:if(J&1)(u!==1||b.type.toLowerCase()!==x.tagName.toLowerCase())&&!A(x)?m=B():m=f(x,b,I,N,R,P);else if(J&6){b.slotScopeIds=R;const E=o(x);if(D?m=w(x):Ap(x)&&x.data==="teleport start"?m=w(x,x.data,"teleport end"):m=s(x),e(b,E,null,I,N,Y1(E),P),Nl(b)){let k;D?(k=qt(Le),k.anchor=m?m.previousSibling:E.lastChild):k=x.nodeType===3?Ns(""):qt("div"),k.el=x,b.component.subTree=k}}else J&64?u!==8?m=B():m=b.type.hydrate(x,b,I,N,R,P,t,y):J&128&&(m=b.type.hydrate(x,b,I,N,Y1(o(x)),R,P,t,d))}return U!=null&&H1(U,null,N,b),m},f=(x,b,I,N,R,P)=>{P=P||!!b.dynamicChildren;const{type:D,props:B,patchFlag:$,shapeFlag:U,dirs:J,transition:rt}=b,u=D==="input"||D==="option";if(u||$!==-1){J&&yo(b,null,I,"created");let m=!1;if(A(x)){m=jL(N,rt)&&I&&I.vnode.props&&I.vnode.props.appear;const k=x.content.firstChild;m&&rt.beforeEnter(k),T(k,x,I),b.el=x=k}if(U&16&&!(B&&(B.innerHTML||B.textContent))){let k=y(x.firstChild,b,x,I,N,R,P);for(;k;){Z1(x,1)||Tp();const H=k;k=k.nextSibling,a(H)}}else if(U&8){let k=b.children;k[0]===`
`&&(x.tagName==="PRE"||x.tagName==="TEXTAREA")&&(k=k.slice(1)),x.textContent!==k&&(Z1(x,0)||Tp(),x.textContent=b.children)}if(B){if(u||!P||$&48){const k=x.tagName.includes("-");for(const H in B)(u&&(H.endsWith("value")||H==="indeterminate")||ru(H)&&!_l(H)||H[0]==="."||k)&&r(x,H,null,B[H],void 0,I)}else if(B.onClick)r(x,"onClick",null,B.onClick,void 0,I);else if($&4&&vi(B.style))for(const k in B.style)B.style[k]}let E;(E=B&&B.onVnodeBeforeMount)&&ei(E,I,b),J&&yo(b,null,I,"beforeMount"),((E=B&&B.onVnodeMounted)||J||m)&&ZL(()=>{E&&ei(E,I,b),m&&rt.enter(x),J&&yo(b,null,I,"mounted")},N)}return x.nextSibling},y=(x,b,I,N,R,P,D)=>{D=D||!!b.dynamicChildren;const B=b.children,$=B.length;for(let U=0;U<$;U++){const J=D?B[U]:B[U]=ti(B[U]),rt=J.type===vo;x?(rt&&!D&&U+1<$&&ti(B[U+1]).type===vo&&(l(i(x.data.slice(J.children.length)),I,s(x)),x.data=J.children),x=d(x,J,N,R,P,D)):rt&&!J.children?l(J.el=i(""),I):(Z1(I,1)||Tp(),n(null,J,I,null,N,R,Y1(I),P))}return x},g=(x,b,I,N,R,P)=>{const{slotScopeIds:D}=b;D&&(R=R?R.concat(D):D);const B=o(x),$=y(s(x),b,B,I,N,R,P);return $&&Ap($)&&$.data==="]"?s(b.anchor=$):(Tp(),l(b.anchor=c("]"),B,$),$)},_=(x,b,I,N,R,P)=>{if(Z1(x.parentElement,1)||Tp(),b.el=null,P){const $=w(x);for(;;){const U=s(x);if(U&&U!==$)a(U);else break}}const D=s(x),B=o(x);return a(x),n(null,b,B,D,I,N,Y1(B),R),D},w=(x,b="[",I="]")=>{let N=0;for(;x;)if(x=s(x),x&&Ap(x)&&(x.data===b&&N++,x.data===I)){if(N===0)return s(x);N--}return x},T=(x,b,I)=>{const N=b.parentNode;N&&N.replaceChild(x,b);let R=I;for(;R;)R.vnode.el===b&&(R.vnode.el=R.subTree.el=x),R=R.parent},A=x=>x.nodeType===1&&x.tagName==="TEMPLATE";return[p,d]}const X6="data-allow-mismatch",qit={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Z1(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(X6);)t=t.parentElement;const n=t&&t.getAttribute(X6);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:n.split(",").includes(qit[e])}}const q6=(t=1e4)=>e=>{const n=requestIdleCallback(e,{timeout:t});return()=>cancelIdleCallback(n)};function Kit(t){const{top:e,left:n,bottom:r,right:i}=t.getBoundingClientRect(),{innerHeight:s,innerWidth:o}=window;return(e>0&&e<s||r>0&&r<s)&&(n>0&&n<o||i>0&&i<o)}const K6=t=>(e,n)=>{const r=new IntersectionObserver(i=>{for(const s of i)if(s.isIntersecting){r.disconnect(),e();break}},t);return n(i=>{if(i instanceof Element){if(Kit(i))return e(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},Q6=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},tL=(t=[])=>(e,n)=>{Ht(t)&&(t=[t]);let r=!1;const i=o=>{r||(r=!0,s(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},s=()=>{n(o=>{for(const a of t)o.removeEventListener(a,i)})};return n(o=>{for(const a of t)o.addEventListener(a,i,{once:!0})}),s};function Qit(t,e){if(Ap(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Ap(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Nl=t=>!!t.type.__asyncLoader;function J1(t){Ft(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=t;let c=null,p,d=0;const f=()=>(d++,c=null,y()),y=()=>{let g;return c||(g=c=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),l)return new Promise((w,T)=>{l(_,()=>w(f()),()=>T(_),d+1)});throw _}).then(_=>g!==c&&c?c:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),p=_,_)))};return re({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(g,_,w){const T=s?()=>{const A=s(w,x=>Qit(g,x));A&&(_.bum||(_.bum=[])).push(A)}:w;p?T():y().then(()=>!_.isUnmounted&&T())},get __asyncResolved(){return p},setup(){const g=On;if(A3(g),p)return()=>I3(p,g);const _=x=>{c=null,Il(x,g,13,!r)};if(a&&g.suspense||Mm)return y().then(x=>()=>I3(x,g)).catch(x=>(_(x),()=>r?qt(r,{error:x}):null));const w=tt(!1),T=tt(),A=tt(!!i);return i&&setTimeout(()=>{A.value=!1},i),o!=null&&setTimeout(()=>{if(!w.value&&!T.value){const x=new Error(`Async component timed out after ${o}ms.`);_(x),T.value=x}},o),y().then(()=>{w.value=!0,g.parent&&bm(g.parent.vnode)&&g.parent.update()}).catch(x=>{_(x),T.value=x}),()=>{if(w.value&&p)return I3(p,g);if(T.value&&r)return qt(r,{error:T.value});if(n&&!A.value)return qt(n)}}})}function I3(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=qt(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const bm=t=>t.type.__isKeepAlive,tst={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Nn(),r=n.ctx;if(!r.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:p,o:{createElement:d}}}=r,f=d("div");r.activate=(A,x,b,I,N)=>{const R=A.component;c(A,x,b,0,a),l(R.vnode,A,x,b,R,a,I,A.slotScopeIds,N),Qn(()=>{R.isDeactivated=!1,R.a&&yp(R.a);const P=A.props&&A.props.onVnodeMounted;P&&ei(P,R.parent,A)},a)},r.deactivate=A=>{const x=A.component;nv(x.m),nv(x.a),c(A,f,null,1,a),Qn(()=>{x.da&&yp(x.da);const b=A.props&&A.props.onVnodeUnmounted;b&&ei(b,x.parent,A),x.isDeactivated=!0},a)};function y(A){N3(A),p(A,n,a,!0)}function g(A){i.forEach((x,b)=>{const I=uv(x.type);I&&!A(I)&&_(b)})}function _(A){const x=i.get(A);x&&(!o||!Ms(x,o))?y(x):o&&N3(o),i.delete(A),s.delete(A)}Yn(()=>[t.include,t.exclude],([A,x])=>{A&&g(b=>_m(A,b)),x&&g(b=>!_m(x,b))},{flush:"post",deep:!0});let w=null;const T=()=>{w!=null&&(sv(n.subTree.type)?Qn(()=>{i.set(w,X1(n.subTree))},n.subTree.suspense):i.set(w,X1(n.subTree)))};return Kn(T),cu(T),Yi(()=>{i.forEach(A=>{const{subTree:x,suspense:b}=n,I=X1(x);if(A.type===I.type&&A.key===I.key){N3(I);const N=I.component.da;N&&Qn(N,b);return}y(A)})}),()=>{if(w=null,!e.default)return o=null;const A=e.default(),x=A[0];if(A.length>1)return o=null,A;if(!Is(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return o=null,x;let b=X1(x);if(b.type===Mn)return o=null,b;const I=b.type,N=uv(Nl(b)?b.type.__asyncResolved||{}:I),{include:R,exclude:P,max:D}=t;if(R&&(!N||!_m(R,N))||P&&N&&_m(P,N))return b.shapeFlag&=-257,o=b,x;const B=b.key==null?I:b.key,$=i.get(B);return b.el&&(b=Os(b),x.shapeFlag&128&&(x.ssContent=b)),w=B,$?(b.el=$.el,b.component=$.component,b.transition&&go(b,b.transition),b.shapeFlag|=512,s.delete(B),s.add(B)):(s.add(B),D&&s.size>parseInt(D,10)&&_(s.values().next().value)),b.shapeFlag|=256,o=b,sv(x.type)?x:b}}},eL=tst;function _m(t,e){return Et(t)?t.some(n=>_m(n,e)):Ht(t)?t.split(",").includes(e):Prt(t)?(t.lastIndex=0,t.test(e)):!1}function M3(t,e){nL(t,"a",e)}function O3(t,e){nL(t,"da",e)}function nL(t,e,n=On){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(q1(e,r,n),n){let i=n.parent;for(;i&&i.parent;)bm(i.parent.vnode)&&est(r,e,n,i),i=i.parent}}function est(t,e,n,r){const i=q1(e,t,r,!0);uu(()=>{QE(r[e],i)},n)}function N3(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function X1(t){return t.shapeFlag&128?t.ssContent:t}function q1(t,e,n=On,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{ea();const a=fu(n),l=bi(e,n,t,o);return a(),na(),l});return r?i.unshift(s):i.push(s),s}}const aa=t=>(e,n=On)=>{(!Mm||t==="sp")&&q1(t,(...r)=>e(...r),n)},Ip=aa("bm"),Kn=aa("m"),C3=aa("bu"),cu=aa("u"),Yi=aa("bum"),uu=aa("um"),R3=aa("sp"),k3=aa("rtg"),L3=aa("rtc");function K1(t,e=On){q1("ec",t,e)}const P3="components",nst="directives";function xn(t,e){return D3(P3,t,!0,e)||t}const rL=Symbol.for("v-ndc");function Q1(t){return Ht(t)?D3(P3,t,!1)||t:t||rL}function Me(t){return D3(nst,t)}function D3(t,e,n=!0,r=!1){const i=Hn||On;if(i){const s=i.type;if(t===P3){const a=uv(s,!1);if(a&&(a===e||a===tn(e)||a===wl(tn(e))))return s}const o=iL(i[t]||s[t],e)||iL(i.appContext[t],e);return!o&&r?s:o}}function iL(t,e){return t&&(t[e]||t[tn(e)]||t[wl(tn(e))])}function la(t,e,n,r){let i;const s=n&&n[r],o=Et(t);if(o||Ht(t)){const a=o&&vi(t);let l=!1;a&&(l=!Qr(t),t=S1(t)),i=new Array(t.length);for(let c=0,p=t.length;c<p;c++)i[c]=e(l?wr(t[c]):t[c],c,void 0,s&&s[c])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(ke(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s&&s[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const p=a[l];i[l]=e(t[p],p,l,s&&s[l])}}else i=[];return n&&(n[r]=i),i}function sL(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Et(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return t}function Zi(t,e,n={},r,i){if(Hn.ce||Hn.parent&&Nl(Hn.parent)&&Hn.parent.ce)return e!=="default"&&(n.name=e),pt(),Be(Le,null,[qt("slot",n,r&&r())],64);let s=t[e];s&&s._c&&(s._d=!1),pt();const o=s&&j3(s(n)),a=Be(Le,{key:(n.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function j3(t){return t.some(e=>Is(e)?!(e.type===Mn||e.type===Le&&!j3(e.children)):!0)?t:null}function oL(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:su(r)]=t[r];return n}const F3=t=>t?t8(t)?Om(t):F3(t.parent):null,wm=he(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>F3(t.parent),$root:t=>F3(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>V3(t),$forceUpdate:t=>t.f||(t.f=()=>{w3(t.update)}),$nextTick:t=>t.n||(t.n=Wi.bind(t.proxy)),$watch:t=>vst.bind(t)}),U3=(t,e)=>t!==ce&&!t.__isScriptSetup&&we(t,e),G3={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(U3(r,e))return o[e]=1,r[e];if(i!==ce&&we(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&we(c,e))return o[e]=3,s[e];if(n!==ce&&we(n,e))return o[e]=4,n[e];$3&&(o[e]=0)}}const p=wm[e];let d,f;if(p)return e==="$attrs"&&_r(t.attrs,"get",""),p(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==ce&&we(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,we(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return U3(i,e)?(i[e]=n,!0):r!==ce&&we(r,e)?(r[e]=n,!0):we(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==ce&&we(t,o)||U3(e,o)||(a=s[0])&&we(a,o)||we(r,o)||we(wm,o)||we(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:we(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},rst=he({},G3,{get(t,e){if(e!==Symbol.unscopables)return G3.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Vrt(e)}});function aL(){return null}function lL(){return null}function cL(t){}function uL(t){}function hL(){return null}function pL(){}function dL(t,e){return null}function fL(){return yL().slots}function mL(){return yL().attrs}function yL(){const t=Nn();return t.setupContext||(t.setupContext=i8(t))}function xm(t){return Et(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function gL(t,e){const n=xm(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?Et(i)||Ft(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function vL(t,e){return!t||!e?t||e:Et(t)&&Et(e)?t.concat(e):he({},xm(t),xm(e))}function bL(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function _L(t){const e=Nn();let n=t();return aS(),t3(n)&&(n=n.catch(r=>{throw fu(e),r})),[n,()=>fu(e)]}let $3=!0;function ist(t){const e=V3(t),n=t.proxy,r=t.ctx;$3=!1,e.beforeCreate&&wL(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:p,beforeMount:d,mounted:f,beforeUpdate:y,updated:g,activated:_,deactivated:w,beforeDestroy:T,beforeUnmount:A,destroyed:x,unmounted:b,render:I,renderTracked:N,renderTriggered:R,errorCaptured:P,serverPrefetch:D,expose:B,inheritAttrs:$,components:U,directives:J,filters:rt}=e;if(c&&sst(c,r,null),o)for(const m in o){const E=o[m];Ft(E)&&(r[m]=E.bind(n))}if(i){const m=i.call(n,n);ke(m)&&(t.data=jn(m))}if($3=!0,s)for(const m in s){const E=s[m],k=Ft(E)?E.bind(n,n):Ft(E.get)?E.get.bind(n,n):or,H=!Ft(E)&&Ft(E.set)?E.set.bind(n):or,K=ee({get:k,set:H});Object.defineProperty(r,m,{enumerable:!0,configurable:!0,get:()=>K.value,set:ft=>K.value=ft})}if(a)for(const m in a)xL(a[m],r,n,m);if(l){const m=Ft(l)?l.call(n):l;Reflect.ownKeys(m).forEach(E=>{ev(E,m[E])})}p&&wL(p,t,"c");function u(m,E){Et(E)?E.forEach(k=>m(k.bind(n))):E&&m(E.bind(n))}if(u(Ip,d),u(Kn,f),u(C3,y),u(cu,g),u(M3,_),u(O3,w),u(K1,P),u(L3,N),u(k3,R),u(Yi,A),u(uu,b),u(R3,D),Et(B))if(B.length){const m=t.exposed||(t.exposed={});B.forEach(E=>{Object.defineProperty(m,E,{get:()=>n[E],set:k=>n[E]=k})})}else t.exposed||(t.exposed={});I&&t.render===or&&(t.render=I),$!=null&&(t.inheritAttrs=$),U&&(t.components=U),J&&(t.directives=J),D&&A3(t)}function sst(t,e,n=or){Et(t)&&(t=B3(t));for(const r in t){const i=t[r];let s;ke(i)?"default"in i?s=Fn(i.from||r,i.default,!0):s=Fn(i.from||r):s=Fn(i),pe(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function wL(t,e,n){bi(Et(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function xL(t,e,n,r){let i=r.includes(".")?GL(n,r):()=>n[r];if(Ht(t)){const s=e[t];Ft(s)&&Yn(i,s)}else if(Ft(t))Yn(i,t.bind(n));else if(ke(t))if(Et(t))t.forEach(s=>xL(s,e,n,r));else{const s=Ft(t.handler)?t.handler.bind(n):e[t.handler];Ft(s)&&Yn(i,s,t)}}function V3(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>tv(l,c,o,!0)),tv(l,e,o)),ke(e)&&s.set(e,l),l}function tv(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&tv(t,s,n,!0),i&&i.forEach(o=>tv(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=ost[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ost={data:EL,props:SL,emits:SL,methods:Em,computed:Em,beforeCreate:Dr,created:Dr,beforeMount:Dr,mounted:Dr,beforeUpdate:Dr,updated:Dr,beforeDestroy:Dr,beforeUnmount:Dr,destroyed:Dr,unmounted:Dr,activated:Dr,deactivated:Dr,errorCaptured:Dr,serverPrefetch:Dr,components:Em,directives:Em,watch:lst,provide:EL,inject:ast};function EL(t,e){return e?t?function(){return he(Ft(t)?t.call(this,this):t,Ft(e)?e.call(this,this):e)}:e:t}function ast(t,e){return Em(B3(t),B3(e))}function B3(t){if(Et(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Dr(t,e){return t?[...new Set([].concat(t,e))]:e}function Em(t,e){return t?he(Object.create(null),t,e):e}function SL(t,e){return t?Et(t)&&Et(e)?[...new Set([...t,...e])]:he(Object.create(null),xm(t),xm(e??{})):e}function lst(t,e){if(!t)return e;if(!e)return t;const n=he(Object.create(null),t);for(const r in e)n[r]=Dr(t[r],e[r]);return n}function TL(){return{app:null,config:{isNativeTag:om,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cst=0;function ust(t,e){return function(n,r=null){Ft(n)||(n=he({},n)),r!=null&&!ke(r)&&(r=null);const i=TL(),s=new WeakSet,o=[];let a=!1;const l=i.app={_uid:cst++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:pS,get config(){return i.config},set config(c){},use(c,...p){return s.has(c)||(c&&Ft(c.install)?(s.add(c),c.install(l,...p)):Ft(c)&&(s.add(c),c(l,...p))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,p){return p?(i.components[c]=p,l):i.components[c]},directive(c,p){return p?(i.directives[c]=p,l):i.directives[c]},mount(c,p,d){if(!a){const f=l._ceVNode||qt(n,r);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),p&&e?e(f,c):t(f,c,d),a=!0,l._container=c,c.__vue_app__=l,Om(f.component)}},onUnmount(c){o.push(c)},unmount(){a&&(bi(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,p){return i.provides[c]=p,l},runWithContext(c){const p=hu;hu=l;try{return c()}finally{hu=p}}};return l}}let hu=null;function ev(t,e){if(On){let n=On.provides;const r=On.parent&&On.parent.provides;r===n&&(n=On.provides=Object.create(r)),n[t]=e}}function Fn(t,e,n=!1){const r=On||Hn;if(r||hu){const i=hu?hu._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ft(e)?e.call(r&&r.proxy):e}}function z3(){return!!(On||Hn||hu)}const AL={},IL=()=>Object.create(AL),ML=t=>Object.getPrototypeOf(t)===AL;function hst(t,e,n,r=!1){const i={},s=IL();t.propsDefaults=Object.create(null),OL(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:d3(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function pst(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Gt(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let d=0;d<p.length;d++){let f=p[d];if(rv(t.emitsOptions,f))continue;const y=e[f];if(l)if(we(s,f))y!==s[f]&&(s[f]=y,c=!0);else{const g=tn(f);i[g]=W3(l,a,g,y,t,!1)}else y!==s[f]&&(s[f]=y,c=!0)}}}else{OL(t,e,i,s)&&(c=!0);let p;for(const d in a)(!e||!we(e,d)&&((p=Kr(d))===d||!we(e,p)))&&(l?n&&(n[d]!==void 0||n[p]!==void 0)&&(i[d]=W3(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!we(e,d))&&(delete s[d],c=!0)}c&&ra(t.attrs,"set","")}function OL(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(_l(l))continue;const c=e[l];let p;i&&we(i,p=tn(l))?!s||!s.includes(p)?n[p]=c:(a||(a={}))[p]=c:rv(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Gt(n),c=a||ce;for(let p=0;p<s.length;p++){const d=s[p];n[d]=W3(i,l,d,c[d],t,!we(c,d))}}return o}function W3(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=we(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ft(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const p=fu(i);r=c[n]=l.call(null,e),p()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===Kr(n))&&(r=!0))}return r}const dst=new WeakMap;function NL(t,e,n=!1){const r=n?dst:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!Ft(t)){const p=d=>{l=!0;const[f,y]=NL(d,e,!0);he(o,f),y&&a.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!s&&!l)return ke(t)&&r.set(t,dp),dp;if(Et(s))for(let p=0;p<s.length;p++){const d=tn(s[p]);CL(d)&&(o[d]=ce)}else if(s)for(const p in s){const d=tn(p);if(CL(d)){const f=s[p],y=o[d]=Et(f)||Ft(f)?{type:f}:he({},f),g=y.type;let _=!1,w=!0;if(Et(g))for(let T=0;T<g.length;++T){const A=g[T],x=Ft(A)&&A.name;if(x==="Boolean"){_=!0;break}else x==="String"&&(w=!1)}else _=Ft(g)&&g.name==="Boolean";y[0]=_,y[1]=w,(_||we(y,"default"))&&a.push(d)}}const c=[o,a];return ke(t)&&r.set(t,c),c}function CL(t){return t[0]!=="$"&&!_l(t)}const RL=t=>t[0]==="_"||t==="$stable",H3=t=>Et(t)?t.map(ti):[ti(t)],fst=(t,e,n)=>{if(e._n)return e;const r=wn((...i)=>(Tl.NODE_ENV!=="production"&&On&&(!n||(n.root,On.root)),H3(e(...i))),n);return r._c=!1,r},kL=(t,e,n)=>{const r=t._ctx;for(const i in t){if(RL(i))continue;const s=t[i];if(Ft(s))e[i]=fst(i,s,r);else if(s!=null){const o=H3(s);e[i]=()=>o}}},LL=(t,e)=>{const n=H3(e);t.slots.default=()=>n},PL=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},mst=(t,e,n)=>{const r=t.slots=IL();if(t.vnode.shapeFlag&32){const i=e._;i?(PL(r,e,n),n&&zk(r,"_",i,!0)):kL(e,r)}else e&&LL(t,e)},yst=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=ce;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:PL(i,e,n):(s=!e.$stable,kL(e,i)),o=e}else e&&(LL(t,e),o={default:1});if(s)for(const a in i)!RL(a)&&o[a]==null&&delete i[a]},Qn=ZL;function Y3(t){return DL(t)}function Z3(t){return DL(t,Xit)}function DL(t,e){const n=Hk();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:p,parentNode:d,nextSibling:f,setScopeId:y=or,insertStaticContent:g}=t,_=(W,j,q,st=null,nt=null,O=null,G=void 0,M=null,L=!!j.dynamicChildren)=>{if(W===j)return;W&&!Ms(W,j)&&(st=ue(W),ot(W,nt,O,!0),W=null),j.patchFlag===-2&&(L=!1,j.dynamicChildren=null);const{type:V,ref:X,shapeFlag:z}=j;switch(V){case vo:w(W,j,q,st);break;case Mn:T(W,j,q,st);break;case Cl:W==null&&A(j,q,st,G);break;case Le:U(W,j,q,st,nt,O,G,M,L);break;default:z&1?I(W,j,q,st,nt,O,G,M,L):z&6?J(W,j,q,st,nt,O,G,M,L):(z&64||z&128)&&V.process(W,j,q,st,nt,O,G,M,L,fe)}X!=null&&nt&&H1(X,W&&W.ref,O,j||W,!j)},w=(W,j,q,st)=>{if(W==null)r(j.el=a(j.children),q,st);else{const nt=j.el=W.el;j.children!==W.children&&c(nt,j.children)}},T=(W,j,q,st)=>{W==null?r(j.el=l(j.children||""),q,st):j.el=W.el},A=(W,j,q,st)=>{[W.el,W.anchor]=g(W.children,j,q,st,W.el,W.anchor)},x=({el:W,anchor:j},q,st)=>{let nt;for(;W&&W!==j;)nt=f(W),r(W,q,st),W=nt;r(j,q,st)},b=({el:W,anchor:j})=>{let q;for(;W&&W!==j;)q=f(W),i(W),W=q;i(j)},I=(W,j,q,st,nt,O,G,M,L)=>{j.type==="svg"?G="svg":j.type==="math"&&(G="mathml"),W==null?N(j,q,st,nt,O,G,M,L):D(W,j,nt,O,G,M,L)},N=(W,j,q,st,nt,O,G,M)=>{let L,V;const{props:X,shapeFlag:z,transition:Z,dirs:ct}=W;if(L=W.el=o(W.type,O,X&&X.is,X),z&8?p(L,W.children):z&16&&P(W.children,L,null,st,nt,J3(W,O),G,M),ct&&yo(W,null,st,"created"),R(L,W,W.scopeId,G,st),X){for(const Dt in X)Dt!=="value"&&!_l(Dt)&&s(L,Dt,null,X[Dt],O,st);"value"in X&&s(L,"value",null,X.value,O),(V=X.onVnodeBeforeMount)&&ei(V,st,W)}ct&&yo(W,null,st,"beforeMount");const yt=jL(nt,Z);yt&&Z.beforeEnter(L),r(L,j,q),((V=X&&X.onVnodeMounted)||yt||ct)&&Qn(()=>{V&&ei(V,st,W),yt&&Z.enter(L),ct&&yo(W,null,st,"mounted")},nt)},R=(W,j,q,st,nt)=>{if(q&&y(W,q),st)for(let O=0;O<st.length;O++)y(W,st[O]);if(nt){let O=nt.subTree;if(j===O||sv(O.type)&&(O.ssContent===j||O.ssFallback===j)){const G=nt.vnode;R(W,G,G.scopeId,G.slotScopeIds,nt.parent)}}},P=(W,j,q,st,nt,O,G,M,L=0)=>{for(let V=L;V<W.length;V++){const X=W[V]=M?Rl(W[V]):ti(W[V]);_(null,X,j,q,st,nt,O,G,M)}},D=(W,j,q,st,nt,O,G)=>{const M=j.el=W.el;let{patchFlag:L,dynamicChildren:V,dirs:X}=j;L|=W.patchFlag&16;const z=W.props||ce,Z=j.props||ce;let ct;if(q&&pu(q,!1),(ct=Z.onVnodeBeforeUpdate)&&ei(ct,q,j,W),X&&yo(j,W,q,"beforeUpdate"),q&&pu(q,!0),(z.innerHTML&&Z.innerHTML==null||z.textContent&&Z.textContent==null)&&p(M,""),V?B(W.dynamicChildren,V,M,q,st,J3(j,nt),O):G||k(W,j,M,null,q,st,J3(j,nt),O,!1),L>0){if(L&16)$(M,z,Z,q,nt);else if(L&2&&z.class!==Z.class&&s(M,"class",null,Z.class,nt),L&4&&s(M,"style",z.style,Z.style,nt),L&8){const yt=j.dynamicProps;for(let Dt=0;Dt<yt.length;Dt++){const Zt=yt[Dt],Ce=z[Zt],dn=Z[Zt];(dn!==Ce||Zt==="value")&&s(M,Zt,Ce,dn,nt,q)}}L&1&&W.children!==j.children&&p(M,j.children)}else!G&&V==null&&$(M,z,Z,q,nt);((ct=Z.onVnodeUpdated)||X)&&Qn(()=>{ct&&ei(ct,q,j,W),X&&yo(j,W,q,"updated")},st)},B=(W,j,q,st,nt,O,G)=>{for(let M=0;M<j.length;M++){const L=W[M],V=j[M],X=L.el&&(L.type===Le||!Ms(L,V)||L.shapeFlag&70)?d(L.el):q;_(L,V,X,null,st,nt,O,G,!0)}},$=(W,j,q,st,nt)=>{if(j!==q){if(j!==ce)for(const O in j)!_l(O)&&!(O in q)&&s(W,O,j[O],null,nt,st);for(const O in q){if(_l(O))continue;const G=q[O],M=j[O];G!==M&&O!=="value"&&s(W,O,M,G,nt,st)}"value"in q&&s(W,"value",j.value,q.value,nt)}},U=(W,j,q,st,nt,O,G,M,L)=>{const V=j.el=W?W.el:a(""),X=j.anchor=W?W.anchor:a("");let{patchFlag:z,dynamicChildren:Z,slotScopeIds:ct}=j;ct&&(M=M?M.concat(ct):ct),W==null?(r(V,q,st),r(X,q,st),P(j.children||[],q,X,nt,O,G,M,L)):z>0&&z&64&&Z&&W.dynamicChildren?(B(W.dynamicChildren,Z,q,nt,O,G,M),(j.key!=null||nt&&j===nt.subTree)&&X3(W,j,!0)):k(W,j,q,X,nt,O,G,M,L)},J=(W,j,q,st,nt,O,G,M,L)=>{j.slotScopeIds=M,W==null?j.shapeFlag&512?nt.ctx.activate(j,q,st,G,L):rt(j,q,st,nt,O,G,L):u(W,j,L)},rt=(W,j,q,st,nt,O,G)=>{const M=W.component=QL(W,st,nt);if(bm(W)&&(M.ctx.renderer=fe),e8(M,!1,G),M.asyncDep){if(nt&&nt.registerDep(M,m,G),!W.el){const L=M.subTree=qt(Mn);T(null,L,j,q)}}else m(M,W,j,q,nt,O,G)},u=(W,j,q)=>{const st=j.component=W.component;if(Est(W,j,q))if(st.asyncDep&&!st.asyncResolved){E(st,j,q);return}else st.next=j,st.update();else j.el=W.el,st.vnode=j},m=(W,j,q,st,nt,O,G)=>{const M=()=>{if(W.isMounted){let{next:z,bu:Z,u:ct,parent:yt,vnode:Dt}=W;{const nr=FL(W);if(nr){z&&(z.el=Dt.el,E(W,z,G)),nr.asyncDep.then(()=>{W.isUnmounted||M()});return}}let Zt=z,Ce;pu(W,!1),z?(z.el=Dt.el,E(W,z,G)):z=Dt,Z&&yp(Z),(Ce=z.props&&z.props.onVnodeBeforeUpdate)&&ei(Ce,yt,z,Dt),pu(W,!0);const dn=iv(W),pr=W.subTree;W.subTree=dn,_(pr,dn,d(pr.el),ue(pr),W,nt,O),z.el=dn.el,Zt===null&&eS(W,dn.el),ct&&Qn(ct,nt),(Ce=z.props&&z.props.onVnodeUpdated)&&Qn(()=>ei(Ce,yt,z,Dt),nt)}else{let z;const{el:Z,props:ct}=j,{bm:yt,m:Dt,parent:Zt,root:Ce,type:dn}=W,pr=Nl(j);if(pu(W,!1),yt&&yp(yt),!pr&&(z=ct&&ct.onVnodeBeforeMount)&&ei(z,Zt,j),pu(W,!0),Z&&Fe){const nr=()=>{W.subTree=iv(W),Fe(Z,W.subTree,W,nt,null)};pr&&dn.__asyncHydrate?dn.__asyncHydrate(Z,W,nr):nr()}else{Ce.ce&&Ce.ce._injectChildStyle(dn);const nr=W.subTree=iv(W);_(null,nr,q,st,W,nt,O),j.el=nr.el}if(Dt&&Qn(Dt,nt),!pr&&(z=ct&&ct.onVnodeMounted)){const nr=j;Qn(()=>ei(z,Zt,nr),nt)}(j.shapeFlag&256||Zt&&Nl(Zt.vnode)&&Zt.vnode.shapeFlag&256)&&W.a&&Qn(W.a,nt),W.isMounted=!0,j=q=st=null}};W.scope.on();const L=W.effect=new gp(M);W.scope.off();const V=W.update=L.run.bind(L),X=W.job=L.runIfDirty.bind(L);X.i=W,X.id=W.uid,L.scheduler=()=>w3(X),pu(W,!0),V()},E=(W,j,q)=>{j.component=W;const st=W.vnode.props;W.vnode=j,W.next=null,pst(W,j.props,st,q),yst(W,j.children,q),ea(),k6(W),na()},k=(W,j,q,st,nt,O,G,M,L=!1)=>{const V=W&&W.children,X=W?W.shapeFlag:0,z=j.children,{patchFlag:Z,shapeFlag:ct}=j;if(Z>0){if(Z&128){K(V,z,q,st,nt,O,G,M,L);return}else if(Z&256){H(V,z,q,st,nt,O,G,M,L);return}}ct&8?(X&16&&Ot(V,nt,O),z!==V&&p(q,z)):X&16?ct&16?K(V,z,q,st,nt,O,G,M,L):Ot(V,nt,O,!0):(X&8&&p(q,""),ct&16&&P(z,q,st,nt,O,G,M,L))},H=(W,j,q,st,nt,O,G,M,L)=>{W=W||dp,j=j||dp;const V=W.length,X=j.length,z=Math.min(V,X);let Z;for(Z=0;Z<z;Z++){const ct=j[Z]=L?Rl(j[Z]):ti(j[Z]);_(W[Z],ct,q,null,nt,O,G,M,L)}V>X?Ot(W,nt,O,!0,!1,z):P(j,q,st,nt,O,G,M,L,z)},K=(W,j,q,st,nt,O,G,M,L)=>{let V=0;const X=j.length;let z=W.length-1,Z=X-1;for(;V<=z&&V<=Z;){const ct=W[V],yt=j[V]=L?Rl(j[V]):ti(j[V]);if(Ms(ct,yt))_(ct,yt,q,null,nt,O,G,M,L);else break;V++}for(;V<=z&&V<=Z;){const ct=W[z],yt=j[Z]=L?Rl(j[Z]):ti(j[Z]);if(Ms(ct,yt))_(ct,yt,q,null,nt,O,G,M,L);else break;z--,Z--}if(V>z){if(V<=Z){const ct=Z+1,yt=ct<X?j[ct].el:st;for(;V<=Z;)_(null,j[V]=L?Rl(j[V]):ti(j[V]),q,yt,nt,O,G,M,L),V++}}else if(V>Z)for(;V<=z;)ot(W[V],nt,O,!0),V++;else{const ct=V,yt=V,Dt=new Map;for(V=yt;V<=Z;V++){const At=j[V]=L?Rl(j[V]):ti(j[V]);At.key!=null&&Dt.set(At.key,V)}let Zt,Ce=0;const dn=Z-yt+1;let pr=!1,nr=0;const et=new Array(dn);for(V=0;V<dn;V++)et[V]=0;for(V=ct;V<=z;V++){const At=W[V];if(Ce>=dn){ot(At,nt,O,!0);continue}let Jt;if(At.key!=null)Jt=Dt.get(At.key);else for(Zt=yt;Zt<=Z;Zt++)if(et[Zt-yt]===0&&Ms(At,j[Zt])){Jt=Zt;break}Jt===void 0?ot(At,nt,O,!0):(et[Jt-yt]=V+1,Jt>=nr?nr=Jt:pr=!0,_(At,j[Jt],q,null,nt,O,G,M,L),Ce++)}const Tt=pr?gst(et):dp;for(Zt=Tt.length-1,V=dn-1;V>=0;V--){const At=yt+V,Jt=j[At],Qt=At+1<X?j[At+1].el:st;et[V]===0?_(null,Jt,q,Qt,nt,O,G,M,L):pr&&(Zt<0||V!==Tt[Zt]?ft(Jt,q,Qt,2):Zt--)}}},ft=(W,j,q,st,nt=null)=>{const{el:O,type:G,transition:M,children:L,shapeFlag:V}=W;if(V&6){ft(W.component.subTree,j,q,st);return}if(V&128){W.suspense.move(j,q,st);return}if(V&64){G.move(W,j,q,fe);return}if(G===Le){r(O,j,q);for(let X=0;X<L.length;X++)ft(L[X],j,q,st);r(W.anchor,j,q);return}if(G===Cl){x(W,j,q);return}if(st!==2&&V&1&&M)if(st===0)M.beforeEnter(O),r(O,j,q),Qn(()=>M.enter(O),nt);else{const{leave:X,delayLeave:z,afterLeave:Z}=M,ct=()=>r(O,j,q),yt=()=>{X(O,()=>{ct(),Z&&Z()})};z?z(O,ct,yt):yt()}else r(O,j,q)},ot=(W,j,q,st=!1,nt=!1)=>{const{type:O,props:G,ref:M,children:L,dynamicChildren:V,shapeFlag:X,patchFlag:z,dirs:Z,cacheIndex:ct}=W;if(z===-2&&(nt=!1),M!=null&&H1(M,null,q,W,!0),ct!=null&&(j.renderCache[ct]=void 0),X&256){j.ctx.deactivate(W);return}const yt=X&1&&Z,Dt=!Nl(W);let Zt;if(Dt&&(Zt=G&&G.onVnodeBeforeUnmount)&&ei(Zt,j,W),X&6)Ut(W.component,q,st);else{if(X&128){W.suspense.unmount(q,st);return}yt&&yo(W,null,j,"beforeUnmount"),X&64?W.type.remove(W,j,q,fe,st):V&&!V.hasOnce&&(O!==Le||z>0&&z&64)?Ot(V,j,q,!1,!0):(O===Le&&z&384||!nt&&X&16)&&Ot(L,j,q),st&&St(W)}(Dt&&(Zt=G&&G.onVnodeUnmounted)||yt)&&Qn(()=>{Zt&&ei(Zt,j,W),yt&&yo(W,null,j,"unmounted")},q)},St=W=>{const{type:j,el:q,anchor:st,transition:nt}=W;if(j===Le){Pt(q,st);return}if(j===Cl){b(W);return}const O=()=>{i(q),nt&&!nt.persisted&&nt.afterLeave&&nt.afterLeave()};if(W.shapeFlag&1&&nt&&!nt.persisted){const{leave:G,delayLeave:M}=nt,L=()=>G(q,O);M?M(W.el,O,L):L()}else O()},Pt=(W,j)=>{let q;for(;W!==j;)q=f(W),i(W),W=q;i(j)},Ut=(W,j,q)=>{const{bum:st,scope:nt,job:O,subTree:G,um:M,m:L,a:V}=W;nv(L),nv(V),st&&yp(st),nt.stop(),O&&(O.flags|=8,ot(G,W,j,q)),M&&Qn(M,j),Qn(()=>{W.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},Ot=(W,j,q,st=!1,nt=!1,O=0)=>{for(let G=O;G<W.length;G++)ot(W[G],j,q,st,nt)},ue=W=>{if(W.shapeFlag&6)return ue(W.component.subTree);if(W.shapeFlag&128)return W.suspense.next();const j=f(W.anchor||W.el),q=j&&j[U6];return q?f(q):j};let ie=!1;const Ne=(W,j,q)=>{W==null?j._vnode&&ot(j._vnode,null,null,!0):_(j._vnode||null,W,j,null,null,null,q),j._vnode=W,ie||(ie=!0,k6(),F1(),ie=!1)},fe={p:_,um:ot,m:ft,r:St,mt:rt,mc:P,pc:k,pbc:B,n:ue,o:t};let se,Fe;return e&&([se,Fe]=e(fe)),{render:Ne,hydrate:se,createApp:ust(Ne,se)}}function J3({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function pu({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function jL(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function X3(t,e,n=!1){const r=t.children,i=e.children;if(Et(r)&&Et(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Rl(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&X3(o,a)),a.type===vo&&(a.el=o.el)}}function gst(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function FL(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:FL(e)}function nv(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const q3=Symbol.for("v-scx"),K3=()=>Fn(q3);function UL(t,e){return Sm(t,null,e)}function Q3(t,e){return Sm(t,null,{flush:"post"})}function tS(t,e){return Sm(t,null,{flush:"sync"})}function Yn(t,e,n){return Sm(t,e,n)}function Sm(t,e,n=ce){const{immediate:r,deep:i,flush:s,once:o}=n,a=he({},n);let l;if(Mm)if(s==="sync"){const f=K3();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!e||r)a.once=!0;else{const f=()=>{};return f.stop=or,f.resume=or,f.pause=or,f}const c=On;a.call=(f,y,g)=>bi(f,c,y,g);let p=!1;s==="post"?a.scheduler=f=>{Qn(f,c&&c.suspense)}:s!=="sync"&&(p=!0,a.scheduler=(f,y)=>{y?f():w3(f)}),a.augmentJob=f=>{e&&(f.flags|=4),p&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const d=kit(t,e,a);return l&&l.push(d),d}function vst(t,e,n){const r=this.proxy,i=Ht(t)?t.includes(".")?GL(r,t):()=>r[t]:t.bind(r,r);let s;Ft(e)?s=e:(s=e.handler,n=e);const o=fu(this),a=Sm(i,s.bind(r),n);return o(),a}function GL(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function $L(t,e,n=ce){const r=Nn(),i=tn(e),s=Kr(e),o=VL(t,e),a=m3((l,c)=>{let p,d=ce,f;return tS(()=>{const y=t[e];kr(p,y)&&(p=y,c())}),{get(){return l(),n.get?n.get(p):p},set(y){const g=n.set?n.set(y):y;if(!kr(g,p)&&!(d!==ce&&kr(y,d)))return;const _=r.vnode.props;_&&(e in _||i in _||s in _)&&(`onUpdate:${e}`in _||`onUpdate:${i}`in _||`onUpdate:${s}`in _)||(p=y,c()),r.emit(`update:${e}`,g),kr(y,g)&&kr(y,d)&&!kr(g,f)&&c(),d=y,f=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||ce:a,done:!1}:{done:!0}}}},a}const VL=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${tn(e)}Modifiers`]||t[`${Kr(e)}Modifiers`];function bst(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||ce;let i=n;const s=e.startsWith("update:"),o=s&&VL(r,e.slice(7));o&&(o.trim&&(i=n.map(p=>Ht(p)?p.trim():p)),o.number&&(i=n.map(g1)));let a,l=r[a=su(e)]||r[a=su(tn(e))];!l&&s&&(l=r[a=su(Kr(e))]),l&&bi(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bi(c,t,6,i)}}function BL(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!Ft(t)){const l=c=>{const p=BL(c,e,!0);p&&(a=!0,he(o,p))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(ke(t)&&r.set(t,null),null):(Et(s)?s.forEach(l=>o[l]=null):he(o,s),ke(t)&&r.set(t,o),o)}function rv(t,e){return!t||!ru(e)?!1:(e=e.slice(2).replace(/Once$/,""),we(t,e[0].toLowerCase()+e.slice(1))||we(t,Kr(e))||we(t,e))}function iv(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:p,props:d,data:f,setupState:y,ctx:g,inheritAttrs:_}=t,w=mm(t);let T,A;try{if(n.shapeFlag&4){const b=i||r,I=Tl.NODE_ENV!=="production"&&y.__isScriptSetup?new Proxy(b,{get(N,R,P){return Dit(`Property '${String(R)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(N,R,P)}}):b;T=ti(c.call(I,b,p,Tl.NODE_ENV!=="production"?_p(d):d,y,f,g)),A=a}else{const b=e;Tl.NODE_ENV,T=ti(b.length>1?b(Tl.NODE_ENV!=="production"?_p(d):d,Tl.NODE_ENV!=="production"?{get attrs(){return _p(a)},slots:o,emit:l}:{attrs:a,slots:o,emit:l}):b(Tl.NODE_ENV!=="production"?_p(d):d,null)),A=e.props?a:wst(a)}}catch(b){Am.length=0,Il(b,t,1),T=qt(Mn)}let x=T;if(A&&_!==!1){const b=Object.keys(A),{shapeFlag:I}=x;b.length&&I&7&&(s&&b.some(KE)&&(A=xst(A,s)),x=Os(x,A,!1,!0))}return n.dirs&&(x=Os(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&go(x,n.transition),T=x,mm(w),T}function _st(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Is(i)){if(i.type!==Mn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const wst=t=>{let e;for(const n in t)(n==="class"||n==="style"||ru(n))&&((e||(e={}))[n]=t[n]);return e},xst=(t,e)=>{const n={};for(const r in t)(!KE(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Est(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?zL(r,o,c):!!o;if(l&8){const p=e.dynamicProps;for(let d=0;d<p.length;d++){const f=p[d];if(o[f]!==r[f]&&!rv(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?zL(r,o,c):!0:!!o;return!1}function zL(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!rv(n,s))return!0}return!1}function eS({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const sv=t=>t.__isSuspense;let nS=0;const Sst={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,l,c){if(t==null)Tst(e,n,r,i,s,o,a,l,c);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Ast(t,e,n,r,i,o,a,l,c)}},hydrate:Ist,normalize:Mst},WL=Sst;function Tm(t,e){const n=t.props&&t.props[e];Ft(n)&&n()}function Tst(t,e,n,r,i,s,o,a,l){const{p:c,o:{createElement:p}}=l,d=p("div"),f=t.suspense=HL(t,i,r,e,d,n,s,o,a,l);c(null,f.pendingBranch=t.ssContent,d,null,r,f,s,o),f.deps>0?(Tm(t,"onPending"),Tm(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,s,o),Mp(f,t.ssFallback)):f.resolve(!1,!0)}function Ast(t,e,n,r,i,s,o,a,{p:l,um:c,o:{createElement:p}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const f=e.ssContent,y=e.ssFallback,{activeBranch:g,pendingBranch:_,isInFallback:w,isHydrating:T}=d;if(_)d.pendingBranch=f,Ms(f,_)?(l(_,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():w&&(T||(l(g,y,n,r,i,null,s,o,a),Mp(d,y)))):(d.pendingId=nS++,T?(d.isHydrating=!1,d.activeBranch=_):c(_,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=p("div"),w?(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(g,y,n,r,i,null,s,o,a),Mp(d,y))):g&&Ms(f,g)?(l(g,f,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(g&&Ms(f,g))l(g,f,n,r,i,d,s,o,a),Mp(d,f);else if(Tm(e,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=nS++,l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:A,pendingId:x}=d;A>0?setTimeout(()=>{d.pendingId===x&&d.fallback(y)},A):A===0&&d.fallback(y)}}function HL(t,e,n,r,i,s,o,a,l,c,p=!1){const{p:d,m:f,um:y,n:g,o:{parentNode:_,remove:w}}=c;let T;const A=Ost(t);A&&e&&e.pendingBranch&&(T=e.pendingId,e.deps++);const x=t.props?v1(t.props.timeout):void 0,b=s,I={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:nS++,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!p,isHydrating:p,isUnmounted:!1,effects:[],resolve(N=!1,R=!1){const{vnode:P,activeBranch:D,pendingBranch:B,pendingId:$,effects:U,parentComponent:J,container:rt}=I;let u=!1;I.isHydrating?I.isHydrating=!1:N||(u=D&&B.transition&&B.transition.mode==="out-in",u&&(D.transition.afterLeave=()=>{$===I.pendingId&&(f(B,rt,s===b?g(D):s,0),dm(U))}),D&&(_(D.el)===rt&&(s=g(D)),y(D,J,I,!0)),u||f(B,rt,s,0)),Mp(I,B),I.pendingBranch=null,I.isInFallback=!1;let m=I.parent,E=!1;for(;m;){if(m.pendingBranch){m.effects.push(...U),E=!0;break}m=m.parent}!E&&!u&&dm(U),I.effects=[],A&&e&&e.pendingBranch&&T===e.pendingId&&(e.deps--,e.deps===0&&!R&&e.resolve()),Tm(P,"onResolve")},fallback(N){if(!I.pendingBranch)return;const{vnode:R,activeBranch:P,parentComponent:D,container:B,namespace:$}=I;Tm(R,"onFallback");const U=g(P),J=()=>{I.isInFallback&&(d(null,N,B,U,D,null,$,a,l),Mp(I,N))},rt=N.transition&&N.transition.mode==="out-in";rt&&(P.transition.afterLeave=J),I.isInFallback=!0,y(P,D,null,!0),rt||J()},move(N,R,P){I.activeBranch&&f(I.activeBranch,N,R,P),I.container=N},next(){return I.activeBranch&&g(I.activeBranch)},registerDep(N,R,P){const D=!!I.pendingBranch;D&&I.deps++;const B=N.vnode.el;N.asyncDep.catch($=>{Il($,N,0)}).then($=>{if(N.isUnmounted||I.isUnmounted||I.pendingId!==N.suspenseId)return;N.asyncResolved=!0;const{vnode:U}=N;lS(N,$,!1),B&&(U.el=B);const J=!B&&N.subTree.el;R(N,U,_(B||N.subTree.el),B?null:g(N.subTree),I,o,P),J&&w(J),eS(N,U.el),D&&--I.deps===0&&I.resolve()})},unmount(N,R){I.isUnmounted=!0,I.activeBranch&&y(I.activeBranch,n,N,R),I.pendingBranch&&y(I.pendingBranch,n,N,R)}};return I}function Ist(t,e,n,r,i,s,o,a,l){const c=e.suspense=HL(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),p=l(t,c.pendingBranch=e.ssContent,n,c,s,o);return c.deps===0&&c.resolve(!1,!0),p}function Mst(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=YL(r?n.default:n),t.ssFallback=r?YL(n.fallback):qt(Mn)}function YL(t){let e;if(Ft(t)){const n=du&&t._c;n&&(t._d=!1,pt()),t=t(),n&&(t._d=!0,e=xr,JL())}return Et(t)&&(t=_st(t)),t=ti(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function ZL(t,e){e&&e.pendingBranch?Et(t)?e.effects.push(...t):e.effects.push(t):dm(t)}function Mp(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,eS(r,i))}function Ost(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Le=Symbol.for("v-fgt"),vo=Symbol.for("v-txt"),Mn=Symbol.for("v-cmt"),Cl=Symbol.for("v-stc"),Am=[];let xr=null;function pt(t=!1){Am.push(xr=t?null:[])}function JL(){Am.pop(),xr=Am[Am.length-1]||null}let du=1;function ov(t){du+=t,t<0&&xr&&(xr.hasOnce=!0)}function XL(t){return t.dynamicChildren=du>0?xr||dp:null,JL(),du>0&&xr&&xr.push(t),t}function wt(t,e,n,r,i,s){return XL(lt(t,e,n,r,i,s,!0))}function Be(t,e,n,r,i){return XL(qt(t,e,n,r,i,!0))}function Is(t){return t?t.__v_isVNode===!0:!1}function Ms(t,e){return t.type===e.type&&t.key===e.key}function qL(t){}const KL=({key:t})=>t??null,av=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ht(t)||pe(t)||Ft(t)?{i:Hn,r:t,k:e,f:!!n}:t:null);function lt(t,e=null,n=null,r=0,i=null,s=t===Le?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&KL(e),ref:e&&av(e),scopeId:G1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Hn};return a?(sS(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Ht(n)?8:16),du>0&&!o&&xr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&xr.push(l),l}const qt=Nst;function Nst(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===rL)&&(t=Mn),Is(t)){const a=Os(t,e,!0);return n&&sS(a,n),du>0&&!s&&xr&&(a.shapeFlag&6?xr[xr.indexOf(t)]=a:xr.push(a)),a.patchFlag=-2,a}if(jst(t)&&(t=t.__vccOpts),e){e=rS(e);let{class:a,style:l}=e;a&&!Ht(a)&&(e.class=un(a)),ke(l)&&(hm(l)&&!Et(l)&&(l=he({},l)),e.style=ta(l))}const o=Ht(t)?1:sv(t)?128:G6(t)?64:ke(t)?4:Ft(t)?2:0;return lt(t,e,n,r,i,o,s,!0)}function rS(t){return t?hm(t)||ML(t)?he({},t):t:null}function Os(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?Im(i||{},e):i,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&KL(c),ref:e&&e.ref?n&&s?Et(s)?s.concat(av(e)):[s,av(e)]:av(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Le?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Os(t.ssContent),ssFallback:t.ssFallback&&Os(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&go(p,l.clone(p)),p}function Ns(t=" ",e=0){return qt(vo,null,t,e)}function iS(t,e){const n=qt(Cl,null,t);return n.staticCount=e,n}function Ye(t="",e=!1){return e?(pt(),Be(Mn,null,t)):qt(Mn,null,t)}function ti(t){return t==null||typeof t=="boolean"?qt(Mn):Et(t)?qt(Le,null,t.slice()):Is(t)?Rl(t):qt(vo,null,String(t))}function Rl(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Os(t)}function sS(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Et(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),sS(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!ML(e)?e._ctx=Hn:i===3&&Hn&&(Hn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ft(e)?(e={default:e,_ctx:Hn},n=32):(e=String(e),r&64?(n=16,e=[Ns(e)]):n=8);t.children=e,t.shapeFlag|=n}function Im(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=un([e.class,r.class]));else if(i==="style")e.style=ta([e.style,r.style]);else if(ru(i)){const s=e[i],o=r[i];o&&s!==o&&!(Et(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function ei(t,e,n,r=null){bi(t,e,7,[n,r])}const Cst=TL();let Rst=0;function QL(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||Cst,s={uid:Rst++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:NL(r,i),emitsOptions:BL(r,i),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:r.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=bst.bind(null,s),t.ce&&t.ce(s),s}let On=null;const Nn=()=>On||Hn;let lv,oS;{const t=Hk(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};lv=e("__VUE_INSTANCE_SETTERS__",n=>On=n),oS=e("__VUE_SSR_SETTERS__",n=>Mm=n)}const fu=t=>{const e=On;return lv(t),t.scope.on(),()=>{t.scope.off(),lv(e)}},aS=()=>{On&&On.scope.off(),lv(null)};function t8(t){return t.vnode.shapeFlag&4}let Mm=!1;function e8(t,e=!1,n=!1){e&&oS(e);const{props:r,children:i}=t.vnode,s=t8(t);hst(t,r,s,e),mst(t,i,n);const o=s?kst(t,e):void 0;return e&&oS(!1),o}function kst(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,G3);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?i8(t):null,s=fu(t);ea();const o=Al(r,t,0,[t.props,i]);if(na(),s(),t3(o)){if(Nl(t)||A3(t),o.then(aS,aS),e)return o.then(a=>{lS(t,a,e)}).catch(a=>{Il(a,t,0)});t.asyncDep=o}else lS(t,o,e)}else r8(t,e)}function lS(t,e,n){Ft(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ke(e)&&(t.setupState=L1(e)),r8(t,n)}let cv,cS;function uS(t){cv=t,cS=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,rst))}}const n8=()=>!cv;function r8(t,e,n){const r=t.type;if(!t.render){if(!e&&cv&&!r.render){const i=r.template||V3(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=he(he({isCustomElement:s,delimiters:a},o),l);r.render=cv(i,c)}}t.render=r.render||or,cS&&cS(t)}{const i=fu(t);ea();try{ist(t)}finally{na(),i()}}}const Lst={get(t,e){return _r(t,"get",""),t[e]}};function i8(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Lst),slots:t.slots,emit:t.emit,expose:e}}function Om(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(L1(_n(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wm)return wm[n](t)},has(e,n){return n in e||n in wm}})):t.proxy}const Pst=/(?:^|[-_])(\w)/g,Dst=t=>t.replace(Pst,e=>e.toUpperCase()).replace(/[-_]/g,"");function uv(t,e=!0){return Ft(t)?t.displayName||t.name:t.name||e&&t.__name}function s8(t,e,n=!1){let r=uv(e);if(!r&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&t&&t.parent){const i=s=>{for(const o in s)if(s[o]===e)return o};r=i(t.components||t.parent.type.components)||i(t.appContext.components)}return r?Dst(r):n?"App":"Anonymous"}function jst(t){return Ft(t)&&"__vccOpts"in t}const ee=(t,e)=>Rit(t,e,Mm);function _i(t,e,n){const r=arguments.length;return r===2?ke(e)&&!Et(e)?Is(e)?qt(t,null,[e]):qt(t,e):qt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Is(n)&&(n=[n]),qt(t,e,n))}function o8(){}function a8(t,e,n,r){const i=n[r];if(i&&hS(i,t))return i;const s=e();return s.memo=t.slice(),s.cacheIndex=r,n[r]=s}function hS(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(kr(n[r],e[r]))return!1;return du>0&&xr&&xr.push(t),!0}const pS="3.5.9",l8=or,c8=$it,u8=Sp,h8=P6,Fst={createComponentInstance:QL,setupComponent:e8,renderComponentRoot:iv,setCurrentRenderingInstance:mm,isVNode:Is,normalizeVNode:ti,getComponentPublicInstance:Om,ensureValidVNode:j3,pushWarningContext:Lit,popWarningContext:Pit},p8=Fst,d8=null,f8=null,m8=null;let dS;const y8=typeof window<"u"&&window.trustedTypes;if(y8)try{dS=y8.createPolicy("vue",{createHTML:t=>t})}catch{}const g8=dS?t=>dS.createHTML(t):t=>t,Ust="http://www.w3.org/2000/svg",Gst="http://www.w3.org/1998/Math/MathML",ca=typeof document<"u"?document:null,v8=ca&&ca.createElement("template"),$st={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ca.createElementNS(Ust,t):e==="mathml"?ca.createElementNS(Gst,t):n?ca.createElement(t,{is:n}):ca.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ca.createTextNode(t),createComment:t=>ca.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ca.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{v8.innerHTML=g8(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=v8.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},kl="transition",Nm="animation",Op=Symbol("_vtc"),b8={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_8=he({},W1,b8),Vst=t=>(t.displayName="Transition",t.props=_8,t),Cm=Vst((t,{slots:e})=>_i(S3,x8(t),e)),mu=(t,e=[])=>{Et(t)?t.forEach(n=>n(...e)):t&&t(...e)},w8=t=>t?Et(t)?t.some(e=>e.length>1):t.length>1:!1;function x8(t){const e={};for(const U in t)U in b8||(e[U]=t[U]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:p=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,g=Bst(i),_=g&&g[0],w=g&&g[1],{onBeforeEnter:T,onEnter:A,onEnterCancelled:x,onLeave:b,onLeaveCancelled:I,onBeforeAppear:N=T,onAppear:R=A,onAppearCancelled:P=x}=e,D=(U,J,rt)=>{Ll(U,J?p:a),Ll(U,J?c:o),rt&&rt()},B=(U,J)=>{U._isLeaving=!1,Ll(U,d),Ll(U,y),Ll(U,f),J&&J()},$=U=>(J,rt)=>{const u=U?R:A,m=()=>D(J,U,rt);mu(u,[J,m]),E8(()=>{Ll(J,U?l:s),ua(J,U?p:a),w8(u)||S8(J,r,_,m)})};return he(e,{onBeforeEnter(U){mu(T,[U]),ua(U,s),ua(U,o)},onBeforeAppear(U){mu(N,[U]),ua(U,l),ua(U,c)},onEnter:$(!1),onAppear:$(!0),onLeave(U,J){U._isLeaving=!0;const rt=()=>B(U,J);ua(U,d),ua(U,f),M8(),E8(()=>{U._isLeaving&&(Ll(U,d),ua(U,y),w8(b)||S8(U,r,w,rt))}),mu(b,[U,rt])},onEnterCancelled(U){D(U,!1),mu(x,[U])},onAppearCancelled(U){D(U,!0),mu(P,[U])},onLeaveCancelled(U){B(U),mu(I,[U])}})}function Bst(t){if(t==null)return null;if(ke(t))return[fS(t.enter),fS(t.leave)];{const e=fS(t);return[e,e]}}function fS(t){return v1(t)}function ua(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Op]||(t[Op]=new Set)).add(e)}function Ll(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Op];n&&(n.delete(e),n.size||(t[Op]=void 0))}function E8(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let zst=0;function S8(t,e,n,r){const i=t._endId=++zst,s=()=>{i===t._endId&&r()};if(n!=null)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=T8(t,e);if(!o)return r();const c=o+"end";let p=0;const d=()=>{t.removeEventListener(c,f),s()},f=y=>{y.target===t&&++p>=l&&d()};setTimeout(()=>{p<l&&d()},a+1),t.addEventListener(c,f)}function T8(t,e){const n=window.getComputedStyle(t),r=g=>(n[g]||"").split(", "),i=r(`${kl}Delay`),s=r(`${kl}Duration`),o=A8(i,s),a=r(`${Nm}Delay`),l=r(`${Nm}Duration`),c=A8(a,l);let p=null,d=0,f=0;e===kl?o>0&&(p=kl,d=o,f=s.length):e===Nm?c>0&&(p=Nm,d=c,f=l.length):(d=Math.max(o,c),p=d>0?o>c?kl:Nm:null,f=p?p===kl?s.length:l.length:0);const y=p===kl&&/\b(transform|all)(,|$)/.test(r(`${kl}Property`).toString());return{type:p,timeout:d,propCount:f,hasTransform:y}}function A8(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>I8(n)+I8(t[r])))}function I8(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function M8(){return document.body.offsetHeight}function Wst(t,e,n){const r=t[Op];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const hv=Symbol("_vod"),O8=Symbol("_vsh"),Rm={beforeMount(t,{value:e},{transition:n}){t[hv]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):km(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),km(t,!0),r.enter(t)):r.leave(t,()=>{km(t,!1)}):km(t,e))},beforeUnmount(t,{value:e}){km(t,e)}};function km(t,e){t.style.display=e?t[hv]:"none",t[O8]=!e}function Hst(){Rm.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const N8=Symbol("");function C8(t){const e=Nn();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>pv(s,i))},r=()=>{const i=t(e.proxy);e.ce?pv(e.ce,i):mS(e.subTree,i),n(i)};Ip(()=>{Q3(r)}),Kn(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),uu(()=>i.disconnect())})}function mS(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{mS(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)pv(t.el,e);else if(t.type===Le)t.children.forEach(n=>mS(n,e));else if(t.type===Cl){let{el:n,anchor:r}=t;for(;n&&(pv(n,e),n!==r);)n=n.nextSibling}}function pv(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const i in e)n.setProperty(`--${i}`,e[i]),r+=`--${i}: ${e[i]};`;n[N8]=r}}const Yst=/(^|;)\s*display\s*:/;function Zst(t,e,n){const r=t.style,i=Ht(n);let s=!1;if(n&&!i){if(e)if(Ht(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&dv(r,a,"")}else for(const o in e)n[o]==null&&dv(r,o,"");for(const o in n)o==="display"&&(s=!0),dv(r,o,n[o])}else if(i){if(e!==n){const o=r[N8];o&&(n+=";"+o),r.cssText=n,s=Yst.test(n)}}else e&&t.removeAttribute("style");hv in t&&(t[hv]=s?r.display:"",t[O8]&&(r.display="none"))}const R8=/\s*!important$/;function dv(t,e,n){if(Et(n))n.forEach(r=>dv(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Jst(t,e);R8.test(n)?t.setProperty(Kr(r),n.replace(R8,""),"important"):t[r]=n}}const k8=["Webkit","Moz","ms"],yS={};function Jst(t,e){const n=yS[e];if(n)return n;let r=tn(e);if(r!=="filter"&&r in t)return yS[e]=r;r=wl(r);for(let i=0;i<k8.length;i++){const s=k8[i]+r;if(s in t)return yS[e]=s}return e}const L8="http://www.w3.org/1999/xlink";function P8(t,e,n,r,i,s=eit(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(L8,e.slice(6,e.length)):t.setAttributeNS(L8,e,n):n==null||s&&!Jk(n)?t.removeAttribute(e):t.setAttribute(e,s?"":gi(n)?String(n):n)}function Xst(t,e,n,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?g8(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Jk(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(e)}function ha(t,e,n,r){t.addEventListener(e,n,r)}function qst(t,e,n,r){t.removeEventListener(e,n,r)}const D8=Symbol("_vei");function Kst(t,e,n,r,i=null){const s=t[D8]||(t[D8]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=Qst(e);if(r){const c=s[e]=not(r,i);ha(t,a,c,l)}else o&&(qst(t,a,o,l),s[e]=void 0)}}const j8=/(?:Once|Passive|Capture)$/;function Qst(t){let e;if(j8.test(t)){e={};let n;for(;n=t.match(j8);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kr(t.slice(2)),e]}let gS=0;const tot=Promise.resolve(),eot=()=>gS||(tot.then(()=>gS=0),gS=Date.now());function not(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;bi(rot(r,n.value),e,5,[r])};return n.value=t,n.attached=eot(),n}function rot(t,e){if(Et(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const F8=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,iot=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?Wst(t,r,o):e==="style"?Zst(t,n,r):ru(e)?KE(e)||Kst(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sot(t,e,r,o))?(Xst(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&P8(t,e,r,o,s,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),P8(t,e,r,o))};function sot(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&F8(e)&&Ft(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return F8(e)&&Ht(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!Ht(n)))}const U8={};function vS(t,e,n){const r=re(t,e);m1(r)&&he(r,e);class i extends S0{constructor(o){super(r,o,n)}}return i.def=r,i}const G8=(t,e)=>vS(t,e,wS),oot=typeof HTMLElement<"u"?HTMLElement:class{};class S0 extends oot{constructor(e,n={},r=Dl){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Dl?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof S0){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Wi(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:s,styles:o}=r;let a;if(s&&!Et(s))for(const l in s){const c=s[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=v1(this._props[l])),(a||(a=Object.create(null)))[tn(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>e(this._def=r,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)we(this,r)||Object.defineProperty(this,r,{get:()=>It(n[r])})}_resolveProps(e){const{props:n}=e,r=Et(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(tn))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):U8;const i=tn(e);n&&this._numberProps&&this._numberProps[i]&&(r=v1(r)),this._setProp(i,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!1){n!==this._props[e]&&(n===U8?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Kr(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Kr(e),n+""):n||this.removeAttribute(Kr(e))))}_update(){yu(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=qt(this._def,he(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(s,o)=>{this.dispatchEvent(new CustomEvent(s,m1(o[0])?he({detail:o},o[0]):{detail:o}))};r.emit=(s,...o)=>{i(s,o),Kr(s)!==s&&i(Kr(s),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let i=e.length-1;i>=0;i--){const s=document.createElement("style");r&&s.setAttribute("nonce",r),s.textContent=e[i],this.shadowRoot.prepend(s)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const i=e[r],s=i.getAttribute("name")||"default",o=this._slots[s],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const c=n+"-s",p=document.createTreeWalker(l,1);l.setAttribute(c,"");let d;for(;d=p.nextNode();)d.setAttribute(c,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function bS(t){const e=Nn();return e&&e.ce||null}function $8(){const t=bS();return t&&t.shadowRoot}function V8(t="$style"){{const e=Nn();if(!e)return ce;const n=e.type.__cssModules;return n&&n[t]||ce}}const B8=new WeakMap,z8=new WeakMap,fv=Symbol("_moveCb"),W8=Symbol("_enterCb"),aot=t=>(delete t.props.mode,t),lot=aot({name:"TransitionGroup",props:he({},_8,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Nn(),r=z1();let i,s;return cu(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!pot(i[0].el,n.vnode.el,o))return;i.forEach(cot),i.forEach(uot);const a=i.filter(hot);M8(),a.forEach(l=>{const c=l.el,p=c.style;ua(c,o),p.transform=p.webkitTransform=p.transitionDuration="";const d=c[fv]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[fv]=null,Ll(c,o))};c.addEventListener("transitionend",d)})}),()=>{const o=Gt(t),a=x8(o);let l=o.tag||Le;if(i=[],s)for(let c=0;c<s.length;c++){const p=s[c];p.el&&p.el instanceof Element&&(i.push(p),go(p,lu(p,a,r,n)),B8.set(p,p.el.getBoundingClientRect()))}s=e.default?gm(e.default()):[];for(let c=0;c<s.length;c++){const p=s[c];p.key!=null&&go(p,lu(p,a,r,n))}return qt(l,null,s)}}}),mv=lot;function cot(t){const e=t.el;e[fv]&&e[fv](),e[W8]&&e[W8]()}function uot(t){z8.set(t,t.el.getBoundingClientRect())}function hot(t){const e=B8.get(t),n=z8.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const s=t.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",t}}function pot(t,e,n){const r=t.cloneNode(),i=t[Op];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const s=e.nodeType===1?e:e.parentNode;s.appendChild(r);const{hasTransform:o}=T8(r);return s.removeChild(r),o}const Pl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Et(e)?n=>yp(e,n):e};function dot(t){t.target.composing=!0}function H8(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ji=Symbol("_assign"),Np={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Ji]=Pl(i);const s=r||i.props&&i.props.type==="number";ha(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=g1(a)),t[Ji](a)}),n&&ha(t,"change",()=>{t.value=t.value.trim()}),e||(ha(t,"compositionstart",dot),ha(t,"compositionend",H8),ha(t,"change",H8))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[Ji]=Pl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?g1(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},yv={deep:!0,created(t,e,n){t[Ji]=Pl(n),ha(t,"change",()=>{const r=t._modelValue,i=Cp(t),s=t.checked,o=t[Ji];if(Et(r)){const a=b1(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(iu(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(J8(t,s))})},mounted:Y8,beforeUpdate(t,e,n){t[Ji]=Pl(n),Y8(t,e,n)}};function Y8(t,{value:e},n){t._modelValue=e;let r;Et(e)?r=b1(e,n.props.value)>-1:iu(e)?r=e.has(n.props.value):r=xl(e,J8(t,!0)),t.checked!==r&&(t.checked=r)}const gv={created(t,{value:e},n){t.checked=xl(e,n.props.value),t[Ji]=Pl(n),ha(t,"change",()=>{t[Ji](Cp(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Ji]=Pl(r),e!==n&&(t.checked=xl(e,r.props.value))}},vv={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=iu(e);ha(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?g1(Cp(o)):Cp(o));t[Ji](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Wi(()=>{t._assigning=!1})}),t[Ji]=Pl(r)},mounted(t,{value:e}){Z8(t,e)},beforeUpdate(t,e,n){t[Ji]=Pl(n)},updated(t,{value:e}){t._assigning||Z8(t,e)}};function Z8(t,e){const n=t.multiple,r=Et(e);if(!(n&&!r&&!iu(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=Cp(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=b1(e,a)>-1}else o.selected=e.has(a);else if(xl(Cp(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Cp(t){return"_value"in t?t._value:t.value}function J8(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const _S={created(t,e,n){bv(t,e,n,null,"created")},mounted(t,e,n){bv(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){bv(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){bv(t,e,n,r,"updated")}};function X8(t,e){switch(t){case"SELECT":return vv;case"TEXTAREA":return Np;default:switch(e){case"checkbox":return yv;case"radio":return gv;default:return Np}}}function bv(t,e,n,r,i){const s=X8(t.tagName,n.props&&n.props.type)[i];s&&s(t,e,n,r)}function fot(){Np.getSSRProps=({value:t})=>({value:t}),gv.getSSRProps=({value:t},e)=>{if(e.props&&xl(e.props.value,t))return{checked:!0}},yv.getSSRProps=({value:t},e)=>{if(Et(t)){if(e.props&&b1(t,e.props.value)>-1)return{checked:!0}}else if(iu(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},_S.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=X8(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const mot=["ctrl","shift","alt","meta"],yot={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>mot.some(n=>t[`${n}Key`]&&!e.includes(n))},Rp=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=yot[e[o]];if(a&&a(i,e))return}return t(i,...s)})},got={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},_v=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const s=Kr(i.key);if(e.some(o=>o===s||got[o]===s))return t(i)})},q8=he({patchProp:iot},$st);let Lm,K8=!1;function Q8(){return Lm||(Lm=Y3(q8))}function tP(){return Lm=K8?Lm:Z3(q8),K8=!0,Lm}const yu=(...t)=>{Q8().render(...t)},eP=(...t)=>{tP().hydrate(...t)},Dl=(...t)=>{const e=Q8().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=rP(r);if(!i)return;const s=e._component;!Ft(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,nP(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},wS=(...t)=>{const e=tP().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=rP(r);if(i)return n(i,!0,nP(i))},e};function nP(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function rP(t){return Ht(t)?document.querySelector(t):t}let iP=!1;const sP=()=>{iP||(iP=!0,fot(),Hst())},vot=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:S3,BaseTransitionPropsValidators:W1,Comment:Mn,DeprecationTypes:m8,EffectScope:_1,ErrorCodes:N6,ErrorTypeStrings:c8,Fragment:Le,KeepAlive:eL,ReactiveEffect:gp,Static:Cl,Suspense:WL,Teleport:E3,Text:vo,TrackOpTypes:T6,Transition:Cm,TransitionGroup:mv,TriggerOpTypes:A6,VueElement:S0,assertNumber:O6,callWithAsyncErrorHandling:bi,callWithErrorHandling:Al,camelize:tn,capitalize:wl,cloneVNode:Os,compatUtils:f8,computed:ee,createApp:Dl,createBlock:Be,createCommentVNode:Ye,createElementBlock:wt,createElementVNode:lt,createHydrationRenderer:Z3,createPropsRestProxy:bL,createRenderer:Y3,createSSRApp:wS,createSlots:sL,createStaticVNode:iS,createTextVNode:Ns,createVNode:qt,customRef:m3,defineAsyncComponent:J1,defineComponent:re,defineCustomElement:vS,defineEmits:lL,defineExpose:cL,defineModel:pL,defineOptions:uL,defineProps:aL,defineSSRCustomElement:G8,defineSlots:hL,devtools:u8,effect:r6,effectScope:am,getCurrentInstance:Nn,getCurrentScope:w1,getCurrentWatcher:I6,getTransitionRawChildren:gm,guardReactiveProps:rS,h:_i,handleError:Il,hasInjectionContext:z3,hydrate:eP,hydrateOnIdle:q6,hydrateOnInteraction:tL,hydrateOnMediaQuery:Q6,hydrateOnVisible:K6,initCustomFormatter:o8,initDirectivesForSSR:sP,inject:Fn,isMemoSame:hS,isProxy:hm,isReactive:vi,isReadonly:sa,isRef:pe,isRuntimeOnly:n8,isShallow:Qr,isVNode:Is,markRaw:_n,mergeDefaults:gL,mergeModels:vL,mergeProps:Im,nextTick:Wi,normalizeClass:un,normalizeProps:Zk,normalizeStyle:ta,onActivated:M3,onBeforeMount:Ip,onBeforeUnmount:Yi,onBeforeUpdate:C3,onDeactivated:O3,onErrorCaptured:K1,onMounted:Kn,onRenderTracked:L3,onRenderTriggered:k3,onScopeDispose:r3,onServerPrefetch:R3,onUnmounted:uu,onUpdated:cu,onWatcherCleanup:g3,openBlock:pt,popScopeId:j6,provide:ev,proxyRefs:L1,pushScopeId:D6,queuePostFlushCb:dm,reactive:jn,readonly:R1,ref:tt,registerRuntimeCompiler:uS,render:yu,renderList:la,renderSlot:Zi,resolveComponent:xn,resolveDirective:Me,resolveDynamicComponent:Q1,resolveFilter:d8,resolveTransitionHooks:lu,setBlockTracking:ov,setDevtoolsHook:h8,setTransitionHooks:go,shallowReactive:d3,shallowReadonly:_p,shallowRef:wp,ssrContextKey:q3,ssrUtils:p8,stop:i6,toDisplayString:Ve,toHandlerKey:su,toHandlers:oL,toRaw:Gt,toRef:y3,toRefs:P1,toValue:E6,transformVNodeArgs:qL,triggerRef:x6,unref:It,useAttrs:mL,useCssModule:V8,useCssVars:C8,useHost:bS,useId:Z6,useModel:$L,useSSRContext:K3,useShadowRoot:$8,useSlots:fL,useTemplateRef:vm,useTransitionState:z1,vModelCheckbox:yv,vModelDynamic:_S,vModelRadio:gv,vModelSelect:vv,vModelText:Np,vShow:Rm,version:pS,warn:l8,watch:Yn,watchEffect:UL,watchPostEffect:Q3,watchSyncEffect:tS,withAsyncContext:_L,withCtx:wn,withDefaults:dL,withDirectives:Ie,withKeys:_v,withMemo:a8,withModifiers:Rp,withScopeId:F6},Symbol.toStringTag,{value:"Module"}));var xS={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"828",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6691",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12598303198",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/rastice",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IERpc3RyaWJ1dGVkVGFzay5HZW5lcmF0ZUlkVG9rZW46ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBMb2NhdGlvblNlcnZpY2UuQ29ubmVjdCBSZWFkQW5kVXBkYXRlQnVpbGRCeVVyaTowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IiwiSWRlbnRpdHlUeXBlQ2xhaW0iOiJTeXN0ZW06U2VydmljZUlkZW50aXR5IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiREREREREREQtRERERC1ERERELUREREQtREREREREREREREREIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiYXVpIjoiNzA4ZTJjNTEtNjZiNC00MzdlLWFkNGYtZDJiY2RmOGJkMzBjIiwic2lkIjoiODZiOGQ2NDAtMmJmMS00ZGMwLTkyNDMtMmQyMGM2OGY0NDk0IiwiYWMiOiJbe1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvcmFzdGljZVwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJvaWRjX2V4dHJhIjoie1wicmVmXCI6XCJyZWZzL2hlYWRzL3Jhc3RpY2VcIixcInNoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicmVwb3NpdG9yeVwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJqYW1lcy1yYWVcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjc1ODUyNDVcIixcInJ1bl9pZFwiOlwiMTI1OTgzMDMxOThcIixcInJ1bl9udW1iZXJcIjpcIjkyXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJ3b3JrZmxvd19yZWZcIjpcImphbWVzLXJhZS9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL3Jhc3RpY2VcIixcIndvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvcmFzdGljZVwiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoaWQiOiJlOTljZThmOC02YzMwLTRlNjEtYTBkNS00NzJmMWQ1NTQxYmEuYnVpbGQuX19kZWZhdWx0IiwiaXNzIjoidnN0b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImF1ZCI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb218dnNvOjU4YjIzOGVhLTc0YjctNGFjNi05MTY5LWIzYmZhNzhlYzMxMiIsIm5iZiI6MTczNTkwOTU5NiwiZXhwIjoxNzM1OTMyMzk2fQ.oTuLGumJ9eb05SPgL7X9i9vN3iOxDsfPaum7NE-O5VwhieWH0Chb9mDIIhT61-AvFaAWhQh8ChkPIxAeSkiKDYkYcMuGH8-N6nxqvx2NYkKyN8ZerZ6TH9_37xg4Z6_QsnI0B5MAP4R9vNiaN2RnTwtst3koG7ZGoVk6UMNnD69MPJZ3r8xRP8NrnBCR-8g9fmp8aTMJzzPLLMcaGfdMPW9YWZCqq0adb9zgMYhL8d7x5PUKnH0EErgKZf02X8lZMD3Klnu-5hgkYKFbNFz7jqHt2zLtfi1Waw871z9A-Yj2d8YlEzXNfkeWQa7FjyatrB1M7J5o5RvEBZRddpbC-w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_29fd7f6e-e4c4-41e7-9ea5-1f8dd7072e90",INVOCATION_ID:"66b4c5e5794041008066eb3488e2f114",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"92",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 9",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"rastice",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.11.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/rastice",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus23.actions.githubusercontent.com/QK0qIqlo3r9YNWIQ9RWnYl2JYKdlddRfoYwI7wqcIcmuhIPqfK/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e99ce8f8-6c30-4e61-a0d5-472f1d5541ba/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const Pm=Symbol(""),Dm=Symbol(""),ES=Symbol(""),wv=Symbol(""),oP=Symbol(""),gu=Symbol(""),aP=Symbol(""),lP=Symbol(""),SS=Symbol(""),TS=Symbol(""),jm=Symbol(""),AS=Symbol(""),cP=Symbol(""),IS=Symbol(""),MS=Symbol(""),OS=Symbol(""),NS=Symbol(""),CS=Symbol(""),RS=Symbol(""),uP=Symbol(""),hP=Symbol(""),xv=Symbol(""),Ev=Symbol(""),kS=Symbol(""),LS=Symbol(""),Fm=Symbol(""),Um=Symbol(""),PS=Symbol(""),DS=Symbol(""),bot=Symbol(""),jS=Symbol(""),Sv=Symbol(""),_ot=Symbol(""),wot=Symbol(""),FS=Symbol(""),xot=Symbol(""),Eot=Symbol(""),US=Symbol(""),pP=Symbol(""),kp={[Pm]:"Fragment",[Dm]:"Teleport",[ES]:"Suspense",[wv]:"KeepAlive",[oP]:"BaseTransition",[gu]:"openBlock",[aP]:"createBlock",[lP]:"createElementBlock",[SS]:"createVNode",[TS]:"createElementVNode",[jm]:"createCommentVNode",[AS]:"createTextVNode",[cP]:"createStaticVNode",[IS]:"resolveComponent",[MS]:"resolveDynamicComponent",[OS]:"resolveDirective",[NS]:"resolveFilter",[CS]:"withDirectives",[RS]:"renderList",[uP]:"renderSlot",[hP]:"createSlots",[xv]:"toDisplayString",[Ev]:"mergeProps",[kS]:"normalizeClass",[LS]:"normalizeStyle",[Fm]:"normalizeProps",[Um]:"guardReactiveProps",[PS]:"toHandlers",[DS]:"camelize",[bot]:"capitalize",[jS]:"toHandlerKey",[Sv]:"setBlockTracking",[_ot]:"pushScopeId",[wot]:"popScopeId",[FS]:"withCtx",[xot]:"unref",[Eot]:"isRef",[US]:"withMemo",[pP]:"isMemoSame"};function Sot(t){Object.getOwnPropertySymbols(t).forEach(e=>{kp[e]=t[e]})}const wi={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Tot(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:wi}}function Gm(t,e,n,r,i,s,o,a=!1,l=!1,c=!1,p=wi){return t&&(a?(t.helper(gu),t.helper(Dp(t.inSSR,c))):t.helper(Pp(t.inSSR,c)),o&&t.helper(CS)),{type:13,tag:e,props:n,children:r,patchFlag:i,dynamicProps:s,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:p}}function vu(t,e=wi){return{type:17,loc:e,elements:t}}function Xi(t,e=wi){return{type:15,loc:e,properties:t}}function Cn(t,e){return{type:16,loc:wi,key:Ht(t)?te(t,!0):t,value:e}}function te(t,e=!1,n=wi,r=0){return{type:4,loc:n,content:t,isStatic:e,constType:e?3:r}}function Cs(t,e=wi){return{type:8,loc:e,children:t}}function Zn(t,e=[],n=wi){return{type:14,loc:n,callee:t,arguments:e}}function Lp(t,e=void 0,n=!1,r=!1,i=wi){return{type:18,params:t,returns:e,newline:n,isSlot:r,loc:i}}function GS(t,e,n,r=!0){return{type:19,test:t,consequent:e,alternate:n,newline:r,loc:wi}}function Aot(t,e,n=!1){return{type:20,index:t,value:e,needPauseTracking:n,needArraySpread:!1,loc:wi}}function Iot(t){return{type:21,body:t,loc:wi}}function Pp(t,e){return t||e?SS:TS}function Dp(t,e){return t||e?aP:lP}function $S(t,{helper:e,removeHelper:n,inSSR:r}){t.isBlock||(t.isBlock=!0,n(Pp(r,t.isComponent)),e(gu),e(Dp(r,t.isComponent)))}const dP=new Uint8Array([123,123]),fP=new Uint8Array([125,125]);function mP(t){return t>=97&&t<=122||t>=65&&t<=90}function xi(t){return t===32||t===10||t===9||t===12||t===13}function jl(t){return t===47||t===62||xi(t)}function Tv(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}const Er={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let Mot=class{constructor(t,e){this.stack=t,this.cbs=e,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=dP,this.delimiterClose=fP,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=dP,this.delimiterClose=fP}getPos(t){let e=1,n=t+1;for(let r=this.newlines.length-1;r>=0;r--){const i=this.newlines[r];if(t>i){e=r+2,n=t-i;break}}return{column:n,line:e,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?jl(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||xi(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const n=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=n}this.sectionStart=e+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Er.TitleEnd||this.currentSequence===Er.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Er.Cdata[this.sequenceIndex]?++this.sequenceIndex===Er.Cdata.length&&(this.state=28,this.currentSequence=Er.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);if(e===10&&this.newlines.push(this.index),e===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Er.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,e){this.enterRCDATA(t,e),this.state=31}enterRCDATA(t,e){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=e}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):mP(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){jl(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(jl(t)){const e=this.buffer.slice(this.sectionStart,this.index);e!=="template"&&this.enterRCDATA(Tv("</"+e),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){xi(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=mP(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||xi(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):xi(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):xi(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||jl(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||jl(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||jl(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||jl(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||jl(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):xi(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):xi(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,e){(t===e||this.fastForwardTo(e))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){xi(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Er.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Er.ScriptEnd[3]?this.startSpecial(Er.ScriptEnd,4):t===Er.StyleEnd[3]?this.startSpecial(Er.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Er.TitleEnd[3]?this.startSpecial(Er.TitleEnd,4):t===Er.TextareaEnd[3]?this.startSpecial(Er.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(e===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(e);break}case 2:{this.stateInterpolationOpen(e);break}case 3:{this.stateInterpolation(e);break}case 4:{this.stateInterpolationClose(e);break}case 31:{this.stateSpecialStartSequence(e);break}case 32:{this.stateInRCDATA(e);break}case 26:{this.stateCDATASequence(e);break}case 19:{this.stateInAttrValueDoubleQuotes(e);break}case 12:{this.stateInAttrName(e);break}case 13:{this.stateInDirName(e);break}case 14:{this.stateInDirArg(e);break}case 15:{this.stateInDynamicDirArg(e);break}case 16:{this.stateInDirModifier(e);break}case 28:{this.stateInCommentLike(e);break}case 27:{this.stateInSpecialComment(e);break}case 11:{this.stateBeforeAttrName(e);break}case 6:{this.stateInTagName(e);break}case 34:{this.stateInSFCRootTagName(e);break}case 9:{this.stateInClosingTagName(e);break}case 5:{this.stateBeforeTagName(e);break}case 17:{this.stateAfterAttrName(e);break}case 20:{this.stateInAttrValueSingleQuotes(e);break}case 18:{this.stateBeforeAttrValue(e);break}case 8:{this.stateBeforeClosingTagName(e);break}case 10:{this.stateAfterClosingTagName(e);break}case 29:{this.stateBeforeSpecialS(e);break}case 30:{this.stateBeforeSpecialT(e);break}case 21:{this.stateInAttrValueNoQuotes(e);break}case 7:{this.stateInSelfClosingTag(e);break}case 23:{this.stateInDeclaration(e);break}case 22:{this.stateBeforeDeclaration(e);break}case 25:{this.stateBeforeComment(e);break}case 24:{this.stateInProcessingInstruction(e);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Er.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){}};function yP(t,{compatConfig:e}){const n=e&&e[t];return t==="MODE"?n||3:n}function bu(t,e){const n=yP("MODE",e),r=yP(t,e);return n===3?r===!0:r!==!1}function $m(t,e,n,...r){return bu(t,e)}function VS(t){throw t}function gP(t){}function on(t,e,n,r){const i=`https://vuejs.org/error-reference/#compiler-${t}`,s=new SyntaxError(String(i));return s.code=t,s.loc=e,s}const ni=t=>t.type===4&&t.isStatic;function vP(t){switch(t){case"Teleport":case"teleport":return Dm;case"Suspense":case"suspense":return ES;case"KeepAlive":case"keep-alive":return wv;case"BaseTransition":case"base-transition":return oP}}const Oot=/^\d|[^\$\w\xA0-\uFFFF]/,BS=t=>!Oot.test(t),Not=/[A-Za-z_$\xA0-\uFFFF]/,Cot=/[\.\?\w$\xA0-\uFFFF]/,Rot=/\s+[.[]\s*|\s*[.[]\s+/g,bP=t=>t.type===4?t.content:t.loc.source,kot=t=>{const e=bP(t).trim().replace(Rot,a=>a.trim());let n=0,r=[],i=0,s=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(n){case 0:if(l==="[")r.push(n),n=1,i++;else if(l==="(")r.push(n),n=2,s++;else if(!(a===0?Not:Cot).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(n),n=3,o=l):l==="["?i++:l==="]"&&(--i||(n=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(n),n=3,o=l;else if(l==="(")s++;else if(l===")"){if(a===e.length-1)return!1;--s||(n=r.pop())}break;case 3:l===o&&(n=r.pop(),o=null);break}}return!i&&!s},_P=kot,Lot=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Pot=t=>Lot.test(bP(t)),Dot=Pot;function qi(t,e,n=!1){for(let r=0;r<t.props.length;r++){const i=t.props[r];if(i.type===7&&(n||i.exp)&&(Ht(e)?i.name===e:e.test(i.name)))return i}}function Av(t,e,n=!1,r=!1){for(let i=0;i<t.props.length;i++){const s=t.props[i];if(s.type===6){if(n)continue;if(s.name===e&&(s.value||r))return s}else if(s.name==="bind"&&(s.exp||r)&&_u(s.arg,e))return s}}function _u(t,e){return!!(t&&ni(t)&&t.content===e)}function jot(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function zS(t){return t.type===5||t.type===2}function Fot(t){return t.type===7&&t.name==="slot"}function Iv(t){return t.type===1&&t.tagType===3}function Mv(t){return t.type===1&&t.tagType===2}const Uot=new Set([Fm,Um]);function wP(t,e=[]){if(t&&!Ht(t)&&t.type===14){const n=t.callee;if(!Ht(n)&&Uot.has(n))return wP(t.arguments[0],e.concat(t))}return[t,e]}function Ov(t,e,n){let r,i=t.type===13?t.props:t.arguments[2],s=[],o;if(i&&!Ht(i)&&i.type===14){const a=wP(i);i=a[0],s=a[1],o=s[s.length-1]}if(i==null||Ht(i))r=Xi([e]);else if(i.type===14){const a=i.arguments[0];!Ht(a)&&a.type===15?xP(e,a)||a.properties.unshift(e):i.callee===PS?r=Zn(n.helper(Ev),[Xi([e]),i]):i.arguments.unshift(Xi([e])),!r&&(r=i)}else i.type===15?(xP(e,i)||i.properties.unshift(e),r=i):(r=Zn(n.helper(Ev),[Xi([e]),i]),o&&o.callee===Um&&(o=s[s.length-2]));t.type===13?o?o.arguments[0]=r:t.props=r:o?o.arguments[0]=r:t.arguments[2]=r}function xP(t,e){let n=!1;if(t.key.type===4){const r=t.key.content;n=e.properties.some(i=>i.key.type===4&&i.key.content===r)}return n}function Vm(t,e){return`_${e}_${t.replace(/[^\w]/g,(n,r)=>n==="-"?"_":t.charCodeAt(r).toString())}`}function Got(t){return t.type===14&&t.callee===US?t.arguments[1].returns:t}const $ot=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,EP={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:om,isPreTag:om,isIgnoreNewlineTag:om,isCustomElement:om,onError:VS,onWarn:gP,comments:xS.NODE_ENV!=="production",prefixIdentifiers:!1};let xe=EP,Bm=null,pa="",Sr=null,de=null,ri="",da=-1,wu=-1,WS=0,Fl=!1,HS=null;const an=[],En=new Mot(an,{onerr:fa,ontext(t,e){Nv(ar(t,e),t,e)},ontextentity(t,e,n){Nv(t,e,n)},oninterpolation(t,e){if(Fl)return Nv(ar(t,e),t,e);let n=t+En.delimiterOpen.length,r=e-En.delimiterClose.length;for(;xi(pa.charCodeAt(n));)n++;for(;xi(pa.charCodeAt(r-1));)r--;let i=ar(n,r);i.includes("&")&&(i=xe.decodeEntities(i,!1)),YS({type:5,content:Rv(i,!1,Un(n,r)),loc:Un(t,e)})},onopentagname(t,e){const n=ar(t,e);Sr={type:1,tag:n,ns:xe.getNamespace(n,an[0],xe.ns),tagType:0,props:[],children:[],loc:Un(t-1,e),codegenNode:void 0}},onopentagend(t){TP(t)},onclosetag(t,e){const n=ar(t,e);if(!xe.isVoidTag(n)){let r=!1;for(let i=0;i<an.length;i++)if(an[i].tag.toLowerCase()===n.toLowerCase()){r=!0,i>0&&fa(24,an[0].loc.start.offset);for(let s=0;s<=i;s++){const o=an.shift();Cv(o,e,s<i)}break}r||fa(23,AP(t,60))}},onselfclosingtag(t){const e=Sr.tag;Sr.isSelfClosing=!0,TP(t),an[0]&&an[0].tag===e&&Cv(an.shift(),t)},onattribname(t,e){de={type:6,name:ar(t,e),nameLoc:Un(t,e),value:void 0,loc:Un(t)}},ondirname(t,e){const n=ar(t,e),r=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Fl&&r===""&&fa(26,t),Fl||r==="")de={type:6,name:n,nameLoc:Un(t,e),value:void 0,loc:Un(t)};else if(de={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[te("prop")]:[],loc:Un(t)},r==="pre"){Fl=En.inVPre=!0,HS=Sr;const i=Sr.props;for(let s=0;s<i.length;s++)i[s].type===7&&(i[s]=qot(i[s]))}},ondirarg(t,e){if(t===e)return;const n=ar(t,e);if(Fl)de.name+=n,xu(de.nameLoc,e);else{const r=n[0]!=="[";de.arg=Rv(r?n:n.slice(1,-1),r,Un(t,e),r?3:0)}},ondirmodifier(t,e){const n=ar(t,e);if(Fl)de.name+="."+n,xu(de.nameLoc,e);else if(de.name==="slot"){const r=de.arg;r&&(r.content+="."+n,xu(r.loc,e))}else{const r=te(n,!0,Un(t,e));de.modifiers.push(r)}},onattribdata(t,e){ri+=ar(t,e),da<0&&(da=t),wu=e},onattribentity(t,e,n){ri+=t,da<0&&(da=e),wu=n},onattribnameend(t){const e=de.loc.start.offset,n=ar(e,t);de.type===7&&(de.rawName=n),Sr.props.some(r=>(r.type===7?r.rawName:r.name)===n)&&fa(2,e)},onattribend(t,e){if(Sr&&de){if(xu(de.loc,e),t!==0)if(ri.includes("&")&&(ri=xe.decodeEntities(ri,!0)),de.type===6)de.name==="class"&&(ri=OP(ri).trim()),t===1&&!ri&&fa(13,e),de.value={type:2,content:ri,loc:t===1?Un(da,wu):Un(da-1,wu+1)},En.inSFCRoot&&Sr.tag==="template"&&de.name==="lang"&&ri&&ri!=="html"&&En.enterRCDATA(Tv("</template"),0);else{let n=0;de.exp=Rv(ri,!1,Un(da,wu),0,n),de.name==="for"&&(de.forParseResult=Bot(de.exp));let r=-1;de.name==="bind"&&(r=de.modifiers.findIndex(i=>i.content==="sync"))>-1&&$m("COMPILER_V_BIND_SYNC",xe,de.loc,de.rawName)&&(de.name="model",de.modifiers.splice(r,1))}(de.type!==7||de.name!=="pre")&&Sr.props.push(de)}ri="",da=wu=-1},oncomment(t,e){xe.comments&&YS({type:3,content:ar(t,e),loc:Un(t-4,e+3)})},onend(){const t=pa.length;for(let e=0;e<an.length;e++)Cv(an[e],t-1),fa(24,an[e].loc.start.offset)},oncdata(t,e){an[0].ns!==0?Nv(ar(t,e),t,e):fa(1,t-9)},onprocessinginstruction(t){(an[0]?an[0].ns:xe.ns)===0&&fa(21,t-1)}}),SP=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Vot=/^\(|\)$/g;function Bot(t){const e=t.loc,n=t.content,r=n.match($ot);if(!r)return;const[,i,s]=r,o=(d,f,y=!1)=>{const g=e.start.offset+f,_=g+d.length;return Rv(d,!1,Un(g,_),0,y?1:0)},a={source:o(s.trim(),n.indexOf(s,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(Vot,"").trim();const c=i.indexOf(l),p=l.match(SP);if(p){l=l.replace(SP,"").trim();const d=p[1].trim();let f;if(d&&(f=n.indexOf(d,c+l.length),a.key=o(d,f,!0)),p[2]){const y=p[2].trim();y&&(a.index=o(y,n.indexOf(y,a.key?f+d.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function ar(t,e){return pa.slice(t,e)}function TP(t){En.inSFCRoot&&(Sr.innerLoc=Un(t+1,t+1)),YS(Sr);const{tag:e,ns:n}=Sr;n===0&&xe.isPreTag(e)&&WS++,xe.isVoidTag(e)?Cv(Sr,t):(an.unshift(Sr),(n===1||n===2)&&(En.inXML=!0)),Sr=null}function Nv(t,e,n){{const s=an[0]&&an[0].tag;s!=="script"&&s!=="style"&&t.includes("&")&&(t=xe.decodeEntities(t,!1))}const r=an[0]||Bm,i=r.children[r.children.length-1];i&&i.type===2?(i.content+=t,xu(i.loc,n)):r.children.push({type:2,content:t,loc:Un(e,n)})}function Cv(t,e,n=!1){n?xu(t.loc,AP(e,60)):xu(t.loc,zot(e,62)+1),En.inSFCRoot&&(t.children.length?t.innerLoc.end=he({},t.children[t.children.length-1].loc.end):t.innerLoc.end=he({},t.innerLoc.start),t.innerLoc.source=ar(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:r,ns:i,children:s}=t;if(Fl||(r==="slot"?t.tagType=2:IP(t)?t.tagType=3:Hot(t)&&(t.tagType=1)),En.inRCDATA||(t.children=MP(s)),i===0&&xe.isIgnoreNewlineTag(r)){const o=s[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}i===0&&xe.isPreTag(r)&&WS--,HS===t&&(Fl=En.inVPre=!1,HS=null),En.inXML&&(an[0]?an[0].ns:xe.ns)===0&&(En.inXML=!1);{const o=t.props;if(!En.inSFCRoot&&bu("COMPILER_NATIVE_TEMPLATE",xe)&&t.tag==="template"&&!IP(t)){const l=an[0]||Bm,c=l.children.indexOf(t);l.children.splice(c,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&$m("COMPILER_INLINE_TEMPLATE",xe,a.loc)&&t.children.length&&(a.value={type:2,content:ar(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function zot(t,e){let n=t;for(;pa.charCodeAt(n)!==e&&n<pa.length-1;)n++;return n}function AP(t,e){let n=t;for(;pa.charCodeAt(n)!==e&&n>=0;)n--;return n}const Wot=new Set(["if","else","else-if","for","slot"]);function IP({tag:t,props:e}){if(t==="template"){for(let n=0;n<e.length;n++)if(e[n].type===7&&Wot.has(e[n].name))return!0}return!1}function Hot({tag:t,props:e}){if(xe.isCustomElement(t))return!1;if(t==="component"||Yot(t.charCodeAt(0))||vP(t)||xe.isBuiltInComponent&&xe.isBuiltInComponent(t)||xe.isNativeTag&&!xe.isNativeTag(t))return!0;for(let n=0;n<e.length;n++){const r=e[n];if(r.type===6){if(r.name==="is"&&r.value&&(r.value.content.startsWith("vue:")||$m("COMPILER_IS_ON_ELEMENT",xe,r.loc)))return!0}else if(r.name==="bind"&&_u(r.arg,"is")&&$m("COMPILER_IS_ON_ELEMENT",xe,r.loc))return!0}return!1}function Yot(t){return t>64&&t<91}const Zot=/\r\n/g;function MP(t,e){const n=xe.whitespace!=="preserve";let r=!1;for(let i=0;i<t.length;i++){const s=t[i];if(s.type===2)if(WS)s.content=s.content.replace(Zot,`
`);else if(Jot(s.content)){const o=t[i-1]&&t[i-1].type,a=t[i+1]&&t[i+1].type;!o||!a||n&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&Xot(s.content)))?(r=!0,t[i]=null):s.content=" "}else n&&(s.content=OP(s.content))}return r?t.filter(Boolean):t}function Jot(t){for(let e=0;e<t.length;e++)if(!xi(t.charCodeAt(e)))return!1;return!0}function Xot(t){for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n===10||n===13)return!0}return!1}function OP(t){let e="",n=!1;for(let r=0;r<t.length;r++)xi(t.charCodeAt(r))?n||(e+=" ",n=!0):(e+=t[r],n=!1);return e}function YS(t){(an[0]||Bm).children.push(t)}function Un(t,e){return{start:En.getPos(t),end:e==null?e:En.getPos(e),source:e==null?e:ar(t,e)}}function xu(t,e){t.end=En.getPos(e),t.source=ar(t.start.offset,e)}function qot(t){const e={type:6,name:t.rawName,nameLoc:Un(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const n=t.exp.loc;n.end.offset<t.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),e.value={type:2,content:t.exp.content,loc:n}}return e}function Rv(t,e=!1,n,r=0,i=0){return te(t,e,n,r)}function fa(t,e,n){xe.onError(on(t,Un(e,e)))}function Kot(){En.reset(),Sr=null,de=null,ri="",da=-1,wu=-1,an.length=0}function Qot(t,e){if(Kot(),pa=t,xe=he({},EP),e){let i;for(i in e)e[i]!=null&&(xe[i]=e[i])}En.mode=xe.parseMode==="html"?1:xe.parseMode==="sfc"?2:0,En.inXML=xe.ns===1||xe.ns===2;const n=e&&e.delimiters;n&&(En.delimiterOpen=Tv(n[0]),En.delimiterClose=Tv(n[1]));const r=Bm=Tot([],t);return En.parse(pa),r.loc=Un(0,t.length),r.children=MP(r.children),Bm=null,r}function tat(t,e){kv(t,void 0,e,NP(t,t.children[0]))}function NP(t,e){const{children:n}=t;return n.length===1&&e.type===1&&!Mv(e)}function kv(t,e,n,r=!1,i=!1){const{children:s}=t,o=[];for(let p=0;p<s.length;p++){const d=s[p];if(d.type===1&&d.tagType===0){const f=r?0:Ei(d,n);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const y=d.codegenNode;if(y.type===13){const g=y.patchFlag;if((g===void 0||g===512||g===1)&&RP(d,n)>=2){const _=kP(d);_&&(y.props=n.hoist(_))}y.dynamicProps&&(y.dynamicProps=n.hoist(y.dynamicProps))}}}else if(d.type===12&&(r?0:Ei(d,n))>=2){o.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&n.scopes.vSlot++,kv(d,t,n,!1,i),f&&n.scopes.vSlot--}else if(d.type===11)kv(d,t,n,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)kv(d.branches[f],t,n,d.branches[f].children.length===1,i)}let a=!1;if(o.length===s.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&Et(t.codegenNode.children))t.codegenNode.children=l(vu(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Et(t.codegenNode.children)&&t.codegenNode.children.type===15){const p=c(t.codegenNode,"default");p&&(p.returns=l(vu(p.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Et(e.codegenNode.children)&&e.codegenNode.children.type===15){const p=qi(t,"slot",!0),d=p&&p.arg&&c(e.codegenNode,p.arg);d&&(d.returns=l(vu(d.returns)),a=!0)}}if(!a)for(const p of o)p.codegenNode=n.cache(p.codegenNode);function l(p){const d=n.cache(p);return i&&n.hmr&&(d.needArraySpread=!0),d}function c(p,d){if(p.children&&!Et(p.children)&&p.children.type===15){const f=p.children.properties.find(y=>y.key===d||y.key.content===d);return f&&f.value}}o.length&&n.transformHoist&&n.transformHoist(s,n,t)}function Ei(t,e){const{constantCache:n}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const r=n.get(t);if(r!==void 0)return r;const i=t.codegenNode;if(i.type!==13||i.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(i.patchFlag===void 0){let o=3;const a=RP(t,e);if(a===0)return n.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const c=Ei(t.children[l],e);if(c===0)return n.set(t,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<t.props.length;l++){const c=t.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const p=Ei(c.exp,e);if(p===0)return n.set(t,0),0;p<o&&(o=p)}}if(i.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return n.set(t,0),0;e.removeHelper(gu),e.removeHelper(Dp(e.inSSR,i.isComponent)),i.isBlock=!1,e.helper(Pp(e.inSSR,i.isComponent))}return n.set(t,o),o}else return n.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ei(t.content,e);case 4:return t.constType;case 8:let s=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Ht(a)||gi(a))continue;const l=Ei(a,e);if(l===0)return 0;l<s&&(s=l)}return s;case 20:return 2;default:return 0}}const eat=new Set([kS,LS,Fm,Um]);function CP(t,e){if(t.type===14&&!Ht(t.callee)&&eat.has(t.callee)){const n=t.arguments[0];if(n.type===4)return Ei(n,e);if(n.type===14)return CP(n,e)}return 0}function RP(t,e){let n=3;const r=kP(t);if(r&&r.type===15){const{properties:i}=r;for(let s=0;s<i.length;s++){const{key:o,value:a}=i[s],l=Ei(o,e);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=Ei(a,e):a.type===14?c=CP(a,e):c=0,c===0)return c;c<n&&(n=c)}}return n}function kP(t){const e=t.codegenNode;if(e.type===13)return e.props}function nat(t,{filename:e="",prefixIdentifiers:n=!1,hoistStatic:r=!1,hmr:i=!1,cacheHandlers:s=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=or,isCustomElement:p=or,expressionPlugins:d=[],scopeId:f=null,slotted:y=!0,ssr:g=!1,inSSR:_=!1,ssrCssVars:w="",bindingMetadata:T=ce,inline:A=!1,isTS:x=!1,onError:b=VS,onWarn:I=gP,compatConfig:N}){const R=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),P={filename:e,selfName:R&&wl(tn(R[1])),prefixIdentifiers:n,hoistStatic:r,hmr:i,cacheHandlers:s,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:p,expressionPlugins:d,scopeId:f,slotted:y,ssr:g,inSSR:_,ssrCssVars:w,bindingMetadata:T,inline:A,isTS:x,onError:b,onWarn:I,compatConfig:N,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(D){const B=P.helpers.get(D)||0;return P.helpers.set(D,B+1),D},removeHelper(D){const B=P.helpers.get(D);if(B){const $=B-1;$?P.helpers.set(D,$):P.helpers.delete(D)}},helperString(D){return`_${kp[P.helper(D)]}`},replaceNode(D){P.parent.children[P.childIndex]=P.currentNode=D},removeNode(D){const B=P.parent.children,$=D?B.indexOf(D):P.currentNode?P.childIndex:-1;!D||D===P.currentNode?(P.currentNode=null,P.onNodeRemoved()):P.childIndex>$&&(P.childIndex--,P.onNodeRemoved()),P.parent.children.splice($,1)},onNodeRemoved:or,addIdentifiers(D){},removeIdentifiers(D){},hoist(D){Ht(D)&&(D=te(D)),P.hoists.push(D);const B=te(`_hoisted_${P.hoists.length}`,!1,D.loc,2);return B.hoisted=D,B},cache(D,B=!1){const $=Aot(P.cached.length,D,B);return P.cached.push($),$}};return P.filters=new Set,P}function rat(t,e){const n=nat(t,e);Lv(t,n),e.hoistStatic&&tat(t,n),e.ssr||iat(t,n),t.helpers=new Set([...n.helpers.keys()]),t.components=[...n.components],t.directives=[...n.directives],t.imports=n.imports,t.hoists=n.hoists,t.temps=n.temps,t.cached=n.cached,t.transformed=!0,t.filters=[...n.filters]}function iat(t,e){const{helper:n}=e,{children:r}=t;if(r.length===1){const i=r[0];if(NP(t,i)&&i.codegenNode){const s=i.codegenNode;s.type===13&&$S(s,e),t.codegenNode=s}else t.codegenNode=i}else if(r.length>1){let i=64;t.codegenNode=Gm(e,n(Pm),void 0,t.children,i,void 0,void 0,!0,void 0,!1)}}function sat(t,e){let n=0;const r=()=>{n--};for(;n<t.children.length;n++){const i=t.children[n];Ht(i)||(e.grandParent=e.parent,e.parent=t,e.childIndex=n,e.onNodeRemoved=r,Lv(i,e))}}function Lv(t,e){e.currentNode=t;const{nodeTransforms:n}=e,r=[];for(let s=0;s<n.length;s++){const o=n[s](t,e);if(o&&(Et(o)?r.push(...o):r.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(jm);break;case 5:e.ssr||e.helper(xv);break;case 9:for(let s=0;s<t.branches.length;s++)Lv(t.branches[s],e);break;case 10:case 11:case 1:case 0:sat(t,e);break}e.currentNode=t;let i=r.length;for(;i--;)r[i]()}function LP(t,e){const n=Ht(t)?r=>r===t:r=>t.test(r);return(r,i)=>{if(r.type===1){const{props:s}=r;if(r.tagType===3&&s.some(Fot))return;const o=[];for(let a=0;a<s.length;a++){const l=s[a];if(l.type===7&&n(l.name)){s.splice(a,1),a--;const c=e(r,l,i);c&&o.push(c)}}return o}}}const Pv="/*@__PURE__*/",PP=t=>`${kp[t]}: _${kp[t]}`;function oat(t,{mode:e="function",prefixIdentifiers:n=e==="module",sourceMap:r=!1,filename:i="template.vue.html",scopeId:s=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:p=!1,isTS:d=!1,inSSR:f=!1}){const y={mode:e,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:s,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:p,isTS:d,inSSR:f,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(_){return`_${kp[_]}`},push(_,w=-2,T){y.code+=_},indent(){g(++y.indentLevel)},deindent(_=!1){_?--y.indentLevel:g(--y.indentLevel)},newline(){g(y.indentLevel)}};function g(_){y.push(`
`+"  ".repeat(_),0)}return y}function aat(t,e={}){const n=oat(t,e);e.onContextCreated&&e.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:s,indent:o,deindent:a,newline:l,scopeId:c,ssr:p}=n,d=Array.from(t.helpers),f=d.length>0,y=!s&&r!=="module";lat(t,n);const g=p?"ssrRender":"render",_=(p?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${g}(${_}) {`),o(),y&&(i("with (_ctx) {"),o(),f&&(i(`const { ${d.map(PP).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(ZS(t.components,"component",n),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(ZS(t.directives,"directive",n),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),ZS(t.filters,"filter",n),l()),t.temps>0){i("let ");for(let w=0;w<t.temps;w++)i(`${w>0?", ":""}_temp${w}`)}return(t.components.length||t.directives.length||t.temps)&&(i(`
`,0),l()),p||i("return "),t.codegenNode?Tr(t.codegenNode,n):i("null"),y&&(a(),i("}")),a(),i("}"),{ast:t,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function lat(t,e){const{ssr:n,prefixIdentifiers:r,push:i,newline:s,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,c=a,p=Array.from(t.helpers);if(p.length>0&&(i(`const _Vue = ${c}
`,-1),t.hoists.length)){const d=[SS,TS,jm,AS,cP].filter(f=>p.includes(f)).map(PP).join(", ");i(`const { ${d} } = _Vue
`,-1)}cat(t.hoists,e),s(),i("return ")}function ZS(t,e,{helper:n,push:r,newline:i,isTS:s}){const o=n(e==="filter"?NS:e==="component"?IS:OS);for(let a=0;a<t.length;a++){let l=t[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),r(`const ${Vm(l,e)} = ${o}(${JSON.stringify(l)}${c?", true":""})${s?"!":""}`),a<t.length-1&&i()}}function cat(t,e){if(!t.length)return;e.pure=!0;const{push:n,newline:r}=e;r();for(let i=0;i<t.length;i++){const s=t[i];s&&(n(`const _hoisted_${i+1} = `),Tr(s,e),r())}e.pure=!1}function JS(t,e){const n=t.length>3||xS.NODE_ENV!=="production";e.push("["),n&&e.indent(),zm(t,e,n),n&&e.deindent(),e.push("]")}function zm(t,e,n=!1,r=!0){const{push:i,newline:s}=e;for(let o=0;o<t.length;o++){const a=t[o];Ht(a)?i(a,-3):Et(a)?JS(a,e):Tr(a,e),o<t.length-1&&(n?(r&&i(","),s()):r&&i(", "))}}function Tr(t,e){if(Ht(t)){e.push(t,-3);return}if(gi(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Tr(t.codegenNode,e);break;case 2:uat(t,e);break;case 4:DP(t,e);break;case 5:hat(t,e);break;case 12:Tr(t.codegenNode,e);break;case 8:jP(t,e);break;case 3:dat(t,e);break;case 13:fat(t,e);break;case 14:yat(t,e);break;case 15:gat(t,e);break;case 17:vat(t,e);break;case 18:bat(t,e);break;case 19:_at(t,e);break;case 20:wat(t,e);break;case 21:zm(t.body,e,!0,!1);break}}function uat(t,e){e.push(JSON.stringify(t.content),-3,t)}function DP(t,e){const{content:n,isStatic:r}=t;e.push(r?JSON.stringify(n):n,-3,t)}function hat(t,e){const{push:n,helper:r,pure:i}=e;i&&n(Pv),n(`${r(xv)}(`),Tr(t.content,e),n(")")}function jP(t,e){for(let n=0;n<t.children.length;n++){const r=t.children[n];Ht(r)?e.push(r,-3):Tr(r,e)}}function pat(t,e){const{push:n}=e;if(t.type===8)n("["),jP(t,e),n("]");else if(t.isStatic){const r=BS(t.content)?t.content:JSON.stringify(t.content);n(r,-2,t)}else n(`[${t.content}]`,-3,t)}function dat(t,e){const{push:n,helper:r,pure:i}=e;i&&n(Pv),n(`${r(jm)}(${JSON.stringify(t.content)})`,-3,t)}function fat(t,e){const{push:n,helper:r,pure:i}=e,{tag:s,props:o,children:a,patchFlag:l,dynamicProps:c,directives:p,isBlock:d,disableTracking:f,isComponent:y}=t;let g;l&&(g=String(l)),p&&n(r(CS)+"("),d&&n(`(${r(gu)}(${f?"true":""}), `),i&&n(Pv);const _=d?Dp(e.inSSR,y):Pp(e.inSSR,y);n(r(_)+"(",-2,t),zm(mat([s,o,a,g,c]),e),n(")"),d&&n(")"),p&&(n(", "),Tr(p,e),n(")"))}function mat(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(n=>n||"null")}function yat(t,e){const{push:n,helper:r,pure:i}=e,s=Ht(t.callee)?t.callee:r(t.callee);i&&n(Pv),n(s+"(",-2,t),zm(t.arguments,e),n(")")}function gat(t,e){const{push:n,indent:r,deindent:i,newline:s}=e,{properties:o}=t;if(!o.length){n("{}",-2,t);return}const a=o.length>1||xS.NODE_ENV!=="production";n(a?"{":"{ "),a&&r();for(let l=0;l<o.length;l++){const{key:c,value:p}=o[l];pat(c,e),n(": "),Tr(p,e),l<o.length-1&&(n(","),s())}a&&i(),n(a?"}":" }")}function vat(t,e){JS(t.elements,e)}function bat(t,e){const{push:n,indent:r,deindent:i}=e,{params:s,returns:o,body:a,newline:l,isSlot:c}=t;c&&n(`_${kp[FS]}(`),n("(",-2,t),Et(s)?zm(s,e):s&&Tr(s,e),n(") => "),(l||a)&&(n("{"),r()),o?(l&&n("return "),Et(o)?JS(o,e):Tr(o,e)):a&&Tr(a,e),(l||a)&&(i(),n("}")),c&&(t.isNonScopedSlot&&n(", undefined, true"),n(")"))}function _at(t,e){const{test:n,consequent:r,alternate:i,newline:s}=t,{push:o,indent:a,deindent:l,newline:c}=e;if(n.type===4){const d=!BS(n.content);d&&o("("),DP(n,e),d&&o(")")}else o("("),Tr(n,e),o(")");s&&a(),e.indentLevel++,s||o(" "),o("? "),Tr(r,e),e.indentLevel--,s&&c(),s||o(" "),o(": ");const p=i.type===19;p||e.indentLevel++,Tr(i,e),p||e.indentLevel--,s&&l(!0)}function wat(t,e){const{push:n,helper:r,indent:i,deindent:s,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&n("[...("),n(`_cache[${t.index}] || (`),a&&(i(),n(`${r(Sv)}(-1),`),o(),n("(")),n(`_cache[${t.index}] = `),Tr(t.value,e),a&&(n(`).cacheIndex = ${t.index},`),o(),n(`${r(Sv)}(1),`),o(),n(`_cache[${t.index}]`),s()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const xat=LP(/^(if|else|else-if)$/,(t,e,n)=>Eat(t,e,n,(r,i,s)=>{const o=n.parent.children;let a=o.indexOf(r),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(s)r.codegenNode=UP(i,l,n);else{const c=Sat(r.codegenNode);c.alternate=UP(i,l+r.branches.length-1,n)}}}));function Eat(t,e,n,r){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const i=e.exp?e.exp.loc:t.loc;n.onError(on(28,e.loc)),e.exp=te("true",!1,i)}if(e.name==="if"){const i=FP(t,e),s={type:9,loc:t.loc,branches:[i]};if(n.replaceNode(s),r)return r(s,i,!0)}else{const i=n.parent.children;let s=i.indexOf(t);for(;s-->=-1;){const o=i[s];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(on(30,t.loc)),n.removeNode();const a=FP(t,e);o.branches.push(a);const l=r&&r(o,a,!1);Lv(a,n),l&&l(),n.currentNode=null}else n.onError(on(30,t.loc));break}}}function FP(t,e){const n=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:n&&!qi(t,"for")?t.children:[t],userKey:Av(t,"key"),isTemplateIf:n}}function UP(t,e,n){return t.condition?GS(t.condition,GP(t,e,n),Zn(n.helper(jm),['""',"true"])):GP(t,e,n)}function GP(t,e,n){const{helper:r}=n,i=Cn("key",te(`${e}`,!1,wi,2)),{children:s}=t,o=s[0];if(s.length!==1||o.type!==1)if(s.length===1&&o.type===11){const a=o.codegenNode;return Ov(a,i,n),a}else return Gm(n,r(Pm),Xi([i]),s,64,void 0,void 0,!0,!1,!1,t.loc);else{const a=o.codegenNode,l=Got(a);return l.type===13&&$S(l,n),Ov(l,i,n),a}}function Sat(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const Tat=(t,e,n)=>{const{modifiers:r,loc:i}=t,s=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(s.type!==4||!s.isStatic)return n.onError(on(52,s.loc)),{props:[Cn(s,te("",!0,i))]};$P(t),o=t.exp}return s.type!==4?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),r.some(a=>a.content==="camel")&&(s.type===4?s.isStatic?s.content=tn(s.content):s.content=`${n.helperString(DS)}(${s.content})`:(s.children.unshift(`${n.helperString(DS)}(`),s.children.push(")"))),n.inSSR||(r.some(a=>a.content==="prop")&&VP(s,"."),r.some(a=>a.content==="attr")&&VP(s,"^")),{props:[Cn(s,o)]}},$P=(t,e)=>{const n=t.arg,r=tn(n.content);t.exp=te(r,!1,n.loc)},VP=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},Aat=LP("for",(t,e,n)=>{const{helper:r,removeHelper:i}=n;return Iat(t,e,n,s=>{const o=Zn(r(RS),[s.source]),a=Iv(t),l=qi(t,"memo"),c=Av(t,"key",!1,!0);c&&c.type===7&&!c.exp&&$P(c);const p=c&&(c.type===6?c.value?te(c.value.content,!0):void 0:c.exp),d=c&&p?Cn("key",p):null,f=s.source.type===4&&s.source.constType>0,y=f?64:c?128:256;return s.codegenNode=Gm(n,r(Pm),void 0,o,y,void 0,void 0,!0,!f,!1,t.loc),()=>{let g;const{children:_}=s,w=_.length!==1||_[0].type!==1,T=Mv(t)?t:a&&t.children.length===1&&Mv(t.children[0])?t.children[0]:null;if(T?(g=T.codegenNode,a&&d&&Ov(g,d,n)):w?g=Gm(n,r(Pm),d?Xi([d]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(g=_[0].codegenNode,a&&d&&Ov(g,d,n),g.isBlock!==!f&&(g.isBlock?(i(gu),i(Dp(n.inSSR,g.isComponent))):i(Pp(n.inSSR,g.isComponent))),g.isBlock=!f,g.isBlock?(r(gu),r(Dp(n.inSSR,g.isComponent))):r(Pp(n.inSSR,g.isComponent))),l){const A=Lp(XS(s.parseResult,[te("_cached")]));A.body=Iot([Cs(["const _memo = (",l.exp,")"]),Cs(["if (_cached",...p?[" && _cached.key === ",p]:[],` && ${n.helperString(pP)}(_cached, _memo)) return _cached`]),Cs(["const _item = ",g]),te("_item.memo = _memo"),te("return _item")]),o.arguments.push(A,te("_cache"),te(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(Lp(XS(s.parseResult),g,!0))}})});function Iat(t,e,n,r){if(!e.exp){n.onError(on(31,e.loc));return}const i=e.forParseResult;if(!i){n.onError(on(32,e.loc));return}BP(i);const{addIdentifiers:s,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:p,index:d}=i,f={type:11,loc:e.loc,source:l,valueAlias:c,keyAlias:p,objectIndexAlias:d,parseResult:i,children:Iv(t)?t.children:[t]};n.replaceNode(f),a.vFor++;const y=r&&r(f);return()=>{a.vFor--,y&&y()}}function BP(t,e){t.finalized||(t.finalized=!0)}function XS({value:t,key:e,index:n},r=[]){return Mat([t,e,n,...r])}function Mat(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((n,r)=>n||te("_".repeat(r+1),!1))}const zP=te("undefined",!1),Oat=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const n=qi(t,"slot");if(n)return n.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},Nat=(t,e,n,r)=>Lp(t,n,!1,!0,n.length?n[0].loc:r);function Cat(t,e,n=Nat){e.helper(FS);const{children:r,loc:i}=t,s=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=qi(t,"slot",!0);if(l){const{arg:w,exp:T}=l;w&&!ni(w)&&(a=!0),s.push(Cn(w||te("default",!0),n(T,void 0,r,i)))}let c=!1,p=!1;const d=[],f=new Set;let y=0;for(let w=0;w<r.length;w++){const T=r[w];let A;if(!Iv(T)||!(A=qi(T,"slot",!0))){T.type!==3&&d.push(T);continue}if(l){e.onError(on(37,A.loc));break}c=!0;const{children:x,loc:b}=T,{arg:I=te("default",!0),exp:N,loc:R}=A;let P;ni(I)?P=I?I.content:"default":a=!0;const D=qi(T,"for"),B=n(N,D,x,b);let $,U;if($=qi(T,"if"))a=!0,o.push(GS($.exp,Dv(I,B,y++),zP));else if(U=qi(T,/^else(-if)?$/,!0)){let J=w,rt;for(;J--&&(rt=r[J],rt.type===3););if(rt&&Iv(rt)&&qi(rt,/^(else-)?if$/)){let u=o[o.length-1];for(;u.alternate.type===19;)u=u.alternate;u.alternate=U.exp?GS(U.exp,Dv(I,B,y++),zP):Dv(I,B,y++)}else e.onError(on(30,U.loc))}else if(D){a=!0;const J=D.forParseResult;J?(BP(J),o.push(Zn(e.helper(RS),[J.source,Lp(XS(J),Dv(I,B),!0)]))):e.onError(on(32,D.loc))}else{if(P){if(f.has(P)){e.onError(on(38,R));continue}f.add(P),P==="default"&&(p=!0)}s.push(Cn(I,B))}}if(!l){const w=(T,A)=>{const x=n(T,void 0,A,i);return e.compatConfig&&(x.isNonScopedSlot=!0),Cn("default",x)};c?d.length&&d.some(T=>WP(T))&&(p?e.onError(on(39,d[0].loc)):s.push(w(void 0,d))):s.push(w(void 0,r))}const g=a?2:jv(t.children)?3:1;let _=Xi(s.concat(Cn("_",te(g+"",!1))),i);return o.length&&(_=Zn(e.helper(hP),[_,vu(o)])),{slots:_,hasDynamicSlots:a}}function Dv(t,e,n){const r=[Cn("name",t),Cn("fn",e)];return n!=null&&r.push(Cn("key",te(String(n),!0))),Xi(r)}function jv(t){for(let e=0;e<t.length;e++){const n=t[e];switch(n.type){case 1:if(n.tagType===2||jv(n.children))return!0;break;case 9:if(jv(n.branches))return!0;break;case 10:case 11:if(jv(n.children))return!0;break}}return!1}function WP(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():WP(t.content)}const HP=new WeakMap,Rat=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:r}=t,i=t.tagType===1;let s=i?kat(t,e):`"${n}"`;const o=ke(s)&&s.callee===MS;let a,l,c=0,p,d,f,y=o||s===Dm||s===ES||!i&&(n==="svg"||n==="foreignObject"||n==="math");if(r.length>0){const g=YP(t,e,void 0,i,o);a=g.props,c=g.patchFlag,d=g.dynamicPropNames;const _=g.directives;f=_&&_.length?vu(_.map(w=>Pat(w,e))):void 0,g.shouldUseBlock&&(y=!0)}if(t.children.length>0)if(s===wv&&(y=!0,c|=1024),i&&s!==Dm&&s!==wv){const{slots:g,hasDynamicSlots:_}=Cat(t,e);l=g,_&&(c|=1024)}else if(t.children.length===1&&s!==Dm){const g=t.children[0],_=g.type,w=_===5||_===8;w&&Ei(g,e)===0&&(c|=1),w||_===2?l=g:l=t.children}else l=t.children;d&&d.length&&(p=Dat(d)),t.codegenNode=Gm(e,s,a,l,c===0?void 0:c,p,f,!!y,!1,i,t.loc)};function kat(t,e,n=!1){let{tag:r}=t;const i=qS(r),s=Av(t,"is",!1,!0);if(s)if(i||bu("COMPILER_IS_ON_ELEMENT",e)){let a;if(s.type===6?a=s.value&&te(s.value.content,!0):(a=s.exp,a||(a=te("is",!1,s.arg.loc))),a)return Zn(e.helper(MS),[a])}else s.type===6&&s.value.content.startsWith("vue:")&&(r=s.value.content.slice(4));const o=vP(r)||e.isBuiltInComponent(r);return o?(n||e.helper(o),o):(e.helper(IS),e.components.add(r),Vm(r,"component"))}function YP(t,e,n=t.props,r,i,s=!1){const{tag:o,loc:a,children:l}=t;let c=[];const p=[],d=[],f=l.length>0;let y=!1,g=0,_=!1,w=!1,T=!1,A=!1,x=!1,b=!1;const I=[],N=B=>{c.length&&(p.push(Xi(ZP(c),a)),c=[]),B&&p.push(B)},R=()=>{e.scopes.vFor>0&&c.push(Cn(te("ref_for",!0),te("true")))},P=({key:B,value:$})=>{if(ni(B)){const U=B.content,J=ru(U);if(J&&(!r||i)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!_l(U)&&(A=!0),J&&_l(U)&&(b=!0),J&&$.type===14&&($=$.arguments[0]),$.type===20||($.type===4||$.type===8)&&Ei($,e)>0)return;U==="ref"?_=!0:U==="class"?w=!0:U==="style"?T=!0:U!=="key"&&!I.includes(U)&&I.push(U),r&&(U==="class"||U==="style")&&!I.includes(U)&&I.push(U)}else x=!0};for(let B=0;B<n.length;B++){const $=n[B];if($.type===6){const{loc:U,name:J,nameLoc:rt,value:u}=$;let m=!0;if(J==="ref"&&(_=!0,R()),J==="is"&&(qS(o)||u&&u.content.startsWith("vue:")||bu("COMPILER_IS_ON_ELEMENT",e)))continue;c.push(Cn(te(J,!0,rt),te(u?u.content:"",m,u?u.loc:U)))}else{const{name:U,arg:J,exp:rt,loc:u,modifiers:m}=$,E=U==="bind",k=U==="on";if(U==="slot"){r||e.onError(on(40,u));continue}if(U==="once"||U==="memo"||U==="is"||E&&_u(J,"is")&&(qS(o)||bu("COMPILER_IS_ON_ELEMENT",e))||k&&s)continue;if((E&&_u(J,"key")||k&&f&&_u(J,"vue:before-update"))&&(y=!0),E&&_u(J,"ref")&&R(),!J&&(E||k)){if(x=!0,rt)if(E){if(R(),N(),bu("COMPILER_V_BIND_OBJECT_ORDER",e)){p.unshift(rt);continue}p.push(rt)}else N({type:14,loc:u,callee:e.helper(PS),arguments:r?[rt]:[rt,"true"]});else e.onError(on(E?34:35,u));continue}E&&m.some(K=>K.content==="prop")&&(g|=32);const H=e.directiveTransforms[U];if(H){const{props:K,needRuntime:ft}=H($,t,e);!s&&K.forEach(P),k&&J&&!ni(J)?N(Xi(K,a)):c.push(...K),ft&&(d.push($),gi(ft)&&HP.set($,ft))}else jrt(U)||(d.push($),f&&(y=!0))}}let D;if(p.length?(N(),p.length>1?D=Zn(e.helper(Ev),p,a):D=p[0]):c.length&&(D=Xi(ZP(c),a)),x?g|=16:(w&&!r&&(g|=2),T&&!r&&(g|=4),I.length&&(g|=8),A&&(g|=32)),!y&&(g===0||g===32)&&(_||b||d.length>0)&&(g|=512),!e.inSSR&&D)switch(D.type){case 15:let B=-1,$=-1,U=!1;for(let u=0;u<D.properties.length;u++){const m=D.properties[u].key;ni(m)?m.content==="class"?B=u:m.content==="style"&&($=u):m.isHandlerKey||(U=!0)}const J=D.properties[B],rt=D.properties[$];U?D=Zn(e.helper(Fm),[D]):(J&&!ni(J.value)&&(J.value=Zn(e.helper(kS),[J.value])),rt&&(T||rt.value.type===4&&rt.value.content.trim()[0]==="["||rt.value.type===17)&&(rt.value=Zn(e.helper(LS),[rt.value])));break;case 14:break;default:D=Zn(e.helper(Fm),[Zn(e.helper(Um),[D])]);break}return{props:D,directives:d,patchFlag:g,dynamicPropNames:I,shouldUseBlock:y}}function ZP(t){const e=new Map,n=[];for(let r=0;r<t.length;r++){const i=t[r];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const s=i.key.content,o=e.get(s);o?(s==="style"||s==="class"||ru(s))&&Lat(o,i):(e.set(s,i),n.push(i))}return n}function Lat(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=vu([t.value,e.value],t.loc)}function Pat(t,e){const n=[],r=HP.get(t);r?n.push(e.helperString(r)):(e.helper(OS),e.directives.add(t.name),n.push(Vm(t.name,"directive")));const{loc:i}=t;if(t.exp&&n.push(t.exp),t.arg&&(t.exp||n.push("void 0"),n.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||n.push("void 0"),n.push("void 0"));const s=te("true",!1,i);n.push(Xi(t.modifiers.map(o=>Cn(o,s)),i))}return vu(n,t.loc)}function Dat(t){let e="[";for(let n=0,r=t.length;n<r;n++)e+=JSON.stringify(t[n]),n<r-1&&(e+=", ");return e+"]"}function qS(t){return t==="component"||t==="Component"}const jat=(t,e)=>{if(Mv(t)){const{children:n,loc:r}=t,{slotName:i,slotProps:s}=Fat(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;s&&(o[2]=s,a=3),n.length&&(o[3]=Lp([],n,!1,!1,r),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Zn(e.helper(uP),o,r)}};function Fat(t,e){let n='"default"',r;const i=[];for(let s=0;s<t.props.length;s++){const o=t.props[s];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=tn(o.name),i.push(o)));else if(o.name==="bind"&&_u(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=tn(o.arg.content);n=o.exp=te(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&ni(o.arg)&&(o.arg.content=tn(o.arg.content)),i.push(o)}if(i.length>0){const{props:s,directives:o}=YP(t,e,i,!1,!1);r=s,o.length&&e.onError(on(36,o[0].loc))}return{slotName:n,slotProps:r}}const JP=(t,e,n,r)=>{const{loc:i,modifiers:s,arg:o}=t;!t.exp&&!s.length&&n.onError(on(35,i));let a;if(o.type===4)if(o.isStatic){let d=o.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=e.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?su(tn(d)):`on:${d}`;a=te(f,!0,o.loc)}else a=Cs([`${n.helperString(jS)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(jS)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const d=_P(l),f=!(d||Dot(l)),y=l.content.includes(";");(f||c&&d)&&(l=Cs([`${f?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let p={props:[Cn(a,l||te("() => {}",!1,i))]};return r&&(p=r(p)),c&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(d=>d.key.isHandlerKey=!0),p},Uat=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const n=t.children;let r,i=!1;for(let s=0;s<n.length;s++){const o=n[s];if(zS(o)){i=!0;for(let a=s+1;a<n.length;a++){const l=n[a];if(zS(l))r||(r=n[s]=Cs([o],o.loc)),r.children.push(" + ",l),n.splice(a,1),a--;else{r=void 0;break}}}}if(!(!i||n.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(s=>s.type===7&&!e.directiveTransforms[s.name])&&t.tag!=="template")))for(let s=0;s<n.length;s++){const o=n[s];if(zS(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Ei(o,e)===0&&a.push("1"),n[s]={type:12,content:o,loc:o.loc,codegenNode:Zn(e.helper(AS),a)}}}}},XP=new WeakSet,Gat=(t,e)=>{if(t.type===1&&qi(t,"once",!0))return XP.has(t)||e.inVOnce||e.inSSR?void 0:(XP.add(t),e.inVOnce=!0,e.helper(Sv),()=>{e.inVOnce=!1;const n=e.currentNode;n.codegenNode&&(n.codegenNode=e.cache(n.codegenNode,!0))})},qP=(t,e,n)=>{const{exp:r,arg:i}=t;if(!r)return n.onError(on(41,t.loc)),Fv();const s=r.loc.source.trim(),o=r.type===4?r.content:s,a=n.bindingMetadata[s];if(a==="props"||a==="props-aliased")return n.onError(on(44,r.loc)),Fv();if(!o.trim()||!_P(r))return n.onError(on(42,r.loc)),Fv();const l=i||te("modelValue",!0),c=i?ni(i)?`onUpdate:${tn(i.content)}`:Cs(['"onUpdate:" + ',i]):"onUpdate:modelValue";let p;const d=n.isTS?"($event: any)":"$event";p=Cs([`${d} => ((`,r,") = $event)"]);const f=[Cn(l,t.exp),Cn(c,p)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(_=>_.content).map(_=>(BS(_)?_:JSON.stringify(_))+": true").join(", "),g=i?ni(i)?`${i.content}Modifiers`:Cs([i,' + "Modifiers"']):"modelModifiers";f.push(Cn(g,te(`{ ${y} }`,!1,t.loc,2)))}return Fv(f)};function Fv(t=[]){return{props:t}}const $at=/[\w).+\-_$\]]/,Vat=(t,e)=>{bu("COMPILER_FILTERS",e)&&(t.type===5?Uv(t.content,e):t.type===1&&t.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Uv(n.exp,e)}))};function Uv(t,e){if(t.type===4)KP(t,e);else for(let n=0;n<t.children.length;n++){const r=t.children[n];typeof r=="object"&&(r.type===4?KP(r,e):r.type===8?Uv(t,e):r.type===5&&Uv(r.content,e))}}function KP(t,e){const n=t.content;let r=!1,i=!1,s=!1,o=!1,a=0,l=0,c=0,p=0,d,f,y,g,_=[];for(y=0;y<n.length;y++)if(f=d,d=n.charCodeAt(y),r)d===39&&f!==92&&(r=!1);else if(i)d===34&&f!==92&&(i=!1);else if(s)d===96&&f!==92&&(s=!1);else if(o)d===47&&f!==92&&(o=!1);else if(d===124&&n.charCodeAt(y+1)!==124&&n.charCodeAt(y-1)!==124&&!a&&!l&&!c)g===void 0?(p=y+1,g=n.slice(0,y).trim()):w();else{switch(d){case 34:i=!0;break;case 39:r=!0;break;case 96:s=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let T=y-1,A;for(;T>=0&&(A=n.charAt(T),A===" ");T--);(!A||!$at.test(A))&&(o=!0)}}g===void 0?g=n.slice(0,y).trim():p!==0&&w();function w(){_.push(n.slice(p,y).trim()),p=y+1}if(_.length){for(y=0;y<_.length;y++)g=Bat(g,_[y],e);t.content=g,t.ast=void 0}}function Bat(t,e,n){n.helper(NS);const r=e.indexOf("(");if(r<0)return n.filters.add(e),`${Vm(e,"filter")}(${t})`;{const i=e.slice(0,r),s=e.slice(r+1);return n.filters.add(i),`${Vm(i,"filter")}(${t}${s!==")"?","+s:s}`}}const QP=new WeakSet,zat=(t,e)=>{if(t.type===1){const n=qi(t,"memo");return!n||QP.has(t)?void 0:(QP.add(t),()=>{const r=t.codegenNode||e.currentNode.codegenNode;r&&r.type===13&&(t.tagType!==1&&$S(r,e),t.codegenNode=Zn(e.helper(US),[n.exp,Lp(void 0,r),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function Wat(t){return[[Gat,xat,zat,Aat,Vat,jat,Rat,Oat,Uat],{on:JP,bind:Tat,model:qP}]}function Hat(t,e={}){const n=e.onError||VS,r=e.mode==="module";e.prefixIdentifiers===!0?n(on(47)):r&&n(on(48));const i=!1;e.cacheHandlers&&n(on(49)),e.scopeId&&!r&&n(on(50));const s=he({},e,{prefixIdentifiers:i}),o=Ht(t)?Qot(t,s):t,[a,l]=Wat();return rat(o,he({},s,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:he({},l,e.directiveTransforms||{})})),aat(o,s)}const Yat=()=>({props:[]}),t9=Symbol(""),e9=Symbol(""),n9=Symbol(""),r9=Symbol(""),KS=Symbol(""),i9=Symbol(""),s9=Symbol(""),o9=Symbol(""),a9=Symbol(""),l9=Symbol("");Sot({[t9]:"vModelRadio",[e9]:"vModelCheckbox",[n9]:"vModelText",[r9]:"vModelSelect",[KS]:"vModelDynamic",[i9]:"withModifiers",[s9]:"withKeys",[o9]:"vShow",[a9]:"Transition",[l9]:"TransitionGroup"});let jp;function Zat(t,e=!1){return jp||(jp=document.createElement("div")),e?(jp.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,jp.children[0].getAttribute("foo")):(jp.innerHTML=t,jp.textContent)}const Jat={parseMode:"html",isVoidTag:Qrt,isNativeTag:t=>Xrt(t)||qrt(t)||Krt(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:Zat,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return a9;if(t==="TransitionGroup"||t==="transition-group")return l9},getNamespace(t,e,n){let r=e?e.ns:n;if(e&&r===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(r=0);else e&&r===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(r=0);if(r===0){if(t==="svg")return 1;if(t==="math")return 2}return r}},Xat=t=>{t.type===1&&t.props.forEach((e,n)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[n]={type:7,name:"bind",arg:te("style",!0,e.loc),exp:qat(e.value.content,e.loc),modifiers:[],loc:e.loc})})},qat=(t,e)=>{const n=Yk(t);return te(JSON.stringify(n),!1,e,3)};function Ul(t,e){return on(t,e)}const Kat=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ul(53,i)),e.children.length&&(n.onError(Ul(54,i)),e.children.length=0),{props:[Cn(te("innerHTML",!0,i),r||te("",!0))]}},Qat=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ul(55,i)),e.children.length&&(n.onError(Ul(56,i)),e.children.length=0),{props:[Cn(te("textContent",!0),r?Ei(r,n)>0?r:Zn(n.helperString(xv),[r],i):te("",!0))]}},tlt=(t,e,n)=>{const r=qP(t,e,n);if(!r.props.length||e.tagType===1)return r;t.arg&&n.onError(Ul(58,t.arg.loc));const{tag:i}=e,s=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||s){let o=n9,a=!1;if(i==="input"||s){const l=Av(e,"type");if(l){if(l.type===7)o=KS;else if(l.value)switch(l.value.content){case"radio":o=t9;break;case"checkbox":o=e9;break;case"file":a=!0,n.onError(Ul(59,t.loc));break}}else jot(e)&&(o=KS)}else i==="select"&&(o=r9);a||(r.needRuntime=n.helper(o))}else n.onError(Ul(57,t.loc));return r.props=r.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),r},elt=yi("passive,once,capture"),nlt=yi("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),rlt=yi("left,right"),c9=yi("onkeyup,onkeydown,onkeypress"),ilt=(t,e,n,r)=>{const i=[],s=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&$m("COMPILER_V_ON_NATIVE",n)||elt(l)?o.push(l):rlt(l)?ni(t)?c9(t.content.toLowerCase())?i.push(l):s.push(l):(i.push(l),s.push(l)):nlt(l)?s.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:s,eventOptionModifiers:o}},u9=(t,e)=>ni(t)&&t.content.toLowerCase()==="onclick"?te(e,!0):t.type!==4?Cs(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,slt=(t,e,n)=>JP(t,e,n,r=>{const{modifiers:i}=t;if(!i.length)return r;let{key:s,value:o}=r.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=ilt(s,i,n,t.loc);if(l.includes("right")&&(s=u9(s,"onContextmenu")),l.includes("middle")&&(s=u9(s,"onMouseup")),l.length&&(o=Zn(n.helper(i9),[o,JSON.stringify(l)])),a.length&&(!ni(s)||c9(s.content.toLowerCase()))&&(o=Zn(n.helper(s9),[o,JSON.stringify(a)])),c.length){const p=c.map(wl).join("");s=ni(s)?te(`${s.content}${p}`,!0):Cs(["(",s,`) + "${p}"`])}return{props:[Cn(s,o)]}}),olt=(t,e,n)=>{const{exp:r,loc:i}=t;return r||n.onError(Ul(61,i)),{props:[],needRuntime:n.helper(o9)}},alt=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},llt=[Xat],clt={cloak:Yat,html:Kat,text:Qat,model:tlt,on:slt,show:olt};function ult(t,e={}){return Hat(t,he({},Jat,e,{nodeTransforms:[alt,...llt,...e.nodeTransforms||[]],directiveTransforms:he({},clt,e.directiveTransforms||{}),transformHoist:null}))}const h9=Object.create(null);function p9(t,e){if(!Ht(t))if(t.nodeType)t=t.innerHTML;else return or;const n=Grt(t,e),r=h9[n];if(r)return r;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const i=he({hoistStatic:!0,onError:void 0,onWarn:or},e);!i.isCustomElement&&typeof customElements<"u"&&(i.isCustomElement=a=>!!customElements.get(a));const{code:s}=ult(t,i),o=new Function("Vue",s)(vot);return o._rc=!0,h9[n]=o}uS(p9);const hlt=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:S3,BaseTransitionPropsValidators:W1,Comment:Mn,DeprecationTypes:m8,EffectScope:_1,ErrorCodes:N6,ErrorTypeStrings:c8,Fragment:Le,KeepAlive:eL,ReactiveEffect:gp,Static:Cl,Suspense:WL,Teleport:E3,Text:vo,TrackOpTypes:T6,Transition:Cm,TransitionGroup:mv,TriggerOpTypes:A6,VueElement:S0,assertNumber:O6,callWithAsyncErrorHandling:bi,callWithErrorHandling:Al,camelize:tn,capitalize:wl,cloneVNode:Os,compatUtils:f8,compile:p9,computed:ee,createApp:Dl,createBlock:Be,createCommentVNode:Ye,createElementBlock:wt,createElementVNode:lt,createHydrationRenderer:Z3,createPropsRestProxy:bL,createRenderer:Y3,createSSRApp:wS,createSlots:sL,createStaticVNode:iS,createTextVNode:Ns,createVNode:qt,customRef:m3,defineAsyncComponent:J1,defineComponent:re,defineCustomElement:vS,defineEmits:lL,defineExpose:cL,defineModel:pL,defineOptions:uL,defineProps:aL,defineSSRCustomElement:G8,defineSlots:hL,devtools:u8,effect:r6,effectScope:am,getCurrentInstance:Nn,getCurrentScope:w1,getCurrentWatcher:I6,getTransitionRawChildren:gm,guardReactiveProps:rS,h:_i,handleError:Il,hasInjectionContext:z3,hydrate:eP,hydrateOnIdle:q6,hydrateOnInteraction:tL,hydrateOnMediaQuery:Q6,hydrateOnVisible:K6,initCustomFormatter:o8,initDirectivesForSSR:sP,inject:Fn,isMemoSame:hS,isProxy:hm,isReactive:vi,isReadonly:sa,isRef:pe,isRuntimeOnly:n8,isShallow:Qr,isVNode:Is,markRaw:_n,mergeDefaults:gL,mergeModels:vL,mergeProps:Im,nextTick:Wi,normalizeClass:un,normalizeProps:Zk,normalizeStyle:ta,onActivated:M3,onBeforeMount:Ip,onBeforeUnmount:Yi,onBeforeUpdate:C3,onDeactivated:O3,onErrorCaptured:K1,onMounted:Kn,onRenderTracked:L3,onRenderTriggered:k3,onScopeDispose:r3,onServerPrefetch:R3,onUnmounted:uu,onUpdated:cu,onWatcherCleanup:g3,openBlock:pt,popScopeId:j6,provide:ev,proxyRefs:L1,pushScopeId:D6,queuePostFlushCb:dm,reactive:jn,readonly:R1,ref:tt,registerRuntimeCompiler:uS,render:yu,renderList:la,renderSlot:Zi,resolveComponent:xn,resolveDirective:Me,resolveDynamicComponent:Q1,resolveFilter:d8,resolveTransitionHooks:lu,setBlockTracking:ov,setDevtoolsHook:h8,setTransitionHooks:go,shallowReactive:d3,shallowReadonly:_p,shallowRef:wp,ssrContextKey:q3,ssrUtils:p8,stop:i6,toDisplayString:Ve,toHandlerKey:su,toHandlers:oL,toRaw:Gt,toRef:y3,toRefs:P1,toValue:E6,transformVNodeArgs:qL,triggerRef:x6,unref:It,useAttrs:mL,useCssModule:V8,useCssVars:C8,useHost:bS,useId:Z6,useModel:$L,useSSRContext:K3,useShadowRoot:$8,useSlots:fL,useTemplateRef:vm,useTransitionState:z1,vModelCheckbox:yv,vModelDynamic:_S,vModelRadio:gv,vModelSelect:vv,vModelText:Np,vShow:Rm,version:pS,warn:l8,watch:Yn,watchEffect:UL,watchPostEffect:Q3,watchSyncEffect:tS,withAsyncContext:_L,withCtx:wn,withDefaults:dL,withDirectives:Ie,withKeys:_v,withMemo:a8,withModifiers:Rp,withScopeId:F6},Symbol.toStringTag,{value:"Module"}));var plt=!1,d9={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"828",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6691",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12598303198",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/rastice",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IERpc3RyaWJ1dGVkVGFzay5HZW5lcmF0ZUlkVG9rZW46ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBMb2NhdGlvblNlcnZpY2UuQ29ubmVjdCBSZWFkQW5kVXBkYXRlQnVpbGRCeVVyaTowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IiwiSWRlbnRpdHlUeXBlQ2xhaW0iOiJTeXN0ZW06U2VydmljZUlkZW50aXR5IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiREREREREREQtRERERC1ERERELUREREQtREREREREREREREREIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiYXVpIjoiNzA4ZTJjNTEtNjZiNC00MzdlLWFkNGYtZDJiY2RmOGJkMzBjIiwic2lkIjoiODZiOGQ2NDAtMmJmMS00ZGMwLTkyNDMtMmQyMGM2OGY0NDk0IiwiYWMiOiJbe1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvcmFzdGljZVwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJvaWRjX2V4dHJhIjoie1wicmVmXCI6XCJyZWZzL2hlYWRzL3Jhc3RpY2VcIixcInNoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicmVwb3NpdG9yeVwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJqYW1lcy1yYWVcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjc1ODUyNDVcIixcInJ1bl9pZFwiOlwiMTI1OTgzMDMxOThcIixcInJ1bl9udW1iZXJcIjpcIjkyXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJ3b3JrZmxvd19yZWZcIjpcImphbWVzLXJhZS9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL3Jhc3RpY2VcIixcIndvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvcmFzdGljZVwiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoaWQiOiJlOTljZThmOC02YzMwLTRlNjEtYTBkNS00NzJmMWQ1NTQxYmEuYnVpbGQuX19kZWZhdWx0IiwiaXNzIjoidnN0b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImF1ZCI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb218dnNvOjU4YjIzOGVhLTc0YjctNGFjNi05MTY5LWIzYmZhNzhlYzMxMiIsIm5iZiI6MTczNTkwOTU5NiwiZXhwIjoxNzM1OTMyMzk2fQ.oTuLGumJ9eb05SPgL7X9i9vN3iOxDsfPaum7NE-O5VwhieWH0Chb9mDIIhT61-AvFaAWhQh8ChkPIxAeSkiKDYkYcMuGH8-N6nxqvx2NYkKyN8ZerZ6TH9_37xg4Z6_QsnI0B5MAP4R9vNiaN2RnTwtst3koG7ZGoVk6UMNnD69MPJZ3r8xRP8NrnBCR-8g9fmp8aTMJzzPLLMcaGfdMPW9YWZCqq0adb9zgMYhL8d7x5PUKnH0EErgKZf02X8lZMD3Klnu-5hgkYKFbNFz7jqHt2zLtfi1Waw871z9A-Yj2d8YlEzXNfkeWQa7FjyatrB1M7J5o5RvEBZRddpbC-w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_29fd7f6e-e4c4-41e7-9ea5-1f8dd7072e90",INVOCATION_ID:"66b4c5e5794041008066eb3488e2f114",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"92",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 9",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"rastice",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.11.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/rastice",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus23.actions.githubusercontent.com/QK0qIqlo3r9YNWIQ9RWnYl2JYKdlddRfoYwI7wqcIcmuhIPqfK/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e99ce8f8-6c30-4e61-a0d5-472f1d5541ba/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};let f9;const Gv=t=>f9=t,m9=Symbol();function QS(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Wm;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Wm||(Wm={}));function dlt(){const t=am(!0),e=t.run(()=>tt({}));let n=[],r=[];const i=_n({install(s){Gv(i),i._a=s,s.provide(m9,i),s.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(s){return!this._a&&!plt?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const y9=()=>{};function g9(t,e,n,r=y9){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&w1()&&r3(i),i}function Fp(t,...e){t.slice().forEach(n=>{n(...e)})}const flt=t=>t();function tT(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];QS(i)&&QS(r)&&t.hasOwnProperty(n)&&!pe(r)&&!vi(r)?t[n]=tT(i,r):t[n]=r}return t}const mlt=Symbol();function ylt(t){return!QS(t)||!t.hasOwnProperty(mlt)}const{assign:Gl}=Object;function glt(t){return!!(pe(t)&&t.effect)}function vlt(t,e,n,r){const{state:i,actions:s,getters:o}=e,a=n.state.value[t];let l;function c(){!a&&d9.NODE_ENV==="production"&&(n.state.value[t]=i?i():{});const p=P1(n.state.value[t]);return Gl(p,s,Object.keys(o||{}).reduce((d,f)=>(d[f]=_n(ee(()=>{Gv(n);const y=n._s.get(t);return o[f].call(y,y)})),d),{}))}return l=v9(t,c,e,n,r,!0),l}function v9(t,e,n={},r,i,s){let o;const a=Gl({actions:{}},n),l={deep:!0};let c,p,d=[],f=[],y;const g=r.state.value[t];!s&&!g&&d9.NODE_ENV==="production"&&(r.state.value[t]={}),tt({});let _;function w(R){let P;c=p=!1,typeof R=="function"?(R(r.state.value[t]),P={type:Wm.patchFunction,storeId:t,events:y}):(tT(r.state.value[t],R),P={type:Wm.patchObject,payload:R,storeId:t,events:y});const D=_=Symbol();Wi().then(()=>{_===D&&(c=!0)}),p=!0,Fp(d,P,r.state.value[t])}const T=s?function(){const{state:R}=n,P=R?R():{};this.$patch(D=>{Gl(D,P)})}:y9;function A(){o.stop(),d=[],f=[],r._s.delete(t)}function x(R,P){return function(){Gv(r);const D=Array.from(arguments),B=[],$=[];function U(u){B.push(u)}function J(u){$.push(u)}Fp(f,{args:D,name:R,store:I,after:U,onError:J});let rt;try{rt=P.apply(this&&this.$id===t?this:I,D)}catch(u){throw Fp($,u),u}return rt instanceof Promise?rt.then(u=>(Fp(B,u),u)).catch(u=>(Fp($,u),Promise.reject(u))):(Fp(B,rt),rt)}}const b={_p:r,$id:t,$onAction:g9.bind(null,f),$patch:w,$reset:T,$subscribe(R,P={}){const D=g9(d,R,P.detached,()=>B()),B=o.run(()=>Yn(()=>r.state.value[t],$=>{(P.flush==="sync"?p:c)&&R({storeId:t,type:Wm.direct,events:y},$)},Gl({},l,P)));return D},$dispose:A},I=jn(b);r._s.set(t,I);const N=(r._a&&r._a.runWithContext||flt)(()=>r._e.run(()=>(o=am()).run(e)));for(const R in N){const P=N[R];if(pe(P)&&!glt(P)||vi(P))s||(g&&ylt(P)&&(pe(P)?P.value=g[R]:tT(P,g[R])),r.state.value[t][R]=P);else if(typeof P=="function"){const D=x(R,P);N[R]=D,a.actions[R]=P}}return Gl(I,N),Gl(Gt(I),N),Object.defineProperty(I,"$state",{get:()=>r.state.value[t],set:R=>{w(P=>{Gl(P,R)})}}),r._p.forEach(R=>{Gl(I,o.run(()=>R({store:I,app:r._a,pinia:r,options:a})))}),g&&s&&n.hydrate&&n.hydrate(I.$state,g),c=!0,p=!0,I}function hn(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function o(a,l){const c=z3();return a=a||(c?Fn(m9,null):null),a&&Gv(a),a=f9,a._s.has(r)||(s?v9(r,e,i,a):vlt(r,i,a)),a._s.get(r)}return o.$id=r,o}const Hm=hn("appbar",()=>{const t=tt({}),e=tt([]),n=tt([]),r=ee(()=>e.value.map(o=>o.map(a=>t.value[a]).filter(a=>{if(typeof a=="string"||a.componentId)return!0})).filter(o=>o.length>0));function i(o){n.value.includes(o)||n.value.push(o)}function s(o){const a=n.value.indexOf(o);a!==-1&&n.value.splice(a,1),o in t.value&&delete t.value[o],e.value.forEach(l=>{const c=l.indexOf(o);c!==-1&&l.splice(c,1)})}return{items:t,order:e,temporary:n,visible:r,addTempButton:i,removeButton:s}}),$v=hn("grid",()=>{const t=tt({}),e=tt(),n=tt();function r(a){t.value={...t.value,[a.id]:a}}function i(a){t.value[a]!==void 0&&delete t.value[a]}function s(a){return Object.keys(t.value).find(l=>t.value[l].layerIds.includes(a))}function o(a,l){t.value[a].layerIds=t.value[a].layerIds.filter(c=>c!==l)}return{grids:t,panel:e,currentId:n,addGrid:r,removeGrid:i,getGridId:s,removeLayer:o}});function $l(t,e,n,r){var i,s=!1,o=0;function a(){i&&clearTimeout(i)}function l(){a(),s=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function c(){for(var p=arguments.length,d=new Array(p),f=0;f<p;f++)d[f]=arguments[f];var y=this,g=Date.now()-o;if(s)return;function _(){o=Date.now(),n.apply(y,d)}function w(){i=void 0}r&&!i&&_(),a(),r===void 0&&g>t?_():e!==!0&&(i=setTimeout(r?w:_,r===void 0?t-g:t))}return c.cancel=l,c}function Ym(t,e,n){return n===void 0?$l(t,e,!1):$l(t,n,e!==!1)}const Vl=hn("map-caption",()=>{const t=tt({text:{},logo:{}}),e=tt({}),n=tt({}),r=tt({});function i(o){o!==void 0?e.value.isImperialScale=o:e.value.isImperialScale=!e.value.isImperialScale}function s(o){t.value.text.value=o.text.value,t.value.text.disabled=o.text.disabled,t.value.logo.altText=o.logo.altText,t.value.logo.link=o.logo.link,t.value.logo.value=o.logo.value,t.value.logo.disabled=o.logo.disabled}return{attribution:t,scale:e,coords:n,langtoggle:r,toggleScale:i,setAttribution:s}}),eT=(t,e)=>{const n=[...t];for(;n.length>0;){const r=n.shift();if(e(r))return r;r&&n.push(...r.sublayers)}},Rs=hn("layer",()=>{const t=tt([]),e=tt([]),n=tt([]);function r(d){return eT(t.value,f=>f?.uid===d)}function i(d){return eT(t.value,f=>f?.id===d)}function s(d){return eT(t.value,f=>f!==void 0&&(f.id===d||f.uid===d))}function o(d){e.value=[...e.value,d]}function a(d,f=void 0){t.value=[...t.value,d],d.mapLayer&&((f===void 0||f<0)&&(console.error("Map layer added to store with invalid index!"),f=n.value.length),n.value.splice(f,0,d.id),n.value=[...n.value])}function l(d,f){if(!d.mapLayer){console.error("Data layer passed to layer store reorder");return}if(f<0){console.error("Negative index passed to layer store reorder");return}f>=n.value.length&&(f=n.value.length-1);const y=n.value.findIndex(g=>g===d.id);y!==-1&&y!==f&&(n.value.splice(y,1),n.value.splice(f,0,d.id),n.value=[...n.value])}function c(d){const f=t.value.filter(y=>y.id!==d.id||y.uid!==d.uid);if(t.value=f,d.mapLayer){const y=n.value.filter(g=>g!==d.id);n.value=y}}function p(d){const f=e.value.filter(y=>y.id!==d);e.value=f}return{layers:t,mapOrder:n,layerConfigs:e,getLayerByUid:r,getLayerById:i,getLayerByAny:s,addLayerConfig:o,addLayer:a,reorderLayer:l,removeLayer:c,removeLayerConfig:p}}),jr=hn("config",()=>{const t=tt({map:{lodSets:[],extentSets:[],tileSchemas:[],basemaps:[],initialBasemapId:""},fixtures:{},layers:[]}),e=tt([]),n=tt(),r=tt({}),i=tt({});function s(l){if(r.value[i.value[l]]===void 0)throw new Error("Unsupported language or no registered config exists for requested language");return r.value[i.value[l]]}function o(l){const c={...t.value,...l};if(t.value=c,Array.isArray(t.value.layers)){const p=Rs();p.layerConfigs=[...p.layerConfigs,t.value.layers]}}function a(l){const c=l.configLangs,p=l.config,d=l.allLangs;c!==void 0&&c.length>0&&c.forEach(f=>{r.value[f]=p,i.value[f]=f}),d!==void 0&&d.length>0&&d.forEach(f=>{i.value[f]=Object.keys(r.value)[0]})}return{config:t,startingFixtures:e,activeBasemapConfig:n,registeredConfigs:r,registeredLangs:i,getActiveConfig:s,newConfig:o,registerConfig:a}}),nT=hn("details",()=>{const t=tt([]),e=tt({}),n=tt({}),r=tt(),i=tt(0),s=tt(0),o=tt(!0),a=tt();function l(p){const d=t.value.findIndex(f=>f.uid===p.uid);d!==-1&&t.value.splice(d,1)}function c(p){e.value={...e.value,[p.id]:p}}return{payload:t,properties:e,defaultTemplates:n,currentFeatureId:r,activeGreedy:i,lastHilight:s,hilightToggle:o,origin:a,removeLayer:l,addConfigProperty:c}}),Ki=hn("fixture",()=>{const t=tt({}),e=tt({});function n(o){return o.map(a=>e.value[a].getPromise())}function r(o){if(t.value={...t.value,[o.id]:_n(o)},o.id in e.value)e.value[o.id].resolveMe(_n(o));else{const a=new bn;a.resolveMe(_n(o)),e.value={...e.value,[o.id]:a}}typeof o.added=="function"&&o.added()}function i(o){delete t.value[o.id],t.value={...t.value},delete e.value[o.id],e.value={...e.value},typeof o.removed=="function"&&o.removed()}function s(o){e.value={...e.value,[o]:new bn}}return{items:t,loadPromises:e,getLoadPromises:n,addFixture:r,removeFixture:i,addLoadPromise:s}});var Mt=(t=>(t.APPBAR_BUTTON_CLICK="appbar/click",t.COMPONENT="ramp/component",t.CONFIG_CHANGE="config/configchanged",t.DETAILS_TOGGLE="details/toggle",t.FILTER_CHANGE="filter/change",t.FIXTURE_ADDED="fixture/added",t.FIXTURE_REMOVED="fixture/removed",t.GRID_TOGGLE="grid/toggle",t.HELP_TOGGLE="help/toggle",t.LANG_CHANGE="lang/change",t.LAYER_DRAWSTATECHANGE="layer/drawstatechange",t.LAYER_INITIATIONSTATECHANGE="layer/initiationStatechange",t.LAYER_LAYERSTATECHANGE="layer/layerstatechange",t.LAYER_OPACITYCHANGE="layer/opacitychange",t.LAYER_REGISTERED="layer/registered",t.LAYER_RELOAD_END="layer/reloadend",t.LAYER_RELOAD_START="layer/reloadstart",t.LAYER_REMOVE="layer/remove",t.LAYER_VISIBILITYCHANGE="layer/visibilitychange",t.MAP_BASEMAPCHANGE="map/basemapchanged",t.MAP_BLUR="map/blur",t.MAP_CLICK="map/click",t.MAP_CREATED="map/created",t.MAP_DESTROYED="map/destroyed",t.MAP_DOUBLECLICK="map/doubleclick",t.MAP_EXTENTCHANGE="map/extentchanged",t.MAP_FOCUS="map/focus",t.MAP_GRAPHICHIT="map/graphichit",t.MAP_IDENTIFY="map/identify",t.MAP_KEYDOWN="map/keydown",t.MAP_KEYUP="map/keyup",t.MAP_MOUSEDOWN="map/mousedown",t.MAP_MOUSELEAVE="map/mouseleave",t.MAP_MOUSEMOVE="map/mousemove",t.MAP_MOUSEMOVE_END="map/mousemoveend",t.MAP_MOUSEMOVE_START="map/mousemovestart",t.MAP_REFRESH_END="map/refreshend",t.MAP_REFRESH_START="map/refreshstart",t.MAP_REORDER="map/reorder",t.MAP_RESIZED="map/resized",t.MAP_SCALECHANGE="map/scalechanged",t.MAP_START="map/start",t.METADATA_TOGGLE="metadata/toggle",t.PANEL_CLOSED="panel/closed",t.PANEL_MINIMIZED="panel/minimized",t.PANEL_OPENED="panel/opened",t.RAMP_MOBILEVIEW_CHANGE="ramp/mobileviewchange",t.REORDER_TOGGLE="reorder/toggle",t.SETTINGS_TOGGLE="settings/toggle",t.USER_LAYER_ADDED="user/layeradded",t.WIZARD_TOGGLE="wizard/toggle",t))(Mt||{}),rT=(t=>(t.CONFIG_CHANGE_UPDATES_MAP_ATTRIBS="ramp_config_change_updates_map_attribs",t.LAYER_ERROR_UPDATES_LEGEND="ramp_layer_error_updates_legend",t.LAYER_REGISTER_BINDS_LEGEND="ramp_layer_register_binds_legend",t.LAYER_RELOAD_END_BINDS_LEGEND="ramp_layer_reload_end_binds_legend",t.LAYER_RELOAD_START_UPDATES_LEGEND="ramp_layer_reload_start_updates_legend",t.LAYER_REMOVE_UPDATES_DETAILS="ramp_layer_remove_updates_details",t.LAYER_REMOVE_CHECKS_GRID="ramp_layer_remove_checks_grid",t.LAYER_REMOVE_UPDATES_LEGEND="ramp_layer_remove_updates_legend",t.LAYER_USERADD_UPDATES_LEGEND="ramp_layer_useradd_updates_legend",t.MAP_BASEMAP_CHECKS_TILE_PROJ="ramp_map_basemap_checks_tile_proj",t.MAP_BASEMAP_UPDATES_MAP_ATTRIBS="ramp_map_basemap_updates_map_attribs",t.MAP_BLUR_UPDATES_KEY_HANDLER="ramp_map_blur_updates_key_handler",t.MAP_CLICK_RUNS_IDENTIFY="ramp_map_click_runs_identify",t.MAP_CREATED_INITIALIZES_FIXTURES="ramp_map_created_initializes_fixtures",t.MAP_CREATED_UPDATES_MAP_ATTRIBS="ramp_map_created_updates_map_attribs",t.MAP_EXTENT_UPDATES_MAPTIP="ramp_map_extent_updates_maptip",t.MAP_GRAPHICHIT_CREATES_MAPTIP="ramp_map_graphichit_creates_maptip",t.MAP_IDENTIFY_OPENS_IDENTIFY_RESULTS="ramp_map_identify_opens_identify_results",t.MAP_KEYDOWN_UPDATES_COORDS="ramp_map_keydown_updates_coords",t.MAP_KEYDOWN_UPDATES_KEY_HANDLER="ramp_map_keydown_updates_key_handler",t.MAP_KEYUP_UPDATES_KEY_HANDLER="ramp_map_keyup_updates_key_handler",t.MAP_MOUSE_UPDATES_COORDS="ramp_map_mouse_updates_coords",t.MAP_MOUSE_UPDATES_MAPTIP="ramp_map_mouse_updates_maptip",t.MAP_MOUSELEAVE_REMOVES_MAPTIP="ramp_map_mouseleave_removes_maptip",t.MAP_RESIZE_UPDATES_SCALEBAR="ramp_map_resize_updates_scalebar",t.MAP_SCALE_UPDATES_SCALEBAR="ramp_map_scale_updates_scalebar",t.PANEL_CLOSE_UPDATES_APPBAR="ramp_panel_close_updates_appbar",t.PANEL_OPEN_UPDATES_APPBAR="ramp_panel_open_updates_appbar",t.TOGGLE_DETAILS="ramp_toggle_details",t.TOGGLE_GRID="ramp_toggle_grid",t.TOGGLE_HELP="ramp_toggle_help",t.TOGGLE_METADATA="ramp_toggle_metadata",t.TOGGLE_REORDER="ramp_toggle_reorder",t.TOGGLE_SETTINGS="ramp_toggle_settings",t.TOGGLE_WIZARD="ramp_toggle_wizard",t))(rT||{});class blt{eventName;handlerName;handlerFunc;constructor(e,n,r){this.eventName=e,this.handlerName=n,this.handlerFunc=r}}class _lt extends In{_eventBus;_eventRegister;_nameRegister;_funCounter;constructor(e){super(e),this._eventBus=new krt.TinyEmitter,this._eventRegister=[],this._funCounter=1,this._nameRegister=Object.values(Mt).filter(n=>typeof n=="string"&&n.indexOf("/")>-1)}findHandler(e){return this._eventRegister.find(n=>n.handlerName===e)}handlerNamer(e){return this._funCounter++,e.replace(/\//g,"_")+this._funCounter.toString()}registerEventName(e){(Array.isArray(e)?e:[e]).forEach(n=>{this._nameRegister.indexOf(n)===-1&&this._nameRegister.push(n)})}eventNames(){return this._nameRegister.slice()}on(e,n,r=""){if(this.findHandler(r))throw new Error("Duplicate handler name registration: "+r);r||(r=this.handlerNamer(e));const i=new blt(e,r,n);return this._eventRegister.push(i),this._eventBus.on(e,n),r}off(e){const n=this.findHandler(e);n&&(this._eventRegister.splice(this._eventRegister.indexOf(n),1),this._eventBus.off(n.eventName,n.handlerFunc))}offAll(e=""){this.activeHandlers(e).forEach(n=>this.off(n))}removeDefaultEvents(){Object.values(rT).forEach(e=>{this.off(e)})}emit(e,...n){this._eventBus.emit(e,...n)}once(e,n,r=""){r||(r=this.handlerNamer(e));const i=(...s)=>{n(...s),this.off(r)};return this.on(e,i,r)}activeHandlers(e=""){return e===""?this._eventRegister.map(n=>n.handlerName):this._eventRegister.filter(n=>n.eventName===e).map(n=>n.handlerName)}addDefaultEvents(e){return(!Array.isArray(e)||e.length===0)&&(e=Object.values(rT)),e.map(n=>this.defaultHandlerFactory(n))}defaultHandlerFactory(e){let n;switch(e){case"ramp_config_change_updates_map_attribs":n=r=>{const i=r.map.basemaps.find(s=>s.id===this.$iApi.geo.map.getCurrentBasemapId());this.$iApi.geo.map.caption.updateAttribution(i?.attribution)},this.$iApi.event.on("config/configchanged",n,e);break;case"ramp_layer_error_updates_legend":n=r=>{if(r.layer.layerState===ln.ERROR){const i=this.$iApi.fixture.get("legend");i&&i.updateLegend(r.layer)}},this.$iApi.event.on("layer/layerstatechange",n,e);break;case"ramp_layer_register_binds_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&i.updateLegend(r)},this.$iApi.event.on("layer/registered",n,e);break;case"ramp_layer_reload_end_binds_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&i.updateLegend(r)},this.$iApi.event.on("layer/reloadend",n,e);break;case"ramp_layer_reload_start_updates_legend":n=r=>{if(!r.isSublayer){const i=this.$iApi.fixture.get("legend");i&&i.reloadLayerItem(r.uid)}},this.$iApi.event.on("layer/reloadstart",n,e);break;case"ramp_layer_remove_checks_grid":n=r=>{if(this.$iApi.fixture.get("grid")){const i=$v(this.$vApp.$pinia),s=i.getGridId(r.id);if(s===void 0)return;if(i.removeLayer(s,r.id),i.grids[s].layerIds.length===0){i.removeGrid(s);const o=i.currentId;if(s===o){const a=this.$iApi.panel.get("grid");this.$iApi.panel.close(a),i.currentId=void 0}}}},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_details":n=r=>{const i=nT(this.$vApp.$pinia);this.$iApi.fixture.get("details")&&i.removeLayer(r)},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_remove_updates_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&(i.removeLayerItem(r),this.$iApi.updateAlert(this.$iApi.$i18n.t("legend.alert.layerRemoved",{name:r.name})))},this.$iApi.event.on("layer/remove",n,e);break;case"ramp_layer_useradd_updates_legend":n=r=>{const i=this.$iApi.fixture.get("legend");i&&i.addLayerItem(r)},this.$iApi.event.on("user/layeradded",n,e);break;case"ramp_map_basemap_checks_tile_proj":n=r=>{r.schemaChanged&&this.$iApi.geo.layer.allLayers().filter(i=>i.layerType===Ct.TILE).forEach(i=>{i.checkProj()})},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_basemap_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(jr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.event.on("map/basemapchanged",n,e);break;case"ramp_map_blur_updates_key_handler":n=()=>{this.$iApi.geo.map.stopKeyPan()},this.$iApi.event.on("map/blur",n,e);break;case"ramp_map_click_runs_identify":n=r=>{r.button===0&&this.$iApi.geo.map.runIdentify(r)},this.on("map/click",n,e);break;case"ramp_map_created_initializes_fixtures":n=()=>{const r=Ki(this.$vApp.$pinia).items;Object.keys(r).forEach(i=>{r[i].initialized?.()})},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_created_updates_map_attribs":n=()=>{this.$iApi.geo.map.caption.updateAttribution(jr(this.$vApp.$pinia).activeBasemapConfig?.attribution)},this.$iApi.geo.map.created&&n(),this.$iApi.event.on("map/created",n,e);break;case"ramp_map_extent_updates_maptip":n=()=>{if(this.$iApi.geo.map.keysActive){const r=this.$iApi.geo.map.mapPointToScreenPoint(this.$iApi.geo.map.getExtent().center());this.$iApi.geo.map.maptip.checkAtCoord(r)}else this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/extentchanged",$l(50,!0,()=>n()),e);break;case"ramp_map_graphichit_creates_maptip":n=r=>{this.$iApi.geo.map.maptip.generateDefaultMaptip(r)},this.$iApi.event.on("map/graphichit",n,e);break;case"ramp_map_identify_opens_identify_results":n=r=>{const i=this.$iApi.fixture.get("details");i&&i.openDetails(r.results)},this.on("map/identify",n,e);break;case"ramp_map_keydown_updates_coords":this.$iApi.event.on("map/keydown",$l(50,()=>{const r=Vl(this.$vApp.$pinia);r.coords?.disabled||!this.$iApi.geo.map.keysActive||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.getExtent().center()).then(i=>{r.coords={formattedString:i}})}),e);break;case"ramp_map_keydown_updates_key_handler":n=r=>{this.$iApi.geo.map.mapKeyDown(r)},this.$iApi.event.on("map/keydown",n,e);break;case"ramp_map_keyup_updates_key_handler":n=r=>{this.$iApi.geo.map.mapKeyUp(r)},this.$iApi.event.on("map/keyup",n,e);break;case"ramp_map_mouse_updates_coords":this.$iApi.event.on("map/mousemove",$l(50,r=>{const i=Vl(this.$vApp.$pinia);i.coords?.disabled||this.$iApi.geo.map.caption.formatPoint(this.$iApi.geo.map.screenPointToMapPoint(r)).then(s=>{i.coords={formattedString:s}})}),e);break;case"ramp_map_mouse_updates_maptip":n=r=>{this.$iApi.geo.map.maptip.checkAtCoord({screenX:r.screenX,screenY:r.screenY})},this.$iApi.event.on("map/mousemove",$l(50,r=>n(r)),e);break;case"ramp_map_mouseleave_removes_maptip":n=()=>{this.$iApi.geo.map.maptip.clear()},this.$iApi.event.on("map/mouseleave",n);break;case"ramp_map_resize_updates_scalebar":this.$iApi.event.on("map/resized",Ym(100,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_map_scale_updates_scalebar":this.$iApi.event.on("map/scalechanged",Ym(300,()=>this.$iApi.geo.map.caption.updateScale()),e);break;case"ramp_panel_close_updates_appbar":n=r=>{const i=Hm(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&!i.order.flat().find(s=>s===r.id)&&i.removeButton(r.id)},this.on("panel/closed",n,e);break;case"ramp_panel_open_updates_appbar":n=r=>{const i=Hm(this.$vApp.$pinia);this.$iApi.fixture.get("appbar")&&(!r.teleport||r.teleport?.showAppbarButton)&&!i.order.flat().find(s=>s===r.id)&&i.addTempButton(r.id)},this.on("panel/opened",n,e);break;case"ramp_toggle_details":n=(r,i)=>{const s=this.$iApi.fixture.get("details");s&&s.toggleFeature(r,i)},this.$iApi.event.on("details/toggle",n,e);break;case"ramp_toggle_grid":n=(r,i)=>{const s=this.$iApi.fixture.get("grid");s&&s.toggleGrid(r.id,i)},this.$iApi.event.on("grid/toggle",n,e);break;case"ramp_toggle_help":n=r=>{const i=this.$iApi.fixture.get("help");i&&i.toggleHelp(r)},this.$iApi.event.on("help/toggle",n,e);break;case"ramp_toggle_metadata":n=(r,i)=>{const s=this.$iApi.fixture.get("metadata");s&&s.toggleMetadata(r,i)},this.$iApi.event.on("metadata/toggle",n,e);break;case"ramp_toggle_reorder":n=r=>{const i=this.$iApi.fixture.get("layer-reorder");i&&i.toggleLayerReorder(r)},this.$iApi.event.on("reorder/toggle",n,e);break;case"ramp_toggle_settings":n=(r,i)=>{const s=this.$iApi.fixture.get("settings");s&&s.toggleSettings(r,i)},this.$iApi.event.on("settings/toggle",n,e);break;case"ramp_toggle_wizard":n=r=>{const i=this.$iApi.fixture.get("wizard");i&&i.toggleWizard(r)},this.$iApi.event.on("wizard/toggle",n,e);break;default:return console.error(`Unrecognized default event handler name encountered: ${e}`),`ERROR_NOT_REGISTERED__${e}`}return e}}const Vv=typeof window<"u",Bl=(t,e=!1)=>e?Symbol.for(t):Symbol(t),wlt=(t,e,n)=>xlt({l:t,k:e,s:n}),xlt=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Rn=t=>typeof t=="number"&&isFinite(t),Elt=t=>x9(t)==="[object Date]",zl=t=>x9(t)==="[object RegExp]",Bv=t=>Yt(t)&&Object.keys(t).length===0,lr=Object.assign,Slt=Object.create,je=(t=null)=>Slt(t);let b9;const ma=()=>b9||(b9=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:je());function _9(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Tlt=Object.prototype.hasOwnProperty;function ks(t,e){return Tlt.call(t,e)}const en=Array.isArray,Ze=t=>typeof t=="function",xt=t=>typeof t=="string",oe=t=>typeof t=="boolean",ve=t=>t!==null&&typeof t=="object",Alt=t=>ve(t)&&Ze(t.then)&&Ze(t.catch),w9=Object.prototype.toString,x9=t=>w9.call(t),Yt=t=>{if(!ve(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Ilt=t=>t==null?"":en(t)||Yt(t)&&t.toString===w9?JSON.stringify(t,null,2):String(t);function Mlt(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}function zv(t){let e=t;return()=>++e}function Olt(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Wv=t=>!ve(t)||en(t);function Hv(t,e){if(Wv(t)||Wv(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:i}=n.pop();Object.keys(r).forEach(s=>{s!=="__proto__"&&(ve(r[s])&&!ve(i[s])&&(i[s]=Array.isArray(r[s])?[]:je()),Wv(i[s])||Wv(r[s])?i[s]=r[s]:n.push({src:r[s],des:i[s]}))})}}function Nlt(t,e,n){return{line:t,column:e,offset:n}}function Yv(t,e,n){return{start:t,end:e}}const Clt=/\{([0-9a-zA-Z]+)\}/g;function E9(t,...e){return e.length===1&&Rlt(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(Clt,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const S9=Object.assign,T9=t=>typeof t=="string",Rlt=t=>t!==null&&typeof t=="object";function A9(t,e=""){return t.reduce((n,r,i)=>i===0?n+r:n+e+r,"")}const iT={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},klt={[iT.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Llt(t,e,...n){const r=E9(klt[t],...n||[]),i={message:String(r),code:t};return e&&(i.location=e),i}const $t={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Plt={[$t.EXPECTED_TOKEN]:"Expected token: '{0}'",[$t.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[$t.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[$t.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[$t.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[$t.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[$t.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[$t.EMPTY_PLACEHOLDER]:"Empty placeholder",[$t.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[$t.INVALID_LINKED_FORMAT]:"Invalid linked format",[$t.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[$t.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[$t.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[$t.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[$t.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[$t.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Up(t,e,n={}){const{domain:r,messages:i,args:s}=n,o=E9((i||Plt)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function Dlt(t){throw t}const ya=" ",jlt="\r",ii=`
`,Flt="\u2028",Ult="\u2029";function Glt(t){const e=t;let n=0,r=1,i=1,s=0;const o=R=>e[R]===jlt&&e[R+1]===ii,a=R=>e[R]===ii,l=R=>e[R]===Ult,c=R=>e[R]===Flt,p=R=>o(R)||a(R)||l(R)||c(R),d=()=>n,f=()=>r,y=()=>i,g=()=>s,_=R=>o(R)||l(R)||c(R)?ii:e[R],w=()=>_(n),T=()=>_(n+s);function A(){return s=0,p(n)&&(r++,i=0),o(n)&&n++,n++,i++,e[n]}function x(){return o(n+s)&&s++,s++,e[n+s]}function b(){n=0,r=1,i=1,s=0}function I(R=0){s=R}function N(){const R=n+s;for(;R!==n;)A();s=0}return{index:d,line:f,column:y,peekOffset:g,charAt:_,currentChar:w,currentPeek:T,next:A,peek:x,reset:b,resetPeek:I,skipToPeek:N}}const Wl=void 0,E1t=".",I9="'",$lt="tokenizer";function Vlt(t,e={}){const n=e.location!==!1,r=Glt(t),i=()=>r.index(),s=()=>Nlt(r.line(),r.column(),r.index()),o=s(),a=i(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:p}=e;function d(M,L,V,...X){const z=c();if(L.column+=V,L.offset+=V,p){const Z=n?Yv(z.startLoc,L):null,ct=Up(M,Z,{domain:$lt,args:X});p(ct)}}function f(M,L,V){M.endLoc=s(),M.currentType=L;const X={type:L};return n&&(X.loc=Yv(M.startLoc,M.endLoc)),V!=null&&(X.value=V),X}const y=M=>f(M,14);function g(M,L){return M.currentChar()===L?(M.next(),L):(d($t.EXPECTED_TOKEN,s(),0,L),"")}function _(M){let L="";for(;M.currentPeek()===ya||M.currentPeek()===ii;)L+=M.currentPeek(),M.peek();return L}function w(M){const L=_(M);return M.skipToPeek(),L}function T(M){if(M===Wl)return!1;const L=M.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L===95}function A(M){if(M===Wl)return!1;const L=M.charCodeAt(0);return L>=48&&L<=57}function x(M,L){const{currentType:V}=L;if(V!==2)return!1;_(M);const X=T(M.currentPeek());return M.resetPeek(),X}function b(M,L){const{currentType:V}=L;if(V!==2)return!1;_(M);const X=M.currentPeek()==="-"?M.peek():M.currentPeek(),z=A(X);return M.resetPeek(),z}function I(M,L){const{currentType:V}=L;if(V!==2)return!1;_(M);const X=M.currentPeek()===I9;return M.resetPeek(),X}function N(M,L){const{currentType:V}=L;if(V!==8)return!1;_(M);const X=M.currentPeek()===".";return M.resetPeek(),X}function R(M,L){const{currentType:V}=L;if(V!==9)return!1;_(M);const X=T(M.currentPeek());return M.resetPeek(),X}function P(M,L){const{currentType:V}=L;if(!(V===8||V===12))return!1;_(M);const X=M.currentPeek()===":";return M.resetPeek(),X}function D(M,L){const{currentType:V}=L;if(V!==10)return!1;const X=()=>{const Z=M.currentPeek();return Z==="{"?T(M.peek()):Z==="@"||Z==="%"||Z==="|"||Z===":"||Z==="."||Z===ya||!Z?!1:Z===ii?(M.peek(),X()):U(M,!1)},z=X();return M.resetPeek(),z}function B(M){_(M);const L=M.currentPeek()==="|";return M.resetPeek(),L}function $(M){const L=_(M),V=M.currentPeek()==="%"&&M.peek()==="{";return M.resetPeek(),{isModulo:V,hasSpace:L.length>0}}function U(M,L=!0){const V=(z=!1,Z="",ct=!1)=>{const yt=M.currentPeek();return yt==="{"?Z==="%"?!1:z:yt==="@"||!yt?Z==="%"?!0:z:yt==="%"?(M.peek(),V(z,"%",!0)):yt==="|"?Z==="%"||ct?!0:!(Z===ya||Z===ii):yt===ya?(M.peek(),V(!0,ya,ct)):yt===ii?(M.peek(),V(!0,ii,ct)):!0},X=V();return L&&M.resetPeek(),X}function J(M,L){const V=M.currentChar();return V===Wl?Wl:L(V)?(M.next(),V):null}function rt(M){const L=M.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L>=48&&L<=57||L===95||L===36}function u(M){return J(M,rt)}function m(M){const L=M.charCodeAt(0);return L>=97&&L<=122||L>=65&&L<=90||L>=48&&L<=57||L===95||L===36||L===45}function E(M){return J(M,m)}function k(M){const L=M.charCodeAt(0);return L>=48&&L<=57}function H(M){return J(M,k)}function K(M){const L=M.charCodeAt(0);return L>=48&&L<=57||L>=65&&L<=70||L>=97&&L<=102}function ft(M){return J(M,K)}function ot(M){let L="",V="";for(;L=H(M);)V+=L;return V}function St(M){w(M);const L=M.currentChar();return L!=="%"&&d($t.EXPECTED_TOKEN,s(),0,L),M.next(),"%"}function Pt(M){let L="";for(;;){const V=M.currentChar();if(V==="{"||V==="}"||V==="@"||V==="|"||!V)break;if(V==="%")if(U(M))L+=V,M.next();else break;else if(V===ya||V===ii)if(U(M))L+=V,M.next();else{if(B(M))break;L+=V,M.next()}else L+=V,M.next()}return L}function Ut(M){w(M);let L="",V="";for(;L=E(M);)V+=L;return M.currentChar()===Wl&&d($t.UNTERMINATED_CLOSING_BRACE,s(),0),V}function Ot(M){w(M);let L="";return M.currentChar()==="-"?(M.next(),L+=`-${ot(M)}`):L+=ot(M),M.currentChar()===Wl&&d($t.UNTERMINATED_CLOSING_BRACE,s(),0),L}function ue(M){return M!==I9&&M!==ii}function ie(M){w(M),g(M,"'");let L="",V="";for(;L=J(M,ue);)L==="\\"?V+=Ne(M):V+=L;const X=M.currentChar();return X===ii||X===Wl?(d($t.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),X===ii&&(M.next(),g(M,"'")),V):(g(M,"'"),V)}function Ne(M){const L=M.currentChar();switch(L){case"\\":case"'":return M.next(),`\\${L}`;case"u":return fe(M,L,4);case"U":return fe(M,L,6);default:return d($t.UNKNOWN_ESCAPE_SEQUENCE,s(),0,L),""}}function fe(M,L,V){g(M,L);let X="";for(let z=0;z<V;z++){const Z=ft(M);if(!Z){d($t.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${L}${X}${M.currentChar()}`);break}X+=Z}return`\\${L}${X}`}function se(M){return M!=="{"&&M!=="}"&&M!==ya&&M!==ii}function Fe(M){w(M);let L="",V="";for(;L=J(M,se);)V+=L;return V}function W(M){let L="",V="";for(;L=u(M);)V+=L;return V}function j(M){const L=V=>{const X=M.currentChar();return X==="{"||X==="%"||X==="@"||X==="|"||X==="("||X===")"||!X||X===ya?V:(V+=X,M.next(),L(V))};return L("")}function q(M){w(M);const L=g(M,"|");return w(M),L}function st(M,L){let V=null;switch(M.currentChar()){case"{":return L.braceNest>=1&&d($t.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),M.next(),V=f(L,2,"{"),w(M),L.braceNest++,V;case"}":return L.braceNest>0&&L.currentType===2&&d($t.EMPTY_PLACEHOLDER,s(),0),M.next(),V=f(L,3,"}"),L.braceNest--,L.braceNest>0&&w(M),L.inLinked&&L.braceNest===0&&(L.inLinked=!1),V;case"@":return L.braceNest>0&&d($t.UNTERMINATED_CLOSING_BRACE,s(),0),V=nt(M,L)||y(L),L.braceNest=0,V;default:{let X=!0,z=!0,Z=!0;if(B(M))return L.braceNest>0&&d($t.UNTERMINATED_CLOSING_BRACE,s(),0),V=f(L,1,q(M)),L.braceNest=0,L.inLinked=!1,V;if(L.braceNest>0&&(L.currentType===5||L.currentType===6||L.currentType===7))return d($t.UNTERMINATED_CLOSING_BRACE,s(),0),L.braceNest=0,O(M,L);if(X=x(M,L))return V=f(L,5,Ut(M)),w(M),V;if(z=b(M,L))return V=f(L,6,Ot(M)),w(M),V;if(Z=I(M,L))return V=f(L,7,ie(M)),w(M),V;if(!X&&!z&&!Z)return V=f(L,13,Fe(M)),d($t.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,V.value),w(M),V;break}}return V}function nt(M,L){const{currentType:V}=L;let X=null;const z=M.currentChar();switch((V===8||V===9||V===12||V===10)&&(z===ii||z===ya)&&d($t.INVALID_LINKED_FORMAT,s(),0),z){case"@":return M.next(),X=f(L,8,"@"),L.inLinked=!0,X;case".":return w(M),M.next(),f(L,9,".");case":":return w(M),M.next(),f(L,10,":");default:return B(M)?(X=f(L,1,q(M)),L.braceNest=0,L.inLinked=!1,X):N(M,L)||P(M,L)?(w(M),nt(M,L)):R(M,L)?(w(M),f(L,12,W(M))):D(M,L)?(w(M),z==="{"?st(M,L)||X:f(L,11,j(M))):(V===8&&d($t.INVALID_LINKED_FORMAT,s(),0),L.braceNest=0,L.inLinked=!1,O(M,L))}}function O(M,L){let V={type:14};if(L.braceNest>0)return st(M,L)||y(L);if(L.inLinked)return nt(M,L)||y(L);switch(M.currentChar()){case"{":return st(M,L)||y(L);case"}":return d($t.UNBALANCED_CLOSING_BRACE,s(),0),M.next(),f(L,3,"}");case"@":return nt(M,L)||y(L);default:{if(B(M))return V=f(L,1,q(M)),L.braceNest=0,L.inLinked=!1,V;const{isModulo:X,hasSpace:z}=$(M);if(X)return z?f(L,0,Pt(M)):f(L,4,St(M));if(U(M))return f(L,0,Pt(M));break}}return V}function G(){const{currentType:M,offset:L,startLoc:V,endLoc:X}=l;return l.lastType=M,l.lastOffset=L,l.lastStartLoc=V,l.lastEndLoc=X,l.offset=i(),l.startLoc=s(),r.currentChar()===Wl?f(l,14):O(r,l)}return{nextToken:G,currentOffset:i,currentPosition:s,context:c}}const Blt="parser",zlt=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Wlt(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"\uFFFD"}}}function Hlt(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function i(x,b,I,N,...R){const P=x.currentPosition();if(P.offset+=N,P.column+=N,n){const D=e?Yv(I,P):null,B=Up(b,D,{domain:Blt,args:R});n(B)}}function s(x,b,I,N,...R){const P=x.currentPosition();if(P.offset+=N,P.column+=N,r){const D=e?Yv(I,P):null;r(Llt(b,D,R))}}function o(x,b,I){const N={type:x};return e&&(N.start=b,N.end=b,N.loc={start:I,end:I}),N}function a(x,b,I,N){e&&(x.end=b,x.loc&&(x.loc.end=I))}function l(x,b){const I=x.context(),N=o(3,I.offset,I.startLoc);return N.value=b,a(N,x.currentOffset(),x.currentPosition()),N}function c(x,b){const I=x.context(),{lastOffset:N,lastStartLoc:R}=I,P=o(5,N,R);return P.index=parseInt(b,10),x.nextToken(),a(P,x.currentOffset(),x.currentPosition()),P}function p(x,b,I){const N=x.context(),{lastOffset:R,lastStartLoc:P}=N,D=o(4,R,P);return D.key=b,I===!0&&(D.modulo=!0),x.nextToken(),a(D,x.currentOffset(),x.currentPosition()),D}function d(x,b){const I=x.context(),{lastOffset:N,lastStartLoc:R}=I,P=o(9,N,R);return P.value=b.replace(zlt,Wlt),x.nextToken(),a(P,x.currentOffset(),x.currentPosition()),P}function f(x){const b=x.nextToken(),I=x.context(),{lastOffset:N,lastStartLoc:R}=I,P=o(8,N,R);return b.type!==12?(i(x,$t.UNEXPECTED_EMPTY_LINKED_MODIFIER,I.lastStartLoc,0),P.value="",a(P,N,R),{nextConsumeToken:b,node:P}):(b.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,Ls(b)),P.value=b.value||"",a(P,x.currentOffset(),x.currentPosition()),{node:P})}function y(x,b){const I=x.context(),N=o(7,I.offset,I.startLoc);return N.value=b,a(N,x.currentOffset(),x.currentPosition()),N}function g(x){const b=x.context(),I=o(6,b.offset,b.startLoc);let N=x.nextToken();if(N.type===9){const R=f(x);I.modifier=R.node,N=R.nextConsumeToken||x.nextToken()}switch(N.type!==10&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(N)),N=x.nextToken(),N.type===2&&(N=x.nextToken()),N.type){case 11:N.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(N)),I.key=y(x,N.value||"");break;case 5:N.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(N)),I.key=p(x,N.value||"");break;case 6:N.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(N)),I.key=c(x,N.value||"");break;case 7:N.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(N)),I.key=d(x,N.value||"");break;default:{i(x,$t.UNEXPECTED_EMPTY_LINKED_KEY,b.lastStartLoc,0);const R=x.context(),P=o(7,R.offset,R.startLoc);return P.value="",a(P,R.offset,R.startLoc),I.key=P,a(I,R.offset,R.startLoc),{nextConsumeToken:N,node:I}}}return a(I,x.currentOffset(),x.currentPosition()),{node:I}}function _(x){const b=x.context(),I=b.currentType===1?x.currentOffset():b.offset,N=b.currentType===1?b.endLoc:b.startLoc,R=o(2,I,N);R.items=[];let P=null,D=null;do{const U=P||x.nextToken();switch(P=null,U.type){case 0:U.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(U)),R.items.push(l(x,U.value||""));break;case 6:U.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(U)),R.items.push(c(x,U.value||""));break;case 4:D=!0;break;case 5:U.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(U)),R.items.push(p(x,U.value||"",!!D)),D&&(s(x,iT.USE_MODULO_SYNTAX,b.lastStartLoc,0,Ls(U)),D=null);break;case 7:U.value==null&&i(x,$t.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,Ls(U)),R.items.push(d(x,U.value||""));break;case 8:{const J=g(x);R.items.push(J.node),P=J.nextConsumeToken||null;break}}}while(b.currentType!==14&&b.currentType!==1);const B=b.currentType===1?b.lastOffset:x.currentOffset(),$=b.currentType===1?b.lastEndLoc:x.currentPosition();return a(R,B,$),R}function w(x,b,I,N){const R=x.context();let P=N.items.length===0;const D=o(1,b,I);D.cases=[],D.cases.push(N);do{const B=_(x);P||(P=B.items.length===0),D.cases.push(B)}while(R.currentType!==14);return P&&i(x,$t.MUST_HAVE_MESSAGES_IN_PLURAL,I,0),a(D,x.currentOffset(),x.currentPosition()),D}function T(x){const b=x.context(),{offset:I,startLoc:N}=b,R=_(x);return b.currentType===14?R:w(x,I,N,R)}function A(x){const b=Vlt(x,S9({},t)),I=b.context(),N=o(0,I.offset,I.startLoc);return e&&N.loc&&(N.loc.source=x),N.body=T(b),t.onCacheKey&&(N.cacheKey=t.onCacheKey(x)),I.currentType!==14&&i(b,$t.UNEXPECTED_LEXICAL_ANALYSIS,I.lastStartLoc,0,x[I.offset]||""),a(N,b.currentOffset(),b.currentPosition()),N}return{parse:A}}function Ls(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"\u2026":e}function Ylt(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:r=>(n.helpers.add(r),r)}}function M9(t,e){for(let n=0;n<t.length;n++)sT(t[n],e)}function sT(t,e){switch(t.type){case 1:M9(t.cases,e),e.helper("plural");break;case 2:M9(t.items,e);break;case 6:{sT(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function Zlt(t,e={}){const n=Ylt(t);n.helper("normalize"),t.body&&sT(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function Jlt(t){const e=t.body;return e.type===2?O9(e):e.cases.forEach(n=>O9(n)),t}function O9(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=A9(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const Xlt="minifier";function Gp(t){switch(t.t=t.type,t.type){case 0:{const e=t;Gp(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)Gp(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)Gp(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Gp(e.key),e.k=e.key,delete e.key,e.modifier&&(Gp(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Up($t.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:Xlt,args:[t.type]})}delete t.type}const qlt="parser";function Klt(t,e){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:s}=e,o=e.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const l=()=>a;function c(g,_){a.code+=g}function p(g,_=!0){const w=_?i:"";c(s?w+"  ".repeat(g):w)}function d(g=!0){const _=++a.indentLevel;g&&p(_)}function f(g=!0){const _=--a.indentLevel;g&&p(_)}function y(){p(a.indentLevel)}return{context:l,push:c,indent:d,deindent:f,newline:y,helper:g=>`_${g}`,needIndent:()=>a.needIndent}}function Qlt(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),$p(t,e.key),e.modifier?(t.push(", "),$p(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function tct(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const i=e.items.length;for(let s=0;s<i&&($p(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}function ect(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const i=e.cases.length;for(let s=0;s<i&&($p(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(r()),t.push("])")}}function nct(t,e){e.body?$p(t,e.body):t.push("null")}function $p(t,e){const{helper:n}=t;switch(e.type){case 0:nct(t,e);break;case 1:ect(t,e);break;case 2:tct(t,e);break;case 6:Qlt(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Up($t.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:qlt,args:[e.type]})}}const rct=(t,e={})=>{const n=T9(e.mode)?e.mode:"normal",r=T9(e.filename)?e.filename:"message.intl",i=!!e.sourceMap,s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],l=Klt(t,{mode:n,filename:r,sourceMap:i,breakLineCode:s,needIndent:o});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(o),a.length>0&&(l.push(`const { ${A9(a.map(d=>`${d}: _${d}`),", ")} } = ctx`),l.newline()),l.push("return "),$p(l,t),l.deindent(o),l.push("}"),delete t.helpers;const{code:c,map:p}=l.context();return{ast:t,code:c,map:p?p.toJSON():void 0}};function ict(t,e={}){const n=S9({},e),r=!!n.jit,i=!!n.minify,s=n.optimize==null?!0:n.optimize,o=Hlt(n).parse(t);return r?(s&&Jlt(o),i&&Gp(o),{ast:o,code:""}):(Zlt(o,n),rct(o,n))}var sct={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"828",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6691",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12598303198",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/rastice",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IERpc3RyaWJ1dGVkVGFzay5HZW5lcmF0ZUlkVG9rZW46ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBMb2NhdGlvblNlcnZpY2UuQ29ubmVjdCBSZWFkQW5kVXBkYXRlQnVpbGRCeVVyaTowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IiwiSWRlbnRpdHlUeXBlQ2xhaW0iOiJTeXN0ZW06U2VydmljZUlkZW50aXR5IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiREREREREREQtRERERC1ERERELUREREQtREREREREREREREREIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiYXVpIjoiNzA4ZTJjNTEtNjZiNC00MzdlLWFkNGYtZDJiY2RmOGJkMzBjIiwic2lkIjoiODZiOGQ2NDAtMmJmMS00ZGMwLTkyNDMtMmQyMGM2OGY0NDk0IiwiYWMiOiJbe1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvcmFzdGljZVwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJvaWRjX2V4dHJhIjoie1wicmVmXCI6XCJyZWZzL2hlYWRzL3Jhc3RpY2VcIixcInNoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicmVwb3NpdG9yeVwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJqYW1lcy1yYWVcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjc1ODUyNDVcIixcInJ1bl9pZFwiOlwiMTI1OTgzMDMxOThcIixcInJ1bl9udW1iZXJcIjpcIjkyXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJ3b3JrZmxvd19yZWZcIjpcImphbWVzLXJhZS9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL3Jhc3RpY2VcIixcIndvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvcmFzdGljZVwiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoaWQiOiJlOTljZThmOC02YzMwLTRlNjEtYTBkNS00NzJmMWQ1NTQxYmEuYnVpbGQuX19kZWZhdWx0IiwiaXNzIjoidnN0b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImF1ZCI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb218dnNvOjU4YjIzOGVhLTc0YjctNGFjNi05MTY5LWIzYmZhNzhlYzMxMiIsIm5iZiI6MTczNTkwOTU5NiwiZXhwIjoxNzM1OTMyMzk2fQ.oTuLGumJ9eb05SPgL7X9i9vN3iOxDsfPaum7NE-O5VwhieWH0Chb9mDIIhT61-AvFaAWhQh8ChkPIxAeSkiKDYkYcMuGH8-N6nxqvx2NYkKyN8ZerZ6TH9_37xg4Z6_QsnI0B5MAP4R9vNiaN2RnTwtst3koG7ZGoVk6UMNnD69MPJZ3r8xRP8NrnBCR-8g9fmp8aTMJzzPLLMcaGfdMPW9YWZCqq0adb9zgMYhL8d7x5PUKnH0EErgKZf02X8lZMD3Klnu-5hgkYKFbNFz7jqHt2zLtfi1Waw871z9A-Yj2d8YlEzXNfkeWQa7FjyatrB1M7J5o5RvEBZRddpbC-w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_29fd7f6e-e4c4-41e7-9ea5-1f8dd7072e90",INVOCATION_ID:"66b4c5e5794041008066eb3488e2f114",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"92",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 9",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"rastice",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.11.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/rastice",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus23.actions.githubusercontent.com/QK0qIqlo3r9YNWIQ9RWnYl2JYKdlddRfoYwI7wqcIcmuhIPqfK/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e99ce8f8-6c30-4e61-a0d5-472f1d5541ba/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};function oct(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ma().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ma().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ma().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Hl=[];Hl[0]={w:[0],i:[3,0],"[":[4],o:[7]},Hl[1]={w:[1],".":[2],"[":[4],o:[7]},Hl[2]={w:[2],i:[3,0],0:[3,0]},Hl[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},Hl[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},Hl[5]={"'":[4,0],o:8,l:[5,0]},Hl[6]={'"':[4,0],o:8,l:[6,0]};const act=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function lct(t){return act.test(t)}function cct(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function uct(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function hct(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:lct(e)?cct(e):"*"+e}function pct(t){const e=[];let n=-1,r=0,i=0,s,o,a,l,c,p,d;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),i++},f[3]=()=>{if(i>0)i--,r=4,f[0]();else{if(i=0,o===void 0||(o=hct(o),o===!1))return!1;f[1]()}};function y(){const g=t[n+1];if(r===5&&g==="'"||r===6&&g==='"')return n++,a="\\"+g,f[0](),!0}for(;r!==null;)if(n++,s=t[n],!(s==="\\"&&y())){if(l=uct(s),d=Hl[r],c=d[l]||d.l||8,c===8||(r=c[0],c[1]!==void 0&&(p=f[c[1]],p&&(a=s,p()===!1))))return;if(r===7)return e}}const N9=new Map;function dct(t,e){return ve(t)?t[e]:null}function fct(t,e){if(!ve(t))return null;let n=N9.get(e);if(n||(n=pct(e),n&&N9.set(e,n)),!n)return null;const r=n.length;let i=t,s=0;for(;s<r;){const o=i[n[s]];if(o===void 0||Ze(i))return null;i=o,s++}return i}const mct=t=>t,yct=t=>"",gct="text",vct=t=>t.length===0?"":Mlt(t),bct=Ilt;function C9(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function _ct(t){const e=Rn(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Rn(t.named.count)||Rn(t.named.n))?Rn(t.named.count)?t.named.count:Rn(t.named.n)?t.named.n:e:e}function wct(t,e){e.count||(e.count=t),e.n||(e.n=t)}function xct(t={}){const e=t.locale,n=_ct(t),r=ve(t.pluralRules)&&xt(e)&&Ze(t.pluralRules[e])?t.pluralRules[e]:C9,i=ve(t.pluralRules)&&xt(e)&&Ze(t.pluralRules[e])?C9:void 0,s=w=>w[r(n,w.length,i)],o=t.list||[],a=w=>o[w],l=t.named||je();Rn(t.pluralIndex)&&wct(n,l);const c=w=>l[w];function p(w){return(Ze(t.messages)?t.messages(w):ve(t.messages)?t.messages[w]:!1)||(t.parent?t.parent.message(w):yct)}const d=w=>t.modifiers?t.modifiers[w]:mct,f=Yt(t.processor)&&Ze(t.processor.normalize)?t.processor.normalize:vct,y=Yt(t.processor)&&Ze(t.processor.interpolate)?t.processor.interpolate:bct,g=Yt(t.processor)&&xt(t.processor.type)?t.processor.type:gct,_={list:a,named:c,plural:s,linked:(w,...T)=>{const[A,x]=T;let b="text",I="";T.length===1?ve(A)?(I=A.modifier||I,b=A.type||b):xt(A)&&(I=A||I):T.length===2&&(xt(A)&&(I=A||I),xt(x)&&(b=x||b));const N=p(w)(_),R=b==="vnode"&&en(N)&&I?N[0]:N;return I?d(I)(R,b):R},message:p,type:g,interpolate:y,normalize:f,values:lr(je(),o,l)};return _}let Zm=null;function Ect(t){Zm=t}function Sct(t,e,n){Zm&&Zm.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const Tct=Act("function:translate");function Act(t){return e=>Zm&&Zm.emit(t,e)}const R9=iT.__EXTEND_POINT__,Eu=zv(R9),Ict={NOT_FOUND_KEY:R9,FALLBACK_TO_TRANSLATE:Eu(),CANNOT_FORMAT_NUMBER:Eu(),FALLBACK_TO_NUMBER_FORMAT:Eu(),CANNOT_FORMAT_DATE:Eu(),FALLBACK_TO_DATE_FORMAT:Eu(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Eu(),__EXTEND_POINT__:Eu()},k9=$t.__EXTEND_POINT__,Su=zv(k9),Ps={INVALID_ARGUMENT:k9,INVALID_DATE_ARGUMENT:Su(),INVALID_ISO_DATE_ARGUMENT:Su(),NOT_SUPPORT_NON_STRING_MESSAGE:Su(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Su(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Su(),NOT_SUPPORT_LOCALE_TYPE:Su(),__EXTEND_POINT__:Su()};function bo(t){return Up(t,null,void 0)}function oT(t,e){return e.locale!=null?L9(e.locale):L9(t.locale)}let aT;function L9(t){if(xt(t))return t;if(Ze(t)){if(t.resolvedOnce&&aT!=null)return aT;if(t.constructor.name==="Function"){const e=t();if(Alt(e))throw bo(Ps.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return aT=e}else throw bo(Ps.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw bo(Ps.NOT_SUPPORT_LOCALE_TYPE)}function Mct(t,e,n){return[...new Set([n,...en(e)?e:ve(e)?Object.keys(e):xt(e)?[e]:[n]])]}function P9(t,e,n){const r=xt(n)?n:Vp,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(r);if(!s){s=[];let o=[n];for(;en(o);)o=D9(s,o,e);const a=en(e)||!Yt(e)?e:e.default?e.default:null;o=xt(a)?[a]:a,en(o)&&D9(s,o,!1),i.__localeChainCache.set(r,s)}return s}function D9(t,e,n){let r=!0;for(let i=0;i<e.length&&oe(r);i++){const s=e[i];xt(s)&&(r=Oct(t,e[i],n))}return r}function Oct(t,e,n){let r;const i=e.split("-");do{const s=i.join("-");r=Nct(t,s,n),i.splice(-1,1)}while(i.length&&r===!0);return r}function Nct(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(en(n)||Yt(n))&&n[i]&&(r=n[i])}return r}const Cct="9.14.2",Zv=-1,Vp="en-US",j9="",F9=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Rct(){return{upper:(t,e)=>e==="text"&&xt(t)?t.toUpperCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&xt(t)?t.toLowerCase():e==="vnode"&&ve(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&xt(t)?F9(t):e==="vnode"&&ve(t)&&"__v_isVNode"in t?F9(t.children):t}}let U9;function G9(t){U9=t}let $9;function kct(t){$9=t}let V9;function Lct(t){V9=t}let B9=null;const S1t=t=>{B9=t},Pct=()=>B9;let z9=null;const W9=t=>{z9=t},Dct=()=>z9;let H9=0;function jct(t={}){const e=Ze(t.onWarn)?t.onWarn:Olt,n=xt(t.version)?t.version:Cct,r=xt(t.locale)||Ze(t.locale)?t.locale:Vp,i=Ze(r)?Vp:r,s=en(t.fallbackLocale)||Yt(t.fallbackLocale)||xt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=Yt(t.messages)?t.messages:lT(i),a=Yt(t.datetimeFormats)?t.datetimeFormats:lT(i),l=Yt(t.numberFormats)?t.numberFormats:lT(i),c=lr(je(),t.modifiers,Rct()),p=t.pluralRules||je(),d=Ze(t.missing)?t.missing:null,f=oe(t.missingWarn)||zl(t.missingWarn)?t.missingWarn:!0,y=oe(t.fallbackWarn)||zl(t.fallbackWarn)?t.fallbackWarn:!0,g=!!t.fallbackFormat,_=!!t.unresolving,w=Ze(t.postTranslation)?t.postTranslation:null,T=Yt(t.processor)?t.processor:null,A=oe(t.warnHtmlMessage)?t.warnHtmlMessage:!0,x=!!t.escapeParameter,b=Ze(t.messageCompiler)?t.messageCompiler:U9,I=Ze(t.messageResolver)?t.messageResolver:$9||dct,N=Ze(t.localeFallbacker)?t.localeFallbacker:V9||Mct,R=ve(t.fallbackContext)?t.fallbackContext:void 0,P=t,D=ve(P.__datetimeFormatters)?P.__datetimeFormatters:new Map,B=ve(P.__numberFormatters)?P.__numberFormatters:new Map,$=ve(P.__meta)?P.__meta:{};H9++;const U={version:n,cid:H9,locale:r,fallbackLocale:s,messages:o,modifiers:c,pluralRules:p,missing:d,missingWarn:f,fallbackWarn:y,fallbackFormat:g,unresolving:_,postTranslation:w,processor:T,warnHtmlMessage:A,escapeParameter:x,messageCompiler:b,messageResolver:I,localeFallbacker:N,fallbackContext:R,onWarn:e,__meta:$};return U.datetimeFormats=a,U.numberFormats=l,U.__datetimeFormatters=D,U.__numberFormatters=B,__INTLIFY_PROD_DEVTOOLS__&&Sct(U,n,$),U}const lT=t=>({[t]:je()});function cT(t,e,n,r,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,n,e,i);return xt(a)?a:e}else return e}function Jm(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function Fct(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function Uct(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(Fct(t,e[r]))return!0;return!1}function uT(t){return e=>Gct(e,t)}function Gct(t,e){const n=Vct(e);if(n==null)throw Xm(0);if(pT(n)===1){const r=zct(n);return t.plural(r.reduce((i,s)=>[...i,Y9(t,s)],[]))}else return Y9(t,n)}const $ct=["b","body"];function Vct(t){return Yl(t,$ct)}const Bct=["c","cases"];function zct(t){return Yl(t,Bct,[])}function Y9(t,e){const n=Hct(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=Zct(e).reduce((i,s)=>[...i,hT(t,s)],[]);return t.normalize(r)}}const Wct=["s","static"];function Hct(t){return Yl(t,Wct)}const Yct=["i","items"];function Zct(t){return Yl(t,Yct,[])}function hT(t,e){const n=pT(e);switch(n){case 3:return Jv(e,n);case 9:return Jv(e,n);case 4:{const r=e;if(ks(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(ks(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Xm(n)}case 5:{const r=e;if(ks(r,"i")&&Rn(r.i))return t.interpolate(t.list(r.i));if(ks(r,"index")&&Rn(r.index))return t.interpolate(t.list(r.index));throw Xm(n)}case 6:{const r=e,i=Kct(r),s=tut(r);return t.linked(hT(t,s),i?hT(t,i):void 0,t.type)}case 7:return Jv(e,n);case 8:return Jv(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const Jct=["t","type"];function pT(t){return Yl(t,Jct)}const Xct=["v","value"];function Jv(t,e){const n=Yl(t,Xct);if(n)return n;throw Xm(e)}const qct=["m","modifier"];function Kct(t){return Yl(t,qct)}const Qct=["k","key"];function tut(t){const e=Yl(t,Qct);if(e)return e;throw Xm(6)}function Yl(t,e,n){for(let r=0;r<e.length;r++){const i=e[r];if(ks(t,i)&&t[i]!=null)return t[i]}return n}function Xm(t){return new Error(`unhandled node type: ${t}`)}const Z9=t=>t;let Bp=je();function zp(t){return ve(t)&&pT(t)===0&&(ks(t,"b")||ks(t,"body"))}function J9(t,e={}){let n=!1;const r=e.onError||Dlt;return e.onError=i=>{n=!0,r(i)},{...ict(t,e),detectError:n}}const eut=(t,e)=>{if(!xt(t))throw bo(Ps.NOT_SUPPORT_NON_STRING_MESSAGE);{oe(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||Z9)(t),r=Bp[n];if(r)return r;const{code:i,detectError:s}=J9(t,e),o=new Function(`return ${i}`)();return s?o:Bp[n]=o}};function nut(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&xt(t)){oe(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||Z9)(t),r=Bp[n];if(r)return r;const{ast:i,detectError:s}=J9(t,{...e,location:sct.NODE_ENV!=="production",jit:!0}),o=uT(i);return s?o:Bp[n]=o}else{const n=t.cacheKey;return n?Bp[n]||(Bp[n]=uT(t)):uT(t)}}const X9=()=>"",Qi=t=>Ze(t);function q9(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[l,c]=dT(...e),p=oe(c.missingWarn)?c.missingWarn:t.missingWarn,d=oe(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=oe(c.escapeParameter)?c.escapeParameter:t.escapeParameter,y=!!c.resolvedMessage,g=xt(c.default)||oe(c.default)?oe(c.default)?s?l:()=>l:c.default:n?s?l:()=>l:"",_=n||g!=="",w=oT(t,c);f&&rut(c);let[T,A,x]=y?[l,w,a[w]||je()]:K9(t,l,w,o,d,p),b=T,I=l;if(!y&&!(xt(b)||zp(b)||Qi(b))&&_&&(b=g,I=b),!y&&(!(xt(b)||zp(b)||Qi(b))||!xt(A)))return i?Zv:l;let N=!1;const R=()=>{N=!0},P=Qi(b)?b:Q9(t,l,A,b,I,R);if(N)return b;const D=out(t,A,x,c),B=xct(D),$=iut(t,P,B),U=r?r($,l):$;if(__INTLIFY_PROD_DEVTOOLS__){const J={timestamp:Date.now(),key:xt(l)?l:Qi(b)?b.key:"",locale:A||(Qi(b)?b.locale:""),format:xt(b)?b:Qi(b)?b.source:"",message:U};J.meta=lr({},t.__meta,Pct()||{}),Tct(J)}return U}function rut(t){en(t.list)?t.list=t.list.map(e=>xt(e)?_9(e):e):ve(t.named)&&Object.keys(t.named).forEach(e=>{xt(t.named[e])&&(t.named[e]=_9(t.named[e]))})}function K9(t,e,n,r,i,s){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:c}=t,p=c(t,r,n);let d=je(),f,y=null;const g="translate";for(let _=0;_<p.length&&(f=p[_],d=o[f]||je(),(y=l(d,e))===null&&(y=d[e]),!(xt(y)||zp(y)||Qi(y)));_++)if(!Uct(f,p)){const w=cT(t,e,f,s,g);w!==e&&(y=w)}return[y,f,d]}function Q9(t,e,n,r,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Qi(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>r;return c.locale=n,c.key=e,c}const l=o(r,sut(t,n,i,r,a,s));return l.locale=n,l.key=e,l.source=r,l}function iut(t,e,n){return e(n)}function dT(...t){const[e,n,r]=t,i=je();if(!xt(e)&&!Rn(e)&&!Qi(e)&&!zp(e))throw bo(Ps.INVALID_ARGUMENT);const s=Rn(e)?String(e):(Qi(e),e);return Rn(n)?i.plural=n:xt(n)?i.default=n:Yt(n)&&!Bv(n)?i.named=n:en(n)&&(i.list=n),Rn(r)?i.plural=r:xt(r)?i.default=r:Yt(r)&&lr(i,r),[s,i]}function sut(t,e,n,r,i,s){return{locale:e,key:n,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>wlt(e,n,o)}}function out(t,e,n,r){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:p}=t,d={locale:e,modifiers:i,pluralRules:s,messages:f=>{let y=o(n,f);if(y==null&&p){const[,,g]=K9(p,f,e,a,l,c);y=o(g,f)}if(xt(y)||zp(y)){let g=!1;const _=Q9(t,f,e,y,f,()=>{g=!0});return g?X9:_}else return Qi(y)?y:X9}};return t.processor&&(d.processor=t.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),Rn(r.plural)&&(d.pluralIndex=r.plural),d}function tD(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,c,p,d]=fT(...e),f=oe(p.missingWarn)?p.missingWarn:t.missingWarn;oe(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=oT(t,p),_=o(t,i,g);if(!xt(l)||l==="")return new Intl.DateTimeFormat(g,d).format(c);let w={},T,A=null;const x="datetime format";for(let N=0;N<_.length&&(T=_[N],w=n[T]||{},A=w[l],!Yt(A));N++)cT(t,l,T,f,x);if(!Yt(A)||!xt(T))return r?Zv:l;let b=`${T}__${l}`;Bv(d)||(b=`${b}__${JSON.stringify(d)}`);let I=a.get(b);return I||(I=new Intl.DateTimeFormat(T,lr({},A,d)),a.set(b,I)),y?I.formatToParts(c):I.format(c)}const eD=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function fT(...t){const[e,n,r,i]=t,s=je();let o=je(),a;if(xt(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw bo(Ps.INVALID_ISO_DATE_ARGUMENT);const c=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(c);try{a.toISOString()}catch{throw bo(Ps.INVALID_ISO_DATE_ARGUMENT)}}else if(Elt(e)){if(isNaN(e.getTime()))throw bo(Ps.INVALID_DATE_ARGUMENT);a=e}else if(Rn(e))a=e;else throw bo(Ps.INVALID_ARGUMENT);return xt(n)?s.key=n:Yt(n)&&Object.keys(n).forEach(l=>{eD.includes(l)?o[l]=n[l]:s[l]=n[l]}),xt(r)?s.locale=r:Yt(r)&&(o=r),Yt(i)&&(o=i),[s.key||"",a,s,o]}function nD(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function rD(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,c,p,d]=mT(...e),f=oe(p.missingWarn)?p.missingWarn:t.missingWarn;oe(p.fallbackWarn)?p.fallbackWarn:t.fallbackWarn;const y=!!p.part,g=oT(t,p),_=o(t,i,g);if(!xt(l)||l==="")return new Intl.NumberFormat(g,d).format(c);let w={},T,A=null;const x="number format";for(let N=0;N<_.length&&(T=_[N],w=n[T]||{},A=w[l],!Yt(A));N++)cT(t,l,T,f,x);if(!Yt(A)||!xt(T))return r?Zv:l;let b=`${T}__${l}`;Bv(d)||(b=`${b}__${JSON.stringify(d)}`);let I=a.get(b);return I||(I=new Intl.NumberFormat(T,lr({},A,d)),a.set(b,I)),y?I.formatToParts(c):I.format(c)}const iD=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function mT(...t){const[e,n,r,i]=t,s=je();let o=je();if(!Rn(e))throw bo(Ps.INVALID_ARGUMENT);const a=e;return xt(n)?s.key=n:Yt(n)&&Object.keys(n).forEach(l=>{iD.includes(l)?o[l]=n[l]:s[l]=n[l]}),xt(r)?s.locale=r:Yt(r)&&(o=r),Yt(i)&&(o=i),[s.key||"",a,s,o]}function sD(t,e,n){const r=t;for(const i in n){const s=`${e}__${i}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}oct();var aut={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_always_auth:"",npm_config_user_agent:"npm/10.9.0 node/v22.12.0 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",NODE_AUTH_TOKEN:"XXXXX-XXXXX-XXXXX-XXXXX",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",OLDPWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"james-rae",npm_package_engines_node:"=22.12.0",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"7585245",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu24",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_local_prefix:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",SYSTEMD_EXEC_PID:"828",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:6691",GITHUB_WORKFLOW:"Build demo site and deploy to GitHub Pages",_:"/opt/hostedtoolcache/node/22.12.0/x64/bin/npm",npm_config_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",npm_config_npm_version:"10.9.0",MEMORY_PRESSURE_WATCH:"/sys/fs/cgroup/system.slice/runner-provisioner.service/memory.pressure",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12598303198",STATS_VMFE:"true",npm_config_cache:"/home/runner/.npm",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_BASE_REF:"",ImageOS:"ubuntu24",GITHUB_WORKFLOW_REF:"james-rae/ramp4-pcar4/.github/workflows/demo-build.yml@refs/heads/rastice",ACTIONS_ID_TOKEN_REQUEST_TOKEN:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ikh5cTROQVRBanNucUM3bWRydEFoaHJDUjJfUSJ9.eyJuYW1laWQiOiJkZGRkZGRkZC1kZGRkLWRkZGQtZGRkZC1kZGRkZGRkZGRkZGQiLCJzY3AiOiJBY3Rpb25zLkdlbmVyaWNSZWFkOjAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCBBY3Rpb25zLlJlc3VsdHM6ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBBY3Rpb25zLlVwbG9hZEFydGlmYWN0czowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IERpc3RyaWJ1dGVkVGFzay5HZW5lcmF0ZUlkVG9rZW46ZTk5Y2U4ZjgtNmMzMC00ZTYxLWEwZDUtNDcyZjFkNTU0MWJhOmNhMzk1MDg1LTA0MGEtNTI2Yi0yY2U4LWJkYzg1ZjY5Mjc3NCBMb2NhdGlvblNlcnZpY2UuQ29ubmVjdCBSZWFkQW5kVXBkYXRlQnVpbGRCeVVyaTowMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAvMTpCdWlsZC9CdWlsZC8xMDk0IiwiSWRlbnRpdHlUeXBlQ2xhaW0iOiJTeXN0ZW06U2VydmljZUlkZW50aXR5IiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvc2lkIjoiREREREREREQtRERERC1ERERELUREREQtREREREREREREREREIiwiaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS93cy8yMDA4LzA2L2lkZW50aXR5L2NsYWltcy9wcmltYXJ5c2lkIjoiZGRkZGRkZGQtZGRkZC1kZGRkLWRkZGQtZGRkZGRkZGRkZGRkIiwiYXVpIjoiNzA4ZTJjNTEtNjZiNC00MzdlLWFkNGYtZDJiY2RmOGJkMzBjIiwic2lkIjoiODZiOGQ2NDAtMmJmMS00ZGMwLTkyNDMtMmQyMGM2OGY0NDk0IiwiYWMiOiJbe1wiU2NvcGVcIjpcInJlZnMvaGVhZHMvcmFzdGljZVwiLFwiUGVybWlzc2lvblwiOjN9LHtcIlNjb3BlXCI6XCJyZWZzL2hlYWRzL21haW5cIixcIlBlcm1pc3Npb25cIjoxfV0iLCJhY3NsIjoiMTAiLCJvaWRjX2V4dHJhIjoie1wicmVmXCI6XCJyZWZzL2hlYWRzL3Jhc3RpY2VcIixcInNoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicmVwb3NpdG9yeVwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0XCIsXCJyZXBvc2l0b3J5X293bmVyXCI6XCJqYW1lcy1yYWVcIixcInJlcG9zaXRvcnlfb3duZXJfaWRcIjpcIjc1ODUyNDVcIixcInJ1bl9pZFwiOlwiMTI1OTgzMDMxOThcIixcInJ1bl9udW1iZXJcIjpcIjkyXCIsXCJydW5fYXR0ZW1wdFwiOlwiMVwiLFwicmVwb3NpdG9yeV92aXNpYmlsaXR5XCI6XCJwdWJsaWNcIixcInJlcG9zaXRvcnlfaWRcIjpcIjIzMzkzOTIzN1wiLFwiYWN0b3JfaWRcIjpcIjc1ODUyNDVcIixcImFjdG9yXCI6XCJqYW1lcy1yYWVcIixcIndvcmtmbG93XCI6XCJCdWlsZCBkZW1vIHNpdGUgYW5kIGRlcGxveSB0byBHaXRIdWIgUGFnZXNcIixcImhlYWRfcmVmXCI6XCJcIixcImJhc2VfcmVmXCI6XCJcIixcImV2ZW50X25hbWVcIjpcInB1c2hcIixcInJlZl9wcm90ZWN0ZWRcIjpcImZhbHNlXCIsXCJyZWZfdHlwZVwiOlwiYnJhbmNoXCIsXCJ3b3JrZmxvd19yZWZcIjpcImphbWVzLXJhZS9yYW1wNC1wY2FyNC8uZ2l0aHViL3dvcmtmbG93cy9kZW1vLWJ1aWxkLnltbEByZWZzL2hlYWRzL3Jhc3RpY2VcIixcIndvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwiZW52aXJvbm1lbnRcIjpcImdpdGh1Yi1wYWdlc1wiLFwiZW52aXJvbm1lbnRfbm9kZV9pZFwiOlwiRU5fa3dET0RmR2hKYzdxVl9xLVwiLFwiam9iX3dvcmtmbG93X3JlZlwiOlwiamFtZXMtcmFlL3JhbXA0LXBjYXI0Ly5naXRodWIvd29ya2Zsb3dzL2RlbW8tYnVpbGQueW1sQHJlZnMvaGVhZHMvcmFzdGljZVwiLFwiam9iX3dvcmtmbG93X3NoYVwiOlwiYWY2Yjg0NzAyZjNiNGYwNTNmM2I3NjU0MmFiNGI4MDgwYWE5Y2JiYlwiLFwicnVubmVyX2Vudmlyb25tZW50XCI6XCJnaXRodWItaG9zdGVkXCJ9Iiwib2lkY19zdWIiOiJyZXBvOmphbWVzLXJhZS9yYW1wNC1wY2FyNDplbnZpcm9ubWVudDpnaXRodWItcGFnZXMiLCJvcmNoaWQiOiJlOTljZThmOC02YzMwLTRlNjEtYTBkNS00NzJmMWQ1NTQxYmEuYnVpbGQuX19kZWZhdWx0IiwiaXNzIjoidnN0b2tlbi5hY3Rpb25zLmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImF1ZCI6InZzdG9rZW4uYWN0aW9ucy5naXRodWJ1c2VyY29udGVudC5jb218dnNvOjU4YjIzOGVhLTc0YjctNGFjNi05MTY5LWIzYmZhNzhlYzMxMiIsIm5iZiI6MTczNTkwOTU5NiwiZXhwIjoxNzM1OTMyMzk2fQ.oTuLGumJ9eb05SPgL7X9i9vN3iOxDsfPaum7NE-O5VwhieWH0Chb9mDIIhT61-AvFaAWhQh8ChkPIxAeSkiKDYkYcMuGH8-N6nxqvx2NYkKyN8ZerZ6TH9_37xg4Z6_QsnI0B5MAP4R9vNiaN2RnTwtst3koG7ZGoVk6UMNnD69MPJZ3r8xRP8NrnBCR-8g9fmp8aTMJzzPLLMcaGfdMPW9YWZCqq0adb9zgMYhL8d7x5PUKnH0EErgKZf02X8lZMD3Klnu-5hgkYKFbNFz7jqHt2zLtfi1Waw871z9A-Yj2d8YlEzXNfkeWQa7FjyatrB1M7J5o5RvEBZRddpbC-w",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp/node_modules/.bin:/home/runner/work/ramp4-pcar4/ramp4-pcar4/node_modules/.bin:/home/runner/work/ramp4-pcar4/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/opt/hostedtoolcache/node/22.12.0/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_29fd7f6e-e4c4-41e7-9ea5-1f8dd7072e90",INVOCATION_ID:"66b4c5e5794041008066eb3488e2f114",NPM_CONFIG_USERCONFIG:"/home/runner/work/_temp/.npmrc",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/opt/hostedtoolcache/node/22.12.0/x64/bin/node",npm_package_name:"ramp-pcar",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"92",GITHUB_TRIGGERING_ACTOR:"james-rae",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 9",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"rastice",GITHUB_REPOSITORY:"james-rae/ramp4-pcar4",STATS_D_D:"true",npm_lifecycle_script:"vite build --mode esDynamic",npm_config_loglevel:"silent",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"233939237",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_package_version:"4.11.0-beta",npm_lifecycle_event:"build:esDynamic",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ramp4-pcar4/ramp4-pcar4",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",GITHUB_REF:"refs/heads/rastice",GITHUB_ACTOR:"james-rae",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_globalconfig:"/opt/hostedtoolcache/node/22.12.0/x64/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",JAVA_HOME:"/usr/lib/jvm/temurin-17-jdk-amd64",PWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",GITHUB_ACTOR_ID:"7585245",RUNNER_WORKSPACE:"/home/runner/work/ramp4-pcar4",npm_execpath:"/opt/hostedtoolcache/node/22.12.0/x64/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",ACTIONS_ID_TOKEN_REQUEST_URL:"https://pipelinesghubeus23.actions.githubusercontent.com/QK0qIqlo3r9YNWIQ9RWnYl2JYKdlddRfoYwI7wqcIcmuhIPqfK/00000000-0000-0000-0000-000000000000/_apis/distributedtask/hubs/Actions/plans/e99ce8f8-6c30-4e61-a0d5-472f1d5541ba/jobs/ca395085-040a-526b-2ce8-bdc85f692774/idtoken?api-version=2.0",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",npm_config_global_prefix:"/opt/hostedtoolcache/node/22.12.0/x64",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",MEMORY_PRESSURE_WRITE:"c29tZSAyMDAwMDAgMjAwMDAwMAA=",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_3fdff1fe-f8ea-45cd-baf5-1197c3a41a87",INIT_CWD:"/home/runner/work/ramp4-pcar4/ramp4-pcar4/ramp",EDITOR:"vi",NODE_ENV:"production"};const lut="9.14.2";function cut(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ma().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ma().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(ma().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(ma().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ma().__INTLIFY_PROD_DEVTOOLS__=!1)}const uut=Ict.__EXTEND_POINT__,ga=zv(uut);ga(),ga(),ga(),ga(),ga(),ga(),ga(),ga(),ga();const oD=Ps.__EXTEND_POINT__,si=zv(oD),Jn={UNEXPECTED_RETURN_TYPE:oD,INVALID_ARGUMENT:si(),MUST_BE_CALL_SETUP_TOP:si(),NOT_INSTALLED:si(),NOT_AVAILABLE_IN_LEGACY_MODE:si(),REQUIRED_VALUE:si(),INVALID_VALUE:si(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:si(),NOT_INSTALLED_WITH_PROVIDE:si(),UNEXPECTED_ERROR:si(),NOT_COMPATIBLE_LEGACY_VUE_I18N:si(),BRIDGE_SUPPORT_VUE_2_ONLY:si(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:si(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:si(),__EXTEND_POINT__:si()};function tr(t,...e){return Up(t,null,void 0)}const yT=Bl("__translateVNode"),gT=Bl("__datetimeParts"),vT=Bl("__numberParts"),aD=Bl("__setPluralRules"),lD=Bl("__injectWithOption"),bT=Bl("__dispose");function qm(t){if(!ve(t))return t;for(const e in t)if(ks(t,e))if(!e.includes("."))ve(t[e])&&qm(t[e]);else{const n=e.split("."),r=n.length-1;let i=t,s=!1;for(let o=0;o<r;o++){if(n[o]in i||(i[n[o]]=je()),!ve(i[n[o]])){s=!0;break}i=i[n[o]]}s||(i[n[r]]=t[e],delete t[e]),ve(i[n[r]])&&qm(i[n[r]])}return t}function Xv(t,e){const{messages:n,__i18n:r,messageResolver:i,flatJson:s}=e,o=Yt(n)?n:en(r)?je():{[t]:je()};if(en(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:c}=a;l?(o[l]=o[l]||je(),Hv(c,o[l])):Hv(c,o)}else xt(a)&&Hv(JSON.parse(a),o)}),i==null&&s)for(const a in o)ks(o,a)&&qm(o[a]);return o}function cD(t){return t.type}function uD(t,e,n){let r=ve(e.messages)?e.messages:je();"__i18nGlobal"in n&&(r=Xv(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,r[s])});{if(ve(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(ve(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function hD(t){return qt(vo,null,t,0)}const pD="__INTLIFY_META__",dD=()=>[],hut=()=>!1;let fD=0;function mD(t){return(e,n,r,i)=>t(n,r,Nn()||void 0,i)}const T1t=()=>{const t=Nn();let e=null;return t&&(e=cD(t)[pD])?{[pD]:e}:null};function _T(t={},e){const{__root:n,__injectWithOption:r}=t,i=n===void 0,s=t.flatJson,o=Vv?tt:wp,a=!!t.translateExistCompatible;let l=oe(t.inheritLocale)?t.inheritLocale:!0;const c=o(n&&l?n.locale.value:xt(t.locale)?t.locale:Vp),p=o(n&&l?n.fallbackLocale.value:xt(t.fallbackLocale)||en(t.fallbackLocale)||Yt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:c.value),d=o(Xv(c.value,t)),f=o(Yt(t.datetimeFormats)?t.datetimeFormats:{[c.value]:{}}),y=o(Yt(t.numberFormats)?t.numberFormats:{[c.value]:{}});let g=n?n.missingWarn:oe(t.missingWarn)||zl(t.missingWarn)?t.missingWarn:!0,_=n?n.fallbackWarn:oe(t.fallbackWarn)||zl(t.fallbackWarn)?t.fallbackWarn:!0,w=n?n.fallbackRoot:oe(t.fallbackRoot)?t.fallbackRoot:!0,T=!!t.fallbackFormat,A=Ze(t.missing)?t.missing:null,x=Ze(t.missing)?mD(t.missing):null,b=Ze(t.postTranslation)?t.postTranslation:null,I=n?n.warnHtmlMessage:oe(t.warnHtmlMessage)?t.warnHtmlMessage:!0,N=!!t.escapeParameter;const R=n?n.modifiers:Yt(t.modifiers)?t.modifiers:{};let P=t.pluralRules||n&&n.pluralRules,D;D=(()=>{i&&W9(null);const z={version:lut,locale:c.value,fallbackLocale:p.value,messages:d.value,modifiers:R,pluralRules:P,missing:x===null?void 0:x,missingWarn:g,fallbackWarn:_,fallbackFormat:T,unresolving:!0,postTranslation:b===null?void 0:b,warnHtmlMessage:I,escapeParameter:N,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};z.datetimeFormats=f.value,z.numberFormats=y.value,z.__datetimeFormatters=Yt(D)?D.__datetimeFormatters:void 0,z.__numberFormatters=Yt(D)?D.__numberFormatters:void 0;const Z=jct(z);return i&&W9(Z),Z})(),Jm(D,c.value,p.value);function B(){return[c.value,p.value,d.value,f.value,y.value]}const $=ee({get:()=>c.value,set:z=>{c.value=z,D.locale=c.value}}),U=ee({get:()=>p.value,set:z=>{p.value=z,D.fallbackLocale=p.value,Jm(D,c.value,z)}}),J=ee(()=>d.value),rt=ee(()=>f.value),u=ee(()=>y.value);function m(){return Ze(b)?b:null}function E(z){b=z,D.postTranslation=z}function k(){return A}function H(z){z!==null&&(x=mD(z)),A=z,D.missing=x}const K=(z,Z,ct,yt,Dt,Zt)=>{B();let Ce;try{aut.NODE_ENV!=="production"||__INTLIFY_PROD_DEVTOOLS__,i||(D.fallbackContext=n?Dct():void 0),Ce=z(D)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(D.fallbackContext=void 0)}if(ct!=="translate exists"&&Rn(Ce)&&Ce===Zv||ct==="translate exists"&&!Ce){const[dn,pr]=Z();return n&&w?yt(n):Dt(dn)}else{if(Zt(Ce))return Ce;throw tr(Jn.UNEXPECTED_RETURN_TYPE)}};function ft(...z){return K(Z=>Reflect.apply(q9,null,[Z,...z]),()=>dT(...z),"translate",Z=>Reflect.apply(Z.t,Z,[...z]),Z=>Z,Z=>xt(Z))}function ot(...z){const[Z,ct,yt]=z;if(yt&&!ve(yt))throw tr(Jn.INVALID_ARGUMENT);return ft(Z,ct,lr({resolvedMessage:!0},yt||{}))}function St(...z){return K(Z=>Reflect.apply(tD,null,[Z,...z]),()=>fT(...z),"datetime format",Z=>Reflect.apply(Z.d,Z,[...z]),()=>j9,Z=>xt(Z))}function Pt(...z){return K(Z=>Reflect.apply(rD,null,[Z,...z]),()=>mT(...z),"number format",Z=>Reflect.apply(Z.n,Z,[...z]),()=>j9,Z=>xt(Z))}function Ut(z){return z.map(Z=>xt(Z)||Rn(Z)||oe(Z)?hD(String(Z)):Z)}const Ot={normalize:Ut,interpolate:z=>z,type:"vnode"};function ue(...z){return K(Z=>{let ct;const yt=Z;try{yt.processor=Ot,ct=Reflect.apply(q9,null,[yt,...z])}finally{yt.processor=null}return ct},()=>dT(...z),"translate",Z=>Z[yT](...z),Z=>[hD(Z)],Z=>en(Z))}function ie(...z){return K(Z=>Reflect.apply(rD,null,[Z,...z]),()=>mT(...z),"number format",Z=>Z[vT](...z),dD,Z=>xt(Z)||en(Z))}function Ne(...z){return K(Z=>Reflect.apply(tD,null,[Z,...z]),()=>fT(...z),"datetime format",Z=>Z[gT](...z),dD,Z=>xt(Z)||en(Z))}function fe(z){P=z,D.pluralRules=P}function se(z,Z){return K(()=>{if(!z)return!1;const ct=xt(Z)?Z:c.value,yt=j(ct),Dt=D.messageResolver(yt,z);return a?Dt!=null:zp(Dt)||Qi(Dt)||xt(Dt)},()=>[z],"translate exists",ct=>Reflect.apply(ct.te,ct,[z,Z]),hut,ct=>oe(ct))}function Fe(z){let Z=null;const ct=P9(D,p.value,c.value);for(let yt=0;yt<ct.length;yt++){const Dt=d.value[ct[yt]]||{},Zt=D.messageResolver(Dt,z);if(Zt!=null){Z=Zt;break}}return Z}function W(z){return Fe(z)??(n?n.tm(z)||{}:{})}function j(z){return d.value[z]||{}}function q(z,Z){if(s){const ct={[z]:Z};for(const yt in ct)ks(ct,yt)&&qm(ct[yt]);Z=ct[z]}d.value[z]=Z,D.messages=d.value}function st(z,Z){d.value[z]=d.value[z]||{};const ct={[z]:Z};if(s)for(const yt in ct)ks(ct,yt)&&qm(ct[yt]);Z=ct[z],Hv(Z,d.value[z]),D.messages=d.value}function nt(z){return f.value[z]||{}}function O(z,Z){f.value[z]=Z,D.datetimeFormats=f.value,nD(D,z,Z)}function G(z,Z){f.value[z]=lr(f.value[z]||{},Z),D.datetimeFormats=f.value,nD(D,z,Z)}function M(z){return y.value[z]||{}}function L(z,Z){y.value[z]=Z,D.numberFormats=y.value,sD(D,z,Z)}function V(z,Z){y.value[z]=lr(y.value[z]||{},Z),D.numberFormats=y.value,sD(D,z,Z)}fD++,n&&Vv&&(Yn(n.locale,z=>{l&&(c.value=z,D.locale=z,Jm(D,c.value,p.value))}),Yn(n.fallbackLocale,z=>{l&&(p.value=z,D.fallbackLocale=z,Jm(D,c.value,p.value))}));const X={id:fD,locale:$,fallbackLocale:U,get inheritLocale(){return l},set inheritLocale(z){l=z,z&&n&&(c.value=n.locale.value,p.value=n.fallbackLocale.value,Jm(D,c.value,p.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:J,get modifiers(){return R},get pluralRules(){return P||{}},get isGlobal(){return i},get missingWarn(){return g},set missingWarn(z){g=z,D.missingWarn=g},get fallbackWarn(){return _},set fallbackWarn(z){_=z,D.fallbackWarn=_},get fallbackRoot(){return w},set fallbackRoot(z){w=z},get fallbackFormat(){return T},set fallbackFormat(z){T=z,D.fallbackFormat=T},get warnHtmlMessage(){return I},set warnHtmlMessage(z){I=z,D.warnHtmlMessage=z},get escapeParameter(){return N},set escapeParameter(z){N=z,D.escapeParameter=z},t:ft,getLocaleMessage:j,setLocaleMessage:q,mergeLocaleMessage:st,getPostTranslationHandler:m,setPostTranslationHandler:E,getMissingHandler:k,setMissingHandler:H,[aD]:fe};return X.datetimeFormats=rt,X.numberFormats=u,X.rt=ot,X.te=se,X.tm=W,X.d=St,X.n=Pt,X.getDateTimeFormat=nt,X.setDateTimeFormat=O,X.mergeDateTimeFormat=G,X.getNumberFormat=M,X.setNumberFormat=L,X.mergeNumberFormat=V,X[lD]=r,X[yT]=ue,X[gT]=Ne,X[vT]=ie,X}function put(t){const e=xt(t.locale)?t.locale:Vp,n=xt(t.fallbackLocale)||en(t.fallbackLocale)||Yt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Ze(t.missing)?t.missing:void 0,i=oe(t.silentTranslationWarn)||zl(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=oe(t.silentFallbackWarn)||zl(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=oe(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Yt(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,p=Ze(t.postTranslation)?t.postTranslation:void 0,d=xt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,y=oe(t.sync)?t.sync:!0;let g=t.messages;if(Yt(t.sharedMessages)){const N=t.sharedMessages;g=Object.keys(N).reduce((R,P)=>{const D=R[P]||(R[P]={});return lr(D,N[P]),R},g||{})}const{__i18n:_,__root:w,__injectWithOption:T}=t,A=t.datetimeFormats,x=t.numberFormats,b=t.flatJson,I=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:g,flatJson:b,datetimeFormats:A,numberFormats:x,missing:r,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:p,warnHtmlMessage:d,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:y,translateExistCompatible:I,__i18n:_,__root:w,__injectWithOption:T}}function wT(t={},e){{const n=_T(put(t)),{__extender:r}=t,i={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return oe(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=oe(s)?!s:s},get silentFallbackWarn(){return oe(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=oe(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[o,a,l]=s,c={};let p=null,d=null;if(!xt(o))throw tr(Jn.INVALID_ARGUMENT);const f=o;return xt(a)?c.locale=a:en(a)?p=a:Yt(a)&&(d=a),en(l)?p=l:Yt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[o,a,l]=s,c={plural:1};let p=null,d=null;if(!xt(o))throw tr(Jn.INVALID_ARGUMENT);const f=o;return xt(a)?c.locale=a:Rn(a)?c.plural=a:en(a)?p=a:Yt(a)&&(d=a),xt(l)?c.locale=l:en(l)?p=l:Yt(l)&&(d=l),Reflect.apply(n.t,n,[f,p||d||{},c])},te(s,o){return n.te(s,o)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,o){n.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){n.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,o){n.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){n.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,o){n.setNumberFormat(s,o)},mergeNumberFormat(s,o){n.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=r,i}}const xT={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function dut({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,r)=>[...n,...r.type===Le?r.children:[r]],[]):e.reduce((n,r)=>{const i=t[r];return i&&(n[r]=i()),n},je())}function yD(t){return Le}const fut=re({name:"i18n-t",props:lr({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Rn(t)||!isNaN(t)}},xT),setup(t,e){const{slots:n,attrs:r}=e,i=t.i18n||nn({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d!=="_"),o=je();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=xt(t.plural)?+t.plural:t.plural);const a=dut(e,s),l=i[yT](t.keypath,a,o),c=lr(je(),r),p=xt(t.tag)||ve(t.tag)?t.tag:yD();return _i(p,c,l)}}}),gD=fut;function mut(t){return en(t)&&!xt(t[0])}function vD(t,e,n,r){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a=je();t.locale&&(o.locale=t.locale),xt(t.format)?o.key=t.format:ve(t.format)&&(xt(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,y)=>n.includes(y)?lr(je(),f,{[y]:t.format[y]}):f,je()));const l=r(t.value,o,a);let c=[o.key];en(l)?c=l.map((f,y)=>{const g=i[f.type],_=g?g({[f.type]:f.value,index:y,parts:l}):[f.value];return mut(_)&&(_[0].key=`${f.type}-${y}`),_}):xt(l)&&(c=[l]);const p=lr(je(),s),d=xt(t.tag)||ve(t.tag)?t.tag:yD();return _i(d,p,c)}}const yut=re({name:"i18n-n",props:lr({value:{type:Number,required:!0},format:{type:[String,Object]}},xT),setup(t,e){const n=t.i18n||nn({useScope:t.scope,__useComponent:!0});return vD(t,e,iD,(...r)=>n[vT](...r))}}),bD=yut,gut=re({name:"i18n-d",props:lr({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},xT),setup(t,e){const n=t.i18n||nn({useScope:t.scope,__useComponent:!0});return vD(t,e,eD,(...r)=>n[gT](...r))}}),_D=gut;function vut(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function but(t){const e=n=>{const{instance:r,modifiers:i,value:s}=n;if(!r||!r.$)throw tr(Jn.UNEXPECTED_ERROR);const o=vut(t,r.$),a=wD(s);return[Reflect.apply(o.t,o,[...xD(a)]),o]};return{created:(n,r)=>{const[i,s]=e(r);Vv&&t.global===s&&(n.__i18nWatcher=Yn(s.locale,()=>{r.instance&&r.instance.$forceUpdate()})),n.__composer=s,n.textContent=i},unmounted:n=>{Vv&&n.__i18nWatcher&&(n.__i18nWatcher(),n.__i18nWatcher=void 0,delete n.__i18nWatcher),n.__composer&&(n.__composer=void 0,delete n.__composer)},beforeUpdate:(n,{value:r})=>{if(n.__composer){const i=n.__composer,s=wD(r);n.textContent=Reflect.apply(i.t,i,[...xD(s)])}},getSSRProps:n=>{const[r]=e(n);return{textContent:r}}}}function wD(t){if(xt(t))return{path:t};if(Yt(t)){if(!("path"in t))throw tr(Jn.REQUIRED_VALUE,"path");return t}else throw tr(Jn.INVALID_VALUE)}function xD(t){const{path:e,locale:n,args:r,choice:i,plural:s}=t,o={},a=r||{};return xt(n)&&(o.locale=n),Rn(i)&&(o.plural=i),Rn(s)&&(o.plural=s),[e,a,o]}function _ut(t,e,...n){const r=Yt(n[0])?n[0]:{},i=!!r.useI18nComponentName;(!oe(r.globalInstall)||r.globalInstall)&&([i?"i18n":gD.name,"I18nT"].forEach(s=>t.component(s,gD)),[bD.name,"I18nN"].forEach(s=>t.component(s,bD)),[_D.name,"I18nD"].forEach(s=>t.component(s,_D))),t.directive("t",but(e))}function wut(t,e,n){return{beforeCreate(){const r=Nn();if(!r)throw tr(Jn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=ED(t,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=wT(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=ED(t,i);else{this.$i18n=wT({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&uD(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Nn();if(!r)throw tr(Jn.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),n.__deleteInstance(r),delete this.$i18n}}}function ED(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[aD](e.pluralizationRules||t.pluralizationRules);const n=Xv(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const xut=Bl("global-vue-i18n");function Eut(t={},e){const n=__VUE_I18N_LEGACY_API__&&oe(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=oe(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,s=new Map,[o,a]=Sut(t,n),l=Bl("");function c(f){return s.get(f)||null}function p(f,y){s.set(f,y)}function d(f){s.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return i},async install(y,...g){if(y.__VUE_I18N_SYMBOL__=l,y.provide(y.__VUE_I18N_SYMBOL__,f),Yt(g[0])){const T=g[0];f.__composerExtend=T.__composerExtend,f.__vueI18nExtend=T.__vueI18nExtend}let _=null;!n&&r&&(_=kut(y,f.global)),__VUE_I18N_FULL_INSTALL__&&_ut(y,f,...g),__VUE_I18N_LEGACY_API__&&n&&y.mixin(wut(a,a.__composer,f));const w=y.unmount;y.unmount=()=>{_&&_(),f.dispose(),w()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:c,__setInstance:p,__deleteInstance:d};return f}}function nn(t={}){const e=Nn();if(e==null)throw tr(Jn.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw tr(Jn.NOT_INSTALLED);const n=Tut(e),r=Iut(n),i=cD(e),s=Aut(t,i);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw tr(Jn.NOT_AVAILABLE_IN_LEGACY_MODE);return Cut(e,s,r,t)}if(s==="global")return uD(r,t,i),r;if(s==="parent"){let l=Mut(n,e,t.__useComponent);return l==null&&(l=r),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=lr({},t);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),a=_T(l),o.__composerExtend&&(a[bT]=o.__composerExtend(a)),Nut(o,e,a),o.__setInstance(e,a)}return a}function Sut(t,e,n){const r=am();{const i=__VUE_I18N_LEGACY_API__&&e?r.run(()=>wT(t)):r.run(()=>_T(t));if(i==null)throw tr(Jn.UNEXPECTED_ERROR);return[r,i]}}function Tut(t){{const e=Fn(t.isCE?xut:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw tr(t.isCE?Jn.NOT_INSTALLED_WITH_PROVIDE:Jn.UNEXPECTED_ERROR);return e}}function Aut(t,e){return Bv(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function Iut(t){return t.mode==="composition"?t.global:t.global.__composer}function Mut(t,e,n=!1){let r=null;const i=e.root;let s=Out(e,n);for(;s!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(r=a.__composer,n&&r&&!r[lD]&&(r=null))}if(r!=null||i===s)break;s=s.parent}return r}function Out(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function Nut(t,e,n){Kn(()=>{},e),uu(()=>{const r=n;t.__deleteInstance(e);const i=r[bT];i&&(i(),delete r[bT])},e)}function Cut(t,e,n,r={}){const i=e==="local",s=wp(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw tr(Jn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=oe(r.inheritLocale)?r.inheritLocale:!xt(r.locale),a=tt(!i||o?n.locale.value:xt(r.locale)?r.locale:Vp),l=tt(!i||o?n.fallbackLocale.value:xt(r.fallbackLocale)||en(r.fallbackLocale)||Yt(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=tt(Xv(a.value,r)),p=tt(Yt(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=tt(Yt(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=i?n.missingWarn:oe(r.missingWarn)||zl(r.missingWarn)?r.missingWarn:!0,y=i?n.fallbackWarn:oe(r.fallbackWarn)||zl(r.fallbackWarn)?r.fallbackWarn:!0,g=i?n.fallbackRoot:oe(r.fallbackRoot)?r.fallbackRoot:!0,_=!!r.fallbackFormat,w=Ze(r.missing)?r.missing:null,T=Ze(r.postTranslation)?r.postTranslation:null,A=i?n.warnHtmlMessage:oe(r.warnHtmlMessage)?r.warnHtmlMessage:!0,x=!!r.escapeParameter,b=i?n.modifiers:Yt(r.modifiers)?r.modifiers:{},I=r.pluralRules||i&&n.pluralRules;function N(){return[a.value,l.value,c.value,p.value,d.value]}const R=ee({get:()=>s.value?s.value.locale.value:a.value,set:j=>{s.value&&(s.value.locale.value=j),a.value=j}}),P=ee({get:()=>s.value?s.value.fallbackLocale.value:l.value,set:j=>{s.value&&(s.value.fallbackLocale.value=j),l.value=j}}),D=ee(()=>s.value?s.value.messages.value:c.value),B=ee(()=>p.value),$=ee(()=>d.value);function U(){return s.value?s.value.getPostTranslationHandler():T}function J(j){s.value&&s.value.setPostTranslationHandler(j)}function rt(){return s.value?s.value.getMissingHandler():w}function u(j){s.value&&s.value.setMissingHandler(j)}function m(j){return N(),j()}function E(...j){return s.value?m(()=>Reflect.apply(s.value.t,null,[...j])):m(()=>"")}function k(...j){return s.value?Reflect.apply(s.value.rt,null,[...j]):""}function H(...j){return s.value?m(()=>Reflect.apply(s.value.d,null,[...j])):m(()=>"")}function K(...j){return s.value?m(()=>Reflect.apply(s.value.n,null,[...j])):m(()=>"")}function ft(j){return s.value?s.value.tm(j):{}}function ot(j,q){return s.value?s.value.te(j,q):!1}function St(j){return s.value?s.value.getLocaleMessage(j):{}}function Pt(j,q){s.value&&(s.value.setLocaleMessage(j,q),c.value[j]=q)}function Ut(j,q){s.value&&s.value.mergeLocaleMessage(j,q)}function Ot(j){return s.value?s.value.getDateTimeFormat(j):{}}function ue(j,q){s.value&&(s.value.setDateTimeFormat(j,q),p.value[j]=q)}function ie(j,q){s.value&&s.value.mergeDateTimeFormat(j,q)}function Ne(j){return s.value?s.value.getNumberFormat(j):{}}function fe(j,q){s.value&&(s.value.setNumberFormat(j,q),d.value[j]=q)}function se(j,q){s.value&&s.value.mergeNumberFormat(j,q)}const Fe={get id(){return s.value?s.value.id:-1},locale:R,fallbackLocale:P,messages:D,datetimeFormats:B,numberFormats:$,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(j){s.value&&(s.value.inheritLocale=j)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(c.value)},get modifiers(){return s.value?s.value.modifiers:b},get pluralRules(){return s.value?s.value.pluralRules:I},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:f},set missingWarn(j){s.value&&(s.value.missingWarn=j)},get fallbackWarn(){return s.value?s.value.fallbackWarn:y},set fallbackWarn(j){s.value&&(s.value.missingWarn=j)},get fallbackRoot(){return s.value?s.value.fallbackRoot:g},set fallbackRoot(j){s.value&&(s.value.fallbackRoot=j)},get fallbackFormat(){return s.value?s.value.fallbackFormat:_},set fallbackFormat(j){s.value&&(s.value.fallbackFormat=j)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:A},set warnHtmlMessage(j){s.value&&(s.value.warnHtmlMessage=j)},get escapeParameter(){return s.value?s.value.escapeParameter:x},set escapeParameter(j){s.value&&(s.value.escapeParameter=j)},t:E,getPostTranslationHandler:U,setPostTranslationHandler:J,getMissingHandler:rt,setMissingHandler:u,rt:k,d:H,n:K,tm:ft,te:ot,getLocaleMessage:St,setLocaleMessage:Pt,mergeLocaleMessage:Ut,getDateTimeFormat:Ot,setDateTimeFormat:ue,mergeDateTimeFormat:ie,getNumberFormat:Ne,setNumberFormat:fe,mergeNumberFormat:se};function W(j){j.locale.value=a.value,j.fallbackLocale.value=l.value,Object.keys(c.value).forEach(q=>{j.mergeLocaleMessage(q,c.value[q])}),Object.keys(p.value).forEach(q=>{j.mergeDateTimeFormat(q,p.value[q])}),Object.keys(d.value).forEach(q=>{j.mergeNumberFormat(q,d.value[q])}),j.escapeParameter=x,j.fallbackFormat=_,j.fallbackRoot=g,j.fallbackWarn=y,j.missingWarn=f,j.warnHtmlMessage=A}return Ip(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw tr(Jn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const j=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=j.locale.value,l.value=j.fallbackLocale.value,c.value=j.messages.value,p.value=j.datetimeFormats.value,d.value=j.numberFormats.value):i&&W(j)}),Fe}const Rut=["locale","fallbackLocale","availableLocales"],SD=["t","rt","d","n","tm","te"];function kut(t,e){const n=Object.create(null);return Rut.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i)throw tr(Jn.UNEXPECTED_ERROR);const s=pe(i.value)?{get(){return i.value.value},set(o){i.value.value=o}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,r,s)}),t.config.globalProperties.$i18n=n,SD.forEach(r=>{const i=Object.getOwnPropertyDescriptor(e,r);if(!i||!i.value)throw tr(Jn.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${r}`,i)}),()=>{delete t.config.globalProperties.$i18n,SD.forEach(r=>{delete t.config.globalProperties[`$${r}`]})}}if(cut(),__INTLIFY_JIT_COMPILATION__?G9(nut):G9(eut),kct(fct),Lct(P9),__INTLIFY_PROD_DEVTOOLS__){const t=ma();t.__INTLIFY__=!0,Ect(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const Lut={en:{"lang-code":"en","lang-dir":"ltr","lang-en":"English","lang-fr":"anglais","lang-native":"English","ramp.about.open":"Open About RAMP","ramp.about":"About RAMP","keyboardInstructions.title":"Keyboard Instructions","keyboardInstructions.open":"Open keyboard instructions","keyboardInstructions.app":"Use 'Tab' to navigate between sections of the application.","keyboardInstructions.lists":"Use the arrow keys to move between items in lists. With a list item selected you can press 'Space' or 'Enter' to click the item. You can also navigate within the list item using 'Tab'.","keyboardInstructions.map":"When the map is selected, use the arrow keys to move around and 'Enter' to select a point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Switch to metric map scale","map.toggleScaleToImperial":"Switch to imperial map scale","map.coordinates.east":"E","map.coordinates.west":"W","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Change Language","map.language.short":"EN-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"current","map.export":"export map","notifications.open":"Open Notifications Panel","notifications.title":"Notifications","notifications.empty":"No new notifications.","notifications.controls.dismiss":"Dismiss","notifications.controls.expand":"Expand","notifications.controls.collapse":"Collapse","notifications.controls.clearAll":"Clear All","panels.access":"Press enter or space to access the panel","panels.controls.close":"Close","panels.controls.pin":"Pin","panels.controls.unpin":"Unpin","panels.controls.back":"Back","panels.controls.optionsMenu":"More","panels.controls.minimize":"Minimize","panels.controls.expand":"Expand","panels.controls.collapse":"Collapse","panels.controls.moveRight":"Move Right","panels.controls.moveLeft":"Move Left","panels.controls.items":"Use the arrow keys to navigate the items","panels.alert.open":"{name} panel opened","panels.alert.close":"{name} panel closed","panels.alert.minimize":"{name} panel minimized","layer.error":"{id} failed to load","layer.longload":"{id} is taking longer than expected to load","layer.longdraw":"{id} is taking longer than expected to draw","layer.mismatch":"{name} cannot be displayed in the current projection","layer.filtersdisabled":"Filters have been disabled for {name}","layer.filterwarning":"You are attempting to use a grid that contains unmodifiable layers. Filtering will be partially disabled.","layer.noexportmap":"{name} was attempted to be added as a Map Image Layer but Map Export is not enabled for the service","caption.attributionDefaultText":"Powered by ESRI","caption.attributionLogoAltText":"ESRI logo","caption.attributionLink":"https://www.esri.com/","select.items":" Use Arrow-up/down to select a value. Use Alt+Shift+Arrow-up/down to toggle the select menu"},fr:{"lang-code":"fr","lang-dir":"ltr","lang-en":"French","lang-fr":"fran\xE7ais","lang-native":"Fran\xE7ais","ramp.about.open":"Ouvrir \xC0 propos de PCAR","ramp.about":"\xC0 propos de PCAR","keyboardInstructions.title":"Instructions clavier","keyboardInstructions.open":"Instructions clavier ouvert","keyboardInstructions.app":"Utilisez la touche Tab pour vous d\xE9placer entre les sections de l'application.","keyboardInstructions.lists":"Lorsqu'un \xE9l\xE9ment de la liste est s\xE9lectionn\xE9, vous pouvez appuyer sur \xAB Espace \xBB ou \xAB Entr\xE9e \xBB pour cliquer sur l'\xE9l\xE9ment. Vous pouvez \xE9galement vous d\xE9placer au sein de l'\xE9l\xE9ment de la liste au moyen de la touche \xAB Tab \xBB.","keyboardInstructions.map":"Lorsque la carte est s\xE9lectionn\xE9e, utilisez le pav\xE9 curseur pour vous d\xE9placer et appuyez sur \xAB Entr\xE9e \xBB  pour s\xE9lectionner un point.","keyboardInstructions.OK":"OK","map.toggleScaleToMetric":"Passer \xE0 l'\xE9chelle m\xE9trique","map.toggleScaleToImperial":"Passer \xE0 l'\xE9chelle imp\xE9riale","map.coordinates.east":"E","map.coordinates.west":"O","map.coordinates.north":"N","map.coordinates.south":"S","map.changeLanguage":"Changer de langue","map.language.short":"FR-CA","map.language.en":"English","map.language.fr":"Fran\xE7ais","map.language.curr":"actuel","map.export":"exporter la carte","notifications.open":"Ouvrir la fen\xEAtre des notifications","notifications.title":"Notifications","notifications.empty":"Aucune nouvelle notification.","notifications.controls.dismiss":"Rejeter","notifications.controls.expand":"D\xE9velopper","notifications.controls.collapse":"R\xE9duire","notifications.controls.clearAll":"Effacer tout","panels.access":"Appuyez sur Entr\xE9e ou sur la barre d'espacement pour acc\xE9der au panneau","panels.controls.close":"Fermer","panels.controls.pin":"\xC9pingler","panels.controls.unpin":"D\xE9s\xE9pingler","panels.controls.back":"Retour","panels.controls.optionsMenu":"Plus","panels.controls.minimize":"R\xE9duire","panels.controls.expand":"D\xE9velopper","panels.controls.collapse":"R\xE9duire","panels.controls.moveRight":"Aller \xE0 droite","panels.controls.moveLeft":"Aller \xE0 gauche","panels.controls.items":"Utilisez les touches fl\xE9ch\xE9es pour naviguer entre les \xE9l\xE9ments","panels.alert.open":"Fen\xEAtre {name} ouverte","panels.alert.close":"Fen\xEAtre {name} ferm\xE9e","panels.alert.minimize":"Fen\xEAtre {name} r\xE9duite","layer.error":"\xC9chec du chargement de {id}","layer.longload":"Le chargement de {id} met plus de temps que pr\xE9vu","layer.longdraw":"{id} prend plus de temps que pr\xE9vu \xE0 extraire","layer.mismatch":"{id} ne peut pas s'afficher dans la projection actuelle","layer.filtersdisabled":"Les filtres ont \xE9t\xE9 d\xE9sactiv\xE9s pour {name}","layer.filterwarning":"Vous essayez d'utiliser une grille qui contient des couches non modifiables. Le filtrage sera partiellement d\xE9sactiv\xE9.","layer.noexportmap":"La tentative d\u2019ajouter {name} comme couche d\u2019imagerie cartographique a \xE9chou\xE9e car elle n\u2019a pu \xEAtre activ\xE9 pour ce service","caption.attributionDefaultText":"Propuls\xE9 par ESRI","caption.attributionLogoAltText":"Logo ESRI","caption.attributionLink":"https://www.esri.com/fr-fr/home","select.items":"Utilisez Fl\xE8che haut/bas pour s\xE9lectionner une valeur. Utilisez Alt+Shift+Fl\xE8che haut/bas pour basculer le menu de s\xE9lection"}},TD="en",Put={en:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}},fr:{number:{style:"decimal",useGrouping:!1,maximumFractionDigits:20}}};function Dut(){return Eut({legacy:!1,locale:document.documentElement.getAttribute("lang")||TD,fallbackLocale:TD,globalInjection:!0,messages:Lut,numberFormats:Put})}var AD={exports:{}},ID;function jut(){return ID||(ID=1,function(t){(function(){var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},n=t.exports,r=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,c=a.length,p={};l<c;l++)if(o=a[l],o&&o[1]in e){for(l=0;l<o.length;l++)p[a[0][l]]=o[l];return p}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},s={request:function(o){return new Promise(function(a,l){var c=function(){this.off("change",c),a()}.bind(this);this.on("change",c),o=o||e.documentElement;var p=o[r.requestFullscreen]();p instanceof Promise&&p.then(c).catch(l)}.bind(this))},exit:function(){return new Promise(function(o,a){if(!this.isFullscreen){o();return}var l=function(){this.off("change",l),o()}.bind(this);this.on("change",l);var c=e[r.exitFullscreen]();c instanceof Promise&&c.then(l).catch(a)}.bind(this))},toggle:function(o){return this.isFullscreen?this.exit():this.request(o)},onchange:function(o){this.on("change",o)},onerror:function(o){this.on("error",o)},on:function(o,a){var l=i[o];l&&e.addEventListener(l,a,!1)},off:function(o,a){var l=i[o];l&&e.removeEventListener(l,a,!1)},raw:r};if(!r){n?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(s,{isFullscreen:{get:function(){return!!e[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!e[r.fullscreenEnabled]}}}),n?t.exports=s:window.screenfull=s})()}(AD)),AD.exports}var Fut=jut();const _o=np(Fut);var qv={exports:{}};qv.exports;var MD;function Uut(){return MD||(MD=1,function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",p="[object Function]",d="[object GeneratorFunction]",f="[object Map]",y="[object Number]",g="[object Object]",_="[object Promise]",w="[object RegExp]",T="[object Set]",A="[object String]",x="[object Symbol]",b="[object WeakMap]",I="[object ArrayBuffer]",N="[object DataView]",R="[object Float32Array]",P="[object Float64Array]",D="[object Int8Array]",B="[object Int16Array]",$="[object Int32Array]",U="[object Uint8Array]",J="[object Uint8ClampedArray]",rt="[object Uint16Array]",u="[object Uint32Array]",m=/[\\^$.*+?()[\]{}|]/g,E=/\w*$/,k=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,K={};K[s]=K[o]=K[I]=K[N]=K[a]=K[l]=K[R]=K[P]=K[D]=K[B]=K[$]=K[f]=K[y]=K[g]=K[w]=K[T]=K[A]=K[x]=K[U]=K[J]=K[rt]=K[u]=!0,K[c]=K[p]=K[b]=!1;var ft=typeof Gf=="object"&&Gf&&Gf.Object===Object&&Gf,ot=typeof self=="object"&&self&&self.Object===Object&&self,St=ft||ot||Function("return this")(),Pt=e&&!e.nodeType&&e,Ut=Pt&&!0&&t&&!t.nodeType&&t,Ot=Ut&&Ut.exports===Pt;function ue(F,Q){return F.set(Q[0],Q[1]),F}function ie(F,Q){return F.add(Q),F}function Ne(F,Q){for(var at=-1,Nt=F?F.length:0;++at<Nt&&Q(F[at],at,F)!==!1;);return F}function fe(F,Q){for(var at=-1,Nt=Q.length,rr=F.length;++at<Nt;)F[rr+at]=Q[at];return F}function se(F,Q,at,Nt){for(var rr=-1,Ur=F?F.length:0;++rr<Ur;)at=Q(at,F[rr],rr,F);return at}function Fe(F,Q){for(var at=-1,Nt=Array(F);++at<F;)Nt[at]=Q(at);return Nt}function W(F,Q){return F?.[Q]}function j(F){var Q=!1;if(F!=null&&typeof F.toString!="function")try{Q=!!(F+"")}catch{}return Q}function q(F){var Q=-1,at=Array(F.size);return F.forEach(function(Nt,rr){at[++Q]=[rr,Nt]}),at}function st(F,Q){return function(at){return F(Q(at))}}function nt(F){var Q=-1,at=Array(F.size);return F.forEach(function(Nt){at[++Q]=Nt}),at}var O=Array.prototype,G=Function.prototype,M=Object.prototype,L=St["__core-js_shared__"],V=function(){var F=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),X=G.toString,z=M.hasOwnProperty,Z=M.toString,ct=RegExp("^"+X.call(z).replace(m,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=Ot?St.Buffer:void 0,Dt=St.Symbol,Zt=St.Uint8Array,Ce=st(Object.getPrototypeOf,Object),dn=Object.create,pr=M.propertyIsEnumerable,nr=O.splice,et=Object.getOwnPropertySymbols,Tt=yt?yt.isBuffer:void 0,At=st(Object.keys,Object),Jt=Yu(St,"DataView"),Qt=Yu(St,"Map"),Gn=Yu(St,"Promise"),dr=Yu(St,"Set"),$s=Yu(St,"WeakMap"),Vs=Yu(Object,"create"),Lo=oc(Jt),zu=oc(Qt),Ia=oc(Gn),Kb=oc(dr),yd=oc($s),rc=Dt?Dt.prototype:void 0,eA=rc?rc.valueOf:void 0;function ic(F){var Q=-1,at=F?F.length:0;for(this.clear();++Q<at;){var Nt=F[Q];this.set(Nt[0],Nt[1])}}function UF(){this.__data__=Vs?Vs(null):{}}function GF(F){return this.has(F)&&delete this.__data__[F]}function $F(F){var Q=this.__data__;if(Vs){var at=Q[F];return at===r?void 0:at}return z.call(Q,F)?Q[F]:void 0}function VF(F){var Q=this.__data__;return Vs?Q[F]!==void 0:z.call(Q,F)}function BF(F,Q){var at=this.__data__;return at[F]=Vs&&Q===void 0?r:Q,this}ic.prototype.clear=UF,ic.prototype.delete=GF,ic.prototype.get=$F,ic.prototype.has=VF,ic.prototype.set=BF;function Po(F){var Q=-1,at=F?F.length:0;for(this.clear();++Q<at;){var Nt=F[Q];this.set(Nt[0],Nt[1])}}function zF(){this.__data__=[]}function WF(F){var Q=this.__data__,at=A0(Q,F);if(at<0)return!1;var Nt=Q.length-1;return at==Nt?Q.pop():nr.call(Q,at,1),!0}function HF(F){var Q=this.__data__,at=A0(Q,F);return at<0?void 0:Q[at][1]}function YF(F){return A0(this.__data__,F)>-1}function ZF(F,Q){var at=this.__data__,Nt=A0(at,F);return Nt<0?at.push([F,Q]):at[Nt][1]=Q,this}Po.prototype.clear=zF,Po.prototype.delete=WF,Po.prototype.get=HF,Po.prototype.has=YF,Po.prototype.set=ZF;function Wu(F){var Q=-1,at=F?F.length:0;for(this.clear();++Q<at;){var Nt=F[Q];this.set(Nt[0],Nt[1])}}function JF(){this.__data__={hash:new ic,map:new(Qt||Po),string:new ic}}function XF(F){return I0(this,F).delete(F)}function qF(F){return I0(this,F).get(F)}function KF(F){return I0(this,F).has(F)}function QF(F,Q){return I0(this,F).set(F,Q),this}Wu.prototype.clear=JF,Wu.prototype.delete=XF,Wu.prototype.get=qF,Wu.prototype.has=KF,Wu.prototype.set=QF;function Hu(F){this.__data__=new Po(F)}function tU(){this.__data__=new Po}function eU(F){return this.__data__.delete(F)}function nU(F){return this.__data__.get(F)}function rU(F){return this.__data__.has(F)}function iU(F,Q){var at=this.__data__;if(at instanceof Po){var Nt=at.__data__;if(!Qt||Nt.length<n-1)return Nt.push([F,Q]),this;at=this.__data__=new Wu(Nt)}return at.set(F,Q),this}Hu.prototype.clear=tU,Hu.prototype.delete=eU,Hu.prototype.get=nU,Hu.prototype.has=rU,Hu.prototype.set=iU;function sU(F,Q){var at=e2(F)||OU(F)?Fe(F.length,String):[],Nt=at.length,rr=!!Nt;for(var Ur in F)z.call(F,Ur)&&!(rr&&(Ur=="length"||TU(Ur,Nt)))&&at.push(Ur);return at}function nA(F,Q,at){var Nt=F[Q];(!(z.call(F,Q)&&oA(Nt,at))||at===void 0&&!(Q in F))&&(F[Q]=at)}function A0(F,Q){for(var at=F.length;at--;)if(oA(F[at][0],Q))return at;return-1}function oU(F,Q){return F&&rA(Q,n2(Q),F)}function Qb(F,Q,at,Nt,rr,Ur,Do){var Gr;if(Nt&&(Gr=Ur?Nt(F,rr,Ur,Do):Nt(F)),Gr!==void 0)return Gr;if(!M0(F))return F;var cA=e2(F);if(cA){if(Gr=xU(F),!Q)return bU(F,Gr)}else{var Zu=sc(F),uA=Zu==p||Zu==d;if(CU(F))return pU(F,Q);if(Zu==g||Zu==s||uA&&!Ur){if(j(F))return Ur?F:{};if(Gr=EU(uA?{}:F),!Q)return _U(F,oU(Gr,F))}else{if(!K[Zu])return Ur?F:{};Gr=SU(F,Zu,Qb,Q)}}Do||(Do=new Hu);var hA=Do.get(F);if(hA)return hA;if(Do.set(F,Gr),!cA)var pA=at?wU(F):n2(F);return Ne(pA||F,function(r2,O0){pA&&(O0=r2,r2=F[O0]),nA(Gr,O0,Qb(r2,Q,at,Nt,O0,F,Do))}),Gr}function aU(F){return M0(F)?dn(F):{}}function lU(F,Q,at){var Nt=Q(F);return e2(F)?Nt:fe(Nt,at(F))}function cU(F){return Z.call(F)}function uU(F){if(!M0(F)||IU(F))return!1;var Q=lA(F)||j(F)?ct:k;return Q.test(oc(F))}function hU(F){if(!sA(F))return At(F);var Q=[];for(var at in Object(F))z.call(F,at)&&at!="constructor"&&Q.push(at);return Q}function pU(F,Q){if(Q)return F.slice();var at=new F.constructor(F.length);return F.copy(at),at}function t2(F){var Q=new F.constructor(F.byteLength);return new Zt(Q).set(new Zt(F)),Q}function dU(F,Q){var at=Q?t2(F.buffer):F.buffer;return new F.constructor(at,F.byteOffset,F.byteLength)}function fU(F,Q,at){var Nt=Q?at(q(F),!0):q(F);return se(Nt,ue,new F.constructor)}function mU(F){var Q=new F.constructor(F.source,E.exec(F));return Q.lastIndex=F.lastIndex,Q}function yU(F,Q,at){var Nt=Q?at(nt(F),!0):nt(F);return se(Nt,ie,new F.constructor)}function gU(F){return eA?Object(eA.call(F)):{}}function vU(F,Q){var at=Q?t2(F.buffer):F.buffer;return new F.constructor(at,F.byteOffset,F.length)}function bU(F,Q){var at=-1,Nt=F.length;for(Q||(Q=Array(Nt));++at<Nt;)Q[at]=F[at];return Q}function rA(F,Q,at,Nt){at||(at={});for(var rr=-1,Ur=Q.length;++rr<Ur;){var Do=Q[rr],Gr=void 0;nA(at,Do,Gr===void 0?F[Do]:Gr)}return at}function _U(F,Q){return rA(F,iA(F),Q)}function wU(F){return lU(F,n2,iA)}function I0(F,Q){var at=F.__data__;return AU(Q)?at[typeof Q=="string"?"string":"hash"]:at.map}function Yu(F,Q){var at=W(F,Q);return uU(at)?at:void 0}var iA=et?st(et,Object):LU,sc=cU;(Jt&&sc(new Jt(new ArrayBuffer(1)))!=N||Qt&&sc(new Qt)!=f||Gn&&sc(Gn.resolve())!=_||dr&&sc(new dr)!=T||$s&&sc(new $s)!=b)&&(sc=function(F){var Q=Z.call(F),at=Q==g?F.constructor:void 0,Nt=at?oc(at):void 0;if(Nt)switch(Nt){case Lo:return N;case zu:return f;case Ia:return _;case Kb:return T;case yd:return b}return Q});function xU(F){var Q=F.length,at=F.constructor(Q);return Q&&typeof F[0]=="string"&&z.call(F,"index")&&(at.index=F.index,at.input=F.input),at}function EU(F){return typeof F.constructor=="function"&&!sA(F)?aU(Ce(F)):{}}function SU(F,Q,at,Nt){var rr=F.constructor;switch(Q){case I:return t2(F);case a:case l:return new rr(+F);case N:return dU(F,Nt);case R:case P:case D:case B:case $:case U:case J:case rt:case u:return vU(F,Nt);case f:return fU(F,Nt,at);case y:case A:return new rr(F);case w:return mU(F);case T:return yU(F,Nt,at);case x:return gU(F)}}function TU(F,Q){return Q=Q??i,!!Q&&(typeof F=="number"||H.test(F))&&F>-1&&F%1==0&&F<Q}function AU(F){var Q=typeof F;return Q=="string"||Q=="number"||Q=="symbol"||Q=="boolean"?F!=="__proto__":F===null}function IU(F){return!!V&&V in F}function sA(F){var Q=F&&F.constructor,at=typeof Q=="function"&&Q.prototype||M;return F===at}function oc(F){if(F!=null){try{return X.call(F)}catch{}try{return F+""}catch{}}return""}function MU(F){return Qb(F,!0,!0)}function oA(F,Q){return F===Q||F!==F&&Q!==Q}function OU(F){return NU(F)&&z.call(F,"callee")&&(!pr.call(F,"callee")||Z.call(F)==s)}var e2=Array.isArray;function aA(F){return F!=null&&RU(F.length)&&!lA(F)}function NU(F){return kU(F)&&aA(F)}var CU=Tt||PU;function lA(F){var Q=M0(F)?Z.call(F):"";return Q==p||Q==d}function RU(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=i}function M0(F){var Q=typeof F;return!!F&&(Q=="object"||Q=="function")}function kU(F){return!!F&&typeof F=="object"}function n2(F){return aA(F)?sU(F):hU(F)}function LU(){return[]}function PU(){return!1}t.exports=MU}(qv,qv.exports)),qv.exports}var Gut=Uut();const OD=np(Gut),Kv=hn("maptip",()=>{const t=tt(void 0),e=tt(void 0),n=tt("");function r(o){t.value=o}function i(o){e.value=o}function s(o){n.value=o}return{maptipInstance:t,maptipPoint:e,content:n,setMaptipInstance:r,setMaptipPoint:i,setMaptipContent:s}}),$ut=re({__name:"esri-map",setup(t){const e=Kv(),n=Fn("iApi"),r=ee(()=>e.maptipPoint),i=ee(()=>e.maptipInstance),s=ee(()=>e.content),o=jn([]);o.push(Yn(r,()=>{if(r.value){let l,c;const p=n.geo.map.getPixelWidth()/2,d=0,f=n.geo.map.mapPointToScreenPoint(r.value);l=f.screenX-p,c=d-f.screenY,i.value.setProps({offset:[l,c]}),s.value&&s.value!==""&&i.value.show()}else i.value.hide()})),o.push(Yn(s,l=>{l&&l!==""&&r?(i.value.setContent(l),i.value.show()):i.value.hide()})),Yi(()=>{o.forEach(l=>l())});const a=()=>{n.geo.map.setMouseFocus()};return(l,c)=>{const p=Me("tippy");return Ie((pt(),wt("div",{name:"esriMap",id:"esriMap",class:"h-full overflow-hidden",onMousedown:a,onKeydown:c[0]||(c[0]=_v(Rp(()=>{},["prevent"]),["up","down","left","right"]))},null,544)),[[p,{allowHTML:!0,zIndex:150,theme:"ramp4",trigger:"manual",appendTo:"parent",arrow:!1,delay:200,duration:[200,200]}]])}}});var ND={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},ET={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Vut=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Qv={CSS:{},springs:{}};function wo(t,e,n){return Math.min(Math.max(t,e),n)}function Km(t,e){return t.indexOf(e)>-1}function ST(t,e){return t.apply(null,e)}var Lt={arr:function(t){return Array.isArray(t)},obj:function(t){return Km(Object.prototype.toString.call(t),"Object")},pth:function(t){return Lt.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||Lt.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t>"u"},nil:function(t){return Lt.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return Lt.hex(t)||Lt.rgb(t)||Lt.hsl(t)},key:function(t){return!ND.hasOwnProperty(t)&&!ET.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function CD(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function RD(t,e){var n=CD(t),r=wo(Lt.und(n[0])?1:n[0],.1,100),i=wo(Lt.und(n[1])?100:n[1],.1,100),s=wo(Lt.und(n[2])?10:n[2],.1,100),o=wo(Lt.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),l=s/(2*Math.sqrt(i*r)),c=l<1?a*Math.sqrt(1-l*l):0,p=1,d=l<1?(l*a+-o)/c:-o+a;function f(g){var _=e?e*g/1e3:g;return l<1?_=Math.exp(-_*l*a)*(p*Math.cos(c*_)+d*Math.sin(c*_)):_=(p+d*_)*Math.exp(-_*a),g===0||g===1?g:1-_}function y(){var g=Qv.springs[t];if(g)return g;for(var _=1/6,w=0,T=0;;)if(w+=_,f(w)===1){if(T++,T>=16)break}else T=0;var A=w*_*1e3;return Qv.springs[t]=A,A}return e?f:y}function But(t){return t===void 0&&(t=10),function(e){return Math.ceil(wo(e,1e-6,1)*t)*(1/t)}}var zut=function(){var t=11,e=1/(t-1);function n(p,d){return 1-3*d+3*p}function r(p,d){return 3*d-6*p}function i(p){return 3*p}function s(p,d,f){return((n(d,f)*p+r(d,f))*p+i(d))*p}function o(p,d,f){return 3*n(d,f)*p*p+2*r(d,f)*p+i(d)}function a(p,d,f,y,g){var _,w,T=0;do w=d+(f-d)/2,_=s(w,y,g)-p,_>0?f=w:d=w;while(Math.abs(_)>1e-7&&++T<10);return w}function l(p,d,f,y){for(var g=0;g<4;++g){var _=o(d,f,y);if(_===0)return d;var w=s(d,f,y)-p;d-=w/_}return d}function c(p,d,f,y){if(!(0<=p&&p<=1&&0<=f&&f<=1))return;var g=new Float32Array(t);if(p!==d||f!==y)for(var _=0;_<t;++_)g[_]=s(_*e,p,f);function w(T){for(var A=0,x=1,b=t-1;x!==b&&g[x]<=T;++x)A+=e;--x;var I=(T-g[x])/(g[x+1]-g[x]),N=A+I*e,R=o(N,p,f);return R>=.001?l(T,N,p,f):R===0?N:a(T,A,A+e,p,f)}return function(T){return p===d&&f===y||T===0||T===1?T:s(w(T),d,y)}}return c}(),kD=function(){var t={linear:function(){return function(r){return r}}},e={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,s=4;r<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var s=wo(r,1,10),o=wo(i,.1,2);return function(a){return a===0||a===1?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint","Expo"];return n.forEach(function(r,i){e[r]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(e).forEach(function(r){var i=e[r];t["easeIn"+r]=i,t["easeOut"+r]=function(s,o){return function(a){return 1-i(s,o)(1-a)}},t["easeInOut"+r]=function(s,o){return function(a){return a<.5?i(s,o)(a*2)/2:1-i(s,o)(a*-2+2)/2}},t["easeOutIn"+r]=function(s,o){return function(a){return a<.5?(1-i(s,o)(1-a*2))/2:(i(s,o)(a*2-1)+1)/2}}}),t}();function TT(t,e){if(Lt.fnc(t))return t;var n=t.split("(")[0],r=kD[n],i=CD(t);switch(n){case"spring":return RD(t,e);case"cubicBezier":return ST(zut,i);case"steps":return ST(But,i);default:return ST(r,i)}}function LD(t){try{var e=document.querySelectorAll(t);return e}catch{return}}function tb(t,e){for(var n=t.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in t){var o=t[s];e.call(r,o,s,t)&&i.push(o)}return i}function eb(t){return t.reduce(function(e,n){return e.concat(Lt.arr(n)?eb(n):n)},[])}function PD(t){return Lt.arr(t)?t:(Lt.str(t)&&(t=LD(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function AT(t,e){return t.some(function(n){return n===e})}function IT(t){var e={};for(var n in t)e[n]=t[n];return e}function MT(t,e){var n=IT(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function nb(t,e){var n=IT(t);for(var r in e)n[r]=Lt.und(t[r])?e[r]:t[r];return n}function Wut(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}function Hut(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(e,function(a,l,c,p){return l+l+c+c+p+p}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),s=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+i+","+s+","+o+",1)"}function Yut(t){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),n=parseInt(e[1],10)/360,r=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100,s=e[4]||1;function o(f,y,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(y-f)*6*g:g<1/2?y:g<2/3?f+(y-f)*(2/3-g)*6:f}var a,l,c;if(r==0)a=l=c=i;else{var p=i<.5?i*(1+r):i+r-i*r,d=2*i-p;a=o(d,p,n+1/3),l=o(d,p,n),c=o(d,p,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+s+")"}function Zut(t){if(Lt.rgb(t))return Wut(t);if(Lt.hex(t))return Hut(t);if(Lt.hsl(t))return Yut(t)}function va(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function Jut(t){if(Km(t,"translate")||t==="perspective")return"px";if(Km(t,"rotate")||Km(t,"skew"))return"deg"}function OT(t,e){return Lt.fnc(t)?t(e.target,e.id,e.total):t}function xo(t,e){return t.getAttribute(e)}function NT(t,e,n){var r=va(e);if(AT([n,"deg","rad","turn"],r))return e;var i=Qv.CSS[e+n];if(!Lt.und(i))return i;var s=100,o=document.createElement(t.tagName),a=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=s+n;var l=s/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(e);return Qv.CSS[e+n]=c,c}function DD(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?NT(t,i,n):i}}function CT(t,e){if(Lt.dom(t)&&!Lt.inp(t)&&(!Lt.nil(xo(t,e))||Lt.svg(t)&&t[e]))return"attribute";if(Lt.dom(t)&&AT(Vut,e))return"transform";if(Lt.dom(t)&&e!=="transform"&&DD(t,e))return"css";if(t[e]!=null)return"object"}function jD(t){if(Lt.dom(t)){for(var e=t.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(e);)r.set(i[1],i[2]);return r}}function Xut(t,e,n,r){var i=Km(e,"scale")?1:0+Jut(e),s=jD(t).get(e)||i;return n&&(n.transforms.list.set(e,s),n.transforms.last=e),r?NT(t,s,r):s}function RT(t,e,n,r){switch(CT(t,e)){case"transform":return Xut(t,e,r,n);case"css":return DD(t,e,n);case"attribute":return xo(t,e);default:return t[e]||0}}function kT(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=va(t)||0,i=parseFloat(e),s=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function FD(t,e){if(Lt.col(t))return Zut(t);if(/\s/g.test(t))return t;var n=va(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function LT(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function qut(t){return Math.PI*2*xo(t,"r")}function Kut(t){return xo(t,"width")*2+xo(t,"height")*2}function Qut(t){return LT({x:xo(t,"x1"),y:xo(t,"y1")},{x:xo(t,"x2"),y:xo(t,"y2")})}function UD(t){for(var e=t.points,n=0,r,i=0;i<e.numberOfItems;i++){var s=e.getItem(i);i>0&&(n+=LT(r,s)),r=s}return n}function tht(t){var e=t.points;return UD(t)+LT(e.getItem(e.numberOfItems-1),e.getItem(0))}function GD(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return qut(t);case"rect":return Kut(t);case"line":return Qut(t);case"polyline":return UD(t);case"polygon":return tht(t)}}function eht(t){var e=GD(t);return t.setAttribute("stroke-dasharray",e),e}function nht(t){for(var e=t.parentNode;Lt.svg(e)&&Lt.svg(e.parentNode);)e=e.parentNode;return e}function $D(t,e){var n=e||{},r=n.el||nht(t),i=r.getBoundingClientRect(),s=xo(r,"viewBox"),o=i.width,a=i.height,l=n.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function rht(t,e){var n=Lt.str(t)?LD(t)[0]:t,r=e||100;return function(i){return{property:i,el:n,svg:$D(n),totalLength:GD(n)*(r/100)}}}function iht(t,e,n){function r(p){p===void 0&&(p=0);var d=e+p>=1?e+p:0;return t.el.getPointAtLength(d)}var i=$D(t.el,t.svg),s=r(),o=r(-1),a=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(t.property){case"x":return(s.x-i.x)*l;case"y":return(s.y-i.y)*c;case"angle":return Math.atan2(a.y-o.y,a.x-o.x)*180/Math.PI}}function VD(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=FD(Lt.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:Lt.str(t)||e?r.split(n):[]}}function PT(t){var e=t?eb(Lt.arr(t)?t.map(PD):PD(t)):[];return tb(e,function(n,r,i){return i.indexOf(n)===r})}function BD(t){var e=PT(t);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:jD(n)}}})}function sht(t,e){var n=IT(e);if(/^spring/.test(n.easing)&&(n.duration=RD(n.easing)),Lt.arr(t)){var r=t.length,i=r===2&&!Lt.obj(t[0]);i?t={value:t}:Lt.fnc(e.duration)||(n.duration=e.duration/r)}var s=Lt.arr(t)?t:[t];return s.map(function(o,a){var l=Lt.obj(o)&&!Lt.pth(o)?o:{value:o};return Lt.und(l.delay)&&(l.delay=a?0:e.delay),Lt.und(l.endDelay)&&(l.endDelay=a===s.length-1?e.endDelay:0),l}).map(function(o){return nb(o,n)})}function oht(t){for(var e=tb(eb(t.map(function(s){return Object.keys(s)})),function(s){return Lt.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},r=function(s){var o=e[s];n[o]=t.map(function(a){var l={};for(var c in a)Lt.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},i=0;i<e.length;i++)r(i);return n}function aht(t,e){var n=[],r=e.keyframes;r&&(e=nb(oht(r),e));for(var i in e)Lt.key(i)&&n.push({name:i,tweens:sht(e[i],t)});return n}function lht(t,e){var n={};for(var r in t){var i=OT(t[r],e);Lt.arr(i)&&(i=i.map(function(s){return OT(s,e)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function cht(t,e){var n;return t.tweens.map(function(r){var i=lht(r,e),s=i.value,o=Lt.arr(s)?s[1]:s,a=va(o),l=RT(e.target,t.name,a,e),c=n?n.to.original:l,p=Lt.arr(s)?s[0]:c,d=va(p)||va(l),f=a||d;return Lt.und(o)&&(o=c),i.from=VD(p,f),i.to=VD(kT(o,p),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=TT(i.easing,i.duration),i.isPath=Lt.pth(s),i.isPathTargetInsideSVG=i.isPath&&Lt.svg(e.target),i.isColor=Lt.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var zD={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var s="";r.list.forEach(function(o,a){s+=a+"("+o+") "}),t.style.transform=s}}};function WD(t,e){var n=BD(t);n.forEach(function(r){for(var i in e){var s=OT(e[i],r),o=r.target,a=va(s),l=RT(o,i,a,r),c=a||va(l),p=kT(FD(s,c),l),d=CT(o,i);zD[d](o,i,p,r.transforms,!0)}})}function uht(t,e){var n=CT(t.target,e.name);if(n){var r=cht(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function hht(t,e){return tb(eb(t.map(function(n){return e.map(function(r){return uht(n,r)})})),function(n){return!Lt.und(n)})}function HD(t,e){var n=t.length,r=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map(function(s){return r(s)+s.duration})):e.duration,i.delay=n?Math.min.apply(Math,t.map(function(s){return r(s)+s.delay})):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map(function(s){return r(s)+s.duration-s.endDelay})):e.endDelay,i}var YD=0;function pht(t){var e=MT(ND,t),n=MT(ET,t),r=aht(n,t),i=BD(t.targets),s=hht(i,r),o=HD(s,n),a=YD;return YD++,nb(e,{id:a,children:[],animatables:i,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var Ds=[],ZD=function(){var t;function e(){!t&&(!JD()||!pn.suspendWhenDocumentHidden)&&Ds.length>0&&(t=requestAnimationFrame(n))}function n(i){for(var s=Ds.length,o=0;o<s;){var a=Ds[o];a.paused?(Ds.splice(o,1),s--):(a.tick(i),o++)}t=o>0?requestAnimationFrame(n):void 0}function r(){pn.suspendWhenDocumentHidden&&(JD()?t=cancelAnimationFrame(t):(Ds.forEach(function(i){return i._onDocumentVisibility()}),ZD()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),e}();function JD(){return!!document&&document.hidden}function pn(t){t===void 0&&(t={});var e=0,n=0,r=0,i,s=0,o=null;function a(A){var x=window.Promise&&new Promise(function(b){return o=b});return A.finished=x,x}var l=pht(t);a(l);function c(){var A=l.direction;A!=="alternate"&&(l.direction=A!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,i.forEach(function(x){return x.reversed=l.reversed})}function p(A){return l.reversed?l.duration-A:A}function d(){e=0,n=p(l.currentTime)*(1/pn.speed)}function f(A,x){x&&x.seek(A-x.timelineOffset)}function y(A){if(l.reversePlayback)for(var x=s;x--;)f(A,i[x]);else for(var b=0;b<s;b++)f(A,i[b])}function g(A){for(var x=0,b=l.animations,I=b.length;x<I;){var N=b[x],R=N.animatable,P=N.tweens,D=P.length-1,B=P[D];D&&(B=tb(P,function(Ot){return A<Ot.end})[0]||B);for(var $=wo(A-B.start-B.delay,0,B.duration)/B.duration,U=isNaN($)?1:B.easing($),J=B.to.strings,rt=B.round,u=[],m=B.to.numbers.length,E=void 0,k=0;k<m;k++){var H=void 0,K=B.to.numbers[k],ft=B.from.numbers[k]||0;B.isPath?H=iht(B.value,U*K,B.isPathTargetInsideSVG):H=ft+U*(K-ft),rt&&(B.isColor&&k>2||(H=Math.round(H*rt)/rt)),u.push(H)}var ot=J.length;if(!ot)E=u[0];else{E=J[0];for(var St=0;St<ot;St++){J[St];var Pt=J[St+1],Ut=u[St];isNaN(Ut)||(Pt?E+=Ut+Pt:E+=Ut+" ")}}zD[N.type](R.target,N.property,E,R.transforms),N.currentValue=E,x++}}function _(A){l[A]&&!l.passThrough&&l[A](l)}function w(){l.remaining&&l.remaining!==!0&&l.remaining--}function T(A){var x=l.duration,b=l.delay,I=x-l.endDelay,N=p(A);l.progress=wo(N/x*100,0,100),l.reversePlayback=N<l.currentTime,i&&y(N),!l.began&&l.currentTime>0&&(l.began=!0,_("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,_("loopBegin")),N<=b&&l.currentTime!==0&&g(0),(N>=I&&l.currentTime!==x||!x)&&g(x),N>b&&N<I?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,_("changeBegin")),_("change"),g(N)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,_("changeComplete")),l.currentTime=wo(N,0,x),l.began&&_("update"),A>=x&&(n=0,w(),l.remaining?(e=r,_("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&c()):(l.paused=!0,l.completed||(l.completed=!0,_("loopComplete"),_("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return l.reset=function(){var A=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=A==="reverse",l.remaining=l.loop,i=l.children,s=i.length;for(var x=s;x--;)l.children[x].reset();(l.reversed&&l.loop!==!0||A==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(A,x){return WD(A,x),l},l.tick=function(A){r=A,e||(e=r),T((r+(n-e))*pn.speed)},l.seek=function(A){T(p(A))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Ds.push(l),d(),ZD())},l.reverse=function(){c(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(A){var x=PT(A);qD(x,l)},l.reset(),l.autoplay&&l.play(),l}function XD(t,e){for(var n=e.length;n--;)AT(t,e[n].animatable.target)&&e.splice(n,1)}function qD(t,e){var n=e.animations,r=e.children;XD(t,n);for(var i=r.length;i--;){var s=r[i],o=s.animations;XD(t,o),!o.length&&!s.children.length&&r.splice(i,1)}!n.length&&!r.length&&e.pause()}function dht(t){for(var e=PT(t),n=Ds.length;n--;){var r=Ds[n];qD(e,r)}}function fht(t,e){e===void 0&&(e={});var n=e.direction||"normal",r=e.easing?TT(e.easing):null,i=e.grid,s=e.axis,o=e.from||0,a=o==="first",l=o==="center",c=o==="last",p=Lt.arr(t),d=parseFloat(p?t[0]:t),f=p?parseFloat(t[1]):0,y=va(p?t[1]:t)||0,g=e.start||0+(p?d:0),_=[],w=0;return function(T,A,x){if(a&&(o=0),l&&(o=(x-1)/2),c&&(o=x-1),!_.length){for(var b=0;b<x;b++){if(!i)_.push(Math.abs(o-b));else{var I=l?(i[0]-1)/2:o%i[0],N=l?(i[1]-1)/2:Math.floor(o/i[0]),R=b%i[0],P=Math.floor(b/i[0]),D=I-R,B=N-P,$=Math.sqrt(D*D+B*B);s==="x"&&($=-D),s==="y"&&($=-B),_.push($)}w=Math.max.apply(Math,_)}r&&(_=_.map(function(J){return r(J/w)*w})),n==="reverse"&&(_=_.map(function(J){return s?J<0?J*-1:-J:Math.abs(w-J)}))}var U=p?(f-d)/w:d;return g+U*(Math.round(_[A]*100)/100)+y}}function mht(t){t===void 0&&(t={});var e=pn(t);return e.duration=0,e.add=function(n,r){var i=Ds.indexOf(e),s=e.children;i>-1&&Ds.splice(i,1);function o(f){f.passThrough=!0}for(var a=0;a<s.length;a++)o(s[a]);var l=nb(n,MT(ET,t));l.targets=l.targets||t.targets;var c=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=Lt.und(r)?c:kT(r,c),o(e),e.seek(l.timelineOffset);var p=pn(l);o(p),s.push(p);var d=HD(s,t);return e.delay=d.delay,e.endDelay=d.endDelay,e.duration=d.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e}pn.version="3.2.1",pn.speed=1,pn.suspendWhenDocumentHidden=!0,pn.running=Ds,pn.remove=dht,pn.get=RT,pn.set=WD,pn.convertPx=NT,pn.path=rht,pn.setDashoffset=eht,pn.stagger=fht,pn.timeline=mht,pn.easing=TT,pn.penner=kD,pn.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t};class KD{resizeObserver;constructor(e){this.resizeObserver="ResizeObserver"in self?new ResizeObserver(function(n){const r={xs:200,sm:576,md:768,lg:960};n.forEach(function(i){const s=i.target.dataset.breakpoints?JSON.parse(i.target.dataset.breakpoints):e??r;Object.keys(s).forEach(function(o){const a=s[o];i.contentRect.width>=a?i.target.classList.add(o):i.target.classList.remove(o)})})}):void 0}observe(e){this.resizeObserver?.observe(e)}}const yht=["data-cy"],QD=re({__name:"panel-container",props:{panel:{type:Object,required:!0}},setup(t){const e=tt(null),n=t,r=tt(!1);Kn(()=>{n.panel.teleport&&new KD({xs:0,sm:461,...n.panel.teleport.breakpoints}).observe(e.value)});const i=(l,c,p)=>{if(r.value)return c();pn({targets:l,opacity:{value:p,duration:400,easing:"cubicBezier(.5, .05, .1, .3)"},complete:c})},s=(l,c)=>{i(l,c,[0,1])},o=l=>{l.classList.contains("screen-spinner")||(r.value=n.panel.isScreenLoaded(n.panel.route.screen),e.value.querySelectorAll("[focus-item").forEach(c=>c.classList.remove("default-focus-style")))},a=(l,c)=>{i(l,c,[0,1])};return(l,c)=>{const p=Me("focus-container");return pt(),wt("div",{class:un(["shadow-tm bg-white h-full xs:mr-0 sm:mr-12 last:mr-0 pointer-events-auto min-w-0 shrink-0",t.panel.expanded?"flex-grow max-w-full":""]),style:ta(t.panel.style),"data-cy":t.panel.id,ref_key:"componentEl",ref:e},[qt(Cm,{onBeforeLeave:o,onLeave:a,onEnter:s},{default:wn(()=>[Ie((pt(),Be(Q1(t.panel.route.screen),Im({class:"h-full"},t.panel.route.props,{panel:t.panel}),null,16,["panel"])),[[p]])]),_:1})],14,yht)}}}),Zl=hn("panel",()=>{const t=tt(void 0),e=tt(void 0),n=tt(0),r=tt(0),i=tt(!1),s=tt(!0),o=tt({}),a=tt({}),l=tt([]),c=tt([]),p=tt([]),d=ee(()=>r.value);function f($){return $==="xs"&&p.value.length>0?[p.value.slice().pop()]:p.value}function y($){const U=[];return $.forEach(J=>{J in a.value&&U.push(a.value[J].getPromise())}),U}function g($){N($),b(),e.value=void 0}function _($){R($),b()}function w($,U){P($,U),b()}function T($){D($),b()}function A($){n.value=$,b()}function x($){i.value=$}function b(){let $=n.value;const U=[],J=350,rt=12,u=600;for(let m=l.value.length-1;m>=0;m--){const E=l.value[m];let k=E.width||J;if(i.value?k=$:k+=rt,E.id==="grid"&&(k=Math.max(Math.min(k,$),u)),($>=k&&!i.value||U.length===0)&&($-=k,U.unshift(E)),E.id==="grid"&&$<u)break}if(t.value&&!U.includes(t.value)&&!i.value){let m;for(let K=0;K<U.length-1&&$<(t.value.width||J)+rt;K++)m=U.shift(),$+=m.width||J;$>=(t.value.width||J)?U.unshift(t.value):e.value||(m=U.shift(),U.unshift(t.value));const E=l.value.indexOf(t.value),k=l.value.indexOf(m),H=l.value.slice();k>-1&&(H.splice(E,1),H.splice(k,0,t.value)),l.value=H}r.value=$,p.value=U}function I($){if(o.value={...o.value,[$.id]:$},$.id in a.value)a.value[$.id].resolveMe($);else{const U=new bn;U.resolveMe($),a.value={...a.value,[$.id]:U}}}function N($){$.teleport?c.value=[...c.value,$]:(l.value=[...l.value,$],e.value=$)}function R($){if($.teleport){const U=c.value.indexOf($);U!==-1&&(c.value=[...c.value.slice(0,U),...c.value.slice(U+1)])}else{const U=l.value.indexOf($);U!==-1&&(l.value=[...l.value.slice(0,U),...l.value.slice(U+1)])}}function P($,U){const J=l.value.indexOf($),rt=U==="right"?1:-1;p.value.includes(l.value[J+rt])&&([l.value[J],l.value[J+rt]]=[l.value[J+rt],l.value[J]])}function D($){o.value[$.id]!==void 0&&delete o.value[$.id],a.value[$.id]!==void 0&&delete a.value[$.id];const U=p.value.indexOf($);U!==-1&&(p.value=[...p.value.slice(0,U),...p.value.slice(U+1)]),t.value&&t.value.id==$.id&&(t.value=void 0)}function B($){a.value={...a.value,[$]:new bn}}return{items:o,regPromises:a,orderedItems:l,pinned:t,priority:e,visible:p,stackWidth:n,remWidth:r,mobileView:i,reorderable:s,teleported:c,getRemainingWidth:d,getVisible:f,getRegPromises:y,openPanel:g,closePanel:_,movePanel:w,removePanel:T,setStackWidth:A,setMobileView:x,updateVisible:b,registerPanel:I,addRegPromise:B}}),ght=re({__name:"panel-stack",setup(t){const e=Zl(),n=Fn("iApi"),r=tt(),i=ee(()=>e.mobileView);Kn(()=>{new ResizeObserver(c=>{const p=!(n?.$vApp.$root?.$refs["app-size"]).classList.contains("sm");i.value!==p&&(e.mobileView=p,n?.event.emit(Mt.RAMP_MOBILEVIEW_CHANGE,p)),e.setStackWidth(c[0].contentRect.width)}).observe(r.value?.$el)});const s=c=>e.getVisible(c),o=(c,p)=>{l(c,p,[[6,0],[0,1]])},a=(c,p)=>{const[d,f]=[c.children[0].getBoundingClientRect(),c.parentElement.getBoundingClientRect()];c.style.width=`${d.width}px`,c.style.height=`${d.height}px`,c.style.left=`${d.left-f.left}px`,c.style.position="absolute",l(c,p,[[0,-6],[1,0]])},l=(c,p,d)=>{pn({targets:c,duration:300,translateY:{value:d[0],easing:"cubicBezier(.5, .05, .1, .3)"},opacity:{value:d[1],duration:250,easing:"cubicBezier(.5, .05, .1, .3)"},complete:p})};return(c,p)=>(pt(),Be(mv,{onEnter:o,onLeave:a,name:"panel-container",tag:"div",ref_key:"el",ref:r},{default:wn(()=>[(pt(!0),wt(Le,null,la(s(It(n).screenSize),d=>(pt(),Be(QD,{key:`${d.id}`,panel:d},null,8,["panel"]))),128))]),_:1},512))}}),Eo=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},vht=Eo(ght,[["__scopeId","data-v-11f38702"]]);var oi="top",ts="bottom",es="right",ai="left",DT="auto",Qm=[oi,ts,es,ai],Wp="start",t0="end",bht="clippingParents",t7="viewport",e0="popper",_ht="reference",e7=Qm.reduce(function(t,e){return t.concat([e+"-"+Wp,e+"-"+t0])},[]),n7=[].concat(Qm,[DT]).reduce(function(t,e){return t.concat([e,e+"-"+Wp,e+"-"+t0])},[]),wht="beforeRead",xht="read",Eht="afterRead",Sht="beforeMain",Tht="main",Aht="afterMain",Iht="beforeWrite",Mht="write",Oht="afterWrite",Nht=[wht,xht,Eht,Sht,Tht,Aht,Iht,Mht,Oht];function So(t){return t?(t.nodeName||"").toLowerCase():null}function Si(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Tu(t){var e=Si(t).Element;return t instanceof e||t instanceof Element}function ns(t){var e=Si(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function jT(t){if(typeof ShadowRoot>"u")return!1;var e=Si(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Cht(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ns(s)||!So(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Rht(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ns(i)||!So(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const kht={name:"applyStyles",enabled:!0,phase:"write",fn:Cht,effect:Rht,requires:["computeStyles"]};function To(t){return t.split("-")[0]}var Au=Math.max,rb=Math.min,Hp=Math.round;function FT(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function r7(){return!/^((?!chrome|android).)*safari/i.test(FT())}function Yp(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&ns(t)&&(i=t.offsetWidth>0&&Hp(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Hp(r.height)/t.offsetHeight||1);var o=Tu(t)?Si(t):window,a=o.visualViewport,l=!r7()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,p=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,f=r.height/s;return{width:d,height:f,top:p,right:c+d,bottom:p+f,left:c,x:c,y:p}}function UT(t){var e=Yp(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function i7(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&jT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ba(t){return Si(t).getComputedStyle(t)}function Lht(t){return["table","td","th"].indexOf(So(t))>=0}function Jl(t){return((Tu(t)?t.ownerDocument:t.document)||window.document).documentElement}function ib(t){return So(t)==="html"?t:t.assignedSlot||t.parentNode||(jT(t)?t.host:null)||Jl(t)}function s7(t){return!ns(t)||ba(t).position==="fixed"?null:t.offsetParent}function Pht(t){var e=/firefox/i.test(FT()),n=/Trident/i.test(FT());if(n&&ns(t)){var r=ba(t);if(r.position==="fixed")return null}var i=ib(t);for(jT(i)&&(i=i.host);ns(i)&&["html","body"].indexOf(So(i))<0;){var s=ba(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function n0(t){for(var e=Si(t),n=s7(t);n&&Lht(n)&&ba(n).position==="static";)n=s7(n);return n&&(So(n)==="html"||So(n)==="body"&&ba(n).position==="static")?e:n||Pht(t)||e}function GT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function r0(t,e,n){return Au(t,rb(e,n))}function Dht(t,e,n){var r=r0(t,e,n);return r>n?n:r}function o7(){return{top:0,right:0,bottom:0,left:0}}function a7(t){return Object.assign({},o7(),t)}function l7(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var jht=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,a7(typeof t!="number"?t:l7(t,Qm))};function Fht(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=To(n.placement),l=GT(a),c=[ai,es].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=jht(i.padding,n),f=UT(s),y=l==="y"?oi:ai,g=l==="y"?ts:es,_=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],w=o[l]-n.rects.reference[l],T=n0(s),A=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,x=_/2-w/2,b=d[y],I=A-f[p]-d[g],N=A/2-f[p]/2+x,R=r0(b,N,I),P=l;n.modifiersData[r]=(e={},e[P]=R,e.centerOffset=R-N,e)}}function Uht(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||i7(e.elements.popper,i)&&(e.elements.arrow=i))}const Ght={name:"arrow",enabled:!0,phase:"main",fn:Fht,effect:Uht,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zp(t){return t.split("-")[1]}var $ht={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vht(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Hp(n*i)/i||0,y:Hp(r*i)/i||0}}function c7(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=o.x,y=f===void 0?0:f,g=o.y,_=g===void 0?0:g,w=typeof p=="function"?p({x:y,y:_}):{x:y,y:_};y=w.x,_=w.y;var T=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),x=ai,b=oi,I=window;if(c){var N=n0(n),R="clientHeight",P="clientWidth";if(N===Si(n)&&(N=Jl(n),ba(N).position!=="static"&&a==="absolute"&&(R="scrollHeight",P="scrollWidth")),N=N,i===oi||(i===ai||i===es)&&s===t0){b=ts;var D=d&&N===I&&I.visualViewport?I.visualViewport.height:N[R];_-=D-r.height,_*=l?1:-1}if(i===ai||(i===oi||i===ts)&&s===t0){x=es;var B=d&&N===I&&I.visualViewport?I.visualViewport.width:N[P];y-=B-r.width,y*=l?1:-1}}var $=Object.assign({position:a},c&&$ht),U=p===!0?Vht({x:y,y:_},Si(n)):{x:y,y:_};if(y=U.x,_=U.y,l){var J;return Object.assign({},$,(J={},J[b]=A?"0":"",J[x]=T?"0":"",J.transform=(I.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",J))}return Object.assign({},$,(e={},e[b]=A?_+"px":"",e[x]=T?y+"px":"",e.transform="",e))}function Bht(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:To(e.placement),variation:Zp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,c7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,c7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const zht={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bht,data:{}};var sb={passive:!0};function Wht(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Si(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,sb)}),a&&l.addEventListener("resize",n.update,sb),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,sb)}),a&&l.removeEventListener("resize",n.update,sb)}}const Hht={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Wht,data:{}};var Yht={left:"right",right:"left",bottom:"top",top:"bottom"};function ob(t){return t.replace(/left|right|bottom|top/g,function(e){return Yht[e]})}var Zht={start:"end",end:"start"};function u7(t){return t.replace(/start|end/g,function(e){return Zht[e]})}function $T(t){var e=Si(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function VT(t){return Yp(Jl(t)).left+$T(t).scrollLeft}function Jht(t,e){var n=Si(t),r=Jl(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=r7();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+VT(t),y:l}}function Xht(t){var e,n=Jl(t),r=$T(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Au(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Au(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+VT(t),l=-r.scrollTop;return ba(i||n).direction==="rtl"&&(a+=Au(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function BT(t){var e=ba(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function h7(t){return["html","body","#document"].indexOf(So(t))>=0?t.ownerDocument.body:ns(t)&&BT(t)?t:h7(ib(t))}function i0(t,e){var n;e===void 0&&(e=[]);var r=h7(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Si(r),o=i?[s].concat(s.visualViewport||[],BT(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(i0(ib(o)))}function zT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function qht(t,e){var n=Yp(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function p7(t,e,n){return e===t7?zT(Jht(t,n)):Tu(e)?qht(e,n):zT(Xht(Jl(t)))}function Kht(t){var e=i0(ib(t)),n=["absolute","fixed"].indexOf(ba(t).position)>=0,r=n&&ns(t)?n0(t):t;return Tu(r)?e.filter(function(i){return Tu(i)&&i7(i,r)&&So(i)!=="body"}):[]}function Qht(t,e,n,r){var i=e==="clippingParents"?Kht(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var p=p7(t,c,r);return l.top=Au(p.top,l.top),l.right=rb(p.right,l.right),l.bottom=rb(p.bottom,l.bottom),l.left=Au(p.left,l.left),l},p7(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function d7(t){var e=t.reference,n=t.element,r=t.placement,i=r?To(r):null,s=r?Zp(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case oi:l={x:o,y:e.y-n.height};break;case ts:l={x:o,y:e.y+e.height};break;case es:l={x:e.x+e.width,y:a};break;case ai:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?GT(i):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case Wp:l[c]=l[c]-(e[p]/2-n[p]/2);break;case t0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function Iu(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?bht:a,c=n.rootBoundary,p=c===void 0?t7:c,d=n.elementContext,f=d===void 0?e0:d,y=n.altBoundary,g=y===void 0?!1:y,_=n.padding,w=_===void 0?0:_,T=a7(typeof w!="number"?w:l7(w,Qm)),A=f===e0?_ht:e0,x=t.rects.popper,b=t.elements[g?A:f],I=Qht(Tu(b)?b:b.contextElement||Jl(t.elements.popper),l,p,o),N=Yp(t.elements.reference),R=d7({reference:N,element:x,strategy:"absolute",placement:i}),P=zT(Object.assign({},x,R)),D=f===e0?P:N,B={top:I.top-D.top+T.top,bottom:D.bottom-I.bottom+T.bottom,left:I.left-D.left+T.left,right:D.right-I.right+T.right},$=t.modifiersData.offset;if(f===e0&&$){var U=$[i];Object.keys(B).forEach(function(J){var rt=[es,ts].indexOf(J)>=0?1:-1,u=[oi,ts].indexOf(J)>=0?"y":"x";B[J]+=U[u]*rt})}return B}function tpt(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?n7:l,p=Zp(r),d=p?a?e7:e7.filter(function(g){return Zp(g)===p}):Qm,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,_){return g[_]=Iu(t,{placement:_,boundary:i,rootBoundary:s,padding:o})[To(_)],g},{});return Object.keys(y).sort(function(g,_){return y[g]-y[_]})}function ept(t){if(To(t)===DT)return[];var e=ob(t);return[u7(t),e,u7(e)]}function npt(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,_=n.allowedAutoPlacements,w=e.options.placement,T=To(w),A=T===w,x=l||(A||!g?[ob(w)]:ept(w)),b=[w].concat(x).reduce(function(Pt,Ut){return Pt.concat(To(Ut)===DT?tpt(e,{placement:Ut,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:_}):Ut)},[]),I=e.rects.reference,N=e.rects.popper,R=new Map,P=!0,D=b[0],B=0;B<b.length;B++){var $=b[B],U=To($),J=Zp($)===Wp,rt=[oi,ts].indexOf(U)>=0,u=rt?"width":"height",m=Iu(e,{placement:$,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),E=rt?J?es:ai:J?ts:oi;I[u]>N[u]&&(E=ob(E));var k=ob(E),H=[];if(s&&H.push(m[U]<=0),a&&H.push(m[E]<=0,m[k]<=0),H.every(function(Pt){return Pt})){D=$,P=!1;break}R.set($,H)}if(P)for(var K=g?3:1,ft=function(Pt){var Ut=b.find(function(Ot){var ue=R.get(Ot);if(ue)return ue.slice(0,Pt).every(function(ie){return ie})});if(Ut)return D=Ut,"break"},ot=K;ot>0;ot--){var St=ft(ot);if(St==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}const rpt={name:"flip",enabled:!0,phase:"main",fn:npt,requiresIfExists:["offset"],data:{_skip:!1}};function f7(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function m7(t){return[oi,es,ts,ai].some(function(e){return t[e]>=0})}function ipt(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Iu(e,{elementContext:"reference"}),a=Iu(e,{altBoundary:!0}),l=f7(o,r),c=f7(a,i,s),p=m7(l),d=m7(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}const spt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ipt};function opt(t,e,n){var r=To(t),i=[ai,oi].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ai,es].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function apt(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=n7.reduce(function(p,d){return p[d]=opt(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const lpt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:apt};function cpt(t){var e=t.state,n=t.name;e.modifiersData[n]=d7({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const upt={name:"popperOffsets",enabled:!0,phase:"read",fn:cpt,data:{}};function hpt(t){return t==="x"?"y":"x"}function ppt(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,_=g===void 0?0:g,w=Iu(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),T=To(e.placement),A=Zp(e.placement),x=!A,b=GT(T),I=hpt(b),N=e.modifiersData.popperOffsets,R=e.rects.reference,P=e.rects.popper,D=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,B=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(N){if(s){var J,rt=b==="y"?oi:ai,u=b==="y"?ts:es,m=b==="y"?"height":"width",E=N[b],k=E+w[rt],H=E-w[u],K=y?-P[m]/2:0,ft=A===Wp?R[m]:P[m],ot=A===Wp?-P[m]:-R[m],St=e.elements.arrow,Pt=y&&St?UT(St):{width:0,height:0},Ut=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:o7(),Ot=Ut[rt],ue=Ut[u],ie=r0(0,R[m],Pt[m]),Ne=x?R[m]/2-K-ie-Ot-B.mainAxis:ft-ie-Ot-B.mainAxis,fe=x?-R[m]/2+K+ie+ue+B.mainAxis:ot+ie+ue+B.mainAxis,se=e.elements.arrow&&n0(e.elements.arrow),Fe=se?b==="y"?se.clientTop||0:se.clientLeft||0:0,W=(J=$?.[b])!=null?J:0,j=E+Ne-W-Fe,q=E+fe-W,st=r0(y?rb(k,j):k,E,y?Au(H,q):H);N[b]=st,U[b]=st-E}if(a){var nt,O=b==="x"?oi:ai,G=b==="x"?ts:es,M=N[I],L=I==="y"?"height":"width",V=M+w[O],X=M-w[G],z=[oi,ai].indexOf(T)!==-1,Z=(nt=$?.[I])!=null?nt:0,ct=z?V:M-R[L]-P[L]-Z+B.altAxis,yt=z?M+R[L]+P[L]-Z-B.altAxis:X,Dt=y&&z?Dht(ct,M,yt):r0(y?ct:V,M,y?yt:X);N[I]=Dt,U[I]=Dt-M}e.modifiersData[r]=U}}const dpt={name:"preventOverflow",enabled:!0,phase:"main",fn:ppt,requiresIfExists:["offset"]};function fpt(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function mpt(t){return t===Si(t)||!ns(t)?$T(t):fpt(t)}function ypt(t){var e=t.getBoundingClientRect(),n=Hp(e.width)/t.offsetWidth||1,r=Hp(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gpt(t,e,n){n===void 0&&(n=!1);var r=ns(e),i=ns(e)&&ypt(e),s=Jl(e),o=Yp(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((So(e)!=="body"||BT(s))&&(a=mpt(e)),ns(e)?(l=Yp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=VT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function vpt(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function bpt(t){var e=vpt(t);return Nht.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function _pt(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function wpt(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var y7={placement:"bottom",modifiers:[],strategy:"absolute"};function g7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function xpt(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?y7:i;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},y7,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(_){var w=typeof _=="function"?_(c.options):_;g(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:Tu(o)?i0(o):o.contextElement?i0(o.contextElement):[],popper:i0(a)};var T=bpt(wpt([].concat(r,c.options.modifiers)));return c.orderedModifiers=T.filter(function(A){return A.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var _=c.elements,w=_.reference,T=_.popper;if(g7(w,T)){c.rects={reference:gpt(w,n0(T),c.options.strategy==="fixed"),popper:UT(T)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var A=0;A<c.orderedModifiers.length;A++){if(c.reset===!0){c.reset=!1,A=-1;continue}var x=c.orderedModifiers[A],b=x.fn,I=x.options,N=I===void 0?{}:I,R=x.name;typeof b=="function"&&(c=b({state:c,options:N,name:R,instance:f})||c)}}}},update:_pt(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){g(),d=!0}};if(!g7(o,a))return f;f.setOptions(l).then(function(_){!d&&l.onFirstUpdate&&l.onFirstUpdate(_)});function y(){c.orderedModifiers.forEach(function(_){var w=_.name,T=_.options,A=T===void 0?{}:T,x=_.effect;if(typeof x=="function"){var b=x({state:c,name:w,instance:f,options:A}),I=function(){};p.push(b||I)}})}function g(){p.forEach(function(_){return _()}),p=[]}return f}}var Ept=[Hht,upt,zht,kht,lpt,rpt,dpt,Ght,spt],v7=xpt({defaultModifiers:Ept});const Spt=["content","aria-label"],WT=re({__name:"dropdown-menu",props:{position:{type:String,default:"bottom"},popperOptions:{type:Object,default(){return{}}},tooltip:{type:String},tooltipPlacement:{type:String,default:"bottom"},tooltipPlacementAlt:{type:String,default:"top"},tooltipTheme:{type:String,default:"ramp4"},tooltipAnimation:{type:String,default:"scale"},centered:{type:Boolean,default:!0},ariaLabel:{type:String}},setup(t){const e=tt(!1),n=tt(null),r=jn([]),i=tt(),s=tt(),o=tt(),a=t;r.push(Yn(e,()=>{n.value.update()}));const l=()=>{e.value=!e.value,o.value._tippy.hide()},c=()=>{o.value._tippy.setProps({placement:e.value?a.tooltipPlacementAlt:a.tooltipPlacement}),o.value._tippy.show()},p=()=>{o.value._tippy.hide()};return Kn(()=>{window.addEventListener("click",d=>{(!i.value||!i.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.addEventListener("blur",()=>{e.value=!1}),window.addEventListener("focusin",d=>{(!i.value||!i.value.contains(d.target))&&(e.value=!1)}),o.value.addEventListener("focus",c),o.value.addEventListener("blur",p),o.value.addEventListener("mouseover",c),o.value.addEventListener("mouseleave",p),Wi(()=>{const d={name:"overflowScroll",enabled:!0,phase:"main",fn({state:f}){const{bottom:y}=Iu(f);y>0?(f.styles.popper.overflowY=y>100?"auto":void 0,f.styles.popper.overflowX="hidden",f.styles.popper.height=`${f.rects.popper.height-y-8}px`):f.styles.popper.height="auto"}};o.value&&s.value&&(n.value=v7(o.value,s.value,{placement:a.position||"bottom",modifiers:[d,{name:"offset",options:{offset:[0,5]}}],...a.popperOptions}))})}),Yi(()=>{r.forEach(d=>d()),window.removeEventListener("click",d=>{(!i.value||!i.value.contains(d.target))&&(e.value=!1)},{capture:!0}),window.removeEventListener("blur",()=>{e.value=!1}),window.removeEventListener("focusin",d=>{(!i.value||!i.value.contains(d.target))&&(e.value=!1)}),o.value.removeEventListener("focus",c),o.value.removeEventListener("blur",p),o.value.removeEventListener("mouseover",c),o.value.removeEventListener("mouseleave",p),e.value=!1}),(d,f)=>{const y=Me("tippy");return pt(),wt("div",{ref_key:"el",ref:i},[Ie((pt(),wt("button",{type:"button",class:"text-gray-500 hover:text-black dropdown-button",onClick:l,content:t.tooltip,"aria-label":t.ariaLabel?String(t.ariaLabel):String(t.tooltip),ref_key:"dropdownTrigger",ref:o},[Zi(d.$slots,"header")],8,Spt)),[[y,{placement:t.tooltipPlacement,theme:t.tooltipTheme,animation:t.tooltipAnimation,appendTo:"parent",trigger:"manual"}]]),Ie(lt("div",{onClick:f[0]||(f[0]=g=>n.value.update()),class:un(["rv-dropdown shadow-md border border-gray:200 py-8 bg-white rounded z-10",{"text-center":t.centered}]),ref_key:"dropdown",ref:s},[Zi(d.$slots,"default",{close:()=>e.value=!e.value})],2),[[Rm,e.value]])],512)}}}),js=hn("notification",()=>{const t=tt([]),e=tt({}),n=ee(()=>t.value.length>=99?99:t.value.length);function r(c){t.value=[c,...t.value]}function i(c){if(t.value.includes(c)){const p=t.value.indexOf(c);c instanceof b7&&l(c),p>-1&&t.value.splice(p,1)}}function s(c){e.value[c.id]=c}function o(c,p){e.value[c]&&(e.value[c].messageList.push(p),t.value.includes(e.value[c])||(t.value=[e.value[c],...t.value]))}function a(){Object.values(e.value).forEach(c=>l(c)),t.value=[]}function l(c){const p=t.value.indexOf(c);p>-1&&t.value.splice(p,1),c.messageList=[]}return{notificationStack:t,groups:e,notificationNumber:n,showNotification:r,removeNotification:i,registerGroup:s,addToGroup:o,clearAll:a}}),Tpt={class:"h-full flex flex-col"},Apt={class:"w-full flex mb-6"},Ipt=["content","aria-label"],Mpt=re({__name:"screen",props:{panel:{type:Object,required:!0}},setup(t){const e=js(),{t:n}=nn(),r=ee(()=>e.notificationNumber),i=()=>e.clearAll();return(s,o)=>{const a=xn("panel-screen"),l=Me("tippy");return pt(),Be(a,{panel:t.panel},{header:wn(()=>[Ns(Ve(It(n)("notifications.title")),1)]),content:wn(()=>[lt("div",Tpt,[lt("div",Apt,[Ie((pt(),wt("button",{type:"button",onClick:i,class:un(["p-4 ml-auto",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:It(n)("notifications.controls.clearAll"),"aria-label":It(n)("notifications.controls.clearAll")},o[0]||(o[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[lt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),lt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),lt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),lt("path",{d:"M22 22l-5 -5"}),lt("path",{d:"M17 22l5 -5"})],-1)]),10,Ipt)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale"}]])]),qt(_7,{class:"overflow-y-auto"})])]),_:1},8,["panel"])}}});var li=(t=>(t.ERROR="error",t.INFO="info",t.WARNING="warning",t))(li||{});class Opt extends In{notificationStore;constructor(e){super(e),this.$iApi.panel.register({id:"notifications",config:{screens:{"notifications-screen":_n(Mpt)},alertName:"notifications.title"}}),this.notificationStore=js(this.$vApp.$pinia)}show(e,n){this.notificationStore.showNotification({type:e,message:n})}addGroup(e,n,r){if(this.getGroup(e))throw new Error("Duplicate notification group id registration: "+e);const i=new b7(this.$iApi,e,n,r);return this.notificationStore.registerGroup(i),i}getGroup(e){return this.notificationStore.groups[e]}}class b7 extends In{notificationStore=js(this.$vApp.$pinia);id;message;type;messageList=[];constructor(e,n,r,i){super(e),this.id=n,this.type=r,this.message=i}show(e){this.notificationStore.addToGroup(this.id,e)}}const Npt=["content"],Cpt={class:"flex items-center text-left"},Rpt={class:"select-text cursor-text"},kpt=["content"],Lpt={key:0,class:"text-left"},Ppt=re({__name:"notification-item",props:{notification:{type:Object,required:!0}},setup(t){const e=js(),{t:n}=nn(),r=t,i=tt(!1),s=jn({[li.WARNING]:"\u26A0",[li.INFO]:"\u2139\uFE0F",[li.ERROR]:"\u274C"}),o=l=>{e.removeNotification(l)},a=()=>{if(!r.notification.messageList)return!1};return(l,c)=>{const p=Me("tippy");return Ie((pt(),wt("li",{class:un(["flex-col default-focus-style p-4",t.notification.messageList?"cursor-pointer":""]),content:It(n)(i.value?"notifications.controls.collapse":"notifications.controls.expand"),onClick:c[1]||(c[1]=d=>i.value=!i.value)},[lt("div",Cpt,[lt("span",null,[Ns(Ve(s[t.notification.type])+" ",1),lt("span",Rpt,Ve(t.notification.message),1)]),c[4]||(c[4]=lt("span",{class:"flex-grow"},null,-1)),t.notification.messageList?(pt(),wt("div",{key:0,class:un(["dropdown-icon p-4 pointer-events-none",{"transform -rotate-180":i.value}])},c[2]||(c[2]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},[lt("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2)):Ye("",!0),Ie((pt(),wt("button",{type:"button",onClick:c[0]||(c[0]=Rp(d=>o(t.notification),["stop"])),class:"mx-4 p-4 text-gray-500 hover:text-black",content:It(n)("notifications.controls.dismiss")},c[3]||(c[3]=[lt("svg",{class:"fill-current",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 105.16 122.88","fill-rule":"evenodd"},[lt("path",{d:"M11.17,37.16H94.65a8.4,8.4,0,0,1,2,.16,5.93,5.93,0,0,1,2.88,1.56,5.43,5.43,0,0,1,1.64,3.34,7.65,7.65,0,0,1-.06,1.44L94,117.31v0l0,.13,0,.28v0a7.06,7.06,0,0,1-.2.9v0l0,.06v0a5.89,5.89,0,0,1-5.47,4.07H17.32a6.17,6.17,0,0,1-1.25-.19,6.17,6.17,0,0,1-1.16-.48h0a6.18,6.18,0,0,1-3.08-4.88l-7-73.49a7.69,7.69,0,0,1-.06-1.66,5.37,5.37,0,0,1,1.63-3.29,6,6,0,0,1,3-1.58,8.94,8.94,0,0,1,1.79-.13ZM5.65,8.8H37.12V6h0a2.44,2.44,0,0,1,0-.27,6,6,0,0,1,1.76-4h0A6,6,0,0,1,43.09,0H62.46l.3,0a6,6,0,0,1,5.7,6V6h0V8.8h32l.39,0a4.7,4.7,0,0,1,4.31,4.43c0,.18,0,.32,0,.5v9.86a2.59,2.59,0,0,1-2.59,2.59H2.59A2.59,2.59,0,0,1,0,23.62V13.53H0a1.56,1.56,0,0,1,0-.31v0A4.72,4.72,0,0,1,3.88,8.88,10.4,10.4,0,0,1,5.65,8.8Zm42.1,52.7a4.77,4.77,0,0,1,9.49,0v37a4.77,4.77,0,0,1-9.49,0v-37Zm23.73-.2a4.58,4.58,0,0,1,5-4.06,4.47,4.47,0,0,1,4.51,4.46l-2,37a4.57,4.57,0,0,1-5,4.06,4.47,4.47,0,0,1-4.51-4.46l2-37ZM25,61.7a4.46,4.46,0,0,1,4.5-4.46,4.58,4.58,0,0,1,5,4.06l2,37a4.47,4.47,0,0,1-4.51,4.46,4.57,4.57,0,0,1-5-4.06l-2-37Z"})],-1)]),8,kpt)),[[p,{theme:"ramp4",animation:"scale"}]])]),t.notification.messageList&&i.value?(pt(),wt("div",Lpt,[(pt(!0),wt(Le,null,la(t.notification.messageList,(d,f)=>(pt(),wt("p",{key:t.notification.id+d+f},Ve(d),1))),128))])):Ye("",!0)],10,Npt)),[[p,{onShow:a,theme:"ramp4",animation:"scale"}]])}}}),Dpt=["content"],jpt={key:0,class:"w-full border-b border-black"},Fpt={key:1,class:"flex flex-col items-center h-full"},_7=re({__name:"notification-list",setup(t){const e=js(),{t:n}=nn(),r=tt(),i=()=>{r.value._tippy.hide()},s=a=>{a.key==="Tab"&&r.value?.matches(":focus")&&r.value._tippy.show()};Kn(()=>{r.value?.addEventListener("blur",i),r.value?.addEventListener("keyup",s)}),Yi(()=>{r.value?.removeEventListener("blur",i),r.value?.removeEventListener("keyup",s)});const o=ee(()=>e.notificationStack);return(a,l)=>{const c=Me("focus-item"),p=Me("focus-list"),d=Me("tippy");return pt(),wt("div",null,[o.value.length>0?Ie((pt(),wt("ul",{key:0,content:It(n)("panels.controls.items"),ref_key:"el",ref:r},[(pt(!0),wt(Le,null,la(o.value,(f,y)=>(pt(),wt(Le,{key:f.message+y},[y>0?(pt(),wt("div",jpt)):Ye("",!0),Ie(qt(Ppt,{class:un([f.type]),notification:f},null,8,["class","notification"]),[[c]])],64))),128))],8,Dpt)),[[p],[d,{trigger:"manual",placement:"top-start",touch:!1}]]):(pt(),wt("div",Fpt,[l[0]||(l[0]=lt("span",{class:"flex-grow"},null,-1)),l[1]||(l[1]=lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-48 w-48 fill-current"},[lt("path",{d:"M0 0h24v24H0z",fill:"none"}),lt("path",{d:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"})],-1)),lt("span",null,Ve(It(n)("notifications.empty")),1),l[2]||(l[2]=lt("span",{style:{"flex-grow":"6"}},null,-1))]))])}}}),Upt={class:"flex items-center hover:text-white"},Gpt=["aria-label"],$pt={key:0,class:"number rounded-full w-18 text-white"},Vpt={class:"notification-dropdown pointer-events-auto bg-white rounded text-center text-black w-500 h-256 flex flex-col p-0"},Bpt={class:"pb-8 border-b border-gray-600"},zpt={class:"absolute flex right-3 top-3"},Wpt=["content","aria-label"],Hpt=re({__name:"caption-button",setup(t){const e=js(),{t:n}=nn(),r=ee(()=>e.notificationNumber),i=()=>e.clearAll();return(s,o)=>{const a=xn("close"),l=Me("tippy");return pt(),Be(WT,{position:"top-start",tooltip:It(n)("notifications.title"),tooltipPlacement:"top",class:"pointer-events-auto sm:flex ml-4 mr-8"},{header:wn(()=>[lt("div",Upt,[(pt(),wt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-label":It(n)("notifications.open")},o[0]||(o[0]=[lt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"},null,-1)]),8,Gpt)),r.value&&r.value>0?(pt(),wt("span",$pt,Ve(r.value),1)):Ye("",!0)])]),default:wn(c=>[lt("div",Vpt,[lt("div",null,[lt("h4",Bpt,Ve(It(n)("notifications.title")),1),lt("div",zpt,[Ie((pt(),wt("button",{type:"button",onClick:i,class:un(["p-4 mr-6",[r.value?"text-gray-500 hover:text-black":"text-gray-300 cursor-default pointer-events-none"]]),content:It(n)("notifications.controls.clearAll"),"aria-label":It(n)("notifications.controls.clearAll")},o[1]||(o[1]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current h-20 w-20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[lt("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),lt("path",{d:"M13 17h-9a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v2"}),lt("path",{d:"M9 17v1a3 3 0 0 0 4.194 2.753"}),lt("path",{d:"M22 22l-5 -5"}),lt("path",{d:"M17 22l5 -5"})],-1)]),10,Wpt)),[[l,{placement:"bottom",theme:"ramp4",animation:"scale",appendTo:"parent"}]]),qt(a,{onClick:c.close},null,8,["onClick"])])]),qt(_7,{class:"overflow-y-auto h-230"})])]),_:1},8,["tooltip"])}}}),Ypt=Eo(Hpt,[["__scopeId","data-v-3623a7d2"]]),Zpt={class:"flex hover:text-white"},Jpt=["aria-label"],Xpt={class:"about-ramp-dropdown pointer-events-auto bg-white rounded w-256 h-50"},qpt={class:"pb-8 border-b border-gray-600 mb-10"},Kpt={class:"absolute right-5 top-5"},Qpt={class:"select-text"},tdt={class:"font-bold cursor-text"},edt={class:"text-sm cursor-text"},ndt={class:"text-sm cursor-text"},rdt=re({__name:"about-ramp-dropdown",props:{position:{type:String,default:"top-start"}},setup(t){const{t:e}=nn(),n=ee(()=>`${dd.major}.${dd.minor}.${dd.patch}`),r=ee(()=>dd.hash.slice(0,9)),i=ee(()=>{let s=new Date(dd.timestamp);if(isNaN(s))return"dev mode, no date";{const o=a=>a<10?"0"+a.toString():a.toString();return`${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()} ${s.getHours()}:${o(s.getMinutes())}:${o(s.getSeconds())}`}});return(s,o)=>{const a=xn("close"),l=xn("dropdown-menu"),c=Me("focus-item");return Ie((pt(),Be(l,{class:"pointer-events-auto sm:flex",position:t.position,tooltip:It(e)("ramp.about"),tooltipPlacement:t.position},{header:wn(()=>[lt("div",Zpt,[(pt(),wt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20","aria-label":It(e)("ramp.about.open")},o[0]||(o[0]=[lt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"},null,-1)]),8,Jpt))])]),default:wn(p=>[lt("div",Xpt,[lt("div",null,[lt("h4",qpt,Ve(It(e)("ramp.about")),1),lt("div",Kpt,[qt(a,{onClick:p.close},null,8,["onClick"])]),lt("div",Qpt,[lt("div",null,[lt("span",tdt,Ve(n.value),1),lt("span",edt," ["+Ve(r.value)+"] ",1)]),lt("div",null,[lt("span",ndt,Ve(i.value),1)]),o[1]||(o[1]=lt("div",{class:"mt-5"},[lt("a",{class:"text-sm underline text-blue-600",href:"https://github.com/ramp4-pcar4/ramp4-pcar4",target:"_blank"},[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"inline-block fill-black w-16 h-16"},[lt("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})]),Ns(" ramp4-pcar4 ")])],-1))])])])]),_:1},8,["position","tooltip","tooltipPlacement"])),[[c]])}}}),w7=Eo(rdt,[["__scopeId","data-v-dd0345a4"]]),idt={class:"map-caption absolute bottom-0 h-29 sm:h-38 flex justify-end pointer-events-auto cursor-default select-none text-gray-200 bg-black-75 left-0 right-0 py-2 sm:py-6"},sdt={key:0,class:"relative top-2 sm:top-1 ml-4 sm:ml-0 shrink-0"},odt=["href","aria-label"],adt=["src","alt"],ldt={key:1,class:"relative ml-10 top-2 text-sm sm:text-base"},cdt={class:"flex min-w-fit justify-end"},udt={key:0,class:"pl-8 px-14 sm:block display-none relative top-2"},hdt=["aria-pressed","aria-label","content"],pdt={class:"relative top-1 text-sm sm:text-base"},ddt={class:"text-gray-200 hover:text-white text-sm sm:text-base pb-5"},fdt=["onClick"],mdt={key:0,class:"sr-only"},ydt=re({__name:"map-caption",setup(t){const e=Vl(),n=jr(),{t:r}=nn(),i=Fn("iApi"),s=ee(()=>e.scale),o=ee(()=>e.attribution),a=ee(()=>e.coords),l=ee(()=>e.langtoggle),c=ee(()=>n.config.map),p=tt([]),d=jn([]);d.push(Yn(c,_=>{_&&i.geo.map.caption.createCaption(c.value?.caption)})),Yi(()=>{d.forEach(_=>_())}),cu(()=>{Wi(()=>{i.$i18n.locale.value&&p.value.length==0&&(p.value=i.$i18n.availableLocales)})});const f=_=>{i.$i18n.locale.value!=_&&i.setLanguage(_)},y=()=>{e.toggleScale(),i.geo.map.caption.updateScale()},g=(_=!1)=>r(_?"map.toggleScaleToMetric":"map.toggleScaleToImperial");return(_,w)=>{const T=xn("dropdown-menu"),A=Me("truncate"),x=Me("tippy");return pt(),wt("div",idt,[qt(w7,{class:"sm:block display-none ml-8 mr-4",position:"top-end"}),qt(Ypt,{class:"sm:block display-none"}),o.value?.logo.disabled?Ye("",!0):(pt(),wt("span",sdt,[lt("a",{class:"pointer-events-auto cursor-pointer",href:o.value?.logo.link,target:"_blank","aria-label":o.value?.logo.altText},[lt("img",{class:"object-contain h-18 sm:h-26",src:o.value?.logo.value,alt:o.value?.logo.altText},null,8,adt)],8,odt)])),o.value?.text.disabled?Ye("",!0):Ie((pt(),wt("span",ldt,[Ns(Ve(o.value?.text.value),1)])),[[A,{options:{placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),w[0]||(w[0]=lt("span",{class:"flex-grow w-15"},null,-1)),lt("div",cdt,[a.value?.disabled?Ye("",!0):Ie((pt(),wt("div",udt,[Ns(Ve(a.value?.formattedString),1)])),[[A,{options:{hideOnClick:!1,theme:"ramp4",animation:"scale"}}]]),s.value?.disabled?Ye("",!0):Ie((pt(),wt("button",{key:1,type:"button",class:"flex-shrink-0 mx-2 sm:mx-10 px-4 pointer-events-auto cursor-pointer border-none",onClick:y,"aria-pressed":s.value?.isImperialScale,"aria-label":`
                    ${s.value?.label} - ${g(s.value?.isImperialScale)}
                `,content:g(s.value?.isImperialScale)},[lt("span",{class:"border-solid border-2 border-white border-t-0 h-5 mr-4 inline-block",style:ta({width:s.value?.width})},null,4),lt("span",pdt,Ve(s.value?.label),1)],8,hdt)),[[x,{delay:[300,0],placement:"top",hideOnClick:!1,theme:"ramp4",animation:"scale",touch:["hold",200]}]]),l.value?.disabled?Ye("",!0):(pt(),Be(T,{key:2,class:"flex-shrink-0 pointer-events-auto focus:outline-none px-4 mr-4 relative top-2",position:"top-end",tooltip:It(r)("map.changeLanguage"),ariaLabel:`${It(r)("map.language.short")} - ${It(r)("map.changeLanguage")}`,tooltipPlacement:"top-start",tooltipPlacementAlt:"left-end"},{header:wn(()=>[lt("span",ddt,Ve(It(r)("map.language.short")),1)]),default:wn(()=>[(pt(!0),wt(Le,null,la(p.value,(b,I)=>(pt(),wt("a",{key:`${b}-${I}`,class:un(["flex-auto items-center text-sm sm:text-base cursor-pointer",{"font-bold":b===It(i).$i18n.locale.value}]),href:"javascript:;",onClick:N=>f(b)},[Ns(Ve(It(r)("map.language."+b))+" ",1),b===It(i).$i18n.locale.value?(pt(),wt("span",mdt,Ve(It(r)("map.language.curr")),1)):Ye("",!0)],10,fdt))),128))]),_:1},8,["tooltip","ariaLabel"]))])])}}}),gdt=["content","aria-label"],vdt={key:0,class:"number absolute -top-2 -right-2 text-white w-18 rounded-full"},bdt=re({__name:"floating-button",setup(t){const e=js(),n=Fn("iApi"),{t:r}=nn(),i=ee(()=>e.notificationNumber);return(s,o)=>{const a=Me("tippy");return Ie((pt(),wt("button",{type:"button",onClick:o[0]||(o[0]=l=>It(n).panel.get("notifications").open()),class:"pointer-events-auto items-center absolute left-8 bottom-36 p-6 block sm:display-none bg-black-75 rounded-full text-gray-400 hover:text-white",content:It(r)("notifications.title"),"aria-label":It(r)("notifications.title")},[o[1]||(o[1]=lt("svg",{class:"fill-current w-24 h-24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[lt("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})],-1)),i.value&&i.value>0?(pt(),wt("span",vdt,Ve(i.value),1)):Ye("",!0)],8,gdt)),[[a]])}}}),_dt=Eo(bdt,[["__scopeId","data-v-a451db5c"]]),wdt={class:"flex items-center mb-20"},xdt={class:"text-xl"},Edt=re({__name:"keyboard-instructions",setup(t){const e=Fn("iApi"),{t:n}=nn(),r=tt(!1),i=tt(["app","lists","map"]),s=tt([]),o=tt(null),a=tt(null);Kn(()=>{s.value.push(e.event.on("openKeyboardInstructions",()=>{r.value=!0,Wi(()=>{o.value.focus()})}))}),Yi(()=>{s.value.forEach(c=>e?.event.off(c))});const l=c=>{c.key==="Tab"?c.shiftKey&&c.target===o.value?(c.preventDefault(),a.value.focus()):!c.shiftKey&&c.target===a.value&&(c.preventDefault(),o.value.focus()):c.key==="Escape"&&(c.preventDefault(),r.value=!1)};return(c,p)=>{const d=xn("close");return r.value?(pt(),wt("div",{key:0,class:"absolute inset-0 flex justify-center items-center bg-opacity-30 bg-black z-50 pointer-events-auto",onClick:p[3]||(p[3]=f=>r.value=!1),onKeydown:l},[lt("div",{class:"bg-white w-500 pointer-events-auto shadow-2xl p-20 flex flex-col",onClick:p[2]||(p[2]=Rp(()=>{},["stop","prevent"])),tabindex:"0",ref_key:"firstEl",ref:o},[lt("div",wdt,[lt("h2",xdt,Ve(It(n)("keyboardInstructions.title")),1),qt(d,{class:"ml-auto",onClick:p[0]||(p[0]=f=>r.value=!1)})]),(pt(!0),wt(Le,null,la(i.value,f=>(pt(),wt("p",{class:"whitespace-pre-line pb-10",key:f},Ve(It(n)(`keyboardInstructions.${f}`)),1))),128)),lt("button",{type:"button",class:"mt-auto self-end mr-10 mb-10 px-20 py-10",onClick:p[1]||(p[1]=f=>r.value=!1),ref_key:"lastEl",ref:a},Ve(It(n)("keyboardInstructions.OK")),513)],512)],32)):Ye("",!0)}}}),Jp=hn("instance",()=>({started:tt(!1)})),Sdt={class:"h-full relative"},Tdt={class:"inner-shell absolute top-0 left-0 h-full w-full pointer-events-none"},Adt={class:"absolute top-8 w-full flex justify-center"},Idt={key:1,class:"w-full h-full"},Mdt=re({__name:"shell",setup(t){const e=Fn("iApi"),n=Jp(),r=Ki(),i=Zl(),{t:s}=nn(),o=ee(()=>r.items.appbar),a=()=>{e?.event.emit("openKeyboardInstructions")},l=()=>i.teleported;return(c,p)=>(pt(),wt("div",Sdt,[lt("div",Tdt,[p[0]||(p[0]=lt("div",{class:"sr-only screen-reader-alert"},null,-1)),lt("div",Adt,[lt("button",{type:"button",class:"bg-white hidden-until-focus z-50 shadow-md px-10",onClick:a},Ve(It(s)("keyboardInstructions.open")),1)]),qt(Edt),qt(vht,{class:"panel-stack sm:flex absolute inset-0 overflow-hidden sm:p-12 z-10 sm:pl-80 xs:pl-40 sm:pb-48 xs:pb-28 xs:pr-0 sm:pr-40"}),o.value?Ye("",!0):(pt(),Be(_dt,{key:0})),qt(ydt,{class:"z-30"})]),It(n).started?(pt(),Be($ut,{key:0})):(pt(),wt("div",Idt,p[1]||(p[1]=[lt("div",{class:"spinner relative inset-x-1/2 inset-y-9/20"},null,-1)]))),(pt(!0),wt(Le,null,la(l(),d=>(pt(),Be(E3,{to:d.teleport?.target,key:d.id},[(pt(),Be(QD,{key:`${d.id}`,panel:d},null,8,["panel"]))],8,["to"]))),128))]))}}),Odt=Eo(Mdt,[["__scopeId","data-v-6c131943"]]);var ci="top",rs="bottom",is="right",ui="left",HT="auto",s0=[ci,rs,is,ui],Xp="start",o0="end",Ndt="clippingParents",x7="viewport",a0="popper",Cdt="reference",E7=s0.reduce(function(t,e){return t.concat([e+"-"+Xp,e+"-"+o0])},[]),S7=[].concat(s0,[HT]).reduce(function(t,e){return t.concat([e,e+"-"+Xp,e+"-"+o0])},[]),Rdt="beforeRead",kdt="read",Ldt="afterRead",Pdt="beforeMain",Ddt="main",jdt="afterMain",Fdt="beforeWrite",Udt="write",Gdt="afterWrite",$dt=[Rdt,kdt,Ldt,Pdt,Ddt,jdt,Fdt,Udt,Gdt];function Ao(t){return t?(t.nodeName||"").toLowerCase():null}function Fs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function qp(t){var e=Fs(t).Element;return t instanceof e||t instanceof Element}function ss(t){var e=Fs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function T7(t){if(typeof ShadowRoot>"u")return!1;var e=Fs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Vdt(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!ss(s)||!Ao(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Bdt(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!ss(i)||!Ao(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var A7={name:"applyStyles",enabled:!0,phase:"write",fn:Vdt,effect:Bdt,requires:["computeStyles"]};function Io(t){return t.split("-")[0]}var Mu=Math.max,ab=Math.min,Kp=Math.round;function Qp(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(ss(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(r=Kp(n.width)/o||1),s>0&&(i=Kp(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function YT(t){var e=Qp(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function I7(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&T7(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mo(t){return Fs(t).getComputedStyle(t)}function zdt(t){return["table","td","th"].indexOf(Ao(t))>=0}function Xl(t){return((qp(t)?t.ownerDocument:t.document)||window.document).documentElement}function lb(t){return Ao(t)==="html"?t:t.assignedSlot||t.parentNode||(T7(t)?t.host:null)||Xl(t)}function M7(t){return!ss(t)||Mo(t).position==="fixed"?null:t.offsetParent}function Wdt(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ss(t)){var r=Mo(t);if(r.position==="fixed")return null}for(var i=lb(t);ss(i)&&["html","body"].indexOf(Ao(i))<0;){var s=Mo(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function l0(t){for(var e=Fs(t),n=M7(t);n&&zdt(n)&&Mo(n).position==="static";)n=M7(n);return n&&(Ao(n)==="html"||Ao(n)==="body"&&Mo(n).position==="static")?e:n||Wdt(t)||e}function ZT(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function c0(t,e,n){return Mu(t,ab(e,n))}function Hdt(t,e,n){var r=c0(t,e,n);return r>n?n:r}function O7(){return{top:0,right:0,bottom:0,left:0}}function N7(t){return Object.assign({},O7(),t)}function C7(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Ydt=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,N7(typeof t!="number"?t:C7(t,s0))};function Zdt(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Io(n.placement),l=ZT(a),c=[ui,is].indexOf(a)>=0,p=c?"height":"width";if(!(!s||!o)){var d=Ydt(i.padding,n),f=YT(s),y=l==="y"?ci:ui,g=l==="y"?rs:is,_=n.rects.reference[p]+n.rects.reference[l]-o[l]-n.rects.popper[p],w=o[l]-n.rects.reference[l],T=l0(s),A=T?l==="y"?T.clientHeight||0:T.clientWidth||0:0,x=_/2-w/2,b=d[y],I=A-f[p]-d[g],N=A/2-f[p]/2+x,R=c0(b,N,I),P=l;n.modifiersData[r]=(e={},e[P]=R,e.centerOffset=R-N,e)}}function Jdt(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||I7(e.elements.popper,i)&&(e.elements.arrow=i))}var Xdt={name:"arrow",enabled:!0,phase:"main",fn:Zdt,effect:Jdt,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function td(t){return t.split("-")[1]}var qdt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kdt(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Kp(e*i)/i||0,y:Kp(n*i)/i||0}}function R7(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,p=t.roundOffsets,d=t.isFixed,f=p===!0?Kdt(o):typeof p=="function"?p(o):o,y=f.x,g=y===void 0?0:y,_=f.y,w=_===void 0?0:_,T=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),x=ui,b=ci,I=window;if(c){var N=l0(n),R="clientHeight",P="clientWidth";if(N===Fs(n)&&(N=Xl(n),Mo(N).position!=="static"&&a==="absolute"&&(R="scrollHeight",P="scrollWidth")),N=N,i===ci||(i===ui||i===is)&&s===o0){b=rs;var D=d&&I.visualViewport?I.visualViewport.height:N[R];w-=D-r.height,w*=l?1:-1}if(i===ui||(i===ci||i===rs)&&s===o0){x=is;var B=d&&I.visualViewport?I.visualViewport.width:N[P];g-=B-r.width,g*=l?1:-1}}var $=Object.assign({position:a},c&&qdt);if(l){var U;return Object.assign({},$,(U={},U[b]=A?"0":"",U[x]=T?"0":"",U.transform=(I.devicePixelRatio||1)<=1?"translate("+g+"px, "+w+"px)":"translate3d("+g+"px, "+w+"px, 0)",U))}return Object.assign({},$,(e={},e[b]=A?w+"px":"",e[x]=T?g+"px":"",e.transform="",e))}function Qdt(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Io(e.placement),variation:td(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,R7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,R7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var tft={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qdt,data:{}},cb={passive:!0};function eft(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Fs(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(p){p.addEventListener("scroll",n.update,cb)}),a&&l.addEventListener("resize",n.update,cb),function(){s&&c.forEach(function(p){p.removeEventListener("scroll",n.update,cb)}),a&&l.removeEventListener("resize",n.update,cb)}}var nft={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eft,data:{}},rft={left:"right",right:"left",bottom:"top",top:"bottom"};function ub(t){return t.replace(/left|right|bottom|top/g,function(e){return rft[e]})}var ift={start:"end",end:"start"};function k7(t){return t.replace(/start|end/g,function(e){return ift[e]})}function JT(t){var e=Fs(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function XT(t){return Qp(Xl(t)).left+JT(t).scrollLeft}function sft(t){var e=Fs(t),n=Xl(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+XT(t),y:a}}function oft(t){var e,n=Xl(t),r=JT(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Mu(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Mu(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+XT(t),l=-r.scrollTop;return Mo(i||n).direction==="rtl"&&(a+=Mu(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function qT(t){var e=Mo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function L7(t){return["html","body","#document"].indexOf(Ao(t))>=0?t.ownerDocument.body:ss(t)&&qT(t)?t:L7(lb(t))}function u0(t,e){var n;e===void 0&&(e=[]);var r=L7(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Fs(r),o=i?[s].concat(s.visualViewport||[],qT(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(u0(lb(o)))}function KT(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function aft(t){var e=Qp(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function P7(t,e){return e===x7?KT(sft(t)):qp(e)?aft(e):KT(oft(Xl(t)))}function lft(t){var e=u0(lb(t)),n=["absolute","fixed"].indexOf(Mo(t).position)>=0,r=n&&ss(t)?l0(t):t;return qp(r)?e.filter(function(i){return qp(i)&&I7(i,r)&&Ao(i)!=="body"&&(n?Mo(i).position!=="static":!0)}):[]}function cft(t,e,n){var r=e==="clippingParents"?lft(t):[].concat(e),i=[].concat(r,[n]),s=i[0],o=i.reduce(function(a,l){var c=P7(t,l);return a.top=Mu(c.top,a.top),a.right=ab(c.right,a.right),a.bottom=ab(c.bottom,a.bottom),a.left=Mu(c.left,a.left),a},P7(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function D7(t){var e=t.reference,n=t.element,r=t.placement,i=r?Io(r):null,s=r?td(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ci:l={x:o,y:e.y-n.height};break;case rs:l={x:o,y:e.y+e.height};break;case is:l={x:e.x+e.width,y:a};break;case ui:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?ZT(i):null;if(c!=null){var p=c==="y"?"height":"width";switch(s){case Xp:l[c]=l[c]-(e[p]/2-n[p]/2);break;case o0:l[c]=l[c]+(e[p]/2-n[p]/2);break}}return l}function h0(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,o=s===void 0?Ndt:s,a=n.rootBoundary,l=a===void 0?x7:a,c=n.elementContext,p=c===void 0?a0:c,d=n.altBoundary,f=d===void 0?!1:d,y=n.padding,g=y===void 0?0:y,_=N7(typeof g!="number"?g:C7(g,s0)),w=p===a0?Cdt:a0,T=t.rects.popper,A=t.elements[f?w:p],x=cft(qp(A)?A:A.contextElement||Xl(t.elements.popper),o,l),b=Qp(t.elements.reference),I=D7({reference:b,element:T,strategy:"absolute",placement:i}),N=KT(Object.assign({},T,I)),R=p===a0?N:b,P={top:x.top-R.top+_.top,bottom:R.bottom-x.bottom+_.bottom,left:x.left-R.left+_.left,right:R.right-x.right+_.right},D=t.modifiersData.offset;if(p===a0&&D){var B=D[i];Object.keys(P).forEach(function($){var U=[is,rs].indexOf($)>=0?1:-1,J=[ci,rs].indexOf($)>=0?"y":"x";P[$]+=B[J]*U})}return P}function uft(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?S7:l,p=td(r),d=p?a?E7:E7.filter(function(g){return td(g)===p}):s0,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var y=f.reduce(function(g,_){return g[_]=h0(t,{placement:_,boundary:i,rootBoundary:s,padding:o})[Io(_)],g},{});return Object.keys(y).sort(function(g,_){return y[g]-y[_]})}function hft(t){if(Io(t)===HT)return[];var e=ub(t);return[k7(t),e,k7(e)]}function pft(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,p=n.boundary,d=n.rootBoundary,f=n.altBoundary,y=n.flipVariations,g=y===void 0?!0:y,_=n.allowedAutoPlacements,w=e.options.placement,T=Io(w),A=T===w,x=l||(A||!g?[ub(w)]:hft(w)),b=[w].concat(x).reduce(function(Pt,Ut){return Pt.concat(Io(Ut)===HT?uft(e,{placement:Ut,boundary:p,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:_}):Ut)},[]),I=e.rects.reference,N=e.rects.popper,R=new Map,P=!0,D=b[0],B=0;B<b.length;B++){var $=b[B],U=Io($),J=td($)===Xp,rt=[ci,rs].indexOf(U)>=0,u=rt?"width":"height",m=h0(e,{placement:$,boundary:p,rootBoundary:d,altBoundary:f,padding:c}),E=rt?J?is:ui:J?rs:ci;I[u]>N[u]&&(E=ub(E));var k=ub(E),H=[];if(s&&H.push(m[U]<=0),a&&H.push(m[E]<=0,m[k]<=0),H.every(function(Pt){return Pt})){D=$,P=!1;break}R.set($,H)}if(P)for(var K=g?3:1,ft=function(Pt){var Ut=b.find(function(Ot){var ue=R.get(Ot);if(ue)return ue.slice(0,Pt).every(function(ie){return ie})});if(Ut)return D=Ut,"break"},ot=K;ot>0;ot--){var St=ft(ot);if(St==="break")break}e.placement!==D&&(e.modifiersData[r]._skip=!0,e.placement=D,e.reset=!0)}}var dft={name:"flip",enabled:!0,phase:"main",fn:pft,requiresIfExists:["offset"],data:{_skip:!1}};function j7(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function F7(t){return[ci,is,rs,ui].some(function(e){return t[e]>=0})}function fft(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=h0(e,{elementContext:"reference"}),a=h0(e,{altBoundary:!0}),l=j7(o,r),c=j7(a,i,s),p=F7(l),d=F7(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:p,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":p,"data-popper-escaped":d})}var mft={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fft};function yft(t,e,n){var r=Io(t),i=[ui,ci].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[ui,is].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function gft(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=S7.reduce(function(p,d){return p[d]=yft(d,e.rects,s),p},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}var vft={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gft};function bft(t){var e=t.state,n=t.name;e.modifiersData[n]=D7({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var _ft={name:"popperOffsets",enabled:!0,phase:"read",fn:bft,data:{}};function wft(t){return t==="x"?"y":"x"}function xft(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,p=n.altBoundary,d=n.padding,f=n.tether,y=f===void 0?!0:f,g=n.tetherOffset,_=g===void 0?0:g,w=h0(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:p}),T=Io(e.placement),A=td(e.placement),x=!A,b=ZT(T),I=wft(b),N=e.modifiersData.popperOffsets,R=e.rects.reference,P=e.rects.popper,D=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,B=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(N){if(s){var J,rt=b==="y"?ci:ui,u=b==="y"?rs:is,m=b==="y"?"height":"width",E=N[b],k=E+w[rt],H=E-w[u],K=y?-P[m]/2:0,ft=A===Xp?R[m]:P[m],ot=A===Xp?-P[m]:-R[m],St=e.elements.arrow,Pt=y&&St?YT(St):{width:0,height:0},Ut=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:O7(),Ot=Ut[rt],ue=Ut[u],ie=c0(0,R[m],Pt[m]),Ne=x?R[m]/2-K-ie-Ot-B.mainAxis:ft-ie-Ot-B.mainAxis,fe=x?-R[m]/2+K+ie+ue+B.mainAxis:ot+ie+ue+B.mainAxis,se=e.elements.arrow&&l0(e.elements.arrow),Fe=se?b==="y"?se.clientTop||0:se.clientLeft||0:0,W=(J=$?.[b])!=null?J:0,j=E+Ne-W-Fe,q=E+fe-W,st=c0(y?ab(k,j):k,E,y?Mu(H,q):H);N[b]=st,U[b]=st-E}if(a){var nt,O=b==="x"?ci:ui,G=b==="x"?rs:is,M=N[I],L=I==="y"?"height":"width",V=M+w[O],X=M-w[G],z=[ci,ui].indexOf(T)!==-1,Z=(nt=$?.[I])!=null?nt:0,ct=z?V:M-R[L]-P[L]-Z+B.altAxis,yt=z?M+R[L]+P[L]-Z-B.altAxis:X,Dt=y&&z?Hdt(ct,M,yt):c0(y?ct:V,M,y?yt:X);N[I]=Dt,U[I]=Dt-M}e.modifiersData[r]=U}}var Eft={name:"preventOverflow",enabled:!0,phase:"main",fn:xft,requiresIfExists:["offset"]};function Sft(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Tft(t){return t===Fs(t)||!ss(t)?JT(t):Sft(t)}function Aft(t){var e=t.getBoundingClientRect(),n=Kp(e.width)/t.offsetWidth||1,r=Kp(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Ift(t,e,n){n===void 0&&(n=!1);var r=ss(e),i=ss(e)&&Aft(e),s=Xl(e),o=Qp(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ao(e)!=="body"||qT(s))&&(a=Tft(e)),ss(e)?(l=Qp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=XT(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Mft(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Oft(t){var e=Mft(t);return $dt.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Nft(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Cft(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var U7={placement:"bottom",modifiers:[],strategy:"absolute"};function G7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rft(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?U7:i;return function(o,a,l){l===void 0&&(l=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},U7,s),modifiersData:{},elements:{reference:o,popper:a},attributes:{},styles:{}},p=[],d=!1,f={state:c,setOptions:function(_){var w=typeof _=="function"?_(c.options):_;g(),c.options=Object.assign({},s,c.options,w),c.scrollParents={reference:qp(o)?u0(o):o.contextElement?u0(o.contextElement):[],popper:u0(a)};var T=Oft(Cft([].concat(r,c.options.modifiers)));return c.orderedModifiers=T.filter(function(A){return A.enabled}),y(),f.update()},forceUpdate:function(){if(!d){var _=c.elements,w=_.reference,T=_.popper;if(G7(w,T)){c.rects={reference:Ift(w,l0(T),c.options.strategy==="fixed"),popper:YT(T)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var A=0;A<c.orderedModifiers.length;A++){if(c.reset===!0){c.reset=!1,A=-1;continue}var x=c.orderedModifiers[A],b=x.fn,I=x.options,N=I===void 0?{}:I,R=x.name;typeof b=="function"&&(c=b({state:c,options:N,name:R,instance:f})||c)}}}},update:Nft(function(){return new Promise(function(_){f.forceUpdate(),_(c)})}),destroy:function(){g(),d=!0}};if(!G7(o,a))return f;f.setOptions(l).then(function(_){!d&&l.onFirstUpdate&&l.onFirstUpdate(_)});function y(){c.orderedModifiers.forEach(function(_){var w=_.name,T=_.options,A=T===void 0?{}:T,x=_.effect;if(typeof x=="function"){var b=x({state:c,name:w,instance:f,options:A}),I=function(){};p.push(b||I)}})}function g(){p.forEach(function(_){return _()}),p=[]}return f}}var kft=[nft,_ft,tft,A7,vft,dft,Eft,Xdt,mft],Lft=Rft({defaultModifiers:kft}),Pft="tippy-box",$7="tippy-content",V7="tippy-backdrop",B7="tippy-arrow",z7="tippy-svg-arrow",Ou={passive:!0,capture:!0},W7=function(){return document.body};function QT(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function t4(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function H7(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Y7(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Dft(t,e){var n=Object.assign({},t);return e.forEach(function(r){delete n[r]}),n}function jft(t){return t.split(/\s+/).filter(Boolean)}function Nu(t){return[].concat(t)}function Z7(t,e){t.indexOf(e)===-1&&t.push(e)}function Fft(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function J7(t){return t.split("-")[0]}function ed(t){return[].slice.call(t)}function X7(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Cu(){return document.createElement("div")}function hb(t){return["Element","Fragment"].some(function(e){return t4(t,e)})}function Uft(t){return t4(t,"NodeList")}function e4(t){return t4(t,"MouseEvent")}function Gft(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function $ft(t){return hb(t)?[t]:Uft(t)?ed(t):Array.isArray(t)?t:ed(document.querySelectorAll(t))}function n4(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function p0(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function q7(t){var e,n=Nu(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function Vft(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=J7(o.placement),p=o.modifiersData.offset;if(!p)return!0;var d=c==="bottom"?p.top.y:0,f=c==="top"?p.bottom.y:0,y=c==="right"?p.left.x:0,g=c==="left"?p.right.x:0,_=s.top-r+d>l,w=r-s.bottom-f>l,T=s.left-n+y>l,A=n-s.right-g>l;return _||w||T||A})}function r4(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function K7(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Oo={isTouch:!1},Q7=0;function Bft(){Oo.isTouch||(Oo.isTouch=!0,window.performance&&document.addEventListener("mousemove",tj))}function tj(){var t=performance.now();t-Q7<20&&(Oo.isTouch=!1,document.removeEventListener("mousemove",tj)),Q7=t}function zft(){var t=document.activeElement;if(Gft(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Wft(){document.addEventListener("touchstart",Bft,Ou),window.addEventListener("blur",zft)}var Hft=typeof window<"u"&&typeof document<"u",Yft=Hft?!!window.msCrypto:!1,Zft={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Jft={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Us=Object.assign({appendTo:W7,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Zft,Jft),Xft=Object.keys(Us),qft=function(t){var e=Object.keys(t);e.forEach(function(n){Us[n]=t[n]})};function ej(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=Us[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function Kft(t,e){var n=e?Object.keys(ej(Object.assign({},Us,{plugins:e}))):Xft,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function nj(t,e){var n=Object.assign({},e,{content:H7(e.content,[t])},e.ignoreAttributes?{}:Kft(t,e.plugins));return n.aria=Object.assign({},Us.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var Qft=function(){return"innerHTML"};function i4(t,e){t[Qft()]=e}function rj(t){var e=Cu();return t===!0?e.className=B7:(e.className=z7,hb(t)?e.appendChild(t):i4(e,t)),e}function ij(t,e){hb(e.content)?(i4(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?i4(t,e.content):t.textContent=e.content)}function pb(t){var e=t.firstElementChild,n=ed(e.children);return{box:e,content:n.find(function(r){return r.classList.contains($7)}),arrow:n.find(function(r){return r.classList.contains(B7)||r.classList.contains(z7)}),backdrop:n.find(function(r){return r.classList.contains(V7)})}}function sj(t){var e=Cu(),n=Cu();n.className=Pft,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Cu();r.className=$7,r.setAttribute("data-state","hidden"),ij(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=pb(e),l=a.box,c=a.content,p=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&ij(c,t.props),o.arrow?p?s.arrow!==o.arrow&&(l.removeChild(p),l.appendChild(rj(o.arrow))):l.appendChild(rj(o.arrow)):p&&l.removeChild(p)}return{popper:e,onUpdate:i}}sj.$$tippy=!0;var tmt=1,db=[],s4=[];function emt(t,e){var n=nj(t,Object.assign({},Us,ej(X7(e)))),r,i,s,o=!1,a=!1,l=!1,c=!1,p,d,f,y=[],g=Y7(j,n.interactiveDebounce),_,w=tmt++,T=null,A=Fft(n.plugins),x={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},b={id:w,reference:t,popper:Cu(),popperInstance:T,props:n,state:x,plugins:A,clearDelayTimeouts:ct,setProps:yt,setContent:Dt,show:Zt,hide:Ce,hideWithInteractivity:dn,enable:z,disable:Z,unmount:pr,destroy:nr};if(!n.render)return b;var I=n.render(b),N=I.popper,R=I.onUpdate;N.setAttribute("data-tippy-root",""),N.id="tippy-"+b.id,b.popper=N,t._tippy=b,N._tippy=b;var P=A.map(function(et){return et.fn(b)}),D=t.hasAttribute("aria-expanded");return se(),K(),E(),k("onCreate",[b]),n.showOnCreate&&V(),N.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),N.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&rt().addEventListener("mousemove",g)}),b;function B(){var et=b.props.touch;return Array.isArray(et)?et:[et,0]}function $(){return B()[0]==="hold"}function U(){var et;return!!((et=b.props.render)!=null&&et.$$tippy)}function J(){return _||t}function rt(){var et=J().parentNode;return et?q7(et):document}function u(){return pb(N)}function m(et){return b.state.isMounted&&!b.state.isVisible||Oo.isTouch||p&&p.type==="focus"?0:QT(b.props.delay,et?0:1,Us.delay)}function E(et){et===void 0&&(et=!1),N.style.pointerEvents=b.props.interactive&&!et?"":"none",N.style.zIndex=""+b.props.zIndex}function k(et,Tt,At){if(At===void 0&&(At=!0),P.forEach(function(Qt){Qt[et]&&Qt[et].apply(Qt,Tt)}),At){var Jt;(Jt=b.props)[et].apply(Jt,Tt)}}function H(){var et=b.props.aria;if(et.content){var Tt="aria-"+et.content,At=N.id,Jt=Nu(b.props.triggerTarget||t);Jt.forEach(function(Qt){var Gn=Qt.getAttribute(Tt);if(b.state.isVisible)Qt.setAttribute(Tt,Gn?Gn+" "+At:At);else{var dr=Gn&&Gn.replace(At,"").trim();dr?Qt.setAttribute(Tt,dr):Qt.removeAttribute(Tt)}})}}function K(){if(!(D||!b.props.aria.expanded)){var et=Nu(b.props.triggerTarget||t);et.forEach(function(Tt){b.props.interactive?Tt.setAttribute("aria-expanded",b.state.isVisible&&Tt===J()?"true":"false"):Tt.removeAttribute("aria-expanded")})}}function ft(){rt().removeEventListener("mousemove",g),db=db.filter(function(et){return et!==g})}function ot(et){if(!(Oo.isTouch&&(l||et.type==="mousedown"))){var Tt=et.composedPath&&et.composedPath()[0]||et.target;if(!(b.props.interactive&&K7(N,Tt))){if(Nu(b.props.triggerTarget||t).some(function(At){return K7(At,Tt)})){if(Oo.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else k("onClickOutside",[b,et]);b.props.hideOnClick===!0&&(b.clearDelayTimeouts(),b.hide(),a=!0,setTimeout(function(){a=!1}),b.state.isMounted||Ot())}}}function St(){l=!0}function Pt(){l=!1}function Ut(){var et=rt();et.addEventListener("mousedown",ot,!0),et.addEventListener("touchend",ot,Ou),et.addEventListener("touchstart",Pt,Ou),et.addEventListener("touchmove",St,Ou)}function Ot(){var et=rt();et.removeEventListener("mousedown",ot,!0),et.removeEventListener("touchend",ot,Ou),et.removeEventListener("touchstart",Pt,Ou),et.removeEventListener("touchmove",St,Ou)}function ue(et,Tt){Ne(et,function(){!b.state.isVisible&&N.parentNode&&N.parentNode.contains(N)&&Tt()})}function ie(et,Tt){Ne(et,Tt)}function Ne(et,Tt){var At=u().box;function Jt(Qt){Qt.target===At&&(r4(At,"remove",Jt),Tt())}if(et===0)return Tt();r4(At,"remove",d),r4(At,"add",Jt),d=Jt}function fe(et,Tt,At){At===void 0&&(At=!1);var Jt=Nu(b.props.triggerTarget||t);Jt.forEach(function(Qt){Qt.addEventListener(et,Tt,At),y.push({node:Qt,eventType:et,handler:Tt,options:At})})}function se(){$()&&(fe("touchstart",W,{passive:!0}),fe("touchend",q,{passive:!0})),jft(b.props.trigger).forEach(function(et){if(et!=="manual")switch(fe(et,W),et){case"mouseenter":fe("mouseleave",q);break;case"focus":fe(Yft?"focusout":"blur",st);break;case"focusin":fe("focusout",st);break}})}function Fe(){y.forEach(function(et){var Tt=et.node,At=et.eventType,Jt=et.handler,Qt=et.options;Tt.removeEventListener(At,Jt,Qt)}),y=[]}function W(et){var Tt,At=!1;if(!(!b.state.isEnabled||nt(et)||a)){var Jt=((Tt=p)==null?void 0:Tt.type)==="focus";p=et,_=et.currentTarget,K(),!b.state.isVisible&&e4(et)&&db.forEach(function(Qt){return Qt(et)}),et.type==="click"&&(b.props.trigger.indexOf("mouseenter")<0||o)&&b.props.hideOnClick!==!1&&b.state.isVisible?At=!0:V(et),et.type==="click"&&(o=!At),At&&!Jt&&X(et)}}function j(et){var Tt=et.target,At=J().contains(Tt)||N.contains(Tt);if(!(et.type==="mousemove"&&At)){var Jt=L().concat(N).map(function(Qt){var Gn,dr=Qt._tippy,$s=(Gn=dr.popperInstance)==null?void 0:Gn.state;return $s?{popperRect:Qt.getBoundingClientRect(),popperState:$s,props:n}:null}).filter(Boolean);Vft(Jt,et)&&(ft(),X(et))}}function q(et){var Tt=nt(et)||b.props.trigger.indexOf("click")>=0&&o;if(!Tt){if(b.props.interactive){b.hideWithInteractivity(et);return}X(et)}}function st(et){b.props.trigger.indexOf("focusin")<0&&et.target!==J()||b.props.interactive&&et.relatedTarget&&N.contains(et.relatedTarget)||X(et)}function nt(et){return Oo.isTouch?$()!==et.type.indexOf("touch")>=0:!1}function O(){G();var et=b.props,Tt=et.popperOptions,At=et.placement,Jt=et.offset,Qt=et.getReferenceClientRect,Gn=et.moveTransition,dr=U()?pb(N).arrow:null,$s=Qt?{getBoundingClientRect:Qt,contextElement:Qt.contextElement||J()}:t,Vs={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(zu){var Ia=zu.state;if(U()){var Kb=u(),yd=Kb.box;["placement","reference-hidden","escaped"].forEach(function(rc){rc==="placement"?yd.setAttribute("data-placement",Ia.placement):Ia.attributes.popper["data-popper-"+rc]?yd.setAttribute("data-"+rc,""):yd.removeAttribute("data-"+rc)}),Ia.attributes.popper={}}}},Lo=[{name:"offset",options:{offset:Jt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Gn}},Vs];U()&&dr&&Lo.push({name:"arrow",options:{element:dr,padding:3}}),Lo.push.apply(Lo,Tt?.modifiers||[]),b.popperInstance=Lft($s,N,Object.assign({},Tt,{placement:At,onFirstUpdate:f,modifiers:Lo}))}function G(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function M(){var et=b.props.appendTo,Tt,At=J();b.props.interactive&&et===W7||et==="parent"?Tt=At.parentNode:Tt=H7(et,[At]),Tt.contains(N)||Tt.appendChild(N),b.state.isMounted=!0,O()}function L(){return ed(N.querySelectorAll("[data-tippy-root]"))}function V(et){b.clearDelayTimeouts(),et&&k("onTrigger",[b,et]),Ut();var Tt=m(!0),At=B(),Jt=At[0],Qt=At[1];Oo.isTouch&&Jt==="hold"&&Qt&&(Tt=Qt),Tt?r=setTimeout(function(){b.show()},Tt):b.show()}function X(et){if(b.clearDelayTimeouts(),k("onUntrigger",[b,et]),!b.state.isVisible){Ot();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(et.type)>=0&&o)){var Tt=m(!1);Tt?i=setTimeout(function(){b.state.isVisible&&b.hide()},Tt):s=requestAnimationFrame(function(){b.hide()})}}function z(){b.state.isEnabled=!0}function Z(){b.hide(),b.state.isEnabled=!1}function ct(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function yt(et){if(!b.state.isDestroyed){k("onBeforeUpdate",[b,et]),Fe();var Tt=b.props,At=nj(t,Object.assign({},Tt,X7(et),{ignoreAttributes:!0}));b.props=At,se(),Tt.interactiveDebounce!==At.interactiveDebounce&&(ft(),g=Y7(j,At.interactiveDebounce)),Tt.triggerTarget&&!At.triggerTarget?Nu(Tt.triggerTarget).forEach(function(Jt){Jt.removeAttribute("aria-expanded")}):At.triggerTarget&&t.removeAttribute("aria-expanded"),K(),E(),R&&R(Tt,At),b.popperInstance&&(O(),L().forEach(function(Jt){requestAnimationFrame(Jt._tippy.popperInstance.forceUpdate)})),k("onAfterUpdate",[b,et])}}function Dt(et){b.setProps({content:et})}function Zt(){var et=b.state.isVisible,Tt=b.state.isDestroyed,At=!b.state.isEnabled,Jt=Oo.isTouch&&!b.props.touch,Qt=QT(b.props.duration,0,Us.duration);if(!(et||Tt||At||Jt)&&!J().hasAttribute("disabled")&&(k("onShow",[b],!1),b.props.onShow(b)!==!1)){if(b.state.isVisible=!0,U()&&(N.style.visibility="visible"),E(),Ut(),b.state.isMounted||(N.style.transition="none"),U()){var Gn=u(),dr=Gn.box,$s=Gn.content;n4([dr,$s],0)}f=function(){var Vs;if(!(!b.state.isVisible||c)){if(c=!0,N.offsetHeight,N.style.transition=b.props.moveTransition,U()&&b.props.animation){var Lo=u(),zu=Lo.box,Ia=Lo.content;n4([zu,Ia],Qt),p0([zu,Ia],"visible")}H(),K(),Z7(s4,b),(Vs=b.popperInstance)==null||Vs.forceUpdate(),k("onMount",[b]),b.props.animation&&U()&&ie(Qt,function(){b.state.isShown=!0,k("onShown",[b])})}},M()}}function Ce(){var et=!b.state.isVisible,Tt=b.state.isDestroyed,At=!b.state.isEnabled,Jt=QT(b.props.duration,1,Us.duration);if(!(et||Tt||At)&&(k("onHide",[b],!1),b.props.onHide(b)!==!1)){if(b.state.isVisible=!1,b.state.isShown=!1,c=!1,o=!1,U()&&(N.style.visibility="hidden"),ft(),Ot(),E(!0),U()){var Qt=u(),Gn=Qt.box,dr=Qt.content;b.props.animation&&(n4([Gn,dr],Jt),p0([Gn,dr],"hidden"))}H(),K(),b.props.animation?U()&&ue(Jt,b.unmount):b.unmount()}}function dn(et){rt().addEventListener("mousemove",g),Z7(db,g),g(et)}function pr(){b.state.isVisible&&b.hide(),b.state.isMounted&&(G(),L().forEach(function(et){et._tippy.unmount()}),N.parentNode&&N.parentNode.removeChild(N),s4=s4.filter(function(et){return et!==b}),b.state.isMounted=!1,k("onHidden",[b]))}function nr(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),Fe(),delete t._tippy,b.state.isDestroyed=!0,k("onDestroy",[b]))}}function Rt(t,e){e===void 0&&(e={});var n=Us.plugins.concat(e.plugins||[]);Wft();var r=Object.assign({},e,{plugins:n}),i=$ft(t),s=i.reduce(function(o,a){var l=a&&emt(a,r);return l&&o.push(l),o},[]);return hb(t)?s[0]:s}Rt.defaultProps=Us,Rt.setDefaultProps=qft,Rt.currentInput=Oo;var nmt=Object.assign({},A7,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),rmt=function(t,e){var n;e===void 0&&(e={});var r=t,i=[],s=[],o,a=e.overrides,l=[],c=!1;function p(){s=r.map(function(x){return Nu(x.props.triggerTarget||x.reference)}).reduce(function(x,b){return x.concat(b)},[])}function d(){i=r.map(function(x){return x.reference})}function f(x){r.forEach(function(b){x?b.enable():b.disable()})}function y(x){return r.map(function(b){var I=b.setProps;return b.setProps=function(N){I(N),b.reference===o&&x.setProps(N)},function(){b.setProps=I}})}function g(x,b){var I=s.indexOf(b);if(b!==o){o=b;var N=(a||[]).concat("content").reduce(function(R,P){return R[P]=r[I].props[P],R},{});x.setProps(Object.assign({},N,{getReferenceClientRect:typeof N.getReferenceClientRect=="function"?N.getReferenceClientRect:function(){var R;return(R=i[I])==null?void 0:R.getBoundingClientRect()}}))}}f(!1),d(),p();var _={fn:function(){return{onDestroy:function(){f(!0)},onHidden:function(){o=null},onClickOutside:function(x){x.props.showOnCreate&&!c&&(c=!0,o=null)},onShow:function(x){x.props.showOnCreate&&!c&&(c=!0,g(x,i[0]))},onTrigger:function(x,b){g(x,b.currentTarget)}}}},w=Rt(Cu(),Object.assign({},Dft(e,["overrides"]),{plugins:[_].concat(e.plugins||[]),triggerTarget:s,popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],[nmt])})})),T=w.show;w.show=function(x){if(T(),!o&&x==null)return g(w,i[0]);if(!(o&&x==null)){if(typeof x=="number")return i[x]&&g(w,i[x]);if(r.indexOf(x)>=0){var b=x.reference;return g(w,b)}if(i.indexOf(x)>=0)return g(w,x)}},w.showNext=function(){var x=i[0];if(!o)return w.show(0);var b=i.indexOf(o);w.show(i[b+1]||x)},w.showPrevious=function(){var x=i[i.length-1];if(!o)return w.show(x);var b=i.indexOf(o),I=i[b-1]||x;w.show(I)};var A=w.setProps;return w.setProps=function(x){a=x.overrides||a,A(x)},w.setInstances=function(x){f(!0),l.forEach(function(b){return b()}),r=x,f(!1),d(),p(),l=y(w),w.setProps({triggerTarget:s})},l=y(w),w},imt={name:"animateFill",defaultValue:!1,fn:function(t){var e;if(!((e=t.props.render)!=null&&e.$$tippy))return{};var n=pb(t.popper),r=n.box,i=n.content,s=t.props.animateFill?smt():null;return{onCreate:function(){s&&(r.insertBefore(s,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",t.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(s){var o=r.style.transitionDuration,a=Number(o.replace("ms",""));i.style.transitionDelay=Math.round(a/10)+"ms",s.style.transitionDuration=o,p0([s],"visible")}},onShow:function(){s&&(s.style.transitionDuration="0ms")},onHide:function(){s&&p0([s],"hidden")}}}};function smt(){var t=Cu();return t.className=V7,p0([t],"hidden"),t}var o4={clientX:0,clientY:0},fb=[];function oj(t){var e=t.clientX,n=t.clientY;o4={clientX:e,clientY:n}}function omt(t){t.addEventListener("mousemove",oj)}function amt(t){t.removeEventListener("mousemove",oj)}var lmt={name:"followCursor",defaultValue:!1,fn:function(t){var e=t.reference,n=q7(t.props.triggerTarget||e),r=!1,i=!1,s=!0,o=t.props;function a(){return t.props.followCursor==="initial"&&t.state.isVisible}function l(){n.addEventListener("mousemove",d)}function c(){n.removeEventListener("mousemove",d)}function p(){r=!0,t.setProps({getReferenceClientRect:null}),r=!1}function d(g){var _=g.target?e.contains(g.target):!0,w=t.props.followCursor,T=g.clientX,A=g.clientY,x=e.getBoundingClientRect(),b=T-x.left,I=A-x.top;(_||!t.props.interactive)&&t.setProps({getReferenceClientRect:function(){var N=e.getBoundingClientRect(),R=T,P=A;w==="initial"&&(R=N.left+b,P=N.top+I);var D=w==="horizontal"?N.top:P,B=w==="vertical"?N.right:R,$=w==="horizontal"?N.bottom:P,U=w==="vertical"?N.left:R;return{width:B-U,height:$-D,top:D,right:B,bottom:$,left:U}}})}function f(){t.props.followCursor&&(fb.push({instance:t,doc:n}),omt(n))}function y(){fb=fb.filter(function(g){return g.instance!==t}),fb.filter(function(g){return g.doc===n}).length===0&&amt(n)}return{onCreate:f,onDestroy:y,onBeforeUpdate:function(){o=t.props},onAfterUpdate:function(g,_){var w=_.followCursor;r||w!==void 0&&o.followCursor!==w&&(y(),w?(f(),t.state.isMounted&&!i&&!a()&&l()):(c(),p()))},onMount:function(){t.props.followCursor&&!i&&(s&&(d(o4),s=!1),a()||l())},onTrigger:function(g,_){e4(_)&&(o4={clientX:_.clientX,clientY:_.clientY}),i=_.type==="focus"},onHidden:function(){t.props.followCursor&&(p(),c(),s=!0)}}}};function cmt(t,e){var n;return{popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((((n=t.popperOptions)==null?void 0:n.modifiers)||[]).filter(function(r){var i=r.name;return i!==e.name}),[e])})}}var umt={name:"inlinePositioning",defaultValue:!1,fn:function(t){var e=t.reference;function n(){return!!t.props.inlinePositioning}var r,i=-1,s=!1,o=[],a={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(d){var f=d.state;n()&&(o.indexOf(f.placement)!==-1&&(o=[]),r!==f.placement&&o.indexOf(f.placement)===-1&&(o.push(f.placement),t.setProps({getReferenceClientRect:function(){return l(f.placement)}})),r=f.placement)}};function l(d){return hmt(J7(d),e.getBoundingClientRect(),ed(e.getClientRects()),i)}function c(d){s=!0,t.setProps(d),s=!1}function p(){s||c(cmt(t.props,a))}return{onCreate:p,onAfterUpdate:p,onTrigger:function(d,f){if(e4(f)){var y=ed(t.reference.getClientRects()),g=y.find(function(w){return w.left-2<=f.clientX&&w.right+2>=f.clientX&&w.top-2<=f.clientY&&w.bottom+2>=f.clientY}),_=y.indexOf(g);i=_>-1?_:i}},onHidden:function(){i=-1}}}};function hmt(t,e,n,r){if(n.length<2||t===null)return e;if(n.length===2&&r>=0&&n[0].left>n[1].right)return n[r]||e;switch(t){case"top":case"bottom":{var i=n[0],s=n[n.length-1],o=t==="top",a=i.top,l=s.bottom,c=o?i.left:s.left,p=o?i.right:s.right,d=p-c,f=l-a;return{top:a,bottom:l,left:c,right:p,width:d,height:f}}case"left":case"right":{var y=Math.min.apply(Math,n.map(function(N){return N.left})),g=Math.max.apply(Math,n.map(function(N){return N.right})),_=n.filter(function(N){return t==="left"?N.left===y:N.right===g}),w=_[0].top,T=_[_.length-1].bottom,A=y,x=g,b=x-A,I=T-w;return{top:w,bottom:T,left:A,right:x,width:b,height:I}}default:return e}}var pmt={name:"sticky",defaultValue:!1,fn:function(t){var e=t.reference,n=t.popper;function r(){return t.popperInstance?t.popperInstance.state.elements.reference:e}function i(l){return t.props.sticky===!0||t.props.sticky===l}var s=null,o=null;function a(){var l=i("reference")?r().getBoundingClientRect():null,c=i("popper")?n.getBoundingClientRect():null;(l&&aj(s,l)||c&&aj(o,c))&&t.popperInstance&&t.popperInstance.update(),s=l,o=c,t.state.isMounted&&requestAnimationFrame(a)}return{onMount:function(){t.props.sticky&&a()}}}};function aj(t,e){return t&&e?t.top!==e.top||t.right!==e.right||t.bottom!==e.bottom||t.left!==e.left:!0}Rt.setDefaultProps({render:sj}),Rt.setDefaultProps({onShow:t=>{if(!t.props.content)return!1}});function a4(t,e={},n={mount:!0,appName:"Tippy"}){n=Object.assign({mount:!0,appName:"Tippy"},n);const r=Nn(),i=tt(),s=tt({isEnabled:!1,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1}),o=wp();let a=null;const l=()=>a||(a=document.createDocumentFragment(),a),c=R=>{let P,D=pe(R)?R.value:R;return Is(D)?(o.value||(o.value=Dl({name:n.appName,setup:()=>()=>pe(R)?R.value:R}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):typeof D=="object"?(o.value||(o.value=Dl({name:n.appName,setup:()=>()=>_i(pe(R)?R.value:R)}),r&&Object.assign(o.value._context,r.appContext),o.value.mount(l())),P=()=>l()):P=D,P},p=R=>{let P={};return pe(R)?P=R.value||{}:vi(R)?P={...R}:P={...R},P.content&&(P.content=c(P.content)),P.triggerTarget&&(P.triggerTarget=pe(P.triggerTarget)?P.triggerTarget.value:P.triggerTarget),(!P.plugins||!Array.isArray(P.plugins))&&(P.plugins=[]),P.plugins=P.plugins.filter(D=>D.name!=="vueTippyReactiveState"),P.plugins.push({name:"vueTippyReactiveState",fn:()=>({onCreate(){s.value.isEnabled=!0},onMount(){s.value.isMounted=!0},onShow(){s.value.isMounted=!0,s.value.isVisible=!0},onShown(){s.value.isShown=!0},onHide(){s.value.isMounted=!1,s.value.isVisible=!1},onHidden(){s.value.isShown=!1},onUnmounted(){s.value.isMounted=!1},onDestroy(){s.value.isDestroyed=!0}})}),P},d=()=>{i.value&&i.value.setProps(p(e))},f=()=>{!i.value||!e.content||i.value.setContent(c(e.content))},y=R=>{var P;(P=i.value)===null||P===void 0||P.setContent(c(R))},g=R=>{var P;(P=i.value)===null||P===void 0||P.setProps(p(R))},_=()=>{var R;i.value&&(i.value.destroy(),i.value=void 0),a=null,(R=o.value)===null||R===void 0||R.unmount(),o.value=void 0},w=()=>{var R;(R=i.value)===null||R===void 0||R.show()},T=()=>{var R;(R=i.value)===null||R===void 0||R.hide()},A=()=>{var R;(R=i.value)===null||R===void 0||R.disable(),s.value.isEnabled=!1},x=()=>{var R;(R=i.value)===null||R===void 0||R.enable(),s.value.isEnabled=!0},b=()=>{var R;(R=i.value)===null||R===void 0||R.unmount()},I=()=>{if(!t)return;let R=pe(t)?t.value:t;typeof R=="function"&&(R=R()),R&&(i.value=Rt(R,p(e)),R.$tippy=N)},N={tippy:i,refresh:d,refreshContent:f,setContent:y,setProps:g,destroy:_,hide:T,show:w,disable:A,enable:x,unmount:b,mount:I,state:s};return n.mount&&(r?r.isMounted?I():Kn(I):I()),r&&uu(()=>{_()}),pe(e)||vi(e)?Yn(e,d,{immediate:!1}):pe(e.content)&&Yn(e.content,f,{immediate:!1}),N}function dmt(t,e){const n=tt();return Kn(()=>{const r=(Array.isArray(t)?t.map(i=>i.value):typeof t=="function"?t():t.value).map(i=>i instanceof Element?i._tippy:i).filter(Boolean);n.value=rmt(r,e?{allowHTML:!0,...e}:{allowHTML:!0})}),{singleton:n}}function fmt(t){return typeof t=="function"?t():It(t)}function mmt(t){var e,n;const r=fmt(t);return(n=(e=r)===null||e===void 0?void 0:e.$el)!==null&&n!==void 0?n:r}const ymt=re({props:{to:{type:[String,Function]},tag:{type:[String,Object],default:"span"},contentTag:{type:[String,Object],default:"span"},contentClass:{type:String,default:null},appendTo:{default:()=>Rt.defaultProps.appendTo},aria:{default:()=>Rt.defaultProps.aria},delay:{default:()=>Rt.defaultProps.delay},duration:{default:()=>Rt.defaultProps.duration},getReferenceClientRect:{default:()=>Rt.defaultProps.getReferenceClientRect},hideOnClick:{type:[Boolean,String],default:()=>Rt.defaultProps.hideOnClick},ignoreAttributes:{type:Boolean,default:()=>Rt.defaultProps.ignoreAttributes},interactive:{type:Boolean,default:()=>Rt.defaultProps.interactive},interactiveBorder:{default:()=>Rt.defaultProps.interactiveBorder},interactiveDebounce:{default:()=>Rt.defaultProps.interactiveDebounce},moveTransition:{default:()=>Rt.defaultProps.moveTransition},offset:{default:()=>Rt.defaultProps.offset},onAfterUpdate:{default:()=>Rt.defaultProps.onAfterUpdate},onBeforeUpdate:{default:()=>Rt.defaultProps.onBeforeUpdate},onCreate:{default:()=>Rt.defaultProps.onCreate},onDestroy:{default:()=>Rt.defaultProps.onDestroy},onHidden:{default:()=>Rt.defaultProps.onHidden},onHide:{default:()=>Rt.defaultProps.onHide},onMount:{default:()=>Rt.defaultProps.onMount},onShow:{default:()=>Rt.defaultProps.onShow},onShown:{default:()=>Rt.defaultProps.onShown},onTrigger:{default:()=>Rt.defaultProps.onTrigger},onUntrigger:{default:()=>Rt.defaultProps.onUntrigger},onClickOutside:{default:()=>Rt.defaultProps.onClickOutside},placement:{default:()=>Rt.defaultProps.placement},plugins:{default:()=>Rt.defaultProps.plugins},popperOptions:{default:()=>Rt.defaultProps.popperOptions},render:{default:()=>Rt.defaultProps.render},showOnCreate:{type:Boolean,default:()=>Rt.defaultProps.showOnCreate},touch:{type:[Boolean,String,Array],default:()=>Rt.defaultProps.touch},trigger:{default:()=>Rt.defaultProps.trigger},triggerTarget:{default:()=>Rt.defaultProps.triggerTarget},animateFill:{type:Boolean,default:()=>Rt.defaultProps.animateFill},followCursor:{type:[Boolean,String],default:()=>Rt.defaultProps.followCursor},inlinePositioning:{type:Boolean,default:()=>Rt.defaultProps.inlinePositioning},sticky:{type:[Boolean,String],default:()=>Rt.defaultProps.sticky},allowHTML:{type:Boolean,default:()=>Rt.defaultProps.allowHTML},animation:{default:()=>Rt.defaultProps.animation},arrow:{default:()=>Rt.defaultProps.arrow},content:{default:()=>Rt.defaultProps.content},inertia:{default:()=>Rt.defaultProps.inertia},maxWidth:{default:()=>Rt.defaultProps.maxWidth},role:{default:()=>Rt.defaultProps.role},theme:{default:()=>Rt.defaultProps.theme},zIndex:{default:()=>Rt.defaultProps.zIndex}},emits:["state"],setup(t,{slots:e,emit:n,expose:r}){const i=tt(),s=tt(),o=tt(),a=tt(!1),l=()=>{let y={...t};for(const g of["to","tag","contentTag","contentClass"])y.hasOwnProperty(g)&&delete y[g];return y};let c=()=>mmt(i);t.to&&(typeof Element<"u"&&t.to instanceof Element?c=()=>t.to:t.to==="parent"?c=()=>{let y=i.value;return y||(y=i.value=s.value.parentElement),y}:(typeof t.to=="string"||t.to instanceof String)&&(c=()=>document.querySelector(t.to)));const p=a4(c,l());let d=e.content;!d&&t.to==="parent"&&(d=e.default),Kn(()=>{a.value=!0,Wi(()=>{d&&p.setContent(()=>o.value)})}),Yn(p.state,()=>{n("state",It(p.state))},{immediate:!0,deep:!0}),Yn(()=>t,()=>{p.setProps(l()),d&&p.setContent(()=>o.value)},{deep:!0});let f=jn({elem:i,contentElem:o,mounted:a,...p});return r(f),()=>{const y=(t.contentTag,t.contentTag),g=d?_i(y,{ref:o,style:{display:a.value?"inherit":"none"},class:t.contentClass},d(f)):null;if(t.to==="parent"){const T=[];if(!i.value){const A=_i("span",{ref:s,"data-v-tippy":"",style:{display:"none"}});T.push(A)}return g&&T.push(g),T}const _=e.default?e.default(f):[];if(!t.tag){const T=_i(_[0],{ref:i,"data-v-tippy":""});return g?[T,g]:T}const w=(t.tag,t.tag);return _i(w,{ref:i,"data-v-tippy":""},g?[_,g]:_)}}}),gmt=["a11y","allowHTML","arrow","flip","flipOnUpdate","hideOnClick","ignoreAttributes","inertia","interactive","lazy","multiple","showOnInit","touch","touchHold"];let l4={};Object.keys(Rt.defaultProps).forEach(t=>{gmt.includes(t)?l4[t]={type:Boolean,default:function(){return Rt.defaultProps[t]}}:l4[t]={default:function(){return Rt.defaultProps[t]}}});const vmt=re({props:l4,setup(t){const e=tt([]),{singleton:n}=dmt(e,t);return{instances:e,singleton:n}},mounted(){var t;const e=this.$el.parentElement.querySelectorAll("[data-v-tippy]");this.instances=Array.from(e).map(n=>n._tippy).filter(Boolean),(t=this.singleton)===null||t===void 0||t.setInstances(this.instances)},render(){let t=this.$slots.default?this.$slots.default():[];return _i(()=>t)}}),bmt={mounted(t,e,n){const r=typeof e.value=="string"?{content:e.value}:e.value||{},i=Object.keys(e.modifiers||{}),s=i.find(a=>a!=="arrow"),o=i.findIndex(a=>a==="arrow")!==-1;s&&(r.placement=r.placement||s),o&&(r.arrow=r.arrow!==void 0?r.arrow:!0),n.props&&n.props.onTippyShow&&(r.onShow=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShow(...a)}),n.props&&n.props.onTippyShown&&(r.onShown=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyShown(...a)}),n.props&&n.props.onTippyHidden&&(r.onHidden=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHidden(...a)}),n.props&&n.props.onTippyHide&&(r.onHide=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyHide(...a)}),n.props&&n.props.onTippyMount&&(r.onMount=function(...a){var l;return(l=n.props)===null||l===void 0?void 0:l.onTippyMount(...a)}),t.getAttribute("title")&&!r.content&&(r.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!r.content&&(r.content=t.getAttribute("content")),a4(t,r)},unmounted(t){t.$tippy?t.$tippy.destroy():t._tippy&&t._tippy.destroy()},updated(t,e){const n=typeof e.value=="string"?{content:e.value}:e.value||{};t.getAttribute("title")&&!n.content&&(n.content=t.getAttribute("title"),t.removeAttribute("title")),t.getAttribute("content")&&!n.content&&(n.content=t.getAttribute("content")),t.$tippy?t.$tippy.setProps(n||{}):t._tippy&&t._tippy.setProps(n||{})}},_mt={install(t,e={}){Rt.setDefaultProps(e.defaultProps||{}),t.directive(e.directive||"tippy",bmt),t.component(e.component||"tippy",ymt),t.component(e.componentSingleton||"tippy-singleton",vmt)}},lj=Rt.setDefaultProps;lj({ignoreAttributes:!0,plugins:[pmt,umt,lmt,imt]});const wmt=re({name:"App",components:{Shell:Odt},setup(){const t=Nn();Kn(()=>{new KD().observe(t?.proxy?.$refs["app-size"]),lj({aria:{content:"labelledby"},theme:"ramp4",animation:"scale",inertia:!0,trigger:"mouseenter manual focus",touch:["hold",200],delay:[300,0],appendTo:()=>document.fullscreenElement||document.body})})}}),xmt=["lang"],Emt={class:"h-full",ref:"app-size"};function Smt(t,e,n,r,i,s){const o=xn("shell");return pt(),wt("div",{class:"ramp-app ramp-styles animation-enabled",lang:t.$i18n.locale},[lt("div",Emt,[qt(o)],512)],8,xmt)}const Tmt=Eo(wmt,[["render",Smt]]),No="focus-list",Ru="focus-item",Amt="focus-icon",Imt="focus-container",nd=`[${No}],[${Imt}]`,mb="truncate-text",yb="show-truncate",rd="focused",c4=`button,input,select,a,textarea,[contenteditable],[${No}],[${Amt}],[tabIndex]`,Mmt={mounted(t,e){+t.getAttribute("tabindex")<=0&&t.setAttribute("tabindex","0"),t.toggleAttribute(No,!0),new Omt(t,e.value)},updated(t){cj(t)}};function cj(t){t.querySelectorAll(c4).forEach(e=>{if(e.closest(nd)===t||e.closest(nd)===e&&e.parentElement.closest(nd)===t)if(e.closest(`[${No}],.${rd}`).classList.contains(rd))e.setAttribute("tabindex","0");else{e.setAttribute("tabindex","-1");return}})}class Omt{element;highlightedItem;isHorizontal;isClicked;isTapped;constructor(e,n){this.element=e,this.highlightedItem=this.element,this.isHorizontal=n==="horizontal",this.isClicked=!1,this.isTapped=!1,this.setTabIndex(-1),this.element.setAttribute("role","group");const r=this;e.addEventListener("keydown",function(i){r.onKeydown(i)}),e.addEventListener("focus",function(){r.onFocus()}),e.addEventListener("blur",function(){r.onBlur()}),e.addEventListener("mousedown",function(){r.onMousedown()}),e.addEventListener("touchstart",function(){r.onTouchstart()}),document.addEventListener("click",function(i){e.contains(i.target)?r.onClick(i):r.defocusItem(r.highlightedItem)})}setTabIndex(e,n=this.element){n.querySelectorAll(c4).forEach(r=>{(e===-1||r.closest(nd)===this.element||r.closest(nd)===r&&r.parentElement.closest(nd)===this.element||r.closest(`[${No}],.${rd}`).classList.contains(rd))&&r.setAttribute("tabindex",e.toString())})}defocusItem(e){e.classList.remove(rd),this.setTabIndex(-1,e),e._tippy&&e._tippy.hide(),e.getAttribute(Ru)===yb&&e.querySelector(`[${mb}]`)?._tippy?.hide()}focusItem(e){e.classList.add(rd),this.setAriaActiveDescendant(e),this.setTabIndex(0,e),e.scrollIntoView({block:"nearest"}),e._tippy&&!this.isTapped&&e._tippy.show(),e.getAttribute(Ru)===yb&&e.querySelector(`[${mb}]`)?._tippy?.show(),this.isTapped=!1}setAriaActiveDescendant(e){this.element.setAttribute("aria-activedescendant",e.getAttribute("id"))}shiftHighlight(e,n=!1){if(this.defocusItem(this.highlightedItem),n)if(this.highlightedItem===this.element)this.highlightedItem=e[e.length-1];else{const r=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[r-1]||e[e.length-1]}else if(this.highlightedItem===this.element)this.highlightedItem=e[0];else{const r=Array.prototype.indexOf.call(e,this.highlightedItem);this.highlightedItem=e[r+1]||e[0]}this.element.focus(),this.focusItem(this.highlightedItem)}onKeydown(e){const n=this,r=Array.prototype.filter.call(this.element.querySelectorAll(`[${Ru}]`),i=>i.closest(`[${No}]`)===n.element&&!!i.offsetParent);if(r.length!==0)switch(e.key){case"Up":case"ArrowUp":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(r,!0);break;case"Down":case"ArrowDown":if(this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(r);break;case"Left":case"ArrowLeft":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(r,!0);break;case"Right":case"ArrowRight":if(!this.isHorizontal)break;e.preventDefault(),e.stopPropagation(),this.shiftHighlight(r);break;case"Esc":case"Escape":this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus());break;case"Enter":case" ":e.target===this.element&&this.highlightedItem!==this.element&&(e.preventDefault(),e.stopPropagation(),this.highlightedItem.click());break;case"Tab":this.highlightedItem!==this.element&&(this.highlightedItem.querySelectorAll(c4).length===0&&this.defocusItem(this.highlightedItem),e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.defocusItem(this.highlightedItem),this.highlightedItem=this.element,this.element.removeAttribute("aria-activedescendant"),this.element.focus()))}}onClick(e){this.defocusItem(this.highlightedItem);let n=e.target;if(!n.hasAttribute(No))for(;n.parentElement.closest(`[${No}]`)!==this.element;)n=n.parentElement.closest(`[${No}]`);this.highlightedItem=n.closest(`[${Ru}]`)||n.closest(`[${No}]`)||this.highlightedItem,n.hasAttribute(`${Ru}`)&&this.element.focus(),this.highlightedItem!==this.element?this.focusItem(this.highlightedItem):this.element.removeAttribute("aria-activedescendant")}onFocus(){this.highlightedItem&&!this.isClicked&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.show(),this.highlightedItem.getAttribute(Ru)===yb&&this.highlightedItem.querySelector(`[${mb}]`)?._tippy?.show()),this.isClicked=!1,this.element.hasAttribute("aria-activedescendant")||this.highlightedItem===this.element?this.highlightedItem!==this.element&&this.focusItem(this.highlightedItem):this.setAriaActiveDescendant(this.highlightedItem),cj(this.element),this.highlightedItem&&this.highlightedItem!==this.element&&this.highlightedItem.setAttribute("tabindex","-1")}onBlur(){this.highlightedItem&&(this.highlightedItem._tippy&&this.highlightedItem._tippy.hide(),this.highlightedItem.getAttribute(Ru)===yb&&this.highlightedItem.querySelector(`[${mb}]`)?._tippy?.hide())}onMousedown(){this.isClicked=!0}onTouchstart(){this.isTapped=!0}}const uj="focus-item",Nmt={beforeMount(t,e){t.hasAttribute("id")||t.setAttribute("id",Cmt()),e.value?t.setAttribute(uj,e.value):t.toggleAttribute(uj,!0)}};function Cmt(){let t;do t="focus-item-"+Math.random().toString(36).substring(2,9);while(document.getElementById(t)!==null);return t}const u4="focus-container",hj="focus-list",Rmt="focus-icon",h4=`[${hj}],[${u4}]`,pj=`button,input,select,a,textarea,[contenteditable],.ag-tab-guard,[${hj}],[${u4}],[${Rmt}],[tabIndex]`;let p4=[];const kmt={mounted(t){[...document.querySelectorAll(".inner-shell")].some(e=>e.contains(t))&&p4.push(new Lmt(t))},beforeUnmount(t){p4=p4.filter(e=>e.element===t?(e.removeEventListeners(),!1):!0)}};class Lmt{element;constructor(e){this.element=e,this.element.toggleAttribute(u4,!0),this.element.tabIndex=0,setTimeout(()=>this.disableTabbing(),600);const n=this;this.element.addEventListener("keypress",function(r){n.onKeypress(r)}),this.element.addEventListener("click",function(){n.onClick()}),this.element.addEventListener("focusout",function(r){n.onFocusOut(r)}),this.element.addEventListener("focus",function(){n.onFocus()})}removeEventListeners(){const e=this;this.element.removeEventListener("keypress",function(n){e.onKeypress(n)}),this.element.removeEventListener("click",function(){e.onClick()}),this.element.removeEventListener("focusout",function(n){e.onFocusOut(n)}),this.element.removeEventListener("focus",function(){e.onFocus()})}onKeypress(e){e.target===this.element&&(e.key==="Enter"||e.key===" ")&&this.enableTabbing().focus()}onClick(){this.enableTabbing()}onFocusOut(e){this.element.contains(e.relatedTarget)||this.disableTabbing()}onFocus(){this.disableTabbing()}disableTabbing(){Array.prototype.filter.call(this.element.querySelectorAll(pj),()=>!0).forEach(e=>{e.tabIndex=-1})}enableTabbing(){let e;return Array.prototype.map.call(this.element.querySelectorAll(pj),n=>{(n.closest(h4)===this.element||n.closest(h4)===n&&n.parentElement.closest(h4)===this.element)&&n.offsetParent&&(n.tabIndex=0,e===void 0&&(e=n))}),e}}const Pmt="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",Dmt="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u0924_\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC_\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",id=(t,e)=>{for(const n in e)t[n]=e[n];return t},d4="numeric",f4="ascii",m4="alpha",gb="asciinumeric",vb="alphanumeric",y4="domain",dj="emoji",jmt="scheme",Fmt="slashscheme",fj="whitespace";function Umt(t,e){return t in e||(e[t]=[]),e[t]}function ku(t,e,n){e[d4]&&(e[gb]=!0,e[vb]=!0),e[f4]&&(e[gb]=!0,e[m4]=!0),e[gb]&&(e[vb]=!0),e[m4]&&(e[vb]=!0),e[vb]&&(e[y4]=!0),e[dj]&&(e[y4]=!0);for(const r in e){const i=Umt(r,n);i.indexOf(t)<0&&i.push(t)}}function Gmt(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Ti(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Ti.groups={},Ti.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Ti.groups;let i;return e&&e.j?i=e:(i=new Ti(e),n&&r&&ku(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ti.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new Ti,id(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Ti,s){if(r)if(o.t&&typeof o.t=="string"){const l=id(Gmt(o.t,r),n);ku(s,l,r)}else n&&ku(s,n,r);o.t=s}return i.j[t]=o,o}};const kt=(t,e,n,r,i)=>t.ta(e,n,r,i),os=(t,e,n,r,i)=>t.tr(e,n,r,i),mj=(t,e,n,r,i)=>t.ts(e,n,r,i),mt=(t,e,n,r,i)=>t.tt(e,n,r,i),_a="WORD",g4="UWORD",d0="LOCALHOST",v4="TLD",b4="UTLD",bb="SCHEME",sd="SLASH_SCHEME",_b="NUM",yj="WS",_4="NL",od="OPENBRACE",f0="OPENBRACKET",m0="OPENANGLEBRACKET",y0="OPENPAREN",Lu="CLOSEBRACE",ad="CLOSEBRACKET",ld="CLOSEANGLEBRACKET",Pu="CLOSEPAREN",wb="AMPERSAND",xb="APOSTROPHE",Eb="ASTERISK",ql="AT",Sb="BACKSLASH",Tb="BACKTICK",Ab="CARET",Kl="COLON",w4="COMMA",Ib="DOLLAR",Co="DOT",Mb="EQUALS",x4="EXCLAMATION",Ro="HYPHEN",Ob="PERCENT",Nb="PIPE",Cb="PLUS",Rb="POUND",kb="QUERY",E4="QUOTE",S4="SEMI",wa="SLASH",g0="TILDE",Lb="UNDERSCORE",gj="EMOJI",Pb="SYM";var vj=Object.freeze({__proto__:null,WORD:_a,UWORD:g4,LOCALHOST:d0,TLD:v4,UTLD:b4,SCHEME:bb,SLASH_SCHEME:sd,NUM:_b,WS:yj,NL:_4,OPENBRACE:od,OPENBRACKET:f0,OPENANGLEBRACKET:m0,OPENPAREN:y0,CLOSEBRACE:Lu,CLOSEBRACKET:ad,CLOSEANGLEBRACKET:ld,CLOSEPAREN:Pu,AMPERSAND:wb,APOSTROPHE:xb,ASTERISK:Eb,AT:ql,BACKSLASH:Sb,BACKTICK:Tb,CARET:Ab,COLON:Kl,COMMA:w4,DOLLAR:Ib,DOT:Co,EQUALS:Mb,EXCLAMATION:x4,HYPHEN:Ro,PERCENT:Ob,PIPE:Nb,PLUS:Cb,POUND:Rb,QUERY:kb,QUOTE:E4,SEMI:S4,SLASH:wa,TILDE:g0,UNDERSCORE:Lb,EMOJI:gj,SYM:Pb});const cd=/[a-z]/,T4=/\p{L}/u,A4=/\p{Emoji}/u,I4=/\d/,bj=/\s/,_j=`
`,$mt="\uFE0F",Vmt="\u200D";let Db=null,jb=null;function Bmt(t){t===void 0&&(t=[]);const e={};Ti.groups=e;const n=new Ti;Db==null&&(Db=wj(Pmt)),jb==null&&(jb=wj(Dmt)),mt(n,"'",xb),mt(n,"{",od),mt(n,"[",f0),mt(n,"<",m0),mt(n,"(",y0),mt(n,"}",Lu),mt(n,"]",ad),mt(n,">",ld),mt(n,")",Pu),mt(n,"&",wb),mt(n,"*",Eb),mt(n,"@",ql),mt(n,"`",Tb),mt(n,"^",Ab),mt(n,":",Kl),mt(n,",",w4),mt(n,"$",Ib),mt(n,".",Co),mt(n,"=",Mb),mt(n,"!",x4),mt(n,"-",Ro),mt(n,"%",Ob),mt(n,"|",Nb),mt(n,"+",Cb),mt(n,"#",Rb),mt(n,"?",kb),mt(n,'"',E4),mt(n,"/",wa),mt(n,";",S4),mt(n,"~",g0),mt(n,"_",Lb),mt(n,"\\",Sb);const r=os(n,I4,_b,{[d4]:!0});os(r,I4,r);const i=os(n,cd,_a,{[f4]:!0});os(i,cd,i);const s=os(n,T4,g4,{[m4]:!0});os(s,cd),os(s,T4,s);const o=os(n,bj,yj,{[fj]:!0});mt(n,_j,_4,{[fj]:!0}),mt(o,_j),os(o,bj,o);const a=os(n,A4,gj,{[dj]:!0});os(a,A4,a),mt(a,$mt,a);const l=mt(a,Vmt);os(l,A4,a);const c=[[cd,i]],p=[[cd,null],[T4,s]];for(let d=0;d<Db.length;d++)Ql(n,Db[d],v4,_a,c);for(let d=0;d<jb.length;d++)Ql(n,jb[d],b4,g4,p);ku(v4,{tld:!0,ascii:!0},e),ku(b4,{utld:!0,alpha:!0},e),Ql(n,"file",bb,_a,c),Ql(n,"mailto",bb,_a,c),Ql(n,"http",sd,_a,c),Ql(n,"https",sd,_a,c),Ql(n,"ftp",sd,_a,c),Ql(n,"ftps",sd,_a,c),ku(bb,{scheme:!0,ascii:!0},e),ku(sd,{slashscheme:!0,ascii:!0},e),t=t.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<t.length;d++){const f=t[d][0],y=t[d][1]?{[jmt]:!0}:{[Fmt]:!0};f.indexOf("-")>=0?y[y4]=!0:cd.test(f)?I4.test(f)?y[gb]=!0:y[f4]=!0:y[d4]=!0,mj(n,f,f,y)}return mj(n,"localhost",d0,{ascii:!0}),n.jd=new Ti(Pb),{start:n,tokens:id({groups:e},vj)}}function zmt(t,e){const n=Wmt(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,p=null,d=-1,f=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,f=0,p=a):d>=0&&(d+=n[o].length,f++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=f,c-=d,i.push({t:p.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function Wmt(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Ql(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Ti(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new Ti(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function wj(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));let o=parseInt(t.substring(r,r+s),10);for(;o>0;o--)n.pop();r+=s}else t[r]==="_"?(e.push(n.join("")),r++):(n.push(t[r]),r++)}return e}const v0={defaultProtocol:"http",events:null,format:xj,formatHref:xj,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function M4(t,e){e===void 0&&(e=null);let n=id({},v0);t&&(n=id(n,t instanceof M4?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}M4.prototype={o:v0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:v0[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function xj(t){return t}function Ej(t,e){this.t="token",this.v=t,this.tk=e}Ej.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"\u2026":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=v0.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toFormattedHref(t),r=t.get("tagName",n,e),i=this.toFormattedString(t),s={},o=t.get("className",n,e),a=t.get("target",n,e),l=t.get("rel",n,e),c=t.getObj("attributes",n,e),p=t.getObj("events",n,e);return s.href=n,o&&(s.class=o),a&&(s.target=a),l&&(s.rel=l),c&&id(s,c),{tagName:r,attributes:s,content:i,eventListeners:p}}};function Fb(t,e){class n extends Ej{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Sj=Fb("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Tj=Fb("text"),Hmt=Fb("nl"),Du=Fb("url",{isLink:!0,toHref(t){return t===void 0&&(t=v0.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==d0&&t[1].t===Kl}}),er=t=>new Ti(t);function Ymt(t){let{groups:e}=t;const n=e.domain.concat([wb,Eb,ql,Sb,Tb,Ab,Ib,Mb,Ro,_b,Ob,Nb,Cb,Rb,wa,Pb,g0,Lb]),r=[xb,ld,Lu,ad,Pu,Kl,w4,Co,x4,m0,od,f0,y0,kb,E4,S4],i=[wb,xb,Eb,Sb,Tb,Ab,Lu,Ib,Mb,Ro,_b,od,Ob,Nb,Cb,Rb,kb,wa,Pb,g0,Lb],s=er(),o=mt(s,g0);kt(o,i,o),kt(o,e.domain,o);const a=er(),l=er(),c=er();kt(s,e.domain,a),kt(s,e.scheme,l),kt(s,e.slashscheme,c),kt(a,i,o),kt(a,e.domain,a);const p=mt(a,ql);mt(o,ql,p),mt(l,ql,p),mt(c,ql,p);const d=mt(o,Co);kt(d,i,o),kt(d,e.domain,o);const f=er();kt(p,e.domain,f),kt(f,e.domain,f);const y=mt(f,Co);kt(y,e.domain,f);const g=er(Sj);kt(y,e.tld,g),kt(y,e.utld,g),mt(p,d0,g);const _=mt(f,Ro);kt(_,e.domain,f),kt(g,e.domain,f),mt(g,Co,y),mt(g,Ro,_);const w=mt(g,Kl);kt(w,e.numeric,Sj);const T=mt(a,Ro),A=mt(a,Co);kt(T,e.domain,a),kt(A,i,o),kt(A,e.domain,a);const x=er(Du);kt(A,e.tld,x),kt(A,e.utld,x),kt(x,e.domain,a),kt(x,i,o),mt(x,Co,A),mt(x,Ro,T),mt(x,ql,p);const b=mt(x,Kl),I=er(Du);kt(b,e.numeric,I);const N=er(Du),R=er();kt(N,n,N),kt(N,r,R),kt(R,n,N),kt(R,r,R),mt(x,wa,N),mt(I,wa,N);const P=mt(l,Kl),D=mt(c,Kl),B=mt(D,wa);mt(B,wa,P),kt(l,e.domain,a),mt(l,Co,A),mt(l,Ro,T),kt(c,e.domain,a),mt(c,Co,A),mt(c,Ro,T),kt(P,e.domain,N),mt(P,wa,N);const $=mt(N,od),U=mt(N,f0),J=mt(N,m0),rt=mt(N,y0);mt(R,od,$),mt(R,f0,U),mt(R,m0,J),mt(R,y0,rt),mt($,Lu,N),mt(U,ad,N),mt(J,ld,N),mt(rt,Pu,N),mt($,Lu,N);const u=er(Du),m=er(Du),E=er(Du),k=er(Du);kt($,n,u),kt(U,n,m),kt(J,n,E),kt(rt,n,k);const H=er(),K=er(),ft=er(),ot=er();return kt($,r),kt(U,r),kt(J,r),kt(rt,r),kt(u,n,u),kt(m,n,m),kt(E,n,E),kt(k,n,k),kt(u,r,u),kt(m,r,m),kt(E,r,E),kt(k,r,k),kt(H,n,H),kt(K,n,m),kt(ft,n,E),kt(ot,n,k),kt(H,r,H),kt(K,r,K),kt(ft,r,ft),kt(ot,r,ot),mt(m,ad,N),mt(E,ld,N),mt(k,Pu,N),mt(u,Lu,N),mt(K,ad,N),mt(ft,ld,N),mt(ot,Pu,N),mt(H,Pu,N),mt(s,d0,x),mt(s,_4,Hmt),{start:s,tokens:vj}}function Zmt(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,p=0,d=null,f=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(f=0,d=a):f>=0&&f++,i++,p++;if(f<0)i-=p,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(O4(Tj,e,o)),o=[]),i-=f,p-=f;const y=d.t,g=n.slice(i-p,i);s.push(O4(y,e,g))}}return o.length>0&&s.push(O4(Tj,e,o)),s}function O4(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const Fr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Jmt(){Fr.scanner=Bmt(Fr.customSchemes);for(let t=0;t<Fr.tokenQueue.length;t++)Fr.tokenQueue[t][1]({scanner:Fr.scanner});Fr.parser=Ymt(Fr.scanner.tokens);for(let t=0;t<Fr.pluginQueue.length;t++)Fr.pluginQueue[t][1]({scanner:Fr.scanner,parser:Fr.parser});Fr.initialized=!0}function Xmt(t){return Fr.initialized||Jmt(),Zmt(Fr.parser.start,t,zmt(Fr.scanner.start,t))}var qmt={amp:"&",gt:">",lt:"<",nbsp:"\xA0",quot:'"'},Kmt=/^#[xX]([A-Fa-f0-9]+)$/,Qmt=/^#([0-9]+)$/,t0t=/^([A-Za-z0-9]+)$/,e0t=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(Kmt);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(Qmt),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(t0t),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),n0t=/[\t\n\f ]/,r0t=/[A-Za-z]/,i0t=/\r\n?/g;function Ar(t){return n0t.test(t)}function Aj(t){return r0t.test(t)}function s0t(t){return t.replace(i0t,`
`)}var o0t=function(){function t(e,n,r){r===void 0&&(r="precompile"),this.delegate=e,this.entityParser=n,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var i=this.peek();if(i==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&i===`
`){var s=this.tagNameBuffer.toLowerCase();(s==="pre"||s==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var i=this.peek(),s=this.tagNameBuffer;i==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):i==="&"&&s!=="script"&&s!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(i))},tagOpen:function(){var i=this.consume();i==="!"?this.transitionTo("markupDeclarationOpen"):i==="/"?this.transitionTo("endTagOpen"):(i==="@"||i===":"||Aj(i))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(i))},markupDeclarationOpen:function(){var i=this.consume();if(i==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var s=i.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();s==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var i=this.consume();Ar(i)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var i=this.consume();Ar(i)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase()))},doctypeName:function(){var i=this.consume();Ar(i)?this.transitionTo("afterDoctypeName"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(i.toLowerCase())},afterDoctypeName:function(){var i=this.consume();if(!Ar(i))if(i===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var s=i.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=s.toUpperCase()==="PUBLIC",a=s.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var i=this.peek();Ar(i)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):i==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):i==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):i===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},doctypePublicIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypePublicIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(i)},afterDoctypePublicIdentifier:function(){var i=this.consume();Ar(i)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var i=this.consume();Ar(i)||(i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):i==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):i==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var i=this.consume();i==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},doctypeSystemIdentifierSingleQuoted:function(){var i=this.consume();i==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):i===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(i)},afterDoctypeSystemIdentifier:function(){var i=this.consume();Ar(i)||i===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var i=this.consume();i==="-"?this.transitionTo("commentStartDash"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(i),this.transitionTo("comment"))},commentStartDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var i=this.consume();i==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(i)},commentEndDash:function(){var i=this.consume();i==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+i),this.transitionTo("comment"))},commentEnd:function(){var i=this.consume();i===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+i),this.transitionTo("comment"))},tagName:function(){var i=this.consume();Ar(i)?this.transitionTo("beforeAttributeName"):i==="/"?this.transitionTo("selfClosingStartTag"):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(i)},endTagName:function(){var i=this.consume();Ar(i)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):i==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):i===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(i)},beforeAttributeName:function(){var i=this.peek();if(Ar(i)){this.consume();return}else i==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var i=this.peek();Ar(i)?(this.transitionTo("afterAttributeName"),this.consume()):i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):i==='"'||i==="'"||i==="<"?(this.delegate.reportSyntaxError(i+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(i)):(this.consume(),this.delegate.appendToAttributeName(i))},afterAttributeName:function(){var i=this.peek();if(Ar(i)){this.consume();return}else i==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(i))},beforeAttributeValue:function(){var i=this.peek();Ar(i)?this.consume():i==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):i===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(i))},attributeValueDoubleQuoted:function(){var i=this.consume();i==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueSingleQuoted:function(){var i=this.consume();i==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):i==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(i)},attributeValueUnquoted:function(){var i=this.peek();Ar(i)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):i==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):i===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(i))},afterAttributeValueQuoted:function(){var i=this.peek();Ar(i)?(this.consume(),this.transitionTo("beforeAttributeName")):i==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):i===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var i=this.peek();i===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var i=this.consume();(i==="@"||i===":"||Aj(i))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(i))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=s0t(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),r=this.entityParser.parse(n);if(r){for(var i=n.length;i;)this.consume(),i--;return this.consume(),r}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),a0t=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new o0t(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function l0t(t,e){var n=new a0t(new e0t(qmt),e);return n.tokenize(t)}const Ij="LinkifyResult",Ub="StartTag",Mj="EndTag",N4="Chars",c0t="Comment",u0t="Doctype";function Oj(t,e){e===void 0&&(e={});const n=l0t(t),r=[],i=[],s=new M4(e,d0t);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===Ub){r.push(a);const l=a.tagName.toUpperCase();if(!(l==="A"||s.ignoreTags.indexOf(l)>=0))continue;let c=r.length;p0t(l,n,++o,r),o+=r.length-c-1}else if(a.type!==N4)r.push(a);else{const l=h0t(a.chars,s);r.push.apply(r,l)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case Ij:i.push(a.rendered);break;case Ub:{let l="<"+a.tagName;a.attributes.length>0&&(l+=" "+m0t(a.attributes).join(" ")),a.selfClosing&&(l+=" /"),l+=">",i.push(l);break}case Mj:i.push(`</${a.tagName}>`);break;case N4:i.push(C4(a.chars));break;case c0t:i.push(`<!--${C4(a.chars)}-->`);break;case u0t:{let l=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(l+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(l+=` "${a.systemIdentifier}"`),l+=">",i.push(l);break}}}return i.join("")}function h0t(t,e){const n=Xmt(t),r=[];for(let i=0;i<n.length;i++){const s=n[i];s.t==="nl"&&e.get("nl2br")?r.push({type:Ub,tagName:"br",attributes:[],selfClosing:!0}):!s.isLink||!e.check(s)?r.push({type:N4,chars:s.toString()}):r.push({type:Ij,rendered:e.render(s)})}return r}function p0t(t,e,n,r){let i=1;for(;n<e.length&&i>0;){let s=e[n];s.type===Ub&&s.tagName.toUpperCase()===t?i++:s.type===Mj&&s.tagName.toUpperCase()===t&&i--,r.push(s),n++}return r}function d0t(t){let{tagName:e,attributes:n,content:r}=t;return`<${e} ${f0t(n)}>${C4(r)}</${e}>`}function C4(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Nj(t){return t.replace(/"/g,"&quot;")}function f0t(t){const e=[];for(const n in t){const r=t[n]+"";e.push(`${n}="${Nj(r)}"`)}return e.join(" ")}function m0t(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n][0],i=t[n][1]+"";e.push(`${r}="${Nj(i)}"`)}return e}const y0t="truncate-text",g0t="truncate-trigger",v0t={beforeMount(t,e){!t.classList.contains("truncate")&&!e.value?.noTruncateClass&&t.classList.add("truncate"),t.toggleAttribute(y0t,!0)},mounted(t,e){let n;e.value&&e.value.externalTrigger&&(n=t.closest(`[${g0t}]`)),a4(t,{content:Cj(t.textContent),onShow:b0t,allowHTML:!0,placement:"bottom-start",maxWidth:320,triggerTarget:n,...e.value?.options||{}})},updated(t,e){t._tippy&&(t._tippy.setContent(Cj(t.textContent)),e.value&&e.value.options&&t._tippy.setProps(e.value.options))},unmounted(t){t._tippy&&t._tippy.destroy()}};function b0t(t){if(!(t.reference.clientWidth<t.reference.scrollWidth||t.reference.clientHeight<t.reference.scrollHeight))return!1}function Cj(t){if(t===null)return"";let e=Oj(t,{target:"_blank",validate:{url:n=>/^https?:\/\//.test(n)}});return e=`<div style='word-break: break-word;'>${e}</div>`,e}const _0t=["content"],w0t={key:0,class:"flex flex-shrink-0 items-center border-b border-solid border-gray-600 px-8 h-48 overflow-hidden"},x0t={class:"flex-grow text-lg py-16 pl-8 min-w-0",tabIndex:"0"},E0t={key:1},S0t={key:0,class:"flex"},T0t=["innerHTML"],A0t={key:2,class:"px-8 py-16 border-t border-gray-400 default-focus-style"},I0t=re({__name:"panel-screen",props:{header:{type:Boolean,default:!0},content:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},panel:{type:Object,required:!0},screenId:{type:String,required:!1}},setup(t,{expose:e}){const{t:n}=nn(),r=Zl(),i=Hm(),s=Fn("iApi"),o=vm("el"),a=vm("contentEl"),l=tt();e({el:o});const c=t,p=ee(()=>s?.fixture.get("appbar")?i.temporary:[]),d=ee(()=>r.mobileView),f=ee(()=>r.reorderable),y=T=>T.scrollHeight>T.clientHeight,g=()=>!d.value&&!c.panel.teleport,_=T=>{c.panel.move(T),T==="left"&&Wi(()=>{(o.value?.querySelector(".move-left")).focus()})},w=ee(()=>c.screenId?c.panel.screens[c.screenId][s?.$i18n.locale.value??"en"]:null);return Kn(()=>{o.value?.addEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.addEventListener("keyup",T=>{T.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value=new ResizeObserver(()=>{y(a.value)?a.value?.setAttribute("tabIndex","0"):a.value?.removeAttribute("tabIndex")}),l.value.observe(a.value)}),Yi(()=>{o.value?.removeEventListener("blur",()=>{o.value._tippy.hide()}),o.value?.removeEventListener("keyup",T=>{T.key==="Tab"&&o.value?.matches(":focus")&&o.value._tippy.show()}),l.value.disconnect()}),(T,A)=>{const x=xn("back"),b=xn("panel-options-menu"),I=xn("left"),N=xn("right"),R=xn("pin"),P=xn("expand"),D=xn("minimize"),B=xn("close"),$=Me("truncate"),U=Me("focus-item"),J=Me("tippy");return Ie((pt(),wt("div",{class:"h-full flex flex-col items-stretch",content:`<div style='word-break: break-word;'>${It(n)(t.panel.alertName)+". "+It(n)("panels.access")}</div>`,ref_key:"el",ref:o},[t.header?(pt(),wt("header",w0t,[qt(x,{class:un(t.panel.teleport?"display-none":"block sm:display-none"),onClick:A[0]||(A[0]=rt=>t.panel.close())},null,8,["class"]),Ie((pt(),wt("h2",x0t,[T.$slots.header?Zi(T.$slots,"header",{key:0}):(pt(),wt("div",E0t,Ve(It(n)(t.panel.alertName)),1))])),[[$]]),T.$slots.controls?(pt(),Be(b,{key:0},{default:wn(()=>[Zi(T.$slots,"controls")]),_:3})):Ye("",!0),lt("div",{class:un(t.panel.teleport?"flex":"display-none sm:flex")},[t.panel.teleport?Ye("",!0):(pt(),wt("div",S0t,[f.value?(pt(),Be(I,{key:0,onClick:A[1]||(A[1]=rt=>_("left")),active:!t.panel.isLeftMostPanel},null,8,["active"])):Ye("",!0),f.value?(pt(),Be(N,{key:1,onClick:A[2]||(A[2]=rt=>_("right")),active:!t.panel.isRightMostPanel},null,8,["active"])):Ye("",!0),qt(R,{onClick:A[3]||(A[3]=rt=>t.panel.pin()),active:t.panel.isPinned},null,8,["active"]),t.panel.controls&&t.panel.controls.expand?(pt(),Be(P,{key:2,onClick:A[4]||(A[4]=rt=>t.panel.expand()),active:t.panel.expanded},null,8,["active"])):Ye("",!0)])),t.panel.button&&p.value?.includes(t.panel.id)?(pt(),Be(D,{key:1,onClick:A[5]||(A[5]=rt=>t.panel.minimize())})):Ye("",!0),qt(B,{onClick:A[6]||(A[6]=rt=>t.panel.close())})],2)])):Ye("",!0),t.content?(pt(),wt("div",{key:1,class:"p-8 flex-grow overflow-y-auto",ref_key:"contentEl",ref:a},[T.$slots.content?Zi(T.$slots,"content",{key:0}):w.value?(pt(),wt("div",{key:1,innerHTML:w.value.innerHTML},null,8,T0t)):Ye("",!0)],512)):Ye("",!0),t.footer?Ie((pt(),wt("div",A0t,[Zi(T.$slots,"footer")])),[[U]]):Ye("",!0)],8,_0t)),[[J,{trigger:"manual",touch:!1,onShow:g,allowHTML:!0,maxWidth:t.panel.style["flex-basis"]??350,popperOptions:{placement:"top",modifiers:[{name:"preventOverflow",options:{altAxis:!0}},{name:"flip",options:{fallbackPlacements:["top"]}}]}}]])}}}),M0t={class:"relative"},O0t=["content","aria-label"],N0t=["transform"],C0t=re({__name:"pin",props:{active:Boolean},setup(t){const{t:e}=nn();return(n,r)=>{const i=Me("tippy");return pt(),wt("div",M0t,[Ie((pt(),wt("button",{type:"button",class:un(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:It(e)(t.active?"panels.controls.unpin":"panels.controls.pin"),"aria-label":It(e)(t.active?"panels.controls.unpin":"panels.controls.pin")},[(pt(),wt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",transform:`rotate(${t.active?30:0})`},r[0]||(r[0]=[lt("path",{d:"M298.028 214.267L285.793 96H328c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v48c0 13.255 10.745 24 24 24h42.207L85.972 214.267C37.465 236.82 0 277.261 0 328c0 13.255 10.745 24 24 24h136v104.007c0 1.242.289 2.467.845 3.578l24 48c2.941 5.882 11.364 5.893 14.311 0l24-48a8.008 8.008 0 0 0 .845-3.578V352h136c13.255 0 24-10.745 24-24-.001-51.183-37.983-91.42-85.973-113.733z"},null,-1)]),8,N0t))],10,O0t)),[[i,{placement:"bottom",hideOnClick:!1}]])])}}}),R0t={class:"relative"},k0t=["content","aria-label"],L0t=re({__name:"close",props:{active:Boolean},setup(t){const{t:e}=nn();return(n,r)=>{const i=Me("tippy");return pt(),wt("div",R0t,[Ie((pt(),wt("button",{type:"button",class:un(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:It(e)("panels.controls.close"),"aria-label":It(e)("panels.controls.close")},r[0]||(r[0]=[lt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},[lt("path",{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"})],-1)]),10,k0t)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),P0t={class:"relative"},D0t=["content","aria-label"],j0t=re({__name:"back",props:{active:Boolean},setup(t){const{t:e}=nn();return(n,r)=>{const i=Me("tippy");return pt(),wt("div",P0t,[Ie((pt(),wt("button",{type:"button",class:un(["text-gray-500 hover:text-black focus:text-black p-8",{"text-gray-700":t.active}]),content:It(e)("panels.controls.back"),"aria-label":It(e)("panels.controls.back")},r[0]||(r[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",class:"fill-current w-16 h-16",viewBox:"0 0 16 16"},[lt("path",{d:"M20.485784919653916,7.578491965389372h-14.170000000000005l3.5800000000000054,-3.589999999999997l-1.409999999999993,-1.4099999999999984l-6.000000000000008,6.0000000000000275l6.000000000000008,6l1.409999999999993,-1.4100000000000001l-3.58,-3.59h14.170000000000007Z",transform:"matrix(0.865803 0 0 0.865803 -1.99071 0.638058)"})],-1)]),10,D0t)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),F0t={class:"w-32 h-32"},U0t=["content"],G0t={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},$0t={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"h-24 w-24 fill-current transform rotate-90"},V0t=re({__name:"expand",props:{active:Boolean},setup(t){const{t:e}=nn();return(n,r)=>{const i=Me("tippy");return pt(),wt("div",F0t,[Ie((pt(),wt("button",{type:"button",class:"text-gray-500 hover:text-black focus:text-black w-full h-full flex justify-center items-center",content:It(e)(`panels.controls.${t.active?"collapse":"expand"}`)},[t.active?(pt(),wt("svg",$0t,r[1]||(r[1]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),lt("path",{d:"M8 19h3v3h2v-3h3l-4-4-4 4zm8-15h-3V1h-2v3H8l4 4 4-4zM4 9v2h16V9H4z"},null,-1),lt("path",{d:"M4 12h16v2H4z"},null,-1)]))):(pt(),wt("svg",G0t,r[0]||(r[0]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),lt("path",{d:"M4 20h16v2H4zM4 2h16v2H4zm9 7h3l-4-4-4 4h3v6H8l4 4 4-4h-3z"},null,-1)])))],8,U0t)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale",hideOnClick:!1}]])])}}}),B0t={class:"relative"},z0t=["content","aria-label"],W0t=re({__name:"minimize",props:{active:Boolean},setup(t){const{t:e}=nn();return(n,r)=>{const i=Me("tippy");return pt(),wt("div",B0t,[Ie((pt(),wt("button",{type:"button",class:un(["text-gray-500 hover:text-black focus:text-black p-6",{"text-gray-700":t.active}]),content:It(e)("panels.controls.minimize"),"aria-label":It(e)("panels.controls.minimize")},r[0]||(r[0]=[lt("svg",{class:"fill-current w-20 h-20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[lt("path",{d:"M0 0h24v24H0V0z",fill:"none"}),lt("path",{d:"M6 19h12v2H6z"})],-1)]),10,z0t)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),H0t={class:"relative"},Y0t=["content","aria-label"],Z0t=re({__name:"right",props:{active:Boolean},setup(t){const{t:e}=nn();return(n,r)=>{const i=Me("tippy");return pt(),wt("div",H0t,[Ie((pt(),wt("button",{type:"button",class:un(["p-8",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:It(e)("panels.controls.moveRight"),"aria-label":It(e)("panels.controls.moveRight")},r[0]||(r[0]=[lt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[lt("path",{d:"M 8.59 16.34 L 13.17 11.75 L 8.59 7.16 L 10 5.75 L 16 11.75 L 10 17.75 Z"})],-1)]),10,Y0t)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),J0t={class:"relative"},X0t=["content","aria-label"],q0t=re({__name:"left",props:{active:Boolean},setup(t){const{t:e}=nn();return(n,r)=>{const i=Me("tippy");return pt(),wt("div",J0t,[Ie((pt(),wt("button",{type:"button",class:un(["p-8 move-left",{"text-gray-500 hover:text-black focus:text-black":t.active,"text-gray-300":!t.active}]),content:It(e)("panels.controls.moveLeft"),"aria-label":It(e)("panels.controls.moveLeft")},r[0]||(r[0]=[lt("svg",{class:"fill-current w-16 h-16",xmlns:"http://www.w3.org/2000/svg",viewBox:"4 4 16 16"},[lt("path",{d:"M 15.41 16.09 L 10.83 11.5 L 15.41 6.91 L 14 5.5 L 8 11.5 L 14 17.5 Z"})],-1)]),10,X0t)),[[i,{placement:"bottom",theme:"ramp4",animation:"scale"}]])])}}}),K0t=re({__name:"panel-options-menu",setup(t){const{t:e}=nn();return(n,r)=>(pt(),Be(WT,{class:"flex",tooltip:It(e)("panels.controls.optionsMenu"),popperOptions:{strategy:"fixed"},position:"bottom-end"},{header:wn(()=>r[0]||(r[0]=[lt("div",{class:"p-6"},[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-20 h-20"},[lt("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})])],-1)])),default:wn(()=>[Zi(n.$slots,"default",{},void 0,!0)]),_:3},8,["tooltip"]))}}),Q0t=Eo(K0t,[["__scopeId","data-v-51e22a4a"]]),tyt={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},eyt={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},nyt=re({__name:"fullscreen-nav",setup(t){const{t:e}=nn(),n=Fn("iApi"),r=()=>{n.toggleFullscreen()};return(i,s)=>{const o=xn("mapnav-button");return pt(),Be(o,{onClickFunction:r,tooltip:It(e)("mapnav.fullscreen")},{default:wn(()=>[It(n).isFullscreen?(pt(),wt("svg",tyt,s[0]||(s[0]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"},null,-1)]))):(pt(),wt("svg",eyt,s[1]||(s[1]=[lt("path",{d:"M0 0h24v24H0z",fill:"none"},null,-1),lt("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"},null,-1)])))]),_:1},8,["tooltip"])}}}),ryt=re({__name:"geolocator-nav",setup(t){const{t:e}=nn(),n=Fn("iApi");let r=jn([]);const i=async()=>{if(r.length)s(r);else{const a=await o({maximumAge:1/0,timeout:5e3}).catch(l=>{l.code===GeolocationPositionError.PERMISSION_DENIED?n.notify.show(li.ERROR,e("mapnav.geolocator.error.permission")):n.notify.show(li.ERROR,e("mapnav.geolocator.error.internal"))});a&&(r=[a.coords.longitude,a.coords.latitude],s(r))}},s=a=>{let l=new vr("geolocation",a,Vt.latLongSR(),!0);n.geo.map.zoomMapTo(l)},o=a=>new Promise((l,c)=>navigator.geolocation.getCurrentPosition(l,c,a));return(a,l)=>{const c=xn("mapnav-button");return pt(),Be(c,{onClickFunction:i,tooltip:It(e)("mapnav.geolocator")},{default:wn(()=>l[0]||(l[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[lt("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})],-1)])),_:1},8,["tooltip"])}}}),iyt=re({__name:"home-nav",setup(t){const{t:e}=nn(),n=Fn("iApi"),r=()=>{const i=n.geo.map.getExtentSet();n.geo.map.zoomMapTo(i.fullExtent)};return(i,s)=>{const o=xn("mapnav-button");return pt(),Be(o,{onClickFunction:r,tooltip:It(e)("mapnav.home")},{default:wn(()=>s[0]||(s[0]=[lt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[lt("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),lt("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)])),_:1},8,["tooltip"])}}}),syt={class:"relative w-32 h-32 text-gray-600 hover:text-black",tabindex:"-1"},oyt=["content","aria-label"],ayt=re({__name:"button",props:{onClickFunction:{type:Function,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){return(e,n)=>{const r=Me("focus-item"),i=Me("tippy");return pt(),wt("div",syt,[Ie((pt(),wt("button",{type:"button",class:"w-full h-full default-focus-style focus:outline-none",onClick:n[0]||(n[0]=s=>t.onClickFunction()),content:t.tooltip,"aria-label":typeof t.tooltip=="string"?t.tooltip:""},[Zi(e.$slots,"default")],8,oyt)),[[r],[i,{placement:"left"}]])])}}}),lyt={class:"relative",tabindex:"-1"},cyt=["aria-label","content"],uyt=re({__name:"button",props:{onClickFunction:{type:Function,required:!0},id:{type:String,required:!0},tooltip:{type:[String,Boolean],default:!1}},setup(t){const e=Fn("iApi"),n=t,r=()=>e?.event.emit(Mt.APPBAR_BUTTON_CLICK,n.id);return(i,s)=>{const o=Me("focus-item"),a=Me("tippy");return pt(),wt("div",lyt,[Ie((pt(),wt("button",{type:"button",class:"py-6 w-full h-full",onClick:s[0]||(s[0]=()=>{t.onClickFunction(),r()}),"aria-label":String(t.tooltip),content:`<div style='word-break: break-word;'>${t.tooltip}</div>`},[Zi(i.$slots,"default",{},void 0,!0)],8,cyt)),[[o],[a,{allowHTML:!0,placement:"right"}]])])}}}),hyt=Eo(uyt,[["__scopeId","data-v-457cd2d4"]]),Rj=hn("areas-of-interest",()=>({areas:tt([])})),kj=hn("export",()=>{const t=tt({title:!0,map:!0,mapElements:!0,legend:!0,footnote:!0,timestamp:!0}),e=tt("");function n(r){if(t.value[r.name]!==void 0){const i=t.value[r.name];t.value[r.name]=r.selected!==void 0?r.selected:!i}}return{componentSelectedState:t,fileName:e,toggleSelected:n}}),Lj=hn("extentguard",()=>{const t=tt(!1);function e(l){t.value=l}const n=tt(!1);function r(l){n.value=l}const i=tt(!1);function s(l){i.value=l}const o=tt([]);function a(l){o.value=l}return{active:t,setActive:e,enforcing:n,setEnforcing:r,alwaysOn:i,setAlwaysOn:s,extentSetIds:o,setExtentSetIds:a}}),b0=function t(e){function n(i,s,o){var a,l={};if(Array.isArray(i))return i.concat(s);for(a in i)l[o?a.toLowerCase():a]=i[a];for(a in s){var c=o?a.toLowerCase():a,p=s[a];l[c]=c in l&&typeof p=="object"?n(l[c],p,c=="headers"):p}return l}function r(i,s,o,a,l){var c=typeof i!="string"?(s=i).url:i,p={config:s},d=n(e,s),f={};a=a||d.data,(d.transformRequest||[]).map(function(y){a=y(a,d.headers)||a}),d.auth&&(f.authorization=d.auth),a&&typeof a=="object"&&typeof a.append!="function"&&typeof a.text!="function"&&(a=JSON.stringify(a),f["content-type"]="application/json");try{f[d.xsrfHeaderName]=decodeURIComponent(document.cookie.match(RegExp("(^|; )"+d.xsrfCookieName+"=([^;]*)"))[2])}catch{}return d.baseURL&&(c=c.replace(/^(?!.*\/\/)\/?/,d.baseURL+"/")),d.params&&(c+=(~c.indexOf("?")?"&":"?")+(d.paramsSerializer?d.paramsSerializer(d.params):new URLSearchParams(d.params))),(d.fetch||fetch)(c,{method:(o||d.method||"get").toUpperCase(),body:a,headers:n(d.headers,f,!0),credentials:d.withCredentials?"include":l}).then(function(y){for(var g in y)typeof y[g]!="function"&&(p[g]=y[g]);return d.responseType=="stream"?(p.data=y.body,p):y[d.responseType||"text"]().then(function(_){p.data=_,p.data=JSON.parse(_)}).catch(Object).then(function(){return(d.validateStatus?d.validateStatus(y.status):y.ok)?p:Promise.reject(p)})})}return e=e||{},r.request=r,r.get=function(i,s){return r(i,s,"get")},r.delete=function(i,s){return r(i,s,"delete")},r.head=function(i,s){return r(i,s,"head")},r.options=function(i,s){return r(i,s,"options")},r.post=function(i,s,o){return r(i,o,"post",s)},r.put=function(i,s,o){return r(i,o,"put",s)},r.patch=function(i,s,o){return r(i,o,"patch",s)},r.all=Promise.all.bind(Promise),r.spread=function(i){return i.apply.bind(i,i)},r.CancelToken=typeof AbortController=="function"?AbortController:Object,r.defaults=e,r.create=t,r}(),pyt={A:10,B:12,C:11,E:13,G:24,H:24,J:24,K:35,L:35,M:35,N:35,P:35,R:46,S:47,T:48,V:59,X:[62,61],Y:60},R4={en:{},fr:{}};class dyt{list={};listFetched=!1;constructor(e,n){b0.get(n).then(r=>{r.data.definitions.forEach(i=>R4[e][i.code]=i.description),Object.keys(R4[e]).forEach(i=>{this.list[i]=R4[e][i]}),this.listFetched=!0})}fsaToProvinces(e){const n={};let r=pyt[e.substring(0,1).toUpperCase()];return typeof r=="number"&&(r=[r]),r.forEach(i=>{n[i]=this.list[i]}),n}}function fyt(t,e){return new dyt(t,e)}const Gb={en:{ADDRESS:"Street Address",FSA:"Forward Sortation Area",NTS:"National Topographic System",COORD:"Latitude/Longitude",SCALE:"Scale"},fr:{ADDRESS:"Adresse Municipale",FSA:"R\xE9gion De Tri D'Acheminement",NTS:"Syst\xE8me National De R\xE9f\xE9rence Cartographique",COORD:"Latitude/Longitude",SCALE:"\xC9chelle"}};class myt{allTypes={};validTypes={};filterComplete=!1;typesFetched=!1;constructor(e,n){b0.get(n).then(r=>{r.data.definitions.forEach(i=>{Gb[e][i.code]=i.term.split(`${i.code}-`)[1]}),Object.keys(Gb[e]).forEach(i=>{this.allTypes[i]=Gb[e][i],this.validTypes[i]=Gb[e][i]}),this.typesFetched=!0})}filterValidTypes(e){if(this.filterComplete)return this.validTypes;if(e=typeof e=="string"?[e]:e,e&&e.length>0)for(const n of e)delete this.validTypes[n];return this.filterComplete=!0,this.validTypes}}function yyt(t,e){return new myt(t,e)}function gyt(t,e){const n=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?)(\s*[,|;\s]\s*)[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)[*]$/,r=/^\d{2,3}[A-P]/,i=/^[ABCEGHJKLMNPRSTVXY]\d[A-Z]/;if(n.test(e)&&!t.disabledSearchTypes.includes("LAT/LNG")){const s=e.slice(0,-1);return new vyt(t,s)}else return i.test(e)&&!t.disabledSearchTypes.includes("FSA")?new byt(t,e):r.test(e)&&!t.disabledSearchTypes.includes("NTS")?new _yt(t,e.substring(0,6).toUpperCase()):new wyt(t,e)}class $b{config;query;failedServs=[];results=[];onComplete;latLongResult;featureResults=[];resultType="geoname";constructor(e,n){this.query=n,this.config=e}search(){return this.jsonRequest(this.getUrl()).then(e=>this.normalizeNameItems(e.items)).catch(()=>(console.error("Geoname service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}getUrl(e,n,r,i){let s="";return e?s=this.config.geoLocateUrl+"?q="+this.query:(r&&i?s=`${this.config.geoNameUrl}?lat=${r}&lon=${i}&num=${this.config.maxResults}`:s=`${this.config.geoNameUrl}?q=${this.query}&num=${this.config.maxResults}`,this.config.categories.length>0&&(s+=`&concise=${this.config.categories.join(",")}`),this.config.officialOnly&&(s+="&category=O")),s}normalizeNameItems(e){return e.filter(n=>this.config.types.validTypes[n.concise.code]).map(n=>({name:n.name,location:n.location,province:this.config.provinces.list[n.province.code],type:this.config.types.allTypes[n.concise.code],LatLon:{lat:n.latitude,lon:n.longitude},bbox:n.bbox,order:this.config.sortOrder.indexOf(n.concise.code)>=0?this.config.sortOrder.indexOf(n.concise.code):this.config.sortOrder.length}))}jsonRequest(e){return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="json",i.onload=()=>{if(i.status===200){const s=typeof i.response=="string"?JSON.parse(i.response):i.response;n(s)}else r("Could not load results from remote service.")},i.send()})}locateByQuery(){return this.jsonRequest(this.getUrl(!0,void 0))}nameByLatLon(e,n,r){return this.jsonRequest(this.getUrl(!1,r,e,n)).then(i=>this.normalizeNameItems(i.items)).catch(()=>(console.error("LatLon service failed"),this.failedServs.push("geoname"),this.normalizeNameItems([])))}}class vyt extends $b{constructor(e,n){super(e,n),this.resultType="latlong";const r=n.split(/[\s|,|;|]/).filter(o=>!isNaN(o)&&o!=="").map(o=>parseFloat(o)),i=.015,s=[r[1]-i,r[0]-i,r[1]+i,r[0]+i];this.latLongResult={name:`${r[0]},${r[1]}`,location:{latitude:r[0],longitude:r[1]},type:"Latitude/Longitude",position:[r[1],r[0]],bbox:s},this.onComplete=new Promise((o,a)=>{this.nameByLatLon(r[0],r[1]).then(l=>{l?(this.results=l,o(this)):a("Given lat lon coordinates cannot be found")})})}}class byt extends $b{constructor(e,n){n=n.substring(0,3).toUpperCase(),super(e,n),this.resultType="fsa",this.onComplete=new Promise(r=>{this.formatLocationResult().then(i=>{i?(this.featureResults.push(i),this.nameByLatLon(i.LatLon.lat,i.LatLon.lon,Object.keys(i._provinces).map(s=>parseInt(s))).then(s=>{this.results=s,r(this)})):(console.log("FSA code given cannot be found."),r(this))})})}formatLocationResult(){return this.locateByQuery().then(e=>{if(e.length===1&&this.query){const n=this.config.provinces.fsaToProvinces(this.query);return{fsa:this.query,code:"FSA",desc:this.config.types.allTypes.FSA,province:Object.keys(n).map(r=>n[r]).join(","),_provinces:n,LatLon:{lat:e[0].geometry.coordinates[1],lon:e[0].geometry.coordinates[0]}}}}).catch(()=>{console.error("FSA service failed"),this.failedServs.push("geolocation")})}}class _yt extends $b{unitName;unit;mapSheets=[];constructor(e,n){super(e,n),this.resultType="nts",n=isNaN(parseInt(n[2]))?"0"+n:n,this.unitName=n,this.onComplete=new Promise(r=>{this.locateByQuery().then(i=>{if(i.length>0&&this.query){const s=this.locateToResult(i);this.unit=s[0],this.mapSheets=s,this.featureResults.push(this.unit),this.nameByLatLon(this.unit.LatLon.lat,this.unit.LatLon.lon).then(o=>{this.results=o,r(this)})}else console.log("Given NTS code not found"),r(this)}).catch(()=>{console.error("NTS service failed"),this.failedServs.push("geolocation"),r(this)})})}locateToResult(e){return e.map(n=>{const r=n.title.split(" ");return{nts:r.shift()||"",location:r.join(" "),code:"NTS",desc:this.config.types.allTypes.NTS,LatLon:{lat:n.geometry.coordinates[1],lon:n.geometry.coordinates[0]},bbox:n.bbox}})}equals(e){return this.unitName===e.unitName}}class wyt extends $b{constructor(e,n){n=encodeURIComponent(n.trim()),super(e,n),this.resultType="address",this.onComplete=new Promise(r=>{this.locateByQuery().then(i=>{this.featureResults=this.locateToResult(i),this.search().then(s=>{this.results=s,r(this)})}).catch(()=>{this.failedServs.push("geolocation"),console.error("Address service failed"),this.search().then(i=>{this.results=i,r(this)})})})}locateToResult(e){return this.config.categories.length>0&&!this.config.categories.includes("ADDR")?[]:e.filter(n=>n.type?.includes("Street")).map(n=>{const[r,i,s]=n.title.split(", ");return{name:r,city:i.split(" Of ").pop(),province:s,desc:this.config.types.allTypes.ADDRESS,LatLon:{lat:n.geometry.coordinates[1],lon:n.geometry.coordinates[0]}}})}}const Pj="https://geogratis.gc.ca/services/geolocation/@{language}/locate",Dj="https://geogratis.gc.ca/services/geoname/@{language}/geonames.json",jj="https://geogratis.gc.ca/services/geoname/@{language}/codes/province.json",Fj="https://geogratis.gc.ca/services/geoname/@{language}/codes/concise.json",xyt={10:"NL",11:"PE",12:"NS",13:"NB",24:"QC",35:"ON",46:"MB",47:"SK",48:"AB",59:"BC",60:"YU",61:"NT",62:"NU",72:"UF",73:"IW"};class Uj{config;constructor(e,n){let r,i,s,o;const a=n?.serviceUrls;a?(r=a.geoLocation?a.geoLocation:Pj,i=a.geoNames?a.geoNames:Dj,s=a.geoProvince?a.geoProvince:jj,o=a.geoTypes?a.geoTypes:Fj):(r=Pj,i=Dj,s=jj,o=Fj),r=r.replace("@{language}",e),i=i.replace("@{language}",e),s=s.replace("@{language}",e),o=o.replace("@{language}",e);const l=n?.settings;let c,p,d,f,y;l?(c=l.categories?l.categories:[],p=l.sortOrder?l.sortOrder:[],d=l.disabledSearchTypes?l.disabledSearchTypes:[],f=l.maxResults>0?l.maxResults:100,y=!!l.officialOnly):(c=[],p=[],d=[],f=100,y=!1),this.config={language:e,geoNameUrl:i,geoLocateUrl:r,types:yyt(e,o),provinces:fyt(e,s),categories:c,sortOrder:p,disabledSearchTypes:d,maxResults:f,officialOnly:y},this.config.types.filterValidTypes(n?.excludeTypes),this._provinceList=[],this._typeList=[],this._excludedTypes=n?.excludeTypes||[]}get provinceList(){return this._provinceList}get typeList(){return this._typeList}set provinceList(e){this._provinceList=e}set typeList(e){this._typeList=e}levenshteinDistance(e,n){n=n.toLowerCase().trim();const r=decodeURI(e.query.toLowerCase().replace("*","")),i=[];for(let s=0;s<=n.length;s++){i[s]=[s];for(let o=1;o<=r.length;o++)i[s][o]=s===0?o:Math.min(i[s][o-1]+1,i[s-1][o]+.2,i[s-1][o-1]+(r[o-1]===n[s-1]?0:1))}return i[n.length][r.length]}findProvinceObj(e){return this.provinceList.find(n=>n.name===e)}query(e){return gyt(this.config,e.toUpperCase()).onComplete.then(n=>{let r=[];n.featureResults.length>0?n.resultType==="fsa"?r=n.featureResults.map(s=>({name:s.fsa,bbox:[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:-1})):n.resultType==="nts"?r=n.featureResults.map(s=>({name:s.nts,bbox:s.bbox??[s.LatLon.lon+.02,s.LatLon.lat-.02,s.LatLon.lon-.02,s.LatLon.lat+.02],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon},order:-1})):n.resultType==="address"&&(r=n.featureResults.map(s=>({name:s.name,bbox:[s.LatLon.lon+.002,s.LatLon.lat-.002,s.LatLon.lon-.002,s.LatLon.lat+.002],type:s.desc,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.city,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:this.config.sortOrder.indexOf("ADDR")>=0?this.config.sortOrder.indexOf("ADDR"):this.config.sortOrder.length})),this.config.sortOrder.length>0&&(r=r.sort((s,o)=>this.levenshteinDistance(n,s.name)>this.levenshteinDistance(n,o.name)?1:-1))):n.resultType==="latlong"&&(r=[n.latLongResult],r[0].order=-1);const i=n.results.map(s=>({name:s.name,bbox:s.bbox,type:s.type,position:[s.LatLon.lon,s.LatLon.lat],location:{city:s.location,latitude:s.LatLon.lat,longitude:s.LatLon.lon,province:this.findProvinceObj(s.province)},order:s.order}));return{results:r.concat(i).slice(0,this.config.maxResults).sort((s,o)=>this.config.sortOrder.length>0?s.order>o.order?1:-1:this.levenshteinDistance(n,s.name)>this.levenshteinDistance(n,o.name)?1:-1),failedServs:n.failedServs}})}fetchProvinces(){return new Promise(e=>{const n=setInterval(()=>{if(this.config.provinces.listFetched){clearInterval(n);const r=[],i={code:-1,abbr:"...",name:"..."};r.push(i);const s=this.config.provinces.list;for(const o in s)r.push({code:o,abbr:xyt[o],name:s[o]});this.provinceList=r,e(this.provinceList)}})})}fetchTypes(){return new Promise(e=>{const n=setInterval(()=>{if(this.config.types.typesFetched){clearInterval(n);const r=[],i={code:-1,name:"..."};r.push(i);const s=this.config.types.allTypes;for(const o in s)this._excludedTypes.includes(o)||r.push({code:o,name:s[o]});this.typeList=r,e(this.typeList)}},250)})}}function Gj(t,e,n){return t&&e.extent&&(n=n.filter(r=>r.bbox[0]<=e.extent.xmax&&r.bbox[1]<=e.extent.ymax&&r.bbox[2]>=e.extent.xmin&&r.bbox[3]>=e.extent.ymin)),e.province&&e.province!=="..."&&(n=n.filter(r=>r.location.province?.name&&r.location.province.name===e.province)),e.type&&e.type!=="..."&&(n=n.filter(r=>r.type===e.type)),n}const $j=hn("geosearch",()=>{const t=tt(new Uj("en",void 0)),e=tt({type:"",province:"",extent:void 0}),n=tt(!1),r=tt(""),i=tt(""),s=tt(""),o=tt([]),a=tt([]),l=tt(!1),c=tt([]),p=ee(()=>new Promise(x=>{t.value.fetchProvinces().then(b=>{b.sort((I,N)=>I.name>N.name?1:-1),x(b)})})),d=ee(()=>new Promise(x=>{t.value.fetchTypes().then(b=>{b.sort((I,N)=>I.name>N.name?1:-1),x(b)})}));function f(x,b){t.value=new Uj(x,b)}function y(x){l.value=!0;const b=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim();if(!b)o.value=[],a.value=[],l.value=!1;else if(b&&b!==s.value||x){const I=setInterval(()=>{t.value.config.provinces.listFetched&&t.value.config.types.typesFetched&&(clearInterval(I),t.value.query(`${b}*`).then(N=>{c.value=N.failedServs,s.value=b,a.value=N.results;const R=Gj(n.value,e.value,a.value);o.value=R||[],l.value=!1}))},250)}else{const I=Gj(n.value,e.value,a.value);o.value=I||[],l.value=!1}}function g(x){e.value.province=typeof x.province>"u"?"":x.province,y(x.forceReRun)}function _(x){e.value.type=typeof x.type>"u"?"":x.type,y(x.forceReRun)}function w(x){s.value=r.value.replace(/["!*$+?^{}()|[\]\\]/g,"").trim(),r.value=x,y()}function T(x){const b={a:"\xE0\xE1\xE2\xE3\xE4\xE5\u0101\u0103\u0105\u01CE\u0201\u0203\u0227\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7",b:"\u1E03\u0253\u1E05\u1E07",c:"\xE7\u0107\u0109\u010B\u010D",d:"\u010F\u1E0B\u1E0D\u1E0F\u1E11\u1E13",e:"\xE8\xE9\xEA\xEB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7",f:"\u0192\u1E1F",g:"\u011D\u011F\u0121\u0123\u01E7\u01F5\u1E21",h:"\u0125\u021F\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96",i:"\xEC\xED\xEE\xEF\u0129\u012B\u012D\u012F\u0131\u0209\u020B\u1ECB\u1EC9\u0129",j:"\u0135\u01F0\u0249",k:"\u0137\u0138\u0199\u1E33\u1E35",l:"\u013A\u013C\u013E\u0140\u0142\u1E37\u1E39\u1E3B\u1E3D",m:"\u1E3F\u1E41\u1E43",n:"\xF1\u0144\u0146\u0148\u0149\u014B\u01F9\u1E45\u1E47\u1E49\u1E4B",o:"\xF2\xF3\xF4\xF5\xF6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022F\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3",p:"\u1E55\u1E57",r:"\u0155\u0157\u0159\u0211\u0213\u1E5B\u1E5D\u1E5F",s:"\u015B\u015D\u015F\u0161\u0219\u1E61\u1E63\u1E65\u1E67\u1E69",t:"\u0163\u0165\u0167\u021B\u1E6B\u1E6D\u1E6F\u1E71\u1E97",u:"\xF9\xFA\xFB\xFC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1",v:"\u1E7D\u1E7F",w:"\u1E81\u1E83\u0175\u1E85\u1E87\u1E89\u1E8B",x:"\u1E8B\u1E8D",y:"\u1EF3\xFD\u0177\xFF\u1EF9\u0233\u1E8F\u1E99\u1EF5\u1EF7\u1EF9",z:"\u017A\u017C\u017E\u1E91\u1E93\u1E95"};x=x.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i.value=Array.from(x).map(I=>Object.keys(b).includes(I)?"["+I+b[I]+"]":I.replace(/["$!*+?^{}()|[\]\\]/g,"").replace(/[.\\]/g,"\\$&").trim()).join("")}function A(x){if(x.visible!==void 0&&(n.value=x.visible),x.extent.sr.wkid!==4326)throw new Error("an extent that was not projected to wkid 4326 was passed to the geosearch store");e.value.extent=x.extent,y()}return{GSservice:t,queryParams:e,resultsVisible:n,searchVal:r,searchRegex:i,lastSearchVal:s,searchResults:o,savedResults:a,loadingResults:l,failedServices:c,getProvinces:p,getTypes:d,initService:f,runQuery:y,setProvince:g,setType:_,setSearchTerm:w,setSearchRegex:T,setMapExtent:A}}),Vj=hn("help",()=>({location:tt("./help/")}));var k4=(t=>(t.Visibility="visibilityButton",t.Expand="expandButton",t))(k4||{}),Vb=(t=>(t.Item="item",t.Placeholder="placeholder",t.Error="error",t))(Vb||{});class L4 extends In{_uid;_name;_type;_children=[];_parent=void 0;_loadPromise;_hidden;_expanded;_visibility;_exclusive;_controls;_disabledControls;_lastVisible;_visibleChildren;constructor(e,n,r){super(e),this._uid=$u.sharedUtils.generateUUID(),this._name=n.name,this._type=n.type??"placeholder",this._parent=r,this._children=[],this._loadPromise=new bn,this._hidden=n.hidden??!1,this._expanded=n.expanded??!0,this._visibility=!0,this._exclusive=n.exclusive??!1,this._controls=n.controls?.slice()??["visibilityButton","expandButton"],this._disabledControls=n.disabledControls?.slice(),this._lastVisible,this._visibleChildren=[]}get uid(){return this._uid}get name(){return this._name}set name(e){this._name=e}get type(){return this._type}get children(){return this._children}set children(e){this._children=e}get parent(){return this._parent}set parent(e){this._parent=e}get loadPromise(){return this._loadPromise.getPromise()}get hidden(){return this._hidden}get expanded(){return this._expanded}get visibility(){return this._visibility}get exclusive(){return this._exclusive}controlAvailable(e){return this._disabledControls?.includes(e)?!1:this._controls?.includes(e)}setControl(e,n){n&&this._disabledControls?.includes(e)?(this._disabledControls=this._disabledControls.filter(r=>r!==e),this._controls?.push(e)):!n&&this._controls?.includes(e)&&(this._controls=this._controls.filter(r=>r!==e),this._disabledControls?.push(e))}toggleHidden(e){this._hidden=e??!this.hidden}toggleExpanded(e){this._expanded=e??!this.expanded}toggleVisibility(e,n=!0){if(this.visibility!==e){if(this._visibility=e??!this.visibility,!this.exclusive)this.visibility?this._visibleChildren.length>0?this._visibleChildren.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!0,!1)):this.children.forEach(r=>r.toggleVisibility(!1,!1));else if(this.visibility)if(this._lastVisible&&(!(this._lastVisible instanceof xa)||this._lastVisible.layerControlAvailable(mn.Visibility)))this._lastVisible.toggleVisibility(!0);else{const r=this.children.find(i=>!(i instanceof xa)||i.layerControlAvailable(mn.Visibility));r&&r.toggleVisibility(!0)}else this._lastVisible=this.children.find(r=>r.visibility),this._lastVisible?.toggleVisibility(!1);this.parent&&n&&this.parent.checkVisibility(this)}}checkVisibilityRules(){this.parent&&!this.parent.visibility?this.toggleVisibility(!1,!1):this.parent?.exclusive&&this.parent.children.some(e=>e.visibility&&e!==this&&e.type==="item")&&this.toggleVisibility(!1,!1)}checkVisibility(e){this instanceof xa&&!this.layerControlAvailable(mn.Visibility)||(this.exclusive?e.visibility?(this.children.forEach(n=>{n.uid!==e.uid&&n.toggleVisibility(!1,!1)}),this._lastVisible=e,this._visibility=!0,this instanceof xa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this instanceof xa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1),this._lastVisible=e):this.children.some(n=>n.visibility)?(this._visibility=!0,this._visibleChildren=this.children.filter(n=>n.visibility),this instanceof xa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!0)):(this._visibility=!1,this._visibleChildren=[],this instanceof xa&&this.layer&&this.layer.layerExists&&(this.layer.visibility=!1)),this.parent&&this.parent.checkVisibility(this))}getConfig(){const e={name:this._name,hidden:this._hidden,expanded:this._expanded,exclusive:this._exclusive,controls:this._controls,disabledControls:this._disabledControls},n=[];return this.children.forEach(r=>{n.push(r.getConfig())}),this.exclusive?e.exclusiveVisibility=n:e.children=n,e}onAdded(){}onRemoved(){this.toggleVisibility(!1)}load(){this._type="item",this._loadPromise.resolveMe(),this.checkVisibilityRules()}reload(){this._type="placeholder",this._loadPromise=new bn}error(){this._type!=="error"&&(this._type="error",this._loadPromise.getPromise().catch(()=>{}),this._loadPromise.rejectMe(),this.checkVisibilityRules())}}class xa extends L4{_layerId;_layerIdx;_layerUid="";_isSublayer=!1;_layer;_layerInitVis;_layerRedrawing=!1;_layerOffscale=!1;_treeGrown=!1;_customSymbology=!1;_coverIcon;_description;_symbologyExpanded;_origLayerControls;_origLayerDisabledControls;_layerControls;_layerDisabledControls;_maxLines;_symbologyRenderStyle;_symbologyStack;handlers=[];constructor(e,n,r){super(e,n,r),this._type=Vb.Placeholder,this._layerId=n.layerId,this._layerIdx=n.sublayerIndex,this._isSublayer=n.sublayerIndex!==void 0,this._layerControls=n.layerControls??[],this._origLayerControls=n.layerControls,this._layerDisabledControls=n.disabledLayerControls??[],this._origLayerDisabledControls=n.disabledLayerControls,this._layerRedrawing=!1,this._symbologyExpanded=n.symbologyExpanded||!1,n.coverIcon&&(this._coverIcon=n.coverIcon),n.description&&(this._description=n.description),this._symbologyRenderStyle=n.symbologyRenderStyle??"icons",this._customSymbology=!!n.symbologyStack,this._symbologyStack=n.symbologyStack?.map(i=>({uid:this.$iApi.geo.shared.generateUUID(),label:i.text,definitionClause:i.sqlQuery,imgUrl:i.image??"",drawPromise:Promise.resolve(),visibility:!0,lastVisibility:!0})),this._maxLines=n.maxLines&&[1,2,3,4,5,6].includes(n.maxLines)?n.maxLines:void 0}get parentLayerId(){return this._isSublayer?this._layerId.slice(0,this._layerId.length-`-${this._layerIdx}`.length):void 0}get layerId(){return this._layerId}get layerIdx(){return this._layerIdx}get isSublayer(){return this._isSublayer}get layerUid(){return this._layerUid}get layer(){return this._layer}set layer(e){this._layer=e,this._layerId=e.id,this._layerIdx=e.isSublayer?e.layerIdx:void 0,this._layerUid=e.uid,this._name=this._name||e.name,this._symbologyStack=this._customSymbology?this._symbologyStack:e.legend,this.updateLayerControls()}get layerOffscale(){return this._layerOffscale}set layerOffscale(e){this._layerOffscale=e}get layerRedrawing(){return this._layerRedrawing}set layerRedrawing(e){this._layerRedrawing=e}get coverIcon(){return this._coverIcon}set coverIcon(e){this._coverIcon=e}get description(){return this._description}set description(e){this._description=e}get symbologyExpanded(){return this._symbologyExpanded}get treeGrown(){return this._treeGrown}set treeGrown(e){this._treeGrown=e}get origLayerControls(){return this._origLayerControls}get origDisabledLayerControls(){return this._origLayerDisabledControls}set symbologyRenderStyle(e){this._symbologyRenderStyle=e}get symbologyRenderStyle(){return this._symbologyRenderStyle}set symbologyStack(e){this._symbologyStack=e}get symbologyStack(){return this._symbologyStack}get maxLines(){return this._maxLines}getConfig(){const e={layerId:this._layerId,sublayerIndex:this._layerIdx,layerControls:this._layerControls,disabledLayerControls:this._layerDisabledControls,symbologyExpanded:this._symbologyExpanded,coverIcon:this._coverIcon,description:this._description,maxLines:this._maxLines};return{...super.getConfig(),...e}}toggleVisibility(e,n=!0,r=!1){if(!(!this.layerControlAvailable(mn.Visibility)&&!r)&&(super.toggleVisibility(e,n),this.layer&&this.layer.layerExists)){this.layer.visibility=this.visibility;const i=this._symbologyStack.some(s=>s.lastVisbility);this._symbologyStack.forEach(s=>{i||(s.lastVisbility=!0),s.visibility=this.visibility?s.lastVisbility:!1})}}toggleSymbology(e){return this._symbologyExpanded=e??!this._symbologyExpanded,this._symbologyExpanded}setSymbologyVisibility(e,n){this._symbologyStack.some(r=>((e===void 0||r.uid===e)&&(r.visibility=n,r.lastVisbility=n),e!==void 0&&r.uid===e))}load(e){const n=e instanceof Wb?e:this.$iApi.geo.layer.getLayer(this._layerId??this._layerUid);n&&(this.layer=n,this._layerRedrawing=n.mapLayer&&n.drawState!==Vr.UP_TO_DATE,n.loadPromise().then(()=>{this._layerInitVis=typeof this._layerInitVis<"u"?this._visibility:n.visibility,super.load(),this.toggleVisibility(this._layerInitVis,!0,!0),n.visibility||this.setSymbologyVisibility(void 0,!1),this.handlers.push(this.$iApi.event.on(Mt.LAYER_VISIBILITYCHANGE,r=>{r.layer.uid===this.layer.uid&&this._type===Vb.Item&&this.toggleVisibility(r.visibility,!0,!0)})),this.handlers.push(this.$iApi.event.on(Mt.LAYER_DRAWSTATECHANGE,r=>{this.layer.uid===r.layer.uid&&(r.layer.drawState===Vr.REFRESH?this.layerRedrawing=!0:setTimeout(()=>{this.layerRedrawing=r.layer.drawState===Vr.REFRESH},500))})),this._layerOffscale=this.$iApi.geo.map.created?n.isOffscale():!1,this.handlers.push(this.$iApi.event.on(Mt.MAP_SCALECHANGE,()=>{this.$iApi.geo.map.created&&(this._layerOffscale=this.layer?.isOffscale())}))}).catch(()=>{this.error()}))}error(){this.updateLayerControls(),super.error()}layerControlAvailable(e){return this._layerDisabledControls?.includes(e)?!1:!!this._layerControls?.includes(e)}updateLayerControls(){const e=this.$iApi.geo.layer.getLayerControls(this.layerId)??this.$iApi.geo.layer.getLayerControls(this.parentLayerId??"");this._origLayerControls||(this._layerControls=e?.controls??[]),this._origLayerDisabledControls||(this._layerDisabledControls=e?.disabledControls??[])}}var Bj=(t=>(t.Title="title",t.Text="text",t.Image="image",t.Markdown="markdown",t.Template="template",t))(Bj||{});class P4 extends L4{_infoType;_content;constructor(e,n,r){super(e,n,r),this._infoType=n.infoType??"title",this._content=n.content??"",n.infoType==="template"&&this.$element.component(`${this._uid}-info-section`,{template:this._content}),(n.infoType||n.content)&&(this._controls=n.controls?.slice()??[k4.Expand]),super.load()}get infoType(){return this._infoType}get content(){return this._content}set content(e){this._content=e}getConfig(){const e={infoType:this._infoType,content:this._content};return{...super.getConfig(),...e}}}const zj=hn("legend",()=>{const t=tt(),e=tt([]),n=tt([]),r=tt(!0),i=tt(3);function s(l){if(l.parent===void 0)e.value.push(l.item);else{if(!(l.item instanceof P4)&&!(l.item instanceof xa)){console.error("attempted to add an unsupported legend item type");return}l.parent.children.push(l.item)}}function o(l){const c=p=>(p=p.filter(d=>(d===l&&!d.children.length&&d.onRemoved(),d!==l)),p.forEach(d=>{d.children=c(d.children)}),p=p.filter(d=>!(d instanceof P4&&!d.children.length&&d.content==="")),p);e.value=c(e.value)}function a(l){if(l.oldItem.parent===void 0){const c=e.value,p=c.indexOf(l.oldItem);p>-1&&(e.value[p]=l.newItem),e.value=c}else{const c=l.oldItem.parent.children,p=c.indexOf(l.oldItem);p>-1&&(c[p]=l.newItem),l.oldItem.parent.children=c}}return{legendConfig:t,multilineItems:r,maxLines:i,children:e,headerControls:n,addItem:s,removeItem:o,replaceItem:a}}),Wj=hn("mapnav",()=>{const t=tt({}),e=tt([]);function n(r){r in t.value&&delete t.value[r];const i=e.value.indexOf(r);i!==-1&&e.value.splice(i,1)}return{items:t,order:e,removeItem:n}}),Hj=hn("metadata",()=>{const t=tt(""),e=tt({type:"LineString",coordinates:[]});return{status:t,response:e}}),Yj=hn("northarrow",()=>{const t=tt(""),e=tt("");return{arrowIcon:t,poleIcon:e}}),Zj=hn("overviewmap",()=>{const t=tt({lodSets:[],extentSets:[],basemaps:[],tileSchemas:[],initialBasemapId:""}),e=tt({}),n=tt(!0),r=tt(1.5),i=tt("#FF0000"),s=tt(1),o=tt("#000000"),a=tt(.25);function l(c){t.value.initialBasemapId=c}return{mapConfig:t,basemaps:e,startMinimized:n,expandFactor:r,borderColour:i,borderWidth:s,areaColour:o,areaOpacity:a,updateInitialBasemap:l}}),Jj=hn("scrollguard",()=>{const t=tt(!1);function e(n){t.value=n}return{enabled:t,setEnabled:e}});var cr=(t=>(t[t.UPLOAD=0]="UPLOAD",t[t.FORMAT=1]="FORMAT",t[t.CONFIGURE=2]="CONFIGURE",t))(cr||{});const Xj=hn("wizard",()=>{const t={id:"Placeholder",layerType:Ct.UNKNOWN,url:""},e=tt(),n=tt(""),r=tt(""),i=tt(!0),s=tt(null),o=tt({config:t,configOptions:[]}),a=tt(cr.UPLOAD);function l(c){switch(a.value){case cr.UPLOAD:c===cr.UPLOAD?n.value="":c===cr.FORMAT&&(a.value=cr.FORMAT);break;case cr.FORMAT:c===cr.UPLOAD?(s.value&&(n.value="",s.value=null),r.value="",a.value=cr.UPLOAD):c===cr.CONFIGURE&&(a.value=cr.CONFIGURE);break;case cr.CONFIGURE:c===cr.UPLOAD?(n.value="",r.value="",s.value=null,i.value=!0,o.value={config:t,configOptions:[]},a.value=cr.UPLOAD):c===cr.FORMAT&&(o.value={config:t,configOptions:[]},i.value=!0,a.value=cr.FORMAT);break}}return{layerSource:e,url:n,typeSelection:r,nested:i,fileData:s,layerInfo:o,currStep:a,goToStep:l}});class Eyt{fixture;panel;event;geo;notify;ui;startRequired=!1;_eventsOn=!1;$vApp;$element;$i18n;$rootEl;_isFullscreen;constructor(e,n,r){this.event=new _lt(this);const i=Syt(e,this);this.$vApp=i.app,this.$element=i.element,this.$i18n=i.i18n,this.$rootEl=i.app.$root?.$el,this.fixture=new o1t(this),this.panel=new a1t(this),this.geo=new i1t(this),this.ui={maptip:this.geo.map.maptip,exposeOids:!1,exposeMeasurements:!0,getZoomIcon:()=>"",formatNumber:()=>"",scrollToInstance:!1,suppressNumberLocalization:!1,escapeHtml:()=>"",isPlainText:()=>!0},this.notify=new Opt(this),this._isFullscreen=_o.isEnabled&&!!this.$vApp.$root&&_o.isFullscreen&&_o.element===this.$vApp.$root.$el,_o.isEnabled&&_o.onchange(()=>{this._isFullscreen=_o.isEnabled&&!!this.$vApp.$root&&_o.isFullscreen&&_o.element===this.$vApp.$root.$el}),this.initialize(!0,n,r)}initialize(e,n,r){const i=jr(this.$vApp.$pinia),s=Zl(this.$vApp.$pinia),o=Kv(this.$vApp.$pinia);if(n?.configs!==void 0){const l=n.configs,c=l[this.$i18n.locale.value]??l[Object.keys(l)[0]];i.newConfig(c),i.registerConfig({config:c,configLangs:Object.keys(l),allLangs:Object.keys(this.$i18n.messages.value)});for(const g in l)i.registerConfig({config:l[g],configLangs:[g]});i.activeBasemapConfig=c.map.basemaps.find(g=>g.id===c.map.initialBasemapId);const p=setInterval(()=>{const g=this.$vApp.$el.querySelector("#esriMap");g&&(clearInterval(p),this.geo.map.createMap(c.map,g).then(()=>{if(g._tippy.hide(0),o.setMaptipInstance(g._tippy),c.layers&&c.layers.length>0){let _=0;c.layers.forEach(w=>{const T=this.geo.layer.createLayer(w);this.geo.map.addLayer(T,_).catch(()=>{}),T.mapLayer&&_++})}}))},100);if(c.panels){if(c.panels.open&&c.panels.open.length>0){const g=c.panels.open.map(_=>_.id);this.panel.isRegistered(g).then(()=>{c.panels?.open?.forEach(_=>{this.panel.open({id:_.id,screen:_.screen}),_.pin&&this.panel.pin(_.id)})})}s.reorderable=c.panels.reorderable??!0}!c.system?.animate&&this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.remove("animation-enabled"),c.system?.proxyUrl&&(this.geo.proxy=c.system.proxyUrl),c.system?.exposeOid&&(this.ui.exposeOids=c.system.exposeOid),c.system?.exposeMeasurements!=null&&(this.ui.exposeMeasurements=c.system.exposeMeasurements),c.system?.scrollToInstance&&(this.ui.scrollToInstance=c.system?.scrollToInstance),c.system?.suppressNumberLocalization&&(this.ui.suppressNumberLocalization=c.system?.suppressNumberLocalization);const d={magnify:'<svg class="m-auto" xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" /><path d="M0 0h24v24H0V0z" fill="none" /><path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z" /></svg>',globe:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="16" height="16" viewBox="0 0 16 16" xml:space="preserve"><g transform="matrix(0.67 0 0 0.67 8 8)"><path style=" stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-dashoffset: 0; stroke-linejoin: miter; stroke-miterlimit: 4; fill: #979797; fill-rule: nonzero; opacity: 1;" transform=" translate(-12, -12)" d="M 12 2 C 6.48 2 2 6.48 2 12 C 2 17.52 6.48 22 12 22 C 17.52 22 22 17.52 22 12 C 22 6.48 17.52 2 12 2 z M 11 19.93 C 7.05 19.44 4 16.08 4 12 C 4 11.38 4.08 10.79 4.21 10.21 L 9 15 L 9 16 C 9 17.1 9.9 18 11 18 L 11 19.93 z M 17.9 17.39 C 17.639999999999997 16.580000000000002 16.9 16 15.999999999999998 16 L 14.999999999999998 16 L 14.999999999999998 13 C 14.999999999999998 12.45 14.549999999999999 12 13.999999999999998 12 L 8 12 L 8 10 L 10 10 C 10.55 10 11 9.55 11 9 L 11 7 L 13 7 C 14.1 7 15 6.1 15 5 L 15 4.59 C 17.93 5.779999999999999 20 8.649999999999999 20 12 C 20 14.08 19.2 15.97 17.9 17.39 z" stroke-linecap="round" /></g></svg>'},f=c.system?.zoomIcon||"globe",y=d[f]||f;this.ui.getZoomIcon=()=>y,this.ui.formatNumber=g=>this.ui.suppressNumberLocalization?g.toString():this.$i18n.n(g,"number"),this.ui.escapeHtml=g=>{const _={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return g.replace(/[<>"']/g,w=>_[w])},this.ui.isPlainText=g=>typeof g=="string"?!this.containsValidHtml(g)&&!this.representsObject(g):!1}r||(r={});const a=Jp(this.$vApp.$pinia);r?.startRequired?(this.startRequired=!0,a.started=!1):(this.startRequired=!1,a.started=!0,this.event.emit(Mt.MAP_START)),e&&(r.loadDefaultFixtures!==!1||n?.startingFixtures!==void 0)?this.fixture.addDefaultFixtures(n?.startingFixtures):e||this.fixture.restore(),r.loadDefaultEvents!==!1&&!this._eventsOn&&(this.event.addDefaultEvents(),this._eventsOn=!0)}reload(e,n){const r=Jp(this.$vApp.$pinia),i=js(this.$vApp.$pinia),s=jr(this.$vApp.$pinia),o=Ki(this.$vApp.$pinia),a=Rs(this.$vApp.$pinia),l=$v(this.$vApp.$pinia),c=!!e;c?Object.keys(o.items).forEach(p=>{this.fixture.exists(p)&&this.fixture.remove(p)}):this.fixture.flush(),Object.keys(l.grids).forEach(p=>{l.removeGrid(p)}),r.started=!1,this.geo.map.destroyMap(),a.$reset(),n?.loadDefaultEvents===!1&&(this.event.removeDefaultEvents(),this._eventsOn=!1),e===void 0&&(e=JSON.parse(JSON.stringify({startingFixtures:s.startingFixtures,configs:s.registeredConfigs}))),i.clearAll(),this.geo.map.maptip.clear(),this.initialize(c,e,n)}component(e,n){if(n){const r=this.$element.component(e,n);return this.event.emit(Mt.COMPONENT,e),r}return this.$element.component(e)}get screenSize(){if(!this.$vApp?.$root||!this.$vApp.$root.$refs["app-size"])return null;const e=this.$vApp.$root.$refs["app-size"].classList;return e.contains("lg")?"lg":e.contains("md")?"md":e.contains("sm")?"sm":"xs"}getConfig(){const e=jr(this.$vApp.$pinia);return JSON.parse(JSON.stringify(e.getActiveConfig(this.language)))}useStore(e){if(!(["appbar","areas-of-interest","details","export","extentguard","geosearch","grid","help","legend","mapnav","metadata","northarrow","overviewmap","scrollguard","wizard"].includes(e)&&!this.fixture.exists(e)))switch(e){case"appbar":return Hm(this.$vApp.$pinia);case"areas-of-interest":return Rj(this.$vApp.$pinia);case"details":return nT(this.$vApp.$pinia);case"export":return kj(this.$vApp.$pinia);case"extentguard":return Lj(this.$vApp.$pinia);case"geosearch":return $j(this.$vApp.$pinia);case"grid":return $v(this.$vApp.$pinia);case"help":return Vj(this.$vApp.$pinia);case"legend":return zj(this.$vApp.$pinia);case"mapnav":return Wj(this.$vApp.$pinia);case"metadata":return Hj(this.$vApp.$pinia);case"northarrow":return Yj(this.$vApp.$pinia);case"overviewmap":return Zj(this.$vApp.$pinia);case"scrollguard":return Jj(this.$vApp.$pinia);case"wizard":return Xj(this.$vApp.$pinia);case"config":return jr(this.$vApp.$pinia);case"fixture":return Ki(this.$vApp.$pinia);case"instance":return Jp(this.$vApp.$pinia);case"layer":return Rs(this.$vApp.$pinia);case"map-caption":return Vl(this.$vApp.$pinia);case"maptip":return Kv(this.$vApp.$pinia);case"notification":return js(this.$vApp.$pinia);case"panel":return Zl(this.$vApp.$pinia);default:console.error(`The store ${e} does not exist.`);return}}setLanguage(e){if(this.$i18n.locale.value===e)return;const n=jr(this.$vApp.$pinia),r=js(this.$vApp.$pinia),i=n.registeredLangs;Object.keys(n.registeredConfigs).length===1&&r.clearAll();const s=this.$i18n.locale.value;this.$i18n.locale.value=e;const o=this.getConfig();i[s]!==i[e]&&(this.event.emit(Mt.CONFIG_CHANGE,o),this.reload()),this.event.emit(Mt.LANG_CHANGE,{oldLang:s,newLang:e})}get language(){return this.$vApp.$i18n.locale}get animate(){return!!(this.$element._container&&this.$element._container.children[0]&&this.$element._container.children[0].classList.contains("animation-enabled"))}toggleFullscreen(){_o.isEnabled&&_o.toggle(this.$element._container||void 0)}get isFullscreen(){return this._isFullscreen}get started(){return Jp(this.$vApp.$pinia).started}updateAlert(e){const n=this.$vApp.$el.querySelector(".screen-reader-alert");n.childNodes.length>0&&(n.innerHTML="");const r=document.createElement("span");r.setAttribute("role","alert");const i=document.createTextNode(e);r.appendChild(i),n.insertBefore(r,null)}scrollToInstance(){this.ui.scrollToInstance&&this.$element._container?.scrollIntoView({behavior:"smooth"})}start(){const e=Jp(this.$vApp.$pinia);!e.started&&this.startRequired?(this.event.emit(Mt.MAP_START),e.started=!0):e.started&&console.warn("start has already been called")}containsValidHtml(e){return/<(\w+)([^>]*)>(.*?)<\/\1>/.test(e)}representsObject(e){return/^(?:\[\s*(?:[\s\S]*?)\s*\]|\{\s*(?:[\s\S]*?)\s*\})$/.test(e)}}function Syt(t,e){const n=dlt();n.use(({store:o})=>{const a=OD(o.$state);o.$reset=()=>o.$patch(OD(a))});const r=Dut(),i=Dl(Tmt).use(r).use(_mt,{directive:"tippy",component:"tippy"}).use(n);i.directive("focus-container",kmt),i.directive("focus-list",Mmt),i.directive("focus-item",Nmt),i.directive("truncate",v0t),i.component("panel-screen",I0t),i.component("pin",C0t),i.component("close",L0t),i.component("back",j0t),i.component("expand",V0t),i.component("panel-options-menu",Q0t),i.component("dropdown-menu",WT),i.component("minimize",W0t),i.component("right",Z0t),i.component("left",q0t),i.component("fullscreen-nav-button",nyt),i.component("geolocator-nav-button",ryt),i.component("home-nav-button",iyt),i.component("mapnav-button",ayt),i.component("appbar-button",hyt),i.component("transition",Cm),i.component("transition-group",mv),i.config.globalProperties.$iApi=e,i.config.globalProperties.$pinia=n,i.provide("iApi",e);const s=i.mount(t);return{element:i,app:s,i18n:r.global}}class Xb{esriBasemap;config;createErr=!1;constructor(e){this.config=e}static async create(e){const n=new Xb(e),r=e.layers.map(s=>{if(s.layerType===Ct.TILE)return De.TileLayer({url:s.url,opacity:s.opacity});if(s.layerType===Ct.MAPIMAGE)return De.MapImageLayer({url:s.url,opacity:s.opacity});if(s.layerType===Ct.OSM)return De.OpenStreetMapLayer({opacity:s.opacity});throw new Error(`Unsupported layer type provided to basemap config: ${s.layerType}`)}),i=(await Promise.allSettled(r)).filter(s=>s.status==="rejected"?(console.error(s.reason),n.createErr=!0,!1):!0).map(s=>{if(s.status==="fulfilled")return s.value;throw new Error("TS is fun")});return n.esriBasemap=await De.Basemap({baseLayers:i,title:e.name||"",id:e.id}),n}get tileSchemaId(){return this.config.tileSchemaId}get id(){return this.config.id}get name(){return this.config.name}set name(e){this.config.name=e||""}get description(){return this.config.description}set description(e){this.config.description=e||""}get altText(){return this.config.altText}set altText(e){this.config.altText=e||""}get attribution(){return this.config.attribution}set attribution(e){this.config.attribution=e}get backgroundColour(){return this.config.backgroundColour??"#FFFFFF"}}class qj extends In{esriMap;_basemapStore;created=!1;trackFirstBasemap=!1;esriView;_viewPromise;get viewPromise(){return this._viewPromise.getPromise()}_rampSR;_rampExtentSet;_targetDiv;handlers;pointZoomScale;constructor(e){super(e),this.esriMap=void 0,this._basemapStore=[],this._viewPromise=new bn,this.handlers=[],this.pointZoomScale=5e4}noMapErr(){console.error("Attempted to manipulate the map before calling createMap()")}abstractError(){throw new Error("Attempted to call an abstract method in the parent CommonMapAPI")}labelsDefault={visible:void 0};async createMap(e,n){const r=a=>{this.$iApi.notify.show(li.ERROR,this.$iApi.$i18n.t("layer.error",{id:a.name}))},i=e.basemaps.map(a=>Xb.create(a)),s=(await Promise.all(i)).filter(a=>(a.createErr&&r(a),a.esriBasemap.baseLayers.length>0));s.forEach(a=>{a.esriBasemap.baseLayers.forEach(l=>{l.watch("loadStatus",()=>{l.loadStatus==="loaded"?this.trackFirstBasemap=!1:l.loadStatus==="failed"&&(r(a),this.trackFirstBasemap&&this.recoverBasemap(a.tileSchemaId))})})}),this._basemapStore=s,e.labelsDefault&&(this.labelsDefault.visible=e.labelsDefault.visible);const o={};this.esriMap=_n(await De.Map(o)),this.pointZoomScale=e.pointZoomScale&&e.pointZoomScale>0?e.pointZoomScale:5e4,this._targetDiv=n,this.createMapView(e.initialBasemapId)}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMapView(),this.esriMap.destroy(),delete this.esriMap,this._basemapStore.forEach(e=>e.esriBasemap.destroy()),this._basemapStore=[]}async reloadMap(e,n){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.destroyMap(),await this.createMap(e,n)}async createMapView(e){this.abstractError()}destroyMapView(){if(!this.esriView){this.noMapErr();return}this._viewPromise=new bn,this.created=!1,this.handlers.forEach(e=>e.handler.remove()),this.handlers=[],this.esriView.map=null,this.esriView.container=null,this.esriView.spatialReference=null,this.esriView.extent=null,this.esriView.navigation=null,this.esriView.destroy(),delete this.esriView}async findBasemap(e){const n=this._basemapStore.find(r=>r.id===e);if(n)return n;throw new Error(`Invalid basemap id requested: ${e}`)}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Gt(n.esriBasemap)}async setBasemap(e){return this.abstractError(),!1}async recoverBasemap(e){}getCurrentBasemapId(){if(this.esriMap)return this.esriMap.basemap.id;this.noMapErr()}geomToMapSR(e){if(!this._rampSR)throw new Error("call to map.geomToMapSR before the map spatial ref was created");return this._rampSR.isEqual(e.sr)?Promise.resolve(e):this.$iApi.geo.proj.projectGeometry(this._rampSR,e)}async zoomMapTo(e,n,r=!0,i=200,s="ease"){if(this.esriView){if(e.invalid())throw new Error("attempt to zoom to invalid geometry");const o=await this.geomToMapSR(e),a={target:this.$iApi.geo.geom.geomRampToEsri(o)};o.type===Xt.POINT&&(a.scale=n||this.pointZoomScale);const l={animate:r,duration:i,easing:s};return this.viewPromise.then(()=>this.esriView.goTo(a,l))}else this.noMapErr()}getZoomLevel(){return this.esriView?this.esriView.zoom:(this.noMapErr(),1)}getScale(){return this.esriView?this.esriView.scale:(this.noMapErr(),1)}getResolution(){return this.esriView?this.esriView.resolution:(this.noMapErr(),1)}getExtent(){return this.esriView?sn.fromESRI(this.esriView.extent):(this.noMapErr(),sn.fromParams("i_am_error",0,1,0,1))}getExtentSet(){return this._rampExtentSet?this._rampExtentSet:(this.noMapErr(),T0.fromConfig({id:"i_am_error_extent_set",default:{xmin:0,xmax:1,ymin:0,ymax:1,spatialReference:{wkid:4326}}}))}getSR(){return this._rampSR?this._rampSR.clone():(this.noMapErr(),Vt.latLongSR())}getPixelHeight(){return this.esriView?this.esriView.height:(this.noMapErr(),1)}getPixelWidth(){return this.esriView?this.esriView.width:(this.noMapErr(),1)}setPointZoomScale(e){return e>0?(this.pointZoomScale=e,!0):(console.error(`Cannot set pointZoomScale to non-positive number: ${e}.`),!1)}}class Tyt extends In{maptipStore;constructor(e){super(e),this.maptipStore=Kv(this.$vApp.$pinia)}#t=void 0;#e=void 0;async checkAtCoord(e){this.#e=e;const n=await this.$iApi.geo.map.getGraphicAtCoord(e);if(this.#e!==e)return;if(!n){this.clear();return}const r=this.$iApi.geo.layer.getLayer(n.layerId);if(r?.geomType!=Xt.POLYGON&&this.#t&&this.#t.layerId===n.layerId&&this.#t.oid===n.oid&&this.#t.layerIdx===n.layerIdx)return;if(this.clear(),this.#t=n,!r){console.error(`graphic hit test returned non-existent layer id: ${n.layerId}`);return}if(!r.hovertips)return;const i=await r.getIcon(n.oid),s=await r.getGraphic(n.oid,{getAttribs:!0});this.setPoint(this.$iApi.geo.map.screenPointToMapPoint(e)),this.$iApi.event.emit(Mt.MAP_GRAPHICHIT,{layer:r,graphicHit:n,attributes:s.attributes,icon:i,screenPoint:e})}generateDefaultMaptip(e){this.setContent(`<div class="flex items-center space-x-5"><span>${e.icon}</span><span class="line-clamp-3">${e.attributes[e.layer.config.tooltipField||e.layer.nameField]}</span></div>`)}clear(){this.#t=void 0,this.maptipStore.setMaptipPoint(void 0),this.maptipStore.setMaptipContent("")}getInstance(){return this.maptipStore.maptipInstance}getPoint(){return this.maptipStore.maptipPoint}setPoint(e){this.maptipStore.setMaptipPoint(e)}setContent(e){this.maptipStore.setMaptipContent(e)}}class Ayt extends In{DEFAULT_POINT_FORMATTERS={LAT_LONG_DMS:this.formatLatLongDMS,LAT_LONG_DD:this.formatLatLongDD,LAT_LONG_DDM:this.formatLatLongDDM,WEB_MERCATOR:this.formatMercator,CANADA_ATLAS_LAMBERT:this.formatLambert,UTM:this.formatUTM,BASEMAP:this.formatBasemap};pointFormatter;constructor(e){super(e),this.pointFormatter=this.DEFAULT_POINT_FORMATTERS.LAT_LONG_DMS}createCaption(e){if(!e)return;const n=Vl(this.$vApp.$pinia);if(n.coords.disabled=!1,n.scale.disabled=!1,n.scale.isImperialScale=!1,e.mapCoords)if(e.mapCoords.disabled)n.coords.disabled=!0;else{const r=e.mapCoords.formatter;r!==void 0&&this.setPointFormatter(r)}if(e.scaleBar)if(e.scaleBar.disabled)n.scale.disabled=!0;else{const r=e.scaleBar.imperialScale;r!==void 0&&(n.toggleScale(r),this.$iApi.geo.map.viewPromise.then(()=>{this.updateScale()}))}n.langtoggle={disabled:e?.langToggle?.disabled??!1}}updateAttribution(e){const n={disabled:!1,value:this.$iApi.$i18n.t("caption.attributionDefaultText")},r={disabled:!1,altText:this.$iApi.$i18n.t("caption.attributionLogoAltText"),link:this.$iApi.$i18n.t("caption.attributionLink"),value:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAAAkCAYAAADWzlesAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADO9JREFUeNq0Wgl0jlca/pfvzyo6qNBSmhLLKE1kKEUtB9NTat+OYnBacwwJY19DZRC7sR41th60lWaizFSqRTOEw0lsrQSJGFIESSxJ/uRfv3nef+7Vt9f3p2E695z3fMt97/3ufe+7PO+9n9n0UzELsjKyiHdUdMZnVHTl2VyFe9nO7Kc/Io+4epUxmpWxeVkbr3hvUebgFf15GL9XUwZHndtAAYI09jGvIghOuoEwLOLeYiBoXrwGfZjYYOWAvWyMGlsk2YebXeV3NUEW1qcT5BBX4jUbCYEmHwwKEfdW1gEXgoWtiIlNRFeezcrkrQaTNSuraRYDdImrR1ylAALZBPnkXIJ0wRskeG2Cj3jsoFI2HhcfDDFWA9UBNdZZyc/PP4Z3HZYsWTLGbrffond0Xb9+/Qy6P3jw4F+HDx8+mu7XrVs3c+7cuX+i+3nz5o3n/Rw4cGAdf/7hhx9SZ8yYEcffHT9+/G/8uaSkJGvDhg3D8P3moNdXrlw5UtYVFxfnXL9+/V8PHz68grr2N2/eTC4tLb2E+9+Cotq1a/dOenr6njt37nxPdOrUqd0dO3bsjromoHBQKBPkEyFUB71MH6SPbNy4cRqfkMvlenzixImtqO/x3XffbXc6nSW5ubnpOTk5J1NTU/cQH91//fXXu3/88ccLy5cvj6d34B8gaBA9JyQk/OWjjz5aIu8Fz2DiWbZs2QLx/A4m0Qf9f/n48eNsPEeDfrdly5Y/U31UVNT7dJ04ceIsGseNGzfS6DkuLq4v8YE6Y/G+93g8XKZ6QUHBRVHfAPQC0xJfCRAv65EkeUP6gFx11JEkfw/qTc8ff/zxKofDUXrv3r08rOIBeU9CWbx48SLej5y4LGlpaf9YuHDhUv5OtqH+6Vty0riPAbWjheH8n3322VYpuG+//Xa5mGB7CGM8hKN7vV5dLfHx8WNI20E1aN4WP97YZyc7d+6MM5vNHRs2bDg3NjY23e12l5w8eZJWzIUJ9IdmlI4bNy4tICAgtHbt2hGdOnXaSe3oftu2bWmBgYFOn3MwmwcQLViwIJOeYVYJGGAZVuW2zWZzCZ6hoIGapnmknUMTQnr16vUeTOKydHqyHrx9t27dunro0KEfzJw5M4Pe3bp166Z0pHXr1g0Fj2EYCw8PD+N+SjNwUuSAKnxexOkswOWxZN63b9/MAQMGzIUwx5WXl99eunTpFLx+hJU/K9o/yM7OPhgZGdk5KSkpp0WLFv+Vrq7/na5nz57dR1dM6t7hw4e3DRkyJG7WrFlxgudzukIw58TzV3SF3Z+ByUzFbTk5O9j8fVH/JV3PnTv3uRijSdSR5/empKRkT5kypQxCC+UTxMKVQXuyWBT5WbiS4VFjIZLHWQsLN1ZFgFbm0U1KSNWUUMlDp9kAh0iNdCkRwiva2FjUsjJeJ5sYRYQwCGIYNGk8tC1UCuDQoUOb+vbtuxuPRUJ4FVwIFhZ7pUD45OXEbUpo9DIz8hgAFk0BORblWypm8BiQzkKnpoRnM+PxsEWhiYfFxMTUHTx4cDOYhg7tzM7IyLhNCiYEUEbCMxsAGYuCGjl4ClKE4GY+xCnIw95zBKqxvmyCOJqT7dws5ntZzLcoaJEjQiPUahMaESzudWEqhBEeiSuZvUvzA1+lxIMEhbD7QGYKUl0rBAgxC9vlq6IzNZZ9BYt+rMw8pBDLmSZZFBPQmBC8imaofo1roa5oKH82aQaaIH0CDTZM0sCBAxvBKbZ+7bXXGr3yyisN4ZjMDx48uAeAkofQdHbt2rUXhIpJKevMJwSLfqq3bt365enTp3eFh365SZMmBGpMFRUVZcAV1wFmzs2ZMyddtCkXk9ESExOjq1Wr9iLCbwAilA9xwrnlwimS4G2ffvppj1atWrWoWbNmbWCKAtj9V5MnT84cMWJEvTfeeKM+wqSFzCEoKMgJ3HEVgO6SkTlKMwgUgImwArn2DpMmTYrDALP0XyjEA9sbjTZtQZGij7qghqBWoK4AWPswkbLK+qHIsWPHjoXgfwvUhsZAAEflg+dfg0kuBlosUuvoO2jXl65qXWZm5g7UNRPIOIQLQqpcmECMJIAuRp1UVmiCACmTxAReFx+LhnPqV1hY+O9n6evIkSObSXCEHI0WASDtMMJ0uVHb7du3E6p9HxpxQK0DjN4r0Gc9kSZYeZiSNkuaUOv06dPTO3fuPNj0DAWgKWTFihVL+vfvT0J8kfohAsobV6tWrYbP0hf460pnLE2AF2jB21DvIKO2gO6FNB+ERJtaB+xjY37NN3+LogmkHi9s2rTp3bZt277LG8NuK5AopXbv3n0O7Gtsjx49ZmNye6GOD1RBwD9MFUKoSQSc30UdzJUrV26uWrVqP7D/lt27d+9/9OhRMas7gjYbhROzkv9R2wcHBwdWshjkYL1G7SBQTXGwTwQQLLIqWsGeGFAhVyFSO6C7Naj7ADRUJENDQGMjIiLmQl0LVLUbNWrUItSPhBNcodYhFyFklwAiYf0RNKZZs2YfFhUVXYcAvhFm0FFc++fl5eX4Mxto7JnRo0cvID4yHWSz70dHRw+khAxZ6yGVH8ndftS9DWokciWNx15fTN2zZ0+f6tWr1+LS279/fwYgcz4LPzJvdyGVLUFidFiVOIRAqx8KlQysZCdKboJUXL58uRAmMLFp06aLRbh1cGhrVEiD3nzzzTXIcU5R6gC6vXfv3kuIGgSIyq1Wq6cqpmdhiNAXFtu0adNeZVq9enUWA0xywyVECC4AicwttQ2SrvpkYnfv3i1X6xo0aPAiJv2H+fPnt27UqFEN4YsCDBCk33Lt2rW8kSNHJuP2LqUc4kq+4KFAgg6LxeKtSl+a4hMC6tSp85QD27VrVy9I1U2SJaKYS/ZG8Rf5uhVXq91ud4aEhATINo0bN46glUQMv4aQV46MMpj3iRVvsGjRohFEENQtygCRmZ5B6DsqNNPFANJT5cyZM5RoPRBE/qREaJYEYm4aZ1WFwDG9ppoClebNm9czPV/xYXOo6J4xY8Z84I8Jgq9HBCDVfsKECR+mpqZ+gSQnRVQHGTm4CxcuXBP9l4qrneUNPtheVSFYKtkF/jUKqWbx2LFjUxBJViA82asSZvv06TPq+PHjE/D4GzI70jiVT+xDyBzDo8DhZyoWNXsD4Cn/FYVQLKgIofCfMIkhgKyr4bhO8pBoVGgvsEuXLq+SEIw0Qayyl5H+vIPUmJf2ZYOwz5twXE05U/369TfBZu+wvMBpkH7L3dwyYZ+l4uoRPL50FzCcQuAJstvIyMjacG5Rw4YN64b7V9XBxcbGdgJq/cZIE4TT0/2ceTyzJsiMj0JSxfnz50+rTECBUUq2aGd2WC7Izib+WFwdLJs0sczT1w+Q3d34+PhTSKQ2w4GeVL9LTtefY1Q2YEz/qxC8LIe3f/LJJ2kqU79+/WIGDRpUj+0L8N0lG7B6N+QGiS1btgxR9ha8gi949uzZ0UiENgBSR4iQyFNiL0zkrh+V/78XfjJDq1aWnJx85dixY8kqRE1KSopNSUkZ0K1btwjhsGpMmzatbVZW1nTy/JQbQHUXA26HMRul/gOQHkcBUK1BBGiJFHgtcMV7YqeXeEM7dOhQB4lXh6dCS1kZaZbDSBjinV6ZhsBkdAMz0o00SO4hhIrUl7K/7vfv37+hP0eBw8tBftFRpNNNExMThyMqlKp8SEXsADy5t1GM+qF6CHwe+hifm5t7Ta1PSEiYj7rWIhsMZaCPEkDyL+2PHj36hdqO3lGd4KkuYbN0jC5h22TPRT179pwCZ5j9rKqF0FWtd+/eL0kBA9Y2kRudvBB4og2al1CM+iFsgQFfJTCkaZrboL2DhUfd4NjAadROvHPyvUsLayxNghxaMWw0D1EhFiguqSrxXWZ/EN7IyZMnX5QHn127dk0Gxo+nnd6q9EHf2rx58zJgC1oxSrQKgR1cKl9YWJhdOFg329TlC1oBM3YYZJ8OubcozVZTJPjkzEEwOBGr1yIr+xz23xX23i48PPxVjiqRQV6GRuetXLkSbiPpCsPuTulzEAYPAh+cnzp1ao+YmJi31D5gevkwo3sZGRmn0M+RzMzMAhFtaGG0ixcvfpmfn39WbpNBC1zILK8KHqdykCsXszQ7O/sE8WMBNKGlbrxLF1HsSeQyV5JQBSrJUghLdDQmKB46ywTJFTKzfqqxftScwM1OjGXY/Vl0UU7IHcq3XMrutkz0QsX3bOwEWo5TfsNj9hMxjP5VCFR2fPl/AS4xMH7u71X6CWR92JQjer5t72AHLrpyKGRRhKbCZrNybhJg8HvBU+385Qv8DMKi/BjBEaKuHJK42YDU/x789cFhu1s5cFH/hTAp3/UqhzMm5cTM6G8br/qnyi8lTWYDoZiUP1TUEyc1Ble1D5OSA+gG7U0GR3b+fhUy+kVIN0Kb/xFgANrk0XIqRaL0AAAAAElFTkSuQmCC"},i={text:{value:"",disabled:!1},logo:{disabled:!1,altText:"",link:"",value:""}};if(e?(e.logo?e.logo.disabled?i.logo.disabled=!0:(i.logo.altText=e.logo.altText||r.altText,i.logo.link=e.logo.link||r.link,i.logo.value=e.logo.value||r.value):(i.logo.altText=r.altText,i.logo.link=r.link,i.logo.value=r.value),e.text?e.text.disabled?i.text.disabled=!0:i.text.value=e.text.value||n.value:i.text.value=n.value,Vl(this.$vApp.$pinia).setAttribution(i)):(i.logo.altText=r.altText,i.logo.link=r.link,i.logo.value=r.value,i.text.value=n.value),!e||e.text?.disabled||!e.text){if(!this.$iApi.geo.map.esriMap){console.warn("Attempted to fetch map attribution with undefined map");return}let s="";const o=5e3,a=20,l=this.$iApi.geo.map.esriMap.basemap.baseLayers.map(c=>new Promise(p=>{let d=0;const f=o/a,y=setInterval(function(){c.loaded&&!c.loadError?(clearInterval(y),p(c)):d>f&&(clearInterval(y),p(null)),d++},a)})).toArray();Promise.all(l).then(c=>{s=c.filter(p=>p?.copyright).map(p=>p.copyright).join(" | "),i.text.value=s||i.text.value||n.value,Vl(this.$vApp.$pinia).setAttribution(i)})}}updateScale(){const e=Vl(this.$vApp.$pinia),n=e.scale;if(n?.disabled)return;const r=n?.isImperialScale||!1,i=this.scaleHelper().find(s=>s.isImperialScale===r)??{isImperialScale:!1,units:"error",pixels:1,distance:1};e.scale={width:`${i.pixels}px`,label:`${this.$iApi.$i18n.n(i.distance,"number")}${i.units}`,isImperialScale:r}}async formatPoint(e){return e?await this.pointFormatter(e):""}setPointFormatter(e){if(typeof e=="string"){if(!(e in this.DEFAULT_POINT_FORMATTERS)){console.warn(`Could not find point formatter with id: ${e}`);return}this.pointFormatter=this.DEFAULT_POINT_FORMATTERS[e]}else this.pointFormatter=e}scaleHelper(){const e=window.innerWidth>600?70:35,n=this.$iApi.geo.map.getResolution(),r=[],i=n*e,s=1609.34,o=3.28084,a=i>1e3?["km","mi"]:["m","ft"];for(let l=0;l<2;l++){const c=l===1;if(r.push({isImperialScale:c,units:a[l],pixels:0,distance:0}),i>1e3){const p=n*e/(c?s:1e3),d=Math.round(p).toString().length,f=Math.pow(10,d-1);r[l].distance=Math.ceil(p/f)*f,r[l].pixels=r[l].distance*(c?s:1e3)/n}else r[l].distance=Math.ceil(c?i*o:i),r[l].pixels=i/n}return r}wrapValue(e,n,r){return((e-n)%(r-n)+(r-n))%(r-n)+n}async formatLatLongDMS(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.floor(Math.abs((r-o)*60)),l=Math.floor((Math.abs(r)-Math.abs(o)-a/60)*3600),c=Math.floor(Math.abs(i))*(i<0?-1:1),p=Math.floor(Math.abs((i-c)*60)),d=Math.floor((Math.abs(i)-Math.abs(c)-p/60)*3600);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(l,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(c),"number")}${s} ${this.$iApi.$i18n.n(p,"number",{minimumIntegerDigits:2})}' ${this.$iApi.$i18n.n(d,"number",{minimumIntegerDigits:2})}" ${this.$iApi.$i18n.t("map.coordinates."+(0>i?"west":"east"))}`}async formatLatLongDDM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.floor(Math.abs(r))*(r<0?-1:1),a=Math.abs((r-o)*60),l=Math.floor(Math.abs(i))*(i<0?-1:1),c=Math.abs((i-l)*60);return`${this.$iApi.$i18n.n(Math.abs(o),"number")}${s} ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(Math.abs(l),"number")}${s} ${this.$iApi.$i18n.n(c,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})} ${this.$iApi.$i18n.t("map.coordinates."+(0>i?"west":"east"))}`}async formatLatLongDD(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s="\xB0",o=Math.abs(r),a=Math.abs(i);return`${this.$iApi.$i18n.n(o,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} | ${this.$iApi.$i18n.n(a,"number",{minimumIntegerDigits:2,minimumFractionDigits:5,maximumFractionDigits:5})}${s} ${this.$iApi.$i18n.t("map.coordinates."+(0>i?"west":"east"))}`}async formatMercator(e){const n=await this.$iApi.geo.proj.projectGeometry(102100,e);return`${this.$iApi.$i18n.n(Math.floor(n.x),"number")} m | ${this.$iApi.$i18n.n(Math.floor(n.y),"number")} m`}async formatLambert(e){const n=await this.$iApi.geo.proj.projectGeometry(3978,e);return`${this.$iApi.$i18n.n(Math.abs(Math.floor(n.x)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(0>n.x?"west":"east"))} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(n.y)),"number")} m ${this.$iApi.$i18n.t("map.coordinates."+(n.y>0?"north":"south"))}`}async formatUTM(e){const n=await this.$iApi.geo.proj.projectGeometry(4326,e),r=this.wrapValue(n.y,-90,90),i=this.wrapValue(n.x,-180,180),s=Math.ceil((i+180)/6),o=await this.$iApi.geo.proj.projectGeometry(parseInt("326"+s),e);return`${this.$iApi.$i18n.n(s,"number",{minimumIntegerDigits:2})} ${this.$iApi.$i18n.t("map.coordinates."+(r>0?"north":"south"))} ${this.$iApi.$i18n.n(Math.floor(o.x),"number")} m${this.$iApi.$i18n.t("map.coordinates.east")} | ${this.$iApi.$i18n.n(Math.abs(Math.floor(o.y)),"number")} m${this.$iApi.$i18n.t("map.coordinates.north")}`}async formatBasemap(e){const n=await this.$iApi.geo.proj.projectGeometry(this.$iApi.geo.map.getSR(),e);return`${this.$iApi.$i18n.n(n.x,"number")} | ${this.$iApi.$i18n.n(n.y,"number")}`}}class Iyt extends qj{maptip;caption;mapMouseThrottle;layerDefaultTimes={draw:0,load:0,fail:0};constructor(e){super(e),this.maptip=new Tyt(e),this.caption=new Ayt(e),this.mapMouseThrottle=0}async createMap(e,n){this.setMapMouseThrottle(e.mapMouseThrottle??0),this.trackFirstBasemap=!0,this.layerDefaultTimes.draw=e.layerTimeDefault?.expectedDrawTime??1e4,this.layerDefaultTimes.load=e.layerTimeDefault?.expectedLoadTime??1e4,this.layerDefaultTimes.fail=e.layerTimeDefault?.maxLoadTime||9e4,await super.createMap(e,n),this.viewPromise.then(()=>{this.$iApi.event.emit(Mt.MAP_CREATED)})}destroyMap(){if(!this.esriMap||!this.esriView){this.noMapErr();return}this.$iApi.geo.layer.allLayersOnMap(!1).map(e=>e.uid).forEach(e=>this.removeLayer(e)),super.destroyMap(),this.$iApi.event.emit(Mt.MAP_DESTROYED)}async createMapView(e){const n=jr(this.$vApp.$pinia).config.map;if(!n)throw new Error("Attempted to create map view without a map config");const r=(typeof e=="string"?await this.findBasemap(e):e)||await this.findBasemap(n.initialBasemapId),i=n.tileSchemas.find(a=>a.id===r.tileSchemaId);if(!i)throw new Error(`Could not find tile schema for the given basemap id: ${r.id}`);const s=n.extentSets.find(a=>a.id===i.extentSetId);if(!s)throw new Error(`Could not find extent set with the given id: ${i.extentSetId}`);this._rampExtentSet=T0.fromConfig(s),this._rampSR=this._rampExtentSet.sr.clone();const o=n.lodSets.find(a=>a.id===i.lodSetId);if(!o)throw new Error(`Could not find lod set with the given id: ${i.lodSetId}`);this.esriView=_n(await De.MapView({map:this.esriMap,container:this._targetDiv,constraints:{lods:o.lods,rotationEnabled:!1},spatialReference:this._rampSR.toESRI(),extent:this._rampExtentSet.defaultExtent.toESRI(),navigation:{browserTouchPanEnabled:!1},background:{color:r.backgroundColour}})),this.esriView.ui.components=[],this.handlers.push({type:"extent",handler:this.esriView.watch("extent",a=>{if(a){const l=this.$iApi.geo.geom.geomEsriToRamp(a,"map_extent_event");this.$iApi.event.emit(Mt.MAP_EXTENTCHANGE,l),this.$iApi.event.emit(Mt.FILTER_CHANGE,{extent:l,filterKey:fr.EXTENT})}})}),this.handlers.push({type:"scale",handler:this.esriView.watch("scale",a=>{this.$iApi.event.emit(Mt.MAP_SCALECHANGE,a)})}),this.handlers.push({type:"resize",handler:this.esriView.on("resize",a=>{this.$iApi.event.emit(Mt.MAP_RESIZED,{height:a.height,width:a.width})})}),this.handlers.push({type:"click",handler:this.esriView.on("click",a=>{this.$iApi.event.emit(Mt.MAP_CLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_click_point"))})}),this.handlers.push({type:"double-click",handler:this.esriView.on("double-click",a=>{this.$iApi.event.emit(Mt.MAP_DOUBLECLICK,this.$iApi.geo.geom.esriMapClickToRamp(a,"map_doubleclick_point"))})}),this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),this.handlers.push({type:"pointer-move-start",handler:this.esriView.on("pointer-move",Ym(100,!0,a=>{this.$iApi.event.emit(Mt.MAP_MOUSEMOVE_START,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-move-end",handler:this.esriView.on("pointer-move",Ym(100,a=>{this.$iApi.event.emit(Mt.MAP_MOUSEMOVE_END,this.$iApi.geo.geom.esriMapMouseToRamp(a))}))}),this.handlers.push({type:"pointer-leave",handler:this.esriView.on("pointer-leave",a=>{setTimeout(()=>{this.$iApi.event.emit(Mt.MAP_MOUSELEAVE,a.native)},Math.max(this.mapMouseThrottle,100)+1)})}),this.handlers.push({type:"pointer-down",handler:this.esriView.on("pointer-down",a=>{this.$iApi.event.emit(Mt.MAP_MOUSEDOWN,a.native)})}),this.handlers.push({type:"key-down",handler:this.esriView.on("key-down",a=>{this.$iApi.event.emit(Mt.MAP_KEYDOWN,a.native),a.stopPropagation()})}),this.handlers.push({type:"key-up",handler:this.esriView.on("key-up",a=>{this.$iApi.event.emit(Mt.MAP_KEYUP,a.native),a.stopPropagation()})}),this.handlers.push({type:"focus",handler:this.esriView.on("focus",a=>{this.$iApi.event.emit(Mt.MAP_FOCUS,a.native)})}),this.handlers.push({type:"blur",handler:this.esriView.on("blur",a=>{this.$iApi.event.emit(Mt.MAP_BLUR,a.native)})}),this.esriView.container.addEventListener("touchmove",a=>{a.preventDefault()}),this.esriView.watch("fatalError",()=>{const a=new IntersectionObserver(l=>{l.forEach(c=>{c.isIntersecting&&(this.esriView?.tryFatalErrorRecovery(),a.disconnect())})});a.observe(this.esriView.container)}),this.esriView.when(()=>{if(this._viewPromise.resolveMe(),this.created=!0,this.applyBasemap(r),i.recoveryBasemap?.basemapId){const a=i.recoveryBasemap.timeout??8e3;a>0&&setTimeout(()=>{this.trackFirstBasemap&&this.recoverBasemap(i.id)},a)}})}destroyMapView(){this.esriView?.container.removeEventListener("touchmove",e=>{e.preventDefault()}),super.destroyMapView()}async applyBasemap(e){if(!this.esriMap){this.noMapErr();return}const n=typeof e=="string"?await this.findBasemap(e):e;this.esriMap.basemap=Gt(n.esriBasemap);const r=jr(this.$vApp.$pinia);r.activeBasemapConfig=n.config}async setBasemap(e){if(!this.esriView||!this.esriMap)return this.noMapErr(),!1;const n=jr(this.$vApp.$pinia),r=await this.findBasemap(e),i=n.activeBasemapConfig.tileSchemaId!==r.tileSchemaId;if(i){const s=this.getExtent().center(),o=this.getScale();this._viewPromise=new bn,this.created=!1,this.$iApi.event.emit(Mt.MAP_REFRESH_START),this.destroyMapView(),this.createMapView(r),await this.viewPromise.then(()=>{this.$iApi.event.emit(Mt.MAP_REFRESH_END),this.$iApi.event.emit(Mt.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:i});const a=this.findClosestScale(o);this.$iApi.geo.proj.projectGeometry(this._rampSR,s).then(l=>this.zoomMapTo(l,a,!1))})}else{await this.applyBasemap(r);const s=await De.ColorBackground({color:new Ta(r.backgroundColour).toESRI()});this.esriView.background=s,this.$iApi.event.emit(Mt.MAP_BASEMAPCHANGE,{basemapId:e,schemaChanged:i})}return i}async recoverBasemap(e){this.esriMap||this.noMapErr(),this.trackFirstBasemap=!1;const n=jr(this.$vApp.$pinia).config.map;if(n){const r=n.tileSchemas.find(i=>i.id===e);if(r?.recoveryBasemap?.basemapId){const i=await this.findBasemap(r.recoveryBasemap.basemapId);await this.applyBasemap(i)}}}addLayer(e,n=void 0){return new Promise((r,i)=>{if(this.esriMap||(this.noMapErr(),i()),e.initiationState!==Je.INITIATING&&e.initiationState!==Je.INITIATED&&e.layerState!==ln.ERROR&&e.initiate(),e.mapLayer&&n===void 0){const l=this.$iApi.geo.layer.layerOrderIds();if(e.isCosmetic)n=l.length;else{const c=this.$iApi.geo.layer.allLayers();let p=!0;for(let d=l.length-1;d>=0&&p;d--){const f=c.find(y=>y.id===l[d]);f&&!f.isCosmetic&&(n=d+1,p=!1)}p&&(n=0)}}Rs(this.$vApp.$pinia).addLayer(e,n),this.$iApi.event.emit(Mt.LAYER_REGISTERED,e);const s=Date.now();let o=0;const a=setInterval(()=>{o+=250,o>=e.expectedTime.fail||e.layerState===ln.ERROR?(clearInterval(a),e.lastCancel<s&&console.error(`Failed to add layer: ${e.id}.`),i()):e.initiationState===Je.INITIATED&&(e.esriLayer||!e.mapLayer)&&(clearInterval(a),e.mapLayer?this.insertToEsriMap(e):e.onLoad(),r())},250)})}insertToEsriMap(e){let n=0;const r=this.$iApi.geo.layer.getLayerPosition(e.id)??-1;if(r>0){const i=this.$iApi.geo.layer.layerOrderIds(),s=this.$iApi.geo.layer.allLayers();for(let o=r-1;o>-1;o--){const a=i[o],l=s.find(c=>c.id===a);if(l&&l.esriLayer){const c=this.esriMap.layers.indexOf(l.esriLayer);if(c>-1){n=c+1;break}}else l||console.error("ESRI Layer insert encountered bad state. Layer likely inserted at bottom of map.")}}r>-1&&this.esriMap?.add(e.esriLayer,n)}reorder(e,n,r=!1){if(n<0){console.error("Negative index passed to map reorder");return}if(!this.esriMap){this.noMapErr();return}if(e.isSublayer&&(e=e.parentLayer),!e.mapLayer){console.error("Attempted to reorder a data layer");return}const i=this.$iApi.geo.layer.allLayers();let s=this.$iApi.geo.layer.layerOrderIds();if(r){if(e.isCosmetic)return;if(n>0){const a=s.filter(l=>{const c=i.find(p=>p.id===l);return c?!c.isCosmetic:(console.error("Layer reorder had critical error"),!1)});n>=a.length&&(console.error("non-cosmetic reorder index was too high"),n=a.length-1),n=s.indexOf(a[n])}}else n>=s.length&&(console.error("reorder index was too high"),n=s.length-1);const o=s.indexOf(e.id);if(o!==n){if(Rs(this.$vApp.$pinia).reorderLayer(e,n),e.esriLayer&&this.esriMap.layers.indexOf(e.esriLayer)>-1){let a=0;if(n>0){s=this.$iApi.geo.layer.layerOrderIds();for(let l=n-1;l>-1;l--){const c=s[l],p=i.find(d=>d.id===c);if(p&&p.esriLayer){const d=this.esriMap.layers.indexOf(p.esriLayer);if(d>-1){const f=n<o?1:0;a=d+f;break}}else p||console.error("Layer reorder had critical error")}}this.esriMap.reorder(e.esriLayer,a)}this.$iApi.event.emit(Mt.MAP_REORDER,{layer:e,newIndex:n})}}removeSublayer(e){let n,r;if(typeof e=="string")n=e,r=this.$iApi.geo.layer.getLayer(n);else{if(!e.isSublayer)throw new Error(`Attempted to call removeSublayer on a non-sublayer object: ${e}`);n=e.uid,r=e}if(!r)throw new Error("Sublayer could not be found for removal.");r.visibility=!1,r.isRemoved=!0,this.$iApi.event.emit(Mt.LAYER_REMOVE,e),r.parentLayer?.sublayers.every(i=>i.isRemoved)&&this.removeLayer(r.parentLayer)}removeLayer(e){if(!this.esriMap){this.noMapErr();return}let n;if(e instanceof Wb?n=e:n=this.$iApi.geo.layer.getLayer(e),!n)throw new Error("Layer could not be found for removal.");if(n.isSublayer){this.removeSublayer(n);return}n.supportsSublayers&&n.sublayers.forEach(i=>{i.isRemoved||this.removeSublayer(i)});const r=Rs(this.$vApp.$pinia);r.removeLayer(n),r.removeLayerConfig(n.id),n.removeEsriLayer(),n.initiationState===Je.INITIATED&&n.terminate(),n.isRemoved=!0,this.$iApi.event.emit(Mt.LAYER_REMOVE,n)}setMapMouseThrottle(e){if(e<0)return console.error("Cannot set map mouse throttle to value that is less than 0."),!1;this.mapMouseThrottle=e;const n=this.handlers.findIndex(r=>r.type==="pointer-move");if(n!==-1){const r=this.handlers[n];this.handlers.splice(n,1),r.handler.remove()}return n!==-1&&this.esriView&&this.handlers.push({type:"pointer-move",handler:this.esriView.on("pointer-move",this.createMouseMoveHandler())}),!0}createMouseMoveHandler(){if(!this.esriView){this.noMapErr();return}return $l(this.mapMouseThrottle,e=>{this.$iApi.event.emit(Mt.MAP_MOUSEMOVE,this.$iApi.geo.geom.esriMapMouseToRamp(e))})}async zoomToLevel(e){if(this.esriView)return this.esriView.goTo({zoom:e});this.noMapErr()}async zoomIn(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom+1);this.noMapErr()}async zoomOut(){if(this.esriView)return this.zoomToLevel(this.esriView.zoom-1);this.noMapErr()}async zoomToVisibleScale(e){if(!this.esriView){this.noMapErr();return}const n=e.isOffScale(this.getScale());if(!n.offScale)return;const r=this.esriView.constraints.lods;if(!r)return this.zoomMapTo(this.getExtent().center(),(n.zoomIn,e.minScale));const i=n.zoomIn?r:[...r].reverse(),s=i.find(o=>n.zoomIn?o.scale<e.minScale:o.scale>e.maxScale)||i[i.length-1];return this.zoomToLevel(s.level)}findClosestScale(e){const n=this.esriView?.constraints.lods;if(!n)return e;const r=n.map(s=>Math.abs(s.scale-e)),i=r.indexOf(Math.min(...r));return n[i].scale}async takeScreenshot(e){if(this.esriView)return e.quality||(e.quality=1),e.format||(e.format="png"),this.esriView.takeScreenshot(e);throw new Error("Export attempted without a map view available")}screenPointToMapPoint(e){return this.esriView?vr.fromESRI(this.esriView.toMap({x:e.screenX,y:e.screenY}),"mappoint"):(this.noMapErr(),new vr("i_am_error",[0,0],void 0,!0))}mapPointToScreenPoint(e){if(this.esriView){const n=this.esriView.toScreen(e.toESRI());return{screenX:n.x,screenY:n.y}}else return this.noMapErr(),{screenX:1,screenY:1}}runIdentify(e){const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(c=>c.canIdentify());let r;if(e instanceof vr){const c=this.mapPointToScreenPoint(e);r={mapPoint:e,screenX:c.screenX,screenY:c.screenY,button:0,input:"mouse",clickTime:Date.now()}}else r=e;if(n===void 0)return{click:r,results:[]};let i=Promise.resolve([]);n.some(c=>c.identifyMode===Vn.HYBRID||c.identifyMode===Vn.SYMBOLIC)&&(i=this.esriView.hitTest({x:r.screenX,y:r.screenY}).then(c=>c.results.map(p=>({layerId:p.layer.id,layerIdx:0,oid:p.graphic.getObjectId()}))));const s={geometry:r.mapPoint,hitTest:i},o=n.filter(c=>c.supportsIdentify).map(c=>(s.tolerance=r.input=="touch"?c.touchTolerance:c.mouseTolerance,c.runIdentify(s))).flat(),a=Date.now();o.forEach(c=>{c.requestTime=a});const l={results:o,click:r};return this.$iApi.event.emit(Mt.MAP_IDENTIFY,l),l}async getGraphicAtCoord(e){if(!this.esriView){this.noMapErr();return}const n=this.$iApi.geo.layer.allLayersOnMap(!1).filter(l=>l.supportsFeatures||l.layerType===Ct.GRAPHIC);if(n.length===0)return;const r=await this.esriView.hitTest({x:e.screenX,y:e.screenY});if(r.results.length===0)return;const i=r.results;let s,o;const a=new Set;if(i.some(l=>{if(a.has(l.layer.id))return!1;const c=n.find(p=>p.id===l.layer.id);return c?(!c.isCosmetic&&c.layerType!==Ct.GRAPHIC&&(s=c,o=l.graphic),!0):(a.add(l.layer.id),!1)}),s&&o)return{oid:o.getObjectId(),layerId:s.id,layerIdx:s.layerIdx}}_activeKeys=[];_panInterval;_mouseFocus=!1;mapKeyDown(e){const n=["=","-"];["Shift","Control","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this._activeKeys.some(r=>n.includes(r))||this.keyPan()):n.includes(e.key)&&!this._activeKeys.includes(e.key)?(this._activeKeys.push(e.key),this.keyZoom(e)):e.key==="Enter"?this.runIdentify(this.getExtent().center()):e.key==="Tab"&&this._activeKeys.push(e.key)}mapKeyUp(e){const n=["=","-"];this._activeKeys.includes(e.key)&&!n.includes(e.key)&&(this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this._activeKeys.some(r=>n.includes(r))||this.keyPan())}setMouseFocus(){this._mouseFocus=!0}stopKeyPan(){this._activeKeys.includes("Tab")&&(this._mouseFocus=!1),this._activeKeys=[],clearInterval(this._panInterval)}get keysActive(){return this._activeKeys.filter(e=>!["Control","Shift"].includes(e)).length!==0}get mouseFocus(){return this._mouseFocus}async keyZoom(e){clearInterval(this._panInterval),e.key==="="?await this.zoomIn():e.key==="-"&&await this.zoomOut(),this._activeKeys.splice(this._activeKeys.indexOf(e.key),1),this.keyPan()}keyPan(){if(clearInterval(this._panInterval),!this.keysActive)return;const e=this.getExtent().center(),n=this.mapPointToScreenPoint(e),r=this.screenPointToMapPoint({screenX:n.screenX+5,screenY:n.screenY+5}),i=Math.abs(r.x-e.x),s=Math.abs(r.y-e.y);let o=0,a=0,l=1;for(let p=0;p<this._activeKeys.length;++p)switch(this._activeKeys[p]){case"ArrowLeft":o-=i;break;case"ArrowRight":o+=i;break;case"ArrowUp":a+=s;break;case"ArrowDown":a-=s;break;case"Shift":l=2;break;case"Control":l=.25;break}const c=this.getScale();this._panInterval=setInterval(()=>{e.x+=l*o,e.y+=l*a,this.zoomMapTo(e,c,!1)},25)}}const Myt={geometryType:"point",renderer:{type:"simple",symbol:{type:"esriSMS",style:"esriSMSCircle",color:[67,100,255,200],size:7,outline:{color:[0,0,0,255],width:1}}}},Oyt={geometryType:"polyline",renderer:{type:"simple",symbol:{type:"esriSLS",style:"esriSLSSolid",color:[90,90,90,200],width:2}}},Nyt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[76,76,125,200],outline:{type:"esriSLS",style:"esriSLSSolid",color:[110,110,110,255],width:1}}}},Cyt={geometryType:"polygon",renderer:{type:"simple",symbol:{type:"esriSFS",style:"esriSFSSolid",color:[255,0,0,64],outline:{type:"esriSLS",style:"esriSLSSolid",color:[240,128,128,255],width:1}}}},Ryt={circlePoint:Myt,solidLine:Oyt,outlinedPoly:Nyt,boundingBoxPoly:Cyt};var D4={exports:{}},kyt=D4.exports,Kj;function Lyt(){return Kj||(Kj=1,function(t,e){(function(n,r){if(t.exports=r(tk()),typeof n.navigator=="object"){if(!n.Terraformer)throw new Error("Terraformer.ArcGIS requires the core Terraformer library. https://github.com/esri/Terraformer");n.Terraformer.ArcGIS=r(n.Terraformer)}})(kyt,function(n){var r={};function i(w){var T=0,A=0,x=[],b,I,N,R;N=w.match(/((\+|\-)[^\+\-]+)/g),R=parseInt(N[0],32);for(var P=1;P<N.length;P+=2)b=parseInt(N[P],32)+T,T=b,I=parseInt(N[P+1],32)+A,A=I,x.push([b/R,I/R]);return x}function s(w){return o(w[0],w[w.length-1])||w.push(w[0]),w}function o(w,T){for(var A=0;A<w.length;A++)if(w[A]!==T[A])return!1;return!0}function a(w){var T={};for(var A in w)w.hasOwnProperty(A)&&(T[A]=w[A]);return T}function l(w){var T=0,A=0,x=w.length,b=w[A],I;for(A;A<x-1;A++)I=w[A+1],T+=(I[0]-b[0])*(I[1]+b[1]),b=I;return T>=0}function c(w){var T=[],A=w.slice(0),x=s(A.shift().slice(0));if(x.length>=4){l(x)||x.reverse(),T.push(x);for(var b=0;b<A.length;b++){var I=s(A[b].slice(0));I.length>=4&&(l(I)&&I.reverse(),T.push(I))}}return T}function p(w){for(var T=[],A=0;A<w.length;A++)for(var x=c(w[A]),b=x.length-1;b>=0;b--){var I=x[b].slice(0);T.push(I)}return T}function d(w,T){var A=n.Tools.arraysIntersectArrays(w,T),x=n.Tools.coordinatesContainPoint(w,T[0]);return!!(!A&&x)}function f(w){for(var T=[],A=[],x,b,I,N=0;N<w.length;N++){var R=s(w[N].slice(0));if(!(R.length<4))if(l(R)){var P=[R.slice().reverse()];T.push(P)}else A.push(R.slice().reverse())}for(var D=[];A.length;){I=A.pop();var B=!1;for(x=T.length-1;x>=0;x--)if(b=T[x][0],d(b,I)){T[x].push(I),B=!0;break}B||D.push(I)}for(;D.length;){I=D.pop();var $=!1;for(x=T.length-1;x>=0;x--)if(b=T[x][0],n.Tools.arraysIntersectArrays(b,I)){T[x].push(I),$=!0;break}$||T.push([I.reverse()])}return T.length===1?{type:"Polygon",coordinates:T[0]}:{type:"MultiPolygon",coordinates:T}}function y(w,T){var A={};return T=T||{},T.idAttribute=T.idAttribute||void 0,w.spatialReference&&(w.spatialReference.wkid===3857||w.spatialReference.wkid===102100)&&(A.crs=n.MercatorCRS),typeof w.x=="number"&&typeof w.y=="number"&&(A.type="Point",A.coordinates=[w.x,w.y],(w.z||w.m)&&A.coordinates.push(w.z),w.m&&A.coordinates.push(w.m)),w.points&&(A.type="MultiPoint",A.coordinates=w.points.slice(0)),w.paths&&(w.paths.length===1?(A.type="LineString",A.coordinates=w.paths[0].slice(0)):(A.type="MultiLineString",A.coordinates=w.paths.slice(0))),w.rings&&(A=f(w.rings.slice(0))),typeof w.xmin=="number"&&typeof w.ymin=="number"&&typeof w.xmax=="number"&&typeof w.ymax=="number"&&(A.type="Polygon",A.coordinates=[[[w.xmax,w.ymax],[w.xmin,w.ymax],[w.xmin,w.ymin],[w.xmax,w.ymin],[w.xmax,w.ymax]]]),(w.compressedGeometry||w.geometry||w.attributes)&&(A.type="Feature",w.compressedGeometry&&(w.geometry={paths:[i(w.compressedGeometry)]}),A.geometry=w.geometry?y(w.geometry):null,A.properties=w.attributes?a(w.attributes):null,w.attributes&&(A.id=w.attributes[T.idAttribute]||w.attributes.OBJECTID||w.attributes.FID)),new n.Primitive(A)}function g(w,T){var A;T=T||{};var x=T.idAttribute||"OBJECTID";T.sr?A={wkid:T.sr}:w&&w.crs&&w.crs.properties.name!="urn:ogc:def:crs:OGC:1.3:CRS84"?A=null:A={wkid:4326};var b={},I;switch(w.type){case"Point":b.x=w.coordinates[0],b.y=w.coordinates[1],w.coordinates[2]&&(b.z=w.coordinates[2]),w.coordinates[3]&&(b.m=w.coordinates[3]),b.spatialReference=A;break;case"MultiPoint":b.points=w.coordinates.slice(0),b.spatialReference=A;break;case"LineString":b.paths=[w.coordinates.slice(0)],b.spatialReference=A;break;case"MultiLineString":b.paths=w.coordinates.slice(0),b.spatialReference=A;break;case"Polygon":b.rings=c(w.coordinates.slice(0)),b.spatialReference=A;break;case"MultiPolygon":b.rings=p(w.coordinates.slice(0)),b.spatialReference=A;break;case"Feature":w.geometry&&(b.geometry=g(w.geometry,T)),b.attributes=w.properties?a(w.properties):{},w.id&&(b.attributes[x]=w.id);break;case"FeatureCollection":for(b=[],I=0;I<w.features.length;I++)b.push(g(w.features[I],T));break;case"GeometryCollection":for(b=[],I=0;I<w.geometries.length;I++)b.push(g(w.geometries[I],T));break}return b}function _(w){return new n.LineString(i(w))}return r.parse=y,r.convert=g,r.toGeoJSON=y,r.fromGeoJSON=g,r.parseCompressedGeometry=_,r})}(D4)),D4.exports}var Pyt=Lyt();const Dyt=np(Pyt);function Qj(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+"]"}).join(",")+"}")}function jyt(t,e){var n=Qj(t);return function(r,i){return e(n(r),i,t)}}function Fyt(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function j4(t){var e=new RegExp('["'+t+`
]`),n=t.charCodeAt(0);function r(c,p){var d,f,y=i(c,function(g,_){if(d)return d(g,_-1);f=g,d=p?jyt(g,p):Qj(g)});return y.columns=f,y}function i(c,p){var d={},f={},y=[],g=c.length,_=0,w=0,T,A;function x(){if(_>=g)return f;if(A)return A=!1,d;var I=_,N;if(c.charCodeAt(I)===34){for(var R=I;R++<g;)if(c.charCodeAt(R)===34){if(c.charCodeAt(R+1)!==34)break;++R}return _=R+2,N=c.charCodeAt(R+1),N===13?(A=!0,c.charCodeAt(R+2)===10&&++_):N===10&&(A=!0),c.slice(I+1,R).replace(/""/g,'"')}for(;_<g;){var P=1;if(N=c.charCodeAt(_++),N===10)A=!0;else if(N===13)A=!0,c.charCodeAt(_)===10&&(++_,++P);else if(N!==n)continue;return c.slice(I,_-P)}return c.slice(I)}for(;(T=x())!==f;){for(var b=[];T!==d&&T!==f;)b.push(T),T=x();p&&(b=p(b,w++))==null||y.push(b)}return y}function s(c,p){return p==null&&(p=Fyt(c)),[p.map(l).join(t)].concat(c.map(function(d){return p.map(function(f){return l(d[f])}).join(t)})).join(`
`)}function o(c){return c.map(a).join(`
`)}function a(c){return c.map(l).join(t)}function l(c){return c==null?"":e.test(c+="")?'"'+c.replace(/\"/g,'""')+'"':c}return{parse:r,parseRows:i,format:s,formatRows:o}}var Bb=j4(","),Uyt=Bb.parse,Gyt=Bb.parseRows,$yt=Bb.format,Vyt=Bb.formatRows,zb=j4("	"),Byt=zb.parse,zyt=zb.parseRows,Wyt=zb.format,Hyt=zb.formatRows;const Yyt=Object.freeze(Object.defineProperty({__proto__:null,csvFormat:$yt,csvFormatRows:Vyt,csvParse:Uyt,csvParseRows:Gyt,dsvFormat:j4,tsvFormat:Wyt,tsvFormatRows:Hyt,tsvParse:Byt,tsvParseRows:zyt},Symbol.toStringTag,{value:"Module"})),Zyt=qR(Yyt);var ju={exports:{}},tF;function Jyt(){if(tF)return ju.exports;tF=1,ju.exports=t,ju.exports.pair=s,ju.exports.format=n,ju.exports.formatPair=e,ju.exports.coordToDMS=r;function t(a,l){var c=i(a,l);return c===null?null:c.val}function e(a){return n(a.lat,"lat")+" "+n(a.lon,"lon")}function n(a,l){var c=r(a,l);return c.whole+"\xB0 "+(c.minutes?c.minutes+"' ":"")+(c.seconds?c.seconds+'" ':"")+c.dir}function r(a,l){var c={lat:["N","S"],lon:["E","W"]}[l]||"",p=c[a>=0?0:1],d=Math.abs(a),f=Math.floor(d),y=d-f,g=y*60,_=Math.floor(g),w=Math.floor((g-_)*60);return{whole:f,minutes:_,seconds:w,dir:p}}function i(a,l){if(l||(l="NSEW"),typeof a!="string")return null;a=a.toUpperCase();var c=/^[\s\,]*([NSEW])?\s*([\-|\—|\―]?[0-9.]+)[°º˚]?\s*(?:([0-9.]+)['’′‘]\s*)?(?:([0-9.]+)(?:''|"|”|″)\s*)?([NSEW])?/,p=a.match(c);if(!p)return null;var d=p[0],f;if(p[1]&&p[5]?(f=p[1],d=d.slice(0,-1)):f=p[1]||p[5],f&&l.indexOf(f)===-1)return null;var y=p[2]?parseFloat(p[2]):0,g=p[3]?parseFloat(p[3])/60:0,_=p[4]?parseFloat(p[4])/3600:0,w=y<0?-1:1;return(f==="S"||f==="W")&&(w*=-1),{val:(Math.abs(y)+g+_)*w,dim:f,matched:d,remain:a.slice(d.length)}}function s(a,l){a=a.trim();var c=i(a,l);if(!c)return null;a=c.remain.trim();var p=i(a,l);return!p||p.remain?null:c.dim?o(c.val,p.val,c.dim):[c.val,p.val]}function o(a,l,c){if(c==="N"||c==="S")return[a,l];if(c==="W"||c==="E")return[l,a]}return ju.exports}var F4,eF;function Xyt(){if(eF)return F4;eF=1;var t=Zyt,e=Jyt(),n=/(Lat)(itude)?/gi,r=/(L)(on|ng)(gitude)?/i;function i(w,T){var A,x,b;for(var I in w)x=I.match(T),x&&(!A||x[0].length/I.length>b)&&(b=x[0].length/I.length,A=I);return A}function s(w){return i(w,n)}function o(w){return i(w,r)}function a(w){return!!w.match(n)}function l(w){return!!w.match(r)}function c(w){return typeof w=="object"?Object.keys(w).length:0}function p(w){var T=[",",";","	","|"],A=[];return T.forEach(function(x){var b=t.dsvFormat(x).parse(w);if(b.length>=1){for(var I=c(b[0]),N=0;N<b.length;N++)if(c(b[N])!==I)return;A.push({delimiter:x,arity:Object.keys(b[0]).length})}}),A.length?A.sort(function(x,b){return b.arity-x.arity})[0].delimiter:null}function d(w){return delete w.columns,w}function f(w){var T=p(w);return T?d(t.dsvFormat(T).parse(w)):null}function y(w,T,A){A||(A=T,T={}),T.delimiter=T.delimiter||",";var x=T.latfield||"",b=T.lonfield||"",I=T.crs||"",N=[],R={type:"FeatureCollection",features:N};if(I!==""&&(R.crs={type:"name",properties:{name:I}}),T.delimiter==="auto"&&typeof w=="string"&&(T.delimiter=p(w),!T.delimiter)){A({type:"Error",message:"Could not autodetect delimiter"});return}var P=T.numericFields?T.numericFields.split(","):null,D=typeof w=="string"?t.dsvFormat(T.delimiter).parse(w,function(k){if(P)for(var H in k)P.includes(H)&&(k[H]=+k[H]);return k}):w;if(!D.length){A(null,R);return}var B=[],$;x||(x=s(D[0])),b||(b=o(D[0]));var U=!x||!b;if(U){for($=0;$<D.length;$++)N.push({type:"Feature",properties:D[$],geometry:null});A(B.length?B:null,R);return}for($=0;$<D.length;$++)if(D[$][b]!==void 0&&D[$][x]!==void 0){var J=D[$][b],rt=D[$][x],u,m,E;E=e(J,"EW"),E&&(J=E),E=e(rt,"NS"),E&&(rt=E),u=parseFloat(J),m=parseFloat(rt),isNaN(u)||isNaN(m)?B.push({message:"A row contained an invalid value for latitude or longitude",row:D[$],index:$}):(T.includeLatLon||(delete D[$][b],delete D[$][x]),N.push({type:"Feature",properties:D[$],geometry:{type:"Point",coordinates:[parseFloat(u),parseFloat(m)]}}))}A(B.length?B:null,R)}function g(w){for(var T=w.features,A={type:"Feature",geometry:{type:"LineString",coordinates:[]}},x=0;x<T.length;x++)A.geometry.coordinates.push(T[x].geometry.coordinates);return A.properties=T.reduce(function(b,I){for(var N in I.properties)b[N]||(b[N]=[]),b[N].push(I.properties[N]);return b},{}),{type:"FeatureCollection",features:[A]}}function _(w){for(var T=w.features,A={type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}},x=0;x<T.length;x++)A.geometry.coordinates[0].push(T[x].geometry.coordinates);return A.properties=T.reduce(function(b,I){for(var N in I.properties)b[N]||(b[N]=[]),b[N].push(I.properties[N]);return b},{}),{type:"FeatureCollection",features:[A]}}return F4={isLon:l,isLat:a,guessLatHeader:s,guessLonHeader:o,csv:t.csvParse,tsv:t.tsvParse,dsv:t,auto:f,csv2geojson:y,toLine:g,toPolygon:_},F4}var U4=Xyt();const qyt={Point:"circlePoint",MultiPoint:"circlePoint",LineString:"solidLine",MultiLineString:"solidLine",Polygon:"outlinedPoly",MultiPolygon:"outlinedPoly"};function Kyt(t){if(t.type!=="FeatureCollection")throw new Error("GeoJSON is not in FeatureCollection format");let e=!0,n=!0;for(let r=0;r<t.features.length;r++){const i=t.features[r];Object.assign(i.properties,{ID_FILE:"",OBJECTID_FILE:""}),"id"in i&&typeof i.id<"u"&&(i.properties.ID_FILE=i.id,e=!1),"OBJECTID"in i.properties&&(i.properties.OBJECTID_FILE=i.properties.OBJECTID,delete i.properties.OBJECTID,n=!1),i.id=r+1}if(e)for(let r=0;r<t.features.length;r++)delete t.features[r].properties.ID_FILE;if(n)for(let r=0;r<t.features.length;r++)delete t.features[r].properties.OBJECTID_FILE}function Qyt(t,e){const n=r=>r.indexOf(" ")>-1;e.fields?.forEach(r=>{if(r.name&&n(r.name)){const i=r.name;let s,o="_",a;do s=i.replace(/ /g,o),a=e.fields?.find(l=>l.name===s),a&&(o+="_");while(a);r.alias=i,r.name=s;for(let l=0;l<t.features.length;l++){const c=t.features[l];c.properties[s]=c.properties[i],delete c.properties[i]}}})}function tgt(t,e){const n=t.features[e].geometry.geometries;if(n.length===1)t.features[e].geometry={type:n[0].type,coordinates:n[0].coordinates};else{const r=n.map(i=>i.coordinates);t.features[e].geometry={type:`Multi${n[0].type}`,coordinates:r}}}function egt(t){return t==="MultiLineString"?"LineString":t==="MultiPolygon"?"Polygon":t}class ngt extends In{async fetchFileData(e,n){const r=await b0.get(e,{responseType:"arrayBuffer"});switch(n){case Ct.GEOJSON:case Ct.DATAJSON:return JSON.parse(this.arbToStr(r.data));case Ct.SHAPEFILE:case Ct.GEOJSONZIPPED:case Ct.FLATGEOBUF:case Ct.FLATGEOBUFZIPPED:return r.data;case Ct.CSV:case Ct.DATACSV:return this.arbToStr(r.data);default:console.error(`Unsupported file type passed to fetchFileData- '${n}'`)}}extractGeoJsonFields(e){if(e.features.length<1)throw new Error("GeoJSON field extraction requires at least one feature");let n="";for(let o=0;o<e.features.length;o++){const a=e.features[o];if(a.geometry.type==="GeometryCollection"){const c=a.geometry.geometries;if(c===void 0||c.length===0)throw new Error("GeoJSON file has geometry collection with missing/incomplete geometries");const p=c[0].type;for(let d=0;d<c.length;d++)if(c[d].type!==p)throw new Error("GeoJSON file has geometry collection containing multiple geometry types");tgt(e,o)}const l=egt(a.geometry.type);if(n==="")n=l;else if(n!==l)throw new Error("GeoJSON file contains multiple geometry types")}const r=Object.keys(e.features[0].properties).map(o=>({name:o,type:"string"}));let i=0;const s=Object.keys(e.features[0].properties);for(;i<e.features.length;){const o=e.features[i];if(o.properties&&Object.keys(o.properties).filter(a=>s.includes(a)).forEach(a=>{const l=o.properties[a];if(l!=null){const c=r.findIndex(p=>p.name===a);r[c]={name:a,type:this.inferType(l)},s.splice(s.indexOf(a),1)}}),s.length===0)break;i++}return r}extractCsvFields(e,n=","){return U4.dsv.dsvFormat(n).parseRows(e)[0].map(r=>({name:r,type:Bs.STRING}))}filterCsvLatLonFields(e,n=","){const r=U4.dsv.dsvFormat(n).parseRows(e),i=r[0],s={lat:JSON.parse(JSON.stringify(i)),lon:JSON.parse(JSON.stringify(i))};for(let o=0;o<i.length;o++)for(let a=1;a<r.length;a++){const l=Number(r[a][o]),c=s.lat.indexOf(i[o]),p=s.lon.indexOf(i[o]);if((isNaN(l)||l<-90||l>90)&&c!==-1&&s.lat.splice(c,1),(isNaN(l)||l<-180||l>180)&&p!==-1&&s.lon.splice(p,1),c===-1&&p===-1)break}return s}async geoJsonToEsriJson(e,n){let r,i="",s;const o={objectIdField:"OBJECTID",fields:[{name:"OBJECTID",type:Bs.OID}]};Kyt(e);const a=e.features[0].geometry.type,l=qyt[a],c=JSON.parse(JSON.stringify(Ryt[l]));if(n){if(n.sourceProjection&&(i=this.$iApi.geo.proj.normalizeProj(n.sourceProjection)),n.targetSR)r=n.targetSR;else throw new Error("geoJsonToEsriJson - missing opts.targetSR arguement");n.layerId?s=n.layerId:s=this.$iApi.geo.shared.generateUUID(),n.colour&&(c.renderer.symbol.color=new Ta(n.colour).toArcServer())}else throw new Error("geoJsonToEsriJson - missing opts arguement");i||(i=Vt.parseGeoJsonCrs(e.crs)),o.renderer=await De.RendererFromJson(c.renderer),o.fields=(o.fields||[]).concat(n.fieldMetadata?.exclusiveFields?this.extractGeoJsonFields(e).filter(g=>n.fieldMetadata?.fieldInfo?.find(_=>_.name===g.name)):this.extractGeoJsonFields(e)),n.fieldMetadata?.enforceOrder&&n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0&&(o.fields=this.$iApi.geo.attributes.orderFields(o.fields,n.fieldMetadata?.fieldInfo)),Qyt(e,o);const p=this.$iApi.geo.proj.normalizeProj(r);if(n){if(n.latField){const g=o.fields.find(_=>_.name===n.latField||_.alias===n.latField);g&&(g.type=Bs.DOUBLE)}if(n.lonField){const g=o.fields.find(_=>_.name===n.lonField||_.alias===n.lonField);g&&(g.type=Bs.DOUBLE)}}await this.$iApi.geo.proj.checkProjBomber([i,r]);const d=Vt.parseSR(r).toESRI();await this.$iApi.geo.proj.projectGeoJson(e,i,p);const f=Dyt.convert(e,{sr:8888});o.geometryType=this.$iApi.geo.geom.geoJsonGeomTypeToEsriGeomType(a);const y=o.fields.map(g=>g.name);for(let g=0;g<f.length;g++){const _=f[g];_.geometry.spatialReference=d,_.geometry.type=o.geometryType,Object.keys(_.attributes).forEach(w=>{y.includes(w)?(Array.isArray(_.attributes[w])||typeof _.attributes[w]=="object")&&_.attributes[w]!=null&&(_.attributes[w]=JSON.stringify(_.attributes[w])):delete _.attributes[w]})}return(n.fieldMetadata?.fieldInfo&&n.fieldMetadata?.fieldInfo.length>0?n.fieldMetadata.fieldInfo.filter(g=>g.trim&&y.includes(g.name)).map(g=>g.name):[]).forEach(g=>{for(let _=0;_<f.length;_++){const w=f[_].attributes;typeof w[g]=="string"&&(w[g]=w[g].trim())}}),o.source=f,o.spatialReference=d,o.id=s,o}async csvToGeoJson(e,n){const r={latfield:"Lat",lonfield:"Long",delimiter:","};return n&&(n.latfield&&(r.latfield=n.latfield),n.lonfield&&(r.lonfield=n.lonfield),n.delimiter&&(r.delimiter=n.delimiter)),new Promise((i,s)=>{U4.csv2geojson(e,r,(o,a)=>{o?(console.error("csv conversion error"),console.error(o),s(o)):(a.features.map(l=>{l.properties[r.lonfield]=l.geometry.coordinates[0],l.properties[r.latfield]=l.geometry.coordinates[1]}),i(a))})})}async shapefileToGeoJson(e){return(await import("./shp.min-Bx6xaJBN.js").then(n=>n.s)).default(e)}fgbToGeoJson(e,n){return import("./flatgeobuf-Dd2813h3.js").then(({geojson:r})=>new Promise(i=>{let s=!1,o=null;const a=r.deserialize(new Uint8Array(e),void 0,p=>{o=p.crs,s=!0});let l=0;const c=setInterval(()=>{if(a&&s){clearInterval(c);let p;o&&(o.code&&o.code!==4326&&o.org==="EPSG"?p=new Vt(o.code):o.wkt?p=new Vt(o.wkt):console.error("Encountered FlatGeobuf with non-EPSG org: ",o)),p&&(a.crs=p.toGeoJSON()),i(a)}else l+=60,l>n&&(clearInterval(c),i({}))},60)}))}inferType(e){return typeof e=="number"?Bs.DOUBLE:Bs.STRING}rawDataJsonParser(e,n=!1){let r;return typeof e=="string"?r=JSON.parse(e):n?r=structuredClone(e):r=e,r}async unzipSingleFile(e){const n=await import("./jszip.min-DpHMwHsk.js").then(s=>s.j),r=await new n.default().loadAsync(e),i=Object.keys(r.files)[0];if(i&&r.file(i))return await r.file(i).async("arraybuffer");throw new Error("Could not find file in zipfile data.")}async binaryInitHelper(e){if(e.rawData&&e.rawData instanceof ArrayBuffer)return e.rawData;if(e.url)return this.$iApi.geo.layer.files.fetchFileData(e.url,e.layerType);throw new Error(`${e.layerType} config contains no url or invalid/missing raw data`)}arbToStr(e){return new TextDecoder("utf-8").decode(new Uint8Array(e))}}const rgt=JSON.parse("[4326,4269,4258,31467,31468,31469,2166,2167,2168,2036,2044,2045,2065,2081,2082,2083,2085,2086,2091,2092,2093,2096,2097,2098,2105,2106,2107,2108,2109,2110,2111,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2169,2170,2171,2172,2173,2174,2175,2176,2177,2178,2179,2180,2193,2199,2200,2206,2207,2208,2209,2210,2211,2212,2319,2320,2321,2322,2323,2324,2325,2326,2327,2328,2329,2330,2331,2332,2333,2334,2335,2336,2337,2338,2339,2340,2341,2342,2343,2344,2345,2346,2347,2348,2349,2350,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2384,2385,2386,2387,2388,2389,2390,2391,2392,2393,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2406,2407,2408,2409,2410,2411,2412,2413,2414,2415,2416,2417,2418,2419,2420,2421,2422,2423,2424,2425,2426,2427,2428,2429,2430,2431,2432,2433,2434,2435,2436,2437,2438,2439,2440,2441,2442,2443,2444,2445,2446,2447,2448,2449,2450,2451,2452,2453,2454,2455,2456,2457,2458,2459,2460,2461,2462,2463,2464,2465,2466,2467,2468,2469,2470,2471,2472,2473,2474,2475,2476,2477,2478,2479,2480,2481,2482,2483,2484,2485,2486,2487,2488,2489,2490,2491,2492,2493,2494,2495,2496,2497,2498,2499,2500,2501,2502,2503,2504,2505,2506,2507,2508,2509,2510,2511,2512,2513,2514,2515,2516,2517,2518,2519,2520,2521,2522,2523,2524,2525,2526,2527,2528,2529,2530,2531,2532,2533,2534,2535,2536,2537,2538,2539,2540,2541,2542,2543,2544,2545,2546,2547,2548,2549,2551,2552,2553,2554,2555,2556,2557,2558,2559,2560,2561,2562,2563,2564,2565,2566,2567,2568,2569,2570,2571,2572,2573,2574,2575,2576,2577,2578,2579,2580,2581,2582,2583,2584,2585,2586,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2598,2599,2600,2601,2602,2603,2604,2605,2606,2607,2608,2609,2610,2611,2612,2613,2614,2615,2616,2617,2618,2619,2620,2621,2622,2623,2624,2625,2626,2627,2628,2629,2630,2631,2632,2633,2634,2635,2636,2637,2638,2639,2640,2641,2642,2643,2644,2645,2646,2647,2648,2649,2650,2651,2652,2653,2654,2655,2656,2657,2658,2659,2660,2661,2662,2663,2664,2665,2666,2667,2668,2669,2670,2671,2672,2673,2674,2675,2676,2677,2678,2679,2680,2681,2682,2683,2684,2685,2686,2687,2688,2689,2690,2691,2692,2693,2694,2695,2696,2697,2698,2699,2700,2701,2702,2703,2704,2705,2706,2707,2708,2709,2710,2711,2712,2713,2714,2715,2716,2717,2718,2719,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2735,2738,2739,2740,2741,2742,2743,2744,2745,2746,2747,2748,2749,2750,2751,2752,2753,2754,2755,2756,2757,2758,2935,2936,2937,2938,2939,2940,2941,2953,2963,3006,3007,3008,3009,3010,3011,3012,3013,3014,3015,3016,3017,3018,3019,3020,3021,3022,3023,3024,3025,3026,3027,3028,3029,3030,3034,3035,3038,3039,3040,3041,3042,3043,3044,3045,3046,3047,3048,3049,3050,3051,3058,3059,3068,3114,3115,3116,3117,3118,3120,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,3138,3139,3140,3146,3147,3150,3151,3152,3300,3301,3328,3329,3330,3331,3332,3333,3334,3335,3346,3350,3351,3352,3366,3386,3387,3388,3389,3390,3396,3397,3398,3399,3407,3414,3416,3764,3788,3789,3790,3791,3793,3795,3796,3819,3821,3823,3824,3833,3834,3835,3836,3837,3838,3839,3840,3841,3842,3843,3844,3845,3846,3847,3848,3849,3850,3851,3852,3854,3873,3874,3875,3876,3877,3878,3879,3880,3881,3882,3883,3884,3885,3888,3889,3906,3907,3908,3909,3910,3911,4001,4002,4003,4004,4005,4006,4007,4008,4009,4010,4011,4012,4013,4014,4015,4016,4017,4018,4019,4020,4021,4022,4023,4024,4025,4026,4027,4028,4029,4030,4031,4032,4033,4034,4035,4036,4037,4038,4040,4041,4042,4043,4044,4045,4046,4047,4052,4053,4054,4055,4074,4075,4080,4081,4120,4121,4122,4123,4124,4125,4126,4127,4128,4129,4130,4131,4132,4133,4134,4135,4136,4137,4138,4139,4140,4141,4142,4143,4144,4145,4146,4147,4148,4149,4150,4151,4152,4153,4154,4155,4156,4157,4158,4159,4160,4161,4162,4163,4164,4165,4166,4167,4168,4169,4170,4171,4172,4173,4174,4175,4176,4178,4179,4180,4181,4182,4183,4184,4185,4188,4189,4190,4191,4192,4193,4194,4195,4196,4197,4198,4199,4200,4201,4202,4203,4204,4205,4206,4207,4208,4209,4210,4211,4212,4213,4214,4215,4216,4218,4219,4220,4221,4222,4223,4224,4225,4226,4227,4228,4229,4230,4231,4232,4233,4234,4235,4236,4237,4238,4239,4240,4241,4242,4243,4244,4245,4246,4247,4248,4249,4250,4251,4252,4253,4254,4255,4256,4257,4259,4260,4261,4262,4263,4264,4265,4266,4267,4268,4270,4271,4272,4273,4274,4275,4276,4277,4278,4279,4280,4281,4282,4283,4284,4285,4286,4287,4288,4289,4291,4292,4293,4294,4295,4296,4297,4298,4299,4300,4301,4302,4303,4304,4306,4307,4308,4309,4310,4311,4312,4313,4314,4315,4316,4317,4318,4319,4322,4324,4327,4329,4339,4341,4343,4345,4347,4349,4351,4353,4355,4357,4359,4361,4363,4365,4367,4369,4371,4373,4375,4377,4379,4381,4383,4386,4388,4417,4434,4463,4466,4469,4470,4472,4475,4480,4482,4483,4490,4491,4492,4493,4494,4495,4496,4497,4498,4499,4500,4501,4502,4503,4504,4505,4506,4507,4508,4509,4510,4511,4512,4513,4514,4515,4516,4517,4518,4519,4520,4521,4522,4523,4524,4525,4526,4527,4528,4529,4530,4531,4532,4533,4534,4535,4536,4537,4538,4539,4540,4541,4542,4543,4544,4545,4546,4547,4548,4549,4550,4551,4552,4553,4554,4555,4557,4558,4568,4569,4570,4571,4572,4573,4574,4575,4576,4577,4578,4579,4580,4581,4582,4583,4584,4585,4586,4587,4588,4589,4600,4601,4602,4603,4604,4605,4606,4607,4608,4609,4610,4611,4612,4613,4614,4615,4616,4617,4618,4619,4620,4621,4622,4623,4624,4625,4626,4627,4628,4629,4630,4631,4632,4633,4634,4635,4636,4637,4638,4639,4640,4641,4642,4643,4644,4645,4646,4652,4653,4654,4655,4656,4657,4658,4659,4660,4661,4662,4663,4664,4665,4666,4667,4668,4669,4670,4671,4672,4673,4674,4675,4676,4677,4678,4679,4680,4681,4682,4683,4684,4685,4686,4687,4688,4689,4690,4691,4692,4693,4694,4695,4696,4697,4698,4699,4700,4701,4702,4703,4704,4705,4706,4707,4708,4709,4710,4711,4712,4713,4714,4715,4716,4717,4718,4719,4720,4721,4722,4723,4724,4725,4726,4727,4728,4729,4730,4731,4732,4733,4734,4735,4736,4737,4738,4739,4740,4741,4742,4743,4744,4745,4746,4747,4748,4749,4750,4751,4752,4753,4754,4755,4756,4757,4758,4759,4760,4761,4762,4763,4764,4765,4766,4767,4768,4769,4770,4771,4772,4773,4774,4775,4776,4777,4778,4779,4780,4781,4782,4783,4784,4785,4786,4787,4788,4789,4790,4791,4792,4793,4794,4795,4796,4797,4798,4799,4800,4801,4802,4803,4804,4805,4806,4807,4808,4809,4810,4811,4812,4813,4814,4815,4816,4817,4818,4819,4820,4821,4822,4823,4824,4839,4855,4856,4857,4858,4859,4860,4861,4862,4863,4864,4865,4866,4867,4868,4869,4870,4871,4872,4873,4874,4875,4876,4877,4878,4879,4880,4883,4885,4887,4889,4891,4893,4895,4898,4900,4901,4902,4903,4904,4907,4909,4921,4923,4925,4927,4929,4931,4933,4935,4937,4939,4941,4943,4945,4947,4949,4951,4953,4955,4957,4959,4961,4963,4965,4967,4969,4971,4973,4975,4977,4979,4981,4983,4985,4987,4989,4991,4993,4995,4997,4999,5012,5013,5017,5048,5105,5106,5107,5108,5109,5110,5111,5112,5113,5114,5115,5116,5117,5118,5119,5120,5121,5122,5123,5124,5125,5126,5127,5128,5129,5130,5132,5167,5168,5169,5170,5171,5172,5173,5174,5175,5176,5177,5178,5179,5180,5181,5182,5183,5184,5185,5186,5187,5188,5224,5228,5229,5233,5245,5246,5251,5252,5253,5254,5255,5256,5257,5258,5259,5263,5264,5269,5270,5271,5272,5273,5274,5275,5801,5802,5803,5804,5808,5809,5810,5811,5812,5813,5814,5815,5816,20004,20005,20006,20007,20008,20009,20010,20011,20012,20013,20014,20015,20016,20017,20018,20019,20020,20021,20022,20023,20024,20025,20026,20027,20028,20029,20030,20031,20032,20064,20065,20066,20067,20068,20069,20070,20071,20072,20073,20074,20075,20076,20077,20078,20079,20080,20081,20082,20083,20084,20085,20086,20087,20088,20089,20090,20091,20092,21413,21414,21415,21416,21417,21418,21419,21420,21421,21422,21423,21453,21454,21455,21456,21457,21458,21459,21460,21461,21462,21463,21473,21474,21475,21476,21477,21478,21479,21480,21481,21482,21483,21896,21897,21898,21899,22171,22172,22173,22174,22175,22176,22177,22181,22182,22183,22184,22185,22186,22187,22191,22192,22193,22194,22195,22196,22197,25884,27205,27206,27207,27208,27209,27210,27211,27212,27213,27214,27215,27216,27217,27218,27219,27220,27221,27222,27223,27224,27225,27226,27227,27228,27229,27230,27231,27232,27391,27392,27393,27394,27395,27396,27397,27398,27492,28402,28403,28404,28405,28406,28407,28408,28409,28410,28411,28412,28413,28414,28415,28416,28417,28418,28419,28420,28421,28422,28423,28424,28425,28426,28427,28428,28429,28430,28431,28432,28462,28463,28464,28465,28466,28467,28468,28469,28470,28471,28472,28473,28474,28475,28476,28477,28478,28479,28480,28481,28482,28483,28484,28485,28486,28487,28488,28489,28490,28491,28492,29701,29702,30161,30162,30163,30164,30165,30166,30167,30168,30169,30170,30171,30172,30173,30174,30175,30176,30177,30178,30179,30800,31251,31252,31253,31254,31255,31256,31257,31258,31259,31275,31276,31277,31278,31279,31281,31282,31283,31284,31285,31286,31287,31288,31289,31290,31466,31700]");function tc(t,e){return t.then(function(n){return[null,n]}).catch(function(n){return[n,void 0]})}class igt extends In{async loadWfsData(e,n=-1,r=0,i=1e3,s={type:"FeatureCollection",features:[]},o=!1){let a={offset:r.toString(),limit:i.toString()};n===-1&&(a={resulttype:"hits"});const l=new $f(e).updateQuery(a),[c,p]=await tc(b0.get(l));if(!p)return console.error(`WFS data failed to load for ${e}`,c),Promise.reject(c);const d=p.data;if(n===-1)return n=p.data.numberMatched,this.loadWfsData(e,n,r,i,s,o);if(s.features=s.features.concat(d.features),d.features.length<n-r){const f=Math.min(i,n-r-d.features.length);return this.loadWfsData(l,n,d.features.length+r,f,s,o)}else return o&&s.features.length>0&&s.features[0].geometry.type===fn.POINT&&s.features.forEach(f=>{const y=f.geometry.coordinates;f.properties.rvInternalCoordX=y[0],f.properties.rvInternalCoordY=y[1]}),s}reversedAxisWKIDs(){return rgt}parseCapabilities(e){const n=()=>{let o=e;if(e.indexOf("?")===-1)o+="?service=WMS&request=GetCapabilities";else{const a=new $f(e.toUpperCase());"SERVICE"in a.queryMap||(o+="&service=WMS"),"REQUEST"in a.queryMap||(o+="&request=GetCapabilities")}return Xe(o,{responseType:"xml"}).then(a=>a.data)},r=new Promise(o=>{n().then(a=>o(a)).catch(()=>{console.error("Get capabilities failed; trying the second time;"),o(n())})}),i=o=>{let a=o.Layer;return a?(Array.isArray(a)||(a=[a]),a.map(l=>{const c=l.Name,p=l.Title;let d=l.Style;const f=[],y={};return d&&(Array.isArray(d)||(d=[d]),d.forEach(g=>{const _=g.Name;if(f.push(_),g.LegendURL){const w=g.LegendURL.OnlineResource["@_xlink:href"];y[_]=w.replaceAll("&amp;","&")}})),{name:c?.toString()??null,title:p,queryable:l["@_queryable"]==="1",layers:i(l),allStyles:f,styleToURL:y,currentStyle:f[0]}})):[]},s=o=>{let a=o.Format;return Array.isArray(a)||(a=[a]),a};return import("./fxp-BPfEykj3.js").then(o=>o.f).then(({XMLParser:o})=>r.then(a=>{if(!a)return[];const l=new XMLSerializer().serializeToString(a),c={ignoreAttributes:!1},p=new o(c).parse(l);if("ServiceExceptionReport"in p)return console.error(p.ServiceExceptionReport.ServiceException),[];const d=p.WMS_Capabilities.Capability;return{layers:i(d),queryTypes:s(d.Request.GetFeatureInfo)}}))}}class Fu{static makeRawItem(e,n){const r=Promise.resolve();return jn({format:e,data:n,started:!0,loaded:!0,loading:r,load(){return r}})}static makeOidItem(e,n){const r=new bn,i={format:Ma.ESRI,data:void 0,started:!1,loaded:!1,loading:r.getPromise(),async load(){if(!this.started){this.started=!0;const s=await n.getGraphic(e,{getAttribs:!0});this.data=s.attributes,this.loaded=!0,r.resolveMe()}return r.getPromise()}};return jn(i)}}class sgt extends In{files;ogc;constructor(e){super(e),this.files=new ngt(e),this.ogc=new igt(e)}createLayer(e){let n;switch(e.layerType){case Ct.FEATURE:n=pgt;break;case Ct.MAPIMAGE:n=Ugt;break;case Ct.GRAPHIC:n=iF;break;case Ct.TILE:n=EF;break;case Ct.WFS:n=zgt;break;case Ct.DATATABLE:n=Hgt;break;case Ct.WMS:n=Bgt;break;case Ct.GEOJSON:n=ogt;break;case Ct.GEOJSONZIPPED:n=cgt;break;case Ct.FLATGEOBUFZIPPED:n=hgt;break;case Ct.CSV:n=lgt;break;case Ct.DATAJSON:n=Wgt;break;case Ct.IMAGERY:n=Vgt;break;case Ct.SHAPEFILE:n=agt;break;case Ct.FLATGEOBUF:n=ugt;break;case Ct.OSM:n=$gt;break;default:throw new Error("Unsupported Layer Type "+e.layerType)}return new n(e,this.$iApi)}getLayer(e){return Rs(this.$vApp.$pinia).getLayerByAny(e)}getSublayer(e,n){const r=Rs(this.$vApp.$pinia).getLayerById(e);if(r&&r.supportsSublayers&&n<r.sublayers.length)return r.sublayers[n]}getLayerPosition(e){const n=this.getLayer(e);if(n&&n.mapLayer){const r=n.isSublayer?n.parentLayer.id:n.id,i=this.layerOrderIds().findIndex(s=>s===r);return i===-1?void 0:i}else return}layerOrderIds(){return Rs(this.$vApp.$pinia).mapOrder.slice(0)||[]}allLayers(){return Rs(this.$vApp.$pinia).layers||[]}allActiveLayers(){return this.allLayers().filter(e=>e.layerState!==ln.ERROR&&e.initiationState===Je.INITIATED)}allLayersOnMap(e=!0){let n=this.allLayers().filter(r=>r.mapLayer&&r.initiationState===Je.INITIATED);if(e){const r=this.layerOrderIds(),i=new Map(r.map((s,o)=>[s,o]));n.sort((s,o)=>i.get(s.id)-i.get(o.id))}return n}allDataLayers(){return this.allLayers().filter(e=>!e.mapLayer&&e.initiationState===Je.INITIATED)}allErrorLayers(){return this.allLayers().filter(e=>e.layerState===ln.ERROR)}allInitiatingLayers(){return this.allLayers().filter(e=>e.initiationState===Je.INITIATING)}getLayerControls(e){const n=this.getLayer(e);if(!n)return;const r=n.config.controls?.slice()??[mn.BoundaryZoom,mn.Datatable,mn.Identify,mn.Metadata,mn.Opacity,mn.Refresh,mn.Reload,mn.Remove,mn.Settings,mn.Symbology,mn.Visibility],i=[];return n.supportsFeatures||i.push(mn.Datatable),n.extent===void 0&&i.push(mn.BoundaryZoom),(n.config?.metadata||(n.isSublayer?n.parentLayer?.config?.metadata:{})||{}).url||i.push(mn.Metadata),!n.mapLayer&&!n.config.controls?.includes(mn.Settings)&&i.push(mn.Settings),i.forEach(s=>{const o=r?.indexOf(s)??-1;o!==-1&&r?.splice(o,1)}),{controls:r,disabledControls:n.config.disabledControls??[]}}async loadLayerMetadata(e){if(!e.trim())throw new Error("url missing on layer server metadata request.");const[n,r]=await tc(Xe(e,{query:{f:"json"}}));if(!r)throw console.error(`Service metadata load error: ${e}`,n),new Error(`Service metadata load error: ${e}`);if(!r.data)throw console.error(`Service metadata load error: ${e}`),new Error(`Service metadata load error: ${e}`);const i=r.data,s={geometryType:Xt.NONE,minScale:0,maxScale:0,canModifyLayer:!0,extent:void 0,defaultVisibility:!0,fields:[],displayField:"",objectIdField:"",renderer:void 0,currentVersion:0,name:"",dataFormat:$n.UNKNOWN,mapLayer:!0};if(s.name=i.name||"",s.currentVersion=i.currentVersion||-1,s.minScale=i.effectiveMinScale||i.minScale||0,s.maxScale=i.effectiveMaxScale||i.maxScale||0,s.extent=i.extent?sn.fromArcServer(i.extent,"layer_extent"):void 0,s.defaultVisibility=i.defaultVisibility??!0,s.canModifyLayer=i.canModifyLayer??!0,i.type==="Feature Layer"||i.type==="Table"){if(s.dataFormat=$n.ESRI_FEATURE,s.displayField=i.displayField||"",Array.isArray(i.fields)){const o=await Promise.all(i.fields.map(a=>De.FieldFromJson(a)));s.fields=o.map(a=>({name:a.name,alias:a.alias,type:a.type,length:a.length})),o.every(a=>a.type==="oid"?(s.objectIdField=a.name,!1):!0)&&(s.objectIdField=i.objectIdField||(console.error(`Encountered service with no OID defined: ${e}`),"")),i.type==="Feature Layer"?(s.geometryType=this.$iApi.geo.geom.serverGeomTypeToRampGeomType(i.geometryType),i.drawingInfo?.renderer&&(s.renderer=await De.RendererFromJson(i.drawingInfo.renderer)),i.sourceSpatialReference&&(s.sourceSR=Vt.fromConfig(i.sourceSpatialReference))):s.mapLayer=!1}}else s.dataFormat=$n.ESRI_RASTER;return s}async loadFeatureCount(e,n=""){if(!e)return console.error("A layer without a url attempted to run the server based feature count routine."),0;const r={query:{f:"json",where:n||"1=1",returnCountOnly:!0,returnGeometry:!1}},[i,s]=await tc(Xe(`${e}/query`,r));return s?s.data?Number.isInteger(s.data.count)?s.data.count:(console.error(`Funny result (${s.data.count}) during feature count: ${e}`),0):(console.error(`Unable to load feature count: ${e}`),0):(console.error(`Feature count request unsuccessful: ${e}`,i),0)}}class Wb extends In{config={};id;uid;name;layerState;initiationState;drawState;layerIdx;layerType;layerFormat;dataFormat;supportsIdentify;supportsFeatures;mapLayer;featureCount;fields;fieldList;nameField;oidField;expectedTime;lastCancel;supportsSublayers;isSublayer;isRemoved;isFile;isCosmetic;userAdded;identify;identifyMode;hovertips;geomType;legend;esriLayer;esriSubLayer;esriView;extent;sourceSR;canModifyLayer;canReload;url;_parentLayer;_sublayers;constructor(e,n){super(n),this.config=e,this.id="",this.uid="",this.name="error",this.layerState=ln.NEW,this.drawState=Vr.NOT_LOADED,this.initiationState=Je.NEW,this.layerIdx=-1,this.layerFormat=pi.UNKNOWN,this.layerType=Ct.UNKNOWN,this.dataFormat=$n.UNKNOWN,this.supportsIdentify=!1,this.identifyMode=Vn.NONE,this.supportsFeatures=!1,this.mapLayer=!0,this.featureCount=0,this.fields=[],this.fieldList="",this.nameField="",this.oidField="",this.supportsSublayers=!1,this.isSublayer=!1,this.isRemoved=!1,this.isFile=!1,this.isCosmetic=!1,this.userAdded=!1,this.identify=!1,this.hovertips=!1,this.geomType=Xt.UNKNOWN,this.legend=[],this._sublayers=[],this.expectedTime={draw:0,load:0,fail:0},this.lastCancel=0,this.canModifyLayer=!0,this.canReload=!0,this.url=""}async initiate(){return Promise.resolve()}async terminate(){return Promise.resolve()}async reload(){return Promise.resolve()}cancelLoad(){}removeEsriLayer(){}loadPromise(){return Promise.resolve()}get isLoaded(){return!1}get layerExists(){return!1}getFieldsToTrim(){return[]}getLayerTree(){return new e1(0,"Fake tree","getLayerTree() was not implemented in layer")}getSR(){return Vt.latLongSR()}get visibility(){return!1}set visibility(e){}get opacity(){return 0}set opacity(e){}get scaleSet(){return new JR}set scaleSet(e){}isOffscale(e=void 0){return!1}zoomToVisibleScale(){return Promise.resolve()}zoomToLayerBoundary(){return Promise.resolve()}get mouseTolerance(){return 0}set mouseTolerance(e){}get touchTolerance(){return 0}set touchTolerance(e){}get drawOrder(){return[]}canIdentify(){return!1}runIdentify(e){return[]}getAttributes(){return Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){}clearFeatureCache(){}downloadedAttributes(){return 0}attribLoadAborted(){return!1}getTabularAttributes(){return Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return Promise.resolve(new Mi(new ml))}getIcon(e){return Promise.resolve("")}getSqlFilter(e){return""}setSqlFilter(e,n){}applySqlFilter(e=[]){}getFilterOIDs(e=[],n=void 0){return Promise.resolve(void 0)}getGraphicExtent(e){return Promise.resolve(sn.fromParams("fake",0,0,0,0))}get parentLayer(){if(this.isSublayer)return this._parentLayer;throw new Error("Attempted to get parent layer of a non-sublayer object")}set parentLayer(e){if(!this.isSublayer&&e)throw new Error("Attempted to set parent layer for a non-sublayer object");this._parentLayer=e}get sublayers(){return this._sublayers}onLoad(){}onError(e=!0){}updateLayerState(e,n=!1){}updateDrawState(e){}updateInitiationState(e){}uidToIdx(e){if(e===this.uid)return-1;{const n=this._sublayers.findIndex(r=>r?.uid===e);if(n===-1)throw new Error(`Attempt to access non-existing unique id [layerid ${this.id}, uid ${e}]`);return n}}getSublayer(e){if(!this.supportsSublayers){console.warn(`Attempted to call getSublayer on a layer (layer id: ${this.id}) that does not support FCs`);return}let n;if(typeof e=="string"?n=this.uidToIdx(e):n=e,this._sublayers[n]===void 0)throw new Error(`Attempt to access non-existing layer index [layerid ${this.id}, lookup value ${e}]`);return this._sublayers[n]}controlAvailable(e){const n=this.$iApi.geo.layer.getLayerControls(this.id);return this.$iApi.geo.shared.controlAvailable(e,n)}}class nF extends Wb{timers;origRampConfig;loadDefProm;loadPromDone;layerTree;constructor(e,n){super(e,n),this.name=e.name||"",this.geomType=Xt.NONE,this.dataFormat=$n.UNKNOWN,this.layerType=Ct.UNKNOWN,this.layerFormat=pi.UNKNOWN;const r=n.geo.map.layerDefaultTimes;this.expectedTime.draw=e.expectedDrawTime??r.draw,this.expectedTime.load=e.expectedLoadTime??r.load,this.expectedTime.fail=e.maxLoadTime||r.fail,this.lastCancel=0,this.timers={draw:void 0,load:void 0},this.origRampConfig=e,this.id=e.id||"",this.uid=this.$iApi.geo.shared.generateUUID(),this.isCosmetic=!1,this.isRemoved=!1,this.isSublayer=!1,this.supportsIdentify=!1,this.mapLayer=!0,this.identifyMode=Vn.NONE,this.supportsFeatures=!1,this.hovertips=!1,this.supportsSublayers=!1,this.isFile=!1,this.layerState=ln.NEW,this.initiationState=Je.NEW,this.drawState=Vr.NOT_LOADED,this.loadDefProm=new bn,this.url=this.origRampConfig.url,this.canReload=!!(this.url||this.origRampConfig.caching),this.loadPromDone=!1,this.layerTree=new e1(0,this.uid,this.name,!0)}updateInitiationState(e){this.initiationState=e,this.$iApi.event.emit(Mt.LAYER_INITIATIONSTATECHANGE,{state:e,layer:this})}updateLayerState(e,n=!1){this.layerState=e,this.$iApi.event.emit(Mt.LAYER_LAYERSTATECHANGE,{state:e,layer:this,userCancel:n})}updateDrawState(e){this.drawState=e,e===Vr.REFRESH?this.startTimer("draw"):e===Vr.UP_TO_DATE&&this.stopTimer("draw"),this.$iApi.event.emit(Mt.LAYER_DRAWSTATECHANGE,{state:e,layer:this})}async initiate(){this.updateInitiationState(Je.INITIATING),this.startTimer("load");const e=s=>{this.layerState!==ln.ERROR&&(console.error(s),this.onError())},n=Date.now(),r=setTimeout(()=>{n>this.lastCancel&&(this.lastCancel=Date.now(),e("Layer timed out during initialize. Id: "+this.id))},this.expectedTime.fail),[i]=await tc(this.onInitiate());clearTimeout(r),n>this.lastCancel&&(this.drawState!==Vr.UP_TO_DATE&&this.startTimer("draw"),i?e(`Init error on layer id: ${this.id} . ${i.message}`):this.updateInitiationState(Je.INITIATED))}async onInitiate(){if(this.isSublayer)return console.warn("Attempted to initiate a sublayer as a CommonLayer"),Promise.resolve();this.initiationState===Je.INITIATED&&console.error(`Encountered layer initialize while already initiated, layer id ${this.id}`)}async terminate(){this.updateInitiationState(Je.TERMINATING),await Promise.all(this.sublayers.map(e=>e.terminate())),this.loadDefProm=new bn,this.loadPromDone=!1,this.updateLayerState(ln.NEW),this.updateDrawState(Vr.NOT_LOADED),this.updateInitiationState(Je.TERMINATED)}onLoad(){const e=Date.now();let n=!1;const r=setTimeout(()=>{n=!0,this.onError()},this.expectedTime.fail);try{const i=this.onLoadActions();Promise.all(i).then(()=>{clearTimeout(r),n?this.visibility=!1:(this.stopTimer("load"),e>this.lastCancel&&(this.loadPromDone&&(this.loadDefProm=new bn),this.loadDefProm.resolveMe(),this.loadPromDone=!0,this.sublayers.forEach(s=>s.onLoad()),this.updateLayerState(ln.LOADED)))}).catch(()=>{clearTimeout(r),this.onError()})}catch(i){console.error("Encountered error on layer load: ",i),clearTimeout(r),this.onError()}}onError(e=!0){this.layerState!==ln.ERROR&&(this.initiationState===Je.INITIATING&&this.updateInitiationState(Je.NEW),this.loadPromDone&&(this.loadDefProm=new bn),this.loadDefProm.rejectMe(),this.loadPromDone=!0,this.sublayers.forEach(n=>n.onError(e)),e&&this.$iApi.notify.show(li.ERROR,this.$iApi.$i18n.t("layer.error",{id:this.id})),this.stopTimer("draw"),this.stopTimer("load"),this.updateLayerState(ln.ERROR,!e))}onLoadActions(){return[]}cancelLoad(){this.isLoaded||this.initiationState===Je.NEW||this.initiationState===Je.TERMINATING||this.initiationState===Je.TERMINATED||(this.lastCancel=Date.now(),this.esriLayer&&this.esriLayer.loadStatus==="loading"&&this.esriLayer.cancelLoad(),this.removeEsriLayer(),this.onError(!1))}loadPromise(){return this.loadDefProm.getPromise()}get isLoaded(){return this.layerState===ln.LOADED}canIdentify(){return this.supportsIdentify&&this.isLoaded&&this.visibility&&this.identify&&!this.scaleSet.isOffScale(this.$iApi.geo.map.getScale()).offScale}getLayerTree(){return this.layerTree}stubError(){throw new Error(`Attempted to use a method not valid for ${this.layerType}`)}getAttributes(){return this.stubError(),Promise.resolve({features:[],oidIndex:{}})}abortAttributeLoad(){this.stubError()}clearFeatureCache(){this.stubError()}getTabularAttributes(){return this.stubError(),Promise.resolve({columns:[],rows:[],fields:[],oidField:"error"})}getGraphic(e,n){return this.stubError(),Promise.resolve(new Mi(new ml))}getIcon(e){return this.stubError(),Promise.resolve("")}getSqlFilter(e){return this.stubError(),""}setSqlFilter(e,n){this.stubError()}getFilterOIDs(e=[],n=void 0){return this.stubError(),Promise.resolve(void 0)}getGraphicExtent(e){return this.stubError(),Promise.resolve(sn.fromParams("fake",0,0,0,0))}applySqlFilter(e=[]){this.stubError()}setCustomParameter(e,n,r=!0){this.stubError()}startTimer(e){this.stopTimer(e),this.expectedTime[e]>0&&(this.timers[e]=window.setTimeout(()=>this.$iApi.notify.show(li.WARNING,this.$iApi.$i18n.t(`layer.long${e}`,{id:this.name||this.id})),this.expectedTime[e]))}stopTimer(e){this.timers[e]&&(clearTimeout(this.timers[e]),this.timers[e]=void 0)}}class Uu extends nF{_serverVisibility;_scaleSet;_mouseTolerance;_touchTolerance;_drawOrder;_lastFilterUpdate="";viewDefProm;esriWatches;constructor(e,n){super(e,n),this._scaleSet=new JR,this._mouseTolerance=e.mouseTolerance!=null?e.mouseTolerance:5,this._touchTolerance=e.touchTolerance!=null?e.touchTolerance:15,this._drawOrder=[],this._serverVisibility=void 0,this.isCosmetic=e.cosmetic||!1,this.extent=e.extent?sn.fromConfig(`${this.id}_extent`,e.extent):void 0,this.viewDefProm=new bn,this.esriWatches=[]}noLayerErr(){console.error("Attempted to manipulate the layer but no layer found. Likely .initiate() was not finished or failed. Layer id "+this.id),console.trace()}notLoadedErr(){console.error("Attempted to manipulate the layer before it was loaded. Layer id "+this.id),console.trace()}async onInitiate(){if(await super.onInitiate(),!this.esriLayer){this.noLayerErr();return}this.esriWatches.push(this.esriLayer.watch("visible",e=>{this.$iApi.event.emit(Mt.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this})})),this.esriWatches.push(this.esriLayer.watch("opacity",e=>{this.$iApi.event.emit(Mt.LAYER_OPACITYCHANGE,{opacity:e,layer:this})})),this.esriWatches.push(this.esriLayer.watch("loadStatus",e=>{const n={"not-loaded":ln.LOADING,loading:ln.LOADING,loaded:ln.LOADED,failed:ln.ERROR};e==="loaded"?this.onLoad():e==="failed"?this.onError():this.updateLayerState(n[e])})),this.esriLayer.on("layerview-create",e=>{this.esriView=e.layerView,this.esriWatches.push(e.layerView.watch("updating",n=>{this.updateDrawState(n?Vr.REFRESH:Vr.UP_TO_DATE)})),this.viewDefProm.resolveMe()}),this.sublayers.forEach(e=>e.initiate())}async terminate(){this.esriLayer=void 0,await super.terminate(),this.viewDefProm=new bn,this.esriWatches.forEach(e=>e.remove()),this.esriWatches=[]}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.removeEsriLayer();const e=Date.now();if(this.$iApi.event.emit(Mt.LAYER_RELOAD_START,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Mt.LAYER_RELOAD_START,n)),await this.terminate(),await this.initiate(),!(this.lastCancel>e)){if(!this.esriLayer){console.error("ESRI layer failed to re-create during reload.");return}this.$iApi.geo.map.insertToEsriMap(this),this.$iApi.event.emit(Mt.LAYER_RELOAD_END,this),this.sublayers.forEach(n=>this.$iApi.event.emit(Mt.LAYER_RELOAD_END,n))}}makeEsriLayerConfig(e){return{id:e.id,url:e.url,opacity:e?.state?.opacity??1,visible:e?.state?.visibility??!0}}removeEsriLayer(){this.esriLayer&&this.$iApi.geo.map.esriMap&&this.$iApi.geo.map.esriMap.layers.findIndex(e=>e.id===this.id)>-1&&this.$iApi.geo.map.esriMap.layers.remove(this.esriLayer)}onLoadActions(){const e=super.onLoadActions();this.name||(this.name=this.esriLayer?.title||this.id),this.isCosmetic||(this.identify=this.config.state?.identify??this.supportsIdentify);const n=this.$iApi.geo.proj.checkProj(this.getSR()).then(r=>r?Promise.resolve():Promise.reject());return e.push(n),e}mapCheck(){return this.$iApi.geo.map.created?!0:(console.error("Attempting to use map-dependent logic before the layer has been added to the map"),console.trace(),!1)}get scaleSet(){return this._scaleSet}set scaleSet(e){this._scaleSet=e}isOffscale(e=void 0){let n;if(typeof e>"u")if(this.mapCheck())n=this.$iApi.geo.map.getScale();else return!1;else n=e;return this.scaleSet.isOffScale(n).offScale}zoomToVisibleScale(){return this.mapCheck()?this.$iApi.geo.map.zoomToVisibleScale(this.scaleSet):Promise.resolve()}zoomToLayerBoundary(){return this.extent?this.mapCheck()?this.$iApi.geo.map.zoomMapTo(this.extent):Promise.resolve():(console.error(`Attempted to zoom to boundary of a layer with no extent (Layer Id: ${this.id})`),Promise.resolve())}get mouseTolerance(){return this._mouseTolerance}set mouseTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set click tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative click tolerance");return}this._mouseTolerance=e}get touchTolerance(){return this._touchTolerance}set touchTolerance(e){if(!this.supportsIdentify){console.warn("Attempted to set touch tolerance on a layer that doesn't support identify");return}if(e<0){console.error("Attempted to set a negative touch tolerance");return}this._touchTolerance=e}get layerExists(){return this.initiationState===Je.INITIATED&&!!this.esriLayer}get drawOrder(){return this._drawOrder}get visibility(){return this.layerExists?this.esriLayer.visible:!1}set visibility(e){this.layerExists?this.esriLayer.visible=e:this.noLayerErr()}checkVisibility(){this.supportsSublayers&&this.layerExists&&(this.visibility=this.sublayers.some(e=>e.visibility))}get opacity(){return this.layerExists?this.esriLayer.opacity:0}set opacity(e){this.layerExists?this.esriLayer.opacity=e:this.noLayerErr()}getSR(){return this.esriLayer?Vt.fromESRI(this.esriLayer.spatialReference):(this.noLayerErr(),Vt.latLongSR())}}class G4 extends Uu{attribs;renderer;serviceUrl;canModifyLayer;filter;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.geomType=Xt.UNKNOWN,this.serviceUrl="",this.fieldList="",this.canModifyLayer=!0,this.filter=new XR(e.permanentFilteredQuery||"",e.initialFilteredQuery||""),this.hovertips=e.state?.hovertips??!0,this.attribs=new TF}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}async loadLayerMetadata(e={}){if(!this.serviceUrl)return;const n=Date.now(),r=await this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl);if(!(n<this.lastCancel))if(this.geomType=r.geometryType,this.attribs.quickCache=new MF(this.geomType),this.scaleSet.minScale=r.minScale,this.scaleSet.maxScale=r.maxScale,this.dataFormat=r.dataFormat,this.extent=this.extent??r.extent,this._serverVisibility=r.defaultVisibility,this.origRampConfig.name||(this.name=r.name??this.id),this.dataFormat===$n.ESRI_FEATURE){this.supportsFeatures=!0,this.canModifyLayer=this.layerType===Ct.SUBLAYER?r.canModifyLayer:!0,this.fields=r.fields,this.nameField=r.displayField,this.oidField=r.objectIdField,this.sourceSR=r.sourceSR,this.drawOrder.forEach(o=>{o.field&&this.fields.findIndex(a=>a.name===o.field)===-1&&console.error(`Draw order for layer ${this.id} references invalid field ${o.field}`)});const i=e&&e.customRenderer&&e.customRenderer.type?e.customRenderer:r.renderer;this.renderer=this.$iApi.geo.symbology.makeRenderer(i,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const s={supportsLimit:(r.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:"*",permanentFilter:this.getSqlFilter(fr.PERMANENT)};this.attribs.attLoader=new IF(this.$iApi,s)}else this.supportsFeatures=!1,this.supportsIdentify=!0}getAttributes(){return this.attribs.attLoader.getAttribs()}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}getFieldsToTrim(){return this.fields.filter(e=>e.trim).map(e=>e.name)}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let r={},i=new ml;const s=this.$iApi.geo.map;let o=!1,a=!1,l=0;if(n.getAttribs||n.getStyle){const p=this.attribs.quickCache.getAttribs(e);if(p)r=p;else if(this.attribs.attLoader.isLoaded()||this.isFile){const d=await this.attribs.attLoader.getAttribs();r=d.features[d.oidIndex[e]]}else o=!0}if(n.getGeom){l=s.getScale();const p=this.attribs.quickCache.getGeom(e,l);p?i=p:a=!0}if(o||a){const p={oid:e,serviceUrl:this.serviceUrl,includeGeometry:a,attribs:this.fieldList,fieldsToTrim:this.getFieldsToTrim()};a&&(p.mapSR=s.getSR().wkid?.toString(),this.attribs.quickCache.isPoint||(p.maxOffset=s.esriView?.resolution));const d=await this.$iApi.geo.attributes.loadSingleFeature(p);a&&(this.attribs.quickCache.setGeom(e,d.geometry,l),i=d.geometry),(o||typeof this.attribs.quickCache.getAttribs(e)>"u")&&(this.attribs.quickCache.setAttribs(e,d.attributes),o&&(r=d.attributes))}const c=new Mi(i,"",n.getAttribs?r:void 0);if(n.getStyle){const p=Gt(this.renderer.getGraphicSymbol(r));c.style=this.$iApi.geo.geom.styleEsriToRamp(p)}return c}async getIcon(e){if(!this.renderer)throw new Error("getIcon called before renderer is defined");const n=await this.getGraphic(e,{getAttribs:!0});return this.$iApi.geo.symbology.getGraphicIcon(n.attributes||{},this.renderer)}setSqlFilter(e,n){const r=this.filter.getSql(e);if(n===r)return;this.filter.setSql(e,n),this.$iApi.event.emit(Mt.FILTER_CHANGE,{uid:this.uid,filterKey:e});const i=`${this.uid}-${e}-${n}`;this._lastFilterUpdate=i,setTimeout(()=>{this._lastFilterUpdate===i&&this.applySqlFilter()},100)}applySqlFilter(e=[]){throw new Error(`attempted to apply sql filter ${e} to a layer not equipped for it. likely a new subclass of AttribLayer did not override applySqlFilter`)}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],n=void 0){const r=this.filter.getCombinedSql(e),i=!!n;if(!(r||i))return;n&&this.filter.setExtent(n);const s=this.filter.sqlActiveFilters(e);let o=this.filter.getCache(s,i);if(!o){const a={filterGeometry:n,filterSql:r,includeGeometry:!1,sourceSR:this.sourceSR};o=this.queryOIDs(a),this.filter.setCache(o,s,i)}return o}queryOIDs(e){this.isFile&&(console.error("a file layer called a server based query function"),console.trace());const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){const n=await this.queryOIDs(e),r={getGeom:!!e.includeGeometry,getAttribs:!0};return n.map(i=>({oid:i,graphic:this.getGraphic(i,r)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(r=>r.graphic))}configDrawOrder(e,n){Array.isArray(e.drawOrder)&&e.drawOrder.length>0&&(n.orderBy=e.drawOrder.map(r=>{const i=r.ascending??!0?"ascending":"descending";return r.field?{field:r.field,order:i}:{valueExpression:r.arcade,order:i}}),this._drawOrder=e.drawOrder.slice())}}class rF extends Uu{constructor(e,n){super(e,n),this.dataFormat=$n.ESRI_FEATURE,this.layerFormat=pi.GRAPHIC,this.hovertips=!1}_graphics=[];makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}getGraphicCount(){return this._graphics.length}getLocalGraphic(e){return this._graphics.find(n=>n.id===e)}getEsriGraphic(e){return this.esriLayer?.graphics.find(n=>n.id===e)}get graphics(){return this._graphics.slice()}async addGraphic(e){if(!this.layerExists){this.noLayerErr();return}let n;e instanceof Array?n=e:n=[e];const r=n.filter(l=>this._graphics.findIndex(c=>c.id===l.id)===-1?(this._graphics.push(l),!0):(console.error(`Attempting to add graphic with id '${l.id}' that has already been added.`),!1)),i=this.$iApi.geo.map.getSR(),s=r.map(l=>this.$iApi.geo.proj.projectGeometry(i,l.geometry)),o=await Promise.all(s),a=r.map((l,c)=>{const p=new Mi(o[c],l.id,l.attributes);return p.style=l.style,this.$iApi.geo.geom.graphicRampToEsri(p)});this.esriLayer.addMany(a)}removeGraphic(e){if(!this.layerExists){this.noLayerErr();return}if(typeof e>"u"){this.esriLayer.removeAll(),this._graphics=[];return}let n;Array.isArray(e)?n=e:n=[e],n.map(r=>typeof r=="string"?r:r.id).forEach(r=>{const i=this.esriLayer.graphics.findIndex(o=>o.id===r);i>-1&&this.esriLayer.graphics.removeAt(i);const s=this._graphics.findIndex(o=>o.id===r);s>-1&&this._graphics.splice(s,1)})}}class iF extends rF{constructor(e,n){super(e,n),this.layerType=Ct.GRAPHIC}async onInitiate(){this.esriLayer=_n(await De.GraphicsLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();return this.layerTree.name=this.name,this.updateDrawState(Vr.UP_TO_DATE),e}}class Gu extends G4{esriJson;sourceGeoJson;tooltipField;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.isFile=!0,this.dataFormat=$n.ESRI_FEATURE,this.layerFormat=pi.FEATURE,this.tooltipField="",this.layerIdx=0,e.identifyMode&&e.identifyMode!==Vn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Vn.HYBRID}async reload(){if(this.origRampConfig.caching!==!0&&!this.origRampConfig.url){console.error("Attempted to reload file layer from non server source without caching enabled.");return}await super.reload()}async onInitiate(){if(!this.sourceGeoJson)throw new Error("File Layer is missing source data.");const e={layerId:this.origRampConfig.id||"",targetSR:this.$iApi.geo.map.getSR(),colour:this.origRampConfig.colour,fieldMetadata:this.origRampConfig.fieldMetadata,latField:this.origRampConfig.latField||"",lonField:this.origRampConfig.longField||""};this.esriJson=await this.$iApi.geo.layer.files.geoJsonToEsriJson(this.sourceGeoJson,e),this.esriLayer=_n(await De.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),this.esriJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData,delete this.sourceGeoJson,await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),r="OBJECTID";return["source","objectIdField","id","fields","renderer","spatialReference","geometryType"].forEach(i=>{n[i]=this.esriJson[i]}),this.origRampConfig.nameField?n.displayField=this.$iApi.geo.attributes.fieldValidator(n.fields,this.origRampConfig.nameField)||r:n.displayField=r,n.outFields=["*"],delete n.url,this.configDrawOrder(e,n),n}onLoadActions(){const e=super.onLoadActions(),n=async()=>{this.esriLayer&&this.origRampConfig.customRenderer?.type&&(this.esriLayer.renderer=await De.RendererFromJson(this.config.customRenderer)),this.layerTree.name=this.name,this.extractLayerMetadata(),this.origRampConfig.tooltipField?this.tooltipField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.tooltipField)||this.nameField:this.tooltipField=this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.featureCount=this.esriLayer?.source.length||0};return e.push(n()),e.push(this.viewDefProm.getPromise()),this.filter.getCombinedSql()&&Promise.all(e).then(()=>{this.applySqlFilter()}),e}runIdentify(e){if(!this.canIdentify())return[];const n=new bn,r=jn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let i=Promise.resolve(),s=Promise.resolve(),o=[],a=[];if(this.identifyMode===Vn.HYBRID||this.identifyMode===Vn.GEOMETRIC){const l={includeGeometry:!1};this.geomType!==Xt.POLYGON&&e.geometry.type===Xt.POINT?l.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):l.filterGeometry=e.geometry,l.filterSql=this.getCombinedSqlFilter(),s=this.queryFeatures(l).then(c=>{o=c})}return e.hitTest&&(this.identifyMode===Vn.HYBRID||this.identifyMode===Vn.SYMBOLIC)&&(i=s.then(async()=>{const l=await e.hitTest;a=await Promise.all(l.filter(c=>c.layerId===this.id&&o.findIndex(p=>c.oid===p.attributes[this.oidField])===-1).map(c=>c.oid))})),Promise.all([i,s]).then(()=>{o.forEach(l=>{r.items.push(Fu.makeRawItem(Ma.ESRI,l.attributes))}),a.forEach(l=>{r.items.push(Fu.makeOidItem(l,this))}),r.loaded=!0,n.resolveMe()}).catch(()=>{r.errored=!0,n.resolveMe()}),[r]}extractLayerMetadata(){const e=this.esriLayer;if(!e)throw new Error("file layer attempted to extract data from esri layer, esri layer did not exist");this.supportsFeatures=!0,this.geomType=this.$iApi.geo.geom.clientGeomTypeToRampGeomType(e.geometryType),this.scaleSet.minScale=e.minScale||0,this.scaleSet.maxScale=e.maxScale||0,this.extent=this.extent??sn.fromESRI(e.fullExtent,this.id+"_extent");const n=_n(e.fields.slice());this.fields=n.map(i=>({name:i.name,alias:i.alias,type:i.type,length:i.length})),this.nameField=e.displayField,this.oidField=e.objectIdField,this.renderer=this.$iApi.geo.symbology.makeRenderer(e.renderer,this.fields),this.legend=this.$iApi.geo.symbology.rendererToLegend(this.renderer);const r={sourceGraphics:e.source,oidField:this.oidField,attribs:"*",batchSize:-1,fieldsToTrim:[]};this.attribs.attLoader=new Zgt(this.$iApi,r)}async getGraphic(e,n){let r;if(!n.getGeom&&this.attribs.attLoader.isLoaded()){const i=await this.attribs.attLoader.getAttribs();r=new Mi(new ml,"",i.features[i.oidIndex[e]])}else{const i={filterOIDs:[e],includeGeometry:!!n.getGeom},s=await this.queryFeatures(i);if(s.length===0)throw new Error(`Could not find object id ${e}`);s.length!==1&&console.warn("did not get a single result on a query for a specific object id"),r=s[0]}if(n.getStyle){const i=Gt(this.renderer.getGraphicSymbol(r.attributes));r.style=this.$iApi.geo.geom.styleEsriToRamp(i)}return r}async queryFeatures(e){const n={layer:this,...e};return this.$iApi.geo.query.geoJsonQuery(n)}async queryOIDs(e){const n={layer:this,...e};return(await this.$iApi.geo.query.geoJsonQuery(n)).map(r=>r.attributes?r.attributes[this.oidField]:-1)}applySqlFilter(e=[]){if(!this.esriView){this.noLayerErr();return}const n=this.filter.getCombinedSql(e);De.FeatureFilter({where:n}).then(r=>{Gt(this.esriView).filter=r})}}class ogt extends Gu{constructor(e,n){super(e,n),this.layerType=Ct.GEOJSON}async onInitiate(){let e;const n=Date.now();if(this.origRampConfig.rawData)e=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("GeoJson layer config contains no raw data or url");n>this.lastCancel&&(this.sourceGeoJson=e,await super.onInitiate())}}class agt extends Gu{constructor(e,n){super(e,n),this.layerType=Ct.SHAPEFILE}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.shapefileToGeoJson(n);e>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class lgt extends Gu{constructor(e,n){super(e,n),this.layerType=Ct.CSV}async onInitiate(){if(!this.origRampConfig.latField||!this.origRampConfig.longField)throw new Error("csv file config missing lat or long field names");let e;const n=Date.now();if(this.origRampConfig.rawData&&typeof this.origRampConfig.rawData=="string")e=this.origRampConfig.rawData;else if(this.origRampConfig.url)e=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Csv file config contains no raw data or url");if(n>this.lastCancel){const r=await this.$iApi.geo.layer.files.csvToGeoJson(e,{latfield:this.origRampConfig.latField,lonfield:this.origRampConfig.longField});n>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class cgt extends Gu{constructor(e,n){super(e,n),this.layerType=Ct.GEOJSONZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(n);e>this.lastCancel&&(this.sourceGeoJson=JSON.parse(this.$iApi.geo.layer.files.arbToStr(r)),await super.onInitiate())}}}class ugt extends Gu{constructor(e,n){super(e,n),this.layerType=Ct.FLATGEOBUF}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.fgbToGeoJson(n,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=r,await super.onInitiate())}}}class hgt extends Gu{constructor(e,n){super(e,n),this.layerType=Ct.FLATGEOBUFZIPPED}async onInitiate(){const e=Date.now(),n=await this.$iApi.geo.layer.files.binaryInitHelper(this.origRampConfig);if(e>this.lastCancel){const r=await this.$iApi.geo.layer.files.unzipSingleFile(n);if(e>this.lastCancel){const i=await this.$iApi.geo.layer.files.fgbToGeoJson(r,this.expectedTime.fail+1e3);e>this.lastCancel&&(this.sourceGeoJson=i,await super.onInitiate())}}}}class pgt extends G4{tooltipField;constructor(e,n){super(e,n),this.dataFormat=$n.ESRI_FEATURE,this.tooltipField="",this.supportsIdentify=!0,this.layerType=Ct.FEATURE,this.layerFormat=pi.FEATURE,e.identifyMode&&e.identifyMode!==Vn.NONE?this.identifyMode=e.identifyMode:this.identifyMode=Vn.HYBRID}async onInitiate(){_n(this.esriLayer=await De.FeatureLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return(e.initialFilteredQuery||e.permanentFilteredQuery)&&(n.definitionExpression=this.filter.getCombinedSql()),this.configDrawOrder(e,n),n}onLoadActions(){const e=Date.now(),n=super.onLoadActions(),r=this.esriLayer.parsedUrl.path,i=this.$iApi.geo.shared.parseUrlIndex(r).index||0;this.layerIdx=i,this.serviceUrl=r;const s=async()=>{let a;if(this.esriLayer&&this.origRampConfig.customRenderer?.type){const l=await De.RendererFromJson(this.origRampConfig.customRenderer);this.esriLayer.renderer=l,a={customRenderer:l}}else a={};await this.loadLayerMetadata(a),e>this.lastCancel&&(this.layerTree.name=this.name,this.visibility=this.origRampConfig?.state?.visibility??this._serverVisibility??!0,this.nameField=this.origRampConfig.nameField||this.nameField||"",this.tooltipField=this.origRampConfig.tooltipField||this.nameField,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.attribs.attLoader.updateFieldList(this.fieldList),this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim()))},o=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(fr.PERMANENT)).then(a=>{e>this.lastCancel&&(this.featureCount=a)});return this.layerTree.layerIdx=i,n.push(o,s()),n}runIdentify(e){if(!this.canIdentify())return[];const n=new bn,r=jn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});let i=Promise.resolve(),s=Promise.resolve(),o=[];if(this.identifyMode===Vn.HYBRID||this.identifyMode===Vn.GEOMETRIC){const a={includeGeometry:!1,sourceSR:this.sourceSR};this.geomType!==Xt.POLYGON&&e.geometry.type===Xt.POINT?a.filterGeometry=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance):a.filterGeometry=e.geometry,a.filterSql=this.getCombinedSqlFilter(),s=this.queryOIDs(a).then(l=>{o=l})}return e.hitTest&&(this.identifyMode===Vn.HYBRID||this.identifyMode===Vn.SYMBOLIC)&&(i=s.then(async()=>{(await e.hitTest).filter(a=>a.layerId===this.id&&o.findIndex(l=>a.oid===l)===-1).forEach(a=>{o.push(a.oid)})})),Promise.all([i,s]).then(()=>{o.forEach(a=>{r.items.push(Fu.makeOidItem(a,this))}),r.loaded=!0,n.resolveMe()}).catch(()=>{r.errored=!0,n.resolveMe()}),[r]}applySqlFilter(e=[]){if(this.layerExists){const n=this.filter.getCombinedSql(e);this.esriLayer.definitionExpression=n}else this.noLayerErr()}getGraphicExtent(e){return new Promise((n,r)=>{if(!this.layerExists)this.noLayerErr(),r();else if(!["multipoint","polyline","polygon"].includes(this.esriLayer.geometryType))console.error(`Attempted to query extent for invalid geometry type ${this.esriLayer.geometryType}.`),r();else{const i=this.attribs.quickCache.getExtent(e);i?n(i):this.esriLayer.queryExtent({objectIds:[e],outSpatialReference:this.$iApi.geo.map.getSR().toESRI()}).then(s=>{const o=sn.fromESRI(s.extent);this.attribs.quickCache.setExtent(e,o),n(o)}).catch(()=>{console.error(`Extent querying failed for ${e}.`),r()})}})}}const _0={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new di({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:qe.WebMercator}),minus180Line:new di({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:qe.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new di({paths:[[[180,-180],[180,180]]],spatialReference:qe.WGS84}),minus180Line:new di({paths:[[[-180,-180],[-180,180]]],spatialReference:qe.WGS84})}};function ec(t,e){return Math.ceil((t-e)/(2*e))}function $4(t,e){const n=w0(t);for(const r of n)for(const i of r)i[0]+=e;return t}function w0(t){return zy(t)?t.rings:t.paths}function sF(t,e){return e?{...e,query:{...t??{},...e.query}}:{query:t}}function V4(t){return typeof t=="string"?Hs(t):gt(t)}function B4(t,e,n){const r={};for(const i in t){if(i==="declaredClass")continue;const s=t[i];if(s!=null&&typeof s!="function")if(Array.isArray(s))r[i]=s.map(o=>B4(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(n?.[i]);r[i]=JSON.stringify(o)}else r[i]=JSON.stringify(s);else r[i]=s}return r}async function dgt(t,e,n,r){const i=V4(t),s=e[0].spatialReference,o={...r,responseType:"json",query:{...i.query,f:"json",sr:jy(s),target:JSON.stringify({geometryType:Yd(e[0]),geometries:e}),cutter:JSON.stringify(n)}},a=await Xe(i.path+"/cut",o),{cutIndexes:l,geometries:c=[]}=a.data;return{cutIndexes:l,geometries:c.map(p=>{const d=yh(p);return d.spatialReference=s,d})}}function fgt(t){return{geometryType:Yd(t[0]),geometries:t.map(e=>e.toJSON())}}function oF(t,e,n){const r=tH(e);return t.map(i=>{const s=r.fromJSON(i);return s.spatialReference=n,s})}async function mgt(t,e,n){const r=typeof t=="string"?Hs(t):t,i=e[0].spatialReference,s=Yd(e[0]),o={...n,query:{...r.query,f:"json",sr:jy(i),geometries:JSON.stringify(fgt(e))}},{data:a}=await Xe(r.path+"/simplify",o);return oF(a.geometries,s,i)}const aF=()=>Re.getLogger("esri.geometry.support.normalizeUtils");function ygt(t){return t.type==="polygon"}function ggt(t){return t[0].type==="polygon"}function vgt(t){return t[0].type==="polyline"}function lF(t){const e=[];let n=0,r=0;for(let i=0;i<t.length;i++){const s=t[i];let o=null;for(let a=0;a<s.length;a++)o=s[a],e.push(o),a===0?(n=o[0],r=n):(n=Math.min(n,o[0]),r=Math.max(r,o[0]));o&&e.push([(n+r)/2,0])}return e}function cF(t,e){if(!(t instanceof di||t instanceof hs)){const i="straightLineDensify: the input geometry is neither polyline nor polygon";throw aF().error(i),new ae(i)}const n=w0(t),r=[];for(const i of n){const s=[];r.push(s),s.push([i[0][0],i[0][1]]);for(let o=0;o<i.length-1;o++){const a=i[o][0],l=i[o][1],c=i[o+1][0],p=i[o+1][1],d=Math.sqrt((c-a)*(c-a)+(p-l)*(p-l)),f=(p-l)/d,y=(c-a)/d,g=d/e;if(g>1){for(let A=1;A<=g-1;A++){const x=A*e,b=y*x+a,I=f*x+l;s.push([b,I])}const _=(d+Math.floor(g-1)*e)/2,w=y*_+a,T=f*_+l;s.push([w,T])}s.push([c,p])}}return ygt(t)?new hs({rings:r,spatialReference:t.spatialReference}):new di({paths:r,spatialReference:t.spatialReference})}function uF(t,e,n){if(e){const r=cF(t,1e6);t=hh(r,!0)}return n&&(t=$4(t,n)),t}function hF(t,e,n){if(Array.isArray(t)){const r=t[0];if(r>e){const i=ec(r,e);t[0]=r+i*(-2*e)}else if(r<n){const i=ec(r,n);t[0]=r+i*(-2*n)}}else{const r=t.x;if(r>e){const i=ec(r,e);t=t.clone().offset(i*(-2*e),0)}else if(r<n){const i=ec(r,n);t=t.clone().offset(i*(-2*n),0)}}return t}function bgt(t,e){let n=-1;for(let r=0;r<e.cutIndexes.length;r++){const i=e.cutIndexes[r],s=e.geometries[r],o=w0(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(c=>{if(c[0]<180)return!0;{let p=0;for(let f=0;f<l.length;f++){const y=l[f][0];p=y>p?y:p}p=Number(p.toFixed(9));const d=-360*ec(p,180);for(let f=0;f<l.length;f++){const y=s.getPoint(a,f);s.setPoint(a,f,y.clone().offset(d,0))}return!0}})}if(i===n){if(ggt(t))for(const a of w0(s))t[i]=t[i].addRing(a);else if(vgt(t))for(const a of w0(s))t[i]=t[i].addPath(a)}else n=i,t[i]=s}return t}async function z4(t,e,n){if(!Array.isArray(t))return z4([t],e);e&&typeof e!="string"&&aF().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof e=="string"?e:e?.url??Ee.geometryServiceUrl;let i,s,o,a,l,c,p,d,f=0;const y=[],g=[];for(const b of t)if(b!=null)if(i||(i=b.spatialReference,s=Zs(i),o=i.isWebMercator,c=o?102100:4326,a=_0[c].maxX,l=_0[c].minX,p=_0[c].plus180Line,d=_0[c].minus180Line),s)if(b.type==="mesh")g.push(b);else if(b.type==="point")g.push(hF(b.clone(),a,l));else if(b.type==="multipoint"){const I=b.clone();I.points=I.points.map(N=>hF(N,a,l)),g.push(I)}else if(b.type==="extent"){const I=b.clone()._normalize(!1,!1,s);g.push(I.rings?new hs(I):I)}else if(b.extent){const I=b.extent,N=ec(I.xmin,l)*(2*a);let R=N===0?b.clone():$4(b.clone(),N);I.offset(N,0);let{xmin:P,xmax:D}=I;P=Number(P.toFixed(9)),D=Number(D.toFixed(9)),I.intersects(p)&&D!==a?(f=D>f?D:f,R=uF(R,o),y.push(R),g.push("cut")):I.intersects(d)&&P!==l?(f=D*(2*a)>f?D*(2*a):f,R=uF(R,o,360),y.push(R),g.push("cut")):g.push(R)}else g.push(b.clone());else g.push(b);else g.push(b);let _=ec(f,a),w=-90;const T=_,A=new di;for(;_>0;){const b=360*_-180;A.addPath([[b,w],[b,-1*w]]),w*=-1,_--}if(y.length>0&&T>0){const b=bgt(y,await dgt(r,y,A,n)),I=[],N=[];for(let D=0;D<g.length;D++){const B=g[D];if(B!=="cut")N.push(B);else{const $=b.shift(),U=t[D];U!=null&&U.type==="polygon"&&U.rings&&U.rings.length>1&&$.rings.length>=U.rings.length?(I.push($),N.push("simplify")):N.push(o?_c($):$)}}if(!I.length)return N;const R=await mgt(r,I,n),P=[];for(let D=0;D<N.length;D++){const B=N[D];B!=="simplify"?P.push(B):P.push(o?_c(R.shift()):R.shift())}return P}const x=[];for(let b=0;b<g.length;b++){const I=g[b];if(I!=="cut")x.push(I);else{const N=y.shift();x.push(o===!0?_c(N):N)}}return x}function _gt(t){if(!t)return null;const e=t.extent;if(!e)return null;const n=t.spatialReference&&Zs(t.spatialReference);if(!n)return e;const[r,i]=n.valid,s=2*i,{width:o}=e;let a,{xmin:l,xmax:c}=e;if([l,c]=[c,l],t.type==="extent"||o===0||o<=i||o>s||l<r||c>i)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;a=lF(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;a=lF(t.paths);break;case"multipoint":a=t.points}const p=e.clone();for(let d=0;d<a.length;d++){let f=a[d][0];f<0?(f+=i,c=Math.max(f,c)):(f-=i,l=Math.min(f,l))}return p.xmin=l,p.xmax=c,p.width<o?(p.xmin-=i,p.xmax-=i,p):e}function wgt(t,e,n){const r=Zs(n);if(r==null)return t;const[i,s]=r.valid,o=2*s;let a=0,l=0;e>s?a=Math.ceil(Math.abs(e-s)/o):e<i&&(a=-Math.ceil(Math.abs(e-i)/o)),t>s?l=Math.ceil(Math.abs(t-s)/o):t<i&&(l=-Math.ceil(Math.abs(t-i)/o));let c=t+(a-l)*o;const p=c-e;return p>s?c-=o:p<i&&(c+=o),c}function xgt(t,e){const n=Zs(e);if(n){const[r,i]=n.valid,s=i-r;if(t<r)for(;t<r;)t+=s;if(t>i)for(;t>i;)t-=s}return t}const pF=96;function dF(t,e){const n=t.extent,r=t.width,i=vc(n?.spatialReference);return n&&r?n.width/r*i*F_*pF:0}function Egt(t,e){return t/(vc(e)*F_*pF)}function Sgt(t,e,n){return Tgt(t,e)&&Agt(t,n)}function Tgt(t,e){return e===0||Ju(t,e)||t<e}function Agt(t,e){return e===0||Ju(t,e)||t>e}function Igt(t){const e=t.layer;return"floorInfo"in e&&e.floorInfo?.floorField&&"floors"in t.view?fF(t.view.floors,e.floorInfo.floorField):null}function W4(t,e){return"floorInfo"in e&&e.floorInfo?.floorField?fF(t,e.floorInfo.floorField):null}function fF(t,e){if(!t?.length)return null;const n=t.filter(r=>r!=="").map(r=>`'${r}'`);return n.push("''"),`${e} IN (${n.join(",")}) OR ${e} IS NULL`}function Mgt(t,e,n){return e.flatten(({sublayers:r})=>r).length!==t.length?!0:!!t.some(r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n)||!yF(t,e)}function mF(t,e,n){return!!t.some(r=>{const i=r.source,s=!i||i.type==="map-layer"&&i.mapLayerId===r.id&&(i.gdbVersion==null||i.gdbVersion===n);return r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),!s||r.originIdOf("renderer")>ne.SERVICE||r.originIdOf("labelingInfo")>ne.SERVICE||r.originIdOf("opacity")>ne.SERVICE||r.originIdOf("labelsVisible")>ne.SERVICE})||!yF(t,e)}function yF(t,e){if(!t?.length||e==null)return!0;const n=e.slice().reverse().flatten(({sublayers:s})=>s&&s.toArray().reverse()).map(s=>s.id).toArray();if(t.length>n.length)return!1;let r=0;const i=n.length;for(const{id:s}of t){for(;r<i&&n[r]!==s;)r++;if(r>=i)return!1}return!0}function Ogt(t){return!!t&&t.some(e=>e.minScale!=null||e.layerDefinition?.minScale!=null)}function Ngt(t,e){const{dpi:n,gdbVersion:r,geometry:i,geometryPrecision:s,height:o,historicMoment:a,layerOption:l,mapExtent:c,maxAllowableOffset:p,returnFieldName:d,returnGeometry:f,returnUnformattedValues:y,returnZ:g,spatialReference:_,timeExtent:w,tolerance:T,width:A}=t.toJSON(),{dynamicLayers:x,layerDefs:b,layerIds:I}=Cgt(t),N=e?.geometry!=null?e.geometry:null,R={historicMoment:a,geometryPrecision:s,maxAllowableOffset:p,returnFieldName:d,returnGeometry:f,returnUnformattedValues:y,returnZ:g,tolerance:T},P=N?.toJSON()||i;R.imageDisplay=`${A},${o},${n}`,r&&(R.gdbVersion=r),P&&(delete P.spatialReference,R.geometry=JSON.stringify(P),R.geometryType=Yd(P));const D=_??P?.spatialReference??c?.spatialReference;if(D&&(R.sr=jy(D)),R.time=w?[w.start,w.end].join(","):null,c){const{xmin:B,ymin:$,xmax:U,ymax:J}=c;R.mapExtent=`${B},${$},${U},${J}`}return b&&(R.layerDefs=b),x&&!b&&(R.dynamicLayers=x),R.layers=l==="popup"?"visible":l,I&&!x&&(R.layers+=`:${I.join(",")}`),R}function Cgt(t){const{mapExtent:e,floors:n,width:r,sublayers:i,layerIds:s,layerOption:o,gdbVersion:a}=t,l=i?.find(g=>g.layer!=null)?.layer?.serviceSublayers,c=o==="popup",p={},d=dF({extent:e,width:r,spatialReference:e?.spatialReference}),f=[],y=g=>{const _=d===0,w=g.minScale===0||d<=g.minScale,T=g.maxScale===0||d>=g.maxScale;if(g.visible&&(_||w&&T))if(g.sublayers)g.sublayers.forEach(y);else{if(s?.includes(g.id)===!1||c&&(!g.popupTemplate||!g.popupEnabled))return;f.unshift(g)}};if(i?.forEach(y),i&&!f.length)p.layerIds=[];else{const g=mF(f,l,a),_=f.map(w=>{const T=W4(n,w);return w.toExportImageJSON(T)});if(g)p.dynamicLayers=JSON.stringify(_);else{if(i){let T=f.map(({id:A})=>A);s&&(T=T.filter(A=>s.includes(A))),p.layerIds=T}else s?.length&&(p.layerIds=s);const w=Rgt(n,f);if(w!=null&&w.length){const T={};for(const A of w)A.definitionExpression&&(T[A.id]=A.definitionExpression);Object.keys(T).length&&(p.layerDefs=JSON.stringify(T))}}}return p}function Rgt(t,e){const n=!!t?.length,r=e.filter(i=>i.definitionExpression!=null||n&&i.floorInfo!=null);return r.length?r.map(i=>{const s=W4(t,i),o=eN(s,i.definitionExpression);return{id:i.id,definitionExpression:o??void 0}}):null}const H4={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function Hb(t,e,n,r=to){const i=new ls(Fw(r)),s=jt.fromJSDate(t,{zone:i}),o=n==="decades"||n==="centuries"?"year":bF(n);return n==="decades"&&(e*=10),n==="centuries"&&(e*=100),s.plus({[o]:e}).toJSDate()}function kgt(t,e,n="milliseconds"){const r=t.getTime(),i=vF(e,n,"milliseconds");return new Date(r+i)}function gF(t,e,n=to){const r=new ls(Fw(n)),i=jt.fromJSDate(t,{zone:r});if(e==="decades"||e==="centuries"){const o=i.startOf("year"),{year:a}=o,l=a-a%(e==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=bF(e);return i.startOf(s).toJSDate()}function vF(t,e,n){return t===0?0:t*H4[e]/H4[n]}function bF(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var as;let Ai=as=class extends Kt{static get allTime(){return wF}static get empty(){return Lgt}static fromArray(t){return new as({start:t[0]!=null?new Date(t[0]):t[0],end:t[1]!=null?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return e.end!=null?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(as.allTime)}get isEmpty(){return this.equals(as.empty)}readStart(t,e){return e.start!=null?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new as({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=t.start?.getTime()??t.start,i=t.end?.getTime()??t.end;return e===r&&n===i}expandTo(t,e=to){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=gF(n,t,e));let r=this.end;if(r){const i=gF(r,t,e);r=r.getTime()===i.getTime()?i:Hb(i,1,t,e)}return new as({start:n,end:r})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return as.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,r=t.start?.getTime()??-1/0,i=t.end?.getTime()??1/0;let s,o;return r>=e&&r<=n?s=r:e>=r&&e<=i&&(s=e),n>=r&&n<=i?o=n:i>=e&&i<=n&&(o=i),s==null||o==null||isNaN(s)||isNaN(o)?as.empty:new as({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(t,e,n=to){if(this.isEmpty||this.isAllTime)return this.clone();const r=new as,{start:i,end:s}=this;return i!=null&&(r.start=Hb(i,t,e,n)),s!=null&&(r.end=Hb(s,t,e,n)),r}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return wF.clone();const e=this.start!=null&&t.start!=null?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=this.end!=null&&t.end!=null?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new as({start:e,end:n})}};v([S({type:Date,json:{write:{allowNull:!0}}})],Ai.prototype,"end",void 0),v([gn("end")],Ai.prototype,"readEnd",null),v([Pe("end")],Ai.prototype,"writeEnd",null),v([S({readOnly:!0,json:{read:!1}})],Ai.prototype,"isAllTime",null),v([S({readOnly:!0,json:{read:!1}})],Ai.prototype,"isEmpty",null),v([S({type:Date,json:{write:{allowNull:!0}}})],Ai.prototype,"start",void 0),v([gn("start")],Ai.prototype,"readStart",null),v([Pe("start")],Ai.prototype,"writeStart",null),Ai=as=v([it("esri.time.TimeExtent")],Ai);const _F=Ai,wF=new Ai,Lgt=new Ai({start:void 0,end:void 0});var Y4;let rn=Y4=class extends Kt{static from(t){return S2(Y4,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.historicMoment=null,this.layerIds=null,this.layerOption="top",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}};v([S({type:Number,json:{write:!0}})],rn.prototype,"dpi",void 0),v([S()],rn.prototype,"floors",void 0),v([S({type:String,json:{write:!0}})],rn.prototype,"gdbVersion",void 0),v([S({types:Wy,json:{read:yh,write:!0}})],rn.prototype,"geometry",void 0),v([S({type:Number,json:{write:!0}})],rn.prototype,"geometryPrecision",void 0),v([S({type:Number,json:{write:!0}})],rn.prototype,"height",void 0),v([S({type:Date})],rn.prototype,"historicMoment",void 0),v([Pe("historicMoment")],rn.prototype,"writeHistoricMoment",null),v([S({type:[Number],json:{write:!0}})],rn.prototype,"layerIds",void 0),v([S({type:["top","visible","all","popup"],json:{write:!0}})],rn.prototype,"layerOption",void 0),v([S({type:Wr,json:{write:!0}})],rn.prototype,"mapExtent",void 0),v([S({type:Number,json:{write:!0}})],rn.prototype,"maxAllowableOffset",void 0),v([S({type:Boolean,json:{write:!0}})],rn.prototype,"returnFieldName",void 0),v([S({type:Boolean,json:{write:!0}})],rn.prototype,"returnGeometry",void 0),v([S({type:Boolean,json:{write:!0}})],rn.prototype,"returnM",void 0),v([S({type:Boolean,json:{write:!0}})],rn.prototype,"returnUnformattedValues",void 0),v([S({type:Boolean,json:{write:!0}})],rn.prototype,"returnZ",void 0),v([S({type:qe,json:{write:!0}})],rn.prototype,"spatialReference",void 0),v([S()],rn.prototype,"sublayers",void 0),v([S({type:_F,json:{write:!0}})],rn.prototype,"timeExtent",void 0),v([S({type:Number,json:{write:!0}})],rn.prototype,"tolerance",void 0),v([S({type:Number,json:{write:!0}})],rn.prototype,"width",void 0),rn=Y4=v([it("esri.rest.support.IdentifyParameters")],rn);const Z4=rn;let Ea=class extends Kt{constructor(t){super(t),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(t,e){return Qg.fromJSON({attributes:{...e.attributes},geometry:{...e.geometry}})}writeFeature(t,e){if(!t)return;const{attributes:n,geometry:r}=t;n&&(e.attributes={...n}),r!=null&&(e.geometry=r.toJSON(),e.geometryType=ZO.toJSON(r.type))}};v([S({type:String,json:{write:!0}})],Ea.prototype,"displayFieldName",void 0),v([S({type:Qg})],Ea.prototype,"feature",void 0),v([gn("feature",["attributes","geometry"])],Ea.prototype,"readFeature",null),v([Pe("feature")],Ea.prototype,"writeFeature",null),v([S({type:Number,json:{write:!0}})],Ea.prototype,"layerId",void 0),v([S({type:String,json:{write:!0}})],Ea.prototype,"layerName",void 0),Ea=v([it("esri.rest.support.IdentifyResult")],Ea);const Pgt=Ea;async function xF(t,e,n){const r=(e=jgt(e)).geometry?[e.geometry]:[],i=V4(t);return i.path+="/identify",z4(r).then(s=>{const o=Ngt(e,{geometry:s?.[0]}),a=B4({...i.query,f:"json",...o}),l=sF(a,n);return Xe(i.path,l).then(Dgt).then(c=>Fgt(c,e.sublayers))})}function Dgt(t){const e=t.data;return e.results=e.results||[],e.exceededTransferLimit=!!e.exceededTransferLimit,e.results=e.results.map(n=>Pgt.fromJSON(n)),e}function jgt(t){return t=Z4.from(t)}function Fgt(t,e){if(!e?.length)return t;const n=new Map;function r(i){n.set(i.id,i),i.sublayers&&i.sublayers.forEach(r)}e.forEach(r);for(const i of t.results)i.feature.sourceLayer=n.get(i.layerId);return t}class Ugt extends Uu{isDynamic;origState;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.supportsSublayers=!0,this.layerType=Ct.MAPIMAGE,this.layerFormat=pi.MAPIMAGE,this.isDynamic=!1,this.hovertips=!1,this.layerTree.layerIdx=-1,this.identifyMode=Vn.GEOMETRIC}async onInitiate(){this.esriLayer=_n(await De.MapImageLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e);return this.origState={visibility:n.visible,opacity:n.opacity},n.visible=!1,e.imageFormat&&(n.imageFormat=e.imageFormat),n}onLoadActions(){const e=super.onLoadActions();if(!this.layerExists)return this.noLayerErr(),e;const n=Date.now();if(this.layerTree.name=this.name,!this.esriLayer.capabilities.exportMap)throw this.$iApi.notify.show(li.WARNING,this.$iApi.$i18n.t("layer.noexportmap",{name:this.name||this.id})),new Error("Service does not support Map Image Layer, Map Export is not enabled");this.isDynamic=this.esriLayer.capabilities.exportMap.supportsDynamicLayers,this.extent=this.extent??sn.fromESRI(this.esriLayer.fullExtent,this.id+"_extent");const r=l=>{const c=this.esriLayer?.allSublayers.find(p=>p.id===l);if(!c)throw new Error("attempt to find map image sublayer failed");return c},i={};this.origRampConfig.sublayers.forEach(l=>{i[l.index||0]=l});const s=[],o=(l,c)=>{const p=l.id,d=i[p];if(l.sublayers&&l.sublayers.length>0){const f=(d?d.name:"")||l.title||"",y=new e1(p,"",f,!1);c.findChildByIdx(p)||c.children.push(y),l.sublayers.reverse().forEach(g=>{o(g,y)})}else{this._sublayers[p]||(this._sublayers[p]=new Ggt({id:`${this.id}-${p}`,index:p,layerType:Ct.SUBLAYER,name:d?.name,state:d?.state??{opacity:this.opacity,visibility:this.visibility,hovertips:this.hovertips,identify:this.identify},extent:d?.extent,controls:d?.controls,disabledControls:d?.disabledControls,initialFilteredQuery:d?.initialFilteredQuery,permanentFilteredQuery:d?.permanentFilteredQuery,labels:d?.labels},this.$iApi,this));const f=this._sublayers[p];if(f.isRemoved)return;if(f.name=d?.name||l.title||"",s.push(f),!c.children.map(y=>y.layerIdx).includes(p)){const y=new e1(p,f.uid,f.name,!1);c.children.push(y)}f.esriWatches.push(l.watch("visible",()=>{this.$iApi.event.emit(Mt.LAYER_VISIBILITYCHANGE,{visibility:f.visibility,layer:f}),f.parentLayer?.checkVisibility()}),l.watch("opacity",y=>{this.$iApi.event.emit(Mt.LAYER_OPACITYCHANGE,{opacity:y,layer:f})}))}};this.origRampConfig.sublayers.forEach(l=>{if(!l.cosmetic){const c=r(l.index||0);o(c,this.layerTree)}});const a=s.map(async l=>{const c=r(l.layerIdx),p=i[l.layerIdx];if(l.serviceUrl=c.url,l.fetchEsriSublayer(this),await l.initiate(),n<this.lastCancel)return;const d=l.esriSubLayer&&p?.customRenderer?.type;if(d&&(l.esriSubLayer.renderer=await De.RendererFromJson(p.customRenderer)),await l.loadLayerMetadata(d?{customRenderer:l.esriSubLayer?.renderer}:{}),n<this.lastCancel)return;const f=i[l.layerIdx];if(f?(l.visibility=l.isRemoved?!1:f.state?.visibility??(this.origState.visibility?l._serverVisibility??this.origState.visibility:this.origState.visibility??l._serverVisibility)??!0,l.opacity=f.state?.opacity??this.origState.opacity??1,l.nameField=f.nameField||l.nameField||"",this.$iApi.geo.attributes.applyFieldMetadata(l,f.fieldMetadata),l.canModifyLayer||this.$iApi.notify.show(li.WARNING,this.$iApi.$i18n.t("layer.filtersdisabled",{name:l.name||l.id}))):this.$iApi.geo.attributes.applyFieldMetadata(l),l.supportsFeatures){l.updateFieldList(),l.updateFieldsToTrim();const y=await this.$iApi.geo.layer.loadFeatureCount(l.serviceUrl,l.getSqlFilter(fr.PERMANENT));n>this.lastCancel&&(l.featureCount=y)}});return e.push(...a),this.esriLayer.allSublayers.forEach(l=>{!l.sublayers&&!s.find(c=>c.layerIdx===l.id)?(l.visible=!1,l.opacity=0):l.sublayers&&(l.visible=!0)}),this.visibility=this.origState.visibility??!0,e}updateLayerState(e,n=!1){super.updateLayerState(e,n),this.sublayers.forEach(r=>r.updateLayerState(e,n))}updateDrawState(e){super.updateDrawState(e),this.sublayers.forEach(n=>n.updateDrawState(e))}runIdentify(e){if(!this.canIdentify())return[];e.sublayerIds&&(e.sublayerIds=e.sublayerIds.map(l=>typeof l=="number"?this.layerTree?.findChildByIdx(l)?.uid:l));const n=e.sublayerIds?this._sublayers.filter(l=>e.sublayerIds?.includes(l.uid)):this._sublayers.filter(l=>l.canIdentify());if(n.length===0)return[];const r=n.filter(l=>l.dataFormat===$n.ESRI_FEATURE),i=n.filter(l=>l.dataFormat===$n.ESRI_RASTER);let s=[],o=[];const a=Date.now();if(r.length>0){let l;e.geometry.type===Xt.POINT&&(l=this.$iApi.geo.query.makeClickBuffer(e.geometry,e.tolerance)),s=r.map(c=>{const p=new bn,d={},f=jn({items:[],loading:p.getPromise(),loaded:!1,errored:!1,uid:c.uid,layerId:c.id,requestTime:a});return c.geomType!==Xt.POLYGON&&l?d.filterGeometry=l:d.filterGeometry=e.geometry,d.filterSql=c.getCombinedSqlFilter(),d.sourceSR=c.sourceSR,c.queryOIDs(d).then(y=>{y.forEach(g=>{f.items.push(Fu.makeOidItem(g,c))}),f.loaded=!0,p.resolveMe()}).catch(()=>{f.errored=!0,p.resolveMe()}),f})}if(i.length>0){const l=this.$iApi.geo.map,c=new Z4({returnGeometry:!1,layerIds:i.map(d=>d.layerIdx),tolerance:1,spatialReference:l.getSR().toESRI(),height:l.getPixelHeight(),width:l.getPixelWidth(),mapExtent:l.getExtent().toESRI(),geometry:e.geometry.toESRI()}),p=[];i.forEach(d=>{const f=new bn,y=jn({items:[],loading:f.getPromise(),loaded:!1,errored:!1,uid:d.uid,layerId:d.id,requestTime:a});p.push(f),o.push(y)}),xF(this.url,c).then(d=>{d?.results&&Array.isArray(d.results)&&d.results.length>0&&d.results.map(f=>JSON.parse(JSON.stringify(f))).forEach(f=>{const y=i.find(g=>g.layerIdx===f.layerId);if(y){const g=o.findIndex(_=>_.layerId===y.id);if(g>-1&&f.attributes){const _={pixel:f.attributes["Classify.Pixel Value"]??null,class:f.attributes["Classify.Class value"]??null},w=o[g];w.items.push(Fu.makeRawItem(Ma.JSON,_)),w.loaded=!0,p[g].resolveMe()}}}),o.forEach((f,y)=>{f.loaded||(f.loaded=!0,p[y].resolveMe())})})}return s.concat(o)}}class Ggt extends G4{tooltipField;constructor(e,n,r){if(super(e,n),this.layerType=Ct.SUBLAYER,this.layerFormat=pi.MAPIMAGE,this.isSublayer=!0,this.layerIdx=e.index,this.parentLayer=r,this.dataFormat=$n.ESRI_FEATURE,this.supportsFeatures=!0,this.tooltipField="",this.hovertips=!1,this.url=this.parentLayer?.url,this.canReload=!!(this.url||this.origRampConfig.caching),!r.esriLayer)throw new Error("Map Image Layer with no internal esri layer encountered in sublayer creation");this.fetchEsriSublayer(r),(e.initialFilteredQuery||e.permanentFilteredQuery)&&this.applySqlFilter()}fetchEsriSublayer(e){if(!e.esriLayer){console.error("Attempted to fetch the ESRI sublayer when parent has no ESRI layer");return}this.esriSubLayer=_n(e.esriLayer.allSublayers.find(n=>n.id===this.layerIdx))}onLoadActions(){return this.layerTree=this.parentLayer.getLayerTree().findChildByUid(this.uid),this.layerTree.name=this.name,this.layerTree.layerIdx=this.layerIdx,this.identify=this.config.state.identify!=null?this.config.state.identify:this.supportsIdentify,[]}async onInitiate(){this.initiationState=Je.INITIATED;const e=this.labelVizOverride();e!==void 0&&(this.labelVisibility=e)}async reload(){if(!this.$iApi.geo.map.esriMap){console.error("Attempted layer reload when no map exists");return}this.parentLayer?.reload()}cancelLoad(){this.parentLayer?.cancelLoad()}get layerExists(){return!!(this.parentLayer?.layerExists&&this.esriSubLayer&&this.initiationState===Je.INITIATED)}get visibility(){return this.layerExists?this.esriSubLayer.visible:!1}set visibility(e){this.layerExists?this.esriSubLayer.visible=e:this.noLayerErr()}get opacity(){return this.layerExists?this.esriSubLayer.opacity:0}set opacity(e){if(!this.layerExists){this.noLayerErr();return}this.parentLayer.isDynamic||console.warn(`Opacity of a Map Image Sublayer was set. The service does not support sublayer opacity. LayerId ${this.id}`),this.esriSubLayer.opacity=e}get mouseTolerance(){return this.layerExists?this.parentLayer.mouseTolerance:0}set mouseTolerance(e){this.layerExists?this.parentLayer.mouseTolerance=e:this.noLayerErr()}get touchTolerance(){return this.layerExists?this.parentLayer.touchTolerance:0}set touchTolerance(e){this.layerExists?this.parentLayer.touchTolerance=e:this.noLayerErr()}applySqlFilter(e=[]){if(this.parentLayer?.layerExists&&this.esriSubLayer)if(this.supportsFeatures){const n=this.filter.getCombinedSql(e);this.esriSubLayer.definitionExpression=n}else console.error("Attempted to apply an SQL filter to a sublayer that does not support it (likely Raster datatype)");else this.noLayerErr()}getSR(){return this.parentLayer?.esriLayer?Vt.fromESRI(this._parentLayer?.esriLayer?.spatialReference):(this.noLayerErr(),Vt.latLongSR())}updateFieldList(){this.attribs.attLoader.updateFieldList(this.fieldList)}updateFieldsToTrim(){this.attribs.attLoader.updateFieldsToTrim(this.getFieldsToTrim())}get labelVisibility(){return this.layerExists?this.esriSubLayer.labelsVisible:!1}set labelVisibility(e){this.layerExists?this.esriSubLayer.labelsVisible=e:this.noLayerErr()}labelVizOverride(){let e=this.origRampConfig.labels?.visible;if(e!==void 0||(e=this.$iApi.geo.map.labelsDefault?.visible,e!==void 0))return e}}class $gt extends Uu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Ct.OSM,this.layerFormat=pi.OSM,this.dataFormat=$n.OSM_TILE,this.supportsFeatures=!1}async onInitiate(){this.esriLayer=_n(await De.OpenStreetMapLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=this.$iApi.geo.symbology.generatePlaceholderSymbology("O","#03fc4e"),r={uid:this.$iApi.geo.shared.generateUUID(),label:"OpenStreetMap",svgcode:n.svgcode,esriStandard:!0,drawPromise:Promise.resolve()};return this.legend.push(r),e}}class Vgt extends Uu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Ct.IMAGERY,this.layerFormat=pi.IMAGERY,this.dataFormat=$n.ESRI_RASTER}async onInitiate(){this.esriLayer=_n(await De.ImageryLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=Date.now(),r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(i=>{n>this.lastCancel&&(this.legend=i)});return e.push(r),e}}class EF extends Uu{constructor(e,n){super(e,n),this.supportsIdentify=!1,this.layerType=Ct.TILE,this.layerFormat=pi.TILE,this.dataFormat=$n.ESRI_TILE}async onInitiate(){this.esriLayer=_n(await De.TileLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){return super.makeEsriLayerConfig(e)}onLoadActions(){const e=super.onLoadActions(),n=Date.now();this.layerTree.name=this.name;const r=this.$iApi.geo.symbology.mapServerToLocalLegend(this.origRampConfig.url).then(i=>{n>this.lastCancel&&(this.legend=i)});return e.push(r),e.push(this.checkProj()),e}checkProj(){const e=this.getSR(),n=this.$iApi.geo.map.getSR().isEqual(e);if(this.layerState===ln.LOADED&&!n)this.$iApi.notify.show(li.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),this.onError();else if(this.layerState===ln.ERROR&&n)this.reload();else if(this.layerState!==ln.ERROR&&!n)return this.$iApi.notify.show(li.WARNING,this.$iApi.$i18n.t("layer.mismatch",{name:this.name||this.id})),Promise.reject();return Promise.resolve()}}class Bgt extends Uu{sublayerNames;mimeType;constructor(e,n){super(e,n),this.supportsIdentify=!0,this.layerType=Ct.WMS,this.layerFormat=pi.WMS,this.mimeType=e.featureInfoMimeType||"",this.sublayerNames=[],this.dataFormat=$n.OGC_RASTER,this.identifyMode=Vn.GEOMETRIC}async onInitiate(){this.esriLayer=_n(await De.WMSLayer(this.makeEsriLayerConfig(this.origRampConfig))),await super.onInitiate()}makeEsriLayerConfig(e){const n=super.makeEsriLayerConfig(e),r=e.sublayers;this.sublayerNames=r.map(s=>s.id||"error_no_wms_id");const i=r.map(s=>s.currentStyle).join();return n.customParameters={styles:i},e.url.indexOf("/geomet")!==-1&&(n.customParameters.layers=r[0].id),n}onLoadActions(){const e=super.onLoadActions();this.layerTree.name=this.name;const n=r=>{let i=!1;return r.forEach(s=>{this.sublayerNames.indexOf(s.name)>-1||s.sublayers&&s.sublayers.length>0&&n(s.sublayers)?i=!0:s.visible=!1}),i};return this.layerExists?n(this.esriLayer.sublayers):this.noLayerErr(),this.loadSymbology(),e}canIdentify(){return super.canIdentify()}runIdentify(e){if(e.geometry.type!==Xt.POINT)throw new Error("a point must be used for WMS Identify");if(!this.canIdentify())return[];const n=new bn,r=jn({items:[],loading:n.getPromise(),loaded:!1,errored:!1,uid:this.uid,layerId:this.id,requestTime:Date.now()});return this.getFeatureInfo(this.sublayerNames,e.geometry,this.mimeType).then(i=>{if(i){let s=!0,o;typeof i!="string"?o=Ma.JSON:i.indexOf("Search returned no results")===-1&&i!==""?o=Ma.TEXT:(s=!1,o=Ma.UNKNOWN),s&&r.items.push(Fu.makeRawItem(o,i))}r.loaded=!0,n.resolveMe()}).catch(()=>{r.errored=!0,n.resolveMe()}),[r]}setCustomParameter(e,n,r=!0){this.layerExists?(this.esriLayer.customLayerParameters||(this.esriLayer.customLayerParameters={}),this.esriLayer.customLayerParameters[e]=n,r&&this.esriLayer.refresh()):this.noLayerErr()}getFeatureInfo(e,n,r){const i=this.$iApi.geo.map,s=this.esriLayer;if(!i.esriView)throw new Error("WMS get feature, no map view exists. Cannot derive click coords");if(!s)throw this.noLayerErr(),new Error("wms get feature failed, no layer");let o,a;const l=i.getExtent(),c=s.spatialReferences,p=e.join(","),d=i.esriView.toScreen(n.toESRI()),f=Math.floor(d.x),y=Math.floor(d.y),g={"application/json":"json","text/html":"text","text/plain":"text"}[r]||"text",_=i.getSR();_.wkid?o=_.wkid:(o=4326,console.error("Map is likely in a WKT projection. WMS Identify request will likely fail.")),c&&c.length>1?c.indexOf(o)===-1&&(_.latestWkid&&c.indexOf(_.latestWkid)>-1?o=_.latestWkid:console.error("WMS service does not support the maps projection. Identify request will likely fail.")):console.error("No supported wkid/epsg code found for WMS service. Identify request will likely fail."),s.version==="1.3"||s.version==="1.3.0"?(a={CRS:"EPSG:"+o,I:f,J:y,STYLES:"",FORMAT:s.imageFormat},this.$iApi.geo.layer.ogc.reversedAxisWKIDs().indexOf(o)>-1&&(a.BBOX=`${l.ymin},${l.xmin},${l.ymax},${l.xmax}`)):a={SRS:"EPSG:"+o,X:f,Y:y},Object.prototype.hasOwnProperty.call(a,"BBOX")||(a.BBOX=`${l.xmin},${l.ymin},${l.xmax},${l.ymax}`);const w={SERVICE:"WMS",REQUEST:"GetFeatureInfo",VERSION:s.version,WIDTH:i.getPixelWidth(),HEIGHT:i.getPixelHeight(),QUERY_LAYERS:p,LAYERS:p,INFO_FORMAT:r},T=s.customLayerParameters;return T&&Object.keys(T).forEach(A=>{A.toLowerCase()!=="styles"&&(w[A]=T[A])}),Object.keys(w).forEach(A=>a[A]=w[A]),Xe(s.url.split("?")[0],{query:a,responseType:g})}getLegendUrls(e){if(!this.layerExists)return this.noLayerErr(),[];const n=new Map;this.esriLayer.allSublayers.forEach(i=>{i.visible&&(i.legendUrl&&this.origRampConfig.sublayers?.forEach(s=>{if(s.id&&s.currentStyle&&s.id===i.name){const o=new $f(i.legendUrl);"STYLE"in o.queryMap&&o.queryMap.STYLE!==s.currentStyle&&(i.legendUrl=o.updateQuery({STYLE:s.currentStyle}))}}),n.set(i.name,i.legendUrl))});const r=e.map(i=>i.styleLegends&&i.currentStyle?i.styleLegends.find(s=>s.name===i.currentStyle).url:void 0);return r.forEach((i,s)=>{i||(r[s]=n.get(e[s].id))}),r}getWMSLayerTitle(e){if(!this.esriLayer)return"";let n;return this.esriLayer.allSublayers.some(r=>{if(r.name===e)return n=r.title,!0}),n||""}loadSymbology(){const e=Date.now(),n=this.config.sublayers,r=this.getLegendUrls(n.map(i=>({id:i.id,styleLegends:i.styleLegends,currentStyle:i.currentStyle}))).map((i,s)=>{const o=n[s].name||this.getWMSLayerTitle(n[s].id)||n[s].id,a={uid:this.$iApi.geo.shared.generateUUID(),label:o,svgcode:"",esriStandard:!1,drawPromise:this.$iApi.geo.symbology.generateWMSSymbology(i).then(l=>{e>this.lastCancel&&(a.svgcode=l.svgcode,a.imgHeight=l.imgHeight,a.imgWidth=l.imgWidth)})};return a});this.legend=r}}class zgt extends Gu{constructor(e,n){super(e,n),this.layerType=Ct.WFS}async onInitiate(){const e=Date.now(),n=new $f(this.config.url),{offset:r,limit:i}=n.queryMap,s=await this.$iApi.geo.layer.ogc.loadWfsData(this.config.url,-1,parseInt(r)||0,parseInt(i)||1e3,void 0,this.config.xyInAttribs);e>this.lastCancel&&(this.sourceGeoJson=s,await super.onInitiate())}}class SF extends nF{sourceJson;attribs;_visibility;constructor(e,n){super(e,n),this.dataFormat=$n.ESRI_FEATURE,this.layerFormat=pi.NOLAYER,this.drawState=Vr.NOT_VISUAL,this.attribs=new TF,this.supportsFeatures=!0,this.mapLayer=!1,this.isFile=!1,this._visibility=e.state?.visibility??!0,this.expectedTime.draw=0}async onInitiate(){if(this.sourceJson){const e=this.sourceJson;if(e.data.length===0||e.fields.length===0)throw new Error("Data layer with no columns or now rows.");const n=e.fields.slice(),r=e.data[0].slice(),i=/ /gi;this.fields=n.map((o,a)=>{let l="",c=o;o.indexOf(" ")>-1&&(l=o,c=o.trim().replace(i,"-"),e.fields[a]=c);const p=this.$iApi.geo.layer.files.inferType(r[a]);return{name:c,alias:l,type:p,length:p===Bs.STRING?256:void 0}}),this.oidField="rampOID",this.fields.push({name:this.oidField,type:Bs.OID}),e.fields.push(this.oidField),e.data.forEach((o,a)=>o.push(a+1)),this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata),this.fieldList="*";const s={batchSize:-1,sourceDataJson:e,oidField:this.oidField,attribs:"*",fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new Jgt(this.$iApi,s),await this.attribs.attLoader.getAttribs(),this.featureCount=e.data.length,this.origRampConfig.nameField?this.nameField=this.$iApi.geo.attributes.fieldValidator(this.fields,this.origRampConfig.nameField)||this.oidField:this.nameField=this.oidField,this.sourceJson=void 0,this.origRampConfig.caching||delete this.origRampConfig.rawData}else throw new Error("Attempted to initiate file based data layer, sourceJson is missing")}async terminate(){await super.terminate()}async reload(){this.$iApi.event.emit(Mt.LAYER_RELOAD_START,this),await this.terminate(),await this.initiate(),this.layerState!==ln.ERROR&&this.onLoad(),setTimeout(()=>{this.$iApi.event.emit(Mt.LAYER_RELOAD_END,this)},300)}onLoadActions(){const e=super.onLoadActions();return this.legend=[{uid:this.$iApi.geo.shared.generateUUID(),label:"",svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.getIcon(0).then(n=>{this.legend[0].svgcode=n})}],e}getAttributes(){return this.attribs.attLoader.getAttribs()}getTabularAttributes(){return this.$iApi.geo.attributes.generateTabularAttributes(this,this.attribs)}async getGraphic(e,n){let r={};if(this.attribs.attLoader.isLoaded()){const i=await this.attribs.attLoader.getAttribs();r=i.features[i.oidIndex[e]]}else throw new Error("Non ESRI data layer did not have attributes populated.");return new Mi(new ml,"",r)}async getIcon(e){return'<svg id="SvgjsSvg1012" width="32" height="32" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" viewBox="0 0 32 32">                      <defs id="SvgjsDefs1013"></defs>                      <rect id="SvgjsRect1014" width="28"  height="28" x="2" y="2" fill="#2e8b57"></rect>                      <text id="SvgjsText1015" font-family="Roboto" font-size="23" fill="#ffffff" font-weight="bold" x="7.6875" y="-6.40000057220459" svgjs:data="{&quot;leading&quot;:&quot;1.3&quot;}">                          <tspan id="SvgjsTspan1016" class="grid-icons" dy="29.900000000000002" x="7.6875" svgjs:data="{&quot;newLined&quot;:true}">D</tspan>                      </text>                </svg>'}async getFilterOIDs(e=[],n=void 0){}abortAttributeLoad(){}attribLoadAborted(){return!1}clearFeatureCache(){}downloadedAttributes(){return this.featureCount}get layerExists(){return this.isLoaded}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this.$iApi.event.emit(Mt.LAYER_VISIBILITYCHANGE,{visibility:e,layer:this}))}}class Wgt extends SF{constructor(e,n){super(e,n),this.layerType=Ct.DATAJSON}async onInitiate(){const e=Date.now();let n;if(this.origRampConfig.rawData)n=this.$iApi.geo.layer.files.rawDataJsonParser(this.origRampConfig.rawData,this.origRampConfig.caching);else if(this.origRampConfig.url)n=await this.$iApi.geo.layer.files.fetchFileData(this.origRampConfig.url,this.layerType);else throw new Error("Json Data layer config contains no raw data or url");e>this.lastCancel&&(this.sourceJson=n,await super.onInitiate())}}class Hgt extends SF{filter;serviceUrl;constructor(e,n){super(e,n),this.layerType=Ct.DATATABLE,this.serviceUrl=e.url,this.filter=new XR(e.permanentFilteredQuery||"",e.initialFilteredQuery||"")}async onInitiate(){}onLoadActions(){const e=super.onLoadActions(),n=Date.now(),r=this.$iApi.geo.shared.parseUrlIndex(this.serviceUrl).index||0,i=this.$iApi.geo.layer.loadLayerMetadata(this.serviceUrl).then(o=>{if(n<this.lastCancel)return;this.name||(this.name=o.name),this.layerTree.name=this.name,this.oidField=o.objectIdField,this.nameField=this.origRampConfig.nameField||o.displayField||this.oidField,this.fields=o.fields,this.$iApi.geo.attributes.applyFieldMetadata(this,this.origRampConfig.fieldMetadata);const a={supportsLimit:(o.currentVersion||1)>=10.1,serviceUrl:this.serviceUrl,oidField:this.oidField,batchSize:-1,attribs:this.fieldList,permanentFilter:this.getSqlFilter(fr.PERMANENT),fieldsToTrim:this.getFieldsToTrim()};this.attribs.attLoader=new IF(this.$iApi,a),this.attribs.quickCache=new MF(this.geomType)}),s=this.$iApi.geo.layer.loadFeatureCount(this.serviceUrl,this.getSqlFilter(fr.PERMANENT)).then(o=>{n>this.lastCancel&&(this.featureCount=o)});return this.layerTree.layerIdx=r,e.push(i,s),e}async getGraphic(e,n){let r={};const i=this.attribs.quickCache.getAttribs(e);if(i)r=i;else if(this.attribs.attLoader.isLoaded()){const s=await this.attribs.attLoader.getAttribs();r=s.features[s.oidIndex[e]]}else{const s={oid:e,serviceUrl:this.serviceUrl,includeGeometry:!1,attribs:this.fieldList},o=await this.$iApi.geo.attributes.loadSingleFeature(s);this.attribs.quickCache.setAttribs(e,o.attributes),r=o.attributes}return new Mi(new ml,"",r)}abortAttributeLoad(){this.attribs.attLoader.abortAttribLoad()}clearFeatureCache(){this.attribs.clearAll()}downloadedAttributes(){return this.isLoaded?this.attribs.attLoader.loadCount():0}attribLoadAborted(){return this.isLoaded?this.attribs.attLoader.isLoadAborted():!1}setSqlFilter(e,n){const r=this.filter.getSql(e);n!==r&&(this.filter.setSql(e,n),this.$iApi.event.emit(Mt.FILTER_CHANGE,{uid:this.uid,filterKey:e}))}getSqlFilter(e){return this.filter.getSql(e)}getCombinedSqlFilter(e){return this.filter.getCombinedSql(e)}async getFilterOIDs(e=[],n=void 0){const r=this.filter.getCombinedSql(e);if(!r)return;const i=this.filter.sqlActiveFilters(e);let s=this.filter.getCache(i,!1);if(!s){const o={filterSql:r,includeGeometry:!1};s=this.queryOIDs(o),this.filter.setCache(s,i,!1)}return s}queryOIDs(e){const n={url:this.serviceUrl,...e};return this.$iApi.geo.query.arcGisServerQueryIds(n)}async queryFeaturesDiscrete(e){const n=await this.queryOIDs(e),r={getAttribs:!0};return n.map(i=>({oid:i,graphic:this.getGraphic(i,r)}))}async queryFeatures(e){const n=await this.queryFeaturesDiscrete(e);return Promise.all(n.map(r=>r.graphic))}}class Ygt extends In{oidIndexer(e,n){e.features.forEach((r,i)=>{e.oidIndex[r[n]]=i})}async arcGisBatchLoad(e,n){if(n.loadAbortFlag)return[];const r=e.permanentFilter?` AND ${e.permanentFilter}`:"",i={query:{where:`${e.oidField}>${e.maxId}${r}`,outFields:e.attribs,orderByFields:e.oidField,returnGeometry:"false",f:"json"}},[s,o]=await tc(Xe(e.serviceUrl+"/query",i));if(!o)return console.error(`ArcGIS batch load error: ${e.serviceUrl}`,s),Promise.reject(new Error(`ArcGIS batch load error: ${e.serviceUrl}`));if(!o.data||!o.data.features)return console.error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`),Promise.reject(new Error(`ArcGIS batch load gave no data/features: ${e.serviceUrl}`));let a=o.data.features;const l=a.length;if(l>0){n.loadedCount+=l;let c;if(e.supportsLimit?c=o.data.exceededTransferLimit:(e.batchSize===-1&&(e.batchSize=l),c=l>=e.batchSize),a=this.trimFeatureSetAttributes(a,e.fieldsToTrim??[]),c){e.maxId=a[l-1].attributes[e.oidField];const p=await this.arcGisBatchLoad(e,n);return n.loadAbortFlag?[]:a.concat(p)}else return n.loadAbortFlag?[]:a}else return[]}async loadArcGisServerAttributes(e,n){e.maxId=-1,e.batchSize=-1;const r={features:(await this.arcGisBatchLoad(e,n)).map(i=>i.attributes),oidIndex:{}};return this.oidIndexer(r,e.oidField),n.loadIsDone=!0,r}async loadGraphicsAttributes(e,n){if(!e.sourceGraphics)throw new Error("No .sourceGraphics provided to file layer attribute loader");const r={features:e.sourceGraphics.map(i=>Gt(i).attributes).toArray(),oidIndex:{}};return this.oidIndexer(r,e.oidField),n.loadIsDone=!0,n.loadedCount=r.features.length,r}async loadCompactJsonAttributes(e,n){if(!e.sourceDataJson)throw new Error("No .sourceDataJson provided to file data-layer attribute loader");const r=e.sourceDataJson.fields,i=e.fieldsToTrim??[],s={features:e.sourceDataJson.data.map(o=>{const a={};return o.forEach((l,c)=>{a[r[c]]=typeof l=="string"&&i.includes(r[c])?l.trim():l}),a}),oidIndex:{}};return this.oidIndexer(s,e.oidField),n.loadIsDone=!0,n.loadedCount=s.features.length,e.sourceDataJson=void 0,s}async loadSingleFeature(e){const n={query:{f:"json",objectIds:e.oid,returnGeometry:e.includeGeometry,outFields:e.attribs}};typeof e.maxOffset<"u"&&(n.query.maxAllowableOffset=e.maxOffset),typeof e.mapSR<"u"&&(n.query.outSR=e.mapSR),typeof e.geometryPrecision<"u"&&e.geometryPrecision>=0&&(n.query.geometryPrecision=e.geometryPrecision);const[r,i]=await tc(Xe(e.serviceUrl+"/query",n));if(!i)return console.error(`ArcGIS single feature load error: ${e.serviceUrl}`,r),Promise.reject(new Error(`ArcGIS single feature load error: ${e.serviceUrl}`));if(!i.data||!i.data.features)return console.error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`),Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`));const s=i.data.features;if(s.length>0){let o,a=this.trimFeatureSetAttributes([s[0]],e.fieldsToTrim??[])[0];if(e.includeGeometry){a.geometry.spatialReference=i.data.spatialReference;const l=yh(a.geometry);o=this.$iApi.geo.geom.geomEsriToRamp(l)}else o=new ml;return new Mi(o,"",a.attributes)}return Promise.reject(new Error(`Could not locate feature ${e.oid} for layer ${e.serviceUrl}`))}trimFeatureSetAttributes(e,n){return n.forEach(r=>{e.forEach(i=>{typeof i.attributes[r]=="string"&&(i.attributes[r]=i.attributes[r].trim())})}),e}orderFields(e,n){const r=(s,o)=>s.findIndex(a=>a.name===o),i=(s,o)=>{const a=r(n,s.name),l=r(n,o.name);return a===-1&&l===-1?r(e,s.name)-r(e,o.name):a===-1?1:l===-1?-1:a-l};return e.slice().sort(i)}applyFieldMetadata(e,n=void 0){if(!n||!n.fieldInfo){e.fieldList="*";return}let r=n.fieldInfo.filter(i=>i.trim).map(i=>i.name);if(e.fields.forEach(i=>{r.includes(i.name)&&(i.trim=!0)}),n?.enforceOrder&&n?.fieldInfo&&n?.fieldInfo.length>0&&(e.fields=this.orderFields(e.fields,n.fieldInfo),e.fieldList=n.fieldInfo.map(i=>i.name).join(",")),n.exclusiveFields){n.fieldInfo.find(s=>s.name===e.oidField)||n.fieldInfo.push({name:e.oidField}),e.fieldList=n.fieldInfo.map(s=>s.name).join(",");const i=n.fieldInfo;e.fields=e.fields.filter(s=>i.find(o=>o.name===s.name))}else e.fieldList="*";n.fieldInfo.forEach(i=>{if(i.alias){const s=e.fields.find(o=>o.name===i.name);s&&(s.alias=i.alias)}})}fieldValidator(e,n){if(e.findIndex(r=>r.name===n)===-1){const r=e.find(i=>i.alias===n);return r?r.name:(console.warn(`Cannot find name field in layer field list: ${n}`),"")}else return n}async generateTabularAttributes(e,n){return n.attLoader.tabularAttributesCache||(n.attLoader.tabularAttributesCache=this.$iApi.geo.attributes.generateTabularAttributesWorker(e,n)),n.attLoader.tabularAttributesCache}async generateTabularAttributesWorker(e,n){if(e.dataFormat===$n.ESRI_RASTER)throw new Error("Attempting to get attributes on a raster layer.");const r=await n.attLoader.getAttribs();if(!r.features||r.features.length===0)return{columns:[],rows:[],fields:[],oidField:""};const i=e.fields.filter(o=>Object.prototype.hasOwnProperty.call(r.features[0],Gt(o).name)).map(o=>({data:Gt(o).name,title:Gt(o).alias||Gt(o).name})),s=r.features.map(o=>{const a=jE({},o);return a.rvInteractive="",a.rvSymbol=e.getIcon(o[e.oidField]),a.rvUid=e.uid,a});return i.forEach(o=>{if(o.data.slice(-2)==="()"){const a=function(){return this[o.data]},l=o.data.slice(0,-2);s.forEach(c=>{c[l]=a})}}),{columns:i,rows:s,fields:e.fields,oidField:e.oidField}}}class TF{_attribLoader;_quickCache;get attLoader(){if(this._attribLoader)return this._attribLoader;throw console.trace(),new Error("Attempted to load attributes prior to layer being loaded.")}set attLoader(e){this._attribLoader=e}get quickCache(){if(this._quickCache)return this._quickCache;throw console.trace(),new Error("Attempted to access attribute cache prior to layer being loaded.")}set quickCache(e){this._quickCache=e}clearAll(){this._attribLoader&&this._attribLoader.destroyAttribs(),this._quickCache&&this._quickCache.clearAll()}}class AF{loadedCount;loadAbortFlag;loadIsDone;constructor(){this.loadedCount=0,this.loadAbortFlag=!1,this.loadIsDone=!1}}class J4 extends In{aac;loadPromise;details;tabularAttributesCache;constructor(e,n){super(e),this.aac=new AF,this.details=n}updateFieldList(e){this.details.attribs=e}updateFieldsToTrim(e){this.details.fieldsToTrim=e}getAttribs(){return this.loadPromise||(this.aac=new AF,this.loadPromise=this.loadPromiseGenerator()),this.loadPromise}abortAttribLoad(){this.aac.loadAbortFlag=!0}destroyAttribs(){this.loadPromise=void 0,this.tabularAttributesCache=void 0,this.aac.loadIsDone=!1,this.aac.loadedCount=0}loadCount(){return this.aac.loadedCount}isLoaded(){return this.aac.loadIsDone}isLoadAborted(){return this.aac.loadAbortFlag}loadPromiseGenerator(){return Promise.reject(new Error("Subclass of AttributeLoaderBase did not implement loadPromiseGenerator"))}}class IF extends J4{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadArcGisServerAttributes(this.details,this.aac)}}class Zgt extends J4{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadGraphicsAttributes(this.details,this.aac)}}class Jgt extends J4{constructor(e,n){super(e,n)}loadPromiseGenerator(){return this.$iApi.geo.attributes.loadCompactJsonAttributes(this.details,this.aac)}}class MF{attribs;geoms;extents;isPoint;constructor(e){this.attribs={},this.geoms={},this.extents={},this.isPoint=e===Xt.POINT||e===Xt.MULTIPOINT}getScaleStore(e){return this.geoms[e]||(this.geoms[e]={}),this.geoms[e]}getGeomStore(e=void 0){if(this.isPoint)return this.geoms;if(typeof e>"u")throw new Error("Attempted to access geometry store for non-point layer without providing a map scale");return this.getScaleStore(e)}getAttribs(e){return this.attribs[e]}setAttribs(e,n){this.attribs[e]=n}getGeom(e,n=void 0){return this.getGeomStore(n)[e]}setGeom(e,n,r=void 0){const i=this.getGeomStore(r);i[e]=n}getExtent(e){return this.extents[e]}setExtent(e,n){this.extents[e]=n}clearAll(){this.attribs={},this.geoms={},this.extents={}}}class X4{innerRenderer;symbolUnits;defaultUnit;type;falseRenderer;constructor(e,n,r=!1){this.innerRenderer=e,this.symbolUnits=[],this.falseRenderer=r,this.type=N0.Unknown}makeSearchParams(e){return e}searchRenderer(e){const n=this.makeSearchParams(e),r=this.symbolUnits.find(s=>s.match(n));if(r)return r;if(this.defaultUnit)return this.defaultUnit;console.error(`renderer search could not find match for ${n}`);const i=new Yb(this);return i.svgCode="",i}getGraphicIcon(e){return this.searchRenderer(e).svgCode}getGraphicSymbol(e){return this.searchRenderer(e).symbol}getFieldDelimiter(e,n){let r="'";if(!n||n.length===0)return r;const i=n.find(s=>s.name===e);return i&&i.type&&i.type!=="string"&&(r=""),r}cleanFieldName(e,n){if(!e)return e;let r=n.find(i=>i.name===e);if(r)return e;{const i=e.toLowerCase();return r=n.find(s=>s.name.toLowerCase()===i),r?r.name:e}}makeElseClause(){return this.falseRenderer?"":`(NOT (${this.symbolUnits.map(e=>e.definitionClause).join(" OR ")}))`}}class Yb{isDefault=!1;svgCode="";symbol;definitionClause="";label="";parent;constructor(e){this.parent=e,this.symbol=new Es}match(e){return!!e}}class Xgt extends X4{constructor(e,n){super(e,n),this.type=N0.Simple;const r=new Yb(this);r.label=e.label||"",r.symbol=e.symbol,r.definitionClause="",this.symbolUnits.push(r)}}class qgt extends X4{delim;keyFields;constructor(e,n,r=!1){super(e,n,r),this.type=N0.Unique,this.delim=e.fieldDelimiter||", ";const i=o=>o.replace(/'/g,"''");this.keyFields=[e.field,e.field2,e.field3].filter(o=>o).map(o=>this.cleanFieldName(o,n));const s=this.keyFields.map(o=>this.getFieldDelimiter(o,n));if(e.uniqueValueInfos.forEach(o=>{const a=new OF(this,o.value);if(a.label=o.label||"",a.symbol=o.symbol,!this.falseRenderer){const l=a.matchValue.split(this.delim),c=this.keyFields.map((p,d)=>l[d]==="<Null>"?`${p} IS NULL`:`${p} = ${s[d]}${i(l[d])}${s[d]}`).join(" AND ");a.definitionClause=`(${c})`,a.matchValue=a.matchValue.replace(/<Null>/g,"")}this.symbolUnits.push(a)}),e.defaultSymbol){const o=new OF(this,"");o.isDefault=!0,o.label=e.defaultLabel||"",o.symbol=e.defaultSymbol,o.definitionClause=this.makeElseClause(),this.defaultUnit=o}}makeSearchParams(e){return this.keyFields.map(n=>{let r=e[n]===null?"":e[n];return typeof r!="string"&&(r=r.toString()),r}).join(this.delim)}}class OF extends Yb{matchValue;constructor(e,n){super(e),typeof n=="number"?this.matchValue=n.toString():this.matchValue=n}match(e){return this.matchValue===e}}class Kgt extends X4{valField;constructor(e,n,r=!1){if(super(e,n,r),this.valField=this.cleanFieldName(e.field,n),e.classBreakInfos.forEach((i,s)=>{const o=s===0,a=new NF(this,i.minValue,i.maxValue,o);a.label=i.label||"",a.symbol=i.symbol,this.falseRenderer||(a.definitionClause=`(${this.valField} >${o?"=":""}  ${i.minValue} AND ${this.valField} <= ${i.maxValue})`),this.symbolUnits.push(a)}),e.defaultSymbol){const i=new NF(this,0,0,!1);i.isDefault=!0,i.label=e.defaultLabel||"",i.symbol=e.defaultSymbol,i.definitionClause=this.makeElseClause(),this.defaultUnit=i}}makeSearchParams(e){return parseFloat(e[this.valField])}}class NF extends Yb{minValue;maxValue;firstBreak;constructor(e,n,r,i){super(e),this.minValue=n,this.maxValue=r,this.firstBreak=i}match(e){return this.minValue===this.maxValue?this.maxValue===e:this.firstBreak?this.minValue<=e&&this.maxValue>=e:this.minValue<e&&this.maxValue>=e}}var q4={exports:{}},Qgt=q4.exports,CF;function t1t(){return CF||(CF=1,function(t,e){(function(n,r){t.exports=n.document?r(n,n.document):function(i){return r(i,i.document)}})(typeof window<"u"?window:Qgt,function(n,r){var i=typeof this<"u"?this:n,s=i.SVG=function(u){if(s.supported)return u=new s.Doc(u),s.parser.draw||s.prepare(),u};if(s.ns="http://www.w3.org/2000/svg",s.xmlns="http://www.w3.org/2000/xmlns/",s.xlink="http://www.w3.org/1999/xlink",s.svgjs="http://svgjs.com/svgjs",s.supported=function(){return!!r.createElementNS&&!!r.createElementNS(s.ns,"svg").createSVGRect}(),!s.supported)return!1;s.did=1e3,s.eid=function(u){return"Svgjs"+w(u)+s.did++},s.create=function(u){var m=r.createElementNS(this.ns,u);return m.setAttribute("id",this.eid(u)),m},s.extend=function(){var u,m,E,k;for(u=[].slice.call(arguments),m=u.pop(),k=u.length-1;k>=0;k--)if(u[k])for(E in m)u[k].prototype[E]=m[E];s.Set&&s.Set.inherit&&s.Set.inherit()},s.invent=function(u){var m=typeof u.create=="function"?u.create:function(){this.constructor.call(this,s.create(u.create))};return u.inherit&&(m.prototype=new u.inherit),u.extend&&s.extend(m,u.extend),u.construct&&s.extend(u.parent||s.Container,u.construct),m},s.adopt=function(u){if(!u)return null;if(u.instance)return u.instance;var m;return u.nodeName=="svg"?m=u.parentNode instanceof n.SVGElement?new s.Nested:new s.Doc:u.nodeName=="linearGradient"?m=new s.Gradient("linear"):u.nodeName=="radialGradient"?m=new s.Gradient("radial"):s[w(u.nodeName)]?m=new s[w(u.nodeName)]:m=new s.Element(u),m.type=u.nodeName,m.node=u,u.instance=m,m instanceof s.Doc&&m.namespace().defs(),m.setData(JSON.parse(u.getAttribute("svgjs:data"))||{}),m},s.prepare=function(){var u=r.getElementsByTagName("body")[0],m=(u?new s.Doc(u):s.adopt(r.documentElement).nested()).size(2,0);s.parser={body:u||r.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").attr("focusable","false").node,poly:m.polyline().node,path:m.path().node,native:s.create("svg")}},s.parser={native:s.create("svg")},r.addEventListener("DOMContentLoaded",function(){s.parser.draw||s.prepare()},!1),s.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},s.utils={map:function(u,m){var E,k=u.length,H=[];for(E=0;E<k;E++)H.push(m(u[E]));return H},filter:function(u,m){var E,k=u.length,H=[];for(E=0;E<k;E++)m(u[E])&&H.push(u[E]);return H},radians:function(u){return u%360*Math.PI/180},degrees:function(u){return u*180/Math.PI%360},filterSVGElements:function(u){return this.filter(u,function(m){return m instanceof n.SVGElement})}},s.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},s.Color=function(u){var m;this.r=0,this.g=0,this.b=0,u&&(typeof u=="string"?s.regex.isRgb.test(u)?(m=s.regex.rgb.exec(u.replace(s.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):s.regex.isHex.test(u)&&(m=s.regex.hex.exec(T(u)),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):typeof u=="object"&&(this.r=u.r,this.g=u.g,this.b=u.b))},s.extend(s.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+A(this.r)+A(this.g)+A(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(u){return this.destination=new s.Color(u),this},at:function(u){return this.destination?(u=u<0?0:u>1?1:u,new s.Color({r:~~(this.r+(this.destination.r-this.r)*u),g:~~(this.g+(this.destination.g-this.g)*u),b:~~(this.b+(this.destination.b-this.b)*u)})):this}}),s.Color.test=function(u){return u+="",s.regex.isHex.test(u)||s.regex.isRgb.test(u)},s.Color.isRgb=function(u){return u&&typeof u.r=="number"&&typeof u.g=="number"&&typeof u.b=="number"},s.Color.isColor=function(u){return s.Color.isRgb(u)||s.Color.test(u)},s.Array=function(u,m){u=(u||[]).valueOf(),u.length==0&&m&&(u=m.valueOf()),this.value=this.parse(u)},s.extend(s.Array,{morph:function(u){if(this.destination=this.parse(u),this.value.length!=this.destination.length){for(var m=this.value[this.value.length-1],E=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(E);for(;this.value.length<this.destination.length;)this.value.push(m)}return this},settle:function(){for(var u=0,m=this.value.length,E=[];u<m;u++)E.indexOf(this.value[u])==-1&&E.push(this.value[u]);return this.value=E},at:function(u){if(!this.destination)return this;for(var m=0,E=this.value.length,k=[];m<E;m++)k.push(this.value[m]+(this.destination[m]-this.value[m])*u);return new s.Array(k)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(u){return u=u.valueOf(),Array.isArray(u)?u:this.split(u)},split:function(u){return u.trim().split(s.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var u=new this.constructor;return u.value=f(this.value),u}}),s.PointArray=function(u,m){s.Array.call(this,u,m||[[0,0]])},s.PointArray.prototype=new s.Array,s.PointArray.prototype.constructor=s.PointArray,s.extend(s.PointArray,{toString:function(){for(var u=0,m=this.value.length,E=[];u<m;u++)E.push(this.value[u].join(","));return E.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(u){if(!this.destination)return this;for(var m=0,E=this.value.length,k=[];m<E;m++)k.push([this.value[m][0]+(this.destination[m][0]-this.value[m][0])*u,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*u]);return new s.PointArray(k)},parse:function(u){var m=[];if(u=u.valueOf(),Array.isArray(u)){if(Array.isArray(u[0]))return u.map(function(H){return H.slice()});if(u[0].x!=null)return u.map(function(H){return[H.x,H.y]})}else u=u.trim().split(s.regex.delimiter).map(parseFloat);u.length%2!==0&&u.pop();for(var E=0,k=u.length;E<k;E=E+2)m.push([u[E],u[E+1]]);return m},move:function(u,m){var E=this.bbox();if(u-=E.x,m-=E.y,!isNaN(u)&&!isNaN(m))for(var k=this.value.length-1;k>=0;k--)this.value[k]=[this.value[k][0]+u,this.value[k][1]+m];return this},size:function(u,m){var E,k=this.bbox();for(E=this.value.length-1;E>=0;E--)k.width&&(this.value[E][0]=(this.value[E][0]-k.x)*u/k.width+k.x),k.height&&(this.value[E][1]=(this.value[E][1]-k.y)*m/k.height+k.y);return this},bbox:function(){return s.parser.poly.setAttribute("points",this.toString()),s.parser.poly.getBBox()}});for(var o={M:function(u,m,E){return m.x=E.x=u[0],m.y=E.y=u[1],["M",m.x,m.y]},L:function(u,m){return m.x=u[0],m.y=u[1],["L",u[0],u[1]]},H:function(u,m){return m.x=u[0],["H",u[0]]},V:function(u,m){return m.y=u[0],["V",u[0]]},C:function(u,m){return m.x=u[4],m.y=u[5],["C",u[0],u[1],u[2],u[3],u[4],u[5]]},S:function(u,m){return m.x=u[2],m.y=u[3],["S",u[0],u[1],u[2],u[3]]},Q:function(u,m){return m.x=u[2],m.y=u[3],["Q",u[0],u[1],u[2],u[3]]},T:function(u,m){return m.x=u[0],m.y=u[1],["T",u[0],u[1]]},Z:function(u,m,E){return m.x=E.x,m.y=E.y,["Z"]},A:function(u,m){return m.x=u[5],m.y=u[6],["A",u[0],u[1],u[2],u[3],u[4],u[5],u[6]]}},a="mlhvqtcsaz".split(""),l=0,c=a.length;l<c;++l)o[a[l]]=function(u){return function(m,E,k){if(u=="H")m[0]=m[0]+E.x;else if(u=="V")m[0]=m[0]+E.y;else if(u=="A")m[5]=m[5]+E.x,m[6]=m[6]+E.y;else for(var H=0,K=m.length;H<K;++H)m[H]=m[H]+(H%2?E.y:E.x);return o[u](m,E,k)}}(a[l].toUpperCase());s.PathArray=function(u,m){s.Array.call(this,u,m||[["M",0,0]])},s.PathArray.prototype=new s.Array,s.PathArray.prototype.constructor=s.PathArray,s.extend(s.PathArray,{toString:function(){return P(this.value)},move:function(u,m){var E=this.bbox();if(u-=E.x,m-=E.y,!isNaN(u)&&!isNaN(m))for(var k,H=this.value.length-1;H>=0;H--)k=this.value[H][0],k=="M"||k=="L"||k=="T"?(this.value[H][1]+=u,this.value[H][2]+=m):k=="H"?this.value[H][1]+=u:k=="V"?this.value[H][1]+=m:k=="C"||k=="S"||k=="Q"?(this.value[H][1]+=u,this.value[H][2]+=m,this.value[H][3]+=u,this.value[H][4]+=m,k=="C"&&(this.value[H][5]+=u,this.value[H][6]+=m)):k=="A"&&(this.value[H][6]+=u,this.value[H][7]+=m);return this},size:function(u,m){var E,k,H=this.bbox();for(E=this.value.length-1;E>=0;E--)k=this.value[E][0],k=="M"||k=="L"||k=="T"?(this.value[E][1]=(this.value[E][1]-H.x)*u/H.width+H.x,this.value[E][2]=(this.value[E][2]-H.y)*m/H.height+H.y):k=="H"?this.value[E][1]=(this.value[E][1]-H.x)*u/H.width+H.x:k=="V"?this.value[E][1]=(this.value[E][1]-H.y)*m/H.height+H.y:k=="C"||k=="S"||k=="Q"?(this.value[E][1]=(this.value[E][1]-H.x)*u/H.width+H.x,this.value[E][2]=(this.value[E][2]-H.y)*m/H.height+H.y,this.value[E][3]=(this.value[E][3]-H.x)*u/H.width+H.x,this.value[E][4]=(this.value[E][4]-H.y)*m/H.height+H.y,k=="C"&&(this.value[E][5]=(this.value[E][5]-H.x)*u/H.width+H.x,this.value[E][6]=(this.value[E][6]-H.y)*m/H.height+H.y)):k=="A"&&(this.value[E][1]=this.value[E][1]*u/H.width,this.value[E][2]=this.value[E][2]*m/H.height,this.value[E][6]=(this.value[E][6]-H.x)*u/H.width+H.x,this.value[E][7]=(this.value[E][7]-H.y)*m/H.height+H.y);return this},equalCommands:function(u){var m,E,k;for(u=new s.PathArray(u),k=this.value.length===u.value.length,m=0,E=this.value.length;k&&m<E;m++)k=this.value[m][0]===u.value[m][0];return k},morph:function(u){return u=new s.PathArray(u),this.equalCommands(u)?this.destination=u:this.destination=null,this},at:function(u){if(!this.destination)return this;var m=this.value,E=this.destination.value,k=[],H=new s.PathArray,K,ft,ot,St;for(K=0,ft=m.length;K<ft;K++){for(k[K]=[m[K][0]],ot=1,St=m[K].length;ot<St;ot++)k[K][ot]=m[K][ot]+(E[K][ot]-m[K][ot])*u;k[K][0]==="A"&&(k[K][4]=+(k[K][4]!=0),k[K][5]=+(k[K][5]!=0))}return H.value=k,H},parse:function(u){if(u instanceof s.PathArray)return u.valueOf();var m,k,E={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};typeof u=="string"?u=u.replace(s.regex.numbersWithDots,d).replace(s.regex.pathLetters," $& ").replace(s.regex.hyphen,"$1 -").trim().split(s.regex.delimiter):u=u.reduce(function(St,Pt){return[].concat.call(St,Pt)},[]);var k=[],H=new s.Point,K=new s.Point,ft=0,ot=u.length;do s.regex.isPathLetter.test(u[ft])?(m=u[ft],++ft):m=="M"?m="L":m=="m"&&(m="l"),k.push(o[m].call(null,u.slice(ft,ft=ft+E[m.toUpperCase()]).map(parseFloat),H,K));while(ot>ft);return k},bbox:function(){return s.parser.path.setAttribute("d",this.toString()),s.parser.path.getBBox()}}),s.Number=s.invent({create:function(u,m){this.value=0,this.unit=m||"",typeof u=="number"?this.value=isNaN(u)?0:isFinite(u)?u:u<0?-34e37:34e37:typeof u=="string"?(m=u.match(s.regex.numberAndUnit),m&&(this.value=parseFloat(m[1]),m[5]=="%"?this.value/=100:m[5]=="s"&&(this.value*=1e3),this.unit=m[5])):u instanceof s.Number&&(this.value=u.valueOf(),this.unit=u.unit)},extend:{toString:function(){return(this.unit=="%"?~~(this.value*1e8)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(u){return u=new s.Number(u),new s.Number(this+u,this.unit||u.unit)},minus:function(u){return u=new s.Number(u),new s.Number(this-u,this.unit||u.unit)},times:function(u){return u=new s.Number(u),new s.Number(this*u,this.unit||u.unit)},divide:function(u){return u=new s.Number(u),new s.Number(this/u,this.unit||u.unit)},to:function(u){var m=new s.Number(this);return typeof u=="string"&&(m.unit=u),m},morph:function(u){return this.destination=new s.Number(u),u.relative&&(this.destination.value+=this.value),this},at:function(u){return this.destination?new s.Number(this.destination).minus(this).times(u).plus(this):this}}}),s.Element=s.invent({create:function(u){this._stroke=s.defaults.attrs.stroke,this._event=null,this._events={},this.dom={},(this.node=u)&&(this.type=u.nodeName,this.node.instance=this,this._events=u._events||{},this._stroke=u.getAttribute("stroke")||this._stroke)},extend:{x:function(u){return this.attr("x",u)},y:function(u){return this.attr("y",u)},cx:function(u){return u==null?this.x()+this.width()/2:this.x(u-this.width()/2)},cy:function(u){return u==null?this.y()+this.height()/2:this.y(u-this.height()/2)},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},width:function(u){return this.attr("width",u)},height:function(u){return this.attr("height",u)},size:function(u,m){var E=x(this,u,m);return this.width(new s.Number(E.width)).height(new s.Number(E.height))},clone:function(u){this.writeDataToDom();var m=D(this.node.cloneNode(!0));return u?u.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(u){return this.after(u).remove(),u},addTo:function(u){return u.put(this)},putIn:function(u){return u.add(this)},id:function(u){return this.attr("id",u)},inside:function(u,m){var E=this.bbox();return u>E.x&&m>E.y&&u<E.x+E.width&&m<E.y+E.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var u=this.attr("class");return u==null?[]:u.trim().split(s.regex.delimiter)},hasClass:function(u){return this.classes().indexOf(u)!=-1},addClass:function(u){if(!this.hasClass(u)){var m=this.classes();m.push(u),this.attr("class",m.join(" "))}return this},removeClass:function(u){return this.hasClass(u)&&this.attr("class",this.classes().filter(function(m){return m!=u}).join(" ")),this},toggleClass:function(u){return this.hasClass(u)?this.removeClass(u):this.addClass(u)},reference:function(u){return s.get(this.attr(u))},parent:function(u){var m=this;if(!m.node.parentNode)return null;if(m=s.adopt(m.node.parentNode),!u)return m;for(;m&&m.node instanceof n.SVGElement;){if(typeof u=="string"?m.matches(u):m instanceof u)return m;if(!m.node.parentNode||m.node.parentNode.nodeName=="#document"||m.node.parentNode.nodeName=="#document-fragment")return null;m=s.adopt(m.node.parentNode)}},doc:function(){return this instanceof s.Doc?this:this.parent(s.Doc)},parents:function(u){var m=[],E=this;do{if(E=E.parent(u),!E||!E.node)break;m.push(E)}while(E.parent);return m},matches:function(u){return g(this.node,u)},native:function(){return this.node},svg:function(u){var m=r.createElement("svg");if(u&&this instanceof s.Parent){m.innerHTML="<svg>"+u.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var E=0,k=m.firstChild.childNodes.length;E<k;E++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(u=r.createElement("svg")),this.writeDataToDom(),u.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this},writeDataToDom:function(){if(this.each||this.lines){var u=this.each?this:this.lines();u.each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(u){return this.dom=u,this},is:function(u){return y(this,u)}}}),s.easing={"-":function(u){return u},"<>":function(u){return-Math.cos(u*Math.PI)/2+.5},">":function(u){return Math.sin(u*Math.PI/2)},"<":function(u){return-Math.cos(u*Math.PI/2)+1}},s.morph=function(u){return function(m,E){return new s.MorphObj(m,E).at(u)}},s.Situation=s.invent({create:function(u){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new s.Number(u.duration).valueOf(),this.delay=new s.Number(u.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=u.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),s.FX=s.invent({create:function(u){this._target=u,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(u,m,E){typeof u=="object"&&(m=u.ease,E=u.delay,u=u.duration);var k=new s.Situation({duration:u||1e3,delay:E||0,ease:s.easing[m||"-"]||m});return this.queue(k),this},delay:function(u){var m=new s.Situation({duration:u,delay:0,ease:s.easing["-"]});return this.queue(m)},target:function(u){return u&&u instanceof s.Element?(this._target=u,this):this._target},timeToAbsPos:function(u){return(u-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(u){return this.situation.duration/this._speed*u+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=n.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){n.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(u){return(typeof u=="function"||u instanceof s.Situation)&&this.situations.push(u),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof s.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var u,m,E,k=this.situation;if(k.init)return this;for(u in k.animations)for(E=this.target()[u](),Array.isArray(E)||(E=[E]),Array.isArray(k.animations[u])||(k.animations[u]=[k.animations[u]]),m=E.length;m--;)k.animations[u][m]instanceof s.Number&&(E[m]=new s.Number(E[m])),k.animations[u][m]=E[m].morph(k.animations[u][m]);for(u in k.attrs)k.attrs[u]=new s.MorphObj(this.target().attr(u),k.attrs[u]);for(u in k.styles)k.styles[u]=new s.MorphObj(this.target().style(u),k.styles[u]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(u,m){var E=this.active;return this.active=!1,m&&this.clearQueue(),u&&this.situation&&(!E&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var u=this.situation;this.stop(),this.situation=u,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return this.situation.loops===!0&&(this.situation.loops=this.situation.loop+1),typeof this.situation.loops=="number"?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(u,m){var E=this.situation.duration/this._speed;return this.absPos=u,m||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*E,this.situation.finish=this.situation.start+E,this.step(!0)},speed:function(u){return u===0?this.pause():u?(this._speed=u,this.at(this.absPos,!0)):this._speed},loop:function(u,m){var E=this.last();return E.loops=u??!0,E.loop=0,m&&(E.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(u){var m=this.last();return typeof u>"u"?m.reversed=!m.reversed:m.reversed=u,this},progress:function(u){return u?this.situation.ease(this.pos):this.pos},after:function(u){var m=this.last(),E=function k(H){H.detail.situation==m&&(u.call(this,m),this.off("finished.fx",k))};return this.target().on("finished.fx",E),this._callStart()},during:function(u){var m=this.last(),E=function(k){k.detail.situation==m&&u.call(this,k.detail.pos,s.morph(k.detail.pos),k.detail.eased,m)};return this.target().off("during.fx",E).on("during.fx",E),this.after(function(){this.off("during.fx",E)}),this._callStart()},afterAll:function(u){var m=function E(k){u.call(this),this.off("allfinished.fx",E)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},duringAll:function(u){var m=function(E){u.call(this,E.detail.pos,s.morph(E.detail.pos),E.detail.eased,E.detail.situation)};return this.target().off("during.fx",m).on("during.fx",m),this.afterAll(function(){this.off("during.fx",m)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(u,m,E){return this.last()[E||"animations"][u]=m,this._callStart()},step:function(u){if(u||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1){var m,E,k;m=Math.max(this.absPos,0),E=Math.floor(m),this.situation.loops===!0||E<this.situation.loops?(this.pos=m-E,k=this.situation.loop,this.situation.loop=E):(this.absPos=this.situation.loops,this.pos=1,k=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-k)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var H=this.situation.ease(this.pos);for(var K in this.situation.once)K>this.lastPos&&K<=H&&(this.situation.once[K].call(this.target(),this.pos,H),delete this.situation.once[K]);return this.active&&this.target().fire("during",{pos:this.pos,eased:H,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=H,this):this},eachAt:function(){var u,m,E,k=this,H=this.target(),K=this.situation;for(u in K.animations)E=[].concat(K.animations[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(K.ease(k.pos),k.pos):ot}),H[u].apply(H,E);for(u in K.attrs)E=[u].concat(K.attrs[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(K.ease(k.pos),k.pos):ot}),H.attr.apply(H,E);for(u in K.styles)E=[u].concat(K.styles[u]).map(function(ot){return typeof ot!="string"&&ot.at?ot.at(K.ease(k.pos),k.pos):ot}),H.style.apply(H,E);if(K.transforms.length){for(E=K.initialTransformation,u=0,m=K.transforms.length;u<m;u++){var ft=K.transforms[u];if(ft instanceof s.Matrix){ft.relative?E=E.multiply(new s.Matrix().morph(ft).at(K.ease(this.pos))):E=E.morph(ft).at(K.ease(this.pos));continue}ft.relative||ft.undo(E.extract()),E=E.multiply(ft.at(K.ease(this.pos)))}H.matrix(E)}return this},once:function(u,m,E){var k=this.last();return E||(u=k.ease(u)),k.once[u]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:s.Element,construct:{animate:function(u,m,E){return(this.fx||(this.fx=new s.FX(this))).animate(u,m,E)},delay:function(u){return(this.fx||(this.fx=new s.FX(this))).delay(u)},stop:function(u,m){return this.fx&&this.fx.stop(u,m),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(u){if(this.fx){if(u==null)return this.fx.speed();this.fx.speed(u)}return this}}}),s.MorphObj=s.invent({create:function(u,m){if(s.Color.isColor(m))return new s.Color(u).morph(m);if(s.regex.delimiter.test(u))return s.regex.pathLetters.test(u)?new s.PathArray(u).morph(m):new s.Array(u).morph(m);if(s.regex.numberAndUnit.test(m))return new s.Number(u).morph(m);this.value=u,this.destination=m},extend:{at:function(u,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),s.extend(s.FX,{attr:function(u,m,E){if(typeof u=="object")for(var k in u)this.attr(k,u[k]);else this.add(u,m,"attrs");return this},style:function(u,m){if(typeof u=="object")for(var E in u)this.style(E,u[E]);else this.add(u,m,"styles");return this},x:function(u,m){if(this.target()instanceof s.G)return this.transform({x:u},m),this;var E=new s.Number(u);return E.relative=m,this.add("x",E)},y:function(u,m){if(this.target()instanceof s.G)return this.transform({y:u},m),this;var E=new s.Number(u);return E.relative=m,this.add("y",E)},cx:function(u){return this.add("cx",new s.Number(u))},cy:function(u){return this.add("cy",new s.Number(u))},move:function(u,m){return this.x(u).y(m)},center:function(u,m){return this.cx(u).cy(m)},size:function(u,m){if(this.target()instanceof s.Text)this.attr("font-size",u);else{var E;(!u||!m)&&(E=this.target().bbox()),u||(u=E.width/E.height*m),m||(m=E.height/E.width*u),this.add("width",new s.Number(u)).add("height",new s.Number(m))}return this},width:function(u){return this.add("width",new s.Number(u))},height:function(u){return this.add("height",new s.Number(u))},plot:function(u,m,E,k){return arguments.length==4?this.plot([u,m,E,k]):this.add("plot",new(this.target()).morphArray(u))},leading:function(u){return this.target().leading?this.add("leading",new s.Number(u)):this},viewbox:function(u,m,E,k){return this.target()instanceof s.Container&&this.add("viewbox",new s.ViewBox(u,m,E,k)),this},update:function(u){if(this.target()instanceof s.Stop){if(typeof u=="number"||u instanceof s.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",u.offset)}return this}}),s.Box=s.invent({create:function(u,m,E,k){if(typeof u=="object"&&!(u instanceof s.Element))return s.Box.call(this,u.left!=null?u.left:u.x,u.top!=null?u.top:u.y,u.width,u.height);arguments.length==4&&(this.x=u,this.y=m,this.width=E,this.height=k),B(this)},extend:{merge:function(u){var m=new this.constructor;return m.x=Math.min(this.x,u.x),m.y=Math.min(this.y,u.y),m.width=Math.max(this.x+this.width,u.x+u.width)-m.x,m.height=Math.max(this.y+this.height,u.y+u.height)-m.y,B(m)},transform:function(u){var m=1/0,E=-1/0,k=1/0,H=-1/0,K,ft=[new s.Point(this.x,this.y),new s.Point(this.x2,this.y),new s.Point(this.x,this.y2),new s.Point(this.x2,this.y2)];return ft.forEach(function(ot){ot=ot.transform(u),m=Math.min(m,ot.x),E=Math.max(E,ot.x),k=Math.min(k,ot.y),H=Math.max(H,ot.y)}),K=new this.constructor,K.x=m,K.width=E-m,K.y=k,K.height=H-k,B(K),K}}}),s.BBox=s.invent({create:function(u){if(s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element){var m;try{if(r.documentElement.contains){if(!r.documentElement.contains(u.node))throw new Exception("Element not in the dom")}else{for(var E=u.node;E.parentNode;)E=E.parentNode;if(E!=r)throw new Exception("Element not in the dom")}m=u.node.getBBox()}catch{if(u instanceof s.Shape){var k=u.clone(s.parser.draw.instance).show();m=k.node.getBBox(),k.remove()}else m={x:u.node.clientLeft,y:u.node.clientTop,width:u.node.clientWidth,height:u.node.clientHeight}}s.Box.call(this,m)}},inherit:s.Box,parent:s.Element,construct:{bbox:function(){return new s.BBox(this)}}}),s.BBox.prototype.constructor=s.BBox,s.extend(s.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),s.RBox=s.invent({create:function(u){s.Box.apply(this,[].slice.call(arguments)),u instanceof s.Element&&s.Box.call(this,u.node.getBoundingClientRect())},inherit:s.Box,parent:s.Element,extend:{addOffset:function(){return this.x+=n.pageXOffset,this.y+=n.pageYOffset,this}},construct:{rbox:function(u){return u?new s.RBox(this).transform(u.screenCTM().inverse()):new s.RBox(this).addOffset()}}}),s.RBox.prototype.constructor=s.RBox,s.Matrix=s.invent({create:function(u){var m,E=I([1,0,0,1,0,0]);for(u=u instanceof s.Element?u.matrixify():typeof u=="string"?I(u.split(s.regex.delimiter).map(parseFloat)):arguments.length==6?I([].slice.call(arguments)):Array.isArray(u)?I(u):typeof u=="object"?u:E,m=J.length-1;m>=0;--m)this[J[m]]=u[J[m]]!=null?u[J[m]]:E[J[m]]},extend:{extract:function(){var u=b(this,0,1),m=b(this,1,0),E=180/Math.PI*Math.atan2(u.y,u.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(E*Math.PI/180)+this.f*Math.sin(E*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(E*Math.PI/180)+this.e*Math.sin(-E*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-E,skewY:180/Math.PI*Math.atan2(m.y,m.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:E,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new s.Matrix(this)}},clone:function(){return new s.Matrix(this)},morph:function(u){return this.destination=new s.Matrix(u),this},at:function(u){if(!this.destination)return this;var m=new s.Matrix({a:this.a+(this.destination.a-this.a)*u,b:this.b+(this.destination.b-this.b)*u,c:this.c+(this.destination.c-this.c)*u,d:this.d+(this.destination.d-this.d)*u,e:this.e+(this.destination.e-this.e)*u,f:this.f+(this.destination.f-this.f)*u});return m},multiply:function(u){return new s.Matrix(this.native().multiply(N(u).native()))},inverse:function(){return new s.Matrix(this.native().inverse())},translate:function(u,m){return new s.Matrix(this.native().translate(u||0,m||0))},scale:function(u,m,E,k){return arguments.length==1?m=u:arguments.length==3&&(k=E,E=m,m=u),this.around(E,k,new s.Matrix(u,0,0,m,0,0))},rotate:function(u,m,E){return u=s.utils.radians(u),this.around(m,E,new s.Matrix(Math.cos(u),Math.sin(u),-Math.sin(u),Math.cos(u),0,0))},flip:function(u,m){return u=="x"?this.scale(-1,1,m,0):u=="y"?this.scale(1,-1,0,m):this.scale(-1,-1,u,m??u)},skew:function(u,m,E,k){return arguments.length==1?m=u:arguments.length==3&&(k=E,E=m,m=u),u=s.utils.radians(u),m=s.utils.radians(m),this.around(E,k,new s.Matrix(1,Math.tan(m),Math.tan(u),1,0,0))},skewX:function(u,m,E){return this.skew(u,0,m,E)},skewY:function(u,m,E){return this.skew(0,u,m,E)},around:function(u,m,E){return this.multiply(new s.Matrix(1,0,0,1,u||0,m||0)).multiply(E).multiply(new s.Matrix(1,0,0,1,-u||0,-m||0))},native:function(){for(var u=s.parser.native.createSVGMatrix(),m=J.length-1;m>=0;m--)u[J[m]]=this[J[m]];return u},toString:function(){return"matrix("+U(this.a)+","+U(this.b)+","+U(this.c)+","+U(this.d)+","+U(this.e)+","+U(this.f)+")"}},parent:s.Element,construct:{ctm:function(){return new s.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof s.Nested){var u=this.rect(1,1),m=u.node.getScreenCTM();return u.remove(),new s.Matrix(m)}return new s.Matrix(this.node.getScreenCTM())}}}),s.Point=s.invent({create:function(u,m){var E,k={x:0,y:0};E=Array.isArray(u)?{x:u[0],y:u[1]}:typeof u=="object"?{x:u.x,y:u.y}:u!=null?{x:u,y:m??u}:k,this.x=E.x,this.y=E.y},extend:{clone:function(){return new s.Point(this)},morph:function(u,m){return this.destination=new s.Point(u,m),this},at:function(u){if(!this.destination)return this;var m=new s.Point({x:this.x+(this.destination.x-this.x)*u,y:this.y+(this.destination.y-this.y)*u});return m},native:function(){var u=s.parser.native.createSVGPoint();return u.x=this.x,u.y=this.y,u},transform:function(u){return new s.Point(this.native().matrixTransform(u.native()))}}}),s.extend(s.Element,{point:function(u,m){return new s.Point(u,m).transform(this.screenCTM().inverse())}}),s.extend(s.Element,{attr:function(u,m,E){if(u==null){for(u={},m=this.node.attributes,E=m.length-1;E>=0;E--)u[m[E].nodeName]=s.regex.isNumber.test(m[E].nodeValue)?parseFloat(m[E].nodeValue):m[E].nodeValue;return u}else if(typeof u=="object")for(m in u)this.attr(m,u[m]);else if(m===null)this.node.removeAttribute(u);else{if(m==null)return m=this.node.getAttribute(u),m==null?s.defaults.attrs[u]:s.regex.isNumber.test(m)?parseFloat(m):m;u=="stroke-width"?this.attr("stroke",parseFloat(m)>0?this._stroke:null):u=="stroke"&&(this._stroke=m),(u=="fill"||u=="stroke")&&(s.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof s.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),typeof m=="number"?m=new s.Number(m):s.Color.isColor(m)?m=new s.Color(m):Array.isArray(m)&&(m=new s.Array(m)),u=="leading"?this.leading&&this.leading(m):typeof E=="string"?this.node.setAttributeNS(E,u,m.toString()):this.node.setAttribute(u,m.toString()),this.rebuild&&(u=="font-size"||u=="x")&&this.rebuild(u,m)}return this}}),s.extend(s.Element,{transform:function(u,m){var E=this,k,H;if(typeof u!="object")return k=new s.Matrix(E).extract(),typeof u=="string"?k[u]:k;if(k=new s.Matrix(E),m=!!m||!!u.relative,u.a!=null)k=m?k.multiply(new s.Matrix(u)):new s.Matrix(u);else if(u.rotation!=null)R(u,E),k=m?k.rotate(u.rotation,u.cx,u.cy):k.rotate(u.rotation-k.extract().rotation,u.cx,u.cy);else if(u.scale!=null||u.scaleX!=null||u.scaleY!=null){if(R(u,E),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,!m){var K=k.extract();u.scaleX=u.scaleX*1/K.scaleX,u.scaleY=u.scaleY*1/K.scaleY}k=k.scale(u.scaleX,u.scaleY,u.cx,u.cy)}else if(u.skew!=null||u.skewX!=null||u.skewY!=null){if(R(u,E),u.skewX=u.skew!=null?u.skew:u.skewX!=null?u.skewX:0,u.skewY=u.skew!=null?u.skew:u.skewY!=null?u.skewY:0,!m){var K=k.extract();k=k.multiply(new s.Matrix().skew(K.skewX,K.skewY,u.cx,u.cy).inverse())}k=k.skew(u.skewX,u.skewY,u.cx,u.cy)}else u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?E.bbox()["c"+u.flip]:u.offset:u.offset==null?(H=E.bbox(),u.flip=H.cx,u.offset=H.cy):u.flip=u.offset,k=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(m?k=k.translate(u.x,u.y):(u.x!=null&&(k.e=u.x),u.y!=null&&(k.f=u.y)));return this.attr("transform",k)}}),s.extend(s.FX,{transform:function(u,m){var E=this.target(),k,H;return typeof u!="object"?(k=new s.Matrix(E).extract(),typeof u=="string"?k[u]:k):(m=!!m||!!u.relative,u.a!=null?k=new s.Matrix(u):u.rotation!=null?(R(u,E),k=new s.Rotate(u.rotation,u.cx,u.cy)):u.scale!=null||u.scaleX!=null||u.scaleY!=null?(R(u,E),u.scaleX=u.scale!=null?u.scale:u.scaleX!=null?u.scaleX:1,u.scaleY=u.scale!=null?u.scale:u.scaleY!=null?u.scaleY:1,k=new s.Scale(u.scaleX,u.scaleY,u.cx,u.cy)):u.skewX!=null||u.skewY!=null?(R(u,E),u.skewX=u.skewX!=null?u.skewX:0,u.skewY=u.skewY!=null?u.skewY:0,k=new s.Skew(u.skewX,u.skewY,u.cx,u.cy)):u.flip?(u.flip=="x"||u.flip=="y"?u.offset=u.offset==null?E.bbox()["c"+u.flip]:u.offset:u.offset==null?(H=E.bbox(),u.flip=H.cx,u.offset=H.cy):u.flip=u.offset,k=new s.Matrix().flip(u.flip,u.offset)):(u.x!=null||u.y!=null)&&(k=new s.Translate(u.x,u.y)),k?(k.relative=m,this.last().transforms.push(k),this._callStart()):this)}}),s.extend(s.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var u=(this.attr("transform")||"").split(s.regex.transforms).slice(0,-1).map(function(m){var E=m.trim().split("(");return[E[0],E[1].split(s.regex.delimiter).map(function(k){return parseFloat(k)})]}).reduce(function(m,E){return E[0]=="matrix"?m.multiply(I(E[1])):m[E[0]].apply(m,E[1])},new s.Matrix);return u},toParent:function(u){if(this==u)return this;var m=this.screenCTM(),E=u.screenCTM().inverse();return this.addTo(u).untransform().transform(E.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),s.Transformation=s.invent({create:function(u,m){if(arguments.length>1&&typeof m!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(u))for(var E=0,k=this.arguments.length;E<k;++E)this[this.arguments[E]]=u[E];else if(typeof u=="object")for(var E=0,k=this.arguments.length;E<k;++E)this[this.arguments[E]]=u[this.arguments[E]];this.inversed=!1,m===!0&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(u){for(var m=[],E=0,k=this.arguments.length;E<k;++E)m.push(this[this.arguments[E]]);var H=this._undo||new s.Matrix;return H=new s.Matrix().morph(s.Matrix.prototype[this.method].apply(H,m)).at(u),this.inversed?H.inverse():H},undo:function(u){for(var m=0,E=this.arguments.length;m<E;++m)u[this.arguments[m]]=typeof this[this.arguments[m]]>"u"?0:u[this.arguments[m]];return u.cx=this.cx,u.cy=this.cy,this._undo=new s[w(this.method)](u,!0).at(1),this}}}),s.Translate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),s.Rotate=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(u){var m=new s.Matrix().rotate(new s.Number().morph(this.rotation-(this._undo?this._undo.rotation:0)).at(u),this.cx,this.cy);return this.inversed?m.inverse():m},undo:function(u){return this._undo=u,this}}}),s.Scale=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),s.Skew=s.invent({parent:s.Matrix,inherit:s.Transformation,create:function(u,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),s.extend(s.Element,{style:function(u,m){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(typeof u=="object")for(m in u)this.style(m,u[m]);else if(s.regex.isCss.test(u))for(u=u.split(/\s*;\s*/).filter(function(E){return!!E}).map(function(E){return E.split(/\s*:\s*/)});m=u.pop();)this.style(m[0],m[1]);else return this.node.style[_(u)];else this.node.style[_(u)]=m===null||s.regex.isBlank.test(m)?"":m;return this}}),s.Parent=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element,extend:{children:function(){return s.utils.map(s.utils.filterSVGElements(this.node.childNodes),function(u){return s.adopt(u)})},add:function(u,m){return m==null?this.node.appendChild(u.node):u.node!=this.node.childNodes[m]&&this.node.insertBefore(u.node,this.node.childNodes[m]),this},put:function(u,m){return this.add(u,m),u},has:function(u){return this.index(u)>=0},index:function(u){return[].slice.call(this.node.childNodes).indexOf(u.node)},get:function(u){return s.adopt(this.node.childNodes[u])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(u,m){var E,k,H=this.children();for(E=0,k=H.length;E<k;E++)H[E]instanceof s.Element&&u.apply(H[E],[E,H]),m&&H[E]instanceof s.Container&&H[E].each(u,m);return this},removeElement:function(u){return this.node.removeChild(u.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),s.extend(s.Parent,{ungroup:function(u,m){return m===0||this instanceof s.Defs||this.node==s.parser.draw?this:(u=u||(this instanceof s.Doc?this:this.parent(s.Parent)),m=m||1/0,this.each(function(){return this instanceof s.Defs?this:this instanceof s.Parent?this.ungroup(u,m-1):this.toParent(u)}),this.node.firstChild||this.remove(),this)},flatten:function(u,m){return this.ungroup(u,m)}}),s.Container=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Parent}),s.ViewBox=s.invent({create:function(u){var m=[0,0,0,0],E,k,H,K,ft,ot,St,Pt=1,Ut=1,Ot=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(u instanceof s.Element){for(ot=u,St=u,ft=(u.attr("viewBox")||"").match(Ot),u.bbox,H=new s.Number(u.width()),K=new s.Number(u.height());H.unit=="%";)Pt*=H.value,H=new s.Number(ot instanceof s.Doc?ot.parent().offsetWidth:ot.parent().width()),ot=ot.parent();for(;K.unit=="%";)Ut*=K.value,K=new s.Number(St instanceof s.Doc?St.parent().offsetHeight:St.parent().height()),St=St.parent();this.x=0,this.y=0,this.width=H*Pt,this.height=K*Ut,this.zoom=1,ft&&(E=parseFloat(ft[0]),k=parseFloat(ft[1]),H=parseFloat(ft[2]),K=parseFloat(ft[3]),this.zoom=this.width/this.height>H/K?this.height/K:this.width/H,this.x=E,this.y=k,this.width=H,this.height=K)}else u=typeof u=="string"?u.match(Ot).map(function(ue){return parseFloat(ue)}):Array.isArray(u)?u:typeof u=="object"?[u.x,u.y,u.width,u.height]:arguments.length==4?[].slice.call(arguments):m,this.x=u[0],this.y=u[1],this.width=u[2],this.height=u[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(u,m,E,k){return this.destination=new s.ViewBox(u,m,E,k),this},at:function(u){return this.destination?new s.ViewBox([this.x+(this.destination.x-this.x)*u,this.y+(this.destination.y-this.y)*u,this.width+(this.destination.width-this.width)*u,this.height+(this.destination.height-this.height)*u]):this}},parent:s.Container,construct:{viewbox:function(u,m,E,k){return arguments.length==0?new s.ViewBox(this):this.attr("viewBox",new s.ViewBox(u,m,E,k))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(u){s.Element.prototype[u]=function(m){return m==null?s.off(this,u):s.on(this,u,m),this}}),s.listenerId=0,s.on=function(u,m,E,k,H){var K=E.bind(k||u),ft=u instanceof s.Element?u.node:u;ft.instance=ft.instance||{_events:{}};var ot=ft.instance._events;E._svgjsListenerId||(E._svgjsListenerId=++s.listenerId),m.split(s.regex.delimiter).forEach(function(St){var Pt=St.split(".")[0],Ut=St.split(".")[1]||"*";ot[Pt]=ot[Pt]||{},ot[Pt][Ut]=ot[Pt][Ut]||{},ot[Pt][Ut][E._svgjsListenerId]=K,ft.addEventListener(Pt,K,H||!1)})},s.off=function(u,m,E,k){var H=u instanceof s.Element?u.node:u;if(H.instance&&!(typeof E=="function"&&(E=E._svgjsListenerId,!E))){var K=H.instance._events;(m||"").split(s.regex.delimiter).forEach(function(ft){var ot=ft&&ft.split(".")[0],St=ft&&ft.split(".")[1],Pt,Ut;if(E)K[ot]&&K[ot][St||"*"]&&(H.removeEventListener(ot,K[ot][St||"*"][E],k||!1),delete K[ot][St||"*"][E]);else if(ot&&St){if(K[ot]&&K[ot][St]){for(Ut in K[ot][St])s.off(H,[ot,St].join("."),Ut);delete K[ot][St]}}else if(St)for(ft in K)for(Pt in K[ft])St===Pt&&s.off(H,[ft,St].join("."));else if(ot){if(K[ot]){for(Pt in K[ot])s.off(H,[ot,Pt].join("."));delete K[ot]}}else{for(ft in K)s.off(H,ft);H.instance._events={}}})}},s.extend(s.Element,{on:function(u,m,E,k){return s.on(this,u,m,E,k),this},off:function(u,m){return s.off(this.node,u,m),this},fire:function(u,m){return u instanceof n.Event?this.node.dispatchEvent(u):this.node.dispatchEvent(u=new s.CustomEvent(u,{detail:m,cancelable:!0})),this._event=u,this},event:function(){return this._event}}),s.Defs=s.invent({create:"defs",inherit:s.Container}),s.G=s.invent({create:"g",inherit:s.Container,extend:{x:function(u){return u==null?this.transform("x"):this.transform({x:u-this.x()},!0)},y:function(u){return u==null?this.transform("y"):this.transform({y:u-this.y()},!0)},cx:function(u){return u==null?this.gbox().cx:this.x(u-this.gbox().width/2)},cy:function(u){return u==null?this.gbox().cy:this.y(u-this.gbox().height/2)},gbox:function(){var u=this.bbox(),m=this.transform();return u.x+=m.x,u.x2+=m.x,u.cx+=m.x,u.y+=m.y,u.y2+=m.y,u.cy+=m.y,u}},construct:{group:function(){return this.put(new s.G)}}}),s.Doc=s.invent({create:function(u){u&&(u=typeof u=="string"?r.getElementById(u):u,u.nodeName=="svg"?this.constructor.call(this,u):(this.constructor.call(this,s.create("svg")),u.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:s.Container,extend:{namespace:function(){return this.attr({xmlns:s.ns,version:"1.1"}).attr("xmlns:xlink",s.xlink,s.xmlns).attr("xmlns:svgjs",s.svgjs,s.xmlns)},defs:function(){if(!this._defs){var u;(u=this.node.getElementsByTagName("defs")[0])?this._defs=s.adopt(u):this._defs=new s.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return!this.node.parentNode||this.node.parentNode.nodeName=="#document"||this.node.parentNode.nodeName=="#document-fragment"?null:this.node.parentNode},spof:function(){var u=this.node.getScreenCTM();return u&&this.style("left",-u.e%1+"px").style("top",-u.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,s.parser.draw.parentNode||this.node.appendChild(s.parser.draw),this},clone:function(u){this.writeDataToDom();var m=this.node,E=D(m.cloneNode(!0));return u?(u.node||u).appendChild(E.node):m.parentNode.insertBefore(E.node,m.nextSibling),E}}}),s.extend(s.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var u=this.position()+1,m=this.parent();return m.removeElement(this).add(this,u),m instanceof s.Doc&&m.node.appendChild(m.defs().node),this},backward:function(){var u=this.position();return u>0&&this.parent().removeElement(this).add(this,u-1),this},front:function(){var u=this.parent();return u.node.appendChild(this.node),u instanceof s.Doc&&u.node.appendChild(u.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(u){u.remove();var m=this.position();return this.parent().add(u,m),this},after:function(u){u.remove();var m=this.position();return this.parent().add(u,m+1),this}}),s.Mask=s.invent({create:function(){this.constructor.call(this,s.create("mask")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unmask();return this.targets=[],s.Element.prototype.remove.call(this),this}},construct:{mask:function(){return this.defs().put(new s.Mask)}}}),s.extend(s.Element,{maskWith:function(u){return this.masker=u instanceof s.Mask?u:this.parent().mask().add(u),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),s.ClipPath=s.invent({create:function(){this.constructor.call(this,s.create("clipPath")),this.targets=[]},inherit:s.Container,extend:{remove:function(){for(var u=this.targets.length-1;u>=0;u--)this.targets[u]&&this.targets[u].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new s.ClipPath)}}}),s.extend(s.Element,{clipWith:function(u){return this.clipper=u instanceof s.ClipPath?u:this.parent().clip().add(u),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),s.Gradient=s.invent({create:function(u){this.constructor.call(this,s.create(u+"Gradient")),this.type=u},inherit:s.Container,extend:{at:function(u,m,E){return this.put(new s.Stop).update(u,m,E)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(u,m,E){return u=="transform"&&(u="gradientTransform"),s.Container.prototype.attr.call(this,u,m,E)}},construct:{gradient:function(u,m){return this.defs().gradient(u,m)}}}),s.extend(s.Gradient,s.FX,{from:function(u,m){return(this._target||this).type=="radial"?this.attr({fx:new s.Number(u),fy:new s.Number(m)}):this.attr({x1:new s.Number(u),y1:new s.Number(m)})},to:function(u,m){return(this._target||this).type=="radial"?this.attr({cx:new s.Number(u),cy:new s.Number(m)}):this.attr({x2:new s.Number(u),y2:new s.Number(m)})}}),s.extend(s.Defs,{gradient:function(u,m){return this.put(new s.Gradient(u)).update(m)}}),s.Stop=s.invent({create:"stop",inherit:s.Element,extend:{update:function(u){return(typeof u=="number"||u instanceof s.Number)&&(u={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),u.opacity!=null&&this.attr("stop-opacity",u.opacity),u.color!=null&&this.attr("stop-color",u.color),u.offset!=null&&this.attr("offset",new s.Number(u.offset)),this}}}),s.Pattern=s.invent({create:"pattern",inherit:s.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return this.fill()},attr:function(u,m,E){return u=="transform"&&(u="patternTransform"),s.Container.prototype.attr.call(this,u,m,E)}},construct:{pattern:function(u,m,E){return this.defs().pattern(u,m,E)}}}),s.extend(s.Defs,{pattern:function(u,m,E){return this.put(new s.Pattern).update(E).attr({x:0,y:0,width:u,height:m,patternUnits:"userSpaceOnUse"})}}),s.Shape=s.invent({create:function(u){this.constructor.call(this,u)},inherit:s.Element}),s.Bare=s.invent({create:function(u,m){if(this.constructor.call(this,s.create(u)),m)for(var E in m.prototype)typeof m.prototype[E]=="function"&&(this[E]=m.prototype[E])},inherit:s.Element,extend:{words:function(u){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(r.createTextNode(u)),this}}}),s.extend(s.Parent,{element:function(u,m){return this.put(new s.Bare(u,m))}}),s.Symbol=s.invent({create:"symbol",inherit:s.Container,construct:{symbol:function(){return this.put(new s.Symbol)}}}),s.Use=s.invent({create:"use",inherit:s.Shape,extend:{element:function(u,m){return this.attr("href",(m||"")+"#"+u,s.xlink)}},construct:{use:function(u,m){return this.put(new s.Use).element(u,m)}}}),s.Rect=s.invent({create:"rect",inherit:s.Shape,construct:{rect:function(u,m){return this.put(new s.Rect).size(u,m)}}}),s.Circle=s.invent({create:"circle",inherit:s.Shape,construct:{circle:function(u){return this.put(new s.Circle).rx(new s.Number(u).divide(2)).move(0,0)}}}),s.extend(s.Circle,s.FX,{rx:function(u){return this.attr("r",u)},ry:function(u){return this.rx(u)}}),s.Ellipse=s.invent({create:"ellipse",inherit:s.Shape,construct:{ellipse:function(u,m){return this.put(new s.Ellipse).size(u,m).move(0,0)}}}),s.extend(s.Ellipse,s.Rect,s.FX,{rx:function(u){return this.attr("rx",u)},ry:function(u){return this.attr("ry",u)}}),s.extend(s.Circle,s.Ellipse,{x:function(u){return u==null?this.cx()-this.rx():this.cx(u+this.rx())},y:function(u){return u==null?this.cy()-this.ry():this.cy(u+this.ry())},cx:function(u){return u==null?this.attr("cx"):this.attr("cx",u)},cy:function(u){return u==null?this.attr("cy"):this.attr("cy",u)},width:function(u){return u==null?this.rx()*2:this.rx(new s.Number(u).divide(2))},height:function(u){return u==null?this.ry()*2:this.ry(new s.Number(u).divide(2))},size:function(u,m){var E=x(this,u,m);return this.rx(new s.Number(E.width).divide(2)).ry(new s.Number(E.height).divide(2))}}),s.Line=s.invent({create:"line",inherit:s.Shape,extend:{array:function(){return new s.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(u,m,E,k){return u==null?this.array():(typeof m<"u"?u={x1:u,y1:m,x2:E,y2:k}:u=new s.PointArray(u).toLine(),this.attr(u))},move:function(u,m){return this.attr(this.array().move(u,m).toLine())},size:function(u,m){var E=x(this,u,m);return this.attr(this.array().size(E.width,E.height).toLine())}},construct:{line:function(u,m,E,k){return s.Line.prototype.plot.apply(this.put(new s.Line),u!=null?[u,m,E,k]:[0,0,0,0])}}}),s.Polyline=s.invent({create:"polyline",inherit:s.Shape,construct:{polyline:function(u){return this.put(new s.Polyline).plot(u||new s.PointArray)}}}),s.Polygon=s.invent({create:"polygon",inherit:s.Shape,construct:{polygon:function(u){return this.put(new s.Polygon).plot(u||new s.PointArray)}}}),s.extend(s.Polyline,s.Polygon,{array:function(){return this._array||(this._array=new s.PointArray(this.attr("points")))},plot:function(u){return u==null?this.array():this.clear().attr("points",typeof u=="string"?u:this._array=new s.PointArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("points",this.array().move(u,m))},size:function(u,m){var E=x(this,u,m);return this.attr("points",this.array().size(E.width,E.height))}}),s.extend(s.Line,s.Polyline,s.Polygon,{morphArray:s.PointArray,x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},width:function(u){var m=this.bbox();return u==null?m.width:this.size(u,m.height)},height:function(u){var m=this.bbox();return u==null?m.height:this.size(m.width,u)}}),s.Path=s.invent({create:"path",inherit:s.Shape,extend:{morphArray:s.PathArray,array:function(){return this._array||(this._array=new s.PathArray(this.attr("d")))},plot:function(u){return u==null?this.array():this.clear().attr("d",typeof u=="string"?u:this._array=new s.PathArray(u))},clear:function(){return delete this._array,this},move:function(u,m){return this.attr("d",this.array().move(u,m))},x:function(u){return u==null?this.bbox().x:this.move(u,this.bbox().y)},y:function(u){return u==null?this.bbox().y:this.move(this.bbox().x,u)},size:function(u,m){var E=x(this,u,m);return this.attr("d",this.array().size(E.width,E.height))},width:function(u){return u==null?this.bbox().width:this.size(u,this.bbox().height)},height:function(u){return u==null?this.bbox().height:this.size(this.bbox().width,u)}},construct:{path:function(u){return this.put(new s.Path).plot(u||new s.PathArray)}}}),s.Image=s.invent({create:"image",inherit:s.Shape,extend:{load:function(u){if(!u)return this;var m=this,E=new n.Image;return s.on(E,"load",function(){s.off(E);var k=m.parent(s.Pattern);k!==null&&(m.width()==0&&m.height()==0&&m.size(E.width,E.height),k&&k.width()==0&&k.height()==0&&k.size(m.width(),m.height()),typeof m._loaded=="function"&&m._loaded.call(m,{width:E.width,height:E.height,ratio:E.width/E.height,url:u}))}),s.on(E,"error",function(k){s.off(E),typeof m._error=="function"&&m._error.call(m,k)}),this.attr("href",E.src=this.src=u,s.xlink)},loaded:function(u){return this._loaded=u,this},error:function(u){return this._error=u,this}},construct:{image:function(u,m,E){return this.put(new s.Image).load(u).size(m||0,E||m||0)}}}),s.Text=s.invent({create:function(){this.constructor.call(this,s.create("text")),this.dom.leading=new s.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",s.defaults.attrs["font-family"])},inherit:s.Shape,extend:{x:function(u){return u==null?this.attr("x"):this.attr("x",u)},y:function(u){var m=this.attr("y"),E=typeof m=="number"?m-this.bbox().y:0;return u==null?typeof m=="number"?m-E:m:this.attr("y",typeof u.valueOf()=="number"?u+E:u)},cx:function(u){return u==null?this.bbox().cx:this.x(u-this.bbox().width/2)},cy:function(u){return u==null?this.bbox().cy:this.y(u-this.bbox().height/2)},text:function(u){if(typeof u>"u"){for(var u="",m=this.node.childNodes,E=0,k=m.length;E<k;++E)E!=0&&m[E].nodeType!=3&&s.adopt(m[E]).dom.newLined==!0&&(u+=`
`),u+=m[E].textContent;return u}if(this.clear().build(!0),typeof u=="function")u.call(this,this);else{u=u.split(`
`);for(var E=0,H=u.length;E<H;E++)this.tspan(u[E]).newLine()}return this.build(!1).rebuild()},size:function(u){return this.attr("font-size",u).rebuild()},leading:function(u){return u==null?this.dom.leading:(this.dom.leading=new s.Number(u),this.rebuild())},lines:function(){var u=(this.textPath&&this.textPath()||this).node,m=s.utils.map(s.utils.filterSVGElements(u.childNodes),function(E){return s.adopt(E)});return new s.Set(m)},rebuild:function(u){if(typeof u=="boolean"&&(this._rebuild=u),this._rebuild){var m=this,E=0,k=this.dom.leading*new s.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),this.text()==`
`?E+=k:(this.attr("dy",k+E),E=0))}),this.fire("rebuild")}return this},build:function(u){return this._build=!!u,this},setData:function(u){return this.dom=u,this.dom.leading=new s.Number(u.leading||1.3),this}},construct:{text:function(u){return this.put(new s.Text).text(u)},plain:function(u){return this.put(new s.Text).plain(u)}}}),s.Tspan=s.invent({create:"tspan",inherit:s.Shape,extend:{text:function(u){return u==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof u=="function"?u.call(this,this):this.plain(u),this)},dx:function(u){return this.attr("dx",u)},dy:function(u){return this.attr("dy",u)},newLine:function(){var u=this.parent(s.Text);return this.dom.newLined=!0,this.dy(u.dom.leading*u.attr("font-size")).attr("x",u.x())}}}),s.extend(s.Text,s.Tspan,{plain:function(u){return this._build===!1&&this.clear(),this.node.appendChild(r.createTextNode(u)),this},tspan:function(u){var m=(this.textPath&&this.textPath()||this).node,E=new s.Tspan;return this._build===!1&&this.clear(),m.appendChild(E.node),E.text(u)},clear:function(){for(var u=(this.textPath&&this.textPath()||this).node;u.hasChildNodes();)u.removeChild(u.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),s.TextPath=s.invent({create:"textPath",inherit:s.Parent,parent:s.Text,construct:{morphArray:s.PathArray,path:function(u){for(var m=new s.TextPath,E=this.doc().defs().path(u);this.node.hasChildNodes();)m.node.appendChild(this.node.firstChild);return this.node.appendChild(m.node),m.attr("href","#"+E,s.xlink),this},array:function(){var u=this.track();return u?u.array():null},plot:function(u){var m=this.track(),E=null;return m&&(E=m.plot(u)),u==null?E:this},track:function(){var u=this.textPath();if(u)return u.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return s.adopt(this.node.firstChild)}}}),s.Nested=s.invent({create:function(){this.constructor.call(this,s.create("svg")),this.style("overflow","visible")},inherit:s.Container,construct:{nested:function(){return this.put(new s.Nested)}}}),s.A=s.invent({create:"a",inherit:s.Container,extend:{to:function(u){return this.attr("href",u,s.xlink)},show:function(u){return this.attr("show",u,s.xlink)},target:function(u){return this.attr("target",u)}},construct:{link:function(u){return this.put(new s.A).to(u)}}}),s.extend(s.Element,{linkTo:function(u){var m=new s.A;return typeof u=="function"?u.call(m,m):m.to(u),this.parent().put(m).put(this)}}),s.Marker=s.invent({create:"marker",inherit:s.Container,extend:{width:function(u){return this.attr("markerWidth",u)},height:function(u){return this.attr("markerHeight",u)},ref:function(u,m){return this.attr("refX",u).attr("refY",m)},update:function(u){return this.clear(),typeof u=="function"&&u.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(u,m,E){return this.defs().marker(u,m,E)}}}),s.extend(s.Defs,{marker:function(u,m,E){return this.put(new s.Marker).size(u,m).ref(u/2,m/2).viewbox(0,0,u,m).attr("orient","auto").update(E)}}),s.extend(s.Line,s.Polyline,s.Polygon,s.Path,{marker:function(u,m,E,k){var H=["marker"];return u!="all"&&H.push(u),H=H.join("-"),u=arguments[1]instanceof s.Marker?arguments[1]:this.doc().marker(m,E,k),this.attr(H,u)}});var p={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(u,m){return m=="color"?u:u+"-"+m}};["fill","stroke"].forEach(function(u){var m,E={};E[u]=function(k){if(typeof k>"u")return this;if(typeof k=="string"||s.Color.isRgb(k)||k&&typeof k.fill=="function")this.attr(u,k);else for(m=p[u].length-1;m>=0;m--)k[p[u][m]]!=null&&this.attr(p.prefix(u,p[u][m]),k[p[u][m]]);return this},s.extend(s.Element,s.FX,E)}),s.extend(s.Element,s.FX,{rotate:function(u,m,E){return this.transform({rotation:u,cx:m,cy:E})},skew:function(u,m,E,k){return arguments.length==1||arguments.length==3?this.transform({skew:u,cx:m,cy:E}):this.transform({skewX:u,skewY:m,cx:E,cy:k})},scale:function(u,m,E,k){return arguments.length==1||arguments.length==3?this.transform({scale:u,cx:m,cy:E}):this.transform({scaleX:u,scaleY:m,cx:E,cy:k})},translate:function(u,m){return this.transform({x:u,y:m})},flip:function(u,m){return m=typeof u=="number"?u:m,this.transform({flip:u||"both",offset:m})},matrix:function(u){return this.attr("transform",new s.Matrix(arguments.length==6?[].slice.call(arguments):u))},opacity:function(u){return this.attr("opacity",u)},dx:function(u){return this.x(new s.Number(u).plus(this instanceof s.FX?0:this.x()),!0)},dy:function(u){return this.y(new s.Number(u).plus(this instanceof s.FX?0:this.y()),!0)},dmove:function(u,m){return this.dx(u).dy(m)}}),s.extend(s.Rect,s.Ellipse,s.Circle,s.Gradient,s.FX,{radius:function(u,m){var E=(this._target||this).type;return E=="radial"||E=="circle"?this.attr("r",new s.Number(u)):this.rx(u).ry(m??u)}}),s.extend(s.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(u){return this.node.getPointAtLength(u)}}),s.extend(s.Parent,s.Text,s.Tspan,s.FX,{font:function(u,m){if(typeof u=="object")for(m in u)this.font(m,u[m]);return u=="leading"?this.leading(m):u=="anchor"?this.attr("text-anchor",m):u=="size"||u=="family"||u=="weight"||u=="stretch"||u=="variant"||u=="style"?this.attr("font-"+u,m):this.attr(u,m)}}),s.Set=s.invent({create:function(u){u instanceof s.Set?this.members=u.members.slice():Array.isArray(u)?this.members=u:this.clear()},extend:{add:function(){var u,m,E=[].slice.call(arguments);for(u=0,m=E.length;u<m;u++)this.members.push(E[u]);return this},remove:function(u){var m=this.index(u);return m>-1&&this.members.splice(m,1),this},each:function(u){for(var m=0,E=this.members.length;m<E;m++)u.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(u){return this.index(u)>=0},index:function(u){return this.members.indexOf(u)},get:function(u){return this.members[u]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(this.members.length==0)return new s.RBox;var u=this.members[0].rbox(this.members[0].doc());return this.each(function(){u=u.merge(this.rbox(this.doc()))}),u}},construct:{set:function(u){return new s.Set(u)}}}),s.FX.Set=s.invent({create:function(u){this.set=u}}),s.Set.inherit=function(){var u,m=[];for(var u in s.Shape.prototype)typeof s.Shape.prototype[u]=="function"&&typeof s.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(E){s.Set.prototype[E]=function(){for(var k=0,H=this.members.length;k<H;k++)this.members[k]&&typeof this.members[k][E]=="function"&&this.members[k][E].apply(this.members[k],arguments);return E=="animate"?this.fx||(this.fx=new s.FX.Set(this)):this}}),m=[];for(var u in s.FX.prototype)typeof s.FX.prototype[u]=="function"&&typeof s.FX.Set.prototype[u]!="function"&&m.push(u);m.forEach(function(E){s.FX.Set.prototype[E]=function(){for(var k=0,H=this.set.members.length;k<H;k++)this.set.members[k].fx[E].apply(this.set.members[k].fx,arguments);return this}})},s.extend(s.Element,{data:function(u,m,E){if(typeof u=="object")for(m in u)this.data(m,u[m]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+u))}catch{return this.attr("data-"+u)}else this.attr("data-"+u,m===null?null:E===!0||typeof m=="string"||typeof m=="number"?m:JSON.stringify(m));return this}}),s.extend(s.Element,{remember:function(u,m){if(typeof arguments[0]=="object")for(var m in u)this.remember(m,u[m]);else{if(arguments.length==1)return this.memory()[u];this.memory()[u]=m}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var u=arguments.length-1;u>=0;u--)delete this.memory()[arguments[u]];return this},memory:function(){return this._memory||(this._memory={})}}),s.get=function(u){var m=r.getElementById($(u)||u);return s.adopt(m)},s.select=function(u,m){return new s.Set(s.utils.map((m||r).querySelectorAll(u),function(E){return s.adopt(E)}))},s.extend(s.Parent,{select:function(u){return s.select(u,this.node)}});function d(u,m,E,k){return E+k.replace(s.regex.dots," .")}function f(u){for(var m=u.slice(0),E=m.length;E--;)Array.isArray(m[E])&&(m[E]=f(m[E]));return m}function y(u,m){return u instanceof m}function g(u,m){return(u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector).call(u,m)}function _(u){return u.toLowerCase().replace(/-(.)/g,function(m,E){return E.toUpperCase()})}function w(u){return u.charAt(0).toUpperCase()+u.slice(1)}function T(u){return u.length==4?["#",u.substring(1,2),u.substring(1,2),u.substring(2,3),u.substring(2,3),u.substring(3,4),u.substring(3,4)].join(""):u}function A(u){var m=u.toString(16);return m.length==1?"0"+m:m}function x(u,m,E){if(m==null||E==null){var k=u.bbox();m==null?m=k.width/k.height*E:E==null&&(E=k.height/k.width*m)}return{width:m,height:E}}function b(u,m,E){return{x:m*u.a+E*u.c+0,y:m*u.b+E*u.d+0}}function I(u){return{a:u[0],b:u[1],c:u[2],d:u[3],e:u[4],f:u[5]}}function N(u){return u instanceof s.Matrix||(u=new s.Matrix(u)),u}function R(u,m){u.cx=u.cx==null?m.bbox().cx:u.cx,u.cy=u.cy==null?m.bbox().cy:u.cy}function P(u){for(var m=0,E=u.length,k="";m<E;m++)k+=u[m][0],u[m][1]!=null&&(k+=u[m][1],u[m][2]!=null&&(k+=" ",k+=u[m][2],u[m][3]!=null&&(k+=" ",k+=u[m][3],k+=" ",k+=u[m][4],u[m][5]!=null&&(k+=" ",k+=u[m][5],k+=" ",k+=u[m][6],u[m][7]!=null&&(k+=" ",k+=u[m][7])))));return k+" "}function D(u){for(var m=u.childNodes.length-1;m>=0;m--)u.childNodes[m]instanceof n.SVGElement&&D(u.childNodes[m]);return s.adopt(u).id(s.eid(u.nodeName))}function B(u){return u.x==null&&(u.x=0,u.y=0,u.width=0,u.height=0),u.w=u.width,u.h=u.height,u.x2=u.x+u.width,u.y2=u.y+u.height,u.cx=u.x+u.width/2,u.cy=u.y+u.height/2,u}function $(u){var m=(u||"").toString().match(s.regex.reference);if(m)return m[1]}function U(u){return Math.abs(u)>1e-37?u:0}var J="abcdef".split("");if(typeof n.CustomEvent!="function"){var rt=function(u,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var E=r.createEvent("CustomEvent");return E.initCustomEvent(u,m.bubbles,m.cancelable,m.detail),E};rt.prototype=n.Event.prototype,s.CustomEvent=rt}else s.CustomEvent=n.CustomEvent;return function(u){for(var m=0,E=["moz","webkit"],k=0;k<E.length&&!n.requestAnimationFrame;++k)u.requestAnimationFrame=u[E[k]+"RequestAnimationFrame"],u.cancelAnimationFrame=u[E[k]+"CancelAnimationFrame"]||u[E[k]+"CancelRequestAnimationFrame"];u.requestAnimationFrame=u.requestAnimationFrame||function(H){var K=new Date().getTime(),ft=Math.max(0,16-(K-m)),ot=u.setTimeout(function(){H(K+ft)},ft);return m=K+ft,ot},u.cancelAnimationFrame=u.cancelAnimationFrame||u.clearTimeout}(n),s})}(q4)),q4.exports}var e1t=t1t();const ud=np(e1t);class n1t extends In{constructor(e){super(e)}SIMPLE="simple";UNIQUE_VALUE="unique-value";CLASS_BREAKS="class-breaks";NONE="none";CONTAINER_SIZE=32;CONTENT_SIZE=24;CONTENT_IMAGE_SIZE=28;CONTAINER_CENTER=this.CONTAINER_SIZE/2;CONTENT_PADDING=(this.CONTAINER_SIZE-this.CONTENT_SIZE)/2;getGraphicIcon(e,n){return n.getGraphicIcon(e)}getGraphicSymbol(e,n){return n.getGraphicSymbol(e)}makeRenderer(e,n,r=!1){switch(e.type){case this.SIMPLE:return new Xgt(e,n);case this.CLASS_BREAKS:return new Kgt(e,n,r);case this.UNIQUE_VALUE:return new qgt(e,n,r);default:throw new Error(`Unknown renderer type encountered - ${e.type}`)}}async generateWMSSymbology(e){const n=ud(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0),r={svgcode:"",imgHeight:"",imgWidth:""};if(e){const i=await this.renderSymbologyImage(e);if(i){r.svgcode=i;const s=document.createElement("span");s.innerHTML=i;const o=s.firstElementChild?.lastElementChild;r.imgHeight=o?.getAttribute("height")||"",r.imgWidth=o?.getAttribute("width")||""}else r.svgcode=n.svg()}else r.svgcode=n.svg();return r}listToSymbology(e,n){return n.map(({text:r,image:i})=>{const s={name:r,image:i,svgcode:""};return e(i).then(o=>{s.svgcode=o}),s})}listToIconSymbology(e){return this.listToSymbology(this.renderSymbologyIcon,e)}listToImageSymbology(e){return this.listToSymbology(this.renderSymbologyImage,e)}async renderSymbologyImage(e,n=null){n===null&&(n=ud(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,0,0));const r=await this.$iApi.geo.shared.convertImagetoDataURL(e);if(r===e)return"";const{loader:i}=await this.svgDrawImage(n,r);return n.viewbox(0,0,i.width,i.height),n.svg()}async renderSymbologyIcon(e,n=null){if(n===null){const s=document.createElement("div");s.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(s),n=ud(s).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE)}const r=await this.$iApi.geo.shared.convertImagetoDataURL(e),{image:i}=await this.svgDrawImage(n,r);return i.center(this.CONTAINER_CENTER,this.CONTAINER_CENTER),this.fitInto(i,this.CONTENT_IMAGE_SIZE),n.svg()}generatePlaceholderSymbology(e,n="#000"){const r=ud(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE);return r.rect(this.CONTENT_IMAGE_SIZE,this.CONTENT_IMAGE_SIZE).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).fill(n),r.text(e[0].toUpperCase()).size(23).fill("#fff").attr({"font-weight":"bold","font-family":"Roboto"}).center(this.CONTAINER_CENTER,this.CONTAINER_CENTER).tspan(e[0].toUpperCase()).addClass("grid-icons").attr({dy:"29.900000000000002",x:"7.6875"}),{name:e,svgcode:r.svg()}}async generateBlankSymbology(){return ud(document.createElement("div")).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).svg()}async symbolToSvg(e){const n=this,r=1.33333,i=document.createElement("div");i.setAttribute("style","opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),document.body.appendChild(i);const s=ud(i).size(this.CONTAINER_SIZE,this.CONTAINER_SIZE).viewbox(0,0,this.CONTAINER_SIZE,this.CONTAINER_SIZE),o={path({size:g,path:_}){return s.path(_).size(g*r)},circle({size:g}){return s.circle(g*r)},cross({size:g}){return s.path("M 0,10 L 20,10 M 10,0 L 10,20").size(g*r)},x({size:g}){return s.path("M 0,0 L 20,20 M 20,0 L 0,20").size(g*r)},triangle({size:g}){return s.path("M 20,20 L 10,0 0,20 Z").size(g*r)},diamond({size:g}){return s.path("M 20,10 L 10,0 0,10 10,20 Z").size(g*r)},square({size:g}){return s.path("M 0,0 20,0 20,20 0,20 Z").size(g*r)}},a={[$r.SOLID]:"none",[$r.NONE]:"none",[$r.DASH]:"5.333,4",[$r.DOT]:"1.333,4",[$r.DASHDOT]:"5.333,4,1.333,4",[$r.LONGDASH]:"10.666,4",[$r.LONGDASHDOT]:"10.666,4,1.333,4",[$r.LONGDASHDOTDOT]:"10.666,4,1.333,4,1.333,4",[$r.SHORTDOT]:"1.333,1.333",[$r.SHORTDASH]:"5.333,1.333",[$r.SHORTDASHDOT]:"5.333,1.333,1.333,1.333",[$r.SHORTDASHDOTDOT]:"5.333,1.333,1.333,1.333,1.333,1.333"},l={color:"#000",opacity:1,width:1,linecap:"square",linejoin:"miter",miterlimit:4},c={color:[0,0,0,0],width:0,style:a.none},p={solid:g=>({color:g.colour,opacity:g.opacity}),none:()=>"transparent",horizontal:(g,_)=>s.pattern(5,5,w=>w.line(0,5/2,5,5/2)).stroke(_),vertical:(g,_)=>s.pattern(5,5,w=>w.line(5/2,0,5/2,5)).stroke(_),"forward-diagonal":(g,_)=>s.pattern(5,5,w=>{w.line(0,0,5,5).stroke(_),w.line(0,0,5,5).move(0,5).stroke(_),w.line(0,0,5,5).move(5,0).stroke(_)}),"backward-diagonal":(g,_)=>s.pattern(5,5,w=>{w.line(5,0,0,5).stroke(_),w.line(5,0,0,5).move(5/2,5/2).stroke(_),w.line(5,0,0,5).move(-5/2,-5/2).stroke(_)}),cross:(g,_)=>s.pattern(5,5,w=>{w.line(5/2,0,5/2,5).stroke(_),w.line(0,5/2,5,5/2).stroke(_)}),"diagonal-cross":(g,_)=>s.pattern(7,7,w=>{w.line(0,0,7,7).stroke(_),w.line(7,0,0,7).stroke(_)})},d={"simple-marker"(){const g=y(e.color);e.outline=e.outline||c;const _=y(e.outline.color),w=f({color:_.colour,opacity:_.opacity,width:e.outline.width,dasharray:a[e.outline.style]}),T=o[e.style](e).fill({color:g.colour,opacity:g.opacity}).stroke(w).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0);n.fitInto(T,n.CONTENT_SIZE)},"simple-line"(){const g=y(e.color),_=f({color:g.colour,opacity:g.opacity,width:e.width,linecap:"butt",dasharray:a[e.style]}),w=n.CONTENT_PADDING,T=n.CONTAINER_SIZE-n.CONTENT_PADDING;s.line(w,w,T,T).stroke(_)},esriCLS(){this["simple-line"]()},"simple-fill"(){const g=y(e.color),_=f({color:g.colour,opacity:g.opacity}),w=p[e.style](g,_);e.outline=e.outline||c;const T=y(e.outline.color),A=f({color:T.colour,opacity:T.opacity,width:e.outline.width,linecap:"butt",dasharray:a[e.outline.style]});s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(w).stroke(A)},text(){console.error("no support for feature service legend of text symbols")},"picture-fill"(){const g=e.imageData?`data:${e.contentType};base64,${e.imageData}`:e.url,_=e.width*e.xscale,w=e.height*e.yscale;e.outline=e.outline||c;const T=y(e.outline.color),A=f({color:T.colour,opacity:T.opacity,width:e.outline.width,dasharray:a[e.outline.style]});return n.$iApi.geo.shared.convertImagetoDataURL(g).then(x=>{const b=s.pattern(_,w,I=>I.image(x,_,w));s.rect(n.CONTENT_SIZE,n.CONTENT_SIZE).center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).fill(b).stroke(A)})},"picture-marker"(){const g=e.source,_=g&&g.imageData?`data:${g.contentType};base64,${g.imageData}`:e.url;return n.$iApi.geo.shared.convertImagetoDataURL(_).then(w=>n.svgDrawImage(s,w)).then(({image:w})=>{w.center(n.CONTAINER_CENTER,n.CONTAINER_CENTER).rotate(e.angle||0),n.fitInto(w,n.CONTENT_IMAGE_SIZE)})}};try{return await Promise.resolve(d[e.type]()),document.body.removeChild(i),s.svg()}catch(g){return console.error(g),this.generateBlankSymbology()}function f(g){return Object.assign({},l,g)}function y(g){return g?{colour:`rgb(${g.r},${g.g},${g.b})`,opacity:g.a}:{colour:"rgb(0, 0, 0)",opacity:0}}}async svgDrawImage(e,n,r=0,i=0,s=!0){return new Promise((o,a)=>{const l=e.image(n,r,i,s).loaded(c=>o({image:l,loader:c})).error(c=>{a(c),console.error(c)})})}fitInto(e,n){const r=e.node.getBoundingClientRect(),i=n/Math.max(r.width,r.height);i<1&&e.scale(i)}rendererToLegend(e){let n;const r=e.symbolUnits.slice(0);if(e.defaultUnit&&r.push(e.defaultUnit),e.falseRenderer)n=r.map(i=>[i]);else{const i=new Map;r.forEach(s=>{const o=i.get(s.label);o?o.push(s):i.set(s.label,[s])}),n=[],i.forEach(s=>n.push(s))}return n.map(i=>{const s=i[0],o={uid:this.$iApi.geo.shared.generateUUID(),label:s.label||"",definitionClause:i.length===1?s.definitionClause:`(${i.map(a=>a.definitionClause).join(" OR ")})`,svgcode:"",esriStandard:!0,visibility:!0,lastVisbility:!0,drawPromise:this.symbolToSvg(s.symbol).then(a=>{o.svgcode=a,i.forEach(l=>{l.svgCode=a})})};return o})}async getMapServerLegend(e){if(!e)throw new Error("Legend server request is missing the required url.");const n={query:{f:"json"}},r={layers:[]},[i,s]=await tc(Xe(`${e}/legend`,n));return s?s.data?s.data:(console.error(`Error loading legend data for ${e}`),r):(console.error(`Error loading legend for ${e}`,i),r)}async mapServerLegendToRenderer(e,n){const r=e.layers.find(s=>s.layerId===n);let i;if(typeof r<"u"){i={type:"uniqueValue",field:"fakefield",uniqueValueInfos:r.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))};const s=await De.RendererFromJson(i);return this.makeRenderer(s,[],!0)}else throw new Error("attempted to make renderer from non-existing legend data")}async mapServerLegendToRendererAll(e){const n=e.layers.map(s=>s.legend.map(o=>({label:o.label,value:o.label,symbol:{type:"esriPMS",imageData:o.imageData,contentType:o.contentType}}))),r={type:"uniqueValue",field1:"fakefield",uniqueValueInfos:[].concat(...n)},i=await De.RendererFromJson(r);return this.makeRenderer(i,[],!0)}async mapServerToLocalLegend(e,n=void 0){const r=await this.getMapServerLegend(e);let i,s;return typeof n>"u"?(s=0,i=await this.mapServerLegendToRendererAll(r)):(s=parseInt(n),i=await this.mapServerLegendToRenderer(r,s)),this.rendererToLegend(i)}}class r1t extends In{constructor(e){super(e)}async arcGisServerQueryIds(e){if(!(e.filterGeometry||e.filterSql))return console.error("arcGisServerQueryIds called without any filter"),[];const n=await De.Query();n.returnGeometry=!1,e.filterSql&&(n.where=e.filterSql),e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!1,this.$iApi.geo.map.getScale(),e.sourceSR),n.spatialRelationship="intersects");const r=await De.QueryByIds(e.url,n);return Array.isArray(r)?r:[]}async geoJsonQuery(e){const n=await De.Query();if(n.returnGeometry=!!e.includeGeometry,n.outFields=["*"],e.filterGeometry&&(n.geometry=await this.queryGeometryHelper(e.filterGeometry,!0),n.spatialRelationship="intersects"),e.filterSql&&(n.where=e.filterSql),e.filterOIDs&&(n.objectIds=e.filterOIDs),await e.layer.loadPromise(),!e.layer.esriLayer)throw new Error("file layer being queried contains no ESRI layer");return(await e.layer.esriLayer.queryFeatures(n)).features.map((r,i)=>{let s;return n.returnGeometry?s=this.$iApi.geo.geom.geomEsriToRamp(r.geometry,`queryResult${i}`):s=new ml,new Mi(s,"",r.attributes)})}async queryGeometryHelper(e,n,r,i){return!n&&e.type===Xt.EXTENT&&i&&!i.isEqual(e.sr)&&!(r&&r>2e7&&e.sr.wkid===3978&&i.wkid===4326)?(await this.$iApi.geo.proj.projectExtent(i,e)).toESRI():e.toESRI()}makeClickBuffer(e,n=5){const r=this.$iApi.geo.map,i=r.getExtent(),s=n*(i.xmax-i.xmin)/r.getPixelWidth();return new sn("ze_buffer",[e.x-s,e.y-s],[e.x+s,e.y+s],e.sr)}}class i1t extends In{attributes;geom;layer;map;proj;query;shared;symbology;constructor(e){super(e),this.geom=$u.geom,this.proj=$u.proj,this.shared=$u.sharedUtils,this.map=new Iyt(e),this.layer=new sgt(e),this.attributes=new Ygt(e),this.query=new r1t(e),this.symbology=new n1t(e),Array.isArray(Ee.request.interceptors)||(Ee.request.interceptors=[]),Ee.request.interceptors.push({before:n=>{n.url.includes("?blankTile=false")&&(n.url=n.url.replace("?blankTile=false","?blankTile=true"))}})}set proxy(e){Ee.request.proxyUrl=e}get proxy(){return Ee.request.proxyUrl||""}}const s1t=Object.assign({"../fixtures/appbar/index.ts":()=>import("./index-BM6ZIzw9.js"),"../fixtures/areas-of-interest/index.ts":()=>import("./index-D420v8mb.js"),"../fixtures/basemap/index.ts":()=>import("./index-CP3Mde15.js"),"../fixtures/crosshairs/index.ts":()=>import("./index-ZCsYMtGp.js"),"../fixtures/details/index.ts":()=>import("./index-WZVk58wY.js"),"../fixtures/export-footnote/index.ts":()=>import("./index-DJnlKCwG.js"),"../fixtures/export-legend/index.ts":()=>import("./index-CIN4aPBe.js"),"../fixtures/export-map/index.ts":()=>import("./index-BRGAJlW0.js"),"../fixtures/export-northarrow/index.ts":()=>import("./index-C-pXCeBM.js"),"../fixtures/export-scalebar/index.ts":()=>import("./index-Cs2prJB2.js"),"../fixtures/export-timestamp/index.ts":()=>import("./index-DXjDgxVh.js"),"../fixtures/export-title/index.ts":()=>import("./index-raI6Y1aw.js"),"../fixtures/export/index.ts":()=>import("./index-Bthklk79.js"),"../fixtures/extentguard/index.ts":()=>import("./index-GzGhw_pI.js"),"../fixtures/gazebo/index.ts":()=>import("./index-B7G3uegy.js"),"../fixtures/geosearch/index.ts":()=>import("./index-zKgmRR82.js"),"../fixtures/grid/index.ts":()=>import("./index-_KoRng1q.js"),"../fixtures/help/index.ts":()=>import("./index-prMqMukq.js"),"../fixtures/hilight/index.ts":()=>import("./index-BfgDrtd3.js"),"../fixtures/layer-reorder/index.ts":()=>import("./index-CiYec6xw.js"),"../fixtures/legend/index.ts":()=>import("./index-DKRmlvuL.js"),"../fixtures/mapnav/index.ts":()=>import("./index-Do662PM-.js"),"../fixtures/metadata/index.ts":()=>import("./index-BztAXV8k.js"),"../fixtures/northarrow/index.ts":()=>import("./index-VxLRO5Hn.js"),"../fixtures/overviewmap/index.ts":()=>import("./index-BG10gGw6.js"),"../fixtures/panguard/index.ts":()=>import("./index-Dt3OBfgY.js"),"../fixtures/scrollguard/index.ts":()=>import("./index-Vy3kukfY.js"),"../fixtures/settings/index.ts":()=>import("./index-BikohTeu.js"),"../fixtures/snowman/index.ts":()=>import("./index-_Z4WLBcv.js"),"../fixtures/wizard/index.ts":()=>import("./index-BP5YDNyc.js")});class o1t extends In{constructor(e){super(e)}exists(e){return e in Ki(this.$vApp.$pinia).items}async add(e,n){let r;if(e in Ki(this.$vApp.$pinia).items)return this.get(e);if(n){if(typeof n!="function")throw new Error("malformed fixture constructor");r=qb.updateBaseToInstance(new n,e,this.$iApi)}else{const i=(await s1t[`../fixtures/${e}/index.ts`]()).default;r=new i(e,this.$iApi)}return Ki(this.$vApp.$pinia).addFixture(r),this.$iApi.event.emit(Mt.FIXTURE_ADDED,r),this.$iApi.geo.map.created&&r.initialized?.(),r}remove(e){const n=this.get(e);if(!n)throw new Error(`Could not find fixture ${e} for removal`);return Ki(this.$vApp.$pinia).removeFixture(n),this.$iApi.event.emit(Mt.FIXTURE_REMOVED,n),n}flush(){const e=Ki(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const r=this.get(n);r?.persist&&typeof r?.removed=="function"?r.removed():r&&this.remove(n)})}restore(){const e=Ki(this.$vApp.$pinia);Object.keys(e.items).forEach(n=>{const r=e.items[n];typeof r.added=="function"&&r.added(),this.$iApi.geo.map.created&&typeof r.initialized=="function"&&r.initialized()})}get(e){const n=[];typeof e=="string"?n.push(e):Array.isArray(e)?n.push(...e):n.push(e.id);const r=n.map(i=>{const s=Ki(this.$vApp.$pinia).items[i];if(s)return s});return r.length===1?r[0]:r}isLoaded(e){const n=Ki(this.$vApp.$pinia),r=Array.isArray(e)?e:[e];r.forEach(s=>{n.loadPromises[s]===void 0&&n.addLoadPromise(s)});const i=n.getLoadPromises(r);return Array.isArray(e)?Promise.all(i):i[0]}addDefaultFixtures(e){(!Array.isArray(e)||e.length===0)&&(e=["appbar","basemap","crosshairs","details","geosearch","grid","help","hilight","layer-reorder","legend","mapnav","northarrow","overviewmap","panguard","scrollguard","settings","wizard"]);const n=jr(this.$vApp.$pinia);return n.startingFixtures=e,Promise.all(e.map(r=>this.add(r)))}}class qb extends In{static updateBaseToInstance(e,n,r){const i=new qb(n,r);return Object.defineProperties(e,{id:{value:n},$iApi:{value:r},persist:{value:e.persist??!0},$vApp:{get(){return i.$vApp}},remove:{value:i.remove},extend:{value:i.extend},config:{get(){return i.config}},mount:{value:i.mount}}),e}id;persist;constructor(e,n){super(n),this.id=e,this.persist=!0}remove(){return this.$iApi.fixture.remove(this),this}extend(e,n={}){const r=re({extends:e,iApi:this.$iApi,data(){return{...n}}}),i=Dl(r),{el:s}=this.mount(r,{props:{...n.propsData},app:i});return s}mount(e,{props:n,children:r,element:i,app:s}={}){let o=i,a=_i(e,n,r);return s&&s._context&&(a.appContext=s._context),o?yu(a,o):yu(a,o=document.createElement("div")),{vNode:a,destroy:()=>{o&&yu(null,o),o=null,a=null},el:o}}get config(){return jr(this.$vApp.$pinia).config.fixtures[this.id]}getLayerFixtureConfig(e){return this.getLayerFixtureConfigs()[e]}getLayerFixtureConfigs(){const e={},n=(r,i=void 0)=>{if(r.fixtures&&r.fixtures[this.id]!==void 0){let s=r.id;i!==void 0&&(s=`${i.id}-${r.index}`),e[s]=r.fixtures[this.id]}r.sublayers&&r.sublayers.forEach(s=>n(s,r))};return this.$iApi.geo.layer.allLayers().forEach(r=>n(r.config)),e}handlePanelWidths(e){if(this.config?.panelWidth){const n={};typeof this.config?.panelWidth=="number"&&(this.config.panelWidth={default:this.config?.panelWidth}),this.config.panelWidth.default&&e.forEach(r=>{n[r]=this.config.panelWidth.default});for(const r in this.config.panelWidth)r!="default"&&(n[r]=this.config.panelWidth[r]);for(const r in n){const i=this.$iApi.panel.get(r);this.$iApi.panel.setStyle(i,{"flex-basis":`${n[r]}px`})}}}handlePanelTeleports(e){if(this.config?.panelTeleport){const n=Zl(this.$vApp.$pinia),r=!!this.config.panelTeleport.target;e.forEach(i=>{n.items[i].teleport=r?this.config.panelTeleport:this.config.panelTeleport[i],n.items[i].style.width="100%"})}}}class a1t extends In{panelStore=Zl(this.$vApp.$pinia);updateHTML(e,n,r){const i=this.get(e),s=r?i.screens[r]:Object.values(i.screens)[0];if(Gk(s))for(const o in n)s[o].innerHTML=n[o]instanceof HTMLElement?n[o].outerHTML:n[o];else console.error("Screen must be an HTML object")}registerHTMLConfig(e){for(const r in e.content)if(typeof e.content[r]=="string"){const i=document.createElement("div");i.innerHTML=e.content[r],e.content[r]=i}const n={};return n[e.id]={screens:{},style:e.style??{width:"350px"},alertName:e.alertName},n[e.id].screens[e.id]=e.content,n}registerHTML(e){const n=this.get(e.id);if(n)return console.error("panel already exist"),n;const r=this.registerHTMLConfig(e);return this.register(r,e.options)}register(e,n){const r=l1t(e)?{[e.id]:e.config}:e;if(n){const s=n.i18n||{},o=this.$iApi.$i18n;Object.entries(s.messages||{}).forEach(a=>o.mergeLocaleMessage(...a)),Object.entries(s.dateTimeFormats||{}).forEach(a=>o.mergeDateTimeFormat(...a)),Object.entries(s.numberFormats||{}).forEach(a=>o.mergeNumberFormat(...a))}const i=Object.entries(r).reduce((s,[o,a])=>(s.push(new x0(this.$iApi,o,a)),s),[]);return i.forEach(s=>this.panelStore.registerPanel(s)),i.length===1?i[0]:i.reduce((s,o)=>(s[o.id]=o,s),{})}async isRegistered(e){const n=Array.isArray(e)?e:[e];n.forEach(i=>{this.panelStore.regPromises[i]===void 0&&this.panelStore.addRegPromise(i)});const r=this.panelStore.getRegPromises(n);return Array.isArray(e)?Promise.all(r):r[0]}remove(e){const n=this.get(e);n&&(n.isOpen&&this.close(n),this.panelStore.removePanel(n))}get(e){const n=typeof e=="string"?e:e.id;return this.panelStore.items[n]}open(e){let n,r,i;if(typeof e=="string"||e instanceof x0?n=this.get(e):(n=this.get(e.id),{screen:r,props:i}=e),!n)return n;if(n.isOpen&&!n.isVisible)n.minimize();else if(n.isOpen)return n;return r||(n.route&&!i?{screen:r,props:i}=n.route:r=Object.keys(n.screens).pop()),this.show(n,{screen:r,props:i})?(this.panelStore.openPanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.open",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Mt.PANEL_OPENED,n)):console.error(`Failed to open ${n.id} panel.`),n}get opened(){return this.panelStore.orderedItems.concat(this.panelStore.teleported)}get visible(){return this.panelStore.visible.concat(this.panelStore.teleported)}close(e){const n=this.get(e);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.close",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Mt.PANEL_CLOSED,n),n)}minimize(e){const n=this.get(e);return n&&(n.isPinned&&n.pin(!1),this.panelStore.closePanel(n),this.$iApi.updateAlert(this.$iApi.$i18n.t("panels.alert.minimize",{name:n.alertName?this.$iApi.$i18n.t(n.alertName):n.id})),this.$iApi.event.emit(Mt.PANEL_MINIMIZED,n),n)}move(e,n){const r=this.get(e);return r&&(this.panelStore.movePanel(r,n),r)}toggle(e,n){let r;return typeof e=="string"||e instanceof x0?r=this.get(e):r=this.get(e.id),r&&(n=typeof n<"u"?n:!r.isVisible,n!==r.isVisible&&(n?this.open(e):this.close(r)),r)}toggleMinimize(e,n){let r;return typeof e=="string"||e instanceof x0?r=this.get(e):r=this.get(e.id),r&&(n=typeof n<"u"?n:!r.isVisible,n!==r.isVisible&&(n?this.open(r):this.minimize(r)),r)}pin(e,n){const r=this.get(e);return!r||(n=typeof n<"u"?n:!r.isPinned,!r.isPinned&&!n)||(this.panelStore.pinned=n?r:void 0),r}get pinned(){return this.panelStore.pinned||void 0}show(e,n){const r=this.get(e);if(!r)return r;if(r.screens[n.screen]){if(r.screens[n.screen]?.props){const i=Object.keys(r.screens[n.screen]?.props).filter(o=>o!=="panel"),s=n.props?Object.keys(n.props):[];for(let o=0;o<i.length;o++)if(!s.includes(i[o])&&r.screens[n.screen].props[i[o]].required)return}return n.screen in this.$element._context.components||r.registerScreen(n.screen),r.teleport&&(n.props={header:!!r.teleport?.showHeader,...n.props}),this.panelStore.items[r.id].route=n,r}}setStyle(e,n,r=!1){const i=this.get(e);return i&&(this.panelStore.items[i.id].style=r?n:{...i.style,...n},i)}expand(e,n){const r=this.get(e);return r&&(this.panelStore.items[r.id].expanded=n!==void 0?n:!r.expanded,r)}}function l1t(t){return t.id!==void 0&&typeof t.id=="string"&&t.config!==void 0}const c1t={};function u1t(t,e){const n=xn("panel-screen");return pt(),Be(n,{header:!1,class:"screen-spinner"},{content:wn(()=>e[0]||(e[0]=[lt("div",{class:"loader"},null,-1)])),_:1})}const h1t=Eo(c1t,[["render",u1t],["__scopeId","data-v-a3c61802"]]),p1t=Object.assign({"../fixtures/areas-of-interest/screen.vue":()=>import("./screen-Dt1EyAtl.js"),"../fixtures/basemap/screen.vue":()=>import("./screen-C9kNxmL_.js"),"../fixtures/export/screen.vue":()=>import("./screen-D10XKEkQ.js"),"../fixtures/geosearch/screen.vue":()=>import("./screen-BODdYd9Q.js"),"../fixtures/grid/screen.vue":()=>import("./screen-CtcS6Ga5.js"),"../fixtures/help/screen.vue":()=>import("./screen-DB2s1Die.js"),"../fixtures/layer-reorder/screen.vue":()=>import("./screen-D-qsuepD.js"),"../fixtures/legend/screen.vue":()=>import("./screen-LD-a9yAa.js"),"../fixtures/metadata/screen.vue":()=>import("./screen-b2td6CQB.js"),"../fixtures/settings/screen.vue":()=>import("./screen-6BK6k7pl.js"),"../fixtures/wizard/screen.vue":()=>import("./screen-BQmwK8jP.js")});class x0 extends In{id;screens;loadedScreens=[];alertName;teleport;controls;button;isScreenLoaded(e){return this.loadedScreens.indexOf(e)!==-1}registerScreen(e){const n=this.screens[e];let r;if(Nrt(n)||Ort(n))r=n,this.loadedScreens.push(e);else if(Gk(n))r={template:`<panel-screen :panel="this" :screenId="'${e}'">
                           </panel-screen>`};else{let i;typeof n=="string"?i=p1t[`../fixtures/${n}`]():i=n();const s=new Promise((o,a)=>{i.then(l=>{this.loadedScreens.push(e),o(Crt(l)?l.default:l)}),i.catch(l=>a(l))});r=J1({loader:()=>s,loadingComponent:h1t,delay:200})}this.$iApi.$element.component(e,r)}style;expanded;get width(){if(!(!this.style.width||this.style.width.slice(-2)!=="px"))return parseInt(this.style.width)}route;constructor(e,n,r){if(super(e),{id:this.id,screens:this.screens,style:this.style,expanded:this.expanded,alertName:this.alertName,button:this.button,controls:this.controls}={id:n,style:{},expanded:!1,controls:{expand:!1,...r.controls},...r},Object.keys(this.screens).length===0)throw new Error("panel must have at least a single screen");this.route={screen:Object.keys(this.screens).pop()},this.style["flex-basis"]||(this.style["flex-basis"]=this.style.width||"350px"),this.style.width="80%"}open(e){return typeof e>"u"?this.$iApi.panel.open(this):this.$iApi.panel.open({id:this.id,...typeof e=="string"?{screen:e}:e}),this}get isOpen(){return this.$iApi.panel.opened.indexOf(this)!==-1}get isVisible(){return this.$iApi.panel.visible.indexOf(this)!==-1}close(){return this.$iApi.panel.close(this),this}minimize(){return this.$iApi.panel.minimize(this),this}move(e){return this.$iApi.panel.move(this,e),this}get isLeftMostPanel(){if(this.$iApi.panel.visible.length>0){for(const e of this.$iApi.panel.visible)if(!e.teleport)return this.id===e.id}return!1}get isRightMostPanel(){if(this.$iApi.panel.visible.length>0){for(let e=this.$iApi.panel.visible.length-1;e>=0;e--)if(!this.$iApi.panel.visible[e].teleport)return this.id===this.$iApi.panel.visible[e].id}return!1}remove(){return this.$iApi.panel.remove(this),this}toggle(e){return typeof e>"u"?this.$iApi.panel.toggle(this,!this.isOpen):typeof e=="boolean"?e!==this.isOpen&&this.$iApi.panel.toggle(this,e):this.$iApi.panel.toggle({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}toggleMinimize(e){return typeof e>"u"||typeof e=="boolean"?this.$iApi.panel.toggleMinimize(this,e):this.$iApi.panel.toggleMinimize({id:this.id,screen:e.screen,props:e.props},typeof e.toggle<"u"?e.toggle:!this.isOpen),this}pin(e){return e=typeof e<"u"?e:!this.isPinned,this.$iApi.panel.pin(this,e),this}get isPinned(){return!!this.$iApi.panel.pinned&&this.$iApi.panel.pinned.id===this.id}show(e){const n=typeof e=="string"?{screen:e}:e;return this.route=n,this.$iApi.panel.show(this,n),this}setStyles(e,n=!1){return this.$iApi.panel.setStyle(this,e,n),this}expand(e){return this.$iApi.panel.expand(this,e),this}}function d1t(t){const e={};(Array.isArray(t)?t:[t]).forEach(s=>{s.language||(console.warn("RAMP2 config with no language supplied. Defaulting to English"),s.language="en");const o=f1t(s);e[s.language]=o});const n=Object.entries(e).map(s=>{const o=s[1].fixturesEnabled;return delete s[1].fixturesEnabled,o});let r=!1;const i=n.reduce((s,o)=>s.filter(a=>{const l=o.includes(a);return r=r||!l,l}));return r&&console.warn("Configs attempted to load different sets of fixtures. Only common fixtures will be loaded (all configs must load the same fixtures)."),i.push("grid","crosshairs","scrollguard","panguard","wizard","layer-reorder","details"),{startingFixtures:i,configs:e}}function f1t(t){const e={version:"4.0",fixtures:{},layers:[],map:{},panels:{open:[]},system:{animate:!0,exposeOid:!1,exposeMeasurements:!0},fixturesEnabled:[]};return y1t(t.services,e),m1t(t.map,e),g1t(t.ui,e),t.plugins&&v1t(t.plugins,e),e}function m1t(t,e){if(t.layers&&t.layers.forEach(n=>{e.layers.unshift(kF(n))}),t.initialBasemapId&&(e.map.initialBasemapId=t.initialBasemapId),t.components){if(t.components.geoSearch&&(t.components.geoSearch.enabled&&e.fixturesEnabled.push("geosearch"),typeof t.components.geoSearch.showGraphic<"u"&&console.warn("showGraphic property provided in geoSearch map component cannot be mapped and will be skipped."),typeof t.components.geoSearch.showInfo<"u"&&console.warn("showInfo property provided in geoSearch map component cannot be mapped and will be skipped.")),t.components.overviewMap&&t.components.overviewMap.enabled&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.startMinimized=!t.components.overviewMap.initiallyExpanded,e.fixtures.overviewmap.expandFactor=t.components.overviewMap.expandFactor??1.5),t.components.northArrow&&t.components.northArrow.enabled){const n={};t.components.northArrow.arrowIcon&&(n.arrowIcon=t.components.northArrow.arrowIcon),t.components.northArrow.poleIcon&&(n.poleIcon=t.components.northArrow.poleIcon),n&&(e.fixtures.northarrow=n,e.fixturesEnabled.push("northarrow"))}if(t.components.scaleBar&&t.components.scaleBar.enabled){switch(e.map.caption={mapCoords:{disabled:!1},scaleBar:{disabled:!1,imperialScale:t?.components?.scaleBar?.scalebarUnit==="english"||t?.components?.scaleBar?.scalebarUnit==="dual"&&Math.floor(Math.random()*2)===0}},t.components?.mouseInfo?.spatialReference?.wkid){case 4326:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break;case 3978:e.map.caption.mapCoords.formatter="CANADA_ATLAS_LAMBERT";break;case 102100:e.map.caption.mapCoords.formatter="WEB_MERCATOR";break;default:e.map.caption.mapCoords.formatter="LAT_LONG_DMS";break}t.components.scaleBar.attachTo&&console.warn("attachTo property provided in scaleBar map component cannot be mapped and will be skipped.")}t.components.basemap&&t.components.basemap.enabled&&e.fixturesEnabled.push("basemap")}t.extentSets&&(e.map.extentSets=[],t.extentSets.forEach(n=>{const r={id:n.id,default:{xmin:n.default.xmin,xmax:n.default.xmax,ymin:n.default.ymin,ymax:n.default.ymax,spatialReference:n.spatialReference}};n.full&&(r.full={xmin:n.full.xmin,xmax:n.full.xmax,ymin:n.full.ymin,ymax:n.full.ymax,spatialReference:n.spatialReference}),n.maximum&&(r.maximum={xmin:n.maximum.xmin,xmax:n.maximum.xmax,ymin:n.maximum.ymin,ymax:n.maximum.ymax,spatialReference:n.spatialReference}),e.map.extentSets.push(r)})),t.lodSets&&(e.map.lodSets=t.lodSets),t.tileSchemas&&(e.map.tileSchemas=[],t.tileSchemas.forEach(n=>{const r={id:n.id,name:n.name,extentSetId:n.extentSetId,lodSetId:n.lodSetId,thumbnailTileUrls:[],hasNorthPole:n.hasNorthPole||!1};n.overviewUrl&&(e.fixtures.overviewmap||(e.fixtures.overviewmap={basemaps:{}},e.fixturesEnabled.push("overviewmap")),e.fixtures.overviewmap.basemaps[n.id]={id:n.overviewUrl.id||`overviewmap-basemap-${n.id}`,tileSchemaId:n.id,layers:[{id:n.overviewUrl.id||`overviewmap-basemap-${n.id}-0`,layerType:n.overviewUrl.layerType==="esriDynamic"?Ct.MAPIMAGE:Ct.TILE,url:n.overviewUrl.url,opacity:n.overviewUrl.opacity??1}]}),e.map.tileSchemas.push(r)})),t.baseMaps&&(e.map.basemaps=[],t.baseMaps.forEach(n=>{const r={id:n.id,tileSchemaId:n.tileSchemaId,name:n.name,description:n.description,altText:n.altText,thumbnailUrl:n.thumbnailUrl,layers:[]};n.attribution&&(r.attribution={text:{},logo:{}},n.attribution.text&&(r.attribution.text.disabled=!n.attribution.text.enabled,r.attribution.text.value=n.attribution.text.value),n.attribution.logo&&(r.attribution.logo.disabled=!n.attribution.logo.enabled,r.attribution.logo.altText=n.attribution.logo.altText,r.attribution.logo.value=n.attribution.logo.value,r.attribution.logo.link=n.attribution.logo.link)),n.layers.forEach((i,s)=>{const o={id:i.id||`${n.id}-${s}`,layerType:i.layerType==="esriDynamic"?Ct.MAPIMAGE:Ct.TILE,url:i.url,opacity:i.opacity??1};r.layers.push(o)}),e.map.basemaps.push(r)})),t.legend&&(e.fixturesEnabled.push("legend"),t.legend.type==="autopopulate"?(e.fixtures.legend={root:{name:"I'm root",children:[]}},e.layers&&e.layers.toReversed().forEach(n=>{if(n.type==="esri-map-image"||n.type==="ogc-wms"){const r={name:n.name??`${n.id} Group`,children:[]};n.sublayers.forEach(i=>{const s={layerId:n.id};i.name&&(s.name=i.name),i.controls&&(s.controls=i.controls),i.disabledControls&&(s.disabledControls=i.disabledControls),n.type==="esri-map-image"?s.sublayerIndex=i.index:(s.sublayerId=i.id,console.warn(`sublayerId property defined in legend entry ${s.layerId} is currently not supported.`)),r.children.push(s)}),e.fixtures.legend.root.children.push(r)}else{const r={layerId:n.id};n.controls&&(r.controls=n.controls),n.disabledControls&&(r.disabledControls=n.disabledControls),e.fixtures.legend.root.children.push(r)}})):e.fixtures.legend={root:K4(t.legend.root)})}function K4(t){const e={name:t.name,children:[]};typeof t.hidden<"u"&&(e.hidden=t.hidden),typeof t.expanded<"u"&&(e.expanded=t.expanded);const n=["identify","opacity","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=hd(t.controls,n),t.controls.includes("visibility")&&e.controls.push("visibilityButton"),(t.controls.length!==1||t.controls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported."),e.controls.push("expandButton")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=hd(t.disabledControls,n),t.disabledControls.includes("visibility")&&e.disabledControls.push("visibilityButton"),(t.disabledControls.length!==1||t.disabledControls[0]!=="visibility")&&console.warn("Legend entry groups currently support only the visibility control. All other controls are currently not supported.")),t.children.forEach(r=>{if(r.layerId)e.children.push(RF(r));else if(r.infoType)r.infoType==="unboundLayer"?console.warn(`unboundLayer infoType in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`):(e.children.push({infoType:r.infoType,content:r.content}),typeof r.export<"u"&&console.warn(`export property in infoSection in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`));else if(r.exclusiveVisibility){const i={name:"Visibility Set",children:[],exclusive:!0};typeof r.collapse<"u"&&console.warn(`collapse property in visibilitySet in children list of legend entry group ${e.name} cannot be mapped and will be skipped.`),r.exclusiveVisibility.forEach(s=>{s.layerId?i.children.push(RF(s)):i.children.push(K4(s))}),e.children.push(i)}else e.children.push(K4(r))}),e}function RF(t){const e=t,n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.layerControls=hd(t.controls,n),e.layerControls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledLayerControls=hd(t.disabledControls,n)),t.controlledIds&&(console.warn(`controlledIds property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),delete e.controlledIds),t.entryIndex&&(e.sublayerIndex=t.entryIndex,delete t.entryIndex),t.entryId&&console.warn(`entryId property defined in legend entry ${t.layerId} cannot be mapped and will be skipped.`),e}function kF(t){const e=Q4(t);switch(e.id=t.id,e.url=t.url,t.refreshInterval&&(e.refreshInterval=t.refreshInterval,console.warn("Property refreshInterval in layer is currently not supported.")),t.expectedResponseTime&&(e.expectedLoadTime=t.expectedResponseTime),t.metadataUrl&&(e.metadata={url:t.metadataUrl}),t.catalogueUrl&&(e.catalogueUrl=t.catalogueUrl),typeof t.enableStructuredDelete<"u"&&console.warn(`enableStructuredDelete property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.tooltipField&&(e.tooltipField=t.tooltipField),t.tolerance&&(e.mouseTolerance=t.tolerance,t.layerType==="esriDynamic"&&(e.touchTolerance=t.tolerance+10)),t.customRenderer&&(e.customRenderer=t.customRenderer),t.layerType){case"esriDynamic":e.layerType="esri-map-image",typeof t.singleEntryCollapse<"u"&&(e.singleEntryCollapse=t.singleEntryCollapse),t.imageFormat&&(e.imageFormat=t.imageFormat),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const r=Q4(n);r.index=n.index,e.sublayers.push(r)}));break;case"esriFeature":e.layerType="esri-feature",t.fileType&&(e.layerType=t.fileType==="shapefile"?"file-shape":`file-${t.fileType}`,t.colour&&(e.colour=t.colour),t.latField&&(e.latField=t.latField),t.longField&&(e.longField=t.longField));break;case"ogcWfs":e.layerType="ogc-wfs",t.colour&&(e.colour=t.colour),typeof t.xyInAttribs<"u"&&(e.xyInAttribs=t.xyInAttribs);break;case"ogcWms":e.layerType="ogc-wms",t.suppressGetCapabilities&&console.warn(`suppressGetCapabilities property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.featureInfoMimeType&&(t.featureInfoMimeType==="text/html;fgpv=summary"?e.featureInfoMimeType="text/html":e.featureInfoMimeType=t.featureInfoMimeType),t.legendMimeType&&console.warn(`legendMimeType property provided in layer ${t.id} cannot be mapped and will be skipped.`),t.layerEntries&&(e.sublayers=[],t.layerEntries.forEach(n=>{const r=Q4(n);r.id=n.id,n.currentStyle&&(r.currentStyle=n.currentStyle,console.warn(`currentStyle property provided in layer entry ${n.id} of layer ${t.id} is currently not supported.`)),n.allStyles&&console.warn(`allStyles property provided in layer entry ${n.id} of layer ${t.id} cannot be mapped and will be skipped.`),e.sublayers.push(r)}));break;case"esriImage":e.layerType="esri-imagery";break;case"esriTile":e.layerType="esri-tile";break;default:console.warn(`Unhandled layer type in ramp 2 config ${t.layerType}`)}return t.details&&console.warn(`Details config provided in layer ${t.id} cannot be mapped and will be skipped.`),e}function Q4(t){const e={};t.name&&(e.name=t.name),t.nameField&&(e.nameField=t.nameField),t.extent&&(e.extent=t.extent);const n=["boundaryZoom","datatable","identify","metadata","opacity","refresh","reload","remove","settings","symbology","visibility"];return t.controls&&t.controls.length>0&&(e.controls=hd(t.controls,n),e.controls.push("symbology")),t.disabledControls&&t.disabledControls.length>0&&(e.disabledControls=hd(t.disabledControls,n)),t.state&&(e.state={opacity:t.state.opacity??1,visibility:t.state.visibility??!0,identify:t.state.query??!0,hovertips:t.state.hovertips??!0},typeof t.state.snapshot<"u"&&console.warn(`snapshot property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.state.boundingBox<"u"&&console.warn(`boundingBox property provided in initialLayer settings in layer ${t.id} cannot be mapped and will be skipped.`)),typeof t.stateOnly<"u"&&(e.cosmetic=t.stateOnly),t.initialFilteredQuery&&(e.initialFilteredQuery=t.initialFilteredQuery),b1t(t,e),(typeof t.toggleSymbology<"u"||t.table)&&(e.fixtures={},typeof t.toggleSymbology<"u"&&(e.fixtures.legend={toggleSymbology:t.toggleSymbology}),t.table&&(e.fixtures.grid={},t.table.title&&(e.fixtures.grid.title=t.table.title),t.table.description&&console.warn(`description property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.maximize<"u"&&console.warn(`maximize property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.search&&(t.table.search.enabled&&(e.fixtures.grid.search=t.table.search.enabled),t.table.search.value&&(e.fixtures.grid.searchFilter=t.table.search.value)),typeof t.table.lazyFilter<"u"&&console.warn(`lazyFilter property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.applyMap<"u"&&(e.fixtures.grid.applyMap=t.table.applyMap),typeof t.table.showFilter<"u"&&(e.fixtures.grid.showFilter=t.table.showFilter),typeof t.table.filterByExtent<"u"&&(e.fixtures.grid.filterByExtent=t.table.filterByExtent),typeof t.table.searchStrictMatch<"u"&&console.warn(`searchStrictMatch property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof t.table.printEnabled<"u"&&console.warn(`printEnabled property provided in table property in layer ${t.id} cannot be mapped and will be skipped.`),t.table.columns&&(e.fixtures.grid.columns=[],t.table.columns.forEach(r=>{const i={field:r.data};r.title&&(i.title=r.title),r.description&&console.warn(`description property provided in column property in table property in layer ${t.id} cannot be mapped and will be skipped.`),typeof r.visible<"u"&&(i.visible=r.visible),r.width&&(i.width=r.width),r.sort&&(i.sort=r.sort),typeof r.searchable<"u"&&(i.searchable=r.searchable),r.filter&&(i.filter=r.filter),e.fixtures.grid.columns.push(i)})))),e}function hd(t,e){const n=[];return t.forEach(r=>{e.includes("identify")&&r==="query"?n.push("identify"):e.includes("datatable")&&r==="data"?n.push("datatable"):e.includes(r)?n.push(r):console.warn(`Ignored invalid control: ${r}`)}),n}function y1t(t,e){t&&(t.search&&(e.fixtures.geosearch={},e.fixtures.geosearch.serviceUrls={geoNames:t.search.serviceUrls.geoNames,geoLocation:t.search.serviceUrls.geoLocation,geoProvince:t.search.serviceUrls.provinces,geoTypes:t.search.serviceUrls.types},t.search.serviceUrls.geoSuggest&&console.warn("geoSuggest property provided in serviceUrls of search service cannot be mapped and will be skipped."),t.search.settings&&(e.fixtures.geosearch.settings=t.search.settings),t.search.disabledSearches&&(e.fixtures.geosearch.settings.disabledSearchTypes=t.search.disabledSearches.filter(n=>n!=="SCALE"))),t.export&&(e.fixtures.export||(e.fixtures.export={},e.fixturesEnabled.push("export")),t.export.title&&(e.fixtures.export.title={selected:t.export.title.isSelected??!0,selectable:t.export.title.isSelectable??!0,value:t.export.title.value??"RAMP-Map / PCAR-Carte"}),t.export.map&&(e.fixtures.export.map={selected:t.export.map.isSelected??!0,selectable:t.export.map.isSelectable??!0},t.export.map.value&&console.warn("value property provided in map export component cannot be mapped and will be skipped.")),t.export.mapElements&&(e.fixtures.export.mapElements={selected:t.export.mapElements.isSelected??!0,selectable:t.export.mapElements.isSelectable??!0},t.export.mapElements.value&&console.warn("value property provided in mapElements export component cannot be mapped and will be skipped.")),t.export.legend&&(e.fixtures.export.legend={selected:t.export.legend.isSelected??!0,selectable:t.export.legend.isSelectable??!0},t.export.legend.columnWidth&&(e.fixtures.export.legend.columnWidth=t.export.legend.columnWidth),t.export.legend.value&&console.warn("value property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showInfoSymbology<"u"&&console.warn("showInfoSymbology property provided in legend export component cannot be mapped and will be skipped."),typeof t.export.legend.showControlledSymbology<"u"&&console.warn("showControlledSymbology property provided in legend export component cannot be mapped and will be skipped.")),t.export.footnote&&(e.fixtures.export.footnote={selected:t.export.footnote.isSelected??!0,selectable:t.export.footnote.isSelectable??!0,value:t.export.footnote.value??""}),t.export.timestamp&&(e.fixtures.export.timestamp={selected:t.export.timestamp.isSelected??!0,selectable:t.export.timestamp.isSelectable??!0},t.export.timestamp.value&&console.warn("value property provided in timestamp export component cannot be mapped and will be skipped.")),t.export.timeout&&console.warn("timeout property provided in export property of services config cannot be mapped and will be skipped."),typeof t.cleanCanvas<"u"&&console.warn("cleanCanvas property provided in export property of services config cannot be mapped and will be skipped.")),t.proxyUrl&&(e.system.proxyUrl=t.proxyUrl),["corsEverywhere","exportMapUrl","geometryUrl","googleAPIKey","esriLibUrl","geolocation","coordInfo","print"].forEach(n=>{typeof t[n]<"u"&&console.warn(`${n} property provided in services config cannot be mapped and will be skipped.`)}))}function g1t(t,e){if(t.navBar){e.fixtures.mapnav={zoomOption:t.navBar.zoom||"buttons",items:[]};const r=["geolocator","zoom","home","basemap","help","fullscreen","geosearch","legend"];t.navBar.extra.forEach(i=>{const s=i.toLowerCase();r.includes(s)?e.fixtures.mapnav.items.push(s):console.warn(`Ignored invalid mapnav item: ${i}`)}),e.fixturesEnabled.push("mapnav")}if(t.help&&(e.fixtures.help={location:t.help.folderName&&t.help.folderName!=="default"?`./${t.help.folderName}`:"./help",panelWidth:350},e.fixturesEnabled.push("help")),t.legend){const r=["groupToggle","visibilityToggle"];t.legend.reorderable&&r.push("layerReorder"),t.legend.allowImport&&r.push("wizard"),e.fixtures.legend?e.fixtures.legend.headerControls=r:(e.fixturesEnabled.push("legend"),e.fixtures.legend={headerControls:r,root:{}}),t.legend.isOpen&&t.legend.isOpen.large&&e.panels.open.push({id:"legend"})}e.fixtures.appbar={items:[]},e.fixturesEnabled.push("appbar");const n=["layers","basemap","export","help","geoSearch"];t.appBar?(t.appBar.layers!==!1&&(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")),t.appBar.geoSearch!==!1&&e.fixturesEnabled.includes("geosearch")&&e.fixtures.appbar.items.push("geosearch"),t.appBar.basemap!==!1&&e.fixtures.appbar.items.push("basemap")):(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend"),e.fixtures.appbar.items.push("geosearch"),e.fixtures.appbar.items.push("basemap")),t.sideMenu&&t.sideMenu.items&&t.sideMenu.items.length>0&&t.sideMenu.items.forEach(r=>{r.forEach(i=>{i==="layers"&&!e.fixtures.appbar.items.includes("legend")?(e.fixtures.appbar.items.push("legend"),e.fixturesEnabled.includes("legend")||e.fixturesEnabled.push("legend")):i!=="layers"&&n.includes(i)&&!e.fixtures.appbar.items.includes(i.toLowerCase())&&(e.fixtures.appbar.items.push(i.toLowerCase()),(i.toLowerCase()==="help"||i.toLowerCase()==="export"&&!e.fixturesEnabled.includes(i.toLowerCase()))&&e.fixturesEnabled.push(i.toLowerCase()))})}),t.tableIsOpen&&t.tableIsOpen.large,["fullscreen","theme","logoUrl","failureFeedback","title","restrictNavigation","about"].forEach(r=>{typeof t[r]<"u"&&console.warn(`${r} property provided in services config cannot be mapped and will be skipped.`)})}function v1t(t,e){t.areasOfInterest.enable&&(e.fixturesEnabled.includes("areas-of-interest")||e.fixturesEnabled.push("areas-of-interest"),t.areasOfInterest.areas&&(e.fixtures["areas-of-interest"]={areas:t.areasOfInterest.areas.map(n=>({title:`${n["title-en-CA"]} / ${n["title-fr-CA"]}`,thumbnail:n.thumbnailUrl,altText:n.altText??"",description:n.description??"",extent:{xmin:n.xmin,xmax:n.xmax,ymin:n.ymin,ymax:n.ymax,spatialReference:{wkid:n.wkid}}}))}))}function b1t(t,e){const n=t.outfields&&t.outfields!=="*";if(!n&&!t.fieldMetadata)return;const r={fieldInfo:[],exclusiveFields:!1,enforceOrder:!1};t.fieldMetadata?(r.fieldInfo=t.fieldMetadata.map(i=>{const s={name:i.data};return i.alias&&(s.alias=i.alias),s}),n&&(t.outfields.split(",").map(i=>i.trim()).forEach(i=>{r.fieldInfo.findIndex(s=>s.name===i)===-1&&r.fieldInfo.push({name:i})}),r.exclusiveFields=!0)):n&&(r.fieldInfo=t.outfields.split(",").map(i=>({name:i.trim()})),r.exclusiveFields=!0),e.fieldMetadata=r}var pd={major:"4",minor:"11",patch:"0-beta",timestamp:"Fri Jan 3 08:16:10 2025 -0500",hash:"af6b84702f3b4f053f3b76542ab4b8080aa9cbbb"};console.info(`RAMP v${pd.major}.${pd.minor}.${pd.patch} [${pd.hash.slice(0,9)}] (Built on ${new Date(pd.timestamp.toString()).toLocaleString()})`);const dd=pd;function _1t(t){return d1t(t)}function w1t(t){return kF(t)}const x1t=(t,e,n)=>new Eyt(t,e,n),$u=new Mrt;export{iO as $,it as A,qe as B,Md as C,th as D,eh as E,qb as F,X2 as G,Ee as H,Hs as I,aK as J,ze as K,$o as L,Kx as M,bM as N,K$ as O,vr as P,bB as Q,gB as R,SB as S,Hh as T,Xe as U,Ue as V,aB as W,Ri as X,rO as Y,xy as Z,Dq as _,t1 as a,Qg as a$,hh as a0,Ua as a1,xz as a2,Ci as a3,qR as a4,hlt as a5,ls as a6,vh as a7,aw as a8,zy as a9,kg as aA,Qu as aB,me as aC,Bn as aD,jR as aE,wE as aF,FR as aG,yn as aH,n_ as aI,lc as aJ,ka as aK,zI as aL,cc as aM,zr as aN,q2 as aO,gd as aP,qO as aQ,zt as aR,UA as aS,ah as aT,dM as aU,ac as aV,_F as aW,nJ as aX,Qs as aY,ut as aZ,vg as a_,lw as aa,ow as ab,Fx as ac,JX as ad,SW as ae,LI as af,jJ as ag,uC as ah,$J as ai,VJ as aj,SJ as ak,Nh as al,fg as am,ur as an,HA as ao,GJ as ap,vy as aq,KZ as ar,P5 as as,jt as at,Wr as au,ps as av,vG as aw,Ws as ax,bV as ay,$R as az,Cf as b,LW as b$,Wy as b0,yh as b1,CC as b2,Xw as b3,_J as b4,tX as b5,yC as b6,Fh as b7,Ph as b8,sJ as b9,z4 as bA,Yd as bB,AB as bC,vB as bD,iK as bE,hs as bF,di as bG,Wd as bH,ZM as bI,Zs as bJ,H4 as bK,Vw as bL,FJ as bM,UJ as bN,vZ as bO,SZ as bP,IZ as bQ,AZ as bR,TZ as bS,zh as bT,JO as bU,IA as bV,ZX as bW,fh as bX,BR as bY,zR as bZ,WR as b_,wJ as ba,bs as bb,mX as bc,jo as bd,Ez as be,Da as bf,sG as bg,SA as bh,V4 as bi,le as bj,$2 as bk,ne as bl,Mgt as bm,dF as bn,jy as bo,fZ as bp,kn as bq,W4 as br,mF as bs,eN as bt,Sgt as bu,H$ as bv,Tn as bw,sh as bx,oh as by,uh as bz,Qh as c,Fg as c$,Y2 as c0,L0 as c1,l2 as c2,FU as c3,m2 as c4,y2 as c5,JM as c6,D_ as c7,j_ as c8,nz as c9,jd as cA,Lg as cB,x$ as cC,xM as cD,dc as cE,Sy as cF,E$ as cG,eH as cH,BU as cI,Hd as cJ,LA as cK,S$ as cL,S2 as cM,Ga as cN,_c as cO,sw as cP,Fy as cQ,ja as cR,_0 as cS,jW as cT,$4 as cU,AO as cV,ec as cW,UU as cX,Q$ as cY,fJ as cZ,$q as c_,Gd as ca,$d as cb,Ku as cc,k_ as cd,TJ as ce,Fq as cf,Ud as cg,pC as ch,qJ as ci,hC as cj,zJ as ck,R_ as cl,ZU as cm,x2 as cn,h2 as co,d2 as cp,f2 as cq,eG as cr,Ay as cs,V_ as ct,jc as cu,vc as cv,Ny as cw,We as cx,Oy as cy,Ry as cz,kq as d,Me as d$,UW as d0,UX as d1,XX as d2,mR as d3,yR as d4,oK as d5,bd as d6,tG as d7,hK as d8,cK as d9,Ey as dA,uR as dB,hB as dC,uq as dD,oy as dE,Kc as dF,MW as dG,PW as dH,AW as dI,Q_ as dJ,jG as dK,q$ as dL,$G as dM,GG as dN,Lj as dO,Mt as dP,sn as dQ,ws as dR,z0 as dS,VV as dT,UV as dU,re as dV,nn as dW,Zl as dX,kj as dY,ee as dZ,xn as d_,BJ as da,sF as db,B4 as dc,zX as dd,eq as de,sB as df,NB as dg,Az as dh,J$ as di,uy as dj,l_ as dk,yx as dl,ir as dm,$i as dn,Zc as dp,Es as dq,fl as dr,VU as ds,M2 as dt,Sd as du,Gg as dv,If as dw,Yh as dx,ki as dy,cR as dz,_R as e,Hb as e$,Ie as e0,pt as e1,Be as e2,wn as e3,lt as e4,wt as e5,la as e6,un as e7,Ve as e8,It as e9,HC as eA,pc as eB,EM as eC,Vo as eD,bc as eE,zd as eF,Bd as eG,WW as eH,ch as eI,JU as eJ,Bz as eK,QB as eL,HM as eM,YM as eN,YU as eO,Sz as eP,WM as eQ,$U as eR,lW as eS,E_ as eT,lG as eU,oF as eV,xF as eW,Egt as eX,Z4 as eY,Lh as eZ,W$ as e_,Le as ea,Fn as eb,tt as ec,vm as ed,Ym as ee,Ip as ef,Yn as eg,Kn as eh,Yi as ei,Ns as ej,Ye as ek,qt as el,J1 as em,XO as en,Oi as eo,Y$ as ep,tN as eq,DJ as er,C2 as es,Jq as et,jq as eu,ZZ as ev,kG as ew,Bq as ex,Hr as ey,Rq as ez,gt as f,FC as f$,J0 as f0,G2 as f1,AM as f2,_y as f3,TW as f4,iy as f5,Z2 as f6,LC as f7,IB as f8,AA as f9,uM as fA,Ca as fB,cG as fC,ZI as fD,Ra as fE,el as fF,A$ as fG,Ld as fH,rh as fI,zU as fJ,qM as fK,tz as fL,yc as fM,Ke as fN,Xq as fO,Kq as fP,AK as fQ,CE as fR,gK as fS,vF as fT,G0 as fU,Ogt as fV,Gf as fW,np as fX,Cd as fY,WC as fZ,XM as f_,WI as fa,YC as fb,ZC as fc,JC as fd,UC as fe,eJ as ff,Vq as fg,Uq as fh,bG as fi,ZO as fj,Rj as fk,_n as fl,Hm as fm,Wj as fn,$v as fo,Hj as fp,g_ as fq,zx as fr,fc as fs,dG as ft,LZ as fu,aH as fv,v2 as fw,R$ as fx,oM as fy,lM as fz,Ni as g,eV as g$,zj as g0,Rm as g1,Eo as g2,xgt as g3,Uy as g4,yz as g5,gz as g6,vz as g7,bz as g8,_z as g9,Rp as gA,_v as gB,In as gC,b0 as gD,$f as gE,Xj as gF,P1 as gG,Zi as gH,Im as gI,y3 as gJ,gR as gK,Kg as gL,PC as gM,i2 as gN,jU as gO,yA as gP,DU as gQ,gA as gR,CW as gS,kW as gT,z2 as gU,Y_ as gV,vO as gW,jg as gX,GX as gY,FX as gZ,tV as g_,wz as ga,DG as gb,EG as gc,h_ as gd,PE as ge,LE as gf,kE as gg,_d as gh,cw as gi,T$ as gj,nT as gk,Fu as gl,$j as gm,Vj as gn,P4 as go,xa as gp,L4 as gq,Wb as gr,Ct as gs,Yj as gt,jr as gu,jn as gv,zs as gw,Mi as gx,Aa as gy,ta as gz,nG as h,EC as h$,oz as h0,UM as h1,JB as h2,FM as h3,Cm as h4,Np as h5,pe as h6,W2 as h7,K2 as h8,P0 as h9,uG as hA,_M as hB,qj as hC,Zj as hD,De as hE,md as hF,Xb as hG,hr as hH,Vt as hI,DC as hJ,Yq as hK,OA as hL,YX as hM,$l as hN,Q1 as hO,rw as hP,mW as hQ,Od as hR,jx as hS,s_ as hT,fV as hU,dV as hV,KI as hW,qI as hX,oG as hY,CA as hZ,OW as h_,D0 as ha,C as hb,sz as hc,cB as hd,pM as he,Dd as hf,OB as hg,rF as hh,EF as hi,iF as hj,Jj as hk,q_ as hl,vd as hm,yO as hn,_O as ho,H_ as hp,Hz as hq,OO as hr,MO as hs,uW as ht,RW as hu,_K as hv,wK as hw,bK as hx,hG as hy,pG as hz,Hg as i,bA as i$,rJ as i0,Z$ as i1,Na as i2,bZ as i3,SG as i4,p2 as i5,rB as i6,L_ as i7,u_ as i8,Vx as i9,m_ as iA,Sx as iB,_$ as iC,KB as iD,Iu as iE,Wi as iF,v7 as iG,js as iH,cu as iI,Nn as iJ,w7 as iK,Oj as iL,Xt as iM,LX as iN,kX as iO,rR as iP,jX as iQ,PX as iR,iR as iS,CI as iT,ev as iU,K1 as iV,cr as iW,zq as iX,Wq as iY,Hq as iZ,gX as i_,LB as ia,XU as ib,fr as ic,mn as id,Gt as ie,Rs as ig,Vb as ih,k4 as ii,iS as ij,Bj as ik,tc as il,Je as im,GU as io,lX as ip,pB as iq,J2 as ir,ln as is,XI as it,Uo as iu,JZ as iv,il as iw,YA as ix,cf as iy,IM as iz,yg as j,EO as j$,kgt as j0,to as j1,tC as j2,cV as j3,dy as j4,Fo as j5,cy as j6,lH as j7,sW as j8,TK as j9,i_ as jA,fC as jB,Lz as jC,Pz as jD,Dz as jE,ZA as jF,oV as jG,EB as jH,cF as jI,wgt as jJ,F_ as jK,a2 as jL,OZ as jM,QU as jN,gC as jO,mC as jP,Gh as jQ,$h as jR,_G as jS,Og as jT,IC as jU,MC as jV,xO as jW,cW as jX,FW as jY,GO as jZ,yW as j_,qq as ja,GA as jb,dl as jc,Qq as jd,Qc as je,Vy as jf,Ju as jg,Igt as jh,xJ as ji,aJ as jj,hJ as jk,cJ as jl,pJ as jm,KJ as jn,_2 as jo,iJ as jp,yu as jq,_i as jr,vv as js,Ma as jt,x0 as ju,Bs as jv,li as jw,bn as jx,ux as jy,pV as jz,v as k,wW as k0,lq as k1,Af as k2,IW as k3,OM as k4,WX as k5,HX as k6,ky as k7,CZ as k8,U_ as k9,aW as kA,fO as kB,RO as kC,kO as kD,U2 as kE,iG as kF,vX as kG,KU as kH,xA as kI,qU as kJ,BX as kK,VX as kL,NW as kM,qX as kN,dd as kO,_1t as kP,w1t as kQ,x1t as kR,$u as kS,sO as ka,pW as kb,IO as kc,Tz as kd,Nz as ke,nO as kf,fz as kg,mz as kh,JI as ki,yX as kj,B_ as kk,Iz as kl,fW as km,vK as kn,bX as ko,UI as kp,SV as kq,CV as kr,X$ as ks,nK as kt,rK as ku,mV as kv,VI as kw,Vg as kx,_gt as ky,hO as kz,NZ as l,jE as m,Re as n,S as o,Wh as p,Pe as q,w2 as r,ae as s,U0 as t,gn as u,Kt as v,sK as w,OE as x,TI as y,qu as z};
