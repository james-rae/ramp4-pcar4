import{bb as u,bc as l,aP as m}from"./main-CvsyIoCL.js";import{_ as p}from"./vec42-D8CJyqHG.js";import{n as h}from"./vec4f64-hf2nxvhQ.js";const s=2.4;function y(t){return u(t*s)}function b(t){return l(t)/s}function g(t,r,i,a){let{color:e,ratio:c}=r,{color:o,ratio:n}=i;n===c&&(n===1?c-=1e-6:n+=1e-6);const f=m((a-c)/(n-c),0,1);p(t,e.toArray(),o.toArray(),f)}function x(t){const r=new Uint8ClampedArray(2048);if(t=t.filter(({ratio:o})=>o>=0&&o<=1).sort((o,n)=>o.ratio-n.ratio).map(({color:o,ratio:n})=>({color:o,ratio:Math.max(n,.001)})),t.length<1)return r;let i=t[0],a=t[0],e=1;const c=h();for(let o=0;o<512;o++){const n=(o+.5)/512;for(;n>a.ratio&&e<t.length;)i=a,a=t[e++];g(c,i,a,n),r.set(c,4*o)}return r}function A(t,r,i){const a=Math.sqrt(t**2+r**2)/i;return a>1?0:3/(Math.PI*i**2)*(1-a**2)**2}function M(t){return typeof t=="function"?t:t?r=>+r[t]:()=>1}export{b as a,s as c,y as e,x as f,A as l,M as u};
