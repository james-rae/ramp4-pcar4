import{fy as b,fz as w,ar as F,fR as x,fT as C,fC as W,fE as p,e9 as s,fH as f,fW as j,fD as q,fG as n,fX as i,e8 as c,fJ as A,fI as D,fV as H,fM as J,fF as M,fS as S,fK as d}from"./main-BWKyCm7Q.js";import{k as T}from"./keyboard-O-FN7ZtD.js";const V=["content"],z=b({__name:"screen",props:{panel:{type:Object,required:!0}},setup(m){const v=i(()=>import("./header-DV6Qyamx.js")),g=i(()=>import("./item-sPOIDBwa.js")),{t:r}=w(),y=S("iApi"),e=F(),l=()=>{e.value._tippy.hide()},o=t=>{T(t,e.value)&&e.value._tippy.show()},h=t=>{const a=new CustomEvent("switchFocusItem",{detail:{focusItem:t}});e.value?.dispatchEvent(a)};x(()=>{e.value?.addEventListener("blur",l),e.value?.addEventListener("keyup",o)}),C(()=>{e.value?.removeEventListener("blur",l),e.value?.removeEventListener("keyup",o)});const E=W(()=>{const t=y.fixture.get("legend");return t?[...t.getLegend()]:[]});return(t,a)=>{const I=M("panel-screen"),_=d("focus-list"),k=d("tippy");return s(),p(I,{panel:m.panel},{header:f(()=>[H(J(n(r)("legend.title")),1)]),content:f(()=>[j(n(v)),q((s(),c("div",{content:n(r)("panels.controls.items"),ref_key:"el",ref:e},[(s(!0),c(A,null,D(E.value,u=>(s(),p(n(g),{legendItem:u,key:u.uid,onFocusItem:a[0]||(a[0]=(L,B)=>h(L))},null,8,["legendItem"]))),128))],8,V)),[[_],[k,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])]),_:1},8,["panel"])}}});export{z as default};
